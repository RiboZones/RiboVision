!function(a,k){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?k(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return k(a)}:k(a)}("undefined"!=typeof window?window:this,function(a,k){function e(b){var a=b.length,c=m.type(b);return"function"===c||m.isWindow(b)?!1:1===b.nodeType&&a?!0:"array"===c||0===a||"number"==typeof a&&0<a&&a-1 in b}function f(b,a,c){if(m.isFunction(a))return m.grep(b,function(b,g){return!!a.call(b,g,
b)!==c});if(a.nodeType)return m.grep(b,function(b){return b===a!==c});if("string"==typeof a){if(Va.test(a))return m.filter(a,b,c);a=m.filter(a,b)}return m.grep(b,function(b){return 0<=da.call(a,b)!==c})}function d(b,a){for(;(b=b[a])&&1!==b.nodeType;);return b}function h(b){var a=cc[b]={};return m.each(b.match(ma)||[],function(b,c){a[c]=!0}),a}function b(){M.removeEventListener("DOMContentLoaded",b,!1);a.removeEventListener("load",b,!1);m.ready()}function c(){Object.defineProperty(this.cache={},0,
{get:function(){return{}}});this.expando=m.expando+Math.random()}function g(b,a,c){var g;if(void 0===c&&1===b.nodeType)if(g="data-"+a.replace(cd,"-$1").toLowerCase(),c=b.getAttribute(g),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:ed.test(c)?m.parseJSON(c):c}catch(d){}ia.set(b,a,c)}else c=void 0;return c}function l(){return!0}function p(){return!1}function v(){try{return M.activeElement}catch(b){}}function q(b,a){return m.nodeName(b,"table")&&m.nodeName(11!==
a.nodeType?a:a.firstChild,"tr")?b.getElementsByTagName("tbody")[0]||b.appendChild(b.ownerDocument.createElement("tbody")):b}function r(b){return b.type=(null!==b.getAttribute("type"))+"/"+b.type,b}function s(b){var a=Fa.exec(b.type);return a?b.type=a[1]:b.removeAttribute("type"),b}function u(b,a){for(var c=0,g=b.length;g>c;c++)F.set(b[c],"globalEval",!a||F.get(a[c],"globalEval"))}function w(b,a){var c,g,d,e,h,l;if(1===a.nodeType){if(F.hasData(b)&&(c=F.access(b),g=F.set(a,c),l=c.events))for(d in delete g.handle,
g.events={},l)for(c=0,g=l[d].length;g>c;c++)m.event.add(a,d,l[d][c]);ia.hasData(b)&&(e=ia.access(b),h=m.extend({},e),ia.set(a,h))}}function x(b,a){var c=b.getElementsByTagName?b.getElementsByTagName(a||"*"):b.querySelectorAll?b.querySelectorAll(a||"*"):[];return void 0===a||a&&m.nodeName(b,a)?m.merge([b],c):c}function y(b,c){var g,d=m(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle&&(g=a.getDefaultComputedStyle(d[0]))?g.display:m.css(d[0],"display");return d.detach(),e}function B(b){var a=
M,c=ta[b];return c||(c=y(b,a),"none"!==c&&c||(dc=(dc||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(a.documentElement),a=dc[0].contentDocument,a.write(),a.close(),c=y(b,a),dc.detach()),ta[b]=c),c}function A(b,a,c){var g,d,e,h,l=b.style;return c=c||ec(b),c&&(h=c.getPropertyValue(a)||c[a]),c&&(""!==h||m.contains(b.ownerDocument,b)||(h=m.style(b,a)),rb.test(h)&&Kb.test(a)&&(g=l.width,d=l.minWidth,e=l.maxWidth,l.minWidth=l.maxWidth=l.width=h,h=c.width,l.width=g,l.minWidth=d,l.maxWidth=
e)),void 0!==h?h+"":h}function z(b,a){return{get:function(){return b()?void delete this.get:(this.get=a).apply(this,arguments)}}}function Y(b,a){if(a in b)return a;for(var c=a[0].toUpperCase()+a.slice(1),g=a,d=fd.length;d--;)if(a=fd[d]+c,a in b)return a;return g}function ba(b,a,c){return(b=fe.exec(a))?Math.max(0,b[1]-(c||0))+(b[2]||"px"):a}function W(b,a,c,g,d){a=c===(g?"border":"content")?4:"width"===a?1:0;for(var e=0;4>a;a+=2)"margin"===c&&(e+=m.css(b,c+Qa[a],!0,d)),g?("content"===c&&(e-=m.css(b,
"padding"+Qa[a],!0,d)),"margin"!==c&&(e-=m.css(b,"border"+Qa[a]+"Width",!0,d))):(e+=m.css(b,"padding"+Qa[a],!0,d),"padding"!==c&&(e+=m.css(b,"border"+Qa[a]+"Width",!0,d)));return e}function ea(b,a,c){var g=!0,d="width"===a?b.offsetWidth:b.offsetHeight,e=ec(b),h="border-box"===m.css(b,"boxSizing",!1,e);if(0>=d||null==d){if(d=A(b,a,e),(0>d||null==d)&&(d=b.style[a]),rb.test(d))return d;g=h&&(T.boxSizingReliable()||d===b.style[a]);d=parseFloat(d)||0}return d+W(b,a,c||(h?"border":"content"),g,e)+"px"}
function N(b,a){for(var c,g,d,e=[],h=0,l=b.length;l>h;h++)g=b[h],g.style&&(e[h]=F.get(g,"olddisplay"),c=g.style.display,a?(e[h]||"none"!==c||(g.style.display=""),""===g.style.display&&Za(g)&&(e[h]=F.access(g,"olddisplay",B(g.nodeName)))):(d=Za(g),"none"===c&&d||F.set(g,"olddisplay",d?c:m.css(g,"display"))));for(h=0;l>h;h++)g=b[h],g.style&&(a&&"none"!==g.style.display&&""!==g.style.display||(g.style.display=a?e[h]||"":"none"));return b}function P(b,a,c,g,d){return new P.prototype.init(b,a,c,g,d)}function Q(){return setTimeout(function(){$a=
void 0}),$a=m.now()}function fa(b,a){var c,g=0,d={height:b};for(a=a?1:0;4>g;g+=2-a)c=Qa[g],d["margin"+c]=d["padding"+c]=b;return a&&(d.opacity=d.width=b),d}function na(b,a,c){for(var g,d=(Lb[a]||[]).concat(Lb["*"]),e=0,h=d.length;h>e;e++)if(g=d[e].call(c,a,b))return g}function ya(b,a){var c,g,d,e,h;for(c in b)if(g=m.camelCase(c),d=a[g],e=b[c],m.isArray(e)&&(d=e[1],e=b[c]=e[0]),c!==g&&(b[g]=e,delete b[c]),h=m.cssHooks[g],h&&"expand"in h)for(c in e=h.expand(e),delete b[g],e)c in b||(b[c]=e[c],a[c]=
d);else a[g]=d}function ra(b,a,c){var g,d=0,e=fc.length,h=m.Deferred().always(function(){delete l.elem}),l=function(){if(g)return!1;for(var a=$a||Q(),a=Math.max(0,f.startTime+f.duration-a),c=1-(a/f.duration||0),d=0,e=f.tweens.length;e>d;d++)f.tweens[d].run(c);return h.notifyWith(b,[f,c,a]),1>c&&e?a:(h.resolveWith(b,[f]),!1)},f=h.promise({elem:b,props:m.extend({},a),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:a,originalOptions:c,startTime:$a||Q(),duration:c.duration,tweens:[],createTween:function(a,
c){var g=m.Tween(b,f.opts,a,c,f.opts.specialEasing[a]||f.opts.easing);return f.tweens.push(g),g},stop:function(a){var c=0,d=a?f.tweens.length:0;if(g)return this;for(g=!0;d>c;c++)f.tweens[c].run(1);return a?h.resolveWith(b,[f,a]):h.rejectWith(b,[f,a]),this}});c=f.props;for(ya(c,f.opts.specialEasing);e>d;d++)if(a=fc[d].call(f,b,c,f.opts))return a;return m.map(c,na,f),m.isFunction(f.opts.start)&&f.opts.start.call(b,f),m.fx.timer(m.extend(l,{elem:b,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,
f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Ga(b){return function(a,c){"string"!=typeof a&&(c=a,a="*");var g,d=0,e=a.toLowerCase().match(ma)||[];if(m.isFunction(c))for(;g=e[d++];)"+"===g[0]?(g=g.slice(1)||"*",(b[g]=b[g]||[]).unshift(c)):(b[g]=b[g]||[]).push(c)}}function Ca(b,a,c,g){function d(l){var f;return e[l]=!0,m.each(b[l]||[],function(b,l){var p=l(a,c,g);return"string"!=typeof p||h||e[p]?h?!(f=p):void 0:(a.dataTypes.unshift(p),d(p),!1)}),f}var e={},h=b===Mb;return d(a.dataTypes[0])||
!e["*"]&&d("*")}function H(b,a){var c,g,d=m.ajaxSettings.flatOptions||{};for(c in a)void 0!==a[c]&&((d[c]?b:g||(g={}))[c]=a[c]);return g&&m.extend(!0,b,g),b}function ja(b,a,c,g){var d;if(m.isArray(a))m.each(a,function(a,d){c||ge.test(b)?g(b,d):ja(b+"["+("object"==typeof d?a:"")+"]",d,c,g)});else if(c||"object"!==m.type(a))g(b,a);else for(d in a)ja(b+"["+d+"]",a[d],c,g)}function R(b){return m.isWindow(b)?b:9===b.nodeType&&b.defaultView}var va=[],ua=va.slice,oa=va.concat,Ka=va.push,da=va.indexOf,gc=
{},Bc=gc.toString,hc=gc.hasOwnProperty,T={},M=a.document,m=function(b,a){return new m.fn.init(b,a)},xb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,yb=/^-ms-/,Cc=/-([\da-z])/gi,Dc=function(b,a){return a.toUpperCase()};m.fn=m.prototype={jquery:"2.1.1",constructor:m,selector:"",length:0,toArray:function(){return ua.call(this)},get:function(b){return null!=b?0>b?this[b+this.length]:this[b]:ua.call(this)},pushStack:function(b){b=m.merge(this.constructor(),b);return b.prevObject=this,b.context=this.context,b},
each:function(b,a){return m.each(this,b,a)},map:function(b){return this.pushStack(m.map(this,function(a,c){return b.call(a,c,a)}))},slice:function(){return this.pushStack(ua.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b){var a=this.length;b=+b+(0>b?a:0);return this.pushStack(0<=b&&a>b?[this[b]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Ka,sort:va.sort,splice:va.splice};m.extend=m.fn.extend=function(){var b,
a,c,g,d,e,h=arguments[0]||{},l=1,f=arguments.length,p=!1;"boolean"==typeof h&&(p=h,h=arguments[l]||{},l++);"object"==typeof h||m.isFunction(h)||(h={});for(l===f&&(h=this,l--);f>l;l++)if(null!=(b=arguments[l]))for(a in b)c=h[a],g=b[a],h!==g&&(p&&g&&(m.isPlainObject(g)||(d=m.isArray(g)))?(d?(d=!1,e=c&&m.isArray(c)?c:[]):e=c&&m.isPlainObject(c)?c:{},h[a]=m.extend(p,e,g)):void 0!==g&&(h[a]=g));return h};m.extend({expando:"jQuery"+("2.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(b){throw Error(b);
},noop:function(){},isFunction:function(b){return"function"===m.type(b)},isArray:Array.isArray,isWindow:function(b){return null!=b&&b===b.window},isNumeric:function(b){return!m.isArray(b)&&0<=b-parseFloat(b)},isPlainObject:function(b){return"object"!==m.type(b)||b.nodeType||m.isWindow(b)?!1:b.constructor&&!hc.call(b.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(b){for(var a in b)return!1;return!0},type:function(b){return null==b?b+"":"object"==typeof b||"function"==typeof b?
gc[Bc.call(b)]||"object":typeof b},globalEval:function(b){var a,c=eval;(b=m.trim(b))&&(1===b.indexOf("use strict")?(a=M.createElement("script"),a.text=b,M.head.appendChild(a).parentNode.removeChild(a)):c(b))},camelCase:function(b){return b.replace(yb,"ms-").replace(Cc,Dc)},nodeName:function(b,a){return b.nodeName&&b.nodeName.toLowerCase()===a.toLowerCase()},each:function(b,a,c){var g,d=0,h=b.length,l=e(b);if(c)if(l)for(;h>d&&(g=a.apply(b[d],c),!1!==g);d++);else for(d in b){if(g=a.apply(b[d],c),!1===
g)break}else if(l)for(;h>d&&(g=a.call(b[d],d,b[d]),!1!==g);d++);else for(d in b)if(g=a.call(b[d],d,b[d]),!1===g)break;return b},trim:function(b){return null==b?"":(b+"").replace(xb,"")},makeArray:function(b,a){var c=a||[];return null!=b&&(e(Object(b))?m.merge(c,"string"==typeof b?[b]:b):Ka.call(c,b)),c},inArray:function(b,a,c){return null==a?-1:da.call(a,b,c)},merge:function(b,a){for(var c=+a.length,g=0,d=b.length;c>g;g++)b[d++]=a[g];return b.length=d,b},grep:function(b,a,c){for(var g=[],d=0,e=b.length,
h=!c;e>d;d++)c=!a(b[d],d),c!==h&&g.push(b[d]);return g},map:function(b,a,c){var g,d=0,h=b.length,l=[];if(e(b))for(;h>d;d++)g=a(b[d],d,c),null!=g&&l.push(g);else for(d in b)g=a(b[d],d,c),null!=g&&l.push(g);return oa.apply([],l)},guid:1,proxy:function(b,a){var c,g,d;return"string"==typeof a&&(c=b[a],a=b,b=c),m.isFunction(b)?(g=ua.call(arguments,2),d=function(){return b.apply(a||this,g.concat(ua.call(arguments)))},d.guid=b.guid=b.guid||m.guid++,d):void 0},now:Date.now,support:T});m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(b,a){gc["[object "+a+"]"]=a.toLowerCase()});var Ia=function(b){function a(b,c,g,d){var e,h,l,f,p;if((c?c.ownerDocument||c:na)!==H&&F(c),c=c||H,g=g||[],!b||"string"!=typeof b)return g;if(1!==(f=c.nodeType)&&9!==f)return[];if(R&&!d){if(e=hb.exec(b))if(l=e[1])if(9===f){if(h=c.getElementById(l),!h||!h.parentNode)return g;if(h.id===l)return g.push(h),g}else{if(c.ownerDocument&&(h=c.ownerDocument.getElementById(l))&&da(c,h)&&h.id===l)return g.push(h),g}else{if(e[2])return ya.apply(g,c.getElementsByTagName(b)),
g;if((l=e[3])&&B.getElementsByClassName&&c.getElementsByClassName)return ya.apply(g,c.getElementsByClassName(l)),g}if(B.qsa&&(!fa||!fa.test(b))){if(h=e=pa,l=c,p=9===f&&b,1===f&&"object"!==c.nodeName.toLowerCase()){f=N(b);(e=c.getAttribute("id"))?h=e.replace(ab,"\\$&"):c.setAttribute("id",h);h="[id='"+h+"'] ";for(l=f.length;l--;)f[l]=h+v(f[l]);l=Va.test(b)&&q(c.parentNode)||c;p=f.join(",")}if(p)try{return ya.apply(g,l.querySelectorAll(p)),g}catch(k){}finally{e||c.removeAttribute("id")}}}return ba(b.replace(Fa,
"$1"),c,g,d)}function c(){function b(c,g){return a.push(c+" ")>A.cacheLength&&delete b[a.shift()],b[c+" "]=g}var a=[];return b}function g(b){return b[pa]=!0,b}function d(b){var a=H.createElement("div");try{return!!b(a)}catch(c){return!1}finally{a.parentNode&&a.parentNode.removeChild(a)}}function e(b,a){for(var c=b.split("|"),g=b.length;g--;)A.attrHandle[c[g]]=a}function h(b,a){var c=a&&b,g=c&&1===b.nodeType&&1===a.nodeType&&(~a.sourceIndex||qa)-(~b.sourceIndex||qa);if(g)return g;if(c)for(;c=c.nextSibling;)if(c===
a)return-1;return b?1:-1}function l(b){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===b}}function f(b){return function(a){var c=a.nodeName.toLowerCase();return("input"===c||"button"===c)&&a.type===b}}function p(b){return g(function(a){return a=+a,g(function(c,g){for(var d,e=b([],c.length,a),h=e.length;h--;)c[d=e[h]]&&(c[d]=!(g[d]=c[d]))})})}function q(b){return b&&typeof b.getElementsByTagName!==va&&b}function k(){}function v(b){for(var a=0,c=b.length,g="";c>a;a++)g+=b[a].value;
return g}function r(b,a,c){var g=a.dir,d=c&&"parentNode"===g,e=ia++;return a.first?function(a,c,e){for(;a=a[g];)if(1===a.nodeType||d)return b(a,c,e)}:function(a,c,h){var l,f,p=[Na,e];if(h)for(;a=a[g];){if((1===a.nodeType||d)&&b(a,c,h))return!0}else for(;a=a[g];)if(1===a.nodeType||d){if(f=a[pa]||(a[pa]={}),(l=f[g])&&l[0]===Na&&l[1]===e)return p[2]=l[2];if(f[g]=p,p[2]=b(a,c,h))return!0}}}function s(b){return 1<b.length?function(a,c,g){for(var d=b.length;d--;)if(!b[d](a,c,g))return!1;return!0}:b[0]}
function u(b,a,c,g,d){for(var e,h=[],l=0,f=b.length,p=null!=a;f>l;l++)(e=b[l])&&(!c||c(e,g,d))&&(h.push(e),p&&a.push(l));return h}function w(b,c,d,e,h,l){return e&&!e[pa]&&(e=w(e)),h&&!h[pa]&&(h=w(h,l)),g(function(g,l,f,p){var q,k,v=[],r=[],aa=l.length,s;if(!(s=g)){s=c||"*";for(var w=f.nodeType?[f]:f,m=[],ha=0,Ib=w.length;Ib>ha;ha++)a(s,w[ha],m);s=m}s=!b||!g&&c?s:u(s,v,b,f,p);w=d?h||(g?b:aa||e)?[]:l:s;if(d&&d(s,w,f,p),e)for(q=u(w,r),e(q,[],f,p),f=q.length;f--;)(k=q[f])&&(w[r[f]]=!(s[r[f]]=k));if(g){if(h||
b){if(h){q=[];for(f=w.length;f--;)(k=w[f])&&q.push(s[f]=k);h(null,w=[],q,p)}for(f=w.length;f--;)(k=w[f])&&-1<(q=h?ma.call(g,k):v[f])&&(g[q]=!(l[q]=k))}}else w=u(w===l?w.splice(aa,w.length):w),h?h(null,l,w,p):ya.apply(l,w)})}function m(b){var a,c,g,d=b.length,e=A.relative[b[0].type];c=e||A.relative[" "];for(var h=e?1:0,l=r(function(b){return b===a},c,!0),f=r(function(b){return-1<ma.call(a,b)},c,!0),p=[function(b,c,g){return!e&&(g||c!==W)||((a=c).nodeType?l(b,c,g):f(b,c,g))}];d>h;h++)if(c=A.relative[b[h].type])p=
[r(s(p),c)];else{if(c=A.filter[b[h].type].apply(null,b[h].matches),c[pa]){for(g=++h;d>g&&!A.relative[b[g].type];g++);return w(1<h&&s(p),1<h&&v(b.slice(0,h-1).concat({value:" "===b[h-2].type?"*":""})).replace(Fa,"$1"),c,g>h&&m(b.slice(h,g)),d>g&&m(b=b.slice(g)),d>g&&v(b))}p.push(c)}return s(p)}function x(b,c){var d=0<c.length,e=0<b.length,h=function(g,h,l,f,p){var q,k,v,r=0,aa="0",s=g&&[],w=[],m=W,ha=g||e&&A.find.TAG("*",p),Ib=Na+=null==m?1:Math.random()||.1,x=ha.length;for(p&&(W=h!==H&&h);aa!==x&&
null!=(q=ha[aa]);aa++){if(e&&q){for(k=0;v=b[k++];)if(v(q,h,l)){f.push(q);break}p&&(Na=Ib)}d&&((q=!v&&q)&&r--,g&&s.push(q))}if(r+=aa,d&&aa!==r){for(k=0;v=c[k++];)v(s,w,h,l);if(g){if(0<r)for(;aa--;)s[aa]||w[aa]||(w[aa]=Ka.call(f));w=u(w)}ya.apply(f,w);p&&!g&&0<w.length&&1<r+c.length&&a.uniqueSort(f)}return p&&(Na=Ib,W=m),s};return d?g(h):h}var y,B,A,z,Y,N,ea,ba,W,P,Q,F,H,M,R,fa,T,X,da,pa="sizzle"+-new Date,na=b.document,Na=0,ia=0,ja=c(),ra=c(),ua=c(),ka=function(b,a){return b===a&&(Q=!0),0},va="undefined",
qa=-2147483648,ta={}.hasOwnProperty,oa=[],Ka=oa.pop,wa=oa.push,ya=oa.push,xa=oa.slice,ma=oa.indexOf||function(b){for(var a=0,c=this.length;c>a;a++)if(this[a]===b)return a;return-1},Ca="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Ia="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Ca+"))|)[\\x20\\t\\r\\n\\f]*\\]",Ga=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
Ia+")*)|.*)\\)|)",Fa=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),Qa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Za=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,$a=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),db=new RegExp(Ga),eb=new RegExp("^"+Ca+"$"),Oa={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+Ia),
PSEUDO:new RegExp("^"+Ga),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},fb=/^(?:input|select|textarea|button)$/i,gb=/^h\d$/i,bb=/^[^{]+\{\s*\[native \w/,hb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Va=/[+~]/,ab=/'|\\/g,cb=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),Ha=function(b,a,c){b="0x"+a-65536;return b!==b||c?a:0>b?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,1023&b|56320)};try{ya.apply(oa=xa.call(na.childNodes),na.childNodes),oa[na.childNodes.length].nodeType}catch(rb){ya={apply:oa.length?function(b,a){wa.apply(b,
xa.call(a))}:function(b,a){for(var c=b.length,g=0;b[c++]=a[g++];);b.length=c-1}}}B=a.support={};Y=a.isXML=function(b){return(b=b&&(b.ownerDocument||b).documentElement)?"HTML"!==b.nodeName:!1};F=a.setDocument=function(b){var a,c=b?b.ownerDocument||b:na;b=c.defaultView;return c!==H&&9===c.nodeType&&c.documentElement?(H=c,M=c.documentElement,R=!Y(c),b&&b!==b.top&&(b.addEventListener?b.addEventListener("unload",function(){F()},!1):b.attachEvent&&b.attachEvent("onunload",function(){F()})),B.attributes=
d(function(b){return b.className="i",!b.getAttribute("className")}),B.getElementsByTagName=d(function(b){return b.appendChild(c.createComment("")),!b.getElementsByTagName("*").length}),B.getElementsByClassName=bb.test(c.getElementsByClassName)&&d(function(b){return b.innerHTML="<div class='a'></div><div class='a i'></div>",b.firstChild.className="i",2===b.getElementsByClassName("i").length}),B.getById=d(function(b){return M.appendChild(b).id=pa,!c.getElementsByName||!c.getElementsByName(pa).length}),
B.getById?(A.find.ID=function(b,a){if(typeof a.getElementById!==va&&R){var c=a.getElementById(b);return c&&c.parentNode?[c]:[]}},A.filter.ID=function(b){var a=b.replace(cb,Ha);return function(b){return b.getAttribute("id")===a}}):(delete A.find.ID,A.filter.ID=function(b){var a=b.replace(cb,Ha);return function(b){return(b=typeof b.getAttributeNode!==va&&b.getAttributeNode("id"))&&b.value===a}}),A.find.TAG=B.getElementsByTagName?function(b,a){return typeof a.getElementsByTagName!==va?a.getElementsByTagName(b):
void 0}:function(b,a){var c,g=[],d=0,h=a.getElementsByTagName(b);if("*"===b){for(;c=h[d++];)1===c.nodeType&&g.push(c);return g}return h},A.find.CLASS=B.getElementsByClassName&&function(b,a){return typeof a.getElementsByClassName!==va&&R?a.getElementsByClassName(b):void 0},T=[],fa=[],(B.qsa=bb.test(c.querySelectorAll))&&(d(function(b){b.innerHTML="<select msallowclip=''><option selected=''></option></select>";b.querySelectorAll("[msallowclip^='']").length&&fa.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");
b.querySelectorAll("[selected]").length||fa.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");b.querySelectorAll(":checked").length||fa.push(":checked")}),d(function(b){var a=c.createElement("input");a.setAttribute("type","hidden");b.appendChild(a).setAttribute("name","D");b.querySelectorAll("[name=d]").length&&fa.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");b.querySelectorAll(":enabled").length||
fa.push(":enabled",":disabled");b.querySelectorAll("*,:x");fa.push(",.*:")})),(B.matchesSelector=bb.test(X=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&d(function(b){B.disconnectedMatch=X.call(b,"div");X.call(b,"[s!='']:x");T.push("!=",Ga)}),fa=fa.length&&new RegExp(fa.join("|")),T=T.length&&new RegExp(T.join("|")),a=bb.test(M.compareDocumentPosition),da=a||bb.test(M.contains)?function(b,a){var c=9===b.nodeType?b.documentElement:b,g=a&&a.parentNode;
return b===g||!(!g||1!==g.nodeType||!(c.contains?c.contains(g):b.compareDocumentPosition&&16&b.compareDocumentPosition(g)))}:function(b,a){if(a)for(;a=a.parentNode;)if(a===b)return!0;return!1},ka=a?function(b,a){if(b===a)return Q=!0,0;var g=!b.compareDocumentPosition-!a.compareDocumentPosition;return g?g:(g=(b.ownerDocument||b)===(a.ownerDocument||a)?b.compareDocumentPosition(a):1,1&g||!B.sortDetached&&a.compareDocumentPosition(b)===g?b===c||b.ownerDocument===na&&da(na,b)?-1:a===c||a.ownerDocument===
na&&da(na,a)?1:P?ma.call(P,b)-ma.call(P,a):0:4&g?-1:1)}:function(b,a){if(b===a)return Q=!0,0;var g,d=0;g=b.parentNode;var e=a.parentNode,l=[b],f=[a];if(!g||!e)return b===c?-1:a===c?1:g?-1:e?1:P?ma.call(P,b)-ma.call(P,a):0;if(g===e)return h(b,a);for(g=b;g=g.parentNode;)l.unshift(g);for(g=a;g=g.parentNode;)f.unshift(g);for(;l[d]===f[d];)d++;return d?h(l[d],f[d]):l[d]===na?-1:f[d]===na?1:0},c):H};a.matches=function(b,c){return a(b,null,null,c)};a.matchesSelector=function(b,c){if((b.ownerDocument||b)!==
H&&F(b),c=c.replace($a,"='$1']"),!(!B.matchesSelector||!R||T&&T.test(c)||fa&&fa.test(c)))try{var g=X.call(b,c);if(g||B.disconnectedMatch||b.document&&11!==b.document.nodeType)return g}catch(d){}return 0<a(c,H,null,[b]).length};a.contains=function(b,a){return(b.ownerDocument||b)!==H&&F(b),da(b,a)};a.attr=function(b,a){(b.ownerDocument||b)!==H&&F(b);var c=A.attrHandle[a.toLowerCase()],c=c&&ta.call(A.attrHandle,a.toLowerCase())?c(b,a,!R):void 0;return void 0!==c?c:B.attributes||!R?b.getAttribute(a):
(c=b.getAttributeNode(a))&&c.specified?c.value:null};a.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};a.uniqueSort=function(b){var a,c=[],g=0,d=0;if(Q=!B.detectDuplicates,P=!B.sortStable&&b.slice(0),b.sort(ka),Q){for(;a=b[d++];)a===b[d]&&(g=c.push(d));for(;g--;)b.splice(c[g],1)}return P=null,b};z=a.getText=function(b){var a,c="",g=0;if(a=b.nodeType)if(1===a||9===a||11===a){if("string"==typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=b.nextSibling)c+=
z(b)}else{if(3===a||4===a)return b.nodeValue}else for(;a=b[g++];)c+=z(a);return c};A=a.selectors={cacheLength:50,createPseudo:g,match:Oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace(cb,Ha),b[3]=(b[3]||b[4]||b[5]||"").replace(cb,Ha),"~="===b[2]&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),"nth"===b[1].slice(0,
3)?(b[3]||a.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*("even"===b[3]||"odd"===b[3])),b[5]=+(b[7]+b[8]||"odd"===b[3])):b[3]&&a.error(b[0]),b},PSEUDO:function(b){var a,c=!b[6]&&b[2];return Oa.CHILD.test(b[0])?null:(b[3]?b[2]=b[4]||b[5]||"":c&&db.test(c)&&(a=N(c,!0))&&(a=c.indexOf(")",c.length-a)-c.length)&&(b[0]=b[0].slice(0,a),b[2]=c.slice(0,a)),b.slice(0,3))}},filter:{TAG:function(b){var a=b.replace(cb,Ha).toLowerCase();return"*"===b?function(){return!0}:function(b){return b.nodeName&&b.nodeName.toLowerCase()===
a}},CLASS:function(b){var a=ja[b+" "];return a||(a=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"))&&ja(b,function(b){return a.test("string"==typeof b.className&&b.className||typeof b.getAttribute!==va&&b.getAttribute("class")||"")})},ATTR:function(b,c,g){return function(d){d=a.attr(d,b);return null==d?"!="===c:c?(d+="","="===c?d===g:"!="===c?d!==g:"^="===c?g&&0===d.indexOf(g):"*="===c?g&&-1<d.indexOf(g):"$="===c?g&&d.slice(-g.length)===g:"~="===c?-1<(" "+d+" ").indexOf(g):"|="===
c?d===g||d.slice(0,g.length+1)===g+"-":!1):!0}},CHILD:function(b,a,c,g,d){var h="nth"!==b.slice(0,3),e="last"!==b.slice(-4),l="of-type"===a;return 1===g&&0===d?function(b){return!!b.parentNode}:function(a,c,f){var p,q,k,v,r;c=h!==e?"nextSibling":"previousSibling";var aa=a.parentNode,s=l&&a.nodeName.toLowerCase();f=!f&&!l;if(aa){if(h){for(;c;){for(q=a;q=q[c];)if(l?q.nodeName.toLowerCase()===s:1===q.nodeType)return!1;r=c="only"===b&&!r&&"nextSibling"}return!0}if(r=[e?aa.firstChild:aa.lastChild],e&&
f)for(f=aa[pa]||(aa[pa]={}),p=f[b]||[],v=p[0]===Na&&p[1],k=p[0]===Na&&p[2],q=v&&aa.childNodes[v];q=++v&&q&&q[c]||(k=v=0)||r.pop();){if(1===q.nodeType&&++k&&q===a){f[b]=[Na,v,k];break}}else if(f&&(p=(a[pa]||(a[pa]={}))[b])&&p[0]===Na)k=p[1];else for(;(q=++v&&q&&q[c]||(k=v=0)||r.pop())&&((l?q.nodeName.toLowerCase()!==s:1!==q.nodeType)||!++k||(f&&((q[pa]||(q[pa]={}))[b]=[Na,k]),q!==a)););return k-=d,k===g||0===k%g&&0<=k/g}}},PSEUDO:function(b,c){var d,h=A.pseudos[b]||A.setFilters[b.toLowerCase()]||a.error("unsupported pseudo: "+
b);return h[pa]?h(c):1<h.length?(d=[b,b,"",c],A.setFilters.hasOwnProperty(b.toLowerCase())?g(function(b,a){for(var g,d=h(b,c),e=d.length;e--;)g=ma.call(b,d[e]),b[g]=!(a[g]=d[e])}):function(b){return h(b,0,d)}):h}},pseudos:{not:g(function(b){var a=[],c=[],d=ea(b.replace(Fa,"$1"));return d[pa]?g(function(b,a,c,g){var h;c=d(b,null,g,[]);for(g=b.length;g--;)(h=c[g])&&(b[g]=!(a[g]=h))}):function(b,g,h){return a[0]=b,d(a,null,h,c),!c.pop()}}),has:g(function(b){return function(c){return 0<a(b,c).length}}),
contains:g(function(b){return function(a){return-1<(a.textContent||a.innerText||z(a)).indexOf(b)}}),lang:g(function(b){return eb.test(b||"")||a.error("unsupported lang: "+b),b=b.replace(cb,Ha).toLowerCase(),function(a){var c;do if(c=R?a.lang:a.getAttribute("xml:lang")||a.getAttribute("lang"))return c=c.toLowerCase(),c===b||0===c.indexOf(b+"-");while((a=a.parentNode)&&1===a.nodeType);return!1}}),target:function(a){var c=b.location&&b.location.hash;return c&&c.slice(1)===a.id},root:function(b){return b===
M},focus:function(b){return b===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(b.type||b.href||~b.tabIndex)},enabled:function(b){return!1===b.disabled},disabled:function(b){return!0===b.disabled},checked:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&!!b.checked||"option"===a&&!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,!0===b.selected},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if(6>b.nodeType)return!1;return!0},parent:function(b){return!A.pseudos.empty(b)},
header:function(b){return gb.test(b.nodeName)},input:function(b){return fb.test(b.nodeName)},button:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&"button"===b.type||"button"===a},text:function(b){var a;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==(a=b.getAttribute("type"))||"text"===a.toLowerCase())},first:p(function(){return[0]}),last:p(function(b,a){return[a-1]}),eq:p(function(b,a,c){return[0>c?c+a:c]}),even:p(function(b,a){for(var c=0;a>c;c+=2)b.push(c);return b}),
odd:p(function(b,a){for(var c=1;a>c;c+=2)b.push(c);return b}),lt:p(function(b,a,c){for(a=0>c?c+a:c;0<=--a;)b.push(a);return b}),gt:p(function(b,a,c){for(c=0>c?c+a:c;++c<a;)b.push(c);return b})}};A.pseudos.nth=A.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[y]=l(y);for(y in{submit:!0,reset:!0})A.pseudos[y]=f(y);k.prototype=A.filters=A.pseudos;A.setFilters=new k;N=a.tokenize=function(b,c){var g,d,h,e,l,f,p;if(l=ra[b+" "])return c?0:l.slice(0);l=b;f=[];for(p=A.preFilter;l;){g&&
!(d=Qa.exec(l))||(d&&(l=l.slice(d[0].length)||l),f.push(h=[]));g=!1;(d=Za.exec(l))&&(g=d.shift(),h.push({value:g,type:d[0].replace(Fa," ")}),l=l.slice(g.length));for(e in A.filter)!(d=Oa[e].exec(l))||p[e]&&!(d=p[e](d))||(g=d.shift(),h.push({value:g,type:e,matches:d}),l=l.slice(g.length));if(!g)break}return c?l.length:l?a.error(b):ra(b,f).slice(0)};return ea=a.compile=function(b,a){var c,g=[],d=[],h=ua[b+" "];if(!h){a||(a=N(b));for(c=a.length;c--;)h=m(a[c]),h[pa]?g.push(h):d.push(h);h=ua(b,x(d,g));
h.selector=b}return h},ba=a.select=function(b,a,c,g){var d,h,e,l,f,p="function"==typeof b&&b,k=!g&&N(b=p.selector||b);if(c=c||[],1===k.length){if(h=k[0]=k[0].slice(0),2<h.length&&"ID"===(e=h[0]).type&&B.getById&&9===a.nodeType&&R&&A.relative[h[1].type]){if(a=(A.find.ID(e.matches[0].replace(cb,Ha),a)||[])[0],!a)return c;p&&(a=a.parentNode);b=b.slice(h.shift().value.length)}for(d=Oa.needsContext.test(b)?0:h.length;d--&&(e=h[d],!A.relative[l=e.type]);)if((f=A.find[l])&&(g=f(e.matches[0].replace(cb,Ha),
Va.test(h[0].type)&&q(a.parentNode)||a))){if(h.splice(d,1),b=g.length&&v(h),!b)return ya.apply(c,g),c;break}}return(p||ea(b,k))(g,a,!R,c,Va.test(b)&&q(a.parentNode)||a),c},B.sortStable=pa.split("").sort(ka).join("")===pa,B.detectDuplicates=!!Q,F(),B.sortDetached=d(function(b){return 1&b.compareDocumentPosition(H.createElement("div"))}),d(function(b){return b.innerHTML="<a href='#'></a>","#"===b.firstChild.getAttribute("href")})||e("type|href|height|width",function(b,a,c){return c?void 0:b.getAttribute(a,
"type"===a.toLowerCase()?1:2)}),B.attributes&&d(function(b){return b.innerHTML="<input/>",b.firstChild.setAttribute("value",""),""===b.firstChild.getAttribute("value")})||e("value",function(b,a,c){return c||"input"!==b.nodeName.toLowerCase()?void 0:b.defaultValue}),d(function(b){return null==b.getAttribute("disabled")})||e("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(b,a,c){var g;return c?void 0:!0===b[a]?a.toLowerCase():
(g=b.getAttributeNode(a))&&g.specified?g.value:null}),a}(a);m.find=Ia;m.expr=Ia.selectors;m.expr[":"]=m.expr.pseudos;m.unique=Ia.uniqueSort;m.text=Ia.getText;m.isXMLDoc=Ia.isXML;m.contains=Ia.contains;var Nb=m.expr.match.needsContext,lc=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Va=/^.[^:#\[\.,]*$/;m.filter=function(b,a,c){var g=a[0];return c&&(b=":not("+b+")"),1===a.length&&1===g.nodeType?m.find.matchesSelector(g,b)?[g]:[]:m.find.matches(b,m.grep(a,function(b){return 1===b.nodeType}))};m.fn.extend({find:function(b){var a,
c=this.length,g=[],d=this;if("string"!=typeof b)return this.pushStack(m(b).filter(function(){for(a=0;c>a;a++)if(m.contains(d[a],this))return!0}));for(a=0;c>a;a++)m.find(b,d[a],g);return g=this.pushStack(1<c?m.unique(g):g),g.selector=this.selector?this.selector+" "+b:b,g},filter:function(b){return this.pushStack(f(this,b||[],!1))},not:function(b){return this.pushStack(f(this,b||[],!0))},is:function(b){return!!f(this,"string"==typeof b&&Nb.test(b)?m(b):b||[],!1).length}});var db,ld=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;
(m.fn.init=function(b,a){var c,g;if(!b)return this;if("string"==typeof b){if(c="<"===b[0]&&">"===b[b.length-1]&&3<=b.length?[null,b,null]:ld.exec(b),!c||!c[1]&&a)return!a||a.jquery?(a||db).find(b):this.constructor(a).find(b);if(c[1]){if(a=a instanceof m?a[0]:a,m.merge(this,m.parseHTML(c[1],a&&a.nodeType?a.ownerDocument||a:M,!0)),lc.test(c[1])&&m.isPlainObject(a))for(c in a)m.isFunction(this[c])?this[c](a[c]):this.attr(c,a[c]);return this}return g=M.getElementById(c[2]),g&&g.parentNode&&(this.length=
1,this[0]=g),this.context=M,this.selector=b,this}return b.nodeType?(this.context=this[0]=b,this.length=1,this):m.isFunction(b)?"undefined"!=typeof db.ready?db.ready(b):b(m):(void 0!==b.selector&&(this.selector=b.selector,this.context=b.context),m.makeArray(b,this))}).prototype=m.fn;db=m(M);var md=/^(?:parents|prev(?:Until|All))/,Kc={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(b,a,c){for(var g=[],d=void 0!==c;(b=b[a])&&9!==b.nodeType;)if(1===b.nodeType){if(d&&m(b).is(c))break;g.push(b)}return g},
sibling:function(b,a){for(var c=[];b;b=b.nextSibling)1===b.nodeType&&b!==a&&c.push(b);return c}});m.fn.extend({has:function(b){var a=m(b,this),c=a.length;return this.filter(function(){for(var b=0;c>b;b++)if(m.contains(this,a[b]))return!0})},closest:function(b,a){for(var c,g=0,d=this.length,h=[],e=Nb.test(b)||"string"!=typeof b?m(b,a||this.context):0;d>g;g++)for(c=this[g];c&&c!==a;c=c.parentNode)if(11>c.nodeType&&(e?-1<e.index(c):1===c.nodeType&&m.find.matchesSelector(c,b))){h.push(c);break}return this.pushStack(1<
h.length?m.unique(h):h)},index:function(b){return b?"string"==typeof b?da.call(m(b),this[0]):da.call(this,b.jquery?b[0]:b):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(b,a){return this.pushStack(m.unique(m.merge(this.get(),m(b,a))))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});m.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?b:null},parents:function(b){return m.dir(b,"parentNode")},parentsUntil:function(b,
a,c){return m.dir(b,"parentNode",c)},next:function(b){return d(b,"nextSibling")},prev:function(b){return d(b,"previousSibling")},nextAll:function(b){return m.dir(b,"nextSibling")},prevAll:function(b){return m.dir(b,"previousSibling")},nextUntil:function(b,a,c){return m.dir(b,"nextSibling",c)},prevUntil:function(b,a,c){return m.dir(b,"previousSibling",c)},siblings:function(b){return m.sibling((b.parentNode||{}).firstChild,b)},children:function(b){return m.sibling(b.firstChild)},contents:function(b){return b.contentDocument||
m.merge([],b.childNodes)}},function(b,a){m.fn[b]=function(c,g){var d=m.map(this,a,c);return"Until"!==b.slice(-5)&&(g=c),g&&"string"==typeof g&&(d=m.filter(g,d)),1<this.length&&(Kc[b]||m.unique(d),md.test(b)&&d.reverse()),this.pushStack(d)}});var ma=/\S+/g,cc={};m.Callbacks=function(b){b="string"==typeof b?cc[b]||h(b):m.extend({},b);var a,c,g,d,e,l,f=[],p=!b.once&&[],q=function(h){a=b.memory&&h;c=!0;l=d||0;d=0;e=f.length;for(g=!0;f&&e>l;l++)if(!1===f[l].apply(h[0],h[1])&&b.stopOnFalse){a=!1;break}g=
!1;f&&(p?p.length&&q(p.shift()):a?f=[]:k.disable())},k={add:function(){if(f){var c=f.length;!function lb(a){m.each(a,function(a,c){var g=m.type(c);"function"===g?b.unique&&k.has(c)||f.push(c):c&&c.length&&"string"!==g&&lb(c)})}(arguments);g?e=f.length:a&&(d=c,q(a))}return this},remove:function(){return f&&m.each(arguments,function(b,a){for(var c;-1<(c=m.inArray(a,f,c));)f.splice(c,1),g&&(e>=c&&e--,l>=c&&l--)}),this},has:function(b){return b?-1<m.inArray(b,f):!(!f||!f.length)},empty:function(){return f=
[],e=0,this},disable:function(){return f=p=a=void 0,this},disabled:function(){return!f},lock:function(){return p=void 0,a||k.disable(),this},locked:function(){return!p},fireWith:function(b,a){return!f||c&&!p||(a=a||[],a=[b,a.slice?a.slice():a],g?p.push(a):q(a)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k};m.extend({Deferred:function(b){var a=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),
"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",g={state:function(){return c},always:function(){return d.done(arguments).fail(arguments),this},then:function(){var b=arguments;return m.Deferred(function(c){m.each(a,function(a,h){var e=m.isFunction(b[a])&&b[a];d[h[1]](function(){var b=e&&e.apply(this,arguments);b&&m.isFunction(b.promise)?b.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[h[0]+"With"](this===g?c.promise():this,e?[b]:arguments)})});b=null}).promise()},
promise:function(b){return null!=b?m.extend(b,g):g}},d={};return g.pipe=g.then,m.each(a,function(b,h){var e=h[2],l=h[3];g[h[1]]=e.add;l&&e.add(function(){c=l},a[1^b][2].disable,a[2][2].lock);d[h[0]]=function(){return d[h[0]+"With"](this===d?g:this,arguments),this};d[h[0]+"With"]=e.fireWith}),g.promise(d),b&&b.call(d,d),d},when:function(b){var a=0,c=ua.call(arguments),g=c.length,d=1!==g||b&&m.isFunction(b.promise)?g:0,h=1===d?b:m.Deferred(),e=function(b,a,c){return function(g){a[b]=this;c[b]=1<arguments.length?
ua.call(arguments):g;c===l?h.notifyWith(a,c):--d||h.resolveWith(a,c)}},l,f,p;if(1<g)for(l=Array(g),f=Array(g),p=Array(g);g>a;a++)c[a]&&m.isFunction(c[a].promise)?c[a].promise().done(e(a,p,c)).fail(h.reject).progress(e(a,f,l)):--d;return d||h.resolveWith(p,c),h.promise()}});var eb;m.fn.ready=function(b){return m.ready.promise().done(b),this};m.extend({isReady:!1,readyWait:1,holdReady:function(b){b?m.readyWait++:m.ready(!0)},ready:function(b){(!0===b?--m.readyWait:m.isReady)||(m.isReady=!0,!0!==b&&
0<--m.readyWait||(eb.resolveWith(M,[m]),m.fn.triggerHandler&&(m(M).triggerHandler("ready"),m(M).off("ready"))))}});m.ready.promise=function(c){return eb||(eb=m.Deferred(),"complete"===M.readyState?setTimeout(m.ready):(M.addEventListener("DOMContentLoaded",b,!1),a.addEventListener("load",b,!1))),eb.promise(c)};m.ready.promise();var qa=m.access=function(b,a,c,g,d,h,e){var l=0,f=b.length,p=null==c;if("object"===m.type(c))for(l in d=!0,c)m.access(b,a,l,c[l],!0,h,e);else if(void 0!==g&&(d=!0,m.isFunction(g)||
(e=!0),p&&(e?(a.call(b,g),a=null):(p=a,a=function(b,a,c){return p.call(m(b),c)})),a))for(;f>l;l++)a(b[l],c,e?g:g.call(b[l],l,a(b[l],c)));return d?b:p?a.call(b):f?a(b[0],c):h};m.acceptData=function(b){return 1===b.nodeType||9===b.nodeType||!+b.nodeType};c.uid=1;c.accepts=m.acceptData;c.prototype={key:function(b){if(!c.accepts(b))return 0;var a={},g=b[this.expando];if(!g){g=c.uid++;try{a[this.expando]={value:g},Object.defineProperties(b,a)}catch(d){a[this.expando]=g,m.extend(b,a)}}return this.cache[g]||
(this.cache[g]={}),g},set:function(b,a,c){var g;b=this.key(b);var d=this.cache[b];if("string"==typeof a)d[a]=c;else if(m.isEmptyObject(d))m.extend(this.cache[b],a);else for(g in a)d[g]=a[g];return d},get:function(b,a){var c=this.cache[this.key(b)];return void 0===a?c:c[a]},access:function(b,a,c){var g;return void 0===a||a&&"string"==typeof a&&void 0===c?(g=this.get(b,a),void 0!==g?g:this.get(b,m.camelCase(a))):(this.set(b,a,c),void 0!==c?c:a)},remove:function(b,a){var c,g,d=this.key(b),h=this.cache[d];
if(void 0===a)this.cache[d]={};else for(m.isArray(a)?g=a.concat(a.map(m.camelCase)):(c=m.camelCase(a),a in h?g=[a,c]:(g=c,g=g in h?[g]:g.match(ma)||[])),c=g.length;c--;)delete h[g[c]]},hasData:function(b){return!m.isEmptyObject(this.cache[b[this.expando]]||{})},discard:function(b){b[this.expando]&&delete this.cache[b[this.expando]]}};var F=new c,ia=new c,ed=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,cd=/([A-Z])/g;m.extend({hasData:function(b){return ia.hasData(b)||F.hasData(b)},data:function(b,a,c){return ia.access(b,
a,c)},removeData:function(b,a){ia.remove(b,a)},_data:function(b,a,c){return F.access(b,a,c)},_removeData:function(b,a){F.remove(b,a)}});m.fn.extend({data:function(b,a){var c,d,h,e=this[0],l=e&&e.attributes;if(void 0===b){if(this.length&&(h=ia.get(e),1===e.nodeType&&!F.get(e,"hasDataAttrs"))){for(c=l.length;c--;)l[c]&&(d=l[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),g(e,d,h[d])));F.set(e,"hasDataAttrs",!0)}return h}return"object"==typeof b?this.each(function(){ia.set(this,b)}):qa(this,
function(a){var c,d=m.camelCase(b);if(e&&void 0===a){if((c=ia.get(e,b),void 0!==c)||(c=ia.get(e,d),void 0!==c)||(c=g(e,d,void 0),void 0!==c))return c}else this.each(function(){var c=ia.get(this,d);ia.set(this,d,a);-1!==b.indexOf("-")&&void 0!==c&&ia.set(this,b,a)})},null,a,1<arguments.length,null,!0)},removeData:function(b){return this.each(function(){ia.remove(this,b)})}});m.extend({queue:function(b,a,c){var g;return b?(a=(a||"fx")+"queue",g=F.get(b,a),c&&(!g||m.isArray(c)?g=F.access(b,a,m.makeArray(c)):
g.push(c)),g||[]):void 0},dequeue:function(b,a){a=a||"fx";var c=m.queue(b,a),g=c.length,d=c.shift(),h=m._queueHooks(b,a),e=function(){m.dequeue(b,a)};"inprogress"===d&&(d=c.shift(),g--);d&&("fx"===a&&c.unshift("inprogress"),delete h.stop,d.call(b,e,h));!g&&h&&h.empty.fire()},_queueHooks:function(b,a){var c=a+"queueHooks";return F.get(b,c)||F.access(b,c,{empty:m.Callbacks("once memory").add(function(){F.remove(b,[a+"queue",c])})})}});m.fn.extend({queue:function(b,a){var c=2;return"string"!=typeof b&&
(a=b,b="fx",c--),arguments.length<c?m.queue(this[0],b):void 0===a?this:this.each(function(){var c=m.queue(this,b,a);m._queueHooks(this,b);"fx"===b&&"inprogress"!==c[0]&&m.dequeue(this,b)})},dequeue:function(b){return this.each(function(){m.dequeue(this,b)})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,a){var c,g=1,d=m.Deferred(),h=this,e=this.length,l=function(){--g||d.resolveWith(h,[h])};"string"!=typeof b&&(a=b,b=void 0);for(b=b||"fx";e--;)(c=F.get(h[e],b+"queueHooks"))&&
c.empty&&(g++,c.empty.add(l));return l(),d.promise(a)}});var Ob=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Qa=["Top","Right","Bottom","Left"],Za=function(b,a){return b=a||b,"none"===m.css(b,"display")||!m.contains(b.ownerDocument,b)},X=/^(?:checkbox|radio)$/i;!function(){var b=M.createDocumentFragment().appendChild(M.createElement("div")),a=M.createElement("input");a.setAttribute("type","radio");a.setAttribute("checked","checked");a.setAttribute("name","t");b.appendChild(a);T.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked;
b.innerHTML="<textarea>x</textarea>";T.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();T.focusinBubbles="onfocusin"in a;var ka=/^key/,Lc=/^(?:mouse|pointer|contextmenu)|click/,Pb=/^(?:focusinfocus|focusoutblur)$/,nd=/^([^.]*)(?:\.(.+)|)$/;m.event={global:{},add:function(b,a,c,g,d){var h,e,l,f,p,q,k,v,r,s;if(p=F.get(b))for(c.handler&&(h=c,c=h.handler,d=h.selector),c.guid||(c.guid=m.guid++),(f=p.events)||(f=p.events={}),(e=p.handle)||(e=p.handle=function(a){return"undefined"!==typeof m&&
m.event.triggered!==a.type?m.event.dispatch.apply(b,arguments):void 0}),a=(a||"").match(ma)||[""],p=a.length;p--;)l=nd.exec(a[p])||[],r=s=l[1],l=(l[2]||"").split(".").sort(),r&&(k=m.event.special[r]||{},r=(d?k.delegateType:k.bindType)||r,k=m.event.special[r]||{},q=m.extend({type:r,origType:s,data:g,handler:c,guid:c.guid,selector:d,needsContext:d&&m.expr.match.needsContext.test(d),namespace:l.join(".")},h),(v=f[r])||(v=f[r]=[],v.delegateCount=0,k.setup&&!1!==k.setup.call(b,g,l,e)||b.addEventListener&&
b.addEventListener(r,e,!1)),k.add&&(k.add.call(b,q),q.handler.guid||(q.handler.guid=c.guid)),d?v.splice(v.delegateCount++,0,q):v.push(q),m.event.global[r]=!0)},remove:function(b,a,c,g,d){var h,e,l,f,p,q,k,v,r,s,u,w=F.hasData(b)&&F.get(b);if(w&&(f=w.events)){a=(a||"").match(ma)||[""];for(p=a.length;p--;)if(l=nd.exec(a[p])||[],r=u=l[1],s=(l[2]||"").split(".").sort(),r){k=m.event.special[r]||{};r=(g?k.delegateType:k.bindType)||r;v=f[r]||[];l=l[2]&&new RegExp("(^|\\.)"+s.join("\\.(?:.*\\.|)")+"(\\.|$)");
for(e=h=v.length;h--;)q=v[h],!d&&u!==q.origType||c&&c.guid!==q.guid||l&&!l.test(q.namespace)||g&&g!==q.selector&&("**"!==g||!q.selector)||(v.splice(h,1),q.selector&&v.delegateCount--,k.remove&&k.remove.call(b,q));e&&!v.length&&(k.teardown&&!1!==k.teardown.call(b,s,w.handle)||m.removeEvent(b,r,w.handle),delete f[r])}else for(r in f)m.event.remove(b,r+a[p],c,g,!0);m.isEmptyObject(f)&&(delete w.handle,F.remove(b,"events"))}},trigger:function(b,c,g,d){var h,e,l,f,p,q,k,v=[g||M],r=hc.call(b,"type")?b.type:
b;h=hc.call(b,"namespace")?b.namespace.split("."):[];if(e=l=g=g||M,3!==g.nodeType&&8!==g.nodeType&&!Pb.test(r+m.event.triggered)&&(0<=r.indexOf(".")&&(h=r.split("."),r=h.shift(),h.sort()),p=0>r.indexOf(":")&&"on"+r,b=b[m.expando]?b:new m.Event(r,"object"==typeof b&&b),b.isTrigger=d?2:3,b.namespace=h.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=g),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[r]||{},d||!k.trigger||
!1!==k.trigger.apply(g,c))){if(!d&&!k.noBubble&&!m.isWindow(g)){f=k.delegateType||r;for(Pb.test(f+r)||(e=e.parentNode);e;e=e.parentNode)v.push(e),l=e;l===(g.ownerDocument||M)&&v.push(l.defaultView||l.parentWindow||a)}for(h=0;(e=v[h++])&&!b.isPropagationStopped();)b.type=1<h?f:k.bindType||r,(q=(F.get(e,"events")||{})[b.type]&&F.get(e,"handle"))&&q.apply(e,c),(q=p&&e[p])&&q.apply&&m.acceptData(e)&&(b.result=q.apply(e,c),!1===b.result&&b.preventDefault());return b.type=r,d||b.isDefaultPrevented()||k._default&&
!1!==k._default.apply(v.pop(),c)||!m.acceptData(g)||p&&m.isFunction(g[r])&&!m.isWindow(g)&&(l=g[p],l&&(g[p]=null),m.event.triggered=r,g[r](),m.event.triggered=void 0,l&&(g[p]=l)),b.result}},dispatch:function(b){b=m.event.fix(b);var a,c,g,d,h,e=[],l=ua.call(arguments);a=(F.get(this,"events")||{})[b.type]||[];var f=m.event.special[b.type]||{};if(l[0]=b,b.delegateTarget=this,!f.preDispatch||!1!==f.preDispatch.call(this,b)){e=m.event.handlers.call(this,b,a);for(a=0;(d=e[a++])&&!b.isPropagationStopped();)for(b.currentTarget=
d.elem,c=0;(h=d.handlers[c++])&&!b.isImmediatePropagationStopped();)b.namespace_re&&!b.namespace_re.test(h.namespace)||(b.handleObj=h,b.data=h.data,g=((m.event.special[h.origType]||{}).handle||h.handler).apply(d.elem,l),void 0===g||!1!==(b.result=g)||(b.preventDefault(),b.stopPropagation()));return f.postDispatch&&f.postDispatch.call(this,b),b.result}},handlers:function(b,a){var c,g,d,h,e=[],l=a.delegateCount,f=b.target;if(l&&f.nodeType&&(!b.button||"click"!==b.type))for(;f!==this;f=f.parentNode||
this)if(!0!==f.disabled||"click"!==b.type){g=[];for(c=0;l>c;c++)h=a[c],d=h.selector+" ",void 0===g[d]&&(g[d]=h.needsContext?0<=m(d,this).index(f):m.find(d,this,null,[f]).length),g[d]&&g.push(h);g.length&&e.push({elem:f,handlers:g})}return l<a.length&&e.push({elem:this,handlers:a.slice(l)}),e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(b,
a){return null==b.which&&(b.which=null!=a.charCode?a.charCode:a.keyCode),b}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b,a){var c,g,d,h=a.button;return null==b.pageX&&null!=a.clientX&&(c=b.target.ownerDocument||M,g=c.documentElement,d=c.body,b.pageX=a.clientX+(g&&g.scrollLeft||d&&d.scrollLeft||0)-(g&&g.clientLeft||d&&d.clientLeft||0),b.pageY=a.clientY+(g&&g.scrollTop||d&&d.scrollTop||0)-(g&&g.clientTop||d&&d.clientTop||
0)),b.which||void 0===h||(b.which=1&h?1:2&h?3:4&h?2:0),b}},fix:function(b){if(b[m.expando])return b;var a,c,g;a=b.type;var d=b,h=this.fixHooks[a];h||(this.fixHooks[a]=h=Lc.test(a)?this.mouseHooks:ka.test(a)?this.keyHooks:{});g=h.props?this.props.concat(h.props):this.props;b=new m.Event(d);for(a=g.length;a--;)c=g[a],b[c]=d[c];return b.target||(b.target=M),3===b.target.nodeType&&(b.target=b.target.parentNode),h.filter?h.filter(b,d):b},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==
v()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===v()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&m.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(b){return m.nodeName(b.target,"a")}},beforeunload:{postDispatch:function(b){void 0!==b.result&&b.originalEvent&&(b.originalEvent.returnValue=b.result)}}},simulate:function(b,a,c,g){b=m.extend(new m.Event,
c,{type:b,isSimulated:!0,originalEvent:{}});g?m.event.trigger(b,null,a):m.event.dispatch.call(a,b);b.isDefaultPrevented()&&c.preventDefault()}};m.removeEvent=function(b,a,c){b.removeEventListener&&b.removeEventListener(a,c,!1)};m.Event=function(b,a){return this instanceof m.Event?(b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||void 0===b.defaultPrevented&&!1===b.returnValue?l:p):this.type=b,a&&m.extend(this,a),this.timeStamp=b&&b.timeStamp||m.now(),void(this[m.expando]=
!0)):new m.Event(b,a)};m.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=l;b&&b.preventDefault&&b.preventDefault()},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=l;b&&b.stopPropagation&&b.stopPropagation()},stopImmediatePropagation:function(){var b=this.originalEvent;this.isImmediatePropagationStopped=l;b&&b.stopImmediatePropagation&&b.stopImmediatePropagation();
this.stopPropagation()}};m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(b,a){m.event.special[b]={delegateType:a,bindType:a,handle:function(b){var c,g=b.relatedTarget,d=b.handleObj;return(!g||g!==this&&!m.contains(this,g))&&(b.type=d.origType,c=d.handler.apply(this,arguments),b.type=a),c}}});T.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(b,a){var c=function(b){m.event.simulate(a,b.target,m.event.fix(b),!0)};m.event.special[a]=
{setup:function(){var g=this.ownerDocument||this,d=F.access(g,a);d||g.addEventListener(b,c,!0);F.access(g,a,(d||0)+1)},teardown:function(){var g=this.ownerDocument||this,d=F.access(g,a)-1;d?F.access(g,a,d):(g.removeEventListener(b,c,!0),F.remove(g,a))}}});m.fn.extend({on:function(b,a,c,g,d){var h,e;if("object"==typeof b){"string"!=typeof a&&(c=c||a,a=void 0);for(e in b)this.on(e,a,c,b[e],d);return this}if(null==c&&null==g?(g=a,c=a=void 0):null==g&&("string"==typeof a?(g=c,c=void 0):(g=c,c=a,a=void 0)),
!1===g)g=p;else if(!g)return this;return 1===d&&(h=g,g=function(b){return m().off(b),h.apply(this,arguments)},g.guid=h.guid||(h.guid=m.guid++)),this.each(function(){m.event.add(this,b,g,c,a)})},one:function(b,a,c,g){return this.on(b,a,c,g,1)},off:function(b,a,c){var g,d;if(b&&b.preventDefault&&b.handleObj)return g=b.handleObj,m(b.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if("object"==typeof b){for(d in b)this.off(d,a,b[d]);return this}return(!1===
a||"function"==typeof a)&&(c=a,a=void 0),!1===c&&(c=p),this.each(function(){m.event.remove(this,b,c,a)})},trigger:function(b,a){return this.each(function(){m.event.trigger(b,a,this)})},triggerHandler:function(b,a){var c=this[0];return c?m.event.trigger(b,a,c,!0):void 0}});var mc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Mc=/<([\w:]+)/,od=/<|&#?\w+;/,Nc=/<(?:script|style|link)/i,se=/checked\s*(?:[^=]|=\s*.checked.)/i,pd=/^$|\/(?:java|ecma)script/i,Fa=/^true\/(.*)/,Oa=
/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wa.optgroup=wa.option;wa.tbody=wa.tfoot=wa.colgroup=wa.caption=wa.thead;wa.th=wa.td;m.extend({clone:function(b,a,c){var g,d,h,e,l=b.cloneNode(!0),f=m.contains(b.ownerDocument,b);if(!(T.noCloneChecked||1!==
b.nodeType&&11!==b.nodeType||m.isXMLDoc(b)))for(e=x(l),h=x(b),g=0,d=h.length;d>g;g++){var p=h[g],q=e[g],k=q.nodeName.toLowerCase();"input"===k&&X.test(p.type)?q.checked=p.checked:("input"===k||"textarea"===k)&&(q.defaultValue=p.defaultValue)}if(a)if(c)for(h=h||x(b),e=e||x(l),g=0,d=h.length;d>g;g++)w(h[g],e[g]);else w(b,l);return e=x(l,"script"),0<e.length&&u(e,!f&&x(b,"script")),l},buildFragment:function(b,a,c,g){for(var d,h,e,l,f=a.createDocumentFragment(),p=[],q=0,k=b.length;k>q;q++)if(d=b[q],d||
0===d)if("object"===m.type(d))m.merge(p,d.nodeType?[d]:d);else if(od.test(d)){h=h||f.appendChild(a.createElement("div"));e=(Mc.exec(d)||["",""])[1].toLowerCase();e=wa[e]||wa._default;h.innerHTML=e[1]+d.replace(mc,"<$1></$2>")+e[2];for(e=e[0];e--;)h=h.lastChild;m.merge(p,h.childNodes);h=f.firstChild;h.textContent=""}else p.push(a.createTextNode(d));f.textContent="";for(q=0;d=p[q++];)if((!g||-1===m.inArray(d,g))&&(l=m.contains(d.ownerDocument,d),h=x(f.appendChild(d),"script"),l&&u(h),c))for(e=0;d=h[e++];)pd.test(d.type||
"")&&c.push(d);return f},cleanData:function(b){for(var a,c,g,d,h=m.event.special,e=0;void 0!==(c=b[e]);e++){if(m.acceptData(c)&&(d=c[F.expando],d&&(a=F.cache[d]))){if(a.events)for(g in a.events)h[g]?m.event.remove(c,g):m.removeEvent(c,g,a.handle);F.cache[d]&&delete F.cache[d]}delete ia.cache[c[ia.expando]]}}});m.fn.extend({text:function(b){return qa(this,function(b){return void 0===b?m.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=
b)})},null,b,arguments.length)},append:function(){return this.domManip(arguments,function(b){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||q(this,b).appendChild(b)})},prepend:function(){return this.domManip(arguments,function(b){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var a=q(this,b);a.insertBefore(b,a.firstChild)}})},before:function(){return this.domManip(arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return this.domManip(arguments,
function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},remove:function(b,a){for(var c,g=b?m.filter(b,this):this,d=0;null!=(c=g[d]);d++)a||1!==c.nodeType||m.cleanData(x(c)),c.parentNode&&(a&&m.contains(c.ownerDocument,c)&&u(x(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var b,a=0;null!=(b=this[a]);a++)1===b.nodeType&&(m.cleanData(x(b,!1)),b.textContent="");return this},clone:function(b,a){return b=null==b?!1:b,a=null==a?b:a,this.map(function(){return m.clone(this,
b,a)})},html:function(b){return qa(this,function(b){var a=this[0]||{},c=0,g=this.length;if(void 0===b&&1===a.nodeType)return a.innerHTML;if("string"==typeof b&&!Nc.test(b)&&!wa[(Mc.exec(b)||["",""])[1].toLowerCase()]){b=b.replace(mc,"<$1></$2>");try{for(;g>c;c++)a=this[c]||{},1===a.nodeType&&(m.cleanData(x(a,!1)),a.innerHTML=b);a=0}catch(d){}}a&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(){var b=arguments[0];return this.domManip(arguments,function(a){b=this.parentNode;
m.cleanData(x(this));b&&b.replaceChild(a,this)}),b&&(b.length||b.nodeType)?this:this.remove()},detach:function(b){return this.remove(b,!0)},domManip:function(b,a){b=oa.apply([],b);var c,g,d,h,e=0,l=this.length,f=this,p=l-1,q=b[0],k=m.isFunction(q);if(k||1<l&&"string"==typeof q&&!T.checkClone&&se.test(q))return this.each(function(c){var g=f.eq(c);k&&(b[0]=q.call(this,c,g.html()));g.domManip(b,a)});if(l&&(c=m.buildFragment(b,this[0].ownerDocument,!1,this),g=c.firstChild,1===c.childNodes.length&&(c=
g),g)){g=m.map(x(c,"script"),r);for(d=g.length;l>e;e++)h=c,e!==p&&(h=m.clone(h,!0,!0),d&&m.merge(g,x(h,"script"))),a.call(this[e],h,e);if(d)for(c=g[g.length-1].ownerDocument,m.map(g,s),e=0;d>e;e++)h=g[e],pd.test(h.type||"")&&!F.access(h,"globalEval")&&m.contains(c,h)&&(h.src?m._evalUrl&&m._evalUrl(h.src):m.globalEval(h.textContent.replace(Oa,"")))}return this}});m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,a){m.fn[b]=
function(b){for(var c=[],g=m(b),d=g.length-1,h=0;d>=h;h++)b=h===d?this:this.clone(!0),m(g[h])[a](b),Ka.apply(c,b.get());return this.pushStack(c)}});var dc,ta={},Kb=/^margin/,rb=new RegExp("^("+Ob+")(?!px)[a-z%]+$","i"),ec=function(b){return b.ownerDocument.defaultView.getComputedStyle(b,null)};!function(){var b,c,g=M.documentElement,d=M.createElement("div"),h=M.createElement("div");if(h.style){h.style.backgroundClip="content-box";h.cloneNode(!0).style.backgroundClip="";T.clearCloneStyle="content-box"===
h.style.backgroundClip;d.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute";d.appendChild(h);var e=function(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";h.innerHTML="";g.appendChild(d);var e=a.getComputedStyle(h,null);b="1%"!==e.top;c="4px"===e.width;g.removeChild(d)};a.getComputedStyle&&m.extend(T,{pixelPosition:function(){return e(),
b},boxSizingReliable:function(){return null==c&&e(),c},reliableMarginRight:function(){var b,c=h.appendChild(M.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",g.appendChild(d),b=!parseFloat(a.getComputedStyle(c,null).marginRight),g.removeChild(d),b}})}}();m.swap=function(b,a,c,g){var d,h={};for(d in a)h[d]=
b.style[d],b.style[d]=a[d];c=c.apply(b,g||[]);for(d in a)b.style[d]=h[d];return c};var te=/^(none|table(?!-c[ea]).+)/,fe=new RegExp("^("+Ob+")(.*)$","i"),ue=new RegExp("^([+-])=("+Ob+")","i"),ve={position:"absolute",visibility:"hidden",display:"block"},qd={letterSpacing:"0",fontWeight:"400"},fd=["Webkit","O","Moz","ms"];m.extend({cssHooks:{opacity:{get:function(b,a){if(a){var c=A(b,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,
opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(b,a,c,g){if(b&&3!==b.nodeType&&8!==b.nodeType&&b.style){var d,h,e,l=m.camelCase(a),f=b.style;return a=m.cssProps[l]||(m.cssProps[l]=Y(f,l)),e=m.cssHooks[a]||m.cssHooks[l],void 0===c?e&&"get"in e&&void 0!==(d=e.get(b,!1,g))?d:f[a]:(h=typeof c,"string"===h&&(d=ue.exec(c))&&(c=(d[1]+1)*d[2]+parseFloat(m.css(b,a)),h="number"),null!=c&&c===c&&("number"!==h||m.cssNumber[l]||(c+="px"),T.clearCloneStyle||
""!==c||0!==a.indexOf("background")||(f[a]="inherit"),e&&"set"in e&&void 0===(c=e.set(b,c,g))||(f[a]=c)),void 0)}},css:function(b,a,c,g){var d,h,e,l=m.camelCase(a);return a=m.cssProps[l]||(m.cssProps[l]=Y(b.style,l)),e=m.cssHooks[a]||m.cssHooks[l],e&&"get"in e&&(d=e.get(b,!0,c)),void 0===d&&(d=A(b,a,g)),"normal"===d&&a in qd&&(d=qd[a]),""===c||c?(h=parseFloat(d),!0===c||m.isNumeric(h)?h||0:d):d}});m.each(["height","width"],function(b,a){m.cssHooks[a]={get:function(b,c,g){return c?te.test(m.css(b,
"display"))&&0===b.offsetWidth?m.swap(b,ve,function(){return ea(b,a,g)}):ea(b,a,g):void 0},set:function(b,c,g){var d=g&&ec(b);return ba(b,c,g?W(b,a,g,"border-box"===m.css(b,"boxSizing",!1,d),d):0)}}});m.cssHooks.marginRight=z(T.reliableMarginRight,function(b,a){return a?m.swap(b,{display:"inline-block"},A,[b,"marginRight"]):void 0});m.each({margin:"",padding:"",border:"Width"},function(b,a){m.cssHooks[b+a]={expand:function(c){var g=0,d={};for(c="string"==typeof c?c.split(" "):[c];4>g;g++)d[b+Qa[g]+
a]=c[g]||c[g-2]||c[0];return d}};Kb.test(b)||(m.cssHooks[b+a].set=ba)});m.fn.extend({css:function(b,a){return qa(this,function(b,a,c){var g,d={},h=0;if(m.isArray(a)){c=ec(b);for(g=a.length;g>h;h++)d[a[h]]=m.css(b,a[h],!1,c);return d}return void 0!==c?m.style(b,a,c):m.css(b,a)},b,a,1<arguments.length)},show:function(){return N(this,!0)},hide:function(){return N(this)},toggle:function(b){return"boolean"==typeof b?b?this.show():this.hide():this.each(function(){Za(this)?m(this).show():m(this).hide()})}});
m.Tween=P;P.prototype={constructor:P,init:function(b,a,c,g,d,h){this.elem=b;this.prop=c;this.easing=d||"swing";this.options=a;this.start=this.now=this.cur();this.end=g;this.unit=h||(m.cssNumber[c]?"":"px")},cur:function(){var b=P.propHooks[this.prop];return b&&b.get?b.get(this):P.propHooks._default.get(this)},run:function(b){var a,c=P.propHooks[this.prop];return this.pos=a=this.options.duration?m.easing[this.easing](b,this.options.duration*b,0,1,this.options.duration):b,this.now=(this.end-this.start)*
a+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):P.propHooks._default.set(this),this}};P.prototype.init.prototype=P.prototype;P.propHooks={_default:{get:function(b){var a;return null==b.elem[b.prop]||b.elem.style&&null!=b.elem.style[b.prop]?(a=m.css(b.elem,b.prop,""),a&&"auto"!==a?a:0):b.elem[b.prop]},set:function(b){m.fx.step[b.prop]?m.fx.step[b.prop](b):b.elem.style&&(null!=b.elem.style[m.cssProps[b.prop]]||m.cssHooks[b.prop])?m.style(b.elem,b.prop,
b.now+b.unit):b.elem[b.prop]=b.now}}};P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}};m.easing={linear:function(b){return b},swing:function(b){return.5-Math.cos(b*Math.PI)/2}};m.fx=P.prototype.init;m.fx.step={};var $a,nc,rd=/^(?:toggle|show|hide)$/,sd=new RegExp("^(?:([+-])=|)("+Ob+")([a-z%]*)$","i"),we=/queueHooks$/,fc=[function(b,a,c){var g,d,h,e,l,f,p,q=this,k={},v=b.style,r=b.nodeType&&Za(b),s=F.get(b,"fxshow");c.queue||
(e=m._queueHooks(b,"fx"),null==e.unqueued&&(e.unqueued=0,l=e.empty.fire,e.empty.fire=function(){e.unqueued||l()}),e.unqueued++,q.always(function(){q.always(function(){e.unqueued--;m.queue(b,"fx").length||e.empty.fire()})}));1===b.nodeType&&("height"in a||"width"in a)&&(c.overflow=[v.overflow,v.overflowX,v.overflowY],f=m.css(b,"display"),p="none"===f?F.get(b,"olddisplay")||B(b.nodeName):f,"inline"===p&&"none"===m.css(b,"float")&&(v.display="inline-block"));c.overflow&&(v.overflow="hidden",q.always(function(){v.overflow=
c.overflow[0];v.overflowX=c.overflow[1];v.overflowY=c.overflow[2]}));for(g in a)if(d=a[g],rd.exec(d)){if(delete a[g],h=h||"toggle"===d,d===(r?"hide":"show")){if("show"!==d||!s||void 0===s[g])continue;r=!0}k[g]=s&&s[g]||m.style(b,g)}else f=void 0;if(m.isEmptyObject(k))"inline"===("none"===f?B(b.nodeName):f)&&(v.display=f);else for(g in s?"hidden"in s&&(r=s.hidden):s=F.access(b,"fxshow",{}),h&&(s.hidden=!r),r?m(b).show():q.done(function(){m(b).hide()}),q.done(function(){var a;F.remove(b,"fxshow");for(a in k)m.style(b,
a,k[a])}),k)a=na(r?s[g]:0,g,q),g in s||(s[g]=a.start,r&&(a.end=a.start,a.start="width"===g||"height"===g?1:0))}],Lb={"*":[function(b,a){var c=this.createTween(b,a),g=c.cur(),d=sd.exec(a),h=d&&d[3]||(m.cssNumber[b]?"":"px"),e=(m.cssNumber[b]||"px"!==h&&+g)&&sd.exec(m.css(c.elem,b)),l=1,f=20;if(e&&e[3]!==h){h=h||e[3];d=d||[];e=+g||1;do l=l||".5",e/=l,m.style(c.elem,b,e+h);while(l!==(l=c.cur()/g)&&1!==l&&--f)}return d&&(e=c.start=+e||+g||0,c.unit=h,c.end=d[1]?e+(d[1]+1)*d[2]:+d[2]),c}]};m.Animation=
m.extend(ra,{tweener:function(b,a){m.isFunction(b)?(a=b,b=["*"]):b=b.split(" ");for(var c,g=0,d=b.length;d>g;g++)c=b[g],Lb[c]=Lb[c]||[],Lb[c].unshift(a)},prefilter:function(b,a){a?fc.unshift(b):fc.push(b)}});m.speed=function(b,a,c){var g=b&&"object"==typeof b?m.extend({},b):{complete:c||!c&&a||m.isFunction(b)&&b,duration:b,easing:c&&a||a&&!m.isFunction(a)&&a};return g.duration=m.fx.off?0:"number"==typeof g.duration?g.duration:g.duration in m.fx.speeds?m.fx.speeds[g.duration]:m.fx.speeds._default,
(null==g.queue||!0===g.queue)&&(g.queue="fx"),g.old=g.complete,g.complete=function(){m.isFunction(g.old)&&g.old.call(this);g.queue&&m.dequeue(this,g.queue)},g};m.fn.extend({fadeTo:function(b,a,c,g){return this.filter(Za).css("opacity",0).show().end().animate({opacity:a},b,c,g)},animate:function(b,a,c,g){var d=m.isEmptyObject(b),h=m.speed(a,c,g);a=function(){var a=ra(this,m.extend({},b),h);(d||F.get(this,"finish"))&&a.stop(!0)};return a.finish=a,d||!1===h.queue?this.each(a):this.queue(h.queue,a)},
stop:function(b,a,c){var g=function(b){var a=b.stop;delete b.stop;a(c)};return"string"!=typeof b&&(c=a,a=b,b=void 0),a&&!1!==b&&this.queue(b||"fx",[]),this.each(function(){var a=!0,d=null!=b&&b+"queueHooks",h=m.timers,e=F.get(this);if(d)e[d]&&e[d].stop&&g(e[d]);else for(d in e)e[d]&&e[d].stop&&we.test(d)&&g(e[d]);for(d=h.length;d--;)h[d].elem!==this||null!=b&&h[d].queue!==b||(h[d].anim.stop(c),a=!1,h.splice(d,1));!a&&c||m.dequeue(this,b)})},finish:function(b){return!1!==b&&(b=b||"fx"),this.each(function(){var a,
c=F.get(this),g=c[b+"queue"];a=c[b+"queueHooks"];var d=m.timers,h=g?g.length:0;c.finish=!0;m.queue(this,b,[]);a&&a.stop&&a.stop.call(this,!0);for(a=d.length;a--;)d[a].elem===this&&d[a].queue===b&&(d[a].anim.stop(!0),d.splice(a,1));for(a=0;h>a;a++)g[a]&&g[a].finish&&g[a].finish.call(this);delete c.finish})}});m.each(["toggle","show","hide"],function(b,a){var c=m.fn[a];m.fn[a]=function(b,g,d){return null==b||"boolean"==typeof b?c.apply(this,arguments):this.animate(fa(a,!0),b,g,d)}});m.each({slideDown:fa("show"),
slideUp:fa("hide"),slideToggle:fa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,a){m.fn[b]=function(b,c,g){return this.animate(a,b,c,g)}});m.timers=[];m.fx.tick=function(){var b,a=0,c=m.timers;for($a=m.now();a<c.length;a++)b=c[a],b()||c[a]!==b||c.splice(a--,1);c.length||m.fx.stop();$a=void 0};m.fx.timer=function(b){m.timers.push(b);b()?m.fx.start():m.timers.pop()};m.fx.interval=13;m.fx.start=function(){nc||(nc=setInterval(m.fx.tick,m.fx.interval))};
m.fx.stop=function(){clearInterval(nc);nc=null};m.fx.speeds={slow:600,fast:200,_default:400};m.fn.delay=function(b,a){return b=m.fx?m.fx.speeds[b]||b:b,a=a||"fx",this.queue(a,function(a,c){var g=setTimeout(a,b);c.stop=function(){clearTimeout(g)}})};(function(){var b=M.createElement("input"),a=M.createElement("select"),c=a.appendChild(M.createElement("option"));b.type="checkbox";T.checkOn=""!==b.value;T.optSelected=c.selected;a.disabled=!0;T.optDisabled=!c.disabled;b=M.createElement("input");b.value=
"t";b.type="radio";T.radioValue="t"===b.value})();var td,Qb=m.expr.attrHandle;m.fn.extend({attr:function(b,a){return qa(this,m.attr,b,a,1<arguments.length)},removeAttr:function(b){return this.each(function(){m.removeAttr(this,b)})}});m.extend({attr:function(b,a,c){var g,d,h=b.nodeType;if(b&&3!==h&&8!==h&&2!==h)return"undefined"===typeof b.getAttribute?m.prop(b,a,c):(1===h&&m.isXMLDoc(b)||(a=a.toLowerCase(),g=m.attrHooks[a]||(m.expr.match.bool.test(a)?td:void 0)),void 0===c?g&&"get"in g&&null!==(d=
g.get(b,a))?d:(d=m.find.attr(b,a),null==d?void 0:d):null!==c?g&&"set"in g&&void 0!==(d=g.set(b,c,a))?d:(b.setAttribute(a,c+""),c):void m.removeAttr(b,a))},removeAttr:function(b,a){var c,g,d=0,h=a&&a.match(ma);if(h&&1===b.nodeType)for(;c=h[d++];)g=m.propFix[c]||c,m.expr.match.bool.test(c)&&(b[g]=!1),b.removeAttribute(c)},attrHooks:{type:{set:function(b,a){if(!T.radioValue&&"radio"===a&&m.nodeName(b,"input")){var c=b.value;return b.setAttribute("type",a),c&&(b.value=c),a}}}}});td={set:function(b,a,
c){return!1===a?m.removeAttr(b,c):b.setAttribute(c,c),c}};m.each(m.expr.match.bool.source.match(/\w+/g),function(b,a){var c=Qb[a]||m.find.attr;Qb[a]=function(b,a,g){var d,h;return g||(h=Qb[a],Qb[a]=d,d=null!=c(b,a,g)?a.toLowerCase():null,Qb[a]=h),d}});var Oc=/^(?:input|select|textarea|button)$/i;m.fn.extend({prop:function(b,a){return qa(this,m.prop,b,a,1<arguments.length)},removeProp:function(b){return this.each(function(){delete this[m.propFix[b]||b]})}});m.extend({propFix:{"for":"htmlFor","class":"className"},
prop:function(b,a,c){var g,d,h,e=b.nodeType;if(b&&3!==e&&8!==e&&2!==e)return h=1!==e||!m.isXMLDoc(b),h&&(a=m.propFix[a]||a,d=m.propHooks[a]),void 0!==c?d&&"set"in d&&void 0!==(g=d.set(b,c,a))?g:b[a]=c:d&&"get"in d&&null!==(g=d.get(b,a))?g:b[a]},propHooks:{tabIndex:{get:function(b){return b.hasAttribute("tabindex")||Oc.test(b.nodeName)||b.href?b.tabIndex:-1}}}});T.optSelected||(m.propHooks.selected={get:function(b){b=b.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}});m.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){m.propFix[this.toLowerCase()]=this});var oc=/[\t\r\n\f]/g;m.fn.extend({addClass:function(b){var a,c,g,d,h;a="string"==typeof b&&b;var e=0,l=this.length;if(m.isFunction(b))return this.each(function(a){m(this).addClass(b.call(this,a,this.className))});if(a)for(a=(b||"").match(ma)||[];l>e;e++)if(c=this[e],g=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(oc," "):" ")){for(h=0;d=a[h++];)0>g.indexOf(" "+d+" ")&&(g+=d+" ");g=m.trim(g);c.className!==g&&(c.className=g)}return this},
removeClass:function(b){var a,c,g,d,h;a=0===arguments.length||"string"==typeof b&&b;var e=0,l=this.length;if(m.isFunction(b))return this.each(function(a){m(this).removeClass(b.call(this,a,this.className))});if(a)for(a=(b||"").match(ma)||[];l>e;e++)if(c=this[e],g=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(oc," "):"")){for(h=0;d=a[h++];)for(;0<=g.indexOf(" "+d+" ");)g=g.replace(" "+d+" "," ");g=b?m.trim(g):"";c.className!==g&&(c.className=g)}return this},toggleClass:function(b,a){var c=
typeof b;return"boolean"==typeof a&&"string"===c?a?this.addClass(b):this.removeClass(b):this.each(m.isFunction(b)?function(c){m(this).toggleClass(b.call(this,c,this.className,a),a)}:function(){if("string"===c)for(var a,g=0,d=m(this),h=b.match(ma)||[];a=h[g++];)d.hasClass(a)?d.removeClass(a):d.addClass(a);else("undefined"===c||"boolean"===c)&&(this.className&&F.set(this,"__className__",this.className),this.className=this.className||!1===b?"":F.get(this,"__className__")||"")})},hasClass:function(b){b=
" "+b+" ";for(var a=0,c=this.length;c>a;a++)if(1===this[a].nodeType&&0<=(" "+this[a].className+" ").replace(oc," ").indexOf(b))return!0;return!1}});var pc=/\r/g;m.fn.extend({val:function(b){var a,c,g,d=this[0];if(arguments.length)return g=m.isFunction(b),this.each(function(c){var d;1===this.nodeType&&(d=g?b.call(this,c,m(this).val()):b,null==d?d="":"number"==typeof d?d+="":m.isArray(d)&&(d=m.map(d,function(b){return null==b?"":b+""})),a=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],
a&&"set"in a&&void 0!==a.set(this,d,"value")||(this.value=d))});if(d)return a=m.valHooks[d.type]||m.valHooks[d.nodeName.toLowerCase()],a&&"get"in a&&void 0!==(c=a.get(d,"value"))?c:(c=d.value,"string"==typeof c?c.replace(pc,""):null==c?"":c)}});m.extend({valHooks:{option:{get:function(b){var a=m.find.attr(b,"value");return null!=a?a:m.trim(m.text(b))}},select:{get:function(b){for(var a,c=b.options,g=b.selectedIndex,d="select-one"===b.type||0>g,h=d?null:[],e=d?g+1:c.length,l=0>g?e:d?g:0;e>l;l++)if(a=
c[l],!(!a.selected&&l!==g||(T.optDisabled?a.disabled:null!==a.getAttribute("disabled"))||a.parentNode.disabled&&m.nodeName(a.parentNode,"optgroup"))){if(b=m(a).val(),d)return b;h.push(b)}return h},set:function(b,a){for(var c,g,d=b.options,h=m.makeArray(a),e=d.length;e--;)g=d[e],(g.selected=0<=m.inArray(g.value,h))&&(c=!0);return c||(b.selectedIndex=-1),h}}}});m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(b,a){return m.isArray(a)?b.checked=0<=m.inArray(m(b).val(),a):void 0}};
T.checkOn||(m.valHooks[this].get=function(b){return null===b.getAttribute("value")?"on":b.value})});m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(b,a){m.fn[a]=function(b,c){return 0<arguments.length?this.on(a,null,b,c):this.trigger(a)}});m.fn.extend({hover:function(b,a){return this.mouseenter(b).mouseleave(a||b)},bind:function(b,
a,c){return this.on(b,null,a,c)},unbind:function(b,a){return this.off(b,null,a)},delegate:function(b,a,c,g){return this.on(a,b,c,g)},undelegate:function(b,a,c){return 1===arguments.length?this.off(b,"**"):this.off(a,b||"**",c)}});var Rb=m.now(),qc=/\?/;m.parseJSON=function(b){return JSON.parse(b+"")};m.parseXML=function(b){var a,c;if(!b||"string"!=typeof b)return null;try{c=new DOMParser,a=c.parseFromString(b,"text/xml")}catch(g){a=void 0}return(!a||a.getElementsByTagName("parsererror").length)&&
m.error("Invalid XML: "+b),a};var fb,xa,rc=/#.*$/,gb=/([?&])_=[^&]*/,Pc=/^(.*?):[ \t]*([^\r\n]*)$/gm,sc=/^(?:GET|HEAD)$/,tc=/^\/\//,Sb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Tb={},Mb={},zb="*/".concat("*");try{xa=location.href}catch(xe){xa=M.createElement("a"),xa.href="",xa=xa.href}fb=Sb.exec(xa.toLowerCase())||[];m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xa,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(fb[1]),global:!0,
processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(b,a){return a?H(H(b,m.ajaxSettings),
a):H(m.ajaxSettings,b)},ajaxPrefilter:Ga(Tb),ajaxTransport:Ga(Mb),ajax:function(b,a){function c(b,a,e,f){var q,x,y,A,aa=a;if(2!==B){B=2;l&&clearTimeout(l);g=void 0;h=f||"";z.readyState=0<b?4:0;f=200<=b&&300>b||304===b;if(e){y=k;for(var Y=z,Ja,N,ea,ha,P=y.contents,W=y.dataTypes;"*"===W[0];)W.shift(),void 0===Ja&&(Ja=y.mimeType||Y.getResponseHeader("Content-Type"));if(Ja)for(N in P)if(P[N]&&P[N].test(Ja)){W.unshift(N);break}if(W[0]in e)ea=W[0];else{for(N in e){if(!W[0]||y.converters[N+" "+W[0]]){ea=
N;break}ha||(ha=N)}ea=ea||ha}y=ea?(ea!==W[0]&&W.unshift(ea),e[ea]):void 0}var Q;a:{e=k;Ja=y;N=z;ea=f;var ba,F,H;y={};Y=e.dataTypes.slice();if(Y[1])for(ba in e.converters)y[ba.toLowerCase()]=e.converters[ba];for(ha=Y.shift();ha;)if(e.responseFields[ha]&&(N[e.responseFields[ha]]=Ja),!H&&ea&&e.dataFilter&&(Ja=e.dataFilter(Ja,e.dataType)),H=ha,ha=Y.shift())if("*"===ha)ha=H;else if("*"!==H&&H!==ha){if(ba=y[H+" "+ha]||y["* "+ha],!ba)for(Q in y)if(F=Q.split(" "),F[1]===ha&&(ba=y[H+" "+F[0]]||y["* "+F[0]])){!0===
ba?ba=y[Q]:!0!==y[Q]&&(ha=F[0],Y.unshift(F[1]));break}if(!0!==ba)if(ba&&e["throws"])Ja=ba(Ja);else try{Ja=ba(Ja)}catch(fa){Q={state:"parsererror",error:ba?fa:"No conversion from "+H+" to "+ha};break a}}Q={state:"success",data:Ja}}y=Q;f?(k.ifModified&&(A=z.getResponseHeader("Last-Modified"),A&&(m.lastModified[d]=A),A=z.getResponseHeader("etag"),A&&(m.etag[d]=A)),204===b||"HEAD"===k.type?aa="nocontent":304===b?aa="notmodified":(aa=y.state,q=y.data,x=y.error,f=!x)):(x=aa,(b||!aa)&&(aa="error",0>b&&(b=
0)));z.status=b;z.statusText=(a||aa)+"";f?s.resolveWith(v,[q,aa,z]):s.rejectWith(v,[z,aa,x]);z.statusCode(w);w=void 0;p&&r.trigger(f?"ajaxSuccess":"ajaxError",[z,k,f?q:x]);u.fireWith(v,[z,aa]);p&&(r.trigger("ajaxComplete",[z,k]),--m.active||m.event.trigger("ajaxStop"))}}"object"==typeof b&&(a=b,b=void 0);a=a||{};var g,d,h,e,l,f,p,q,k=m.ajaxSetup({},a),v=k.context||k,r=k.context&&(v.nodeType||v.jquery)?m(v):m.event,s=m.Deferred(),u=m.Callbacks("once memory"),w=k.statusCode||{},x={},y={},B=0,A="canceled",
z={readyState:0,getResponseHeader:function(b){var a;if(2===B){if(!e)for(e={};a=Pc.exec(h);)e[a[1].toLowerCase()]=a[2];a=e[b.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return 2===B?h:null},setRequestHeader:function(b,a){var c=b.toLowerCase();return B||(b=y[c]=y[c]||b,x[b]=a),this},overrideMimeType:function(b){return B||(k.mimeType=b),this},statusCode:function(b){var a;if(b)if(2>B)for(a in b)w[a]=[w[a],b[a]];else z.always(b[z.status]);return this},abort:function(b){b=b||
A;return g&&g.abort(b),c(0,b),this}};if(s.promise(z).complete=u.add,z.success=z.done,z.error=z.fail,k.url=((b||k.url||xa)+"").replace(rc,"").replace(tc,fb[1]+"//"),k.type=a.method||a.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(ma)||[""],null==k.crossDomain&&(f=Sb.exec(k.url.toLowerCase()),k.crossDomain=!(!f||f[1]===fb[1]&&f[2]===fb[2]&&(f[3]||("http:"===f[1]?"80":"443"))===(fb[3]||("http:"===fb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=
m.param(k.data,k.traditional)),Ca(Tb,k,a,z),2===B)return z;(p=k.global)&&0===m.active++&&m.event.trigger("ajaxStart");k.type=k.type.toUpperCase();k.hasContent=!sc.test(k.type);d=k.url;k.hasContent||(k.data&&(d=k.url+=(qc.test(d)?"&":"?")+k.data,delete k.data),!1===k.cache&&(k.url=gb.test(d)?d.replace(gb,"$1_="+Rb++):d+(qc.test(d)?"&":"?")+"_="+Rb++));k.ifModified&&(m.lastModified[d]&&z.setRequestHeader("If-Modified-Since",m.lastModified[d]),m.etag[d]&&z.setRequestHeader("If-None-Match",m.etag[d]));
(k.data&&k.hasContent&&!1!==k.contentType||a.contentType)&&z.setRequestHeader("Content-Type",k.contentType);z.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+zb+"; q=0.01":""):k.accepts["*"]);for(q in k.headers)z.setRequestHeader(q,k.headers[q]);if(k.beforeSend&&(!1===k.beforeSend.call(v,z,k)||2===B))return z.abort();A="abort";for(q in{success:1,error:1,complete:1})z[q](k[q]);if(g=Ca(Mb,k,a,z)){z.readyState=1;p&&r.trigger("ajaxSend",
[z,k]);k.async&&0<k.timeout&&(l=setTimeout(function(){z.abort("timeout")},k.timeout));try{B=1,g.send(x,c)}catch(Y){if(!(2>B))throw Y;c(-1,Y)}}else c(-1,"No Transport");return z},getJSON:function(b,a,c){return m.get(b,a,c,"json")},getScript:function(b,a){return m.get(b,void 0,a,"script")}});m.each(["get","post"],function(b,a){m[a]=function(b,c,g,d){return m.isFunction(c)&&(d=d||g,g=c,c=void 0),m.ajax({url:b,type:a,dataType:d,data:c,success:g})}});m.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(b,a){m.fn[a]=function(b){return this.on(a,b)}});m._evalUrl=function(b){return m.ajax({url:b,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};m.fn.extend({wrapAll:function(b){var a;return m.isFunction(b)?this.each(function(a){m(this).wrapAll(b.call(this,a))}):(this[0]&&(a=m(b,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&a.insertBefore(this[0]),a.map(function(){for(var b=this;b.firstElementChild;)b=b.firstElementChild;return b}).append(this)),this)},wrapInner:function(b){return this.each(m.isFunction(b)?
function(a){m(this).wrapInner(b.call(this,a))}:function(){var a=m(this),c=a.contents();c.length?c.wrapAll(b):a.append(b)})},wrap:function(b){var a=m.isFunction(b);return this.each(function(c){m(this).wrapAll(a?b.call(this,c):b)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}});m.expr.filters.hidden=function(b){return 0>=b.offsetWidth&&0>=b.offsetHeight};m.expr.filters.visible=function(b){return!m.expr.filters.hidden(b)};
var ud=/%20/g,ge=/\[\]$/,hb=/\r?\n/g,vd=/^(?:submit|button|image|reset|file)$/i,wd=/^(?:input|select|textarea|keygen)/i;m.param=function(b,a){var c,g=[],d=function(b,a){a=m.isFunction(a)?a():null==a?"":a;g[g.length]=encodeURIComponent(b)+"="+encodeURIComponent(a)};if(void 0===a&&(a=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(b)||b.jquery&&!m.isPlainObject(b))m.each(b,function(){d(this.name,this.value)});else for(c in b)ja(c,b[c],a,d);return g.join("&").replace(ud,"+")};m.fn.extend({serialize:function(){return m.param(this.serializeArray())},
serializeArray:function(){return this.map(function(){var b=m.prop(this,"elements");return b?m.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!m(this).is(":disabled")&&wd.test(this.nodeName)&&!vd.test(b)&&(this.checked||!X.test(b))}).map(function(b,a){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(b){return{name:a.name,value:b.replace(hb,"\r\n")}}):{name:a.name,value:c.replace(hb,"\r\n")}}).get()}});m.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(b){}};
var uc=0,Ub={},ye={0:200,1223:204},Ab=m.ajaxSettings.xhr();a.ActiveXObject&&m(a).on("unload",function(){for(var b in Ub)Ub[b]()});T.cors=!!Ab&&"withCredentials"in Ab;T.ajax=Ab=!!Ab;m.ajaxTransport(function(b){var a;return T.cors||Ab&&!b.crossDomain?{send:function(c,g){var d,h=b.xhr(),e=++uc;if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(d in b.xhrFields)h[d]=b.xhrFields[d];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType);b.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]=
"XMLHttpRequest");for(d in c)h.setRequestHeader(d,c[d]);a=function(b){return function(){a&&(delete Ub[e],a=h.onload=h.onerror=null,"abort"===b?h.abort():"error"===b?g(h.status,h.statusText):g(ye[h.status]||h.status,h.statusText,"string"==typeof h.responseText?{text:h.responseText}:void 0,h.getAllResponseHeaders()))}};h.onload=a();h.onerror=a("error");a=Ub[e]=a("abort");try{h.send(b.hasContent&&b.data||null)}catch(l){if(a)throw l;}},abort:function(){a&&a()}}:void 0});m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(b){return m.globalEval(b),b}}});m.ajaxPrefilter("script",function(b){void 0===b.cache&&(b.cache=!1);b.crossDomain&&(b.type="GET")});m.ajaxTransport("script",function(b){if(b.crossDomain){var a,c;return{send:function(g,d){a=m("<script>").prop({async:!0,charset:b.scriptCharset,src:b.url}).on("load error",c=function(b){a.remove();c=null;b&&d("error"===b.type?404:200,b.type)});M.head.appendChild(a[0])},abort:function(){c&&c()}}}});
var xd=[],Qc=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=xd.pop()||m.expando+"_"+Rb++;return this[b]=!0,b}});m.ajaxPrefilter("json jsonp",function(b,c,g){var d,h,e,l=!1!==b.jsonp&&(Qc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qc.test(b.data)&&"data");return l||"jsonp"===b.dataTypes[0]?(d=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,l?b[l]=b[l].replace(Qc,"$1"+
d):!1!==b.jsonp&&(b.url+=(qc.test(b.url)?"&":"?")+b.jsonp+"="+d),b.converters["script json"]=function(){return e||m.error(d+" was not called"),e[0]},b.dataTypes[0]="json",h=a[d],a[d]=function(){e=arguments},g.always(function(){a[d]=h;b[d]&&(b.jsonpCallback=c.jsonpCallback,xd.push(d));e&&m.isFunction(h)&&h(e[0]);e=h=void 0}),"script"):void 0});m.parseHTML=function(b,a,c){if(!b||"string"!=typeof b)return null;"boolean"==typeof a&&(c=a,a=!1);a=a||M;var g=lc.exec(b);c=!c&&[];return g?[a.createElement(g[1])]:
(g=m.buildFragment([b],a,c),c&&c.length&&m(c).remove(),m.merge([],g.childNodes))};var Rc=m.fn.load;m.fn.load=function(b,a,c){if("string"!=typeof b&&Rc)return Rc.apply(this,arguments);var g,d,h,e=this,l=b.indexOf(" ");return 0<=l&&(g=m.trim(b.slice(l)),b=b.slice(0,l)),m.isFunction(a)?(c=a,a=void 0):a&&"object"==typeof a&&(d="POST"),0<e.length&&m.ajax({url:b,type:d,dataType:"html",data:a}).done(function(b){h=arguments;e.html(g?m("<div>").append(m.parseHTML(b)).find(g):b)}).complete(c&&function(b,a){e.each(c,
h||[b.responseText,a,b])}),this};m.expr.filters.animated=function(b){return m.grep(m.timers,function(a){return b===a.elem}).length};var Sc=a.document.documentElement;m.offset={setOffset:function(b,a,c){var g,d,h,e,l,f,p=m.css(b,"position"),q=m(b),k={};"static"===p&&(b.style.position="relative");l=q.offset();h=m.css(b,"top");f=m.css(b,"left");("absolute"===p||"fixed"===p)&&-1<(h+f).indexOf("auto")?(g=q.position(),e=g.top,d=g.left):(e=parseFloat(h)||0,d=parseFloat(f)||0);m.isFunction(a)&&(a=a.call(b,
c,l));null!=a.top&&(k.top=a.top-l.top+e);null!=a.left&&(k.left=a.left-l.left+d);"using"in a?a.using.call(b,k):q.css(k)}};m.fn.extend({offset:function(b){if(arguments.length)return void 0===b?this:this.each(function(a){m.offset.setOffset(this,b,a)});var a,c,g=this[0],d={top:0,left:0},h=g&&g.ownerDocument;if(h)return a=h.documentElement,m.contains(a,g)?("undefined"!==typeof g.getBoundingClientRect&&(d=g.getBoundingClientRect()),c=R(h),{top:d.top+c.pageYOffset-a.clientTop,left:d.left+c.pageXOffset-a.clientLeft}):
d},position:function(){if(this[0]){var b,a,c=this[0],g={top:0,left:0};return"fixed"===m.css(c,"position")?a=c.getBoundingClientRect():(b=this.offsetParent(),a=this.offset(),m.nodeName(b[0],"html")||(g=b.offset()),g.top+=m.css(b[0],"borderTopWidth",!0),g.left+=m.css(b[0],"borderLeftWidth",!0)),{top:a.top-g.top-m.css(c,"marginTop",!0),left:a.left-g.left-m.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent||Sc;b&&!m.nodeName(b,"html")&&"static"===
m.css(b,"position");)b=b.offsetParent;return b||Sc})}});m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var g="pageYOffset"===c;m.fn[b]=function(d){return qa(this,function(b,d,h){var e=R(b);return void 0===h?e?e[c]:b[d]:void(e?e.scrollTo(g?a.pageXOffset:h,g?h:a.pageYOffset):b[d]=h)},b,d,arguments.length,null)}});m.each(["top","left"],function(b,a){m.cssHooks[a]=z(T.pixelPosition,function(b,c){return c?(c=A(b,a),rb.test(c)?m(b).position()[a]+"px":c):void 0})});m.each({Height:"height",
Width:"width"},function(b,a){m.each({padding:"inner"+b,content:a,"":"outer"+b},function(c,g){m.fn[g]=function(g,d){var h=arguments.length&&(c||"boolean"!=typeof g),e=c||(!0===g||!0===d?"margin":"border");return qa(this,function(a,c,g){var d;return m.isWindow(a)?a.document.documentElement["client"+b]:9===a.nodeType?(d=a.documentElement,Math.max(a.body["scroll"+b],d["scroll"+b],a.body["offset"+b],d["offset"+b],d["client"+b])):void 0===g?m.css(a,c,e):m.style(a,c,g,e)},a,h?g:void 0,h,null)}})});m.fn.size=
function(){return this.length};m.fn.andSelf=m.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var yd=a.jQuery,Tc=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=Tc),b&&a.jQuery===m&&(a.jQuery=yd),m},"undefined"===typeof k&&(a.jQuery=a.$=m),m});(function(a,k){function e(b,c){var g,d;g=b.nodeName.toLowerCase();if("area"===g){g=b.parentNode;d=g.name;if(!b.href||!d||"map"!==g.nodeName.toLowerCase())return!1;g=a("img[usemap=#"+d+"]")[0];return!!g&&f(g)}return(/input|select|textarea|button|object/.test(g)?!b.disabled:"a"===g?b.href||c:c)&&f(b)}function f(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var d=0,h=/^ui-id-\d+$/;a.ui=a.ui||{};a.extend(a.ui,{version:"1.10.4",
keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});a.fn.extend({focus:function(b){return function(c,g){return"number"===typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus();g&&g.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;b=
a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?a(document):
b},zIndex:function(b){if(b!==k)return this.css("zIndex",b);if(this.length){b=a(this[0]);for(var c;b.length&&b[0]!==document;){c=b.css("position");if("absolute"===c||"relative"===c||"fixed"===c)if(c=parseInt(b.css("zIndex"),10),!isNaN(c)&&0!==c)return c;b=b.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++d)})},removeUniqueId:function(){return this.each(function(){h.test(this.id)&&a(this).removeAttr("id")})}});a.extend(a.expr[":"],{data:a.expr.createPseudo?
a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,g){return!!a.data(b,g[3])},focusable:function(b){return e(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),g=isNaN(c);return(g||0<=c)&&e(b,!g)}});a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,c){function g(b,c,g,h){a.each(d,function(){c-=parseFloat(a.css(b,"padding"+this))||0;g&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0);h&&(c-=parseFloat(a.css(b,"margin"+
this))||0)});return c}var d="Width"===c?["Left","Right"]:["Top","Bottom"],h=c.toLowerCase(),e={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+c]=function(b){return b===k?e["inner"+c].call(this):this.each(function(){a(this).css(h,g(this,b)+"px")})};a.fn["outer"+c]=function(b,d){return"number"!==typeof b?e["outer"+c].call(this,b):this.each(function(){a(this).css(h,g(this,b,!0,d)+"px")})}});a.fn.addBack||(a.fn.addBack=function(b){return this.add(null==
b?this.prevObject:this.prevObject.filter(b))});a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData));a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());a.support.selectstart="onselectstart"in document.createElement("div");a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",
function(b){b.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});a.extend(a.ui,{plugin:{add:function(b,c,g){var d;b=a.ui[b].prototype;for(d in g)b.plugins[d]=b.plugins[d]||[],b.plugins[d].push([c,g[d]])},call:function(b,a,g){var d=b.plugins[a];if(d&&b.element[0].parentNode&&11!==b.element[0].parentNode.nodeType)for(a=0;a<d.length;a++)b.options[d[a][0]]&&d[a][1].apply(b.element,g)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var g=
c&&"left"===c?"scrollLeft":"scrollTop",d=!1;if(0<b[g])return!0;b[g]=1;d=0<b[g];b[g]=0;return d}})})(jQuery);
(function(a,k){var e=0,f=Array.prototype.slice,d=a.cleanData;a.cleanData=function(h){for(var b=0,c;null!=(c=h[b]);b++)try{a(c).triggerHandler("remove")}catch(g){}d(h)};a.widget=function(d,b,c){var g,e,f,k,q={},r=d.split(".")[0];d=d.split(".")[1];g=r+"-"+d;c||(c=b,b=a.Widget);a.expr[":"][g.toLowerCase()]=function(b){return!!a.data(b,g)};a[r]=a[r]||{};e=a[r][d];f=a[r][d]=function(b,a){if(!this._createWidget)return new f(b,a);arguments.length&&this._createWidget(b,a)};a.extend(f,e,{version:c.version,
_proto:a.extend({},c),_childConstructors:[]});k=new b;k.options=a.widget.extend({},k.options);a.each(c,function(c,g){a.isFunction(g)?q[c]=function(){var a=function(){return b.prototype[c].apply(this,arguments)},d=function(a){return b.prototype[c].apply(this,a)};return function(){var b=this._super,c=this._superApply,h;this._super=a;this._superApply=d;h=g.apply(this,arguments);this._super=b;this._superApply=c;return h}}():q[c]=g});f.prototype=a.widget.extend(k,{widgetEventPrefix:e?k.widgetEventPrefix||
d:d},q,{constructor:f,namespace:r,widgetName:d,widgetFullName:g});e?(a.each(e._childConstructors,function(b,c){var g=c.prototype;a.widget(g.namespace+"."+g.widgetName,f,c._proto)}),delete e._childConstructors):b._childConstructors.push(f);a.widget.bridge(d,f)};a.widget.extend=function(d){for(var b=f.call(arguments,1),c=0,g=b.length,e,p;c<g;c++)for(e in b[c])p=b[c][e],b[c].hasOwnProperty(e)&&p!==k&&(a.isPlainObject(p)?d[e]=a.isPlainObject(d[e])?a.widget.extend({},d[e],p):a.widget.extend({},p):d[e]=
p);return d};a.widget.bridge=function(d,b){var c=b.prototype.widgetFullName||d;a.fn[d]=function(g){var e="string"===typeof g,p=f.call(arguments,1),v=this;g=!e&&p.length?a.widget.extend.apply(null,[g].concat(p)):g;e?this.each(function(){var b,e=a.data(this,c);if(!e)return a.error("cannot call methods on "+d+" prior to initialization; attempted to call method '"+g+"'");if(!a.isFunction(e[g])||"_"===g.charAt(0))return a.error("no such method '"+g+"' for "+d+" widget instance");b=e[g].apply(e,p);if(b!==
e&&b!==k)return v=b&&b.jquery?v.pushStack(b.get()):b,!1}):this.each(function(){var d=a.data(this,c);d?d.option(g||{})._init():a.data(this,c,new b(g,this))});return v}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(d,b){b=a(b||this.defaultElement||this)[0];this.element=a(b);this.uuid=e++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},
this.options,this._getCreateOptions(),d);this.bindings=a();this.hoverable=a();this.focusable=a();b!==this&&(a.data(b,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===b&&this.destroy()}}),this.document=a(b.style?b.ownerDocument:b.document||b),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,
_init:a.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},
option:function(d,b){var c=d,g,e,f;if(0===arguments.length)return a.widget.extend({},this.options);if("string"===typeof d)if(c={},g=d.split("."),d=g.shift(),g.length){e=c[d]=a.widget.extend({},this.options[d]);for(f=0;f<g.length-1;f++)e[g[f]]=e[g[f]]||{},e=e[g[f]];d=g.pop();if(1===arguments.length)return e[d]===k?null:e[d];e[d]=b}else{if(1===arguments.length)return this.options[d]===k?null:this.options[d];c[d]=b}this._setOptions(c);return this},_setOptions:function(a){for(var b in a)this._setOption(b,
a[b]);return this},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(d,b,c){var g,e=this;"boolean"!==typeof d&&(c=b,b=d,d=!1);c?(b=g=a(b),this.bindings=this.bindings.add(b)):
(c=b,b=this.element,g=this.widget());a.each(c,function(c,f){function q(){if(d||!0!==e.options.disabled&&!a(this).hasClass("ui-state-disabled"))return("string"===typeof f?e[f]:f).apply(e,arguments)}"string"!==typeof f&&(q.guid=f.guid=f.guid||q.guid||a.guid++);var k=c.match(/^(\w+)\s*(.*)$/),s=k[1]+e.eventNamespace;(k=k[2])?g.delegate(k,s,q):b.bind(s,q)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=
this;return setTimeout(function(){return("string"===typeof a?c[a]:a).apply(c,arguments)},b||0)},_hoverable:function(d){this.hoverable=this.hoverable.add(d);this._on(d,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(d){this.focusable=this.focusable.add(d);this._on(d,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},
_trigger:function(d,b,c){var g,e=this.options[d];c=c||{};b=a.Event(b);b.type=(d===this.widgetEventPrefix?d:this.widgetEventPrefix+d).toLowerCase();b.target=this.element[0];if(d=b.originalEvent)for(g in d)g in b||(b[g]=d[g]);this.element.trigger(b,c);return!(a.isFunction(e)&&!1===e.apply(this.element[0],[b].concat(c))||b.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(d,b){a.Widget.prototype["_"+d]=function(c,g,e){"string"===typeof g&&(g={effect:g});var f,k=g?!0===g||"number"===
typeof g?b:g.effect||b:d;g=g||{};"number"===typeof g&&(g={duration:g});f=!a.isEmptyObject(g);g.complete=e;g.delay&&c.delay(g.delay);if(f&&a.effects&&a.effects.effect[k])c[d](g);else if(k!==d&&c[k])c[k](g.duration,g.easing,e);else c.queue(function(b){a(this)[d]();e&&e.call(c[0]);b()})}})})(jQuery);
(function(a,k){var e=!1;a(document).mouseup(function(){e=!1});a.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(a){return e._mouseDown(a)}).bind("click."+this.widgetName,function(d){if(!0===a.data(d.target,e.widgetName+".preventClickEvent"))return a.removeData(d.target,e.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(f){if(!e){this._mouseStarted&&this._mouseUp(f);this._mouseDownEvent=f;var d=this,h=1===f.which,b="string"===typeof this.options.cancel&&f.target.nodeName?a(f.target).closest(this.options.cancel).length:!1;if(!h||b||!this._mouseCapture(f))return!0;this.mouseDelayMet=
!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)&&(this._mouseStarted=!1!==this._mouseStart(f),!this._mouseStarted))return f.preventDefault(),!0;!0===a.data(f.target,this.widgetName+".preventClickEvent")&&a.removeData(f.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(b){return d._mouseMove(b)};this._mouseUpDelegate=function(b){return d._mouseUp(b)};
a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);f.preventDefault();return e=!0}},_mouseMove:function(e){if(a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(this._mouseStarted)return this._mouseDrag(e),e.preventDefault();this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e))?this._mouseDrag(e):this._mouseUp(e));
return!this._mouseStarted},_mouseUp:function(e){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&a.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},
_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(a,k){function e(b,a,c){return[parseFloat(b[0])*(q.test(b[0])?a/100:1),parseFloat(b[1])*(q.test(b[1])?c/100:1)]}function f(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var d,h=Math.max,b=Math.abs,c=
Math.round,g=/left|center|right/,l=/top|center|bottom/,p=/[\+\-]\d+(\.[\d]+)?%?/,v=/^\w+/,q=/%$/,r=a.fn.position;a.position={scrollbarWidth:function(){if(d!==k)return d;var b,c,g=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");c=g.children()[0];a("body").append(g);b=c.offsetWidth;g.css("overflow","scroll");c=c.offsetWidth;b===c&&(c=g[0].clientWidth);g.remove();return d=b-c},getScrollInfo:function(b){var c=
b.isWindow||b.isDocument?"":b.element.css("overflow-x"),g=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),c="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth;return{width:"scroll"===g||"auto"===g&&b.height<b.element[0].scrollHeight?a.position.scrollbarWidth():0,height:c?a.position.scrollbarWidth():0}},getWithinInfo:function(b){b=a(b||window);var c=a.isWindow(b[0]);return{element:b,isWindow:c,isDocument:!!b[0]&&9===b[0].nodeType,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),
scrollTop:b.scrollTop(),width:c?b.width():b.outerWidth(),height:c?b.height():b.outerHeight()}}};a.fn.position=function(d){if(!d||!d.of)return r.apply(this,arguments);d=a.extend({},d);var q,k,x,y,B,A,z=a(d.of),Y=a.position.getWithinInfo(d.within),ba=a.position.getScrollInfo(Y),W=(d.collision||"flip").split(" "),ea={};A=f(z);z[0].preventDefault&&(d.at="left top");k=A.width;x=A.height;y=A.offset;B=a.extend({},y);a.each(["my","at"],function(){var b=(d[this]||"").split(" "),a,c;1===b.length&&(b=g.test(b[0])?
b.concat(["center"]):l.test(b[0])?["center"].concat(b):["center","center"]);b[0]=g.test(b[0])?b[0]:"center";b[1]=l.test(b[1])?b[1]:"center";a=p.exec(b[0]);c=p.exec(b[1]);ea[this]=[a?a[0]:0,c?c[0]:0];d[this]=[v.exec(b[0])[0],v.exec(b[1])[0]]});1===W.length&&(W[1]=W[0]);"right"===d.at[0]?B.left+=k:"center"===d.at[0]&&(B.left+=k/2);"bottom"===d.at[1]?B.top+=x:"center"===d.at[1]&&(B.top+=x/2);q=e(ea.at,k,x);B.left+=q[0];B.top+=q[1];return this.each(function(){var g,l,f=a(this),p=f.outerWidth(),v=f.outerHeight(),
r=parseInt(a.css(this,"marginLeft"),10)||0,A=parseInt(a.css(this,"marginTop"),10)||0,Ga=p+r+(parseInt(a.css(this,"marginRight"),10)||0)+ba.width,Ca=v+A+(parseInt(a.css(this,"marginBottom"),10)||0)+ba.height,H=a.extend({},B),ja=e(ea.my,f.outerWidth(),f.outerHeight());"right"===d.my[0]?H.left-=p:"center"===d.my[0]&&(H.left-=p/2);"bottom"===d.my[1]?H.top-=v:"center"===d.my[1]&&(H.top-=v/2);H.left+=ja[0];H.top+=ja[1];a.support.offsetFractions||(H.left=c(H.left),H.top=c(H.top));g={marginLeft:r,marginTop:A};
a.each(["left","top"],function(b,c){if(a.ui.position[W[b]])a.ui.position[W[b]][c](H,{targetWidth:k,targetHeight:x,elemWidth:p,elemHeight:v,collisionPosition:g,collisionWidth:Ga,collisionHeight:Ca,offset:[q[0]+ja[0],q[1]+ja[1]],my:d.my,at:d.at,within:Y,elem:f})});d.using&&(l=function(a){var c=y.left-H.left,g=c+k-p,e=y.top-H.top,l=e+x-v,q={target:{element:z,left:y.left,top:y.top,width:k,height:x},element:{element:f,left:H.left,top:H.top,width:p,height:v},horizontal:0>g?"left":0<c?"right":"center",vertical:0>
l?"top":0<e?"bottom":"middle"};k<p&&b(c+g)<k&&(q.horizontal="center");x<v&&b(e+l)<x&&(q.vertical="middle");h(b(c),b(g))>h(b(e),b(l))?q.important="horizontal":q.important="vertical";d.using.call(this,a,q)});f.offset(a.extend(H,{using:l}))})};a.ui.position={fit:{left:function(b,a){var c=a.within,g=c.isWindow?c.scrollLeft:c.offset.left,d=c.width,e=b.left-a.collisionPosition.marginLeft,c=g-e,l=e+a.collisionWidth-d-g;a.collisionWidth>d?0<c&&0>=l?(g=b.left+c+a.collisionWidth-d-g,b.left+=c-g):b.left=0<l&&
0>=c?g:c>l?g+d-a.collisionWidth:g:b.left=0<c?b.left+c:0<l?b.left-l:h(b.left-e,b.left)},top:function(b,a){var c=a.within,g=c.isWindow?c.scrollTop:c.offset.top,d=a.within.height,e=b.top-a.collisionPosition.marginTop,c=g-e,l=e+a.collisionHeight-d-g;a.collisionHeight>d?0<c&&0>=l?(g=b.top+c+a.collisionHeight-d-g,b.top+=c-g):b.top=0<l&&0>=c?g:c>l?g+d-a.collisionHeight:g:b.top=0<c?b.top+c:0<l?b.top-l:h(b.top-e,b.top)}},flip:{left:function(a,c){var g=c.within,d=g.offset.left+g.scrollLeft,e=g.width,h=g.isWindow?
g.scrollLeft:g.offset.left,l=a.left-c.collisionPosition.marginLeft,g=l-h,f=l+c.collisionWidth-e-h,l="left"===c.my[0]?-c.elemWidth:"right"===c.my[0]?c.elemWidth:0,p="left"===c.at[0]?c.targetWidth:"right"===c.at[0]?-c.targetWidth:0,q=-2*c.offset[0];if(0>g){if(d=a.left+l+p+q+c.collisionWidth-e-d,0>d||d<b(g))a.left+=l+p+q}else 0<f&&(d=a.left-c.collisionPosition.marginLeft+l+p+q-h,0<d||b(d)<f)&&(a.left+=l+p+q)},top:function(a,c){var g=c.within,d=g.offset.top+g.scrollTop,e=g.height,h=g.isWindow?g.scrollTop:
g.offset.top,l=a.top-c.collisionPosition.marginTop,g=l-h,f=l+c.collisionHeight-e-h,l="top"===c.my[1]?-c.elemHeight:"bottom"===c.my[1]?c.elemHeight:0,p="top"===c.at[1]?c.targetHeight:"bottom"===c.at[1]?-c.targetHeight:0,q=-2*c.offset[1];0>g?(d=a.top+l+p+q+c.collisionHeight-e-d,a.top+l+p+q>g&&(0>d||d<b(g))&&(a.top+=l+p+q)):0<f&&(d=a.top-c.collisionPosition.marginTop+l+p+q-h,a.top+l+p+q>f&&(0<d||b(d)<f)&&(a.top+=l+p+q))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,
arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}};(function(){var b,c,g,d,e=document.getElementsByTagName("body")[0];g=document.createElement("div");b=document.createElement(e?"div":"body");c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};e&&a.extend(c,{position:"absolute",left:"-1000px",top:"-1000px"});for(d in c)b.style[d]=c[d];b.appendChild(g);c=e||document.documentElement;c.insertBefore(b,c.firstChild);
g.style.cssText="position: absolute; left: 10.7432222px;";g=a(g).offset().left;a.support.offsetFractions=10<g&&11>g;b.innerHTML="";c.removeChild(b)})()})(jQuery);
(function(a,k){var e=0,f={},d={};f.height=f.paddingTop=f.paddingBottom=f.borderTopWidth=f.borderBottomWidth="hide";d.height=d.paddingTop=d.paddingBottom=d.borderTopWidth=d.borderBottomWidth="show";a.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var d=this.options;
this.prevShow=this.prevHide=a();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");d.collapsible||!1!==d.active&&null!=d.active||(d.active=0);this._processPanels();0>d.active&&(d.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():a(),content:this.active.length?this.active.next():a()}},_createIcons:function(){var d=this.options.icons;d&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+
d.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(d.header).addClass(d.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&
this.removeAttribute("id")});this._destroyIcons();a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){"active"===a?this._activate(b):("event"===a&&
(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||!1!==this.options.active||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),"disabled"===a&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b))},_keydown:function(d){if(!d.altKey&&!d.ctrlKey){var b=a.ui.keyCode,c=this.headers.length,g=this.headers.index(d.target),e=!1;switch(d.keyCode){case b.RIGHT:case b.DOWN:e=this.headers[(g+
1)%c];break;case b.LEFT:case b.UP:e=this.headers[(g-1+c)%c];break;case b.SPACE:case b.ENTER:this._eventHandler(d);break;case b.HOME:e=this.headers[0];break;case b.END:e=this.headers[c-1]}e&&(a(d.target).attr("tabIndex",-1),a(e).attr("tabIndex",0),e.focus(),d.preventDefault())}},_panelKeyDown:function(d){d.keyCode===a.ui.keyCode.UP&&d.ctrlKey&&a(d.currentTarget).prev().focus()},refresh:function(){var d=this.options;this._processPanels();!1===d.active&&!0===d.collapsible||!this.headers.length?(d.active=
!1,this.active=a()):!1===d.active?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(d.active=!1,this.active=a()):this._activate(Math.max(0,d.active-1)):d.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},
_refresh:function(){var d,b=this.options,c=b.heightStyle,g=this.element.parent(),l=this.accordionId="ui-accordion-"+(this.element.attr("id")||++e);this.active=this._findActive(b.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(b){var c=a(this),g=c.attr("id"),d=c.next(),e=d.attr("id");g||(g=l+"-header-"+b,c.attr("id",g));e||(e=l+"-panel-"+
b,d.attr("id",e));c.attr("aria-controls",e);d.attr("aria-labelledby",g)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(b.event);"fill"===c?(d=g.height(),this.element.siblings(":visible").each(function(){var b=
a(this),c=b.css("position");"absolute"!==c&&"fixed"!==c&&(d-=b.outerHeight(!0))}),this.headers.each(function(){d-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,d-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===c&&(d=0,this.headers.next().each(function(){d=Math.max(d,a(this).css("height","").height())}).height(d))},_activate:function(d){d=this._findActive(d)[0];d!==this.active[0]&&(d=d||this.active[0],this._eventHandler({target:d,
currentTarget:d,preventDefault:a.noop}))},_findActive:function(d){return"number"===typeof d?this.headers.eq(d):a()},_setupEvents:function(d){var b={keydown:"_keydown"};d&&a.each(d.split(" "),function(a,g){b[g]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,b);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(d){var b=this.options,c=this.active,g=a(d.currentTarget),e=
g[0]===c[0],f=e&&b.collapsible,k=f?a():g.next(),q=c.next(),k={oldHeader:c,oldPanel:q,newHeader:f?a():g,newPanel:k};d.preventDefault();e&&!b.collapsible||!1===this._trigger("beforeActivate",d,k)||(b.active=f?!1:this.headers.index(g),this.active=e?a():g,this._toggle(k),c.removeClass("ui-accordion-header-active ui-state-active"),b.icons&&c.children(".ui-accordion-header-icon").removeClass(b.icons.activeHeader).addClass(b.icons.header),e||(g.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),
b.icons&&g.children(".ui-accordion-header-icon").removeClass(b.icons.header).addClass(b.icons.activeHeader),g.next().addClass("ui-accordion-content-active")))},_toggle:function(d){var b=d.newPanel,c=this.prevShow.length?this.prevShow:d.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=b;this.prevHide=c;this.options.animate?this._animate(b,c,d):(c.hide(),b.show(),this._toggleComplete(d));c.attr({"aria-hidden":"true"});c.prev().attr("aria-selected","false");b.length&&c.length?c.prev().attr({tabIndex:-1,
"aria-expanded":"false"}):b.length&&this.headers.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1);b.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(a,b,c){var g,e,p,k=this,q=0,r=a.length&&(!b.length||a.index()<b.index()),s=this.options.animate||{},r=r&&s.down||s,u=function(){k._toggleComplete(c)};"number"===typeof r&&(p=r);"string"===typeof r&&(e=r);e=e||r.easing||s.easing;p=p||r.duration||s.duration;
if(!b.length)return a.animate(d,p,e,u);if(!a.length)return b.animate(f,p,e,u);g=a.show().outerHeight();b.animate(f,{duration:p,easing:e,step:function(b,a){a.now=Math.round(b)}});a.hide().animate(d,{duration:p,easing:e,complete:u,step:function(a,c){c.now=Math.round(a);"height"!==c.prop?q+=c.now:"content"!==k.options.heightStyle&&(c.now=Math.round(g-b.outerHeight()-q),q=0)}})},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");
b.length&&(b.parent()[0].className=b.parent()[0].className);this._trigger("activate",null,a)}})})(jQuery);
(function(a,k){a.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,f,d,h=this.element[0].nodeName.toLowerCase(),b="textarea"===h,h="input"===h;this.isMultiLine=b?!0:h?!1:this.element.prop("isContentEditable");this.valueMethod=
this.element[b||h?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(b){if(this.element.prop("readOnly"))f=d=e=!0;else{f=d=e=!1;var g=a.ui.keyCode;switch(b.keyCode){case g.PAGE_UP:e=!0;this._move("previousPage",b);break;case g.PAGE_DOWN:e=!0;this._move("nextPage",b);break;case g.UP:e=!0;this._keyEvent("previous",b);break;case g.DOWN:e=!0;this._keyEvent("next",b);break;case g.ENTER:case g.NUMPAD_ENTER:this.menu.active&&
(e=!0,b.preventDefault(),this.menu.select(b));break;case g.TAB:this.menu.active&&this.menu.select(b);break;case g.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(b),b.preventDefault());break;default:f=!0,this._searchTimeout(b)}}},keypress:function(b){if(e)e=!1,this.isMultiLine&&!this.menu.element.is(":visible")||b.preventDefault();else if(!f){var g=a.ui.keyCode;switch(b.keyCode){case g.PAGE_UP:this._move("previousPage",b);break;case g.PAGE_DOWN:this._move("nextPage",b);
break;case g.UP:this._keyEvent("previous",b);break;case g.DOWN:this._keyEvent("next",b)}}},input:function(b){d?(d=!1,b.preventDefault()):this._searchTimeout(b)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(b){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(b),this._change(b))}});this._initSource();this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,
{mousedown:function(b){b.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var g=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(c){c.target===b.element[0]||c.target===g||a.contains(g,c.target)||b.close()})})},menufocus:function(b,g){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)});
return}var d=g.item.data("ui-autocomplete-item");!1!==this._trigger("focus",b,{item:d})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(d.value):this.liveRegion.text(d.value)},menuselect:function(b,a){var d=a.item.data("ui-autocomplete-item"),e=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=e,this._delay(function(){this.previous=e;this.selectedItem=d}));!1!==this._trigger("select",b,{item:d})&&this._value(d.value);this.term=this._value();
this.close(b);this.selectedItem=d}});this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,f){this._super(a,f);"source"===a&&this._initSource();
"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&f&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;e&&(e=e.jquery||e.nodeType?a(e):this.document.find(e).eq(0));e||(e=this.element.closest(".ui-front"));e.length||(e=this.document[0].body);return e},_initSource:function(){var e,f,d=this;a.isArray(this.options.source)?(e=this.options.source,this.source=function(d,b){b(a.ui.autocomplete.filter(e,d.term))}):"string"===typeof this.options.source?
(f=this.options.source,this.source=function(e,b){d.xhr&&d.xhr.abort();d.xhr=a.ajax({url:f,data:e,dataType:"json",success:function(a){b(a)},error:function(){b([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,f){a=null!=a?a:this._value();this.term=this._value();if(a.length<this.options.minLength)return this.close(f);
if(!1!==this._trigger("search",f))return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},_response:function(){var e=++this.requestIndex;return a.proxy(function(a){e===this.requestIndex&&this.__response(a);this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&
a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:a.map(e,function(e){return"string"===typeof e?{label:e,
value:e}:a.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var f=this.menu.element.empty();this._renderMenu(f,e);this.isNewMenu=!0;this.menu.refresh();f.show();this._resizeMenu();f.position(a.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,f){var d=this;a.each(f,function(a,b){d._renderItemData(e,
b)})},_renderItemData:function(a,f){return this._renderItem(a,f).data("ui-autocomplete-item",f)},_renderItem:function(e,f){return a("<li>").append(a("<a>").text(f.label)).appendTo(e)},_move:function(a,f){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a))this._value(this.term),this.menu.blur();else this.menu[a](f);else this.search(null,f)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,
arguments)},_keyEvent:function(a,f){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,f),f.preventDefault()}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,f){var d=new RegExp(a.ui.autocomplete.escapeRegex(f),"i");return a.grep(e,function(a){return d.test(a.label||a.value||a)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+
(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var f;this._superApply(arguments);this.options.disabled||this.cancelSearch||(f=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.text(f))}})})(jQuery);
(function(a,k){var e,f=function(){var d=a(this);setTimeout(function(){d.find(":ui-button").button("refresh")},1)},d=function(d){var b=d.name,c=d.form,g=a([]);b&&(b=b.replace(/'/g,"\\'"),g=c?a(c).find("[name='"+b+"']"):a("[name='"+b+"']",d.ownerDocument).filter(function(){return!this.form}));return g};a.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+
this.eventNamespace).bind("reset"+this.eventNamespace,f);"boolean"!==typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var h=this,b=this.options,c="checkbox"===this.type||"radio"===this.type,g=c?"":"ui-state-active";null===b.label&&(b.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);
this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){b.disabled||this===e&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){b.disabled||a(this).removeClass(g)}).bind("click"+this.eventNamespace,function(a){b.disabled&&(a.preventDefault(),a.stopImmediatePropagation())});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});
c&&this.element.bind("change"+this.eventNamespace,function(){h.refresh()});"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(b.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(b.disabled)return!1;a(this).addClass("ui-state-active");h.buttonElement.attr("aria-pressed","true");var c=h.element[0];d(c).not(c).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",
"false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(b.disabled)return!1;a(this).addClass("ui-state-active");e=this;h.document.one("mouseup",function(){e=null})}).bind("mouseup"+this.eventNamespace,function(){if(b.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(c){if(b.disabled)return!1;c.keyCode!==a.ui.keyCode.SPACE&&c.keyCode!==a.ui.keyCode.ENTER||a(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+
" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()}));this._setOption("disabled",b.disabled);this._resetButton()},_determineButtonType:function(){var a,b;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";"checkbox"===this.type||"radio"===this.type?
(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),(a=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",a)):this.buttonElement=this.element},widget:function(){return this.buttonElement},
_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-active ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){this._super(a,
b);"disabled"===a?(this.element.prop("disabled",!!b),b&&this.buttonElement.removeClass("ui-state-focus")):this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e);"radio"===this.type?d(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",
"false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var d=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
b=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(d.empty()).text(),c=this.options.icons,g=c.primary&&c.secondary,e=[];c.primary||c.secondary?(this.options.text&&e.push("ui-button-text-icon"+(g?"s":c.primary?"-primary":"-secondary")),c.primary&&d.prepend("<span class='ui-button-icon-primary ui-icon "+c.primary+"'></span>"),c.secondary&&d.append("<span class='ui-button-icon-secondary ui-icon "+c.secondary+"'></span>"),this.options.text||(e.push(g?"ui-button-icons-only":
"ui-button-icon-only"),this.hasTitle||d.attr("title",a.trim(b)))):e.push("ui-button-text-only");d.addClass(e.join(" "))}}});a.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b);this._super(a,b)},refresh:function(){var d=
"rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(d?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(d?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);
(function(a,k){function e(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";
this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",
firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,
onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};a.extend(this._defaults,this.regional[""]);this.dpDiv=f(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function f(b){return b.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){a(this).removeClass("ui-state-hover");
-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){a.datepicker._isDisabledDatepicker(h.inline?b.parent()[0]:h.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),
-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))})}function d(b,c){a.extend(b,c);for(var g in c)null==c[g]&&(b[g]=c[g]);return b}a.extend(a.ui,{datepicker:{version:"1.10.4"}});var h;a.extend(e.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(b){d(this._defaults,b||{});return this},_attachDatepicker:function(b,
c){var g,d,e;g=b.nodeName.toLowerCase();d="div"===g||"span"===g;b.id||(this.uuid+=1,b.id="dp"+this.uuid);e=this._newInst(a(b),d);e.settings=a.extend({},c||{});"input"===g?this._connectDatepicker(b,e):d&&this._inlineDatepicker(b,e)},_newInst:function(b,c){return{id:b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?f(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(b,c){var g=a(b);c.append=a([]);c.trigger=a([]);g.hasClass(this.markerClassName)||(this._attachments(g,c),g.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(c),a.data(b,"datepicker",c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var g,d;g=this._get(c,"appendText");var e=this._get(c,"isRTL");c.append&&c.append.remove();g&&(c.append=a("<span class='"+this._appendClass+
"'>"+g+"</span>"),b[e?"before":"after"](c.append));b.unbind("focus",this._showDatepicker);c.trigger&&c.trigger.remove();g=this._get(c,"showOn");"focus"!==g&&"both"!==g||b.focus(this._showDatepicker);if("button"===g||"both"===g)g=this._get(c,"buttonText"),d=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:d,alt:g,title:g}):a("<button type='button'></button>").addClass(this._triggerClass).html(d?a("<img/>").attr({src:d,alt:g,title:g}):
g)),b[e?"before":"after"](c.trigger),c.trigger.click(function(){a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():(a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]&&a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0]));return!1})},_autoSize:function(b){if(this._get(b,"autoSize")&&!b.inline){var a,g,d,e,h=new Date(2009,11,20),f=this._get(b,"dateFormat");f.match(/[DM]/)&&(a=function(b){for(e=d=g=0;e<b.length;e++)b[e].length>g&&
(g=b[e].length,d=e);return d},h.setMonth(a(this._get(b,f.match(/MM/)?"monthNames":"monthNamesShort"))),h.setDate(a(this._get(b,f.match(/DD/)?"dayNames":"dayNamesShort"))+20-h.getDay()));b.input.attr("size",this._formatDate(b,h).length)}},_inlineDatepicker:function(b,c){var g=a(b);g.hasClass(this.markerClassName)||(g.addClass(this.markerClassName).append(c.dpDiv),a.data(b,"datepicker",c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&
this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,g,e,h){var f;b=this._dialogInst;b||(this.uuid+=1,b="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+b+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),b=this._dialogInst=this._newInst(this._dialogInput,!1),b.settings={},a.data(this._dialogInput[0],"datepicker",b));d(b.settings,e||{});c=c&&c.constructor===Date?
this._formatDate(b,c):c;this._dialogInput.val(c);this._pos=h?h.length?h:[h.pageX,h.pageY]:null;this._pos||(c=document.documentElement.clientWidth,e=document.documentElement.clientHeight,h=document.documentElement.scrollLeft||document.body.scrollLeft,f=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+h,e/2-150+f]);this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");b.settings.onSelect=g;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);
this._showDatepicker(this._dialogInput[0]);a.blockUI&&a.blockUI(this.dpDiv);a.data(this._dialogInput[0],"datepicker",b);return this},_destroyDatepicker:function(b){var c,g=a(b),d=a.data(b,"datepicker");g.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,"datepicker"),"input"===c?(d.append.remove(),d.trigger.remove(),g.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",
this._doKeyUp)):"div"!==c&&"span"!==c||g.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var c,g=a(b),d=a.data(b,"datepicker");if(g.hasClass(this.markerClassName)){c=b.nodeName.toLowerCase();if("input"===c)b.disabled=!1,d.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"===c||"span"===c)c=g.children("."+this._inlineClass),c.children().removeClass("ui-state-disabled"),c.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1);this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a})}},_disableDatepicker:function(b){var c,g=a(b),d=a.data(b,"datepicker");if(g.hasClass(this.markerClassName)){c=b.nodeName.toLowerCase();if("input"===c)b.disabled=!0,d.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"===c||"span"===c)c=g.children("."+this._inlineClass),c.children().addClass("ui-state-disabled"),c.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0);this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a});this._disabledInputs[this._disabledInputs.length]=b}},_isDisabledDatepicker:function(b){if(!b)return!1;for(var a=0;a<this._disabledInputs.length;a++)if(this._disabledInputs[a]===b)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(c){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(b,c,g){var e,h,f,q,r=this._getInst(b);if(2===arguments.length&&"string"===
typeof c)return"defaults"===c?a.extend({},a.datepicker._defaults):r?"all"===c?a.extend({},r.settings):this._get(r,c):null;e=c||{};"string"===typeof c&&(e={},e[c]=g);r&&(this._curInst===r&&this._hideDatepicker(),h=this._getDateDatepicker(b,!0),f=this._getMinMaxDate(r,"min"),q=this._getMinMaxDate(r,"max"),d(r.settings,e),null!==f&&e.dateFormat!==k&&e.minDate===k&&(r.settings.minDate=this._formatDate(r,f)),null!==q&&e.dateFormat!==k&&e.maxDate===k&&(r.settings.maxDate=this._formatDate(r,q)),"disabled"in
e&&(e.disabled?this._disableDatepicker(b):this._enableDatepicker(b)),this._attachments(a(b),r),this._autoSize(r),this._setDate(r,h),this._updateAlternate(r),this._updateDatepicker(r))},_changeDatepicker:function(b,a,g){this._optionDatepicker(b,a,g)},_refreshDatepicker:function(b){(b=this._getInst(b))&&this._updateDatepicker(b)},_setDateDatepicker:function(b,a){var g=this._getInst(b);g&&(this._setDate(g,a),this._updateDatepicker(g),this._updateAlternate(g))},_getDateDatepicker:function(b,a){var g=
this._getInst(b);g&&!g.inline&&this._setDateFromField(g,a);return g?this._getDate(g):null},_doKeyDown:function(b){var c,g=a.datepicker._getInst(b.target);c=!0;var d=g.dpDiv.is(".ui-datepicker-rtl");g._keyEvent=!0;if(a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker();c=!1;break;case 13:return c=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",g.dpDiv),c[0]&&a.datepicker._selectDay(b.target,g.selectedMonth,g.selectedYear,c[0]),(b=a.datepicker._get(g,
"onSelect"))?(c=a.datepicker._formatDate(g),b.apply(g.input?g.input[0]:null,[c,g])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(g,"stepBigMonths"):-a.datepicker._get(g,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(g,"stepBigMonths"):+a.datepicker._get(g,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target);
c=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target);c=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,d?1:-1,"D");c=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(g,"stepBigMonths"):-a.datepicker._get(g,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D");c=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&
a.datepicker._adjustDate(b.target,d?-1:1,"D");c=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(g,"stepBigMonths"):+a.datepicker._get(g,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D");c=b.ctrlKey||b.metaKey;break;default:c=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):c=!1;c&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var c,g;c=a.datepicker._getInst(b.target);
if(a.datepicker._get(c,"constrainInput"))return c=a.datepicker._possibleChars(a.datepicker._get(c,"dateFormat")),g=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||" ">g||!c||-1<c.indexOf(g)},_doKeyUp:function(b){var c;b=a.datepicker._getInst(b.target);if(b.input.val()!==b.lastVal)try{if(c=a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,a.datepicker._getFormatConfig(b)))a.datepicker._setDateFromField(b),a.datepicker._updateAlternate(b),
a.datepicker._updateDatepicker(b)}catch(g){}return!0},_showDatepicker:function(b){b=b.target||b;"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]);if(!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var c,g,e,h;c=a.datepicker._getInst(b);a.datepicker._curInst&&a.datepicker._curInst!==c&&(a.datepicker._curInst.dpDiv.stop(!0,!0),c&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0]));g=(g=a.datepicker._get(c,"beforeShow"))?
g.apply(b,[b,c]):{};if(!1!==g&&(d(c.settings,g),c.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(c),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),e=!1,a(b).parents().each(function(){e|="fixed"===a(this).css("position");return!e}),g={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,c.dpDiv.empty(),c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
a.datepicker._updateDatepicker(c),g=a.datepicker._checkOffset(c,g,e),c.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":e?"fixed":"absolute",display:"none",left:g.left+"px",top:g.top+"px"}),!c.inline)){g=a.datepicker._get(c,"showAnim");h=a.datepicker._get(c,"duration");c.dpDiv.zIndex(a(b).zIndex()+1);a.datepicker._datepickerShowing=!0;if(a.effects&&a.effects.effect[g])c.dpDiv.show(g,a.datepicker._get(c,"showOptions"),h);else c.dpDiv[g||"show"](g?h:null);a.datepicker._shouldFocusInput(c)&&
c.input.focus();a.datepicker._curInst=c}}},_updateDatepicker:function(b){this.maxRows=4;h=b;b.dpDiv.empty().append(this._generateHTML(b));this._attachHandlers(b);b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var c,g=this._getNumberOfMonths(b),d=g[1];b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<d&&b.dpDiv.addClass("ui-datepicker-multi-"+d).css("width",17*d+"em");b.dpDiv[(1!==g[0]||1!==g[1]?"add":"remove")+"Class"]("ui-datepicker-multi");
b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.focus();b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);c=b.yearshtml=null},0))},_shouldFocusInput:function(b){return b.input&&b.input.is(":visible")&&!b.input.is(":disabled")&&!b.input.is(":focus")},_checkOffset:function(b,
c,g){var d=b.dpDiv.outerWidth(),e=b.dpDiv.outerHeight(),h=b.input?b.input.outerWidth():0,f=b.input?b.input.outerHeight():0,k=document.documentElement.clientWidth+(g?0:a(document).scrollLeft()),s=document.documentElement.clientHeight+(g?0:a(document).scrollTop());c.left-=this._get(b,"isRTL")?d-h:0;c.left-=g&&c.left===b.input.offset().left?a(document).scrollLeft():0;c.top-=g&&c.top===b.input.offset().top+f?a(document).scrollTop():0;c.left-=Math.min(c.left,c.left+d>k&&k>d?Math.abs(c.left+d-k):0);c.top-=
Math.min(c.top,c.top+e>s&&s>e?Math.abs(e+f):0);return c},_findPos:function(b){for(var c=this._getInst(b),c=this._get(c,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[c?"previousSibling":"nextSibling"];b=a(b).offset();return[b.left,b.top]},_hideDatepicker:function(b){var c,g,d=this._curInst;if(d&&(!b||d===a.data(b,"datepicker"))&&this._datepickerShowing){b=this._get(d,"showAnim");c=this._get(d,"duration");g=function(){a.datepicker._tidyDialog(d)};if(a.effects&&(a.effects.effect[b]||
a.effects[b]))d.dpDiv.hide(b,a.datepicker._get(d,"showOptions"),c,g);else d.dpDiv["slideDown"===b?"slideUp":"fadeIn"===b?"fadeOut":"hide"](b?c:null,g);b||g();this._datepickerShowing=!1;(b=this._get(d,"onClose"))&&b.apply(d.input?d.input[0]:null,[d.input?d.input.val():"",d]);this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(b){b.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(b){if(a.datepicker._curInst){b=a(b.target);var c=a.datepicker._getInst(b[0]);(!(b[0].id===a.datepicker._mainDivId||0!==b.parents("#"+a.datepicker._mainDivId).length||b.hasClass(a.datepicker.markerClassName)||b.closest("."+a.datepicker._triggerClass).length||!a.datepicker._datepickerShowing||a.datepicker._inDialog&&a.blockUI)||b.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==c)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,g){b=a(b);var d=
this._getInst(b[0]);this._isDisabledDatepicker(b[0])||(this._adjustInstDate(d,c+("M"===g?this._get(d,"showCurrentAtPos"):0),g),this._updateDatepicker(d))},_gotoToday:function(b){var c=a(b),g=this._getInst(c[0]);this._get(g,"gotoCurrent")&&g.currentDay?(g.selectedDay=g.currentDay,g.drawMonth=g.selectedMonth=g.currentMonth,g.drawYear=g.selectedYear=g.currentYear):(b=new Date,g.selectedDay=b.getDate(),g.drawMonth=g.selectedMonth=b.getMonth(),g.drawYear=g.selectedYear=b.getFullYear());this._notifyChange(g);
this._adjustDate(c)},_selectMonthYear:function(b,c,g){b=a(b);var d=this._getInst(b[0]);d["selected"+("M"===g?"Month":"Year")]=d["draw"+("M"===g?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10);this._notifyChange(d);this._adjustDate(b)},_selectDay:function(b,c,g,d){var e;e=a(b);a(d).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0])||(e=this._getInst(e[0]),e.selectedDay=e.currentDay=a("a",d).html(),e.selectedMonth=e.currentMonth=c,e.selectedYear=e.currentYear=g,this._selectDate(b,
this._formatDate(e,e.currentDay,e.currentMonth,e.currentYear)))},_clearDate:function(b){b=a(b);this._selectDate(b,"")},_selectDate:function(b,c){var g;g=a(b);var d=this._getInst(g[0]);c=null!=c?c:this._formatDate(d);d.input&&d.input.val(c);this._updateAlternate(d);(g=this._get(d,"onSelect"))?g.apply(d.input?d.input[0]:null,[c,d]):d.input&&d.input.trigger("change");d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],"object"!==typeof d.input[0]&&d.input.focus(),this._lastInput=
null)},_updateAlternate:function(b){var c,g,d,e=this._get(b,"altField");e&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),g=this._getDate(b),d=this.formatDate(c,g,this._getFormatConfig(b)),a(e).each(function(){a(this).val(d)}))},noWeekends:function(b){b=b.getDay();return[0<b&&6>b,""]},iso8601Week:function(b){var a=new Date(b.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));b=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-a)/864E5)/7)+1},parseDate:function(b,c,g){if(null==
b||null==c)throw"Invalid arguments";c="object"===typeof c?c.toString():c+"";if(""===c)return null;var d,e,h,f=0;e=(g?g.shortYearCutoff:null)||this._defaults.shortYearCutoff;e="string"!==typeof e?e:(new Date).getFullYear()%100+parseInt(e,10);h=(g?g.dayNamesShort:null)||this._defaults.dayNamesShort;var k=(g?g.dayNames:null)||this._defaults.dayNames,s=(g?g.monthNamesShort:null)||this._defaults.monthNamesShort,u=(g?g.monthNames:null)||this._defaults.monthNames,w=g=-1,x=-1,y=-1,B=!1,A,z=function(a){(a=
d+1<b.length&&b.charAt(d+1)===a)&&d++;return a},Y=function(b){var a=z(b);b=new RegExp("^\\d{1,"+("@"===b?14:"!"===b?20:"y"===b&&a?4:"o"===b?3:2)+"}");b=c.substring(f).match(b);if(!b)throw"Missing number at position "+f;f+=b[0].length;return parseInt(b[0],10)},ba=function(b,g,d){var e=-1;b=a.map(z(b)?d:g,function(b,a){return[[a,b]]}).sort(function(b,a){return-(b[1].length-a[1].length)});a.each(b,function(b,a){var g=a[1];if(c.substr(f,g.length).toLowerCase()===g.toLowerCase())return e=a[0],f+=g.length,
!1});if(-1!==e)return e+1;throw"Unknown name at position "+f;},W=function(){if(c.charAt(f)!==b.charAt(d))throw"Unexpected literal at position "+f;f++};for(d=0;d<b.length;d++)if(B)"'"!==b.charAt(d)||z("'")?W():B=!1;else switch(b.charAt(d)){case "d":x=Y("d");break;case "D":ba("D",h,k);break;case "o":y=Y("o");break;case "m":w=Y("m");break;case "M":w=ba("M",s,u);break;case "y":g=Y("y");break;case "@":A=new Date(Y("@"));g=A.getFullYear();w=A.getMonth()+1;x=A.getDate();break;case "!":A=new Date((Y("!")-
this._ticksTo1970)/1E4);g=A.getFullYear();w=A.getMonth()+1;x=A.getDate();break;case "'":z("'")?W():B=!0;break;default:W()}if(f<c.length&&(h=c.substr(f),!/^\s+/.test(h)))throw"Extra/unparsed characters found in date: "+h;-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=e?0:-100));if(-1<y){w=1;x=y;do{e=this._getDaysInMonth(g,w-1);if(x<=e)break;w++;x-=e}while(1)}A=this._daylightSavingAdjust(new Date(g,w-1,x));if(A.getFullYear()!==g||A.getMonth()+
1!==w||A.getDate()!==x)throw"Invalid date";return A},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(b,a,g){if(!a)return"";var d,e=(g?g.dayNamesShort:null)||this._defaults.dayNamesShort,h=(g?g.dayNames:null)||this._defaults.dayNames,f=(g?
g.monthNamesShort:null)||this._defaults.monthNamesShort;g=(g?g.monthNames:null)||this._defaults.monthNames;var k=function(a){(a=d+1<b.length&&b.charAt(d+1)===a)&&d++;return a},s=function(b,a,c){a=""+a;if(k(b))for(;a.length<c;)a="0"+a;return a},u=function(b,a,c,g){return k(b)?g[a]:c[a]},w="",x=!1;if(a)for(d=0;d<b.length;d++)if(x)"'"!==b.charAt(d)||k("'")?w+=b.charAt(d):x=!1;else switch(b.charAt(d)){case "d":w+=s("d",a.getDate(),2);break;case "D":w+=u("D",a.getDay(),e,h);break;case "o":w+=s("o",Math.round(((new Date(a.getFullYear(),
a.getMonth(),a.getDate())).getTime()-(new Date(a.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":w+=s("m",a.getMonth()+1,2);break;case "M":w+=u("M",a.getMonth(),f,g);break;case "y":w+=k("y")?a.getFullYear():(10>a.getYear()%100?"0":"")+a.getYear()%100;break;case "@":w+=a.getTime();break;case "!":w+=1E4*a.getTime()+this._ticksTo1970;break;case "'":k("'")?w+="'":x=!0;break;default:w+=b.charAt(d)}return w},_possibleChars:function(b){var a,g="",d=!1,e=function(g){(g=a+1<b.length&&b.charAt(a+1)===
g)&&a++;return g};for(a=0;a<b.length;a++)if(d)"'"!==b.charAt(a)||e("'")?g+=b.charAt(a):d=!1;else switch(b.charAt(a)){case "d":case "m":case "y":case "@":g+="0123456789";break;case "D":case "M":return null;case "'":e("'")?g+="'":d=!0;break;default:g+=b.charAt(a)}return g},_get:function(b,a){return b.settings[a]!==k?b.settings[a]:this._defaults[a]},_setDateFromField:function(b,a){if(b.input.val()!==b.lastVal){var g=this._get(b,"dateFormat"),d=b.lastVal=b.input?b.input.val():null,e=this._getDefaultDate(b),
h=e,f=this._getFormatConfig(b);try{h=this.parseDate(g,d,f)||e}catch(k){d=a?"":d}b.selectedDay=h.getDate();b.drawMonth=b.selectedMonth=h.getMonth();b.drawYear=b.selectedYear=h.getFullYear();b.currentDay=d?h.getDate():0;b.currentMonth=d?h.getMonth():0;b.currentYear=d?h.getFullYear():0;this._adjustInstDate(b)}},_getDefaultDate:function(b){return this._restrictMinMax(b,this._determineDate(b,this._get(b,"defaultDate"),new Date))},_determineDate:function(b,c,g){var d=function(b){var a=new Date;a.setDate(a.getDate()+
b);return a},e=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(g){}for(var d=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,e=d.getFullYear(),h=d.getMonth(),d=d.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,f=l.exec(c);f;){switch(f[2]||"d"){case "d":case "D":d+=parseInt(f[1],10);break;case "w":case "W":d+=7*parseInt(f[1],10);break;case "m":case "M":h+=parseInt(f[1],10);d=Math.min(d,a.datepicker._getDaysInMonth(e,
h));break;case "y":case "Y":e+=parseInt(f[1],10),d=Math.min(d,a.datepicker._getDaysInMonth(e,h))}f=l.exec(c)}return new Date(e,h,d)};if(c=(c=null==c||""===c?g:"string"===typeof c?e(c):"number"===typeof c?isNaN(c)?g:d(c):new Date(c.getTime()))&&"Invalid Date"===c.toString()?g:c)c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0);return this._daylightSavingAdjust(c)},_daylightSavingAdjust:function(b){if(!b)return null;b.setHours(12<b.getHours()?b.getHours()+2:0);return b},_setDate:function(b,
a,g){var d=!a,e=b.selectedMonth,h=b.selectedYear;a=this._restrictMinMax(b,this._determineDate(b,a,new Date));b.selectedDay=b.currentDay=a.getDate();b.drawMonth=b.selectedMonth=b.currentMonth=a.getMonth();b.drawYear=b.selectedYear=b.currentYear=a.getFullYear();e===b.selectedMonth&&h===b.selectedYear||g||this._notifyChange(b);this._adjustInstDate(b);b.input&&b.input.val(d?"":this._formatDate(b))},_getDate:function(b){return!b.currentYear||b.input&&""===b.input.val()?null:this._daylightSavingAdjust(new Date(b.currentYear,
b.currentMonth,b.currentDay))},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),g="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){a(this).bind(this.getAttribute("data-event"),{prev:function(){a.datepicker._adjustDate(g,-c,"M")},next:function(){a.datepicker._adjustDate(g,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(g)},selectDay:function(){a.datepicker._selectDay(g,+this.getAttribute("data-month"),+this.getAttribute("data-year"),
this);return!1},selectMonth:function(){a.datepicker._selectMonthYear(g,this,"M");return!1},selectYear:function(){a.datepicker._selectMonthYear(g,this,"Y");return!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(b){var a,g,d,e,h,f,k,s,u,w,x,y,B,A,z,Y,ba,W,ea,N,P,Q,fa,na,ya,ra,Ga,Ca=new Date,Ca=this._daylightSavingAdjust(new Date(Ca.getFullYear(),Ca.getMonth(),Ca.getDate())),H=this._get(b,"isRTL");f=this._get(b,"showButtonPanel");d=this._get(b,"hideIfNoPrevNext");h=this._get(b,"navigationAsDateFormat");
var ja=this._getNumberOfMonths(b),R=this._get(b,"showCurrentAtPos");e=this._get(b,"stepMonths");var va=1!==ja[0]||1!==ja[1],ua=this._daylightSavingAdjust(b.currentDay?new Date(b.currentYear,b.currentMonth,b.currentDay):new Date(9999,9,9)),oa=this._getMinMaxDate(b,"min"),Ka=this._getMinMaxDate(b,"max"),R=b.drawMonth-R,da=b.drawYear;0>R&&(R+=12,da--);if(Ka)for(a=this._daylightSavingAdjust(new Date(Ka.getFullYear(),Ka.getMonth()-ja[0]*ja[1]+1,Ka.getDate())),a=oa&&a<oa?oa:a;this._daylightSavingAdjust(new Date(da,
R,1))>a;)R--,0>R&&(R=11,da--);b.drawMonth=R;b.drawYear=da;a=this._get(b,"prevText");a=h?this.formatDate(a,this._daylightSavingAdjust(new Date(da,R-e,1)),this._getFormatConfig(b)):a;a=this._canAdjustMonth(b,-1,da,R)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+a+"</span></a>":d?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+
(H?"e":"w")+"'>"+a+"</span></a>";g=this._get(b,"nextText");g=h?this.formatDate(g,this._daylightSavingAdjust(new Date(da,R+e,1)),this._getFormatConfig(b)):g;d=this._canAdjustMonth(b,1,da,R)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+g+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+g+"</span></a>":d?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+g+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":
"e")+"'>"+g+"</span></a>";e=this._get(b,"currentText");g=this._get(b,"gotoCurrent")&&b.currentDay?ua:Ca;e=h?this.formatDate(e,g,this._getFormatConfig(b)):e;h=b.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(b,"closeText")+"</button>";f=f?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?h:"")+(this._isInRange(b,g)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
e+"</button>":"")+(H?"":h)+"</div>":"";h=parseInt(this._get(b,"firstDay"),10);h=isNaN(h)?0:h;e=this._get(b,"showWeek");g=this._get(b,"dayNames");k=this._get(b,"dayNamesMin");s=this._get(b,"monthNames");u=this._get(b,"monthNamesShort");w=this._get(b,"beforeShowDay");x=this._get(b,"showOtherMonths");y=this._get(b,"selectOtherMonths");B=this._getDefaultDate(b);A="";z;for(Y=0;Y<ja[0];Y++){ba="";this.maxRows=4;for(W=0;W<ja[1];W++){ea=this._daylightSavingAdjust(new Date(da,R,b.selectedDay));z=" ui-corner-all";
N="";if(va){N+="<div class='ui-datepicker-group";if(1<ja[1])switch(W){case 0:N+=" ui-datepicker-group-first";z=" ui-corner-"+(H?"right":"left");break;case ja[1]-1:N+=" ui-datepicker-group-last";z=" ui-corner-"+(H?"left":"right");break;default:N+=" ui-datepicker-group-middle",z=""}N+="'>"}N+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+z+"'>"+(/all|left/.test(z)&&0===Y?H?d:a:"")+(/all|right/.test(z)&&0===Y?H?a:d:"")+this._generateMonthYearHeader(b,R,da,oa,Ka,0<Y||0<W,s,u)+
"</div><table class='ui-datepicker-calendar'><thead><tr>";P=e?"<th class='ui-datepicker-week-col'>"+this._get(b,"weekHeader")+"</th>":"";for(z=0;7>z;z++)Q=(z+h)%7,P+="<th"+(5<=(z+h+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+g[Q]+"'>"+k[Q]+"</span></th>";N+=P+"</tr></thead><tbody>";P=this._getDaysInMonth(da,R);da===b.selectedYear&&R===b.selectedMonth&&(b.selectedDay=Math.min(b.selectedDay,P));z=(this._getFirstDayOfMonth(da,R)-h+7)%7;P=Math.ceil((z+P)/7);this.maxRows=P=va?this.maxRows>
P?this.maxRows:P:P;Q=this._daylightSavingAdjust(new Date(da,R,1-z));for(fa=0;fa<P;fa++){N+="<tr>";na=e?"<td class='ui-datepicker-week-col'>"+this._get(b,"calculateWeek")(Q)+"</td>":"";for(z=0;7>z;z++)ya=w?w.apply(b.input?b.input[0]:null,[Q]):[!0,""],Ga=(ra=Q.getMonth()!==R)&&!y||!ya[0]||oa&&Q<oa||Ka&&Q>Ka,na+="<td class='"+(5<=(z+h+6)%7?" ui-datepicker-week-end":"")+(ra?" ui-datepicker-other-month":"")+(Q.getTime()===ea.getTime()&&R===b.selectedMonth&&b._keyEvent||B.getTime()===Q.getTime()&&B.getTime()===
ea.getTime()?" "+this._dayOverClass:"")+(Ga?" "+this._unselectableClass+" ui-state-disabled":"")+(ra&&!x?"":" "+ya[1]+(Q.getTime()===ua.getTime()?" "+this._currentClass:"")+(Q.getTime()===Ca.getTime()?" ui-datepicker-today":""))+"'"+(ra&&!x||!ya[2]?"":" title='"+ya[2].replace(/'/g,"&#39;")+"'")+(Ga?"":" data-handler='selectDay' data-event='click' data-month='"+Q.getMonth()+"' data-year='"+Q.getFullYear()+"'")+">"+(ra&&!x?"&#xa0;":Ga?"<span class='ui-state-default'>"+Q.getDate()+"</span>":"<a class='ui-state-default"+
(Q.getTime()===Ca.getTime()?" ui-state-highlight":"")+(Q.getTime()===ua.getTime()?" ui-state-active":"")+(ra?" ui-priority-secondary":"")+"' href='#'>"+Q.getDate()+"</a>")+"</td>",Q.setDate(Q.getDate()+1),Q=this._daylightSavingAdjust(Q);N+=na+"</tr>"}R++;11<R&&(R=0,da++);N+="</tbody></table>"+(va?"</div>"+(0<ja[0]&&W===ja[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");ba+=N}A+=ba}b._keyEvent=!1;return A+f},_generateMonthYearHeader:function(b,a,g,d,e,h,f,k){var s,u,w,x=this._get(b,"changeMonth"),
y=this._get(b,"changeYear"),B=this._get(b,"showMonthAfterYear"),A="<div class='ui-datepicker-title'>",z="";if(h||!x)z+="<span class='ui-datepicker-month'>"+f[a]+"</span>";else{f=d&&d.getFullYear()===g;s=e&&e.getFullYear()===g;z+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(u=0;12>u;u++)(!f||u>=d.getMonth())&&(!s||u<=e.getMonth())&&(z+="<option value='"+u+"'"+(u===a?" selected='selected'":"")+">"+k[u]+"</option>");z+="</select>"}B||(A+=z+(!h&&x&&y?"":"&#xa0;"));
if(!b.yearshtml)if(b.yearshtml="",h||!y)A+="<span class='ui-datepicker-year'>"+g+"</span>";else{k=this._get(b,"yearRange").split(":");w=(new Date).getFullYear();f=function(b){b=b.match(/c[+\-].*/)?g+parseInt(b.substring(1),10):b.match(/[+\-].*/)?w+parseInt(b,10):parseInt(b,10);return isNaN(b)?w:b};a=f(k[0]);k=Math.max(a,f(k[1]||""));a=d?Math.max(a,d.getFullYear()):a;k=e?Math.min(k,e.getFullYear()):k;for(b.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";a<=
k;a++)b.yearshtml+="<option value='"+a+"'"+(a===g?" selected='selected'":"")+">"+a+"</option>";b.yearshtml+="</select>";A+=b.yearshtml;b.yearshtml=null}A+=this._get(b,"yearSuffix");B&&(A+=(!h&&x&&y?"":"&#xa0;")+z);return A+"</div>"},_adjustInstDate:function(b,a,g){var d=b.drawYear+("Y"===g?a:0),e=b.drawMonth+("M"===g?a:0);a=Math.min(b.selectedDay,this._getDaysInMonth(d,e))+("D"===g?a:0);d=this._restrictMinMax(b,this._daylightSavingAdjust(new Date(d,e,a)));b.selectedDay=d.getDate();b.drawMonth=b.selectedMonth=
d.getMonth();b.drawYear=b.selectedYear=d.getFullYear();"M"!==g&&"Y"!==g||this._notifyChange(b)},_restrictMinMax:function(b,a){var g=this._getMinMaxDate(b,"min"),d=this._getMinMaxDate(b,"max"),g=g&&a<g?g:a;return d&&g>d?d:g},_notifyChange:function(b){var a=this._get(b,"onChangeMonthYear");a&&a.apply(b.input?b.input[0]:null,[b.selectedYear,b.selectedMonth+1,b])},_getNumberOfMonths:function(b){b=this._get(b,"numberOfMonths");return null==b?[1,1]:"number"===typeof b?[1,b]:b},_getMinMaxDate:function(b,
a){return this._determineDate(b,this._get(b,a+"Date"),null)},_getDaysInMonth:function(b,a){return 32-this._daylightSavingAdjust(new Date(b,a,32)).getDate()},_getFirstDayOfMonth:function(b,a){return(new Date(b,a,1)).getDay()},_canAdjustMonth:function(b,a,g,d){var e=this._getNumberOfMonths(b);g=this._daylightSavingAdjust(new Date(g,d+(0>a?a:e[0]*e[1]),1));0>a&&g.setDate(this._getDaysInMonth(g.getFullYear(),g.getMonth()));return this._isInRange(b,g)},_isInRange:function(b,a){var g,d,e=this._getMinMaxDate(b,
"min"),h=this._getMinMaxDate(b,"max"),f=null,k=null;if(g=this._get(b,"yearRange"))g=g.split(":"),d=(new Date).getFullYear(),f=parseInt(g[0],10),k=parseInt(g[1],10),g[0].match(/[+\-].*/)&&(f+=d),g[1].match(/[+\-].*/)&&(k+=d);return(!e||a.getTime()>=e.getTime())&&(!h||a.getTime()<=h.getTime())&&(!f||a.getFullYear()>=f)&&(!k||a.getFullYear()<=k)},_getFormatConfig:function(b){var a=this._get(b,"shortYearCutoff"),a="string"!==typeof a?a:(new Date).getFullYear()%100+parseInt(a,10);return{shortYearCutoff:a,
dayNamesShort:this._get(b,"dayNamesShort"),dayNames:this._get(b,"dayNames"),monthNamesShort:this._get(b,"monthNamesShort"),monthNames:this._get(b,"monthNames")}},_formatDate:function(b,a,g,d){a||(b.currentDay=b.selectedDay,b.currentMonth=b.selectedMonth,b.currentYear=b.selectedYear);a=a?"object"===typeof a?a:this._daylightSavingAdjust(new Date(d,g,a)):this._daylightSavingAdjust(new Date(b.currentYear,b.currentMonth,b.currentDay));return this.formatDate(this._get(b,"dateFormat"),a,this._getFormatConfig(b))}});
a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0);0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"===typeof b&&("isDisabled"===b||"getDate"===b||"widget"===b)||"option"===b&&2===arguments.length&&"string"===typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):
this.each(function(){"string"===typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)})};a.datepicker=new e;a.datepicker.initialized=!1;a.datepicker.uuid=(new Date).getTime();a.datepicker.version="1.10.4"})(jQuery);
(function(a,k){var e={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},f={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(d){var e=a(this).css(d).offset().top;
0>e&&a(this).css("top",d.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};
this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&a.fn.draggable&&this._makeDraggable();this.options.resizable&&a.fn.resizable&&this._makeResizable();this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var d=
this.options.appendTo;return d&&(d.jquery||d.nodeType)?a(d):this.document.find(d||"body").eq(0)},_destroy:function(){var a,e=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);a=e.parent.children().eq(e.index);a.length&&a[0]!==this.element[0]?a.before(this.element):e.parent.append(this.element)},
widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(d){var e,b=this;if(this._isOpen&&!1!==this._trigger("beforeClose",d)){this._isOpen=!1;this._destroyOverlay();if(!this.opener.filter(":focusable").focus().length)try{(e=this.document[0].activeElement)&&"body"!==e.nodeName.toLowerCase()&&a(e).blur()}catch(c){}this._hide(this.uiDialog,this.options.hide,function(){b._trigger("close",d)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},
_moveToTop:function(a,e){var b=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;b&&!e&&this._trigger("focus",a);return b},open:function(){var d=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){d._focusTabbable();d._trigger("focus")}),this._trigger("open"))},_focusTabbable:function(){var a=
this.element.find("[autofocus]");a.length||(a=this.element.find(":tabbable"));a.length||(a=this.uiDialogButtonPane.find(":tabbable"));a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable"));a.length||(a=this.uiDialog);a.eq(0).focus()},_keepFocus:function(d){function e(){var b=this.document[0].activeElement;this.uiDialog[0]===b||a.contains(this.uiDialog[0],b)||this._focusTabbable()}d.preventDefault();e.call(this);this._delay(e)},_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+
this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(d){if(this.options.closeOnEscape&&!d.isDefaultPrevented()&&d.keyCode&&d.keyCode===a.ui.keyCode.ESCAPE)d.preventDefault(),this.close(d);else if(d.keyCode===a.ui.keyCode.TAB){var e=this.uiDialog.find(":tabbable"),b=e.filter(":first"),e=e.filter(":last");d.target!==e[0]&&d.target!==this.uiDialog[0]||d.shiftKey?d.target!==b[0]&&d.target!==this.uiDialog[0]||!d.shiftKey||
(e.focus(1),d.preventDefault()):(b.focus(1),d.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var d;this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(d){a(d.target).closest(".ui-dialog-titlebar-close")||
this.uiDialog.focus()}});this.uiDialogTitlebarClose=a("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault();this.close(a)}});d=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(d);this.uiDialog.attr({"aria-labelledby":d.attr("id")})},_title:function(a){this.options.title||
a.html("&#160;");a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var d=this,e=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();a.isEmptyObject(e)||a.isArray(e)&&!e.length?this.uiDialog.removeClass("ui-dialog-buttons"):
(a.each(e,function(b,c){var g,e;c=a.isFunction(c)?{click:c,text:b}:c;c=a.extend({type:"button"},c);g=c.click;c.click=function(){g.apply(d.element[0],arguments)};e={icons:c.icons,text:c.showText};delete c.icons;delete c.showText;a("<button></button>",c).button(e).appendTo(d.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function d(b){return{position:b.position,offset:b.offset}}var e=this,b=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",
handle:".ui-dialog-titlebar",containment:"document",start:function(b,g){a(this).addClass("ui-dialog-dragging");e._blockFrames();e._trigger("dragStart",b,d(g))},drag:function(b,a){e._trigger("drag",b,d(a))},stop:function(c,g){b.position=[g.position.left-e.document.scrollLeft(),g.position.top-e.document.scrollTop()];a(this).removeClass("ui-dialog-dragging");e._unblockFrames();e._trigger("dragStop",c,d(g))}})},_makeResizable:function(){function d(b){return{originalPosition:b.originalPosition,originalSize:b.originalSize,
position:b.position,size:b.size}}var e=this,b=this.options,c=b.resizable,g=this.uiDialog.css("position"),c="string"===typeof c?c:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:b.maxWidth,maxHeight:b.maxHeight,minWidth:b.minWidth,minHeight:this._minHeight(),handles:c,start:function(b,c){a(this).addClass("ui-dialog-resizing");e._blockFrames();e._trigger("resizeStart",b,d(c))},resize:function(b,a){e._trigger("resize",
b,d(a))},stop:function(c,g){b.height=a(this).height();b.width=a(this).width();a(this).removeClass("ui-dialog-resizing");e._unblockFrames();e._trigger("resizeStop",c,d(g))}}).css("position",g)},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show();this.uiDialog.position(this.options.position);a||this.uiDialog.hide()},_setOptions:function(d){var h=this,b=!1,c={};a.each(d,
function(a,d){h._setOption(a,d);a in e&&(b=!0);a in f&&(c[a]=d)});b&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",c)},_setOption:function(a,e){var b,c=this.uiDialog;"dialogClass"===a&&c.removeClass(this.options.dialogClass).addClass(e);"disabled"!==a&&(this._super(a,e),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===
a&&((b=c.is(":data(ui-draggable)"))&&!e&&c.draggable("destroy"),!b&&e&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&((b=c.is(":data(ui-resizable)"))&&!e&&c.resizable("destroy"),b&&"string"===typeof e&&c.resizable("option","handles",e),b||!1===e||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,e,b,c=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});c.minWidth>
c.width&&(c.width=c.minWidth);a=this.uiDialog.css({height:"auto",width:c.width}).outerHeight();e=Math.max(0,c.minHeight-a);b="number"===typeof c.maxHeight?Math.max(0,c.maxHeight-a):"none";"auto"===c.height?this.element.css({minHeight:e,maxHeight:b,height:"auto"}):this.element.height(Math.max(0,c.height-a));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var d=
a(this);return a("<div>").css({position:"absolute",width:d.outerWidth(),height:d.outerHeight()}).appendTo(d.parent()).offset(d.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(d){return a(d.target).closest(".ui-dialog").length?!0:!!a(d.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var d=this,e=this.widgetFullName;a.ui.dialog.overlayInstances||this._delay(function(){a.ui.dialog.overlayInstances&&
this.document.bind("focusin.dialog",function(b){d._allowInteraction(b)||(b.preventDefault(),a(".ui-dialog:visible:last .ui-dialog-content").data(e)._focusTabbable())})});this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});a.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(a.ui.dialog.overlayInstances--,a.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),
this.overlay.remove(),this.overlay=null)}});a.ui.dialog.overlayInstances=0;!1!==a.uiBackCompat&&a.widget("ui.dialog",a.ui.dialog,{_position:function(){var d=this.options.position,e=[],b=[0,0],c;if(d){if("string"===typeof d||"object"===typeof d&&"0"in d)e=d.split?d.split(" "):[d[0],d[1]],1===e.length&&(e[1]=e[0]),a.each(["left","top"],function(a,c){+e[a]===e[a]&&(b[a]=e[a],e[a]=c)}),d={my:e[0]+(0>b[0]?b[0]:"+"+b[0])+" "+e[1]+(0>b[1]?b[1]:"+"+b[1]),at:e.join(" ")};d=a.extend({},a.ui.dialog.prototype.options.position,
d)}else d=a.ui.dialog.prototype.options.position;(c=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.position(d);c||this.uiDialog.hide()}})})(jQuery);
(function(a,k){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||
/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(e){var f=this.options;if(this.helper||f.disabled||0<a(e.target).closest(".ui-resizable-handle").length)return!1;
this.handle=this._getHandle(e);if(!this.handle)return!1;a(!0===f.iframeFix?"iframe":f.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")});return!0},_mouseStart:function(e){var f=this.options;this.helper=this._createHelper(e);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();
a.ui.ddmanager&&(a.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=!1;a.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},
parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(e);this.originalPageX=e.pageX;this.originalPageY=e.pageY;f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt);this._setContainment();if(!1===this._trigger("start",e))return this._clear(),!1;this._cacheHelperProportions();a.ui.ddmanager&&!f.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,e);this._mouseDrag(e,!0);a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,e);return!0},
_mouseDrag:function(e,f){"fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset());this.position=this._generatePosition(e);this.positionAbs=this._convertPositionTo("absolute");if(!f){var d=this._uiHash();if(!1===this._trigger("drag",e,d))return this._mouseUp({}),!1;this.position=d.position}this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+
"px");a.ui.ddmanager&&a.ui.ddmanager.drag(this,e);return!1},_mouseStop:function(e){var f=this,d=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,e));this.dropped&&(d=this.dropped,this.dropped=!1);if("original"===this.options.helper&&!a.contains(this.element[0].ownerDocument,this.element[0]))return!1;"invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?
a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==f._trigger("stop",e)&&f._clear()}):!1!==this._trigger("stop",e)&&this._clear();return!1},_mouseUp:function(e){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,e);return a.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(e){return this.options.handle?
!!a(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var f=this.options;e=a.isFunction(f.helper)?a(f.helper.apply(this.element[0],[e])):"clone"===f.helper?this.element.clone().removeAttr("id"):this.element;e.parents("body").length||e.appendTo("parent"===f.appendTo?this.element[0].parentNode:f.appendTo);e[0]===this.element[0]||/(fixed|absolute)/.test(e.css("position"))||e.css("position","absolute");return e},_adjustOffsetFromHelper:function(e){"string"===
typeof e&&(e=e.split(" "));a.isArray(e)&&(e={left:+e[0],top:+e[1]||0});"left"in e&&(this.offset.click.left=e.left+this.margins.left);"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left);"top"in e&&(this.offset.click.top=e.top+this.margins.top);"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&
a.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)e={top:0,left:0};return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();
return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,f,d;e=this.options;if(e.containment)if("window"===e.containment)this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top];else if("document"===e.containment)this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];else if(e.containment.constructor===Array)this.containment=e.containment;else{if("parent"===e.containment&&(e.containment=this.helper[0].parentNode),f=a(e.containment),d=f[0])e="hidden"!==f.css("overflow"),this.containment=[(parseInt(f.css("borderLeftWidth"),
10)||0)+(parseInt(f.css("paddingLeft"),10)||0),(parseInt(f.css("borderTopWidth"),10)||0)+(parseInt(f.css("paddingTop"),10)||0),(e?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(f.css("borderRightWidth"),10)||0)-(parseInt(f.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(f.css("borderBottomWidth"),10)||0)-(parseInt(f.css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top-this.margins.bottom],this.relative_container=f}else this.containment=null},_convertPositionTo:function(e,f){f||(f=this.position);var d="absolute"===e?1:-1,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;this.offset.scroll||(this.offset.scroll={top:h.scrollTop(),left:h.scrollLeft()});return{top:f.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?
-this.scrollParent.scrollTop():this.offset.scroll.top)*d,left:f.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*d}},_generatePosition:function(e){var f,d,h,b=this.options,c="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;h=e.pageX;d=e.pageY;this.offset.scroll||(this.offset.scroll={top:c.scrollTop(),
left:c.scrollLeft()});this.originalPosition&&(this.containment&&(this.relative_container?(f=this.relative_container.offset(),f=[this.containment[0]+f.left,this.containment[1]+f.top,this.containment[2]+f.left,this.containment[3]+f.top]):f=this.containment,e.pageX-this.offset.click.left<f[0]&&(h=f[0]+this.offset.click.left),e.pageY-this.offset.click.top<f[1]&&(d=f[1]+this.offset.click.top),e.pageX-this.offset.click.left>f[2]&&(h=f[2]+this.offset.click.left),e.pageY-this.offset.click.top>f[3]&&(d=f[3]+
this.offset.click.top)),b.grid&&(d=b.grid[1]?this.originalPageY+Math.round((d-this.originalPageY)/b.grid[1])*b.grid[1]:this.originalPageY,d=f?d-this.offset.click.top>=f[1]||d-this.offset.click.top>f[3]?d:d-this.offset.click.top>=f[1]?d-b.grid[1]:d+b.grid[1]:d,h=b.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/b.grid[0])*b.grid[0]:this.originalPageX,h=f?h-this.offset.click.left>=f[0]||h-this.offset.click.left>f[2]?h:h-this.offset.click.left>=f[0]?h-b.grid[0]:h+b.grid[0]:h));return{top:d-
this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=
!1},_trigger:function(e,f,d){d=d||this._uiHash();a.ui.plugin.call(this,e,[f,d]);"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute"));return a.Widget.prototype._trigger.call(this,e,f,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(e,f){var d=a(this).data("ui-draggable"),h=d.options,b=a.extend({},f,{item:d.element});d.sortables=
[];a(h.connectToSortable).each(function(){var c=a.data(this,"ui-sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",e,b))})},stop:function(e,f){var d=a(this).data("ui-draggable"),h=a.extend({},f,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),
this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,h))})},drag:function(e,f){var d=a(this).data("ui-draggable"),h=this;a.each(d.sortables,function(){var b=!1,c=this;this.instance.positionAbs=d.positionAbs;this.instance.helperProportions=d.helperProportions;this.instance.offset.click=d.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&
(b=!0,a.each(d.sortables,function(){this.instance.positionAbs=d.positionAbs;this.instance.helperProportions=d.helperProportions;this.instance.offset.click=d.offset.click;this!==c&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(c.instance.element[0],this.instance.element[0])&&(b=!1);return b}));b?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(h).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=
this.instance.options.helper,this.instance.options.helper=function(){return f.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",e),d.dropped=
this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),
d._trigger("fromSortable",e),d.dropped=!1)})}});a.ui.plugin.add("draggable","cursor",{start:function(){var e=a("body"),f=a(this).data("ui-draggable").options;e.css("cursor")&&(f._cursor=e.css("cursor"));e.css("cursor",f.cursor)},stop:function(){var e=a(this).data("ui-draggable").options;e._cursor&&a("body").css("cursor",e._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(e,f){var d=a(f.helper),h=a(this).data("ui-draggable").options;d.css("opacity")&&(h._opacity=d.css("opacity"));d.css("opacity",
h.opacity)},stop:function(e,f){var d=a(this).data("ui-draggable").options;d._opacity&&a(f.helper).css("opacity",d._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var e=a(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var f=a(this).data("ui-draggable"),d=f.options,h=!1;f.scrollParent[0]!==document&&"HTML"!==f.scrollParent[0].tagName?(d.axis&&"x"===d.axis||(f.overflowOffset.top+
f.scrollParent[0].offsetHeight-e.pageY<d.scrollSensitivity?f.scrollParent[0].scrollTop=h=f.scrollParent[0].scrollTop+d.scrollSpeed:e.pageY-f.overflowOffset.top<d.scrollSensitivity&&(f.scrollParent[0].scrollTop=h=f.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&"y"===d.axis||(f.overflowOffset.left+f.scrollParent[0].offsetWidth-e.pageX<d.scrollSensitivity?f.scrollParent[0].scrollLeft=h=f.scrollParent[0].scrollLeft+d.scrollSpeed:e.pageX-f.overflowOffset.left<d.scrollSensitivity&&(f.scrollParent[0].scrollLeft=
h=f.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&"x"===d.axis||(e.pageY-a(document).scrollTop()<d.scrollSensitivity?h=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(e.pageY-a(document).scrollTop())<d.scrollSensitivity&&(h=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&"y"===d.axis||(e.pageX-a(document).scrollLeft()<d.scrollSensitivity?h=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(e.pageX-a(document).scrollLeft())<
d.scrollSensitivity&&(h=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed))));!1!==h&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(f,e)}});a.ui.plugin.add("draggable","snap",{start:function(){var e=a(this).data("ui-draggable"),f=e.options;e.snapElements=[];a(f.snap.constructor!==String?f.snap.items||":data(ui-draggable)":f.snap).each(function(){var d=a(this),h=d.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:d.outerWidth(),height:d.outerHeight(),
top:h.top,left:h.left})})},drag:function(e,f){var d,h,b,c,g,l,p,k,q,r,s=a(this).data("ui-draggable"),u=s.options,w=u.snapTolerance,x=f.offset.left,y=x+s.helperProportions.width,B=f.offset.top,A=B+s.helperProportions.height;for(q=s.snapElements.length-1;0<=q;q--)g=s.snapElements[q].left,l=g+s.snapElements[q].width,p=s.snapElements[q].top,k=p+s.snapElements[q].height,y<g-w||x>l+w||A<p-w||B>k+w||!a.contains(s.snapElements[q].item.ownerDocument,s.snapElements[q].item)?(s.snapElements[q].snapping&&s.options.snap.release&&
s.options.snap.release.call(s.element,e,a.extend(s._uiHash(),{snapItem:s.snapElements[q].item})),s.snapElements[q].snapping=!1):("inner"!==u.snapMode&&(d=Math.abs(p-A)<=w,h=Math.abs(k-B)<=w,b=Math.abs(g-y)<=w,c=Math.abs(l-x)<=w,d&&(f.position.top=s._convertPositionTo("relative",{top:p-s.helperProportions.height,left:0}).top-s.margins.top),h&&(f.position.top=s._convertPositionTo("relative",{top:k,left:0}).top-s.margins.top),b&&(f.position.left=s._convertPositionTo("relative",{top:0,left:g-s.helperProportions.width}).left-
s.margins.left),c&&(f.position.left=s._convertPositionTo("relative",{top:0,left:l}).left-s.margins.left)),r=d||h||b||c,"outer"!==u.snapMode&&(d=Math.abs(p-B)<=w,h=Math.abs(k-A)<=w,b=Math.abs(g-x)<=w,c=Math.abs(l-y)<=w,d&&(f.position.top=s._convertPositionTo("relative",{top:p,left:0}).top-s.margins.top),h&&(f.position.top=s._convertPositionTo("relative",{top:k-s.helperProportions.height,left:0}).top-s.margins.top),b&&(f.position.left=s._convertPositionTo("relative",{top:0,left:g}).left-s.margins.left),
c&&(f.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left-s.margins.left)),!s.snapElements[q].snapping&&(d||h||b||c||r)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,a.extend(s._uiHash(),{snapItem:s.snapElements[q].item})),s.snapElements[q].snapping=d||h||b||c||r)}});a.ui.plugin.add("draggable","stack",{start:function(){var e,f=this.data("ui-draggable").options,f=a.makeArray(a(f.stack)).sort(function(d,e){return(parseInt(a(d).css("zIndex"),10)||
0)-(parseInt(a(e).css("zIndex"),10)||0)});f.length&&(e=parseInt(a(f[0]).css("zIndex"),10)||0,a(f).each(function(d){a(this).css("zIndex",e+d)}),this.css("zIndex",e+f.length))}});a.ui.plugin.add("draggable","zIndex",{start:function(e,f){var d=a(f.helper),h=a(this).data("ui-draggable").options;d.css("zIndex")&&(h._zIndex=d.css("zIndex"));d.css("zIndex",h.zIndex)},stop:function(e,f){var d=a(this).data("ui-draggable").options;d._zIndex&&a(f.helper).css("zIndex",d._zIndex)}})})(jQuery);
(function(a,k){a.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,f=this.options,d=f.accept;this.isover=!1;this.isout=!0;this.accept=a.isFunction(d)?d:function(a){return a.is(d)};this.proportions=function(){if(arguments.length)e=arguments[0];else return e?e:e={width:this.element[0].offsetWidth,
height:this.element[0].offsetHeight}};a.ui.ddmanager.droppables[f.scope]=a.ui.ddmanager.droppables[f.scope]||[];a.ui.ddmanager.droppables[f.scope].push(this);f.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,f=a.ui.ddmanager.droppables[this.options.scope];e<f.length;e++)f[e]===this&&f.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,f){"accept"===e&&(this.accept=a.isFunction(f)?f:function(a){return a.is(f)});a.Widget.prototype._setOption.apply(this,
arguments)},_activate:function(e){var f=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);f&&this._trigger("activate",e,this.ui(f))},_deactivate:function(e){var f=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);f&&this._trigger("deactivate",e,this.ui(f))},_over:function(e){var f=a.ui.ddmanager.current;f&&(f.currentItem||f.element)[0]!==this.element[0]&&this.accept.call(this.element[0],f.currentItem||
f.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(f)))},_out:function(e){var f=a.ui.ddmanager.current;f&&(f.currentItem||f.element)[0]!==this.element[0]&&this.accept.call(this.element[0],f.currentItem||f.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(f)))},_drop:function(e,f){var d=f||a.ui.ddmanager.current,h=!1;if(!d||(d.currentItem||d.element)[0]===this.element[0])return!1;
this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"ui-droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope===d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance))return h=!0,!1});return h?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&
this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(d)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});a.ui.intersect=function(a,f,d){if(!f.offset)return!1;var h=(a.positionAbs||a.position.absolute).left,b=(a.positionAbs||a.position.absolute).top,c=h+a.helperProportions.width,g=b+a.helperProportions.height,l=f.offset.left,p=f.offset.top,k=l+f.proportions().width,q=p+f.proportions().height;
switch(d){case "fit":return l<=h&&c<=k&&p<=b&&g<=q;case "intersect":return l<h+a.helperProportions.width/2&&c-a.helperProportions.width/2<k&&p<b+a.helperProportions.height/2&&g-a.helperProportions.height/2<q;case "pointer":d=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left;a=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top;h=f.proportions().height;if(p=a>p&&a<p+h)f=f.proportions().width,p=d>l&&d<l+f;return p;case "touch":return(b>=p&&b<=q||
g>=p&&g<=q||b<p&&g>q)&&(h>=l&&h<=k||c>=l&&c<=k||h<l&&c>k);default:return!1}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,f){var d,h,b=a.ui.ddmanager.droppables[e.options.scope]||[],c=f?f.type:null,g=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();d=0;a:for(;d<b.length;d++)if(!(b[d].options.disabled||e&&!b[d].accept.call(b[d].element[0],e.currentItem||e.element))){for(h=0;h<g.length;h++)if(g[h]===b[d].element[0]){b[d].proportions().height=0;continue a}b[d].visible=
"none"!==b[d].element.css("display");b[d].visible&&("mousedown"===c&&b[d]._activate.call(b[d],f),b[d].offset=b[d].element.offset(),b[d].proportions({width:b[d].element[0].offsetWidth,height:b[d].element[0].offsetHeight}))}},drop:function(e,f){var d=!1;a.each((a.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(e,this,this.options.tolerance)&&(d=this._drop.call(this,f)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],
e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,f)))});return d},dragStart:function(e,f){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||a.ui.ddmanager.prepareOffsets(e,f)})},drag:function(e,f){e.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(e,f);a.each(a.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d,h,b;b=a.ui.intersect(e,this,this.options.tolerance);
var c=!b&&this.isover?"isout":b&&!this.isover?"isover":null;c&&(this.options.greedy&&(h=this.options.scope,b=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===h}),b.length&&(d=a.data(b[0],"ui-droppable"),d.greedyChild="isover"===c)),d&&"isover"===c&&(d.isover=!1,d.isout=!0,d._out.call(d,f)),this[c]=!0,this["isout"===c?"isover":"isout"]=!1,this["isover"===c?"_over":"_out"].call(this,f),d&&"isout"===c&&(d.isout=!1,d.isover=!0,d._over.call(d,
f)))}})},dragStop:function(e,f){e.element.parentsUntil("body").unbind("scroll.droppable");e.options.refreshPositions||a.ui.ddmanager.prepareOffsets(e,f)}}})(jQuery);
(function(a,k){a.effects={effect:{}};(function(a,f){function d(b,a,c){var g=k[a.type]||{};if(null==b)return c||!a.def?null:a.def;b=g.floor?~~b:parseFloat(b);return isNaN(b)?a.def:g.mod?(b+g.mod)%g.mod:0>b?0:g.max<b?g.max:b}function h(b){var c=l(),d=c._rgba=[];b=b.toLowerCase();u(g,function(a,g){var e,h=g.re.exec(b);e=h&&g.parse(h);h=g.space||"rgba";if(e)return e=c[h](e),c[p[h].cache]=e[p[h].cache],d=c._rgba=e._rgba,!1});return d.length?("0,0,0,0"===d.join()&&a.extend(d,s.transparent),c):s[b]}function b(b,
a,c){c=(c+1)%1;return 1>6*c?b+(a-b)*c*6:1>2*c?a:2>3*c?b+(a-b)*(2/3-c)*6:b}var c=/^([\-+])=\s*(\d+\.?\d*)/,g=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(b){return[b[1],b[2],b[3],b[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(b){return[2.55*b[1],2.55*b[2],2.55*b[3],b[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(b){return[parseInt(b[1],
16),parseInt(b[2],16),parseInt(b[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(b){return[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(b){return[b[1],b[2]/100,b[3]/100,b[4]]}}],l=a.Color=function(b,c,g,d){return new a.Color.fn.parse(b,c,g,d)},p={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,
type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},k={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},q=l.support={},r=a("<p>")[0],s,u=a.each;r.style.cssText="background-color:rgba(1,1,1,.5)";q.rgba=-1<r.style.backgroundColor.indexOf("rgba");u(p,function(b,a){a.cache="_"+b;a.props.alpha={idx:3,type:"percent",def:1}});l.fn=a.extend(l.prototype,{parse:function(b,c,g,k){if(b===f)return this._rgba=[null,null,
null,null],this;if(b.jquery||b.nodeType)b=a(b).css(c),c=f;var q=this,r=a.type(b),v=this._rgba=[];c!==f&&(b=[b,c,g,k],r="array");if("string"===r)return this.parse(h(b)||s._default);if("array"===r)return u(p.rgba.props,function(a,c){v[c.idx]=d(b[c.idx],c)}),this;if("object"===r)return b instanceof l?u(p,function(a,c){b[c.cache]&&(q[c.cache]=b[c.cache].slice())}):u(p,function(c,g){var h=g.cache;u(g.props,function(a,c){if(!q[h]&&g.to){if("alpha"===a||null==b[a])return;q[h]=g.to(q._rgba)}q[h][c.idx]=d(b[a],
c,!0)});q[h]&&0>a.inArray(null,q[h].slice(0,3))&&(q[h][3]=1,g.from&&(q._rgba=g.from(q[h])))}),this},is:function(b){var a=l(b),c=!0,g=this;u(p,function(b,d){var e,h=a[d.cache];h&&(e=g[d.cache]||d.to&&d.to(g._rgba)||[],u(d.props,function(b,a){if(null!=h[a.idx])return c=h[a.idx]===e[a.idx]}));return c});return c},_space:function(){var b=[],a=this;u(p,function(c,g){a[g.cache]&&b.push(c)});return b.pop()},transition:function(b,a){var c=l(b),g=c._space(),e=p[g],h=0===this.alpha()?l("transparent"):this,
f=h[e.cache]||e.to(h._rgba),q=f.slice(),c=c[e.cache];u(e.props,function(b,g){var e=g.idx,h=f[e],l=c[e],p=k[g.type]||{};null!==l&&(null===h?q[e]=l:(p.mod&&(l-h>p.mod/2?h+=p.mod:h-l>p.mod/2&&(h-=p.mod)),q[e]=d((l-h)*a+h,g)))});return this[g](q)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),g=c.pop(),d=l(b)._rgba;return l(a.map(c,function(b,a){return(1-g)*d[a]+g*b}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(b,a){return null==b?2<a?1:0:b});1===
c[3]&&(c.pop(),b="rgb(");return b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(b,a){null==b&&(b=2<a?1:0);a&&3>a&&(b=Math.round(100*b)+"%");return b});1===c[3]&&(c.pop(),b="hsl(");return b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),g=c.pop();b&&c.push(~~(255*g));return"#"+a.map(c,function(b){b=(b||0).toString(16);return 1===b.length?"0"+b:b}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});l.fn.parse.prototype=
l.fn;p.hsla.to=function(b){if(null==b[0]||null==b[1]||null==b[2])return[null,null,null,b[3]];var a=b[0]/255,c=b[1]/255,g=b[2]/255;b=b[3];var d=Math.max(a,c,g),e=Math.min(a,c,g),h=d-e,l=d+e,f=.5*l,l=0===h?0:.5>=f?h/l:h/(2-l);return[Math.round(e===d?0:a===d?60*(c-g)/h+360:c===d?60*(g-a)/h+120:60*(a-c)/h+240)%360,l,f,null==b?1:b]};p.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var c=a[0]/360,g=a[1],d=a[2];a=a[3];g=.5>=d?d*(1+g):d+g-d*g;d=2*d-g;return[Math.round(255*
b(d,g,c+1/3)),Math.round(255*b(d,g,c)),Math.round(255*b(d,g,c-1/3)),a]};u(p,function(b,g){var h=g.props,p=g.cache,k=g.to,q=g.from;l.fn[b]=function(b){k&&!this[p]&&(this[p]=k(this._rgba));if(b===f)return this[p].slice();var c,g=a.type(b),r="array"===g||"object"===g?b:arguments,v=this[p].slice();u(h,function(b,a){var c=r["object"===g?b:a.idx];null==c&&(c=v[a.idx]);v[a.idx]=d(c,a)});return q?(c=l(q(v)),c[p]=v,c):l(v)};u(h,function(g,d){l.fn[g]||(l.fn[g]=function(h){var l=a.type(h),f="alpha"===g?this._hsla?
"hsla":"rgba":b,p=this[f](),k=p[d.idx];if("undefined"===l)return k;"function"===l&&(h=h.call(this,k),l=a.type(h));if(null==h&&d.empty)return this;"string"===l&&(l=c.exec(h))&&(h=k+parseFloat(l[2])*("+"===l[1]?1:-1));p[d.idx]=h;return this[f](p)})})});l.hook=function(b){b=b.split(" ");u(b,function(b,c){a.cssHooks[c]={set:function(b,g){var d,f="";if("transparent"!==g&&("string"!==a.type(g)||(d=h(g)))){g=l(d||g);if(!q.rgba&&1!==g._rgba[3]){for(d="backgroundColor"===c?b.parentNode:b;(""===f||"transparent"===
f)&&d&&d.style;)try{f=a.css(d,"backgroundColor"),d=d.parentNode}catch(p){}g=g.blend(f&&"transparent"!==f?f:"_default")}g=g.toRgbaString()}try{b.style[c]=g}catch(k){}}};a.fx.step[c]=function(b){b.colorInit||(b.start=l(b.elem,c),b.end=l(b.end),b.colorInit=!0);a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})};l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");a.cssHooks.borderColor=
{expand:function(b){var a={};u(["Top","Right","Bottom","Left"],function(c,g){a["border"+g+"Color"]=b});return a}};s=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){function e(d){var b,c=d.ownerDocument.defaultView?
d.ownerDocument.defaultView.getComputedStyle(d,null):d.currentStyle,g={};if(c&&c.length&&c[0]&&c[c[0]])for(d=c.length;d--;)b=c[d],"string"===typeof c[b]&&(g[a.camelCase(b)]=c[b]);else for(b in c)"string"===typeof c[b]&&(g[b]=c[b]);return g}var f=["add","remove","toggle"],d={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(d,b){a.fx.step[b]=function(a){if("none"!==
a.end&&!a.setAttr||1===a.pos&&!a.setAttr)jQuery.style(a.elem,b,a.end),a.setAttr=!0}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a.effects.animateClass=function(h,b,c,g){var l=a.speed(b,c,g);return this.queue(function(){var b=a(this),c=b.attr("class")||"",g,k=l.children?b.find("*").addBack():b,k=k.map(function(){return{el:a(this),start:e(this)}});g=function(){a.each(f,function(a,c){if(h[c])b[c+"Class"](h[c])})};g();k=k.map(function(){this.end=
e(this.el[0]);var b=this.start,c=this.end,g={},h,l;for(h in c)l=c[h],b[h]===l||d[h]||!a.fx.step[h]&&isNaN(parseFloat(l))||(g[h]=l);this.diff=g;return this});b.attr("class",c);k=k.map(function(){var b=this,c=a.Deferred(),g=a.extend({},l,{queue:!1,complete:function(){c.resolve(b)}});this.el.animate(this.diff,g);return c.promise()});a.when.apply(a,k.get()).done(function(){g();a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})});l.complete.call(b[0])})})};a.fn.extend({addClass:function(d){return function(b,
c,g,e){return c?a.effects.animateClass.call(this,{add:b},c,g,e):d.apply(this,arguments)}}(a.fn.addClass),removeClass:function(d){return function(b,c,g,e){return 1<arguments.length?a.effects.animateClass.call(this,{remove:b},c,g,e):d.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(d){return function(b,c,g,e,f){return"boolean"===typeof c||c===k?g?a.effects.animateClass.call(this,c?{add:b}:{remove:b},g,e,f):d.apply(this,arguments):a.effects.animateClass.call(this,{toggle:b},c,g,e)}}(a.fn.toggleClass),
switchClass:function(d,b,c,g,e){return a.effects.animateClass.call(this,{add:b,remove:d},c,g,e)}})})();(function(){function e(d,e,b,c){a.isPlainObject(d)&&(e=d,d=d.effect);d={effect:d};null==e&&(e={});a.isFunction(e)&&(c=e,b=null,e={});if("number"===typeof e||a.fx.speeds[e])c=b,b=e,e={};a.isFunction(b)&&(c=b,b=null);e&&a.extend(d,e);b=b||e.duration;d.duration=a.fx.off?0:"number"===typeof b?b:b in a.fx.speeds?a.fx.speeds[b]:a.fx.speeds._default;d.complete=c||e.complete;return d}function f(d){return!d||
"number"===typeof d||a.fx.speeds[d]||"string"===typeof d&&!a.effects.effect[d]||a.isFunction(d)||"object"===typeof d&&!d.effect?!0:!1}a.extend(a.effects,{version:"1.10.4",save:function(a,e){for(var b=0;b<e.length;b++)null!==e[b]&&a.data("ui-effects-"+e[b],a[0].style[e[b]])},restore:function(a,e){var b,c;for(c=0;c<e.length;c++)null!==e[c]&&(b=a.data("ui-effects-"+e[c]),b===k&&(b=""),a.css(e[c],b))},setMode:function(a,e){"toggle"===e&&(e=a.is(":hidden")?"show":"hide");return e},getBaseline:function(a,
e){var b,c;switch(a[0]){case "top":b=0;break;case "middle":b=.5;break;case "bottom":b=1;break;default:b=a[0]/e.height}switch(a[1]){case "left":c=0;break;case "center":c=.5;break;case "right":c=1;break;default:c=a[1]/e.width}return{x:c,y:b}},createWrapper:function(d){if(d.parent().is(".ui-effects-wrapper"))return d.parent();var e={width:d.outerWidth(!0),height:d.outerHeight(!0),"float":d.css("float")},b=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",
margin:0,padding:0}),c={width:d.width(),height:d.height()},g=document.activeElement;try{g.id}catch(l){g=document.body}d.wrap(b);(d[0]===g||a.contains(d[0],g))&&a(g).focus();b=d.parent();"static"===d.css("position")?(b.css({position:"relative"}),d.css({position:"relative"})):(a.extend(e,{position:d.css("position"),zIndex:d.css("z-index")}),a.each(["top","left","bottom","right"],function(b,a){e[a]=d.css(a);isNaN(parseInt(e[a],10))&&(e[a]="auto")}),d.css({position:"relative",top:0,left:0,right:"auto",
bottom:"auto"}));d.css(c);return b.css(e).show()},removeWrapper:function(d){var e=document.activeElement;d.parent().is(".ui-effects-wrapper")&&(d.parent().replaceWith(d),(d[0]===e||a.contains(d[0],e))&&a(e).focus());return d},setTransition:function(d,e,b,c){c=c||{};a.each(e,function(a,e){var h=d.cssUnit(e);0<h[0]&&(c[e]=h[0]*b+h[1])});return c}});a.fn.extend({effect:function(){function d(b){function c(){a.isFunction(e)&&e.call(d[0]);a.isFunction(b)&&b()}var d=a(this),e=h.complete,f=h.mode;(d.is(":hidden")?
"hide"===f:"show"===f)?(d[f](),c()):g.call(d[0],h,c)}var h=e.apply(this,arguments),b=h.mode,c=h.queue,g=a.effects.effect[h.effect];return a.fx.off||!g?b?this[b](h.duration,h.complete):this.each(function(){h.complete&&h.complete.call(this)}):!1===c?this.each(d):this.queue(c||"fx",d)},show:function(a){return function(h){if(f(h))return a.apply(this,arguments);var b=e.apply(this,arguments);b.mode="show";return this.effect.call(this,b)}}(a.fn.show),hide:function(a){return function(h){if(f(h))return a.apply(this,
arguments);var b=e.apply(this,arguments);b.mode="hide";return this.effect.call(this,b)}}(a.fn.hide),toggle:function(a){return function(h){if(f(h)||"boolean"===typeof h)return a.apply(this,arguments);var b=e.apply(this,arguments);b.mode="toggle";return this.effect.call(this,b)}}(a.fn.toggle),cssUnit:function(d){var e=this.css(d),b=[];a.each(["em","px","%","pt"],function(a,g){0<e.indexOf(g)&&(b=[parseFloat(e),g])});return b}})})();(function(){var e={};a.each(["Quad","Cubic","Quart","Quint","Expo"],
function(a,d){e[d]=function(d){return Math.pow(d,a+2)}});a.extend(e,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var d,e=4;a<((d=Math.pow(2,--e))-1)/11;);return 1/Math.pow(4,3-e)-7.5625*Math.pow((3*d-2)/22-a,2)}});a.each(e,function(e,d){a.easing["easeIn"+e]=d;a.easing["easeOut"+e]=function(a){return 1-
d(1-a)};a.easing["easeInOut"+e]=function(a){return.5>a?d(2*a)/2:1-d(-2*a+2)/2}})})()})(jQuery);
(function(a,k){var e=/up|down|vertical/,f=/up|left|vertical|horizontal/;a.effects.effect.blind=function(d,h){var b=a(this),c="position top bottom left right height width".split(" "),g=a.effects.setMode(b,d.mode||"hide"),l=d.direction||"up",p=e.test(l),k=p?"height":"width",q=p?"top":"left",l=f.test(l),r={},s="show"===g,u,w,x;b.parent().is(".ui-effects-wrapper")?a.effects.save(b.parent(),c):a.effects.save(b,c);b.show();u=a.effects.createWrapper(b).css({overflow:"hidden"});w=u[k]();x=parseFloat(u.css(q))||
0;r[k]=s?w:0;l||(b.css(p?"bottom":"right",0).css(p?"top":"left","auto").css({position:"absolute"}),r[q]=s?x:w+x);s&&(u.css(k,0),l||u.css(q,x+w));u.animate(r,{duration:d.duration,easing:d.easing,queue:!1,complete:function(){"hide"===g&&b.hide();a.effects.restore(b,c);a.effects.removeWrapper(b);h()}})}})(jQuery);
(function(a,k){a.effects.effect.bounce=function(e,f){var d=a(this),h="position top bottom left right height width".split(" "),b=a.effects.setMode(d,e.mode||"effect"),c="hide"===b,g="show"===b,l=e.direction||"up",b=e.distance,p=e.times||5,k=2*p+(g||c?1:0),q=e.duration/k,r=e.easing,s="up"===l||"down"===l?"top":"left",l="up"===l||"left"===l,u,w,x=d.queue(),y=x.length;(g||c)&&h.push("opacity");a.effects.save(d,h);d.show();a.effects.createWrapper(d);b||(b=d["top"===s?"outerHeight":"outerWidth"]()/3);g&&
(w={opacity:1},w[s]=0,d.css("opacity",0).css(s,l?2*-b:2*b).animate(w,q,r));c&&(b/=Math.pow(2,p-1));w={};for(g=w[s]=0;g<p;g++)u={},u[s]=(l?"-=":"+=")+b,d.animate(u,q,r).animate(w,q,r),b=c?2*b:b/2;c&&(u={opacity:0},u[s]=(l?"-=":"+=")+b,d.animate(u,q,r));d.queue(function(){c&&d.hide();a.effects.restore(d,h);a.effects.removeWrapper(d);f()});1<y&&x.splice.apply(x,[1,0].concat(x.splice(y,k+1)));d.dequeue()}})(jQuery);
(function(a,k){a.effects.effect.clip=function(e,f){var d=a(this),h="position top bottom left right height width".split(" "),b="show"===a.effects.setMode(d,e.mode||"hide"),c="vertical"===(e.direction||"vertical"),g=c?"height":"width",c=c?"top":"left",l={},p,k;a.effects.save(d,h);d.show();p=a.effects.createWrapper(d).css({overflow:"hidden"});p="IMG"===d[0].tagName?p:d;k=p[g]();b&&(p.css(g,0),p.css(c,k/2));l[g]=b?k:0;l[c]=b?0:k/2;p.animate(l,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){b||
d.hide();a.effects.restore(d,h);a.effects.removeWrapper(d);f()}})}})(jQuery);
(function(a,k){a.effects.effect.drop=function(e,f){var d=a(this),h="position top bottom left right opacity height width".split(" "),b=a.effects.setMode(d,e.mode||"hide"),c="show"===b,g=e.direction||"left",l="up"===g||"down"===g?"top":"left",g="up"===g||"left"===g?"pos":"neg",p={opacity:c?1:0},k;a.effects.save(d,h);d.show();a.effects.createWrapper(d);k=e.distance||d["top"===l?"outerHeight":"outerWidth"](!0)/2;c&&d.css("opacity",0).css(l,"pos"===g?-k:k);p[l]=(c?"pos"===g?"+=":"-=":"pos"===g?"-=":"+=")+
k;d.animate(p,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===b&&d.hide();a.effects.restore(d,h);a.effects.removeWrapper(d);f()}})}})(jQuery);
(function(a,k){a.effects.effect.explode=function(e,f){function d(){q.push(this);q.length===h*b&&(c.css({visibility:"visible"}),a(q).remove(),g||c.hide(),f())}var h=e.pieces?Math.round(Math.sqrt(e.pieces)):3,b=h,c=a(this),g="show"===a.effects.setMode(c,e.mode||"hide"),l=c.show().css("visibility","hidden").offset(),p=Math.ceil(c.outerWidth()/b),k=Math.ceil(c.outerHeight()/h),q=[],r,s,u,w,x,y;for(r=0;r<h;r++)for(w=l.top+r*k,y=r-(h-1)/2,s=0;s<b;s++)u=l.left+s*p,x=s-(b-1)/2,c.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",
visibility:"visible",left:-s*p,top:-r*k}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:k,left:u+(g?x*p:0),top:w+(g?y*k:0),opacity:g?0:1}).animate({left:u+(g?0:x*p),top:w+(g?0:y*k),opacity:g?1:0},e.duration||500,e.easing,d)}})(jQuery);(function(a,k){a.effects.effect.fade=function(e,f){var d=a(this),h=a.effects.setMode(d,e.mode||"toggle");d.animate({opacity:h},{queue:!1,duration:e.duration,easing:e.easing,complete:f})}})(jQuery);
(function(a,k){a.effects.effect.fold=function(e,f){var d=a(this),h="position top bottom left right height width".split(" "),b=a.effects.setMode(d,e.mode||"hide"),c="show"===b,g="hide"===b,b=e.size||15,l=/([0-9]+)%/.exec(b),p=!!e.horizFirst,k=c!==p,q=k?["width","height"]:["height","width"],r=e.duration/2,s,u={},w={};a.effects.save(d,h);d.show();s=a.effects.createWrapper(d).css({overflow:"hidden"});k=k?[s.width(),s.height()]:[s.height(),s.width()];l&&(b=parseInt(l[1],10)/100*k[g?0:1]);c&&s.css(p?{height:0,
width:b}:{height:b,width:0});u[q[0]]=c?k[0]:b;w[q[1]]=c?k[1]:0;s.animate(u,r,e.easing).animate(w,r,e.easing,function(){g&&d.hide();a.effects.restore(d,h);a.effects.removeWrapper(d);f()})}})(jQuery);
(function(a,k){a.effects.effect.highlight=function(e,f){var d=a(this),h=["backgroundImage","backgroundColor","opacity"],b=a.effects.setMode(d,e.mode||"show"),c={backgroundColor:d.css("backgroundColor")};"hide"===b&&(c.opacity=0);a.effects.save(d,h);d.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===b&&d.hide();a.effects.restore(d,h);f()}})}})(jQuery);
(function(a,k){a.effects.effect.pulsate=function(e,f){var d=a(this),h=a.effects.setMode(d,e.mode||"show"),b="show"===h,c="hide"===h,h=2*(e.times||5)+(b||"hide"===h?1:0),g=e.duration/h,l=0,p=d.queue(),k=p.length;if(b||!d.is(":visible"))d.css("opacity",0).show(),l=1;for(b=1;b<h;b++)d.animate({opacity:l},g,e.easing),l=1-l;d.animate({opacity:l},g,e.easing);d.queue(function(){c&&d.hide();f()});1<k&&p.splice.apply(p,[1,0].concat(p.splice(k,h+1)));d.dequeue()}})(jQuery);
(function(a,k){a.effects.effect.puff=function(e,f){var d=a(this),h=a.effects.setMode(d,e.mode||"hide"),b="hide"===h,c=parseInt(e.percent,10)||150,g=c/100,l={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()};a.extend(e,{effect:"scale",queue:!1,fade:!0,mode:h,complete:f,percent:b?c:100,from:b?l:{height:l.height*g,width:l.width*g,outerHeight:l.outerHeight*g,outerWidth:l.outerWidth*g}});d.effect(e)};a.effects.effect.scale=function(e,f){var d=a(this),h=a.extend(!0,
{},e),b=a.effects.setMode(d,e.mode||"effect"),c=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===b?0:100),g=e.direction||"both",l=e.origin,p={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()},k="horizontal"!==g?c/100:1,c="vertical"!==g?c/100:1;h.effect="size";h.queue=!1;h.complete=f;"effect"!==b&&(h.origin=l||["middle","center"],h.restore=!0);h.from=e.from||("show"===b?{height:0,width:0,outerHeight:0,outerWidth:0}:p);h.to={height:p.height*k,width:p.width*
c,outerHeight:p.outerHeight*k,outerWidth:p.outerWidth*c};h.fade&&("show"===b&&(h.from.opacity=0,h.to.opacity=1),"hide"===b&&(h.from.opacity=1,h.to.opacity=0));d.effect(h)};a.effects.effect.size=function(e,f){var d,h,b,c,g,l,p=a(this),k="position top bottom left right width height overflow opacity".split(" ");g="position top bottom left right overflow opacity".split(" ");var q=["width","height","overflow"],r=["fontSize"],s=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth",
"borderRightWidth","paddingLeft","paddingRight"],w=a.effects.setMode(p,e.mode||"effect"),x=e.restore||"effect"!==w,y=e.scale||"both";l=e.origin||["middle","center"];var B=p.css("position"),A=x?k:g,z={height:0,width:0,outerHeight:0,outerWidth:0};"show"===w&&p.show();g={height:p.height(),width:p.width(),outerHeight:p.outerHeight(),outerWidth:p.outerWidth()};"toggle"===e.mode&&"show"===w?(p.from=e.to||z,p.to=e.from||g):(p.from=e.from||("show"===w?z:g),p.to=e.to||("hide"===w?z:g));b=p.from.height/g.height;
c=p.from.width/g.width;d=p.to.height/g.height;h=p.to.width/g.width;if("box"===y||"both"===y)b!==d&&(A=A.concat(s),p.from=a.effects.setTransition(p,s,b,p.from),p.to=a.effects.setTransition(p,s,d,p.to)),c!==h&&(A=A.concat(u),p.from=a.effects.setTransition(p,u,c,p.from),p.to=a.effects.setTransition(p,u,h,p.to));"content"!==y&&"both"!==y||b===d||(A=A.concat(r).concat(q),p.from=a.effects.setTransition(p,r,b,p.from),p.to=a.effects.setTransition(p,r,d,p.to));a.effects.save(p,A);p.show();a.effects.createWrapper(p);
p.css("overflow","hidden").css(p.from);l&&(l=a.effects.getBaseline(l,g),p.from.top=(g.outerHeight-p.outerHeight())*l.y,p.from.left=(g.outerWidth-p.outerWidth())*l.x,p.to.top=(g.outerHeight-p.to.outerHeight)*l.y,p.to.left=(g.outerWidth-p.to.outerWidth)*l.x);p.css(p.from);if("content"===y||"both"===y)s=s.concat(["marginTop","marginBottom"]).concat(r),u=u.concat(["marginLeft","marginRight"]),q=k.concat(s).concat(u),p.find("*[width]").each(function(){var g=a(this),l=g.height(),f=g.width(),p=g.outerHeight(),
k=g.outerWidth();x&&a.effects.save(g,q);g.from={height:l*b,width:f*c,outerHeight:p*b,outerWidth:k*c};g.to={height:l*d,width:f*h,outerHeight:l*d,outerWidth:f*h};b!==d&&(g.from=a.effects.setTransition(g,s,b,g.from),g.to=a.effects.setTransition(g,s,d,g.to));c!==h&&(g.from=a.effects.setTransition(g,u,c,g.from),g.to=a.effects.setTransition(g,u,h,g.to));g.css(g.from);g.animate(g.to,e.duration,e.easing,function(){x&&a.effects.restore(g,q)})});p.animate(p.to,{queue:!1,duration:e.duration,easing:e.easing,
complete:function(){0===p.to.opacity&&p.css("opacity",p.from.opacity);"hide"===w&&p.hide();a.effects.restore(p,A);x||("static"===B?p.css({position:"relative",top:p.to.top,left:p.to.left}):a.each(["top","left"],function(b,a){p.css(a,function(a,c){var g=parseInt(c,10),d=b?p.to.left:p.to.top;return"auto"===c?d+"px":g+d+"px"})}));a.effects.removeWrapper(p);f()}})}})(jQuery);
(function(a,k){a.effects.effect.shake=function(e,f){var d=a(this),h="position top bottom left right height width".split(" "),b=a.effects.setMode(d,e.mode||"effect"),c=e.direction||"left",g=e.distance||20,l=e.times||3,p=2*l+1,k=Math.round(e.duration/p),q="up"===c||"down"===c?"top":"left",r="up"===c||"left"===c,c={},s={},u={},w=d.queue(),x=w.length;a.effects.save(d,h);d.show();a.effects.createWrapper(d);c[q]=(r?"-=":"+=")+g;s[q]=(r?"+=":"-=")+2*g;u[q]=(r?"-=":"+=")+2*g;d.animate(c,k,e.easing);for(g=
1;g<l;g++)d.animate(s,k,e.easing).animate(u,k,e.easing);d.animate(s,k,e.easing).animate(c,k/2,e.easing).queue(function(){"hide"===b&&d.hide();a.effects.restore(d,h);a.effects.removeWrapper(d);f()});1<x&&w.splice.apply(w,[1,0].concat(w.splice(x,p+1)));d.dequeue()}})(jQuery);
(function(a,k){a.effects.effect.slide=function(e,f){var d=a(this),h="position top bottom left right width height".split(" "),b=a.effects.setMode(d,e.mode||"show"),c="show"===b,g=e.direction||"left",l="up"===g||"down"===g?"top":"left",g="up"===g||"left"===g,p,k={};a.effects.save(d,h);d.show();p=e.distance||d["top"===l?"outerHeight":"outerWidth"](!0);a.effects.createWrapper(d).css({overflow:"hidden"});c&&d.css(l,g?isNaN(p)?"-"+p:-p:p);k[l]=(c?g?"+=":"-=":g?"-=":"+=")+p;d.animate(k,{queue:!1,duration:e.duration,
easing:e.easing,complete:function(){"hide"===b&&d.hide();a.effects.restore(d,h);a.effects.removeWrapper(d);f()}})}})(jQuery);
(function(a,k){a.effects.effect.transfer=function(e,f){var d=a(this),h=a(e.to),b="fixed"===h.css("position"),c=a("body"),g=b?c.scrollTop():0,c=b?c.scrollLeft():0,l=h.offset(),h={top:l.top-g,left:l.left-c,height:h.innerHeight(),width:h.innerWidth()},l=d.offset(),p=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:l.top-g,left:l.left-c,height:d.innerHeight(),width:d.innerWidth(),position:b?"fixed":"absolute"}).animate(h,e.duration,e.easing,function(){p.remove();
f()})}})(jQuery);
(function(a,k){a.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,
a.proxy(function(a){this.options.disabled&&a.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(e){var f=a(e.target).closest(".ui-menu-item");!this.mouseHandled&&f.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=
!0),f.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&a(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var f=a(e.currentTarget);f.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(e,f)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,f){var d=this.active||
this.element.children(".ui-menu-item").eq(0);f||this.focus(a,d)},blur:function(e){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(e){a(e.target).closest(".ui-menu").length||this.collapseAll(e);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=a(this);e.data("ui-menu-submenu-carat")&&e.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function f(b){return b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var d,h,b,c,g=!0;switch(e.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(e);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case a.ui.keyCode.HOME:this._move("first","first",e);break;case a.ui.keyCode.END:this._move("last","last",e);break;case a.ui.keyCode.UP:this.previous(e);break;case a.ui.keyCode.DOWN:this.next(e);break;case a.ui.keyCode.LEFT:this.collapse(e);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(e);
break;case a.ui.keyCode.ESCAPE:this.collapse(e);break;default:g=!1,d=this.previousFilter||"",h=String.fromCharCode(e.keyCode),b=!1,clearTimeout(this.filterTimer),h===d?b=!0:h=d+h,c=new RegExp("^"+f(h),"i"),d=this.activeMenu.children(".ui-menu-item").filter(function(){return c.test(a(this).children("a").text())}),d=b&&-1!==d.index(this.active.next())?this.active.nextAll(".ui-menu-item"):d,d.length||(h=String.fromCharCode(e.keyCode),c=new RegExp("^"+f(h),"i"),d=this.activeMenu.children(".ui-menu-item").filter(function(){return c.test(a(this).children("a").text())})),
d.length?(this.focus(e,d),1<d.length?(this.previousFilter=h,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}g&&e.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var e,f=this.options.icons.submenu;e=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);
e.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var d=a(this),e=d.prev("a"),b=a("<span>").addClass("ui-menu-icon ui-icon "+f).data("ui-menu-submenu-carat",!0);e.attr("aria-haspopup","true").prepend(b);d.attr("aria-labelledby",e.attr("id"))});e=e.add(this.element);e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,
role:this._itemRole()});e.children(":not(.ui-menu-item)").each(function(){var d=a(this);/[^\-\u2014\u2013\s]/.test(d.text())||d.addClass("ui-widget-content ui-menu-divider")});e.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,f){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(f.submenu);
this._super(a,f)},focus:function(a,f){var d;this.blur(a,a&&"focus"===a.type);this._scrollIntoView(f);this.active=f.first();d=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",d.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);d=f.children(".ui-menu");d.length&&a&&/^mouse/.test(a.type)&&
this._startOpening(d);this.activeMenu=f.parent();this._trigger("focus",a,{item:f})},_scrollIntoView:function(e){var f,d,h;this._hasScroll()&&(f=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,f=e.offset().top-this.activeMenu.offset().top-f-d,d=this.activeMenu.scrollTop(),h=this.activeMenu.height(),e=e.height(),0>f?this.activeMenu.scrollTop(d+f):f+e>h&&this.activeMenu.scrollTop(d+f-h+e))},blur:function(a,f){f||clearTimeout(this.timer);
this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(e){var f=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true");e.show().removeAttr("aria-hidden").attr("aria-expanded",
"true").position(f)},collapseAll:function(e,f){clearTimeout(this.timer);this.timer=this._delay(function(){var d=f?this.element:a(e&&e.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element);this._close(d);this.blur(e);this.activeMenu=d},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var f=
this.active&&this.active.parent().closest(".ui-menu-item",this.element);f&&f.length&&(this._close(),this.focus(a,f))},expand:function(a){var f=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();f&&f.length&&(this._open(f.parent()),this._delay(function(){this.focus(a,f)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&
!this.active.nextAll(".ui-menu-item").length},_move:function(a,f,d){var h;this.active&&(h="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0));h&&h.length&&this.active||(h=this.activeMenu.children(".ui-menu-item")[f]());this.focus(d,h)},nextPage:function(e){var f,d,h;this.active?this.isLastItem()||(this._hasScroll()?(d=this.active.offset().top,h=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){f=
a(this);return 0>f.offset().top-d-h}),this.focus(e,f)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var f,d,h;this.active?this.isFirstItem()||(this._hasScroll()?(d=this.active.offset().top,h=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){f=a(this);return 0<f.offset().top-d+h}),this.focus(e,f)):this.focus(e,this.activeMenu.children(".ui-menu-item").first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<
this.element.prop("scrollHeight")},select:function(e){this.active=this.active||a(e.target).closest(".ui-menu-item");var f={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0);this._trigger("select",e,f)}})})(jQuery);
(function(a,k){a.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove()},value:function(a){if(a===k)return this.options.value;this.options.value=this._constrainedValue(a);this._refreshValue()},_constrainedValue:function(a){a===k&&(a=this.options.value);this.indeterminate=!1===a;"number"!==typeof a&&(a=0);return this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var f=a.value;delete a.value;this._super(a);this.options.value=this._constrainedValue(f);this._refreshValue()},_setOption:function(a,f){"max"===
a&&(f=Math.max(this.min,f));this._super(a,f)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,f=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(f.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||
(this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==e&&(this.oldValue=e,this._trigger("change"));e===this.options.max&&this._trigger("complete")}})})(jQuery);
(function(a,k){function e(a){return parseInt(a,10)||0}function f(a){return!isNaN(parseInt(a,10))}a.widget("ui.resizable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var d,e,b,c,g,l=this,f=this.options;this.element.addClass("ui-resizable");
a.extend(this,{_aspectRatio:!!f.aspectRatio,aspectRatio:f.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:f.helper||f.ghost||f.animate?f.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=f.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");
if(this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),d=this.handles.split(","),this.handles={},e=0;e<d.length;e++)b=a.trim(d[e]),g="ui-resizable-"+b,c=a("<div class='ui-resizable-handle "+g+"'></div>"),c.css({zIndex:f.zIndex}),"se"===b&&c.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[b]=".ui-resizable-"+b,this.element.append(c);this._renderAxis=function(b){var c,g,d;b=b||this.element;for(c in this.handles)this.handles[c].constructor===
String&&(this.handles[c]=a(this.handles[c],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(g=a(this.handles[c],this.element),d=/sw|ne|nw|se|n|s/.test(c)?g.outerHeight():g.outerWidth(),g=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),b.css(g,d),this._proportionallyResize()),a(this.handles[c])};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){l.resizing||(this.className&&(c=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),l.axis=c&&c[1]?c[1]:"se")});f.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){f.disabled||(a(this).removeClass("ui-resizable-autohide"),l._handles.show())}).mouseleave(function(){f.disabled||l.resizing||(a(this).addClass("ui-resizable-autohide"),l._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
var d,e=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};this.elementIsWrapper&&(e(this.element),d=this.element,this.originalElement.css({position:d.css("position"),width:d.outerWidth(),height:d.outerHeight(),top:d.css("top"),left:d.css("left")}).insertAfter(d),d.remove());this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);
return this},_mouseCapture:function(d){var e,b,c=!1;for(e in this.handles)if(b=a(this.handles[e])[0],b===d.target||a.contains(b,d.target))c=!0;return!this.options.disabled&&c},_mouseStart:function(d){var h,b,c;c=this.options;h=this.element.position();var g=this.element;this.resizing=!0;/absolute/.test(g.css("position"))?g.css({position:"absolute",top:g.css("top"),left:g.css("left")}):g.is(".ui-draggable")&&g.css({position:"absolute",top:h.top,left:h.left});this._renderProxy();h=e(this.helper.css("left"));
b=e(this.helper.css("top"));c.containment&&(h+=a(c.containment).scrollLeft()||0,b+=a(c.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:h,top:b};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:g.width(),height:g.height()};this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()};this.originalPosition={left:h,top:b};this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-
g.height()};this.originalMousePosition={left:d.pageX,top:d.pageY};this.aspectRatio="number"===typeof c.aspectRatio?c.aspectRatio:this.originalSize.width/this.originalSize.height||1;c=a(".ui-resizable-"+this.axis).css("cursor");a("body").css("cursor","auto"===c?this.axis+"-resize":c);g.addClass("ui-resizable-resizing");this._propagate("start",d);return!0},_mouseDrag:function(d){var e,b=this.helper,c={};e=this.originalMousePosition;var g=this.position.top,l=this.position.left,f=this.size.width,k=this.size.height,
q=this._change[this.axis];if(!q)return!1;e=q.apply(this,[d,d.pageX-e.left||0,d.pageY-e.top||0]);this._updateVirtualBoundaries(d.shiftKey);if(this._aspectRatio||d.shiftKey)e=this._updateRatio(e,d);e=this._respectSize(e,d);this._updateCache(e);this._propagate("resize",d);this.position.top!==g&&(c.top=this.position.top+"px");this.position.left!==l&&(c.left=this.position.left+"px");this.size.width!==f&&(c.width=this.size.width+"px");this.size.height!==k&&(c.height=this.size.height+"px");b.css(c);!this._helper&&
this._proportionallyResizeElements.length&&this._proportionallyResize();a.isEmptyObject(c)||this._trigger("resize",d,this.ui());return!1},_mouseStop:function(d){this.resizing=!1;var e,b,c,g=this.options;this._helper&&(e=this._proportionallyResizeElements,e=(b=e.length&&/textarea/i.test(e[0].nodeName))&&a.ui.hasScroll(e[0],"left")?0:this.sizeDiff.height,b=b?0:this.sizeDiff.width,b={width:this.helper.width()-b,height:this.helper.height()-e},e=parseInt(this.element.css("left"),10)+(this.position.left-
this.originalPosition.left)||null,c=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,g.animate||this.element.css(a.extend(b,{top:c,left:e})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!g.animate&&this._proportionallyResize());a("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",d);this._helper&&this.helper.remove();return!1},_updateVirtualBoundaries:function(a){var e,
b,c,g;g=this.options;g={minWidth:f(g.minWidth)?g.minWidth:0,maxWidth:f(g.maxWidth)?g.maxWidth:Infinity,minHeight:f(g.minHeight)?g.minHeight:0,maxHeight:f(g.maxHeight)?g.maxHeight:Infinity};if(this._aspectRatio||a)a=g.minHeight*this.aspectRatio,b=g.minWidth/this.aspectRatio,e=g.maxHeight*this.aspectRatio,c=g.maxWidth/this.aspectRatio,a>g.minWidth&&(g.minWidth=a),b>g.minHeight&&(g.minHeight=b),e<g.maxWidth&&(g.maxWidth=e),c<g.maxHeight&&(g.maxHeight=c);this._vBoundaries=g},_updateCache:function(a){this.offset=
this.helper.offset();f(a.left)&&(this.position.left=a.left);f(a.top)&&(this.position.top=a.top);f(a.height)&&(this.size.height=a.height);f(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var e=this.position,b=this.size,c=this.axis;f(a.height)?a.width=a.height*this.aspectRatio:f(a.width)&&(a.height=a.width/this.aspectRatio);"sw"===c&&(a.left=e.left+(b.width-a.width),a.top=null);"nw"===c&&(a.top=e.top+(b.height-a.height),a.left=e.left+(b.width-a.width));return a},_respectSize:function(a){var e=
this._vBoundaries,b=this.axis,c=f(a.width)&&e.maxWidth&&e.maxWidth<a.width,g=f(a.height)&&e.maxHeight&&e.maxHeight<a.height,l=f(a.width)&&e.minWidth&&e.minWidth>a.width,p=f(a.height)&&e.minHeight&&e.minHeight>a.height,k=this.originalPosition.left+this.originalSize.width,q=this.position.top+this.size.height,r=/sw|nw|w/.test(b),b=/nw|ne|n/.test(b);l&&(a.width=e.minWidth);p&&(a.height=e.minHeight);c&&(a.width=e.maxWidth);g&&(a.height=e.maxHeight);l&&r&&(a.left=k-e.minWidth);c&&r&&(a.left=k-e.maxWidth);
p&&b&&(a.top=q-e.minHeight);g&&b&&(a.top=q-e.maxHeight);a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null;return a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,e,b,c,g,l=this.helper||this.element;for(a=0;a<this._proportionallyResizeElements.length;a++){g=this._proportionallyResizeElements[a];if(!this.borderDif)for(this.borderDif=[],b=[g.css("borderTopWidth"),g.css("borderRightWidth"),g.css("borderBottomWidth"),g.css("borderLeftWidth")],
c=[g.css("paddingTop"),g.css("paddingRight"),g.css("paddingBottom"),g.css("paddingLeft")],e=0;e<b.length;e++)this.borderDif[e]=(parseInt(b[e],10)||0)+(parseInt(c[e],10)||0);g.css({height:l.height()-this.borderDif[0]-this.borderDif[2]||0,width:l.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var d=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++d.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,e){return{width:this.originalSize.width+e}},w:function(a,e){return{left:this.originalPosition.left+e,width:this.originalSize.width-e}},n:function(a,e,b){return{top:this.originalPosition.top+b,height:this.originalSize.height-b}},s:function(a,e,b){return{height:this.originalSize.height+
b}},se:function(d,e,b){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[d,e,b]))},sw:function(d,e,b){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[d,e,b]))},ne:function(d,e,b){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[d,e,b]))},nw:function(d,e,b){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[d,e,b]))}},_propagate:function(d,e){a.ui.plugin.call(this,d,[e,this.ui()]);
"resize"!==d&&this._trigger(d,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.ui.plugin.add("resizable","animate",{stop:function(d){var e=a(this).data("ui-resizable"),b=e.options,c=e._proportionallyResizeElements,g=c.length&&/textarea/i.test(c[0].nodeName),l=g&&a.ui.hasScroll(c[0],"left")?0:e.sizeDiff.height,g=
{width:e.size.width-(g?0:e.sizeDiff.width),height:e.size.height-l},l=parseInt(e.element.css("left"),10)+(e.position.left-e.originalPosition.left)||null,f=parseInt(e.element.css("top"),10)+(e.position.top-e.originalPosition.top)||null;e.element.animate(a.extend(g,f&&l?{top:f,left:l}:{}),{duration:b.animateDuration,easing:b.animateEasing,step:function(){var b={width:parseInt(e.element.css("width"),10),height:parseInt(e.element.css("height"),10),top:parseInt(e.element.css("top"),10),left:parseInt(e.element.css("left"),
10)};c&&c.length&&a(c[0]).css({width:b.width,height:b.height});e._updateCache(b);e._propagate("resize",d)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var d,h,b,c,g,l=a(this).data("ui-resizable"),f=l.element;b=l.options.containment;if(f=b instanceof a?b.get(0):/parent/.test(b)?f.parent().get(0):b)l.containerElement=a(f),/document/.test(b)||b===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:a(document),left:0,top:0,width:a(document).width(),
height:a(document).height()||document.body.parentNode.scrollHeight}):(d=a(f),h=[],a(["Top","Right","Left","Bottom"]).each(function(b,a){h[b]=e(d.css("padding"+a))}),l.containerOffset=d.offset(),l.containerPosition=d.position(),l.containerSize={height:d.innerHeight()-h[3],width:d.innerWidth()-h[1]},b=l.containerOffset,c=l.containerSize.height,g=l.containerSize.width,g=a.ui.hasScroll(f,"left")?f.scrollWidth:g,c=a.ui.hasScroll(f)?f.scrollHeight:c,l.parentData={element:f,left:b.left,top:b.top,width:g,
height:c})},resize:function(d){var e,b,c,g,l=a(this).data("ui-resizable");e=l.options;b=l.containerOffset;c=l.position;d=l._aspectRatio||d.shiftKey;g={top:0,left:0};var f=l.containerElement;f[0]!==document&&/static/.test(f.css("position"))&&(g=b);c.left<(l._helper?b.left:0)&&(l.size.width+=l._helper?l.position.left-b.left:l.position.left-g.left,d&&(l.size.height=l.size.width/l.aspectRatio),l.position.left=e.helper?b.left:0);c.top<(l._helper?b.top:0)&&(l.size.height+=l._helper?l.position.top-b.top:
l.position.top,d&&(l.size.width=l.size.height*l.aspectRatio),l.position.top=l._helper?b.top:0);l.offset.left=l.parentData.left+l.position.left;l.offset.top=l.parentData.top+l.position.top;e=Math.abs(l.offset.left-g.left+l.sizeDiff.width);b=Math.abs((l._helper?l.offset.top-g.top:l.offset.top-b.top)+l.sizeDiff.height);c=l.containerElement.get(0)===l.element.parent().get(0);g=/relative|absolute/.test(l.containerElement.css("position"));c&&g&&(e-=Math.abs(l.parentData.left));e+l.size.width>=l.parentData.width&&
(l.size.width=l.parentData.width-e,d&&(l.size.height=l.size.width/l.aspectRatio));b+l.size.height>=l.parentData.height&&(l.size.height=l.parentData.height-b,d&&(l.size.width=l.size.height*l.aspectRatio))},stop:function(){var d=a(this).data("ui-resizable"),e=d.options,b=d.containerOffset,c=d.containerPosition,g=d.containerElement,l=a(d.helper),f=l.offset(),k=l.outerWidth()-d.sizeDiff.width,l=l.outerHeight()-d.sizeDiff.height;d._helper&&!e.animate&&/relative/.test(g.css("position"))&&a(this).css({left:f.left-
c.left-b.left,width:k,height:l});d._helper&&!e.animate&&/static/.test(g.css("position"))&&a(this).css({left:f.left-c.left-b.left,width:k,height:l})}});a.ui.plugin.add("resizable","alsoResize",{start:function(){var d=a(this).data("ui-resizable").options,e=function(b){a(b).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!==typeof d.alsoResize||d.alsoResize.parentNode?
e(d.alsoResize):d.alsoResize.length?(d.alsoResize=d.alsoResize[0],e(d.alsoResize)):a.each(d.alsoResize,function(b){e(b)})},resize:function(d,e){var b=a(this).data("ui-resizable"),c=b.options,g=b.originalSize,l=b.originalPosition,f={height:b.size.height-g.height||0,width:b.size.width-g.width||0,top:b.position.top-l.top||0,left:b.position.left-l.left||0},k=function(b,c){a(b).each(function(){var b=a(this),g=a(this).data("ui-resizable-alsoresize"),d={},l=c&&c.length?c:b.parents(e.originalElement[0]).length?
["width","height"]:["width","height","top","left"];a.each(l,function(b,a){var c=(g[a]||0)+(f[a]||0);c&&0<=c&&(d[a]=c||null)});b.css(d)})};"object"!==typeof c.alsoResize||c.alsoResize.nodeType?k(c.alsoResize):a.each(c.alsoResize,function(b,a){k(b,a)})},stop:function(){a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable","ghost",{start:function(){var d=a(this).data("ui-resizable"),e=d.options,b=d.size;d.ghost=d.originalElement.clone();d.ghost.css({opacity:.25,display:"block",position:"relative",
height:b.height,width:b.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"===typeof e.ghost?e.ghost:"");d.ghost.appendTo(d.helper)},resize:function(){var d=a(this).data("ui-resizable");d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(){var d=a(this).data("ui-resizable");d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var d=a(this).data("ui-resizable"),
e=d.options,b=d.size,c=d.originalSize,g=d.originalPosition,l=d.axis,f="number"===typeof e.grid?[e.grid,e.grid]:e.grid,k=f[0]||1,q=f[1]||1,r=Math.round((b.width-c.width)/k)*k,b=Math.round((b.height-c.height)/q)*q,s=c.width+r,u=c.height+b,w=e.maxWidth&&e.maxWidth<s,x=e.maxHeight&&e.maxHeight<u,y=e.minWidth&&e.minWidth>s,B=e.minHeight&&e.minHeight>u;e.grid=f;y&&(s+=k);B&&(u+=q);w&&(s-=k);x&&(u-=q);/^(se|s|e)$/.test(l)?(d.size.width=s,d.size.height=u):/^(ne)$/.test(l)?(d.size.width=s,d.size.height=u,
d.position.top=g.top-b):/^(sw)$/.test(l)?(d.size.width=s,d.size.height=u,d.position.left=g.left-r):(0<u-q?(d.size.height=u,d.position.top=g.top-b):(d.size.height=q,d.position.top=g.top+c.height-q),0<s-k?(d.size.width=s,d.position.left=g.left-r):(d.size.width=k,d.position.left=g.left+c.width-k))}})})(jQuery);
(function(a,k){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,f=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){e=a(f.options.filter,f.element[0]);e.addClass("ui-selectee");e.each(function(){var d=a(this),e=d.offset();a.data(this,"selectable-item",{element:this,$element:d,
left:e.left,top:e.top,right:e.left+d.outerWidth(),bottom:e.top+d.outerHeight(),startselected:!1,selected:d.hasClass("ui-selected"),selecting:d.hasClass("ui-selecting"),unselecting:d.hasClass("ui-unselecting")})})};this.refresh();this.selectees=e.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");
this._mouseDestroy()},_mouseStart:function(e){var f=this,d=this.options;this.opos=[e.pageX,e.pageY];this.options.disabled||(this.selectees=a(d.filter,this.element[0]),this._trigger("start",e),a(d.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0;e.metaKey||e.ctrlKey||(d.$element.removeClass("ui-selected"),d.selected=!1,
d.$element.addClass("ui-unselecting"),d.unselecting=!0,f._trigger("unselecting",e,{unselecting:d.element}))}),a(e.target).parents().addBack().each(function(){var d,b=a.data(this,"selectable-item");if(b)return d=!e.metaKey&&!e.ctrlKey||!b.$element.hasClass("ui-selected"),b.$element.removeClass(d?"ui-unselecting":"ui-selected").addClass(d?"ui-selecting":"ui-unselecting"),b.unselecting=!d,b.selecting=d,(b.selected=d)?f._trigger("selecting",e,{selecting:b.element}):f._trigger("unselecting",e,{unselecting:b.element}),
!1}))},_mouseDrag:function(e){this.dragged=!0;if(!this.options.disabled){var f,d=this,h=this.options,b=this.opos[0],c=this.opos[1],g=e.pageX,l=e.pageY;b>g&&(f=g,g=b,b=f);c>l&&(f=l,l=c,c=f);this.helper.css({left:b,top:c,width:g-b,height:l-c});this.selectees.each(function(){var f=a.data(this,"selectable-item"),k=!1;f&&f.element!==d.element[0]&&("touch"===h.tolerance?k=!(f.left>g||f.right<b||f.top>l||f.bottom<c):"fit"===h.tolerance&&(k=f.left>b&&f.right<g&&f.top>c&&f.bottom<l),k?(f.selected&&(f.$element.removeClass("ui-selected"),
f.selected=!1),f.unselecting&&(f.$element.removeClass("ui-unselecting"),f.unselecting=!1),f.selecting||(f.$element.addClass("ui-selecting"),f.selecting=!0,d._trigger("selecting",e,{selecting:f.element}))):(f.selecting&&((e.metaKey||e.ctrlKey)&&f.startselected?(f.$element.removeClass("ui-selecting"),f.selecting=!1,f.$element.addClass("ui-selected"),f.selected=!0):(f.$element.removeClass("ui-selecting"),f.selecting=!1,f.startselected&&(f.$element.addClass("ui-unselecting"),f.unselecting=!0),d._trigger("unselecting",
e,{unselecting:f.element}))),!f.selected||e.metaKey||e.ctrlKey||f.startselected||(f.$element.removeClass("ui-selected"),f.selected=!1,f.$element.addClass("ui-unselecting"),f.unselecting=!0,d._trigger("unselecting",e,{unselecting:f.element}))))});return!1}},_mouseStop:function(e){var f=this;this.dragged=!1;a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting");d.unselecting=!1;d.startselected=!1;f._trigger("unselected",e,{unselected:d.element})});
a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected");d.selecting=!1;d.selected=!0;d.startselected=!0;f._trigger("selected",e,{selected:d.element})});this._trigger("stop",e);this.helper.remove();return!1}})})(jQuery);
(function(a,k){a.widget("ui.slider",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();
this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var e,f;e=this.options;var d=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),h=[];f=e.values&&e.values.length||1;d.length>f&&(d.slice(f).remove(),d=d.slice(0,f));for(e=d.length;e<f;e++)h.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=d.add(a(h.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var e=this.options,f="";e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:a.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",
bottom:""}):(this.range=a("<div></div>").appendTo(this.element),f="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(f+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a);this._on(a,this._handleEvents);this._hoverable(a);this._focusable(a)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");
this._mouseDestroy()},_mouseCapture:function(e){var f,d,h,b,c,g=this,l=this.options;if(l.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();f=this._normValueFromMouse({x:e.pageX,y:e.pageY});d=this._valueMax()-this._valueMin()+1;this.handles.each(function(c){var e=Math.abs(f-g.values(c));if(d>e||d===e&&(c===g._lastChangedValue||g.values(c)===l.min))d=e,h=a(this),b=c});if(!1===this._start(e,b))return!1;this._mouseSliding=
!0;this._handleIndex=b;h.addClass("ui-state-active").focus();c=h.offset();this._clickOffset=a(e.target).parents().addBack().is(".ui-slider-handle")?{left:e.pageX-c.left-h.width()/2,top:e.pageY-c.top-h.height()/2-(parseInt(h.css("borderTopWidth"),10)||0)-(parseInt(h.css("borderBottomWidth"),10)||0)+(parseInt(h.css("marginTop"),10)||0)}:{left:0,top:0};this.handles.hasClass("ui-state-hover")||this._slide(e,b,f);return this._animateOff=!0},_mouseStart:function(){return!0},_mouseDrag:function(a){var f=
this._normValueFromMouse({x:a.pageX,y:a.pageY});this._slide(a,this._handleIndex,f);return!1},_mouseStop:function(a){this.handles.removeClass("ui-state-active");this._mouseSliding=!1;this._stop(a,this._handleIndex);this._change(a,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var f;"horizontal"===this.orientation?(f=this.elementSize.width,
a=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(f=this.elementSize.height,a=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0));f=a/f;1<f&&(f=1);0>f&&(f=0);"vertical"===this.orientation&&(f=1-f);a=this._valueMax()-this._valueMin();f=this._valueMin()+f*a;return this._trimAlignValue(f)},_start:function(a,f){var d={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(d.value=this.values(f),d.values=this.values());
return this._trigger("start",a,d)},_slide:function(a,f,d){var h;this.options.values&&this.options.values.length?(h=this.values(f?0:1),2===this.options.values.length&&!0===this.options.range&&(0===f&&d>h||1===f&&d<h)&&(d=h),d!==this.values(f)&&(h=this.values(),h[f]=d,a=this._trigger("slide",a,{handle:this.handles[f],value:d,values:h}),this.values(f?0:1),!1!==a&&this.values(f,d))):d!==this.value()&&(a=this._trigger("slide",a,{handle:this.handles[f],value:d}),!1!==a&&this.value(d))},_stop:function(a,
f){var d={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(d.value=this.values(f),d.values=this.values());this._trigger("stop",a,d)},_change:function(a,f){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(d.value=this.values(f),d.values=this.values());this._lastChangedValue=f;this._trigger("change",a,d)}},value:function(a){if(arguments.length)this.options.value=
this._trimAlignValue(a),this._refreshValue(),this._change(null,0);else return this._value()},values:function(e,f){var d,h,b;if(1<arguments.length)this.options.values[e]=this._trimAlignValue(f),this._refreshValue(),this._change(null,e);else if(arguments.length)if(a.isArray(arguments[0])){d=this.options.values;h=arguments[0];for(b=0;b<d.length;b+=1)d[b]=this._trimAlignValue(h[b]),this._change(null,b);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(e):this.value();
else return this._values()},_setOption:function(e,f){var d,h=0;"range"===e&&!0===this.options.range&&("min"===f?(this.options.value=this._values(0),this.options.values=null):"max"===f&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null));a.isArray(this.options.values)&&(h=this.options.values.length);a.Widget.prototype._setOption.apply(this,arguments);switch(e){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(d=0;d<h;d+=1)this._change(null,d);this._animateOff=!1;break;case "min":case "max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},
_values:function(a){var f,d;if(arguments.length)return f=this.options.values[a],f=this._trimAlignValue(f);if(this.options.values&&this.options.values.length){f=this.options.values.slice();for(d=0;d<f.length;d+=1)f[d]=this._trimAlignValue(f[d]);return f}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var f=0<this.options.step?this.options.step:1,d=(a-this._valueMin())%f;a-=d;2*Math.abs(d)>=f&&(a+=0<d?f:-f);return parseFloat(a.toFixed(5))},
_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,f,d,h,b,c=this.options.range,g=this.options,l=this,p=this._animateOff?!1:g.animate,k={};if(this.options.values&&this.options.values.length)this.handles.each(function(b){f=(l.values(b)-l._valueMin())/(l._valueMax()-l._valueMin())*100;k["horizontal"===l.orientation?"left":"bottom"]=f+"%";a(this).stop(1,1)[p?"animate":"css"](k,g.animate);if(!0===l.options.range)if("horizontal"===
l.orientation){if(0===b)l.range.stop(1,1)[p?"animate":"css"]({left:f+"%"},g.animate);if(1===b)l.range[p?"animate":"css"]({width:f-e+"%"},{queue:!1,duration:g.animate})}else{if(0===b)l.range.stop(1,1)[p?"animate":"css"]({bottom:f+"%"},g.animate);if(1===b)l.range[p?"animate":"css"]({height:f-e+"%"},{queue:!1,duration:g.animate})}e=f});else{d=this.value();h=this._valueMin();b=this._valueMax();f=b!==h?(d-h)/(b-h)*100:0;k["horizontal"===this.orientation?"left":"bottom"]=f+"%";this.handle.stop(1,1)[p?"animate":
"css"](k,g.animate);if("min"===c&&"horizontal"===this.orientation)this.range.stop(1,1)[p?"animate":"css"]({width:f+"%"},g.animate);if("max"===c&&"horizontal"===this.orientation)this.range[p?"animate":"css"]({width:100-f+"%"},{queue:!1,duration:g.animate});if("min"===c&&"vertical"===this.orientation)this.range.stop(1,1)[p?"animate":"css"]({height:f+"%"},g.animate);if("max"===c&&"vertical"===this.orientation)this.range[p?"animate":"css"]({height:100-f+"%"},{queue:!1,duration:g.animate})}},_handleEvents:{keydown:function(e){var f,
d,h,b=a(e.target).data("ui-slider-handle-index");switch(e.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(e.target).addClass("ui-state-active"),f=this._start(e,b),!1===f))return}h=this.options.step;f=this.options.values&&this.options.values.length?d=this.values(b):d=this.value();switch(e.keyCode){case a.ui.keyCode.HOME:d=
this._valueMin();break;case a.ui.keyCode.END:d=this._valueMax();break;case a.ui.keyCode.PAGE_UP:d=this._trimAlignValue(f+(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:d=this._trimAlignValue(f-(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(f===this._valueMax())return;d=this._trimAlignValue(f+h);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(f===this._valueMin())return;d=this._trimAlignValue(f-h)}this._slide(e,b,d)},click:function(a){a.preventDefault()},
keyup:function(e){var f=a(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,f),this._change(e,f),a(e.target).removeClass("ui-state-active"))}}})})(jQuery);
(function(a,k){function e(a,e,b){return a>e&&a<e+b}function f(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,
scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===a.axis||f(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");
this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(d,e){"disabled"===d?(this.options[d]=e,this.widget().toggleClass("ui-sortable-disabled",!!e)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(d,e){var b=null,c=!1,g=this;if(this.reverting||this.options.disabled||"static"===this.options.type)return!1;this._refreshItems(d);a(d.target).parents().each(function(){if(a.data(this,
g.widgetName+"-item")===g)return b=a(this),!1});a.data(d.target,g.widgetName+"-item")===g&&(b=a(d.target));if(!b||this.options.handle&&!e&&(a(this.options.handle,b).find("*").addBack().each(function(){this===d.target&&(c=!0)}),!c))return!1;this.currentItem=b;this._removeCurrentsFromItems();return!0},_mouseStart:function(d,e,b){var c;e=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(d);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=
this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(d);this.originalPageX=d.pageX;this.originalPageY=d.pageY;e.cursorAt&&
this._adjustOffsetFromHelper(e.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();e.containment&&this._setContainment();e.cursor&&"auto"!==e.cursor&&(c=this.document.find("body"),this.storedCursor=c.css("cursor"),c.css("cursor",e.cursor),this.storedStylesheet=a("<style>*{ cursor: "+e.cursor+" !important; }</style>").appendTo(c));e.opacity&&(this.helper.css("opacity")&&
(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",e.opacity));e.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",e.zIndex));this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",d,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!b)for(b=this.containers.length-1;0<=b;b--)this.containers[b]._trigger("activate",
d,this._uiHash(this));a.ui.ddmanager&&(a.ui.ddmanager.current=this);a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,d);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(d);return!0},_mouseDrag:function(d){var e,b,c,g;e=this.options;b=!1;this.position=this._generatePosition(d);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==
this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-d.pageY<e.scrollSensitivity?this.scrollParent[0].scrollTop=b=this.scrollParent[0].scrollTop+e.scrollSpeed:d.pageY-this.overflowOffset.top<e.scrollSensitivity&&(this.scrollParent[0].scrollTop=b=this.scrollParent[0].scrollTop-e.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-d.pageX<e.scrollSensitivity?this.scrollParent[0].scrollLeft=b=this.scrollParent[0].scrollLeft+e.scrollSpeed:d.pageX-
this.overflowOffset.left<e.scrollSensitivity&&(this.scrollParent[0].scrollLeft=b=this.scrollParent[0].scrollLeft-e.scrollSpeed)):(d.pageY-a(document).scrollTop()<e.scrollSensitivity?b=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(d.pageY-a(document).scrollTop())<e.scrollSensitivity&&(b=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed)),d.pageX-a(document).scrollLeft()<e.scrollSensitivity?b=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):
a(window).width()-(d.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(b=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))),!1!==b&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,d));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(e=this.items.length-1;0<=e;e--)if(b=
this.items[e],c=b.item[0],(g=this._intersectsWithPointer(b))&&b.instance===this.currentContainer&&c!==this.currentItem[0]&&this.placeholder[1===g?"next":"prev"]()[0]!==c&&!a.contains(this.placeholder[0],c)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],c):1)){this.direction=1===g?"down":"up";if("pointer"===this.options.tolerance||this._intersectsWithSides(b))this._rearrange(d,b);else break;this._trigger("change",d,this._uiHash());break}this._contactContainers(d);a.ui.ddmanager&&
a.ui.ddmanager.drag(this,d);this._trigger("sort",d,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(d,e){if(d){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,d);if(this.options.revert){var b=this,c=this.placeholder.offset(),g=this.options.axis,l={};g&&"x"!==g||(l.left=c.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft));g&&"y"!==g||(l.top=c.top-this.offset.parent.top-this.margins.top+
(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop));this.reverting=!0;a(this.helper).animate(l,parseInt(this.options.revert,10)||500,function(){b._clear(d)})}else this._clear(d,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var d=this.containers.length-1;0<=d;d--)this.containers[d]._trigger("deactivate",null,this._uiHash(this)),
this.containers[d].containerCache.over&&(this.containers[d]._trigger("out",null,this._uiHash(this)),this.containers[d].containerCache.over=0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem));
return this},serialize:function(d){var e=this._getItemsAsjQuery(d&&d.connected),b=[];d=d||{};a(e).each(function(){var c=(a(d.item||this).attr(d.attribute||"id")||"").match(d.expression||/(.+)[\-=_](.+)/);c&&b.push((d.key||c[1]+"[]")+"="+(d.key&&d.expression?c[1]:c[2]))});!b.length&&d.key&&b.push(d.key+"=");return b.join("&")},toArray:function(d){var e=this._getItemsAsjQuery(d&&d.connected),b=[];d=d||{};e.each(function(){b.push(a(d.item||this).attr(d.attribute||"id")||"")});return b},_intersectsWith:function(a){var e=
this.positionAbs.left,b=e+this.helperProportions.width,c=this.positionAbs.top,g=c+this.helperProportions.height,l=a.left,f=l+a.width,k=a.top,q=k+a.height,r=this.offset.click.top,s=this.offset.click.left,s="y"===this.options.axis||e+s>l&&e+s<f,r=("x"===this.options.axis||c+r>k&&c+r<q)&&s;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?r:l<e+
this.helperProportions.width/2&&b-this.helperProportions.width/2<f&&k<c+this.helperProportions.height/2&&g-this.helperProportions.height/2<q},_intersectsWithPointer:function(a){var h="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,a.top,a.height);a="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,a.left,a.width);h=h&&a;a=this._getDragVerticalDirection();var b=this._getDragHorizontalDirection();return h?this.floating?b&&"right"===b||"down"===a?2:1:a&&("down"===
a?2:1):!1},_intersectsWithSides:function(a){var h=e(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=e(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var b=this._getDragVerticalDirection(),c=this._getDragHorizontalDirection();return this.floating&&c?"right"===c&&a||"left"===c&&!a:b&&("down"===b&&h||"up"===b&&!h)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=
this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?"right":"left")},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(d){function e(){l.push(this)}var b,c,g,l=[],f=[],k=this._connectWith();if(k&&d)for(d=k.length-1;0<=d;d--)for(c=a(k[d]),b=c.length-1;0<=b;b--)(g=a.data(c[b],this.widgetFullName))&&g!==this&&!g.options.disabled&&
f.push([a.isFunction(g.options.items)?g.options.items.call(g.element):a(g.options.items,g.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),g]);f.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(d=f.length-1;0<=d;d--)f[d][0].each(e);return a(l)},_removeCurrentsFromItems:function(){var d=this.currentItem.find(":data("+
this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var b=0;b<d.length;b++)if(d[b]===a.item[0])return!1;return!0})},_refreshItems:function(d){this.items=[];this.containers=[this];var e,b,c,g,l,f=this.items,k=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],d,{item:this.currentItem}):a(this.options.items,this.element),this]];if((l=this._connectWith())&&this.ready)for(e=l.length-1;0<=e;e--)for(c=a(l[e]),b=c.length-1;0<=b;b--)(g=a.data(c[b],this.widgetFullName))&&
g!==this&&!g.options.disabled&&(k.push([a.isFunction(g.options.items)?g.options.items.call(g.element[0],d,{item:this.currentItem}):a(g.options.items,g.element),g]),this.containers.push(g));for(e=k.length-1;0<=e;e--)for(d=k[e][1],c=k[e][0],b=0,l=c.length;b<l;b++)g=a(c[b]),g.data(this.widgetName+"-item",d),f.push({item:g,instance:d,width:0,height:0,left:0,top:0})},refreshPositions:function(d){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var e,b,c;for(e=this.items.length-
1;0<=e;e--)b=this.items[e],b.instance!==this.currentContainer&&this.currentContainer&&b.item[0]!==this.currentItem[0]||(c=this.options.toleranceElement?a(this.options.toleranceElement,b.item):b.item,d||(b.width=c.outerWidth(),b.height=c.outerHeight()),c=c.offset(),b.left=c.left,b.top=c.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)c=this.containers[e].element.offset(),this.containers[e].containerCache.left=
c.left,this.containers[e].containerCache.top=c.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(d){d=d||this;var e,b=d.options;b.placeholder&&b.placeholder.constructor!==String||(e=b.placeholder,b.placeholder={element:function(){var b=d.currentItem[0].nodeName.toLowerCase(),g=a("<"+b+">",d.document[0]).addClass(e||d.currentItem[0].className+
" ui-sortable-placeholder").removeClass("ui-sortable-helper");"tr"===b?d.currentItem.children().each(function(){a("<td>&#160;</td>",d.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(g)}):"img"===b&&g.attr("src",d.currentItem.attr("src"));e||g.css("visibility","hidden");return g},update:function(a,g){if(!e||b.forcePlaceholderSize)g.height()||g.height(d.currentItem.innerHeight()-parseInt(d.currentItem.css("paddingTop")||0,10)-parseInt(d.currentItem.css("paddingBottom")||0,10)),g.width()||
g.width(d.currentItem.innerWidth()-parseInt(d.currentItem.css("paddingLeft")||0,10)-parseInt(d.currentItem.css("paddingRight")||0,10))}});d.placeholder=a(b.placeholder.element.call(d.element,d.currentItem));d.currentItem.after(d.placeholder);b.placeholder.update(d,d.placeholder)},_contactContainers:function(d){var h,b,c,g,l,p,k,q,r,s=b=null;for(h=this.containers.length-1;0<=h;h--)a.contains(this.currentItem[0],this.containers[h].element[0])||(this._intersectsWith(this.containers[h].containerCache)?
b&&a.contains(this.containers[h].element[0],b.element[0])||(b=this.containers[h],s=h):this.containers[h].containerCache.over&&(this.containers[h]._trigger("out",d,this._uiHash(this)),this.containers[h].containerCache.over=0));if(b)if(1===this.containers.length)this.containers[s].containerCache.over||(this.containers[s]._trigger("over",d,this._uiHash(this)),this.containers[s].containerCache.over=1);else{h=1E4;c=null;g=(r=b.floating||f(this.currentItem))?"left":"top";l=r?"width":"height";p=this.positionAbs[g]+
this.offset.click[g];for(b=this.items.length-1;0<=b;b--)!a.contains(this.containers[s].element[0],this.items[b].item[0])||this.items[b].item[0]===this.currentItem[0]||r&&!e(this.positionAbs.top+this.offset.click.top,this.items[b].top,this.items[b].height)||(k=this.items[b].item.offset()[g],q=!1,Math.abs(k-p)>Math.abs(k+this.items[b][l]-p)&&(q=!0,k+=this.items[b][l]),Math.abs(k-p)<h&&(h=Math.abs(k-p),c=this.items[b],this.direction=q?"up":"down"));(c||this.options.dropOnEmpty)&&this.currentContainer!==
this.containers[s]&&(c?this._rearrange(d,c,null,!0):this._rearrange(d,null,this.containers[s].element,!0),this._trigger("change",d,this._uiHash()),this.containers[s]._trigger("change",d,this._uiHash(this)),this.currentContainer=this.containers[s],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[s]._trigger("over",d,this._uiHash(this)),this.containers[s].containerCache.over=1)}},_createHelper:function(d){var e=this.options;d=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],
[d,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;d.parents("body").length||a("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]);d[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});d[0].style.width&&!e.forceHelperSize||d.width(this.currentItem.width());
d[0].style.height&&!e.forceHelperSize||d.height(this.currentItem.height());return d},_adjustOffsetFromHelper:function(d){"string"===typeof d&&(d=d.split(" "));a.isArray(d)&&(d={left:+d[0],top:+d[1]||0});"left"in d&&(this.offset.click.left=d.left+this.margins.left);"right"in d&&(this.offset.click.left=this.helperProportions.width-d.right+this.margins.left);"top"in d&&(this.offset.click.top=d.top+this.margins.top);"bottom"in d&&(this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top)},
_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var d=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(d.left+=this.scrollParent.scrollLeft(),d.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)d={top:0,left:0};return{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),
10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d,e,b;e=this.options;"parent"===e.containment&&(e.containment=this.helper[0].parentNode);if("document"===e.containment||"window"===e.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===e.containment?document:window).width()-this.helperProportions.width-
this.margins.left,(a("document"===e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];/^(document|window|parent)$/.test(e.containment)||(d=a(e.containment)[0],e=a(e.containment).offset(),b="hidden"!==a(d).css("overflow"),this.containment=[e.left+(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),
10)||0)-this.margins.top,e.left+(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(d,e){e||(e=this.position);var b="absolute"===
d?1:-1,c="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(c[0].tagName);return{top:e.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():g?0:c.scrollTop())*b,left:e.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():g?0:c.scrollLeft())*b}},_generatePosition:function(d){var e,
b,c=this.options;b=d.pageX;e=d.pageY;var g="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(g[0].tagName);"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());this.originalPosition&&(this.containment&&(d.pageX-this.offset.click.left<this.containment[0]&&(b=this.containment[0]+
this.offset.click.left),d.pageY-this.offset.click.top<this.containment[1]&&(e=this.containment[1]+this.offset.click.top),d.pageX-this.offset.click.left>this.containment[2]&&(b=this.containment[2]+this.offset.click.left),d.pageY-this.offset.click.top>this.containment[3]&&(e=this.containment[3]+this.offset.click.top)),c.grid&&(e=this.originalPageY+Math.round((e-this.originalPageY)/c.grid[1])*c.grid[1],e=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?
e:e-this.offset.click.top>=this.containment[1]?e-c.grid[1]:e+c.grid[1]:e,b=this.originalPageX+Math.round((b-this.originalPageX)/c.grid[0])*c.grid[0],b=this.containment?b-this.offset.click.left>=this.containment[0]&&b-this.offset.click.left<=this.containment[2]?b:b-this.offset.click.left>=this.containment[0]?b-c.grid[0]:b+c.grid[0]:b));return{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:g.scrollTop()),left:b-
this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:g.scrollLeft())}},_rearrange:function(a,e,b,c){b?b[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling);var g=this.counter=this.counter?++this.counter:1;this._delay(function(){g===this.counter&&this.refreshPositions(!c)})},_clear:function(a,e){function b(b,a,c){return function(g){c._trigger(b,
g,a._uiHash(a))}}this.reverting=!1;var c,g=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(c in this._storedCSS)if("auto"===this._storedCSS[c]||"static"===this._storedCSS[c])this._storedCSS[c]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!e&&g.push(function(b){this._trigger("receive",b,this._uiHash(this.fromOutside))});
!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||g.push(function(b){this._trigger("update",b,this._uiHash())});this===this.currentContainer||e||(g.push(function(b){this._trigger("remove",b,this._uiHash())}),g.push(function(b){return function(a){b._trigger("receive",a,this._uiHash(this))}}.call(this,this.currentContainer)),g.push(function(b){return function(a){b._trigger("update",a,this._uiHash(this))}}.call(this,
this.currentContainer)));for(c=this.containers.length-1;0<=c;c--)e||g.push(b("deactivate",this,this.containers[c])),this.containers[c].containerCache.over&&(g.push(b("out",this,this.containers[c])),this.containers[c].containerCache.over=0);this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove());this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);
this.dragging=!1;if(this.cancelHelperRemoval){if(!e){this._trigger("beforeStop",a,this._uiHash());for(c=0;c<g.length;c++)g[c].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1}e||this._trigger("beforeStop",a,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!==this.currentItem[0]&&this.helper.remove();this.helper=null;if(!e){for(c=0;c<g.length;c++)g[c].call(this,a);this._trigger("stop",a,this._uiHash())}this.fromOutside=!1;return!0},
_trigger:function(){!1===a.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(d){var e=d||this;return{helper:e.helper,placeholder:e.placeholder||a([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:d?d.element:null}}})})(jQuery);
(function(a){function k(a){return function(){var f=this.element.val();a.apply(this,arguments);this._refresh();f!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);
this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},f=this.element;a.each(["min","max","step"],function(a,h){var b=f.attr(h);void 0!==b&&b.length&&(e[h]=b)});return e},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},
keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a))},mousewheel:function(a,f){if(f){if(!this.spinning&&!this._start(a))return!1;this._spin((0<f?1:-1)*this.options.step,a);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100);a.preventDefault()}},"mousedown .ui-spinner-button":function(e){function f(){this.element[0]!==
this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d}))}var d;d=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();e.preventDefault();f.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;f.call(this)});!1!==this._start(e)&&this._repeat(null,a(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(a(e.currentTarget).hasClass("ui-state-active")){if(!1===
this._start(e))return!1;this._repeat(null,a(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(.5*a.height())&&0<a.height()&&
a.height(a.height());this.options.disabled&&this.disable()},_keydown:function(e){var f=this.options,d=a.ui.keyCode;switch(e.keyCode){case d.UP:return this._repeat(null,1,e),!0;case d.DOWN:return this._repeat(null,-1,e),!0;case d.PAGE_UP:return this._repeat(null,f.page,e),!0;case d.PAGE_DOWN:return this._repeat(null,-f.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+
this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){if(!this.spinning&&!1===this._trigger("start",a))return!1;this.counter||(this.counter=1);return this.spinning=!0},_repeat:function(a,f,d){a=a||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,f,d)},a);this._spin(f*this.options.step,d)},_spin:function(a,f){var d=this.value()||0;this.counter||
(this.counter=1);d=this._adjustValue(d+a*this._increment(this.counter));this.spinning&&!1===this._trigger("spin",f,{value:d})||(this._value(d),this.counter++)},_increment:function(e){var f=this.options.incremental;return f?a.isFunction(f)?f(e):Math.floor(e*e*e/5E4-e*e/500+17*e/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min)));return a},_precisionOf:function(a){a=a.toString();var f=a.indexOf(".");
return-1===f?0:a.length-f-1},_adjustValue:function(a){var f,d=this.options;f=null!==d.min?d.min:0;a=Math.round((a-f)/d.step)*d.step;a=f+a;a=parseFloat(a.toFixed(this._precision()));return null!==d.max&&a>d.max?d.max:null!==d.min&&a<d.min?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,f){if("culture"===a||"numberFormat"===a){var d=this._parse(this.element.val());this.options[a]=
f;this.element.val(this._format(d))}else"max"!==a&&"min"!==a&&"step"!==a||"string"!==typeof f||(f=this._parse(f)),"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(f.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(f.down)),this._super(a,f),"disabled"===a&&(f?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:k(function(a){this._super(a);
this._value(this.element.val())}),_parse:function(a){"string"===typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a);return""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},
_value:function(a,f){var d;""!==a&&(d=this._parse(a),null!==d&&(f||(d=this._adjustValue(d)),a=this._format(d)));this.element.val(a);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:k(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),
this._stop())},stepDown:k(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:k(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:k(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){if(!arguments.length)return this._parse(this.element.val());k(this._value).call(this,a)},widget:function(){return this.uiSpinner}})})(jQuery);
(function(a,k){function e(a){a=a.cloneNode(!1);return 1<a.hash.length&&decodeURIComponent(a.href.replace(d,""))===decodeURIComponent(location.href.replace(d,""))}var f=0,d=/#.*$/;a.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var d=this,b=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",
b.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()});this._processTabs();b.active=this._initialActive();a.isArray(b.disabled)&&(b.disabled=a.unique(b.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(b){return d.tabs.index(b)}))).sort());this.active=!1!==this.options.active&&
this.anchors.length?this._findActive(b.active):a();this._refresh();this.active.length&&this.load(b.active)},_initialActive:function(){var d=this.options.active,b=this.options.collapsible,c=location.hash.substring(1);null===d&&(c&&this.tabs.each(function(b,e){if(a(e).attr("aria-controls")===c)return d=b,!1}),null===d&&(d=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null===d||-1===d)&&(d=this.tabs.length?0:!1);!1!==d&&(d=this.tabs.index(this.tabs.eq(d)),-1===d&&(d=b?!1:0));!b&&!1===d&&this.anchors.length&&
(d=0);return d},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(d){var b=a(this.document[0].activeElement).closest("li"),c=this.tabs.index(b),g=!0;if(!this._handlePageNav(d)){switch(d.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:c++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:g=!1;c--;break;case a.ui.keyCode.END:c=this.anchors.length-1;break;case a.ui.keyCode.HOME:c=0;break;case a.ui.keyCode.SPACE:d.preventDefault();
clearTimeout(this.activating);this._activate(c);return;case a.ui.keyCode.ENTER:d.preventDefault();clearTimeout(this.activating);this._activate(c===this.options.active?!1:c);return;default:return}d.preventDefault();clearTimeout(this.activating);c=this._focusNextTab(c,g);d.ctrlKey||(b.attr("aria-selected","false"),this.tabs.eq(c).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",c)},this.delay))}},_panelKeydown:function(d){!this._handlePageNav(d)&&d.ctrlKey&&d.keyCode===
a.ui.keyCode.UP&&(d.preventDefault(),this.active.focus())},_handlePageNav:function(d){if(d.altKey&&d.keyCode===a.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(d.altKey&&d.keyCode===a.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(d,b){function c(){d>g&&(d=0);0>d&&(d=g);return d}for(var g=this.tabs.length-1;-1!==a.inArray(c(),this.options.disabled);)d=b?d+1:d-1;return d},_focusNextTab:function(a,
b){a=this._findNextTab(a,b);this.tabs.eq(a).focus();return a},_setOption:function(a,b){"active"===a?this._activate(b):"disabled"===a?this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||!1!==this.options.active||this._activate(0)),"event"===a&&this._setupEvents(b),"heightStyle"===a&&this._setupHeightStyle(b))},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+ ++f},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,
"\\$&"):""},refresh:function(){var d=this.options,b=this.tablist.children(":has(a[href])");d.disabled=a.map(b.filter(".ui-state-disabled"),function(a){return b.index(a)});this._processTabs();!1!==d.active&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===d.disabled.length?(d.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,d.active-1),!1)):d.active=this.tabs.index(this.active):(d.active=!1,this.active=a());this._refresh()},
_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true",
"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var d=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=
a();this.anchors.each(function(b,c){var g,l,f,k=a(c).uniqueId().attr("id"),q=a(c).closest("li"),r=q.attr("aria-controls");e(c)?(g=c.hash,l=d.element.find(d._sanitizeSelector(g))):(f=d._tabId(q),g="#"+f,l=d.element.find(g),l.length||(l=d._createPanel(f),l.insertAfter(d.panels[b-1]||d.tablist)),l.attr("aria-live","polite"));l.length&&(d.panels=d.panels.add(l));r&&q.data("ui-tabs-aria-controls",r);q.attr({"aria-controls":g.substring(1),"aria-labelledby":k});l.attr("aria-labelledby",k)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role",
"tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(d){return a("<div>").attr("id",d).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(d){a.isArray(d)&&(d.length?d.length===this.anchors.length&&(d=!0):d=!1);for(var b=0,c;c=this.tabs[b];b++)!0===d||-1!==a.inArray(b,d)?a(c).addClass("ui-state-disabled").attr("aria-disabled","true"):a(c).removeClass("ui-state-disabled").removeAttr("aria-disabled");
this.options.disabled=d},_setupEvents:function(d){var b={click:function(b){b.preventDefault()}};d&&a.each(d.split(" "),function(a,g){b[g]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,b);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(d){var b,c=this.element.parent();"fill"===d?(b=c.height(),b-=this.element.outerHeight()-this.element.height(),
this.element.siblings(":visible").each(function(){var c=a(this),d=c.css("position");"absolute"!==d&&"fixed"!==d&&(b-=c.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){b-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,b-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===d&&(b=0,this.panels.each(function(){b=Math.max(b,a(this).height("").height())}).height(b))},_eventHandler:function(d){var b=this.options,c=this.active,
g=a(d.currentTarget).closest("li"),e=g[0]===c[0],f=e&&b.collapsible,k=f?a():this._getPanelForTab(g),q=c.length?this._getPanelForTab(c):a(),c={oldTab:c,oldPanel:q,newTab:f?a():g,newPanel:k};d.preventDefault();g.hasClass("ui-state-disabled")||g.hasClass("ui-tabs-loading")||this.running||e&&!b.collapsible||!1===this._trigger("beforeActivate",d,c)||(b.active=f?!1:this.tabs.index(g),this.active=e?a():g,this.xhr&&this.xhr.abort(),q.length||k.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),
k.length&&this.load(this.tabs.index(g),d),this._toggle(d,c))},_toggle:function(d,b){function c(){e.running=!1;e._trigger("activate",d,b)}function g(){b.newTab.closest("li").addClass("ui-tabs-active ui-state-active");f.length&&e.options.show?e._show(f,e.options.show,c):(f.show(),c())}var e=this,f=b.newPanel,k=b.oldPanel;this.running=!0;k.length&&this.options.hide?this._hide(k,this.options.hide,function(){b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");g()}):(b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
k.hide(),g());k.attr({"aria-expanded":"false","aria-hidden":"true"});b.oldTab.attr("aria-selected","false");f.length&&k.length?b.oldTab.attr("tabIndex",-1):f.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1);f.attr({"aria-expanded":"true","aria-hidden":"false"});b.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(d){d=this._findActive(d);d[0]!==this.active[0]&&(d.length||(d=this.active),d=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:d,
currentTarget:d,preventDefault:a.noop}))},_findActive:function(d){return!1===d?a():this.tabs.eq(d)},_getIndex:function(a){"string"===typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']")));return a},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();
this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var d=a(this),b=d.data("ui-tabs-aria-controls");
b?d.attr("aria-controls",b).removeData("ui-tabs-aria-controls"):d.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(d){var b=this.options.disabled;!1!==b&&(d===k?b=!1:(d=this._getIndex(d),b=a.isArray(b)?a.map(b,function(b){return b!==d?b:null}):a.map(this.tabs,function(b,a){return a!==d?a:null})),this._setupDisabled(b))},disable:function(d){var b=this.options.disabled;if(!0!==b){if(d===k)b=!0;else{d=this._getIndex(d);
if(-1!==a.inArray(d,b))return;b=a.isArray(b)?a.merge([d],b).sort():[d]}this._setupDisabled(b)}},load:function(d,b){d=this._getIndex(d);var c=this,g=this.tabs.eq(d),l=g.find(".ui-tabs-anchor"),f=this._getPanelForTab(g),k={tab:g,panel:f};e(l[0])||(this.xhr=a.ajax(this._ajaxSettings(l,b,k)))&&"canceled"!==this.xhr.statusText&&(g.addClass("ui-tabs-loading"),f.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){f.html(a);c._trigger("load",b,k)},1)}).complete(function(b,a){setTimeout(function(){"abort"===
a&&c.panels.stop(!1,!0);g.removeClass("ui-tabs-loading");f.removeAttr("aria-busy");b===c.xhr&&delete c.xhr},1)}))},_ajaxSettings:function(d,b,c){var g=this;return{url:d.attr("href"),beforeSend:function(d,e){return g._trigger("beforeLoad",b,a.extend({jqXHR:d,ajaxSettings:e},c))}}},_getPanelForTab:function(d){d=a(d).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+d))}})})(jQuery);
(function(a){function k(d,e){var b=(d.attr("aria-describedby")||"").split(/\s+/);b.push(e);d.data("ui-tooltip-id",e).attr("aria-describedby",a.trim(b.join(" ")))}function e(d){var e=d.data("ui-tooltip-id"),b=(d.attr("aria-describedby")||"").split(/\s+/),e=a.inArray(e,b);-1!==e&&b.splice(e,1);d.removeData("ui-tooltip-id");(b=a.trim(b.join(" ")))?d.attr("aria-describedby",b):d.removeAttr("aria-describedby")}var f=0;a.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var d=a(this).attr("title")||
"";return a("<a>").text(d).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable()},_setOption:function(d,e){var b=this;"disabled"===d?(this[e?"_disable":"_enable"](),this.options[d]=e):(this._super(d,e),"content"===d&&a.each(this.tooltips,function(a,
g){b._updateContent(g)}))},_disable:function(){var d=this;a.each(this.tooltips,function(e,b){var c=a.Event("blur");c.target=c.currentTarget=b[0];d.close(c,!0)});this.element.find(this.options.items).addBack().each(function(){var d=a(this);d.is("[title]")&&d.data("ui-tooltip-title",d.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var d=a(this);d.data("ui-tooltip-title")&&d.attr("title",d.data("ui-tooltip-title"))})},open:function(d){var e=
this,b=a(d?d.target:this.element).closest(this.options.items);b.length&&!b.data("ui-tooltip-id")&&(b.attr("title")&&b.data("ui-tooltip-title",b.attr("title")),b.data("ui-tooltip-open",!0),d&&"mouseover"===d.type&&b.parents().each(function(){var b=a(this),g;b.data("ui-tooltip-open")&&(g=a.Event("blur"),g.target=g.currentTarget=this,e.close(g,!0));b.attr("title")&&(b.uniqueId(),e.parents[this.id]={element:this,title:b.attr("title")},b.attr("title",""))}),this._updateContent(b,d))},_updateContent:function(a,
e){var b;b=this.options.content;var c=this,g=e?e.type:null;if("string"===typeof b)return this._open(e,a,b);(b=b.call(a[0],function(b){a.data("ui-tooltip-open")&&c._delay(function(){e&&(e.type=g);this._open(e,a,b)})}))&&this._open(e,a,b)},_open:function(d,e,b){function c(b){f.of=b;g.is(":hidden")||g.position(f)}var g,l,f=a.extend({},this.options.position);b&&(g=this._find(e),g.length?g.find(".ui-tooltip-content").html(b):(e.is("[title]")&&(d&&"mouseover"===d.type?e.attr("title",""):e.removeAttr("title")),
g=this._tooltip(e),k(e,g.attr("id")),g.find(".ui-tooltip-content").html(b),this.options.track&&d&&/^mouse/.test(d.type)?(this._on(this.document,{mousemove:c}),c(d)):g.position(a.extend({of:e},this.options.position)),g.hide(),this._show(g,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){g.is(":visible")&&(c(f.of),clearInterval(l))},a.fx.interval)),this._trigger("open",d,{tooltip:g}),b={keyup:function(b){b.keyCode===a.ui.keyCode.ESCAPE&&(b=a.Event(b),
b.currentTarget=e[0],this.close(b,!0))}},e[0]!==this.element[0]&&(b.remove=function(){this._removeTooltip(g)}),d&&"mouseover"!==d.type||(b.mouseleave="close"),d&&"focusin"!==d.type||(b.focusout="close"),this._on(!0,e,b)))},close:function(d){var h=this,b=a(d?d.currentTarget:this.element),c=this._find(b);this.closing||(clearInterval(this.delayedShow),b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title")),e(b),c.stop(!0),this._hide(c,this.options.hide,function(){h._removeTooltip(a(this))}),
b.removeData("ui-tooltip-open"),this._off(b,"mouseleave focusout keyup"),b[0]!==this.element[0]&&this._off(b,"remove"),this._off(this.document,"mousemove"),d&&"mouseleave"===d.type&&a.each(this.parents,function(b,c){a(c.element).attr("title",c.title);delete h.parents[b]}),this.closing=!0,this._trigger("close",d,{tooltip:c}),this.closing=!1)},_tooltip:function(d){var e="ui-tooltip-"+f++,b=a("<div>").attr({id:e,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||
""));a("<div>").addClass("ui-tooltip-content").appendTo(b);b.appendTo(this.document[0].body);this.tooltips[e]=d;return b},_find:function(d){return(d=d.data("ui-tooltip-id"))?a("#"+d):a()},_removeTooltip:function(a){a.remove();delete this.tooltips[a.attr("id")]},_destroy:function(){var d=this;a.each(this.tooltips,function(e,b){var c=a.Event("blur");c.target=c.currentTarget=b[0];d.close(c,!0);a("#"+e).remove();b.data("ui-tooltip-title")&&(b.attr("title",b.data("ui-tooltip-title")),b.removeData("ui-tooltip-title"))})}})})(jQuery);
RegExp.escape=function(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};
(function(a){a.csv={defaults:{separator:",",delimiter:'"',headers:!0},hooks:{castToScalar:function(a,e){if(isNaN(a))return a;if(/\./.test(a))return parseFloat(a);var f=parseInt(a);return isNaN(f)?null:f}},parsers:{parse:function(a,e){function f(){l=0;p="";if(e.start&&e.state.rowNum<e.start)g=[];else{if(void 0===e.onParseEntry)c.push(g);else{var b=e.onParseEntry(g,e.state);!1!==b&&c.push(b)}g=[];e.end&&e.state.rowNum>=e.end&&(v=!0)}e.state.rowNum++;e.state.colNum=1}function d(){if(void 0===e.onParseValue)g.push(p);
else{var b=e.onParseValue(p,e.state);!1!==b&&g.push(b)}p="";l=0;e.state.colNum++}var h=e.separator,b=e.delimiter;e.state.rowNum||(e.state.rowNum=1);e.state.colNum||(e.state.colNum=1);var c=[],g=[],l=0,p="",v=!1,q=RegExp.escape(h),r=RegExp.escape(b),s=/(D|S|\n|\r|[^DS\r\n]+)/,s=s.source,s=s.replace(/S/g,q),s=s.replace(/D/g,r),s=RegExp(s,"gm");a.replace(s,function(a){if(!v)switch(l){case 0:if(a===h){p+="";d();break}if(a===b){l=1;break}if("\n"===a){d();f();break}if(/^\r$/.test(a))break;p+=a;l=3;break;
case 1:if(a===b){l=2;break}p+=a;l=1;break;case 2:if(a===b){p+=a;l=1;break}if(a===h){d();break}if("\n"===a){d();f();break}if(/^\r$/.test(a))break;throw Error("CSVDataError: Illegal State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");case 3:if(a===h){d();break}if("\n"===a){d();f();break}if(/^\r$/.test(a))break;if(a===b)throw Error("CSVDataError: Illegal Quote [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");throw Error("CSVDataError: Illegal Data [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+
"]");default:throw Error("CSVDataError: Unknown State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");}});0!==g.length&&(d(),f());return c},splitLines:function(a,e){function f(){c=0;if(e.start&&e.state.rowNum<e.start)g="";else{if(void 0===e.onParseEntry)b.push(g);else{var a=e.onParseEntry(g,e.state);!1!==a&&b.push(a)}g="";e.end&&e.state.rowNum>=e.end&&(l=!0)}e.state.rowNum++}var d=e.separator,h=e.delimiter;e.state.rowNum||(e.state.rowNum=1);var b=[],c=0,g="",l=!1,p=RegExp.escape(d),v=RegExp.escape(h),
q=/(D|S|\n|\r|[^DS\r\n]+)/,q=q.source,q=q.replace(/S/g,p),q=q.replace(/D/g,v),q=RegExp(q,"gm");a.replace(q,function(b){if(!l)switch(c){case 0:if(b===d){g+=b;c=0;break}if(b===h){g+=b;c=1;break}if("\n"===b){f();break}if(/^\r$/.test(b))break;g+=b;c=3;break;case 1:if(b===h){g+=b;c=2;break}g+=b;c=1;break;case 2:var a=g.substr(g.length-1);if(b===h&&a===h){g+=b;c=1;break}if(b===d){g+=b;c=0;break}if("\n"===b){f();break}if("\r"===b)break;throw Error("CSVDataError: Illegal state [Row:"+e.state.rowNum+"]");
case 3:if(b===d){g+=b;c=0;break}if("\n"===b){f();break}if("\r"===b)break;if(b===h)throw Error("CSVDataError: Illegal quote [Row:"+e.state.rowNum+"]");throw Error("CSVDataError: Illegal state [Row:"+e.state.rowNum+"]");default:throw Error("CSVDataError: Unknown state [Row:"+e.state.rowNum+"]");}});""!==g&&f();return b},parseEntry:function(a,e){function f(){if(void 0===e.onParseValue)b.push(g);else{var a=e.onParseValue(g,e.state);!1!==a&&b.push(a)}g="";c=0;e.state.colNum++}var d=e.separator,h=e.delimiter;
e.state.rowNum||(e.state.rowNum=1);e.state.colNum||(e.state.colNum=1);var b=[],c=0,g="";if(!e.match){var l=RegExp.escape(d),p=RegExp.escape(h),v=/(D|S|\n|\r|[^DS\r\n]+)/.source,v=v.replace(/S/g,l),v=v.replace(/D/g,p);e.match=RegExp(v,"gm")}a.replace(e.match,function(b){switch(c){case 0:if(b===d){g+="";f();break}if(b===h){c=1;break}if("\n"===b||"\r"===b)break;g+=b;c=3;break;case 1:if(b===h){c=2;break}g+=b;c=1;break;case 2:if(b===h){g+=b;c=1;break}if(b===d){f();break}if("\n"===b||"\r"===b)break;throw Error("CSVDataError: Illegal State [Row:"+
e.state.rowNum+"][Col:"+e.state.colNum+"]");case 3:if(b===d){f();break}if("\n"===b||"\r"===b)break;if(b===h)throw Error("CSVDataError: Illegal Quote [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");throw Error("CSVDataError: Illegal Data [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");default:throw Error("CSVDataError: Unknown State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");}});f();return b}},toArray:function(k,e,f){e=void 0!==e?e:{};var d={};d.callback=void 0!==f&&"function"===typeof f?
f:!1;d.separator="separator"in e?e.separator:a.csv.defaults.separator;d.delimiter="delimiter"in e?e.delimiter:a.csv.defaults.delimiter;e={delimiter:d.delimiter,separator:d.separator,onParseEntry:e.onParseEntry,onParseValue:e.onParseValue,state:void 0!==e.state?e.state:{}};k=a.csv.parsers.parseEntry(k,e);if(d.callback)d.callback("",k);else return k},toArrays:function(k,e,f){e=void 0!==e?e:{};var d={};d.callback=void 0!==f&&"function"===typeof f?f:!1;d.separator="separator"in e?e.separator:a.csv.defaults.separator;
d.delimiter="delimiter"in e?e.delimiter:a.csv.defaults.delimiter;f=[];e={delimiter:d.delimiter,separator:d.separator,onParseEntry:e.onParseEntry,onParseValue:e.onParseValue,start:e.start,end:e.end,state:{rowNum:1,colNum:1}};f=a.csv.parsers.parse(k,e);if(d.callback)d.callback("",f);else return f},toObjects:function(k,e,f){e=void 0!==e?e:{};var d={};d.callback=void 0!==f&&"function"===typeof f?f:!1;d.separator="separator"in e?e.separator:a.csv.defaults.separator;d.delimiter="delimiter"in e?e.delimiter:
a.csv.defaults.delimiter;d.headers="headers"in e?e.headers:a.csv.defaults.headers;e.start="start"in e?e.start:1;d.headers&&e.start++;e.end&&d.headers&&e.end++;var h=[];f=[];e={delimiter:d.delimiter,separator:d.separator,onParseEntry:e.onParseEntry,onParseValue:e.onParseValue,start:e.start,end:e.end,state:{rowNum:1,colNum:1},match:!1};var h=a.csv.parsers.splitLines(k,{delimiter:d.delimiter,separator:d.separator,start:1,end:1,state:{rowNum:1,colNum:1}}),b=a.csv.toArray(h[0],e),h=a.csv.parsers.splitLines(k,
e);e.state.colNum=1;e.state.rowNum=b?2:1;k=0;for(var c=h.length;k<c;k++){var g=a.csv.toArray(h[k],e),l={},p;for(p in b)l[b[p]]=g[p];f.push(l);e.state.rowNum++}if(d.callback)d.callback("",f);else return f},fromArrays:function(k,e,f){e=void 0!==e?e:{};var d={};d.callback=void 0!==f&&"function"===typeof f?f:!1;d.separator="separator"in e?e.separator:a.csv.defaults.separator;d.delimiter="delimiter"in e?e.delimiter:a.csv.defaults.delimiter;d.escaper="escaper"in e?e.escaper:a.csv.defaults.escaper;d.experimental=
"experimental"in e?e.experimental:!1;if(!d.experimental)throw Error("not implemented");e=[];for(i in k)e.push(k[i]);if(d.callback)d.callback("",e);else return e},fromObjects2CSV:function(k,e,f){e=void 0!==e?e:{};var d={};d.callback=void 0!==f&&"function"===typeof f?f:!1;d.separator="separator"in e?e.separator:a.csv.defaults.separator;d.delimiter="delimiter"in e?e.delimiter:a.csv.defaults.delimiter;d.experimental="experimental"in e?e.experimental:!1;if(!d.experimental)throw Error("not implemented");
e=[];for(i in k)e.push(arrays[i]);if(d.callback)d.callback("",e);else return e}};a.csvEntry2Array=a.csv.toArray;a.csv2Array=a.csv.toArrays;a.csv2Dictionary=a.csv.toObjects})(jQuery);
(function(a){function k(d){var e=d||window.event,b=[].slice.call(arguments,1),c=0,g=0,l=0;return d=a.event.fix(e),d.type="mousewheel",e.wheelDelta&&(c=e.wheelDelta/120),e.detail&&(c=-e.detail/3),l=c,void 0!==e.axis&&e.axis===e.HORIZONTAL_AXIS&&(l=0,g=-1*c),void 0!==e.wheelDeltaY&&(l=e.wheelDeltaY/120),void 0!==e.wheelDeltaX&&(g=-1*e.wheelDeltaX/120),b.unshift(d,c,g,l),(a.event.dispatch||a.event.handle).apply(this,b)}var e=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var f=e.length;f;)a.event.fixHooks[e[--f]]=
a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=e.length;a;)this.addEventListener(e[--a],k,!1);else this.onmousewheel=k},teardown:function(){if(this.removeEventListener)for(var a=e.length;a;)this.removeEventListener(e[--a],k,!1);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);
(function(a,k){var e=0,f=a(document);a.widget("ech.multiselect",{options:{header:!0,height:175,minWidth:225,classes:"",checkAllText:"Check all",uncheckAllText:"Uncheck all",noneSelectedText:"Select options",selectedText:"# selected",selectedList:0,show:null,hide:null,autoOpen:!1,multiple:!0,position:{}},_create:function(){var d=this.element.hide(),h=this.options;this.speed=a.fx.speeds._default;this._isOpen=!1;this._namespaceID=this.eventNamespace||"multiselect"+e;d=(this.button=a('<button type="button"><span class="ui-icon ui-icon-triangle-1-s"></span></button>')).addClass("ui-multiselect ui-widget ui-state-default ui-corner-all").addClass(h.classes).attr({title:d.attr("title"),
"aria-haspopup":!0,tabIndex:d.attr("tabIndex")}).insertAfter(d);(this.buttonlabel=a("<span />")).html(h.noneSelectedText).appendTo(d);var d=(this.menu=a("<div />")).addClass("ui-multiselect-menu ui-widget ui-widget-content ui-corner-all").addClass(h.classes).appendTo(document.body),b=(this.header=a("<div />")).addClass("ui-widget-header ui-corner-all ui-multiselect-header ui-helper-clearfix").appendTo(d);(this.headerLinkContainer=a("<ul />")).addClass("ui-helper-reset").html(function(){return!0===
h.header?'<li><a class="ui-multiselect-all" href="#"><span class="ui-icon ui-icon-check"></span><span>'+h.checkAllText+'</span></a></li><li><a class="ui-multiselect-none" href="#"><span class="ui-icon ui-icon-closethick"></span><span>'+h.uncheckAllText+"</span></a></li>":"string"===typeof h.header?"<li>"+h.header+"</li>":""}).append('<li class="ui-multiselect-close"><a href="#" class="ui-multiselect-close"><span class="ui-icon ui-icon-circle-close"></span></a></li>').appendTo(b);(this.checkboxContainer=
a("<ul />")).addClass("ui-multiselect-checkboxes ui-helper-reset").appendTo(d);this._bindEvents();this.refresh(!0);h.multiple||d.addClass("ui-multiselect-single");e++},_init:function(){!1===this.options.header&&this.header.hide();this.options.multiple||this.headerLinkContainer.find(".ui-multiselect-all, .ui-multiselect-none").hide();this.options.autoOpen&&this.open();this.element.is(":disabled")&&this.disable()},refresh:function(d){var h=this.element,b=this.options,c=this.menu,g=this.checkboxContainer,
l=[],f="",k=h.attr("id")||e++;h.find("option").each(function(c){a(this);var g=this.parentNode,d=this.innerHTML,e=this.title,h=this.value;c="ui-multiselect-"+(this.id||k+"-option-"+c);var x=this.disabled,y=this.selected,B=["ui-corner-all"],A=(x?"ui-multiselect-disabled ":" ")+this.className,z;"OPTGROUP"===g.tagName&&(z=g.getAttribute("label"),-1===a.inArray(z,l)&&(f+='<li class="ui-multiselect-optgroup-label '+g.className+'"><a href="#">'+z+"</a></li>",l.push(z)));x&&B.push("ui-state-disabled");y&&
!b.multiple&&B.push("ui-state-active");f+='<li class="'+A+'">';f+='<label for="'+c+'" title="'+e+'" class="'+B.join(" ")+'">';f+='<input id="'+c+'" name="multiselect_'+k+'" type="'+(b.multiple?"checkbox":"radio")+'" value="'+h+'" title="'+d+'"';y&&(f+=' checked="checked"',f+=' aria-selected="true"');x&&(f+=' disabled="disabled"',f+=' aria-disabled="true"');f+=" /><span>"+d+"</span></label></li>"});g.html(f);this.labels=c.find("label");this.inputs=this.labels.children("input");this._setButtonWidth();
this._setMenuWidth();this.button[0].defaultValue=this.update();d||this._trigger("refresh")},update:function(){var d=this.options,e=this.inputs,b=e.filter(":checked"),c=b.length,d=0===c?d.noneSelectedText:a.isFunction(d.selectedText)?d.selectedText.call(this,c,e.length,b.get()):/\d/.test(d.selectedList)&&0<d.selectedList&&c<=d.selectedList?b.map(function(){return a(this).next().html()}).get().join(", "):d.selectedText.replace("#",c).replace("#",e.length);this._setButtonValue(d);return d},_setButtonValue:function(a){this.buttonlabel.text(a)},
_bindEvents:function(){function d(){e[e._isOpen?"close":"open"]();return!1}var e=this,b=this.button;b.find("span").bind("click.multiselect",d);b.bind({click:d,keypress:function(b){switch(b.which){case 27:case 38:case 37:e.close();break;case 39:case 40:e.open()}},mouseenter:function(){b.hasClass("ui-state-disabled")||a(this).addClass("ui-state-hover")},mouseleave:function(){a(this).removeClass("ui-state-hover")},focus:function(){b.hasClass("ui-state-disabled")||a(this).addClass("ui-state-focus")},
blur:function(){a(this).removeClass("ui-state-focus")}});this.header.delegate("a","click.multiselect",function(b){if(a(this).hasClass("ui-multiselect-close"))e.close();else e[a(this).hasClass("ui-multiselect-all")?"checkAll":"uncheckAll"]();b.preventDefault()});this.menu.delegate("li.ui-multiselect-optgroup-label a","click.multiselect",function(b){b.preventDefault();var g=a(this),d=g.parent().nextUntil("li.ui-multiselect-optgroup-label").find("input:visible:not(:disabled)"),f=d.get(),g=g.parent().text();
!1!==e._trigger("beforeoptgrouptoggle",b,{inputs:f,label:g})&&(e._toggleChecked(d.filter(":checked").length!==d.length,d),e._trigger("optgrouptoggle",b,{inputs:f,label:g,checked:f[0].checked}))}).delegate("label","mouseenter.multiselect",function(){a(this).hasClass("ui-state-disabled")||(e.labels.removeClass("ui-state-hover"),a(this).addClass("ui-state-hover").find("input").focus())}).delegate("label","keydown.multiselect",function(b){b.preventDefault();switch(b.which){case 9:case 27:e.close();break;
case 38:case 40:case 37:case 39:e._traverse(b.which,this);break;case 13:a(this).find("input")[0].click()}}).delegate('input[type="checkbox"], input[type="radio"]',"click.multiselect",function(b){var g=a(this),d=this.value,f=this.checked,k=e.element.find("option");this.disabled||!1===e._trigger("click",b,{value:d,text:this.title,checked:f})?b.preventDefault():(g.focus(),g.attr("aria-selected",f),k.each(function(){this.value===d?this.selected=f:e.options.multiple||(this.selected=!1)}),e.options.multiple||
(e.labels.removeClass("ui-state-active"),g.closest("label").toggleClass("ui-state-active",f),e.close()),e.element.trigger("change"),setTimeout(a.proxy(e.update,e),10))});f.bind("mousedown."+this._namespaceID,function(b){b=b.target;!e._isOpen||a.contains(e.menu[0],b)||a.contains(e.button[0],b)||b===e.button[0]||b===e.menu[0]||e.close()});a(this.element[0].form).bind("reset.multiselect",function(){setTimeout(a.proxy(e.refresh,e),10)})},_setButtonWidth:function(){var a=this.element.outerWidth(),e=this.options;
/\d/.test(e.minWidth)&&a<e.minWidth&&(a=e.minWidth);this.button.outerWidth(a)},_setMenuWidth:function(){this.menu.outerWidth(this.button.outerWidth())},_traverse:function(d,e){var b=a(e),c=38===d||37===d;$next=b.parent()[c?"prevAll":"nextAll"]("li:not(.ui-multiselect-disabled, .ui-multiselect-optgroup-label)")[c?"last":"first"]();$next.length?$next.find("label").trigger("mouseover"):(b=this.menu.find("ul").last(),this.menu.find("label")[c?"last":"first"]().trigger("mouseover"),b.scrollTop(c?b.height():
0))},_toggleState:function(a,e){return function(){this.disabled||(this[a]=e);e?this.setAttribute("aria-selected",!0):this.removeAttribute("aria-selected")}},_toggleChecked:function(d,e){var b=e&&e.length?e:this.inputs,c=this;b.each(this._toggleState("checked",d));b.eq(0).focus();this.update();var g=b.map(function(){return this.value}).get();this.element.find("option").each(function(){!this.disabled&&-1<a.inArray(this.value,g)&&c._toggleState("selected",d).call(this)});b.length&&this.element.trigger("change")},
_toggleDisabled:function(d){this.button.attr({disabled:d,"aria-disabled":d})[d?"addClass":"removeClass"]("ui-state-disabled");var e=this.menu.find("input"),e=d?e.filter(":enabled").data("ech-multiselect-disabled",!0):e.filter(function(){return!0===a.data(this,"ech-multiselect-disabled")}).removeData("ech-multiselect-disabled");e.attr({disabled:d,"arial-disabled":d}).parent()[d?"addClass":"removeClass"]("ui-state-disabled");this.element.attr({disabled:d,"aria-disabled":d})},open:function(d){d=this.button;
var e=this.menu,b=this.speed,c=this.options,g=[];if(!1!==this._trigger("beforeopen")&&!d.hasClass("ui-state-disabled")&&!this._isOpen){var l=e.find("ul").last(),f=c.show;a.isArray(c.show)&&(f=c.show[0],b=c.show[1]||this.speed);f&&(g=[f,b]);l.scrollTop(0).height(c.height);this.position();a.fn.show.apply(e,g);this.labels.filter(":not(.ui-state-disabled)").eq(0).trigger("mouseover").trigger("mouseenter").find("input").trigger("focus");d.addClass("ui-state-active");this._isOpen=!0;this._trigger("open")}},
close:function(){if(!1!==this._trigger("beforeclose")){var d=this.options,e=d.hide,b=this.speed,c=[];a.isArray(d.hide)&&(e=d.hide[0],b=d.hide[1]||this.speed);e&&(c=[e,b]);a.fn.hide.apply(this.menu,c);this.button.removeClass("ui-state-active").trigger("blur").trigger("mouseleave");this._isOpen=!1;this._trigger("close")}},enable:function(){this._toggleDisabled(!1)},disable:function(){this._toggleDisabled(!0)},checkAll:function(a){this._toggleChecked(!0);this._trigger("checkAll")},uncheckAll:function(){this._toggleChecked(!1);
this._trigger("uncheckAll")},getChecked:function(){return this.menu.find("input").filter(":checked")},destroy:function(){a.Widget.prototype.destroy.call(this);f.unbind(this._namespaceID);this.button.remove();this.menu.remove();this.element.show();return this},isOpen:function(){return this._isOpen},widget:function(){return this.menu},getButton:function(){return this.button},position:function(){var d=this.options;a.ui.position&&!a.isEmptyObject(d.position)?(d.position.of=d.position.of||this.button,
this.menu.show().position(d.position).hide()):(d=this.button.offset(),this.menu.css({top:d.top+this.button.outerHeight(),left:d.left}))},_setOption:function(d,e){var b=this.menu;switch(d){case "header":b.find("div.ui-multiselect-header")[e?"show":"hide"]();break;case "checkAllText":b.find("a.ui-multiselect-all span").eq(-1).text(e);break;case "uncheckAllText":b.find("a.ui-multiselect-none span").eq(-1).text(e);break;case "height":b.find("ul").last().height(parseInt(e,10));break;case "minWidth":this.options[d]=
parseInt(e,10);this._setButtonWidth();this._setMenuWidth();break;case "selectedText":case "selectedList":case "noneSelectedText":this.options[d]=e;this.update();break;case "classes":b.add(this.button).removeClass(this.options.classes).addClass(e);break;case "multiple":b.toggleClass("ui-multiselect-single",!e);this.options.multiple=e;this.element[0].multiple=e;this.refresh();break;case "position":this.position()}a.Widget.prototype._setOption.apply(this,arguments)}})})(jQuery);
(function(a){var k=/[\-\[\]{}()*+?.,\\\^$|#\s]/g;a.widget("ech.multiselectfilter",{options:{label:"Filter:",width:null,placeholder:"Enter keywords",autoReset:!1},_create:function(){var e=this.options,f=a(this.element),d=this.instance=f.data("ech-multiselect")||f.data("multiselect");this.header=d.menu.find(".ui-multiselect-header").addClass("ui-multiselect-hasfilter");e=this.wrapper=a('<div class="ui-multiselect-filter">'+(e.label.length?e.label:"")+'<input placeholder="'+e.placeholder+'" type="search"'+
(/\d/.test(e.width)?'style="width:'+e.width+'px"':"")+" /></div>").prependTo(this.header);this.inputs=d.menu.find('input[type="checkbox"], input[type="radio"]');this.input=e.find("input").bind({keydown:function(a){13===a.which&&a.preventDefault()},keyup:a.proxy(this._handler,this),click:a.proxy(this._handler,this)});this.updateCache();d._toggleChecked=function(e,b){var c=b&&b.length?b:this.labels.find("input"),g=this,c=c.not(d._isOpen?":disabled, :hidden":":disabled").each(this._toggleState("checked",
e));this.update();var f=c.map(function(){return this.value}).get();this.element.find("option").filter(function(){!this.disabled&&-1<a.inArray(this.value,f)&&g._toggleState("selected",e).call(this)});c.length&&this.element.trigger("change")};e=a(document).bind("multiselectrefresh",a.proxy(function(){this.updateCache();this._handler()},this));this.options.autoReset&&e.bind("multiselectclose",a.proxy(this._reset,this))},_handler:function(e){var f=a.trim(this.input[0].value.toLowerCase()),d=this.rows,
h=this.inputs,b=this.cache;if(f){d.hide();var c=new RegExp(f.replace(k,"\\$&"),"gi");this._trigger("filter",e,a.map(b,function(b,a){return-1!==b.search(c)?(d.eq(a).show(),h.get(a)):null}))}else d.show();this.instance.menu.find(".ui-multiselect-optgroup-label").each(function(){var b=a(this),c=b.nextUntil(".ui-multiselect-optgroup-label").filter(function(){return"none"!==a.css(this,"display")}).length;b[c?"show":"hide"]()})},_reset:function(){this.input.val("").trigger("keyup")},updateCache:function(){this.rows=
this.instance.menu.find(".ui-multiselect-checkboxes li:not(.ui-multiselect-optgroup-label)");this.cache=this.element.children().map(function(){var e=a(this);"optgroup"===this.tagName.toLowerCase()&&(e=e.children());return e.map(function(){return this.innerHTML.toLowerCase()}).get()}).get()},widget:function(){return this.wrapper},destroy:function(){a.Widget.prototype.destroy.call(this);this.input.val("").trigger("keyup");this.wrapper.remove()}})})(jQuery);
(function(a){function k(a,b){if(!(1<a.originalEvent.touches.length)){a.preventDefault();var c=a.originalEvent.changedTouches[0],g=document.createEvent("MouseEvents");g.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(g)}}a.support.touch="ontouchend"in document;if(a.support.touch){var e=a.ui.mouse.prototype,f=e._mouseInit,d;e._touchStart=function(a){!d&&this._mouseCapture(a.originalEvent.changedTouches[0])&&(d=!0,this._touchMoved=!1,
k(a,"mouseover"),k(a,"mousemove"),k(a,"mousedown"))};e._touchMove=function(a){d&&(this._touchMoved=!0,k(a,"mousemove"))};e._touchEnd=function(a){d&&(k(a,"mouseup"),k(a,"mouseout"),this._touchMoved||k(a,"click"),d=!1)};e._mouseInit=function(){this.element.bind("touchstart",a.proxy(this,"_touchStart")).bind("touchmove",a.proxy(this,"_touchMove")).bind("touchend",a.proxy(this,"_touchEnd"));f.call(this)}}})(jQuery);
(function(a){a.fn.multiAccordion=function(){a(this).addClass("ui-accordion ui-accordion-icons ui-widget ui-helper-reset").find("h3").not(".ui-accordion-header").addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all ui-accordion-icons").hover(function(){a(this).toggleClass("ui-state-hover")}).prepend('<span class="ui-accordion-header-icon ui-icon ui-icon-triangle-1-e"></span>').click(function(){a(this).toggleClass("ui-accordion-header-active ui-state-active ui-state-default ui-corner-bottom").find("> .ui-icon").toggleClass("ui-icon-triangle-1-e ui-icon-triangle-1-s").end().next().toggleClass("ui-accordion-content-active").slideToggle("fast");return!1}).next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").css("display",
"block").hide()};a.fn.multiAccordionRefresh=function(){alert("biggie smalls")}})(jQuery);
$.widget("ui.iosMenu",{options:{backText:"Back",slideDuration:200,slideEasing:"linear"},_insertBackButtons:function(){this.element.find("li ul, li ol").prepend($('<li class="ui-menu-item ios-menu-back-link" role="presentation"> <a href="#menu-back" class="ui-corner-role" tabindex="-1" role="menuitem" aria-haspopup="true" > <span class="ui-menu-icon ui-icon ui-icon-carat-1-w"></span>'+this.options.backText+" </a></li>"));return this},_create:function(a){var k=this;k._insertBackButtons().element.addClass("ios-style").menu({position:{my:"left top",
at:"right top",of:k.element}});var e=$(k.element).data("ui-menu");e.select=function(a){e.active&&"#menu-back"==e.active.find("a").attr("href")?(e.focus(a,e.active),e.collapse(a)):e.active&&e.active.find("> ul").length?(e.focus(a,e.active),e.expand(a)):e._trigger("select",a,{item:e.active})};e.collapse=function(a){var e=this.active&&this.active.parents("li:not(.ui-menubar-item) ").first(),b=this,c;e&&e.length?(e.find("> a").addClass("ui-state-focus").removeClass("ui-state-active"),c=this.active.parent(),
c.attr("aria-hidden","true").attr("aria-expanded","false").animate({left:b.element.css("width")},k.options.slideDuration,k.options.slideEasing,function(){c.hide();b.focus(a,e)})):a&&a.which===$.ui.keyCode.ESCAPE&&b._trigger("close",a)};var f=e._open;e._open=function(a){f.call(this,a);a.animate({left:0,height:e.element[0].clientHeight-4,width:e.element[0].clientWidth},k.options.slideDuration,k.options.slideEasing)};e._startOpening=function(a){clearTimeout(this.timer);a.attr("aria-hidden")}},destroy:function(){var a=
this.element&&this.element.data("uiMenu");a&&a.destroy()}});
var Endian={BIG:0,LITTLE:1},ZipConstants={LOCSIG:67324752,LOCHDR:30,LOCVER:4,LOCNAM:26,EXTSIG:134695760,EXTHDR:16,CENSIG:33639248,CENHDR:46,CENVER:6,CENNAM:28,CENOFF:42,ENDSIG:101010256,ENDHDR:22,ENDTOT:10,ENDOFF:16,STORED:0,DEFLATED:8},Base64=function(a){for(var k=void 0,k=0<=navigator.userAgent.toLowerCase().indexOf(" chrome/")||0<=navigator.userAgent.toLowerCase().indexOf(" firefox/")||0<=navigator.userAgent.toLowerCase().indexOf(" gecko/")?function(){this.str="";this.length=0;this.append=function(b){this.str+=
b;this.length+=b.length};this.prepend=function(b){this.str=b+this.str;this.length+=b.length};this.toString=function(){return this.str}}:function(){this.parts=[];this.length=0;this.append=function(b){this.parts.push(b);this.length+=b.length};this.prepend=function(b){this.parts.unshift(b);this.length+=b.length};this.toString=function(){return this.parts.join("")}},k=new k,e,f,d,h,b,c,g=0;g<a.length;)e=a.charCodeAt(g++),f=a.charCodeAt(g++),d=a.charCodeAt(g++),h=e>>2,e=(e&3)<<4|f>>4,b=(f&15)<<2|d>>6,
c=d&63,isNaN(f)?b=c=64:isNaN(d)&&(c=64),k.append("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c));return k.toString()},BA=function(a,k){var e="",f=0,d=0,h=0;a&&(e=a||"",h=void 0!==k?k:h,f=a.length);var b="string"!=typeof a&&void 0!==a;return{position:function(b){if(b)d=
b;else return d},move:function(b){d+=b},bytesAvailable:function(){return f-d},length:function(){return f},endian:function(b){if(b)h=b;else return h},data:function(a){if(a)e=a||"",f=e.length,b="string"!=typeof a&&void 0!==a;else return e},readByte:function(){if(0===this.bytesAvailable())throw"readByte::End of stream!";return b?e[d++]&255:e.charCodeAt(d++)&255},readByteAt:function(a){if(a<f)return b?e[a]&255:e.charCodeAt(a)&255;throw"readByteAt::End of stream";},writeByte:function(a){b?d<f?e[d]=a&255:
e[e.length++]=a:d<f?e=e.substr(0,d)+String.fromCharCode(a&255)+e.substring(d+1):(e+=String.fromCharCode(a&255),f+=1);d++},readBytes:function(a,g){if(void 0===g){var h=d;d+=a;if(b){for(var f="",k=h;k<h+a;k++)f+=String.fromCharCode(e[k]);return f}return e.substr(h,a)}if(b){h="";for(f=a;f<a+g;f++)h+=String.fromCharCode(e[f]);return h}return e.substr(a,g)},readUnsignedInt:function(){if(4>this.bytesAvailable())throw"End of stream!";var a=0,a=0;h==Endian.BIG?(a=(d+=4)-4,a=b?(e[a]&255)<<24|(e[++a]&255)<<
16|(e[++a]&255)<<8|e[++a]&255:(e.charCodeAt(a)&255)<<24|(e.charCodeAt(++a)&255)<<16|(e.charCodeAt(++a)&255)<<8|e.charCodeAt(++a)&255):(a=d+=4,a=b?(e[--a]&255)<<24|(e[--a]&255)<<16|(e[--a]&255)<<8|e[--a]&255:(e.charCodeAt(--a)&255)<<24|(e.charCodeAt(--a)&255)<<16|(e.charCodeAt(--a)&255)<<8|e.charCodeAt(--a)&255);return a},readUnsignedShort:function(){if(2>this.bytesAvailable())throw"End of stream!";var a=0;if(h==Endian.BIG)return a=(d+=2)-2,b?(e[a]&255)<<8|e[++a]&255:(e.charCodeAt(a)&255)<<8|e.charCodeAt(++a)&
255;a=d+=2;return b?(e[--a]&255)<<8|e[--a]&255:(e.charCodeAt(--a)&255)<<8|e.charCodeAt(--a)&255},readShort:function(){if(2>this.bytesAvailable())throw"End of stream!";var a=0,a=0;h==Endian.BIG?(a=(d+=2)-2,a=b?(e[a]&255)<<8|e[++a]&255:(e.charCodeAt(a)&255)<<8|e.charCodeAt(++a)&255):(a=d+=2,a=b?(e[--a]&255)<<8|e[--a]&255:(e.charCodeAt(--a)&255)<<8|e.charCodeAt(--a)&255);return 32768<=a?a-65536:a},readUTFBytes:function(b){b=b||0;for(var a="",d=0;d<b;d++)a+=String.fromCharCode(this.readByte());return a}}},
Inflater=function(){function a(b){for(var a=p;v<b;){if(l==g.length())throw"available inflate data did not terminate";a|=g.readByteAt(l++)<<v;v+=8}p=a>>b;v-=b;return a&(1<<b)-1}function k(b,a,c){for(var g=[],d=0;d<=f;d++)b.count[d]=0;for(d=0;d<c;d++)b.count[a[d]]++;if(b.count[0]==c)return 0;for(var e=1,d=1;d<=f;d++)if(e<<=1,e-=b.count[d],0>e)return e;g[1]=0;for(d=1;d<f;d++)g[d+1]=g[d]+b.count[d];for(d=0;d<c;d++)0!==a[d]&&(b.symbol[g[a[d]]++]=d);return e}function e(b){for(var c=0,g=0,d=0,e=1;e<=f;e++){var c=
c|a(1),h=b.count[e];if(c<g+h)return b.symbol[d+(c-g)];d+=h;g+=h;g<<=1;c<<=1}return-9}var f=15,d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],h=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],b=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],g=void 0,l=0,p=0,v=0,q=void 0,r=void 0;return{setInput:function(b){g=
b;g.endian(Endian.LITTLE);g.position(0)},inflate:function(f){var u=l=p=v=0;do{var w=a(1),x=a(2);if(0===x){x=f;v=p=0;if(l+4>g.length())throw"available inflate data did not terminate";var y=g[l++],y=y|g[l++]<<8;if(g[l++]!=(~y&255)||g[l++]!=(~y>>8&255))throw"stored block length did not match one's complement";if(l+y>g.length())throw"available inflate data did not terminate";for(;y--;)x[x.length]=g[l++]}else{if(3==x)throw"invalid block type (type == 3)";q={count:[],symbol:[]};r={count:[],symbol:[]};if(1==
x){x=[];for(y=0;144>y;y++)x[y]=8;for(;256>y;y++)x[y]=9;for(;280>y;y++)x[y]=7;for(;288>y;y++)x[y]=8;k(q,x,288);for(y=0;30>y;y++)x[y]=5;k(r,x,30)}else if(2==x){var u=[],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=a(5)+257,y=a(5)+1,A=a(4)+4;if(286<x||30<y)throw"dynamic block code description: too many length or distance codes";for(var z=0;z<A;z++)u[B[z]]=a(3);for(;19>z;z++)u[B[z]]=0;z=k(q,u,19);if(0!==z)throw"dynamic block code description: code lengths codes incomplete";for(z=0;z<x+y;)if(B=
e(q),16>B)u[z++]=B;else{A=0;if(16==B){if(0===z)throw"dynamic block code description: repeat lengths with no first length";A=u[z-1];B=3+a(2)}else B=17==B?3+a(3):11+a(7);if(z+B>x+y)throw"dynamic block code description: repeat more than specified lengths";for(;B--;)u[z++]=A}z=k(q,u,x);if(0>z||0<z&&1!=x-q.count[0])throw"dynamic block code description: invalid literal/length code lengths";z=k(r,u.slice(x),y);if(0>z||0<z&&1!=y-r.count[0])throw"dynamic block code description: invalid distance code lengths";
u=z}if(0!==u)break;a:{u=f;do{x=e(q);if(0>x){u=x;break a}if(256>x)u.position(u.length()),u.writeByte(x);else if(256<x){x-=257;if(29<=x)throw"invalid literal/length or distance code in fixed or dynamic block";y=d[x]+a(h[x]);x=e(r);if(0>x){u=x;break a}z=b[x]+a(c[x]);if(z>u.length())throw"distance is too far back in fixed or dynamic block";for(u.position(u.length());y--;)u.writeByte(u.readByteAt(u.length()-z))}}while(256!=x||1E4>=u.length());u=0}}if(0!==u)break}while(!w);return u}}},ZipEntry=function(a){var k=
0;return{name:function(){return a},time:function(a){if(a)a=new Date(time),k=(a.fullYear-1980&127)<<25|a.month+1<<21|a.day<<16|a.hours<<11|a.minutes<<5|a.seconds>>1;else return a=new Date((k>>25&127)+1980,(k>>21&15)-1,k>>16&31,k>>11&31,k>>5&63,(k&31)<<1),a.getTime()},size:0,compressedSize:0,crc:0,method:0,extra:void 0,comment:"",isDirectory:function(){return"/"==a.charAt(a.length-1)}}},ZipFile=function(a){function k(){var b=e.length()-ZipConstants.ENDHDR,a=Math.max(0,b-65535);for(b;b>=a;b--)if(e.position(b),
80==e.readByte()&&(e.position(b),101010256==e.readUnsignedInt()))return b;throw"findEND::Invalid zip";}var e=void 0,f=[],d={},h={},e=new BA(a.data(),Endian.LITTLE);(function(){var b=new BA;b.endian(Endian.LITTLE);b.data(e.readBytes(k(),ZipConstants.ENDHDR));b.position(ZipConstants.ENDTOT);f=Array(b.readUnsignedShort());b.position(ZipConstants.ENDOFF);e.position(b.readUnsignedInt());d={};h={};for(b=0;b<f.length;b++){var a=new BA(e.readBytes(ZipConstants.CENHDR),Endian.LITTLE);if(a.readUnsignedInt()!=
ZipConstants.CENSIG)throw"readEntries::Invalid CEN header (bad signature)";a.position(28);var g=a.readUnsignedShort();if(0===g)throw"missing entry name";var l=new ZipEntry(e.readUTFBytes(g)),g=a.readUnsignedShort();l.extra=new BA;0<g&&l.extra.data(e.readBytes(g));e.move(a.readUnsignedShort());a.position(6);l.version=a.readUnsignedShort();l.flag=a.readUnsignedShort();if(1==(l.flag&1))throw"readEntries::Encrypted ZIP entry not supported";l.method=a.readUnsignedShort();l.dostime=a.readUnsignedInt();
l.crc=a.readUnsignedInt();l.compressedSize=a.readUnsignedInt();l.size=a.readUnsignedInt();f[b]=l;d[l.name()]=l;a.position(42);h[l.name()]=a.readUnsignedInt()}})();return{entries:function(){return f},size:function(){return f.length},getEntry:function(b){return d[b]},getInput:function(b){e.position(h[b.name()]+30-2);var a=e.readShort();e.move(b.name().length+a);a=new BA;0<b.compressedSize&&a.data(e.readBytes(b.compressedSize));switch(b.method){case 0:return a;case 8:b=new BA;var g=new Inflater;g.setInput(a);
g.inflate(b);b.position(0);return b;default:throw"zipEntry::getInput::Invalid compression method";}}}},ZipLoader=function(a){function k(b){g="localfile.zip";p&&(b=new ZipFile(new BA(b,Endian.LITTLE)),(h[g]=b)&&l&&(v=e(b,l)))}function e(b,a){if(c.test(a)){var g=c.exec(a),d=g[2],g=new ZipFile(b.getInput(b.getEntry(g[1])));return e(g,d)}if(d=b.getEntry(a))return b.getInput(d);throw"Requested file was not found in the archive";}function f(b,a){null===b.canHaveChildren||b.canHaveChildren?b.appendChild(document.createTextNode(a)):
b.text=a}function d(b){if(239==b.charCodeAt(0)&&187==b.charCodeAt(1)&&191==b.charCodeAt(2)){b=b.substr(3);for(var a="",c=0,g=c1=c2=0;c<b.length;)g=b.charCodeAt(c),128>g?(a+=String.fromCharCode(g),c++):191<g&&224>g?(c2=b.charCodeAt(c+1),a+=String.fromCharCode((g&31)<<6|c2&63),c+=2):(c2=b.charCodeAt(c+1),c3=b.charCodeAt(c+2),a+=String.fromCharCode((g&15)<<12|(c2&63)<<6|c3&63),c+=3);return a}return b}var h={},b=/.*?.zip$/i,c=/(.*?.zip):\/\/(.*$)/i,g=a,l="",p=!0,v=void 0;g&&k(g);return{load:function(a){p=
!1;switch(!0){case c.test(a):var f=c.exec(a);g=f[1];l=f[2];(f=h[g])?f&&l&&(v=e(f,l)):(p=!0,k(a));break;case b.test(a):p=!0;g=a;k(a);break;default:k(a)}return v?(v.position(0),d(v.readBytes(0,v.length()))):""},loadImage:function(b){var a=this.load(b);if(a){var c="data:";switch((/[.]/.exec(b)&&/[^.]+$/.exec(b)[0]||"").toLowerCase()){case "gif":c+="image/gif;base64,";break;case "png":c+="image/png;base64,";break;case "jpg":case "jpeg":c+="image/jpeg;base64,"}c+=Base64(a)}return c},loadCSS:function(b){if(b=
d(this.load(b))){var a=document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css";c.media="screen";c.styleSheet?c.styleSheet.cssText=b:c.appendChild(document.createTextNode(b));a.appendChild(c)}},loadScript:function(b,a){var c=d(this.load(b));if(c){var g=window.document.createElement("script");g.setAttribute("type","text/javascript");g.setAttribute("charset",a);if(null!==navigator.userAgent.match(/MSIE/))eval(c);else{var e=document.getElementsByTagName("head")[0]||
document.documentElement;e.insertBefore(g,e.firstChild);f(g,c)}}}}};
(function(){function a(a){var e={opts:a,FRAMERATE:30,MAX_VIRTUAL_PIXELS:3E4,log:function(a){}};!0==e.opts.log&&"undefined"!=typeof console&&(e.log=function(a){console.log(a)});e.init=function(a){var h=0;e.UniqueId=function(){h++;return"canvg"+h};e.Definitions={};e.Styles={};e.Animations=[];e.Images=[];e.ctx=a;e.ViewPort=new function(){this.viewPorts=[];this.Clear=function(){this.viewPorts=[]};this.SetCurrent=function(b,a){this.viewPorts.push({width:b,height:a})};this.RemoveCurrent=function(){this.viewPorts.pop()};
this.Current=function(){return this.viewPorts[this.viewPorts.length-1]};this.width=function(){return this.Current().width};this.height=function(){return this.Current().height};this.ComputeSize=function(b){return null!=b&&"number"==typeof b?b:"x"==b?this.width():"y"==b?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}};e.init();e.ImagesLoaded=function(){for(var a=0;a<e.Images.length;a++)if(!e.Images[a].loaded)return!1;return!0};e.trim=function(a){return a.replace(/^\s+|\s+$/g,
"")};e.compressSpaces=function(a){return a.replace(/[\s\r\t\n]+/gm," ")};e.ajax=function(a){var e;return(e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"))?(e.open("GET",a,!1),e.send(null),e.responseText):null};e.parseXml=function(a){if(window.DOMParser)return(new DOMParser).parseFromString(a,"text/xml");a=a.replace(/<!DOCTYPE svg[^>]*>/,"");var e=new ActiveXObject("Microsoft.XMLDOM");e.async="false";e.loadXML(a);return e};e.Property=function(a,e){this.name=a;this.value=
e};e.Property.prototype.getValue=function(){return this.value};e.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value};e.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var a=parseFloat(this.value);(this.value+"").match(/%$/)&&(a/=100);return a};e.Property.prototype.valueOrDefault=function(a){return this.hasValue()?this.value:a};e.Property.prototype.numValueOrDefault=function(a){return this.hasValue()?this.numValue():a};e.Property.prototype.addOpacity=
function(a){var h=this.value;if(null!=a.value&&""!=a.value&&"string"==typeof this.value){var b=new RGBColor(this.value);b.ok&&(h="rgba("+b.r+", "+b.g+", "+b.b+", "+a.numValue()+")")}return new e.Property(this.name,h)};e.Property.prototype.getDefinition=function(){var a=this.value.match(/#([^\)'"]+)/);a&&(a=a[1]);a||(a=this.value);return e.Definitions[a]};e.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")};e.Property.prototype.getFillStyleDefinition=function(a,h){var b=
this.getDefinition();if(null!=b&&b.createGradient)return b.createGradient(e.ctx,a,h);if(null!=b&&b.createPattern){if(b.getHrefAttribute().hasValue()){var c=b.attribute("patternTransform"),b=b.getHrefAttribute().getDefinition();c.hasValue()&&(b.attribute("patternTransform",!0).value=c.value)}return b.createPattern(e.ctx,a)}return null};e.Property.prototype.getDPI=function(a){return 96};e.Property.prototype.getEM=function(a){var h=12,b=new e.Property("fontSize",e.Font.Parse(e.ctx.font).fontSize);b.hasValue()&&
(h=b.toPixels(a));return h};e.Property.prototype.getUnits=function(){return(this.value+"").replace(/[0-9\.\-]/g,"")};e.Property.prototype.toPixels=function(a,h){if(!this.hasValue())return 0;var b=this.value+"";if(b.match(/em$/))return this.numValue()*this.getEM(a);if(b.match(/ex$/))return this.numValue()*this.getEM(a)/2;if(b.match(/px$/))return this.numValue();if(b.match(/pt$/))return this.numValue()*this.getDPI(a)*(1/72);if(b.match(/pc$/))return 15*this.numValue();if(b.match(/cm$/))return this.numValue()*
this.getDPI(a)/2.54;if(b.match(/mm$/))return this.numValue()*this.getDPI(a)/25.4;if(b.match(/in$/))return this.numValue()*this.getDPI(a);if(b.match(/%$/))return this.numValue()*e.ViewPort.ComputeSize(a);b=this.numValue();return h&&1>b?b*e.ViewPort.ComputeSize(a):b};e.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var a=this.value+"";if(a.match(/s$/))return 1E3*this.numValue();a.match(/ms$/);return this.numValue()};e.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;
var a=this.value+"";return a.match(/deg$/)?this.numValue()*(Math.PI/180):a.match(/grad$/)?this.numValue()*(Math.PI/200):a.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)};var f={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};e.Property.prototype.toTextBaseline=function(){return this.hasValue()?
f[this.value]:null};e.Font=new function(){this.Styles="normal|italic|oblique|inherit";this.Variants="normal|small-caps|inherit";this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";this.CreateFont=function(a,b,c,g,d,f){f=null!=f?this.Parse(f):this.CreateFont("","","","","",e.ctx.font);return{fontFamily:d||f.fontFamily,fontSize:g||f.fontSize,fontStyle:a||f.fontStyle,fontWeight:c||f.fontWeight,fontVariant:b||f.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,
this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var a=this;this.Parse=function(h){var b={};h=e.trim(e.compressSpaces(h||"")).split(" ");for(var c=!1,g=!1,f=!1,k=!1,v="",q=0;q<h.length;q++)g||-1==a.Styles.indexOf(h[q])?k||-1==a.Variants.indexOf(h[q])?f||-1==a.Weights.indexOf(h[q])?c?"inherit"!=h[q]&&(v+=h[q]):("inherit"!=h[q]&&(b.fontSize=h[q].split("/")[0]),g=k=f=c=!0):("inherit"!=h[q]&&(b.fontWeight=h[q]),g=k=f=!0):("inherit"!=h[q]&&(b.fontVariant=h[q]),g=k=!0):("inherit"!=h[q]&&(b.fontStyle=
h[q]),g=!0);""!=v&&(b.fontFamily=v);return b}};e.ToNumberArray=function(a){a=e.trim(e.compressSpaces((a||"").replace(/,/g," "))).split(" ");for(var h=0;h<a.length;h++)a[h]=parseFloat(a[h]);return a};e.Point=function(a,e){this.x=a;this.y=e};e.Point.prototype.angleTo=function(a){return Math.atan2(a.y-this.y,a.x-this.x)};e.Point.prototype.applyTransform=function(a){var e=this.x*a[1]+this.y*a[3]+a[5];this.x=this.x*a[0]+this.y*a[2]+a[4];this.y=e};e.CreatePoint=function(a){a=e.ToNumberArray(a);return new e.Point(a[0],
a[1])};e.CreatePath=function(a){a=e.ToNumberArray(a);for(var h=[],b=0;b<a.length;b+=2)h.push(new e.Point(a[b],a[b+1]));return h};e.BoundingBox=function(a,e,b,c){this.y2=this.x2=this.y1=this.x1=Number.NaN;this.x=function(){return this.x1};this.y=function(){return this.y1};this.width=function(){return this.x2-this.x1};this.height=function(){return this.y2-this.y1};this.addPoint=function(a,b){if(null!=a){if(isNaN(this.x1)||isNaN(this.x2))this.x2=this.x1=a;a<this.x1&&(this.x1=a);a>this.x2&&(this.x2=a)}if(null!=
b){if(isNaN(this.y1)||isNaN(this.y2))this.y2=this.y1=b;b<this.y1&&(this.y1=b);b>this.y2&&(this.y2=b)}};this.addX=function(a){this.addPoint(a,null)};this.addY=function(a){this.addPoint(null,a)};this.addBoundingBox=function(a){this.addPoint(a.x1,a.y1);this.addPoint(a.x2,a.y2)};this.addQuadraticCurve=function(a,b,c,d,e,h){c=a+2/3*(c-a);d=b+2/3*(d-b);this.addBezierCurve(a,b,c,c+1/3*(e-a),d,d+1/3*(h-b),e,h)};this.addBezierCurve=function(a,b,c,d,e,h,f,k){var w=[a,b],x=[c,d],y=[e,h],B=[f,k];this.addPoint(w[0],
w[1]);this.addPoint(B[0],B[1]);for(i=0;1>=i;i++)a=function(a){return Math.pow(1-a,3)*w[i]+3*Math.pow(1-a,2)*a*x[i]+3*(1-a)*Math.pow(a,2)*y[i]+Math.pow(a,3)*B[i]},b=6*w[i]-12*x[i]+6*y[i],c=-3*w[i]+9*x[i]-9*y[i]+3*B[i],d=3*x[i]-3*w[i],0==c?0!=b&&(b=-d/b,0<b&&1>b&&(0==i&&this.addX(a(b)),1==i&&this.addY(a(b)))):(d=Math.pow(b,2)-4*d*c,0>d||(e=(-b+Math.sqrt(d))/(2*c),0<e&&1>e&&(0==i&&this.addX(a(e)),1==i&&this.addY(a(e))),b=(-b-Math.sqrt(d))/(2*c),0<b&&1>b&&(0==i&&this.addX(a(b)),1==i&&this.addY(a(b)))))};
this.isPointInBox=function(a,b){return this.x1<=a&&a<=this.x2&&this.y1<=b&&b<=this.y2};this.addPoint(a,e);this.addPoint(b,c)};e.Transform=function(a){var h=this;this.Type={};this.Type.translate=function(a){this.p=e.CreatePoint(a);this.apply=function(a){a.translate(this.p.x||0,this.p.y||0)};this.unapply=function(a){a.translate(-1*this.p.x||0,-1*this.p.y||0)};this.applyToPoint=function(a){a.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}};this.Type.rotate=function(a){a=e.ToNumberArray(a);this.angle=
new e.Property("angle",a[0]);this.cx=a[1]||0;this.cy=a[2]||0;this.apply=function(a){a.translate(this.cx,this.cy);a.rotate(this.angle.toRadians());a.translate(-this.cx,-this.cy)};this.unapply=function(a){a.translate(this.cx,this.cy);a.rotate(-1*this.angle.toRadians());a.translate(-this.cx,-this.cy)};this.applyToPoint=function(a){var b=this.angle.toRadians();a.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]);a.applyTransform([Math.cos(b),Math.sin(b),-Math.sin(b),Math.cos(b),0,0]);a.applyTransform([1,
0,0,1,-this.p.x||0,-this.p.y||0])}};this.Type.scale=function(a){this.p=e.CreatePoint(a);this.apply=function(a){a.scale(this.p.x||1,this.p.y||this.p.x||1)};this.unapply=function(a){a.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)};this.applyToPoint=function(a){a.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}};this.Type.matrix=function(a){this.m=e.ToNumberArray(a);this.apply=function(a){a.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])};this.applyToPoint=function(a){a.applyTransform(this.m)}};
this.Type.SkewBase=function(a){this.base=h.Type.matrix;this.base(a);this.angle=new e.Property("angle",a)};this.Type.SkewBase.prototype=new this.Type.matrix;this.Type.skewX=function(a){this.base=h.Type.SkewBase;this.base(a);this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]};this.Type.skewX.prototype=new this.Type.SkewBase;this.Type.skewY=function(a){this.base=h.Type.SkewBase;this.base(a);this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]};this.Type.skewY.prototype=new this.Type.SkewBase;this.transforms=
[];this.apply=function(a){for(var b=0;b<this.transforms.length;b++)this.transforms[b].apply(a)};this.unapply=function(a){for(var b=this.transforms.length-1;0<=b;b--)this.transforms[b].unapply(a)};this.applyToPoint=function(a){for(var b=0;b<this.transforms.length;b++)this.transforms[b].applyToPoint(a)};a=e.trim(e.compressSpaces(a)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/);for(var b=0;b<a.length;b++){var c=e.trim(a[b].split("(")[0]),g=a[b].split("(")[1].replace(")",
""),g=new this.Type[c](g);g.type=c;this.transforms.push(g)}};e.AspectRatio=function(a,h,b,c,g,f,k,v,q,r){h=e.compressSpaces(h);h=h.replace(/^defer\s/,"");var s=h.split(" ")[0]||"xMidYMid";h=h.split(" ")[1]||"meet";var u=b/c,w=g/f,x=Math.min(u,w),y=Math.max(u,w);"meet"==h&&(c*=x,f*=x);"slice"==h&&(c*=y,f*=y);q=new e.Property("refX",q);r=new e.Property("refY",r);q.hasValue()&&r.hasValue()?a.translate(-x*q.toPixels("x"),-x*r.toPixels("y")):(s.match(/^xMid/)&&("meet"==h&&x==w||"slice"==h&&y==w)&&a.translate(b/
2-c/2,0),s.match(/YMid$/)&&("meet"==h&&x==u||"slice"==h&&y==u)&&a.translate(0,g/2-f/2),s.match(/^xMax/)&&("meet"==h&&x==w||"slice"==h&&y==w)&&a.translate(b-c,0),s.match(/YMax$/)&&("meet"==h&&x==u||"slice"==h&&y==u)&&a.translate(0,g-f));"none"==s?a.scale(u,w):"meet"==h?a.scale(x,x):"slice"==h&&a.scale(y,y);a.translate(null==k?0:-k,null==v?0:-v)};e.Element={};e.EmptyProperty=new e.Property("EMPTY","");e.Element.ElementBase=function(a){this.attributes={};this.styles={};this.children=[];this.attribute=
function(a,b){var c=this.attributes[a];if(null!=c)return c;!0==b&&(c=new e.Property(a,""),this.attributes[a]=c);return c||e.EmptyProperty};this.getHrefAttribute=function(){for(var a in this.attributes)if(a.match(/:href$/))return this.attributes[a];return e.EmptyProperty};this.style=function(a,b,c){var g=this.styles[a];if(null!=g)return g;var d=this.attribute(a);if(null!=d&&d.hasValue())return this.styles[a]=d;if(!0!=c&&(c=this.parent,null!=c&&(c=c.style(a),null!=c&&c.hasValue())))return c;!0==b&&
(g=new e.Property(a,""),this.styles[a]=g);return g||e.EmptyProperty};this.render=function(a){if("none"!=this.style("display").value&&"hidden"!=this.style("visibility").value){a.save();if(this.attribute("mask").hasValue()){var b=this.attribute("mask").getDefinition();null!=b&&b.apply(a,this)}else this.style("filter").hasValue()?(b=this.style("filter").getDefinition(),null!=b&&b.apply(a,this)):(this.setContext(a),this.renderChildren(a),this.clearContext(a));a.restore()}};this.setContext=function(a){};
this.clearContext=function(a){};this.renderChildren=function(a){for(var b=0;b<this.children.length;b++)this.children[b].render(a)};this.addChild=function(a,b){var c=a;b&&(c=e.CreateElement(a));c.parent=this;"title"!=c.type&&this.children.push(c)};if(null!=a&&1==a.nodeType){for(var h=0;h<a.childNodes.length;h++){var b=a.childNodes[h];1==b.nodeType&&this.addChild(b,!0);!this.captureTextNodes||3!=b.nodeType&&4!=b.nodeType||""!=e.trim(e.compressSpaces(b.nodeValue||b.text||""))&&this.addChild(new e.Element.tspan(b),
!1)}for(h=0;h<a.attributes.length;h++)b=a.attributes[h],this.attributes[b.nodeName]=new e.Property(b.nodeName,b.nodeValue);b=e.Styles[a.nodeName];if(null!=b)for(var c in b)this.styles[c]=b[c];if(this.attribute("class").hasValue())for(var h=e.compressSpaces(this.attribute("class").value).split(" "),g=0;g<h.length;g++){b=e.Styles["."+h[g]];if(null!=b)for(c in b)this.styles[c]=b[c];b=e.Styles[a.nodeName+"."+h[g]];if(null!=b)for(c in b)this.styles[c]=b[c]}if(this.attribute("id").hasValue()&&(b=e.Styles["#"+
this.attribute("id").value],null!=b))for(c in b)this.styles[c]=b[c];if(this.attribute("style").hasValue())for(b=this.attribute("style").value.split(";"),h=0;h<b.length;h++)""!=e.trim(b[h])&&(a=b[h].split(":"),c=e.trim(a[0]),a=e.trim(a[1]),this.styles[c]=new e.Property(c,a));this.attribute("id").hasValue()&&null==e.Definitions[this.attribute("id").value]&&(e.Definitions[this.attribute("id").value]=this)}};e.Element.RenderedElementBase=function(a){this.base=e.Element.ElementBase;this.base(a);this.setContext=
function(a){if(this.style("fill").isUrlDefinition()){var b=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=b&&(a.fillStyle=b)}else this.style("fill").hasValue()&&(b=this.style("fill"),"currentColor"==b.value&&(b.value=this.style("color").value),a.fillStyle="none"==b.value?"rgba(0,0,0,0)":b.value);this.style("fill-opacity").hasValue()&&(b=new e.Property("fill",a.fillStyle),b=b.addOpacity(this.style("fill-opacity")),a.fillStyle=b.value);this.style("stroke").isUrlDefinition()?
(b=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity")),null!=b&&(a.strokeStyle=b)):this.style("stroke").hasValue()&&(b=this.style("stroke"),"currentColor"==b.value&&(b.value=this.style("color").value),a.strokeStyle="none"==b.value?"rgba(0,0,0,0)":b.value);this.style("stroke-opacity").hasValue()&&(b=new e.Property("stroke",a.strokeStyle),b=b.addOpacity(this.style("stroke-opacity")),a.strokeStyle=b.value);this.style("stroke-width").hasValue()&&(b=this.style("stroke-width").toPixels(),
a.lineWidth=0==b?.001:b);this.style("stroke-linecap").hasValue()&&(a.lineCap=this.style("stroke-linecap").value);this.style("stroke-linejoin").hasValue()&&(a.lineJoin=this.style("stroke-linejoin").value);this.style("stroke-miterlimit").hasValue()&&(a.miterLimit=this.style("stroke-miterlimit").value);this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value&&(b=e.ToNumberArray(this.style("stroke-dasharray").value),"undefined"!=typeof a.setLineDash?a.setLineDash(b):"undefined"!=
typeof a.webkitLineDash?a.webkitLineDash=b:"undefined"==typeof a.mozDash||1==b.length&&0==b[0]||(a.mozDash=b),b=this.style("stroke-dashoffset").numValueOrDefault(1),"undefined"!=typeof a.lineDashOffset?a.lineDashOffset=b:"undefined"!=typeof a.webkitLineDashOffset?a.webkitLineDashOffset=b:"undefined"!=typeof a.mozDashOffset&&(a.mozDashOffset=b));"undefined"!=typeof a.font&&(a.font=e.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?
this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString());this.attribute("transform").hasValue()&&(new e.Transform(this.attribute("transform").value)).apply(a);this.style("clip-path",!1,!0).hasValue()&&(b=this.style("clip-path",!1,!0).getDefinition(),null!=b&&b.apply(a));this.style("opacity").hasValue()&&(a.globalAlpha=this.style("opacity").numValue())}};e.Element.RenderedElementBase.prototype=new e.Element.ElementBase;e.Element.PathElementBase=function(a){this.base=
e.Element.RenderedElementBase;this.base(a);this.path=function(a){null!=a&&a.beginPath();return new e.BoundingBox};this.renderChildren=function(a){this.path(a);e.Mouse.checkPath(this,a);""!=a.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?a.fill(this.style("fill-rule").value):a.fill());""!=a.strokeStyle&&a.stroke();var b=this.getMarkers();if(null!=b){if(this.style("marker-start").isUrlDefinition()){var c=this.style("marker-start").getDefinition();c.render(a,b[0][0],b[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var c=
this.style("marker-mid").getDefinition(),g=1;g<b.length-1;g++)c.render(a,b[g][0],b[g][1]);this.style("marker-end").isUrlDefinition()&&(c=this.style("marker-end").getDefinition(),c.render(a,b[b.length-1][0],b[b.length-1][1]))}};this.getBoundingBox=function(){return this.path()};this.getMarkers=function(){return null}};e.Element.PathElementBase.prototype=new e.Element.RenderedElementBase;e.Element.svg=function(a){this.base=e.Element.RenderedElementBase;this.base(a);this.baseClearContext=this.clearContext;
this.clearContext=function(a){this.baseClearContext(a);e.ViewPort.RemoveCurrent()};this.baseSetContext=this.setContext;this.setContext=function(a){a.strokeStyle="rgba(0,0,0,0)";a.lineCap="butt";a.lineJoin="miter";a.miterLimit=4;"undefined"!=typeof a.font&&"undefined"!=typeof window.getComputedStyle&&(a.font=window.getComputedStyle(a.canvas).getPropertyValue("font"));this.baseSetContext(a);this.attribute("x").hasValue()||(this.attribute("x",!0).value=0);this.attribute("y").hasValue()||(this.attribute("y",
!0).value=0);a.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var b=e.ViewPort.width(),c=e.ViewPort.height();this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%");this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%");if("undefined"==typeof this.root){var b=this.attribute("width").toPixels("x"),c=this.attribute("height").toPixels("y"),g=0,d=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(g=-this.attribute("refX").toPixels("x"),
d=-this.attribute("refY").toPixels("y"));"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(a.beginPath(),a.moveTo(g,d),a.lineTo(b,d),a.lineTo(b,c),a.lineTo(g,c),a.closePath(),a.clip())}e.ViewPort.SetCurrent(b,c);if(this.attribute("viewBox").hasValue()){var g=e.ToNumberArray(this.attribute("viewBox").value),d=g[0],f=g[1],b=g[2],c=g[3];e.AspectRatio(a,this.attribute("preserveAspectRatio").value,e.ViewPort.width(),b,e.ViewPort.height(),c,d,f,this.attribute("refX").value,this.attribute("refY").value);
e.ViewPort.RemoveCurrent();e.ViewPort.SetCurrent(g[2],g[3])}}};e.Element.svg.prototype=new e.Element.RenderedElementBase;e.Element.rect=function(a){this.base=e.Element.PathElementBase;this.base(a);this.path=function(a){var b=this.attribute("x").toPixels("x"),c=this.attribute("y").toPixels("y"),g=this.attribute("width").toPixels("x"),d=this.attribute("height").toPixels("y"),f=this.attribute("rx").toPixels("x"),k=this.attribute("ry").toPixels("y");this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&
(k=f);this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(f=k);f=Math.min(f,g/2);k=Math.min(k,d/2);null!=a&&(a.beginPath(),a.moveTo(b+f,c),a.lineTo(b+g-f,c),a.quadraticCurveTo(b+g,c,b+g,c+k),a.lineTo(b+g,c+d-k),a.quadraticCurveTo(b+g,c+d,b+g-f,c+d),a.lineTo(b+f,c+d),a.quadraticCurveTo(b,c+d,b,c+d-k),a.lineTo(b,c+k),a.quadraticCurveTo(b,c,b+f,c),a.closePath());return new e.BoundingBox(b,c,b+g,c+d)}};e.Element.rect.prototype=new e.Element.PathElementBase;e.Element.circle=function(a){this.base=
e.Element.PathElementBase;this.base(a);this.path=function(a){var b=this.attribute("cx").toPixels("x"),c=this.attribute("cy").toPixels("y"),g=this.attribute("r").toPixels();null!=a&&(a.beginPath(),a.arc(b,c,g,0,2*Math.PI,!0),a.closePath());return new e.BoundingBox(b-g,c-g,b+g,c+g)}};e.Element.circle.prototype=new e.Element.PathElementBase;e.Element.ellipse=function(a){this.base=e.Element.PathElementBase;this.base(a);this.path=function(a){var b=4*((Math.sqrt(2)-1)/3),c=this.attribute("rx").toPixels("x"),
g=this.attribute("ry").toPixels("y"),d=this.attribute("cx").toPixels("x"),f=this.attribute("cy").toPixels("y");null!=a&&(a.beginPath(),a.moveTo(d,f-g),a.bezierCurveTo(d+b*c,f-g,d+c,f-b*g,d+c,f),a.bezierCurveTo(d+c,f+b*g,d+b*c,f+g,d,f+g),a.bezierCurveTo(d-b*c,f+g,d-c,f+b*g,d-c,f),a.bezierCurveTo(d-c,f-b*g,d-b*c,f-g,d,f-g),a.closePath());return new e.BoundingBox(d-c,f-g,d+c,f+g)}};e.Element.ellipse.prototype=new e.Element.PathElementBase;e.Element.line=function(a){this.base=e.Element.PathElementBase;
this.base(a);this.getPoints=function(){return[new e.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new e.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]};this.path=function(a){var b=this.getPoints();null!=a&&(a.beginPath(),a.moveTo(b[0].x,b[0].y),a.lineTo(b[1].x,b[1].y));return new e.BoundingBox(b[0].x,b[0].y,b[1].x,b[1].y)};this.getMarkers=function(){var a=this.getPoints(),b=a[0].angleTo(a[1]);return[[a[0],b],[a[1],b]]}};e.Element.line.prototype=
new e.Element.PathElementBase;e.Element.polyline=function(a){this.base=e.Element.PathElementBase;this.base(a);this.points=e.CreatePath(this.attribute("points").value);this.path=function(a){var b=new e.BoundingBox(this.points[0].x,this.points[0].y);null!=a&&(a.beginPath(),a.moveTo(this.points[0].x,this.points[0].y));for(var c=1;c<this.points.length;c++)b.addPoint(this.points[c].x,this.points[c].y),null!=a&&a.lineTo(this.points[c].x,this.points[c].y);return b};this.getMarkers=function(){for(var a=[],
b=0;b<this.points.length-1;b++)a.push([this.points[b],this.points[b].angleTo(this.points[b+1])]);a.push([this.points[this.points.length-1],a[a.length-1][1]]);return a}};e.Element.polyline.prototype=new e.Element.PathElementBase;e.Element.polygon=function(a){this.base=e.Element.polyline;this.base(a);this.basePath=this.path;this.path=function(a){var b=this.basePath(a);null!=a&&(a.lineTo(this.points[0].x,this.points[0].y),a.closePath());return b}};e.Element.polygon.prototype=new e.Element.polyline;e.Element.path=
function(a){this.base=e.Element.PathElementBase;this.base(a);a=this.attribute("d").value;a=a.replace(/,/gm," ");a=a.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");a=a.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");a=a.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");a=a.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");a=a.replace(/([0-9])([+\-])/gm,"$1 $2");a=a.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");a=a.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,
"$1 $3 $4 ");a=e.compressSpaces(a);a=e.trim(a);this.PathParser=new function(a){this.tokens=a.split(" ");this.reset=function(){this.i=-1;this.previousCommand=this.command="";this.start=new e.Point(0,0);this.control=new e.Point(0,0);this.current=new e.Point(0,0);this.points=[];this.angles=[]};this.isEnd=function(){return this.i>=this.tokens.length-1};this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)};this.isRelativeCommand=function(){switch(this.command){case "m":case "l":case "h":case "v":case "c":case "s":case "q":case "t":case "a":case "z":return!0}return!1};
this.getToken=function(){this.i++;return this.tokens[this.i]};this.getScalar=function(){return parseFloat(this.getToken())};this.nextCommand=function(){this.previousCommand=this.command;this.command=this.getToken()};this.getPoint=function(){var a=new e.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(a)};this.getAsControlPoint=function(){var a=this.getPoint();return this.control=a};this.getAsCurrentPoint=function(){var a=this.getPoint();return this.current=a};this.getReflectedControlPoint=
function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase()?this.current:new e.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)};this.makeAbsolute=function(a){this.isRelativeCommand()&&(a.x+=this.current.x,a.y+=this.current.y);return a};this.addMarker=function(a,c,g){null!=g&&0<this.angles.length&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-
1]=this.points[this.points.length-1].angleTo(g));this.addMarkerAngle(a,null==c?null:c.angleTo(a))};this.addMarkerAngle=function(a,c){this.points.push(a);this.angles.push(c)};this.getMarkerPoints=function(){return this.points};this.getMarkerAngles=function(){for(var a=0;a<this.angles.length;a++)if(null==this.angles[a])for(var c=a+1;c<this.angles.length;c++)if(null!=this.angles[c]){this.angles[a]=this.angles[c];break}return this.angles}}(a);this.path=function(a){var b=this.PathParser;b.reset();var c=
new e.BoundingBox;for(null!=a&&a.beginPath();!b.isEnd();)switch(b.nextCommand(),b.command){case "M":case "m":var g=b.getAsCurrentPoint();b.addMarker(g);c.addPoint(g.x,g.y);null!=a&&a.moveTo(g.x,g.y);for(b.start=b.current;!b.isCommandOrEnd();)g=b.getAsCurrentPoint(),b.addMarker(g,b.start),c.addPoint(g.x,g.y),null!=a&&a.lineTo(g.x,g.y);break;case "L":case "l":for(;!b.isCommandOrEnd();){var d=b.current,g=b.getAsCurrentPoint();b.addMarker(g,d);c.addPoint(g.x,g.y);null!=a&&a.lineTo(g.x,g.y)}break;case "H":case "h":for(;!b.isCommandOrEnd();)g=
new e.Point((b.isRelativeCommand()?b.current.x:0)+b.getScalar(),b.current.y),b.addMarker(g,b.current),b.current=g,c.addPoint(b.current.x,b.current.y),null!=a&&a.lineTo(b.current.x,b.current.y);break;case "V":case "v":for(;!b.isCommandOrEnd();)g=new e.Point(b.current.x,(b.isRelativeCommand()?b.current.y:0)+b.getScalar()),b.addMarker(g,b.current),b.current=g,c.addPoint(b.current.x,b.current.y),null!=a&&a.lineTo(b.current.x,b.current.y);break;case "C":case "c":for(;!b.isCommandOrEnd();){var f=b.current,
d=b.getPoint(),k=b.getAsControlPoint(),g=b.getAsCurrentPoint();b.addMarker(g,k,d);c.addBezierCurve(f.x,f.y,d.x,d.y,k.x,k.y,g.x,g.y);null!=a&&a.bezierCurveTo(d.x,d.y,k.x,k.y,g.x,g.y)}break;case "S":case "s":for(;!b.isCommandOrEnd();)f=b.current,d=b.getReflectedControlPoint(),k=b.getAsControlPoint(),g=b.getAsCurrentPoint(),b.addMarker(g,k,d),c.addBezierCurve(f.x,f.y,d.x,d.y,k.x,k.y,g.x,g.y),null!=a&&a.bezierCurveTo(d.x,d.y,k.x,k.y,g.x,g.y);break;case "Q":case "q":for(;!b.isCommandOrEnd();)f=b.current,
k=b.getAsControlPoint(),g=b.getAsCurrentPoint(),b.addMarker(g,k,k),c.addQuadraticCurve(f.x,f.y,k.x,k.y,g.x,g.y),null!=a&&a.quadraticCurveTo(k.x,k.y,g.x,g.y);break;case "T":case "t":for(;!b.isCommandOrEnd();)f=b.current,k=b.getReflectedControlPoint(),b.control=k,g=b.getAsCurrentPoint(),b.addMarker(g,k,k),c.addQuadraticCurve(f.x,f.y,k.x,k.y,g.x,g.y),null!=a&&a.quadraticCurveTo(k.x,k.y,g.x,g.y);break;case "A":case "a":for(;!b.isCommandOrEnd();){var f=b.current,q=b.getScalar(),r=b.getScalar(),d=b.getScalar()*
(Math.PI/180),s=b.getScalar(),k=b.getScalar(),g=b.getAsCurrentPoint(),u=new e.Point(Math.cos(d)*(f.x-g.x)/2+Math.sin(d)*(f.y-g.y)/2,-Math.sin(d)*(f.x-g.x)/2+Math.cos(d)*(f.y-g.y)/2),w=Math.pow(u.x,2)/Math.pow(q,2)+Math.pow(u.y,2)/Math.pow(r,2);1<w&&(q*=Math.sqrt(w),r*=Math.sqrt(w));s=(s==k?-1:1)*Math.sqrt((Math.pow(q,2)*Math.pow(r,2)-Math.pow(q,2)*Math.pow(u.y,2)-Math.pow(r,2)*Math.pow(u.x,2))/(Math.pow(q,2)*Math.pow(u.y,2)+Math.pow(r,2)*Math.pow(u.x,2)));isNaN(s)&&(s=0);var x=new e.Point(s*q*u.y/
r,s*-r*u.x/q),f=new e.Point((f.x+g.x)/2+Math.cos(d)*x.x-Math.sin(d)*x.y,(f.y+g.y)/2+Math.sin(d)*x.x+Math.cos(d)*x.y),y=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))},B=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(y(a)*y(b))},A=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(B(a,b))},s=A([1,0],[(u.x-x.x)/q,(u.y-x.y)/r]),w=[(u.x-x.x)/q,(u.y-x.y)/r],x=[(-u.x-x.x)/q,(-u.y-x.y)/r],u=A(w,x);-1>=B(w,x)&&(u=Math.PI);1<=B(w,x)&&(u=0);w=1-k?1:-1;x=s+u/2*w;A=new e.Point(f.x+q*Math.cos(x),
f.y+r*Math.sin(x));b.addMarkerAngle(A,x-w*Math.PI/2);b.addMarkerAngle(g,x-w*Math.PI);c.addPoint(g.x,g.y);null!=a&&(B=q>r?q:r,g=q>r?1:q/r,q=q>r?r/q:1,a.translate(f.x,f.y),a.rotate(d),a.scale(g,q),a.arc(0,0,B,s,s+u,1-k),a.scale(1/g,1/q),a.rotate(-d),a.translate(-f.x,-f.y))}break;case "Z":case "z":null!=a&&a.closePath(),b.current=b.start}return c};this.getMarkers=function(){for(var a=this.PathParser.getMarkerPoints(),b=this.PathParser.getMarkerAngles(),c=[],g=0;g<a.length;g++)c.push([a[g],b[g]]);return c}};
e.Element.path.prototype=new e.Element.PathElementBase;e.Element.pattern=function(a){this.base=e.Element.ElementBase;this.base(a);this.createPattern=function(a,b){var c=this.attribute("width").toPixels("x",!0),g=this.attribute("height").toPixels("y",!0),d=new e.Element.svg;d.attributes.viewBox=new e.Property("viewBox",this.attribute("viewBox").value);d.attributes.width=new e.Property("width",c+"px");d.attributes.height=new e.Property("height",g+"px");d.attributes.transform=new e.Property("transform",
this.attribute("patternTransform").value);d.children=this.children;var f=document.createElement("canvas");f.width=c;f.height=g;c=f.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&c.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(g=-1;1>=g;g++)for(var k=-1;1>=k;k++)c.save(),c.translate(g*f.width,k*f.height),d.render(c),c.restore();return a.createPattern(f,"repeat")}};e.Element.pattern.prototype=new e.Element.ElementBase;e.Element.marker=
function(a){this.base=e.Element.ElementBase;this.base(a);this.baseRender=this.render;this.render=function(a,b,c){a.translate(b.x,b.y);"auto"==this.attribute("orient").valueOrDefault("auto")&&a.rotate(c);"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&a.scale(a.lineWidth,a.lineWidth);a.save();var g=new e.Element.svg;g.attributes.viewBox=new e.Property("viewBox",this.attribute("viewBox").value);g.attributes.refX=new e.Property("refX",this.attribute("refX").value);g.attributes.refY=
new e.Property("refY",this.attribute("refY").value);g.attributes.width=new e.Property("width",this.attribute("markerWidth").value);g.attributes.height=new e.Property("height",this.attribute("markerHeight").value);g.attributes.fill=new e.Property("fill",this.attribute("fill").valueOrDefault("black"));g.attributes.stroke=new e.Property("stroke",this.attribute("stroke").valueOrDefault("none"));g.children=this.children;g.render(a);a.restore();"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&
a.scale(1/a.lineWidth,1/a.lineWidth);"auto"==this.attribute("orient").valueOrDefault("auto")&&a.rotate(-c);a.translate(-b.x,-b.y)}};e.Element.marker.prototype=new e.Element.ElementBase;e.Element.defs=function(a){this.base=e.Element.ElementBase;this.base(a);this.render=function(a){}};e.Element.defs.prototype=new e.Element.ElementBase;e.Element.GradientBase=function(a){this.base=e.Element.ElementBase;this.base(a);this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox");
this.stops=[];for(a=0;a<this.children.length;a++){var f=this.children[a];"stop"==f.type&&this.stops.push(f)}this.getGradient=function(){};this.createGradient=function(a,c,g){var d=this;this.getHrefAttribute().hasValue()&&(d=this.getHrefAttribute().getDefinition());var f=function(a){return g.hasValue()?(new e.Property("color",a)).addOpacity(g).value:a};a=this.getGradient(a,c);if(null==a)return f(d.stops[d.stops.length-1].color);for(c=0;c<d.stops.length;c++)a.addColorStop(d.stops[c].offset,f(d.stops[c].color));
return this.attribute("gradientTransform").hasValue()?(d=e.ViewPort.viewPorts[0],f=new e.Element.rect,f.attributes.x=new e.Property("x",-e.MAX_VIRTUAL_PIXELS/3),f.attributes.y=new e.Property("y",-e.MAX_VIRTUAL_PIXELS/3),f.attributes.width=new e.Property("width",e.MAX_VIRTUAL_PIXELS),f.attributes.height=new e.Property("height",e.MAX_VIRTUAL_PIXELS),c=new e.Element.g,c.attributes.transform=new e.Property("transform",this.attribute("gradientTransform").value),c.children=[f],f=new e.Element.svg,f.attributes.x=
new e.Property("x",0),f.attributes.y=new e.Property("y",0),f.attributes.width=new e.Property("width",d.width),f.attributes.height=new e.Property("height",d.height),f.children=[c],c=document.createElement("canvas"),c.width=d.width,c.height=d.height,d=c.getContext("2d"),d.fillStyle=a,f.render(d),d.createPattern(c,"no-repeat")):a}};e.Element.GradientBase.prototype=new e.Element.ElementBase;e.Element.linearGradient=function(a){this.base=e.Element.GradientBase;this.base(a);this.getGradient=function(a,
b){var c="objectBoundingBox"==this.gradientUnits?b.getBoundingBox():null;this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var g="objectBoundingBox"==this.gradientUnits?c.x()+c.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),d="objectBoundingBox"==this.gradientUnits?
c.y()+c.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),e="objectBoundingBox"==this.gradientUnits?c.x()+c.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),c="objectBoundingBox"==this.gradientUnits?c.y()+c.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return g==e&&d==c?null:a.createLinearGradient(g,d,e,c)}};e.Element.linearGradient.prototype=new e.Element.GradientBase;e.Element.radialGradient=function(a){this.base=
e.Element.GradientBase;this.base(a);this.getGradient=function(a,b){var c=b.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%");this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%");this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var g="objectBoundingBox"==this.gradientUnits?c.x()+c.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),d="objectBoundingBox"==this.gradientUnits?c.y()+c.height()*this.attribute("cy").numValue():
this.attribute("cy").toPixels("y"),e=g,f=d;this.attribute("fx").hasValue()&&(e="objectBoundingBox"==this.gradientUnits?c.x()+c.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x"));this.attribute("fy").hasValue()&&(f="objectBoundingBox"==this.gradientUnits?c.y()+c.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));c="objectBoundingBox"==this.gradientUnits?(c.width()+c.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return a.createRadialGradient(e,
f,0,g,d,c)}};e.Element.radialGradient.prototype=new e.Element.GradientBase;e.Element.stop=function(a){this.base=e.Element.ElementBase;this.base(a);this.offset=this.attribute("offset").numValue();0>this.offset&&(this.offset=0);1<this.offset&&(this.offset=1);a=this.style("stop-color");this.style("stop-opacity").hasValue()&&(a=a.addOpacity(this.style("stop-opacity")));this.color=a.value};e.Element.stop.prototype=new e.Element.ElementBase;e.Element.AnimateBase=function(a){this.base=e.Element.ElementBase;
this.base(a);e.Animations.push(this);this.duration=0;this.begin=this.attribute("begin").toMilliseconds();this.maxDuration=this.begin+this.attribute("dur").toMilliseconds();this.getProperty=function(){var a=this.attribute("attributeType").value,b=this.attribute("attributeName").value;return"CSS"==a?this.parent.style(b,!0):this.parent.attribute(b,!0)};this.initialValue=null;this.initialUnits="";this.removed=!1;this.calcValue=function(){return""};this.update=function(a){null==this.initialValue&&(this.initialValue=
this.getProperty().value,this.initialUnits=this.getProperty().getUnits());if(this.duration>this.maxDuration){if("indefinite"==this.attribute("repeatCount").value||"indefinite"==this.attribute("repeatDur").value)this.duration=0;else if("freeze"==this.attribute("fill").valueOrDefault("remove")&&!this.frozen)this.frozen=!0,this.parent.animationFrozen=!0,this.parent.animationFrozenValue=this.getProperty().value;else if("remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed)return this.removed=
!0,this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue,!0;return!1}this.duration+=a;a=!1;this.begin<this.duration&&(a=this.calcValue(),this.attribute("type").hasValue()&&(a=this.attribute("type").value+"("+a+")"),this.getProperty().value=a,a=!0);return a};this.from=this.attribute("from");this.to=this.attribute("to");this.values=this.attribute("values");this.values.hasValue()&&(this.values.value=this.values.value.split(";"));this.progress=function(){var a=
{progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var b=a.progress*(this.values.value.length-1),c=Math.floor(b),g=Math.ceil(b);a.from=new e.Property("from",parseFloat(this.values.value[c]));a.to=new e.Property("to",parseFloat(this.values.value[g]));a.progress=(b-c)/(g-c)}else a.from=this.from,a.to=this.to;return a}};e.Element.AnimateBase.prototype=new e.Element.ElementBase;e.Element.animate=function(a){this.base=e.Element.AnimateBase;this.base(a);this.calcValue=
function(){var a=this.progress();return a.from.numValue()+(a.to.numValue()-a.from.numValue())*a.progress+this.initialUnits}};e.Element.animate.prototype=new e.Element.AnimateBase;e.Element.animateColor=function(a){this.base=e.Element.AnimateBase;this.base(a);this.calcValue=function(){var a=this.progress(),b=new RGBColor(a.from.value),c=new RGBColor(a.to.value);if(b.ok&&c.ok){var g=b.g+(c.g-b.g)*a.progress,d=b.b+(c.b-b.b)*a.progress;return"rgb("+parseInt(b.r+(c.r-b.r)*a.progress,10)+","+parseInt(g,
10)+","+parseInt(d,10)+")"}return this.attribute("from").value}};e.Element.animateColor.prototype=new e.Element.AnimateBase;e.Element.animateTransform=function(a){this.base=e.Element.AnimateBase;this.base(a);this.calcValue=function(){for(var a=this.progress(),b=e.ToNumberArray(a.from.value),c=e.ToNumberArray(a.to.value),g="",d=0;d<b.length;d++)g+=b[d]+(c[d]-b[d])*a.progress+" ";return g}};e.Element.animateTransform.prototype=new e.Element.animate;e.Element.font=function(a){this.base=e.Element.ElementBase;
this.base(a);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.isArabic=this.isRTL=!1;this.missingGlyph=this.fontFace=null;this.glyphs=[];for(a=0;a<this.children.length;a++){var f=this.children[a];"font-face"==f.type?(this.fontFace=f,f.style("font-family").hasValue()&&(e.Definitions[f.style("font-family").value]=this)):"missing-glyph"==f.type?this.missingGlyph=f:"glyph"==f.type&&(""!=f.arabicForm?(this.isArabic=this.isRTL=!0,"undefined"==typeof this.glyphs[f.unicode]&&(this.glyphs[f.unicode]=
[]),this.glyphs[f.unicode][f.arabicForm]=f):this.glyphs[f.unicode]=f)}};e.Element.font.prototype=new e.Element.ElementBase;e.Element.fontface=function(a){this.base=e.Element.ElementBase;this.base(a);this.ascent=this.attribute("ascent").value;this.descent=this.attribute("descent").value;this.unitsPerEm=this.attribute("units-per-em").numValue()};e.Element.fontface.prototype=new e.Element.ElementBase;e.Element.missingglyph=function(a){this.base=e.Element.path;this.base(a);this.horizAdvX=0};e.Element.missingglyph.prototype=
new e.Element.path;e.Element.glyph=function(a){this.base=e.Element.path;this.base(a);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.unicode=this.attribute("unicode").value;this.arabicForm=this.attribute("arabic-form").value};e.Element.glyph.prototype=new e.Element.path;e.Element.text=function(a){this.captureTextNodes=!0;this.base=e.Element.RenderedElementBase;this.base(a);this.baseSetContext=this.setContext;this.setContext=function(a){this.baseSetContext(a);var b=this.style("dominant-baseline").toTextBaseline();
null==b&&(b=this.style("alignment-baseline").toTextBaseline());null!=b&&(a.textBaseline=b)};this.getBoundingBox=function(){var a=this.attribute("x").toPixels("x"),b=this.attribute("y").toPixels("y"),c=this.parent.style("font-size").numValueOrDefault(e.Font.Parse(e.ctx.font).fontSize);return new e.BoundingBox(a,b-c,a+Math.floor(2*c/3)*this.children[0].getText().length,b)};this.renderChildren=function(a){this.x=this.attribute("x").toPixels("x");this.y=this.attribute("y").toPixels("y");this.x+=this.getAnchorDelta(a,
this,0);for(var b=0;b<this.children.length;b++)this.renderChild(a,this,b)};this.getAnchorDelta=function(a,b,c){var g=this.style("text-anchor").valueOrDefault("start");if("start"!=g){for(var d=0,e=c;e<b.children.length;e++){var f=b.children[e];if(e>c&&f.attribute("x").hasValue())break;d+=f.measureTextRecursive(a)}return-1*("end"==g?d:d/2)}return 0};this.renderChild=function(a,b,c){var g=b.children[c];g.attribute("x").hasValue()?(g.x=g.attribute("x").toPixels("x")+this.getAnchorDelta(a,b,c),g.attribute("dx").hasValue()&&
(g.x+=g.attribute("dx").toPixels("x"))):(this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),g.attribute("dx").hasValue()&&(this.x+=g.attribute("dx").toPixels("x")),g.x=this.x);this.x=g.x+g.measureText(a);g.attribute("y").hasValue()?(g.y=g.attribute("y").toPixels("y"),g.attribute("dy").hasValue()&&(g.y+=g.attribute("dy").toPixels("y"))):(this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),g.attribute("dy").hasValue()&&(this.y+=g.attribute("dy").toPixels("y")),
g.y=this.y);this.y=g.y;g.render(a);for(c=0;c<g.children.length;c++)this.renderChild(a,g,c)}};e.Element.text.prototype=new e.Element.RenderedElementBase;e.Element.TextElementBase=function(a){this.base=e.Element.RenderedElementBase;this.base(a);this.getGlyph=function(a,b,c){var g=b[c],d=null;if(a.isArabic){var e="isolated";(0==c||" "==b[c-1])&&c<b.length-2&&" "!=b[c+1]&&(e="terminal");0<c&&" "!=b[c-1]&&c<b.length-2&&" "!=b[c+1]&&(e="medial");0<c&&" "!=b[c-1]&&(c==b.length-1||" "==b[c+1])&&(e="initial");
"undefined"!=typeof a.glyphs[g]&&(d=a.glyphs[g][e],null==d&&"glyph"==a.glyphs[g].type&&(d=a.glyphs[g]))}else d=a.glyphs[g];null==d&&(d=a.missingGlyph);return d};this.renderChildren=function(a){var b=this.parent.style("font-family").getDefinition();if(null!=b){var c=this.parent.style("font-size").numValueOrDefault(e.Font.Parse(e.ctx.font).fontSize),g=this.parent.style("font-style").valueOrDefault(e.Font.Parse(e.ctx.font).fontStyle),d=this.getText();b.isRTL&&(d=d.split("").reverse().join(""));for(var f=
e.ToNumberArray(this.parent.attribute("dx").value),k=0;k<d.length;k++){var q=this.getGlyph(b,d,k),r=c/b.fontFace.unitsPerEm;a.translate(this.x,this.y);a.scale(r,-r);var s=a.lineWidth;a.lineWidth=a.lineWidth*b.fontFace.unitsPerEm/c;"italic"==g&&a.transform(1,0,.4,1,0,0);q.render(a);"italic"==g&&a.transform(1,0,-.4,1,0,0);a.lineWidth=s;a.scale(1/r,-1/r);a.translate(-this.x,-this.y);this.x+=c*(q.horizAdvX||b.horizAdvX)/b.fontFace.unitsPerEm;"undefined"==typeof f[k]||isNaN(f[k])||(this.x+=f[k])}}else""!=
a.fillStyle&&a.fillText(e.compressSpaces(this.getText()),this.x,this.y),""!=a.strokeStyle&&a.strokeText(e.compressSpaces(this.getText()),this.x,this.y)};this.getText=function(){};this.measureTextRecursive=function(a){for(var b=this.measureText(a),c=0;c<this.children.length;c++)b+=this.children[c].measureTextRecursive(a);return b};this.measureText=function(a){var b=this.parent.style("font-family").getDefinition();if(null!=b){a=this.parent.style("font-size").numValueOrDefault(e.Font.Parse(e.ctx.font).fontSize);
var c=0,g=this.getText();b.isRTL&&(g=g.split("").reverse().join(""));for(var d=e.ToNumberArray(this.parent.attribute("dx").value),f=0;f<g.length;f++){var k=this.getGlyph(b,g,f),c=c+(k.horizAdvX||b.horizAdvX)*a/b.fontFace.unitsPerEm;"undefined"==typeof d[f]||isNaN(d[f])||(c+=d[f])}return c}b=e.compressSpaces(this.getText());if(!a.measureText)return 10*b.length;a.save();this.setContext(a);b=a.measureText(b).width;a.restore();return b}};e.Element.TextElementBase.prototype=new e.Element.RenderedElementBase;
e.Element.tspan=function(a){this.captureTextNodes=!0;this.base=e.Element.TextElementBase;this.base(a);this.text=a.nodeValue||a.text||"";this.getText=function(){return this.text}};e.Element.tspan.prototype=new e.Element.TextElementBase;e.Element.tref=function(a){this.base=e.Element.TextElementBase;this.base(a);this.getText=function(){var a=this.getHrefAttribute().getDefinition();if(null!=a)return a.children[0].getText()}};e.Element.tref.prototype=new e.Element.TextElementBase;e.Element.a=function(a){this.base=
e.Element.TextElementBase;this.base(a);this.hasText=!0;for(var f=0;f<a.childNodes.length;f++)3!=a.childNodes[f].nodeType&&(this.hasText=!1);this.text=this.hasText?a.childNodes[0].nodeValue:"";this.getText=function(){return this.text};this.baseRenderChildren=this.renderChildren;this.renderChildren=function(a){if(this.hasText){this.baseRenderChildren(a);var c=new e.Property("fontSize",e.Font.Parse(e.ctx.font).fontSize);e.Mouse.checkBoundingBox(this,new e.BoundingBox(this.x,this.y-c.toPixels("y"),this.x+
this.measureText(a),this.y))}else c=new e.Element.g,c.children=this.children,c.parent=this,c.render(a)};this.onclick=function(){window.open(this.getHrefAttribute().value)};this.onmousemove=function(){e.ctx.canvas.style.cursor="pointer"}};e.Element.a.prototype=new e.Element.TextElementBase;e.Element.image=function(a){this.base=e.Element.RenderedElementBase;this.base(a);var f=this.getHrefAttribute().value,b=f.match(/\.svg$/);e.Images.push(this);this.loaded=!1;if(b)this.img=e.ajax(f),this.loaded=!0;
else{this.img=document.createElement("img");!0==e.opts.useCORS&&(this.img.crossOrigin="Anonymous");var c=this;this.img.onload=function(){c.loaded=!0};this.img.onerror=function(){e.log('ERROR: image "'+f+'" not found');c.loaded=!0};this.img.src=f}this.renderChildren=function(a){var c=this.attribute("x").toPixels("x"),d=this.attribute("y").toPixels("y"),f=this.attribute("width").toPixels("x"),h=this.attribute("height").toPixels("y");0!=f&&0!=h&&(a.save(),b?a.drawSvg(this.img,c,d,f,h):(a.translate(c,
d),e.AspectRatio(a,this.attribute("preserveAspectRatio").value,f,this.img.width,h,this.img.height,0,0),a.drawImage(this.img,0,0)),a.restore())};this.getBoundingBox=function(){var a=this.attribute("x").toPixels("x"),b=this.attribute("y").toPixels("y"),c=this.attribute("width").toPixels("x"),d=this.attribute("height").toPixels("y");return new e.BoundingBox(a,b,a+c,b+d)}};e.Element.image.prototype=new e.Element.RenderedElementBase;e.Element.g=function(a){this.base=e.Element.RenderedElementBase;this.base(a);
this.getBoundingBox=function(){for(var a=new e.BoundingBox,b=0;b<this.children.length;b++)a.addBoundingBox(this.children[b].getBoundingBox());return a}};e.Element.g.prototype=new e.Element.RenderedElementBase;e.Element.symbol=function(a){this.base=e.Element.RenderedElementBase;this.base(a);this.render=function(a){}};e.Element.symbol.prototype=new e.Element.RenderedElementBase;e.Element.style=function(a){this.base=e.Element.ElementBase;this.base(a);for(var f="",b=0;b<a.childNodes.length;b++)f+=a.childNodes[b].nodeValue;
f=f.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");f=e.compressSpaces(f);a=f.split("}");for(b=0;b<a.length;b++)if(""!=e.trim(a[b]))for(var c=a[b].split("{"),f=c[0].split(","),c=c[1].split(";"),g=0;g<f.length;g++){var l=e.trim(f[g]);if(""!=l){for(var k={},v=0;v<c.length;v++){var q=c[v].indexOf(":"),r=c[v].substr(0,q),q=c[v].substr(q+1,c[v].length-q);null!=r&&null!=q&&(k[e.trim(r)]=new e.Property(e.trim(r),e.trim(q)))}e.Styles[l]=k;if("@font-face"==l)for(l=k["font-family"].value.replace(/"/g,
""),k=k.src.value.split(","),v=0;v<k.length;v++)if(0<k[v].indexOf('format("svg")'))for(r=k[v].indexOf("url"),q=k[v].indexOf(")",r),r=k[v].substr(r+5,q-r-6),r=e.parseXml(e.ajax(r)).getElementsByTagName("font"),q=0;q<r.length;q++){var s=e.CreateElement(r[q]);e.Definitions[l]=s}}}};e.Element.style.prototype=new e.Element.ElementBase;e.Element.use=function(a){this.base=e.Element.RenderedElementBase;this.base(a);this.baseSetContext=this.setContext;this.setContext=function(a){this.baseSetContext(a);this.attribute("x").hasValue()&&
a.translate(this.attribute("x").toPixels("x"),0);this.attribute("y").hasValue()&&a.translate(0,this.attribute("y").toPixels("y"))};var f=this.getHrefAttribute().getDefinition();this.path=function(a){null!=f&&f.path(a)};this.getBoundingBox=function(){if(null!=f)return f.getBoundingBox()};this.renderChildren=function(a){if(null!=f){var c=f;"symbol"==f.type&&(c=new e.Element.svg,c.type="svg",c.attributes.viewBox=new e.Property("viewBox",f.attribute("viewBox").value),c.attributes.preserveAspectRatio=
new e.Property("preserveAspectRatio",f.attribute("preserveAspectRatio").value),c.attributes.overflow=new e.Property("overflow",f.attribute("overflow").value),c.children=f.children);"svg"==c.type&&(this.attribute("width").hasValue()&&(c.attributes.width=new e.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(c.attributes.height=new e.Property("height",this.attribute("height").value)));var g=c.parent;c.parent=null;c.render(a);c.parent=g}}};e.Element.use.prototype=
new e.Element.RenderedElementBase;e.Element.mask=function(a){this.base=e.Element.ElementBase;this.base(a);this.apply=function(a,b){var c=this.attribute("x").toPixels("x"),g=this.attribute("y").toPixels("y"),d=this.attribute("width").toPixels("x"),f=this.attribute("height").toPixels("y");if(0==d&&0==f){f=new e.BoundingBox;for(c=0;c<this.children.length;c++)f.addBoundingBox(this.children[c].getBoundingBox());c=Math.floor(f.x1);g=Math.floor(f.y1);d=Math.floor(f.width());f=Math.floor(f.height())}var k=
b.attribute("mask").value;b.attribute("mask").value="";var q=document.createElement("canvas");q.width=c+d;q.height=g+f;var r=q.getContext("2d");this.renderChildren(r);var s=document.createElement("canvas");s.width=c+d;s.height=g+f;var u=s.getContext("2d");b.render(u);u.globalCompositeOperation="destination-in";u.fillStyle=r.createPattern(q,"no-repeat");u.fillRect(0,0,c+d,g+f);a.fillStyle=u.createPattern(s,"no-repeat");a.fillRect(0,0,c+d,g+f);b.attribute("mask").value=k};this.render=function(a){}};
e.Element.mask.prototype=new e.Element.ElementBase;e.Element.clipPath=function(a){this.base=e.Element.ElementBase;this.base(a);this.apply=function(a){for(var b=0;b<this.children.length;b++){var c=this.children[b];if("undefined"!=typeof c.path){var g=null;c.attribute("transform").hasValue()&&(g=new e.Transform(c.attribute("transform").value),g.apply(a));c.path(a);a.clip();g&&g.unapply(a)}}};this.render=function(a){}};e.Element.clipPath.prototype=new e.Element.ElementBase;e.Element.filter=function(a){this.base=
e.Element.ElementBase;this.base(a);this.apply=function(a,b){var c=b.getBoundingBox(),g=Math.floor(c.x1),d=Math.floor(c.y1),e=Math.floor(c.width()),c=Math.floor(c.height()),f=b.style("filter").value;b.style("filter").value="";for(var k=0,r=0,s=0;s<this.children.length;s++)var u=this.children[s].extraFilterDistance||0,k=Math.max(k,u),r=Math.max(r,u);u=document.createElement("canvas");u.width=e+2*k;u.height=c+2*r;var w=u.getContext("2d");w.translate(-g+k,-d+r);b.render(w);for(s=0;s<this.children.length;s++)this.children[s].apply(w,
0,0,e+2*k,c+2*r);a.drawImage(u,0,0,e+2*k,c+2*r,g-k,d-r,e+2*k,c+2*r);b.style("filter",!0).value=f};this.render=function(a){}};e.Element.filter.prototype=new e.Element.ElementBase;e.Element.feMorphology=function(a){this.base=e.Element.ElementBase;this.base(a);this.apply=function(a,b,c,g,d){}};e.Element.feMorphology.prototype=new e.Element.ElementBase;e.Element.feComposite=function(a){this.base=e.Element.ElementBase;this.base(a);this.apply=function(a,b,c,g,d){}};e.Element.feComposite.prototype=new e.Element.ElementBase;
e.Element.feColorMatrix=function(a){function f(a,c){var d=b[a];return d*(0>d?c-255:c)}this.base=e.Element.ElementBase;this.base(a);var b=e.ToNumberArray(this.attribute("values").value);switch(this.attribute("type").valueOrDefault("matrix")){case "saturate":a=b[0];b=[.213+.787*a,.715-.715*a,.072-.072*a,0,0,.213-.213*a,.715+.285*a,.072-.072*a,0,0,.213-.213*a,.715-.715*a,.072+.928*a,0,0,0,0,0,1,0,0,0,0,0,1];break;case "hueRotate":var c=b[0]*Math.PI/180;a=function(a,b,d){return a+Math.cos(c)*b+Math.sin(c)*
d};b=[a(.213,.787,-.213),a(.715,-.715,-.715),a(.072,-.072,.928),0,0,a(.213,-.213,.143),a(.715,.285,.14),a(.072,-.072,-.283),0,0,a(.213,-.213,-.787),a(.715,-.715,.715),a(.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case "luminanceToAlpha":b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}this.apply=function(a,b,c,d,e){var k=a.getImageData(0,0,d,e);for(c=0;c<e;c++)for(b=0;b<d;b++){var s=k.data[c*d*4+4*b+0],u=k.data[c*d*4+4*b+1],w=k.data[c*d*4+4*b+2],x=k.data[c*d*4+4*b+3],y=f(0,s)+
f(1,u)+f(2,w)+f(3,x)+f(4,1);k.data[c*d*4+4*b+0]=y;y=f(5,s)+f(6,u)+f(7,w)+f(8,x)+f(9,1);k.data[c*d*4+4*b+1]=y;y=f(10,s)+f(11,u)+f(12,w)+f(13,x)+f(14,1);k.data[c*d*4+4*b+2]=y;s=f(15,s)+f(16,u)+f(17,w)+f(18,x)+f(19,1);k.data[c*d*4+4*b+3]=s}a.clearRect(0,0,d,e);a.putImageData(k,0,0)}};e.Element.feColorMatrix.prototype=new e.Element.ElementBase;e.Element.feGaussianBlur=function(a){this.base=e.Element.ElementBase;this.base(a);this.extraFilterDistance=this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue());
this.apply=function(a,b,c,g,d){"undefined"==typeof stackBlurCanvasRGBA?e.log("ERROR: StackBlur.js must be included for blur to work"):(a.canvas.id=e.UniqueId(),a.canvas.style.display="none",document.body.appendChild(a.canvas),stackBlurCanvasRGBA(a.canvas.id,b,c,g,d,this.blurRadius),document.body.removeChild(a.canvas))}};e.Element.feGaussianBlur.prototype=new e.Element.ElementBase;e.Element.title=function(a){};e.Element.title.prototype=new e.Element.ElementBase;e.Element.desc=function(a){};e.Element.desc.prototype=
new e.Element.ElementBase;e.Element.MISSING=function(a){e.log("ERROR: Element '"+a.nodeName+"' not yet implemented.")};e.Element.MISSING.prototype=new e.Element.ElementBase;e.CreateElement=function(a){var f=a.nodeName.replace(/^[^:]+:/,""),f=f.replace(/\-/g,""),b=null,b="undefined"!=typeof e.Element[f]?new e.Element[f](a):new e.Element.MISSING(a);b.type=a.nodeName;return b};e.load=function(a,f){e.loadXml(a,e.ajax(f))};e.loadXml=function(a,f){e.loadXmlDoc(a,e.parseXml(f))};e.loadXmlDoc=function(a,
f){e.init(a);var b=function(b){for(var c=a.canvas;c;)b.x-=c.offsetLeft,b.y-=c.offsetTop,c=c.offsetParent;window.scrollX&&(b.x+=window.scrollX);window.scrollY&&(b.y+=window.scrollY);return b};!0!=e.opts.ignoreMouse&&(a.canvas.onclick=function(a){a=b(new e.Point(null!=a?a.clientX:event.clientX,null!=a?a.clientY:event.clientY));e.Mouse.onclick(a.x,a.y)},a.canvas.onmousemove=function(a){a=b(new e.Point(null!=a?a.clientX:event.clientX,null!=a?a.clientY:event.clientY));e.Mouse.onmousemove(a.x,a.y)});var c=
e.CreateElement(f.documentElement),g=c.root=!0,l=function(){e.ViewPort.Clear();a.canvas.parentNode&&e.ViewPort.SetCurrent(a.canvas.parentNode.clientWidth,a.canvas.parentNode.clientHeight);!0!=e.opts.ignoreDimensions&&(c.style("width").hasValue()&&(a.canvas.width=c.style("width").toPixels("x"),a.canvas.style.width=a.canvas.width+"px"),c.style("height").hasValue()&&(a.canvas.height=c.style("height").toPixels("y"),a.canvas.style.height=a.canvas.height+"px"));var b=a.canvas.clientWidth||a.canvas.width,
l=a.canvas.clientHeight||a.canvas.height;!0==e.opts.ignoreDimensions&&c.style("width").hasValue()&&c.style("height").hasValue()&&(b=c.style("width").toPixels("x"),l=c.style("height").toPixels("y"));e.ViewPort.SetCurrent(b,l);null!=e.opts.offsetX&&(c.attribute("x",!0).value=e.opts.offsetX);null!=e.opts.offsetY&&(c.attribute("y",!0).value=e.opts.offsetY);if(null!=e.opts.scaleWidth||null!=e.opts.scaleHeight){var k=null,p=null,u=e.ToNumberArray(c.attribute("viewBox").value);null!=e.opts.scaleWidth&&(c.attribute("width").hasValue()?
k=c.attribute("width").toPixels("x")/e.opts.scaleWidth:isNaN(u[2])||(k=u[2]/e.opts.scaleWidth));null!=e.opts.scaleHeight&&(c.attribute("height").hasValue()?p=c.attribute("height").toPixels("y")/e.opts.scaleHeight:isNaN(u[3])||(p=u[3]/e.opts.scaleHeight));null==k&&(k=p);null==p&&(p=k);c.attribute("width",!0).value=e.opts.scaleWidth;c.attribute("height",!0).value=e.opts.scaleHeight;c.attribute("viewBox",!0).value="0 0 "+b*k+" "+l*p;c.attribute("preserveAspectRatio",!0).value="none"}!0!=e.opts.ignoreClear&&
a.clearRect(0,0,b,l);c.render(a);g&&(g=!1,"function"==typeof e.opts.renderCallback&&e.opts.renderCallback(f))},k=!0;e.ImagesLoaded()&&(k=!1,l());e.intervalID=setInterval(function(){var a=!1;k&&e.ImagesLoaded()&&(k=!1,a=!0);!0!=e.opts.ignoreMouse&&(a|=e.Mouse.hasEvents());if(!0!=e.opts.ignoreAnimation)for(var b=0;b<e.Animations.length;b++)a|=e.Animations[b].update(1E3/e.FRAMERATE);"function"==typeof e.opts.forceRedraw&&!0==e.opts.forceRedraw()&&(a=!0);a&&(l(),e.Mouse.runEvents())},1E3/e.FRAMERATE)};
e.stop=function(){e.intervalID&&clearInterval(e.intervalID)};e.Mouse=new function(){this.events=[];this.hasEvents=function(){return 0!=this.events.length};this.onclick=function(a,e){this.events.push({type:"onclick",x:a,y:e,run:function(a){if(a.onclick)a.onclick()}})};this.onmousemove=function(a,e){this.events.push({type:"onmousemove",x:a,y:e,run:function(a){if(a.onmousemove)a.onmousemove()}})};this.eventElements=[];this.checkPath=function(a,e){for(var b=0;b<this.events.length;b++){var c=this.events[b];
e.isPointInPath&&e.isPointInPath(c.x,c.y)&&(this.eventElements[b]=a)}};this.checkBoundingBox=function(a,e){for(var b=0;b<this.events.length;b++){var c=this.events[b];e.isPointInBox(c.x,c.y)&&(this.eventElements[b]=a)}};this.runEvents=function(){e.ctx.canvas.style.cursor="";for(var a=0;a<this.events.length;a++)for(var f=this.events[a],b=this.eventElements[a];b;)f.run(b),b=b.parent;this.events=[];this.eventElements=[]}};return e}this.canvg=function(k,e,f){if(null==k&&null==e&&null==f)for(e=document.querySelectorAll("svg"),
k=0;k<e.length;k++){f=e[k];var d=document.createElement("canvas");d.width=f.clientWidth;d.height=f.clientHeight;f.parentNode.insertBefore(d,f);f.parentNode.removeChild(f);var h=document.createElement("div");h.appendChild(f);canvg(d,h.innerHTML)}else{"string"==typeof k&&(k=document.getElementById(k));null!=k.svg&&k.svg.stop();f=a(f||{});if(1!=k.childNodes.length||"OBJECT"!=k.childNodes[0].nodeName)k.svg=f;k=k.getContext("2d");"undefined"!=typeof e.documentElement?f.loadXmlDoc(k,e):"<"==e.substr(0,
1)?f.loadXml(k,e):f.load(k,e)}}})();"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(a,k,e,f,d){canvg(this.canvas,a,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:k,offsetY:e,scaleWidth:f,scaleHeight:d})});
function RGBColor(a){this.ok=!1;"#"==a.charAt(0)&&(a=a.substr(1,6));a=a.replace(/ /g,"");a=a.toLowerCase();var k={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",
darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",
gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",
lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",
oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",
slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},e;for(e in k)a==e&&(a=k[e]);var f=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,
example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}];for(e=0;e<f.length;e++){var d=f[e].process,h=f[e].re.exec(a);h&&(channels=d(h),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=0>this.r||isNaN(this.r)?0:255<this.r?255:this.r;this.g=0>this.g||isNaN(this.g)?0:
255<this.g?255:this.g;this.b=0>this.b||isNaN(this.b)?0:255<this.b?255:this.b;this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"};this.toHex=function(){var a=this.r.toString(16),c=this.g.toString(16),g=this.b.toString(16);1==a.length&&(a="0"+a);1==c.length&&(c="0"+c);1==g.length&&(g="0"+g);return"#"+a+c+g};this.getHelpXML=function(){for(var a=[],c=0;c<f.length;c++)for(var g=f[c].example,e=0;e<g.length;e++)a[a.length]=g[e];for(var d in k)a[a.length]=d;g=document.createElement("ul");
g.setAttribute("id","rgbcolor-examples");for(c=0;c<a.length;c++)try{var h=document.createElement("li"),q=new RGBColor(a[c]),r=document.createElement("div");r.style.cssText="margin: 3px; border: 1px solid black; background:"+q.toHex()+"; color:"+q.toHex();r.appendChild(document.createTextNode("test"));var s=document.createTextNode(" "+a[c]+" -> "+q.toRGB()+" -> "+q.toHex());h.appendChild(r);h.appendChild(s);g.appendChild(h)}catch(u){}return g}}___JmolDate="$Date: 2014-05-07 15:54:44 -0500 (Wed, 07 May 2014) $";
___fullJmolProperties="src/org/jmol/viewer/Jmol.properties";___JmolVersion="14.1.15";
(function(a){function k(a){try{return a?new window.ActiveXObject("Microsoft.XMLHTTP"):new window.XMLHttpRequest}catch(f){}}a.ajaxSettings.xhr=void 0===window.ActiveXObject?k:function(){return(this.url==document.location||0==this.url.indexOf("http")||!this.isLocal)&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&k()||k(1)};a.extend(a.support,{iecors:!!window.XDomainRequest});a.support.iecors?a.ajaxTransport(function(a){return{send:function(f,d){var h=new window.XDomainRequest;h.onload=function(){d(200,
"OK",{text:h.responseText},{"Content-Type":h.contentType})};a.xhrFields&&(h.onerror=a.xhrFields.error,h.ontimeout=a.xhrFields.timeout);h.open(a.type,a.url);h.send(a.hasContent&&a.data||null)},abort:function(){xdr.abort()}}}):(a.ajaxSetup({accepts:{binary:"text/plain; charset=x-user-defined"},responseFields:{binary:"response"}}),a.ajaxTransport("binary",function(a){var f;return{send:function(d,h){var b=a.xhr();b.open(a.type,a.url,a.async);var c=!1;try{b.hasOwnProperty("responseType")&&(b.responseType=
"arraybuffer",c=!0)}catch(g){}try{!c&&b.overrideMimeType&&b.overrideMimeType("text/plain; charset=x-user-defined")}catch(l){}a.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");try{for(var k in d)b.setRequestHeader(k,d[k])}catch(v){}b.send(a.hasContent&&a.data||null);f=function(){var c=b.status,g="",d=b.getAllResponseHeaders(),l={};try{if(f&&4===b.readyState){f=void 0;try{l.text="string"===typeof b.responseText?b.responseText:null}catch(k){}try{l.binary=b.response}catch(p){}try{g=
b.statusText}catch(v){g=""}c||!a.isLocal||a.crossDomain?1223===c&&(c=204):c=l.text?200:404;h(c,g,l,d)}}catch(B){alert(B),h(-1,B)}};a.async?4===b.readyState?setTimeout(f):b.onreadystatechange=f:f()},abort:function(){}}}))})(jQuery);
(function(a,k,e,f){function d(d,b){function c(c){a(g).each(function(){self.Jmol&&(0<=b.indexOf("mouseup")||0<=b.indexOf("touchend"))&&Jmol._setMouseOwner(null);var g=a(this);this!==c.target&&!g.has(c.target).length&&g.triggerHandler(b,[c.target,c])})}b=b||d+f;var g=a(),e=d+"."+b+"-special-event";a.event.special[b]={setup:function(){g=g.add(this);1===g.length&&a(k).bind(e,c)},teardown:function(){self.Jmol&&Jmol._setMouseOwner(null);g=g.not(this);0===g.length&&a(k).unbind(e)},add:function(a){var b=
a.handler;a.handler=function(a,c){a.target=c;b.apply(this,arguments)}}}}a.map(e.split(" "),function(a){d(a)});d("focusin","focus"+f);d("focusout","blur"+f)})(jQuery,document,"click mousemove mouseup touchmove touchend","outjsmol");"undefined"==typeof jQuery&&alert("Note -- JSmoljQuery is required for JSmol, but it's not defined.");self.Jmol||(Jmol={});
Jmol._version||(Jmol=function(a){var k=function(a){return{header:a++,rear:a++,main:a++,image:a++,front:a++,fileOpener:a++,coverImage:a++,dialog:a++,menu:a+9E4,monitorZIndex:a+99999}},k={_version:"JSmol 14.1.14 Apr 27, 2014",_alertNoBinary:!0,_allowedJmolSize:[25,2048,300],_fileCache:null,_jarFile:null,_j2sPath:null,_use:null,_j2sLoadMonitorOpacity:90,_applets:{},_asynchronous:!0,_ajaxQueue:[],_getZOrders:k,_z:k(Jmol.z||9E3),_debugCode:!0,db:{_databasePrefixes:"$=:",_fileLoadScript:";if (_loadScript = '' && defaultLoadScript == '' && _filetype == 'Pdb') { select protein or nucleic;cartoons Only;color structure; select * };",
_nciLoadScript:";n = ({molecule=1}.length < {molecule=2}.length ? 2 : 1); select molecule=n;display selected;center selected;",_pubChemLoadScript:"",_DirectDatabaseCalls:{"cactus.nci.nih.gov":"%URL","www.rcsb.org":"%URL","pubchem.ncbi.nlm.nih.gov":"%URL","http://www.nmrdb.org/tools/jmol/predict.php":"%URL",$:"http://cactus.nci.nih.gov/chemical/structure/%FILENCI/file?format=sdf&get3d=True",$$:"http://cactus.nci.nih.gov/chemical/structure/%FILENCI/file?format=sdf","=":"http://www.rcsb.org/pdb/files/%FILE.pdb",
"==":"http://www.rcsb.org/pdb/files/ligand/%FILE.cif",":":"http://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/%FILE/SDF?record_type=3d"},_restQueryUrl:"http://www.rcsb.org/pdb/rest/search",_restQueryXml:"<orgPdbQuery><queryType>org.pdb.query.simple.AdvancedKeywordQuery</queryType><description>Text Search</description><keywords>QUERY</keywords></orgPdbQuery>",_restReportUrl:"http://www.pdb.org/pdb/rest/customReport?pdbids=IDLIST&customReportColumns=structureId,structureTitle"},_debugAlert:!1,_document:a,
_isXHTML:!1,_lastAppletID:null,_mousePageX:null,_mouseOwner:null,_serverUrl:"http://your.server.here/jsmol.php",_syncId:(""+Math.random()).substring(3),_touching:!1,_XhtmlElement:null,_XhtmlAppendChild:!1};a=a.location.href.toLowerCase();k._httpProto=0==a.indexOf("https")?"https://":"http://";k._isFile=0==a.indexOf("file:");k._ajaxTestSite=k._httpProto+"google.com";a=k._isFile||0==a.indexOf("http://localhost")||0==a.indexOf("http://127.");k._tracker="http://"==k._httpProto&&!a&&"http://chemapps.stolaf.edu/jmol/JmolTracker.htm?id=UA-45940799-1";
k._isChrome=0<=navigator.userAgent.toLowerCase().indexOf("chrome");k._isSafari=!k._isChrome&&0<=navigator.userAgent.toLowerCase().indexOf("safari");k._isMsie=void 0!==window.ActiveXObject;k._useDataURI=!k._isSafari&&!k._isMsie;for(var e in Jmol)k[e]=Jmol[e];return k}(document,Jmol));
(function(a,k){a.$=function(a,b){null==a&&alert(b+arguments.callee.caller.toString());return k(b?"#"+a._id+"_"+b:a)};a._$=function(a){return"string"==typeof a?k("#"+a):a};a.$ajax=function(b){a._ajaxCall=b.url;b.cache="NO"!=b.cache;0==b.url.indexOf("http://pubchem.ncbi.nlm.nih")&&(b.url="https://"+b.url.substring(7));return k.ajax(b)};a._getNCIInfo=function(b,c){"name"==c&&(c="names");url="http://cactus.nci.nih.gov/chemical/structure/"+b+"/"+c;return a._getFileData(url)};a.$appEvent=function(b,c,d,
e){b=a.$(b,c);b.off(d)&&e&&b.on(d,e)};a.$resize=function(a){return k(window).resize(a)};a.$after=function(a,b){return k(a).after(b)};a.$bind=function(a,b,c){return c?k(a).bind(b,c):k(a).unbind(b)};a.$closest=function(a,b){return k(a).closest(b)};a.$get=function(a,b){return k(a).get(b)};a.$documentOff=function(a,b){return k(document).off(a,"#"+b)};a.$documentOn=function(a,b,c){return k(document).on(a,"#"+b,c)};a.$getAncestorDiv=function(a,b){return k("div."+b+":has(#"+a+")")[0]};a.$supportsIECrossDomainScripting=
function(){return k.support.iecors};a.$attr=function(b,c,d){return a._$(b).attr(c,d)};a.$css=function(b,c){return a._$(b).css(c)};a.$find=function(b,c){return a._$(b).find(c)};a.$focus=function(b){return a._$(b).focus()};a.$html=function(b,c){return a._$(b).html(c)};a.$offset=function(b){return a._$(b).offset()};a.$windowOn=function(a,b){return k(window).on(a,b)};a.$prop=function(b,c,d){var e=a._$(b);return 3==arguments.length?e.prop(c,d):e.prop(c)};a.$remove=function(b){return a._$(b).remove()};
a.$scrollTo=function(b,c){var d=a._$(b);return d.scrollTop(0>c?d[0].scrollHeight:c)};a.$setEnabled=function(b,c){return a._$(b).attr("disabled",c?null:"disabled")};a.$setSize=function(b,c,d){return a._$(b).width(c).height(d)};a.$setVisible=function(b,c){var d=a._$(b);return c?d.show():d.hide()};a.$submit=function(b){return a._$(b).submit()};a.$val=function(b,c){var d=a._$(b);return 1==arguments.length?d.val():d.val(c)};a._clearVars=function(){delete jQuery;delete k;delete a;delete SwingController;
delete J;delete JM;delete JS;delete JSV;delete JU;delete JV;delete java;delete javajs;delete Clazz;delete c$};var e=document,f=window,d={};d.ua=navigator.userAgent.toLowerCase();var h;a:{h=["linux","unix","mac","win"];for(var b=h.length;b--;)if(-1!=d.ua.indexOf(h[b])){h=h[b];break a}h="unknown"}d.os=h;d.browser=function(){for(var a=d.ua,b="konqueror webkit omniweb opera webtv icab msie mozilla".split(" "),c=0;c<b.length;c++)if(0<=a.indexOf(b[c]))return b[c];return"unknown"};d.browserName=d.browser();
d.browserVersion=parseFloat(d.ua.substring(d.ua.indexOf(d.browserName)+d.browserName.length+1));d.supportsXhr2=function(){return k.support.cors||k.support.iecors};d.allowDestroy="msie"!=d.browserName;d.allowHTML5="msie"!=d.browserName||0>navigator.appVersion.indexOf("MSIE 8");d.getDefaultLanguage=function(){return navigator.language||navigator.userLanguage||"en-US"};d._webGLtest=0;d.supportsWebGL=function(){if(!a.featureDetection._webGLtest){var b;a.featureDetection._webGLtest=f.WebGLRenderingContext&&
((b=e.createElement("canvas")).getContext("webgl")||b.getContext("experimental-webgl"))?1:-1}return 0<a.featureDetection._webGLtest};d.supportsLocalization=function(){for(var a=e.getElementsByTagName("meta"),b=a.length;0<=--b;)if(0<=a[b].outerHTML.toLowerCase().indexOf("utf-8"))return!0;return!1};d.supportsJava=function(){a.featureDetection._javaEnabled||(a.featureDetection._javaEnabled=a._isMsie?navigator.javaEnabled()?1:-1:!navigator.javaEnabled()||navigator.mimeTypes&&!navigator.mimeTypes["application/x-java-applet"]?
-1:1);return 0<a.featureDetection._javaEnabled};d.compliantBrowser=function(){var a=!!e.getElementById,b=d.os;if("opera"==d.browserName&&7.54>=d.browserVersion&&"mac"==b||"webkit"==d.browserName&&125.12>d.browserVersion||"msie"==d.browserName&&"mac"==b||"konqueror"==d.browserName&&3.3>=d.browserVersion)a=!1;return a};d.isFullyCompliant=function(){return d.compliantBrowser()&&d.supportsJava()};d.useIEObject="win"==d.os&&"msie"==d.browserName&&5.5<=d.browserVersion;d.useHtml4Object="mozilla"==d.browserName&&
5<=d.browserVersion||"opera"==d.browserName&&8<=d.browserVersion||"webkit"==d.browserName;d.hasFileReader=f.File&&f.FileReader;a.featureDetection=d;a._ajax=function(b){if(!b.async)return a.$ajax(b).responseText;a._ajaxQueue.push(b);1==a._ajaxQueue.length&&a._ajaxDone()};a._ajaxDone=function(){var b=a._ajaxQueue.shift();b&&a.$ajax(b)};a._grabberOptions=[["$","NCI(small molecules)"],[":","PubChem(small molecules)"],["=","RCSB(macromolecules)"]];a._getGrabberOptions=function(b){if(0==a._grabberOptions.length)return"";
var c='<input type="text" id="ID_query" onfocus="jQuery(this).select()" onkeypress="if(13==event.which){Jmol._applets[\'ID\']._search();return false}" size="32" value="" />',d='<button id="ID_submit" onclick="Jmol._applets[\'ID\']._search()">Search</button></nobr>';1==a._grabberOptions.length?(c="<nobr>"+c+'<span style="display:none">',d="</span>"+d):c+="<br /><nobr>";for(var c=c+'<select id="ID_select">',e=0;e<a._grabberOptions.length;e++)var f=a._grabberOptions[e],c=c+('<option value="'+f[0]+'" '+
(0==e?"selected":"")+">"+f[1]+"</option>");c=(c+"</select>"+d).replace(/ID/g,b._id);return"<br />"+c};a._getScriptForDatabase=function(b){return"$"==b?a.db._nciLoadScript:":"==b?a.db._pubChemLoadScript:a.db._fileLoadScript};a._setInfo=function(a,b,c){var d=[],e="";if(0==c.indexOf("ERROR"))e=c;else switch(b){case "=":b=c.split("<dimStructure.structureId>");d=["<table>"];for(c=1;c<b.length;c++)d.push('<tr><td valign=top><a href="javascript:Jmol.search('+a._id+",'="+b[c].substring(0,4)+"')\">"+b[c].substring(0,
4)+"</a></td>"),d.push("<td>"+b[c].split("Title>")[1].split("</")[0]+"</td></tr>");d.push("</table>");e=b.length-1+" matches";break;case "$":case ":":break;default:return}a._infoHeader=e;a._info=d.join("");a._showInfo(!0)};a._loadSuccess=function(b,c){c&&(a._ajaxDone(),c(b))};a._loadError=function(b){a._ajaxDone();a.say("Error connecting to server: "+a._ajaxCall);null!=b&&b()};a._isDatabaseCall=function(b){return 0<=a.db._databasePrefixes.indexOf(b.substring(0,1))};a._getDirectDatabaseCall=function(b,
c){if(c&&!a.featureDetection.supportsXhr2())return b;var d=2,e,f=a.db._DirectDatabaseCalls[b.substring(0,d)];f||(f=a.db._DirectDatabaseCalls[e=b.substring(0,--d)]);f&&(":"==e?(e=b.toLowerCase(),isNaN(parseInt(b.substring(1)))?0==e.indexOf(":smiles:")?(f+="?POST?smiles="+b.substring(8),b="smiles"):0==e.indexOf(":cid:")?b="cid/"+b.substring(5):(0==e.indexOf(":name:")?b=b.substring(5):0==e.indexOf(":cas:")&&(b=b.substring(4)),b="name/"+encodeURIComponent(b.substring(d))):b="cid/"+b.substring(1)):b=encodeURIComponent(b.substring(d)),
0<=f.indexOf("FILENCI")?(b=b.replace(/\%2F/g,"/"),b=f.replace(/\%FILENCI/,b)):b=f.replace(/\%FILE/,b));return b};a._getRawDataFromServer=function(b,c,d,e,f,h){b="?call=getRawDataFromDatabase&database="+b+(0<=c.indexOf("?POST?")?"?POST?":"")+"&query="+encodeURIComponent(c)+(f?"&encoding=base64":"")+(h?"":"&script="+encodeURIComponent(a._getScriptForDatabase(b)));return a._contactServer(b,d,e)};a._checkFileName=function(b,c,d){a._isDatabaseCall(c)&&(d&&a._setQueryTerm(b,c),c=a._getDirectDatabaseCall(c,
!0),a._isDatabaseCall(c)&&(c=a._getDirectDatabaseCall(c,!1),d&&(d[0]=!0)));return c};a._checkCache=function(b,c,d){if(b._cacheFiles&&a._fileCache&&!c.endsWith(".js")){if(b=a._fileCache[c])return System.out.println("using "+b.length+" bytes of cached data for "+c),d(b),null;d=function(b,c){d(a._fileCache[b]=c)}}return d};a._loadFileData=function(b,c,d,e){var f=[];c=a._checkFileName(b,c,f);d=a._checkCache(b,c,d);f[0]?a._getRawDataFromServer("_",c,d,e):(b={type:"GET",dataType:"text",url:c,async:a._asynchronous,
success:function(b){a._loadSuccess(b,d)},error:function(){a._loadError(e)}},a._checkAjaxPost(b),a._ajax(b))};a._getInfoFromDatabase=function(b,c,d){if("===="==c){var e=a.db._restQueryXml.replace(/QUERY/,d),e={dataType:"text",type:"POST",contentType:"application/x-www-form-urlencoded",url:a.db._restQueryUrl,data:encodeURIComponent(e)+"&req=browser",success:function(e){a._ajaxDone();a._extractInfoFromRCSB(b,c,d,e)},error:function(){a._loadError(null)},async:a._asynchronous};return a._ajax(e)}d="?call=getInfoFromDatabase&database="+
c+"&query="+encodeURIComponent(d);return a._contactServer(d,function(d){a._setInfo(b,c,d)})};a._extractInfoFromRCSB=function(b,c,d,e){var f=e.length/5;if(0!=f&&4==d.length&&1!=f){d=d.toUpperCase();var h=e.indexOf(d);0<h&&0<="123456789".indexOf(d.substring(0,1))&&(e=d+","+e.substring(0,h)+e.substring(h+5));50<f&&(e=e.substring(0,250));e=e.replace(/\n/g,",");e=a._restReportUrl.replace(/IDLIST/,e);a._loadFileData(b,e,function(d){a._setInfo(b,c,d)})}};a._checkAjaxPost=function(a){var b=a.url.indexOf("?POST?");
0<b&&(a.data=a.url.substring(b+6),a.url=a.url.substring(0,b),a.type="POST",a.contentType="application/x-www-form-urlencoded")};a._contactServer=function(b,c,d){b={dataType:"text",type:"GET",url:a._serverUrl+b,success:function(b){a._loadSuccess(b,c)},error:function(){a._loadError(d)},async:c?a._asynchronous:!1};a._checkAjaxPost(b);return a._ajax(b)};a._setQueryTerm=function(b,c){if(c&&b._hasOptions&&"http://"!=c.substring(0,7)){if(a._isDatabaseCall(c)){var d=c.substring(0,1);c=c.substring(1);c.substring(0,
1)==d&&0<="=$".indexOf(d)&&(c=c.substring(1));var e=a._getElement(b,"select");if(e&&e.options)for(var f=0;f<e.options.length;f++)e[f].value==d&&(e[f].selected=!0)}a.$val(a.$(b,"query"),c)}};a._search=function(b,c,d){1<arguments.length||(c=null);a._setQueryTerm(b,c);c||(c=a.$val(a.$(b,"query")));0==c.indexOf("!")?b._script(c.substring(1)):(c&&(c=c.replace(/\"/g,"")),b._showInfo(!1),a._searchMol(b,c,d,!0))};a._searchMol=function(b,c,d,e){var f;a._isDatabaseCall(c)?(f=c.substring(0,1),c=c.substring(1)):
f=b._hasOptions?a.$val(a.$(b,"select")):"$";"="==f&&3==c.length&&(c="="+c);var h=f+c;if(c&&!(0>h.indexOf("?")&&h==b._thisJmolModel)){b._thisJmolModel=h;var k;e&&null!=b._viewSet&&null!=(k=a.View.__findView(b._viewSet,{chemID:h}))?a.View.__setView(k,b,!1):("$"==f||":"==f?b._jmolFileType="MOL":"="==f&&(b._jmolFileType="PDB"),b._searchDatabase(c,f,d))}};a._searchDatabase=function(b,c,d,e){b._showInfo(!1);return 0<=c.indexOf("?")?(a._getInfoFromDatabase(b,d,c.split("?")[0]),!0):a.db._DirectDatabaseCalls[d]?
(b._loadFile(d+c,e),!0):!1};a._syncBinaryOK="?";a._canSyncBinary=function(b){if(self.VBArray)return a._syncBinaryOK=!1;if("?"!=a._syncBinaryOK)return a._syncBinaryOK;a._syncBinaryOK=!0;try{var c=new window.XMLHttpRequest;c.open("text",a._ajaxTestSite,!1);c.hasOwnProperty("responseType")?c.responseType="arraybuffer":c.overrideMimeType&&c.overrideMimeType("text/plain; charset=x-user-defined")}catch(d){return System.out.println("JSmolCore.js: synchronous binary file transfer is requested but not available"),
a._alertNoBinary&&!b&&alert("JSmolCore.js: synchronous binary file transfer is requested but not available"),a._syncBinaryOK=!1}return!0};a._binaryTypes=".gz .jpg .png .zip .jmol .bin .smol .spartan .mrc .pse .map .omap".split(" ");a._isBinaryUrl=function(b){for(var c=a._binaryTypes.length;0<=--c;)if(0<=b.indexOf(a._binaryTypes[c]))return!0;return!1};a._getFileData=function(b,c){var d=a._isBinaryUrl(b)?"binary":"text",e=0<=b.indexOf("pdb.gz")&&0==b.indexOf("http://www.rcsb.org/pdb/files/"),f="binary"==
d&&!a._canSyncBinary(e);f&&e&&(b=b.replace(/pdb\.gz/,"pdb"),f=!1,d="text");e=0<=b.indexOf("?POST?");0==b.indexOf("file:/")&&0!=b.indexOf("file:///")&&(b="file://"+b.substring(5));var h=0>b.indexOf("://")||0==b.indexOf(document.location.protocol)&&0<=b.indexOf(document.location.host),k=a._isDirectCall(b),u=!h&&a.$supportsIECrossDomainScripting();if(!c||f)if(u||f||!h&&!k)return a._getRawDataFromServer("_",b,c,c,f,!0);b=b.replace(/file:\/\/\/\//,"file://");var w={dataType:d,async:!!c};e?(w.type="POST",
w.url=b.split("?POST?")[0],w.data=b.split("?POST?")[1]):(w.type="GET",w.url=b);c&&(w.success=function(){c(a._xhrReturn(w.xhr))},w.error=function(){c(xhr.statusText)});w.xhr=a.$ajax(w);if(!c)return a._xhrReturn(w.xhr)};a._xhrReturn=function(a){return!a.responseText||self.Clazz&&Clazz.instanceOf(a.response,self.ArrayBuffer)?a.response||a.statusText:a.responseText};a._isDirectCall=function(b){for(var c in a.db._DirectDatabaseCalls)if(0<=c.indexOf(".")&&0<=b.indexOf(c))return!0;return!1};a._cleanFileData=
function(a){return 0<=a.indexOf("\r")&&0<=a.indexOf("\n")?a.replace(/\r\n/g,"\n"):0<=a.indexOf("\r")?a.replace(/\r/g,"\n"):a};a._getFileType=function(a){var b=a.substring(0,1);if("$"==b||":"==b)return"MOL";if("="==b)return"="==a.substring(1,2)?"LCIF":"PDB";a=a.split(".").pop().toUpperCase();return a.substring(0,Math.min(a.length,3))};a._getZ=function(b,c){return b&&b._z&&b._z[c]||a._z[c]};a._incrZ=function(b,c){return b&&b._z&&++b._z[c]||++a._z[c]};a._loadFileAsynchronously=function(b,c,d,e){if(0!=
d.indexOf("?")){d=a._checkFileName(c,d);var f=function(c){a._setData(b,d,c,e)},f=a._checkCache(c,d,f);return null==f?null:a._getFileData(d,f)}if(!a.featureDetection.hasFileReader)return b.setData("Local file reading is not enabled in your browser",null,e);c._localReader||(f='<div id="ID" style="z-index:'+a._getZ(c,"fileOpener")+';position:absolute;background:#E0E0E0;left:10px;top:10px"><div style="margin:5px 5px 5px 5px;"><input type="file" id="ID_files" /><button id="ID_loadfile">load</button><button id="ID_cancel">cancel</button></div><div>',
a.$after("#"+c._id+"_appletdiv",f.replace(/ID/g,c._id+"_localReader")),c._localReader=a.$(c,"localReader"));a.$appEvent(c,"localReader_loadfile","click");a.$appEvent(c,"localReader_loadfile","click",function(){var d=a.$(c,"localReader_files")[0].files[0],f=new FileReader;f.onloadend=function(f){f.target.readyState==FileReader.DONE&&(a.$css(a.$(c,"localReader"),{display:"none"}),a._setData(b,d.name,f.target.result,e))};f.readAsArrayBuffer(d)});a.$appEvent(c,"localReader_cancel","click");a.$appEvent(c,
"localReader_cancel","click",function(){a.$css(a.$(c,"localReader"),{display:"none"});b.setData(null,e)});a.$css(a.$(c,"localReader"),{display:"block"})};a._setData=function(b,c,d,e){d=a._strToBytes(d);0<=c.indexOf(".jdx")&&a.Cache.put("cache://"+c,d);b.setData(c,d,e)};a._toBytes=function(a){if("string"==typeof a)return a.getBytes();a=new Uint8Array(a);for(var b=Clazz.newByteArray(a.length,0),c=a.length;0<=--c;)b[c]=a[c];return b};a._doAjax=function(b,c,d){b=b.toString();if(null!=d)return a._saveFile(b,
d);c&&(b+="?POST?"+c);c=a._getFileData(b);return a._processData(c,a._isBinaryUrl(b))};a._saveFile=function(b,c,d,e){if(a._localFileSaveFunction&&a._localFileSaveFunction(b,c))return"OK";b=b.substring(b.lastIndexOf("/")+1);d||(d=0<=b.indexOf(".pdf")?"application/pdf":0<=b.indexOf(".png")?"image/png":0<=b.indexOf(".jpg")?"image/jpg":"");var f="string"==typeof c;f||(c=(JU?JU:J.util).Base64.getBase64(c).toString());e||(e=f?"":"base64");(f=a._serverUrl)&&0<=f.indexOf("your.server")&&(f="");a._useDataURI||
!f?(e||(c=btoa(c)),e=document.createElement("a"),e.href="data:"+d+";base64,"+c,e.type=d||"text/plain",e.download=b,e.target="_blank",k("body").append(e),e.click(),e.remove()):(a._formdiv||(a.$after("body",'<div id="__jsmolformdiv__" style="display:none">\t\t\t\t\t\t<form id="__jsmolform__" method="post" target="_blank" action="">\t\t\t\t\t\t<input name="call" value="saveFile"/>\t\t\t\t\t\t<input id="__jsmolmimetype__" name="mimetype" value=""/>\t\t\t\t\t\t<input id="__jsmolencoding__" name="encoding" value=""/>\t\t\t\t\t\t<input id="__jsmolfilename__" name="filename" value=""/>\t\t\t\t\t\t<textarea id="__jsmoldata__" name="data"></textarea>\t\t\t\t\t\t</form>\t\t\t\t\t\t</div>'),
a._formdiv="__jsmolform__"),a.$attr(a._formdiv,"action",f+"?"+(new Date).getMilliseconds()),a.$val("__jsmoldata__",c),a.$val("__jsmolfilename__",b),a.$val("__jsmolmimetype__",d),a.$val("__jsmolencoding__",e),a.$submit("__jsmolform__"),a.$val("__jsmoldata__",""),a.$val("__jsmolfilename__",""));return"OK"};a._processData=function(b,c){"undefined"==typeof b&&(b="",c=!1);c&&(c=a._canSyncBinary());return c?a._strToBytes(b):JU.SB.newS(b)};a._strToBytes=function(b){if(Clazz.instanceOf(b,self.ArrayBuffer))return a._toBytes(b);
for(var c=Clazz.newByteArray(b.length,0),d=b.length;0<=--d;)c[d]=b.charCodeAt(d)&255;return c};a._setConsoleDiv=function(a){self.Clazz&&Clazz.setConsoleDiv(a)};a._setJmolParams=function(b,c,d){for(var e in c)0<=";progressbar;progresscolor;boxbgcolor;boxfgcolor;allowjavascript;boxmessage;\t\t\t\t\t\t\t\t\t;messagecallback;pickcallback;animframecallback;appletreadycallback;atommovedcallback;\t\t\t\t\t\t\t\t\t;echocallback;evalcallback;hovercallback;language;loadstructcallback;measurecallback;\t\t\t\t\t\t\t\t\t;minimizationcallback;resizecallback;scriptcallback;statusform;statustext;statustextarea;\t\t\t\t\t\t\t\t\t;synccallback;usecommandthread;syncid;appletid;startupscript;menufile;".indexOf(";"+
e.toLowerCase()+";")&&("language"!=e||a.featureDetection.supportsLocalization())&&(d?b.put(e,!0===c[e]?Boolean.TRUE:!1===c[e]?Boolean.FALSE:c[e]):b[e]=c[e])};a._registerApplet=function(b,c){return window[b]=a._applets[b]=a._applets[c]=a._applets[b+"__"+a._syncId+"__"]=c};a._readyCallback=function(b,c,d,e){b=b.split("_object")[0];d=d.booleanValue?d.booleanValue():d;a._track(a._applets[b])._readyCallback(b,c,d,e)};a._getWrapper=function(b,c){var d;if(c){var e="";b._coverImage&&(d=' onclick="Jmol.coverApplet(ID, false)" title="'+
b._coverTitle+'"',e='<image id="ID_coverclickgo" src="'+b._j2sPath+'/img/play_make_live.jpg" style="width:25px;height:25px;position:absolute;bottom:10px;left:10px;z-index:'+a._getZ(b,"coverImage")+';opacity:0.5;"'+d+" />",e='<div id="ID_coverdiv" style="background-color:red;z-index:'+a._getZ(b,"coverImage")+';width:100%;height:100%;display:inline;position:absolute;top:0px;left:0px"><image id="ID_coverimage" src="'+b._coverImage+'" style="width:100%;height:100%"'+d+"/>"+e+"</div>");d='...<div id="ID_appletinfotablediv" style="width:Wpx;height:Hpx;position:relative;font-size:14px;text-align:left">IMG......<div id="ID_appletdiv" style="z-index:'+
a._getZ(b,"header")+';width:100%;height:100%;position:absolute;top:0px;left:0px;">';var f=b._height,h=b._width;if("string"!==typeof f||0>f.indexOf("%"))f+="px";if("string"!==typeof h||0>h.indexOf("%"))h+="px";d=d.replace(/IMG/,e).replace(/Hpx/g,f).replace(/Wpx/g,h)}else d='......</div>......<div id="ID_2dappletdiv" style="position:absolute;width:100%;height:100%;overflow:hidden;display:none"></div>......<div id="ID_infotablediv" style="width:100%;height:100%;position:absolute;top:0px;left:0px">.........<div id="ID_infoheaderdiv" style="height:20px;width:100%;background:yellow;display:none"><span id="ID_infoheaderspan"></span><span id="ID_infocheckboxspan" style="position:absolute;text-align:right;right:1px;"><a href="javascript:Jmol.showInfo(ID,false)">[x]</a></span></div>.........<div id="ID_infodiv" style="position:absolute;top:20px;bottom:0px;width:100%;height:100%;overflow:auto"></div>......</div>...</div>';
return d.replace(/\.\.\./g,"").replace(/[\n\r]/g,"").replace(/ID/g,b._id)};a._documentWrite=function(b){if(a._document){if(a._isXHTML&&!a._XhtmlElement){var c=document.getElementsByTagName("script");a._XhtmlElement=c.item(c.length-1);a._XhtmlAppendChild=!1}a._XhtmlElement?a._domWrite(b):a._document.write(b)}return b};a._domWrite=function(b){for(var c=[0];c[0]<b.length;){var d=a._getDomElement(b,c);if(!d)break;a._XhtmlAppendChild?a._XhtmlElement.appendChild(d):a._XhtmlElement.parentNode.insertBefore(d,
_jmol.XhtmlElement)}};a._getDomElement=function(a,b){var c=document.createElement("span");c.innerHTML=a;b[0]=a.length;return c};a._setObject=function(b,c,d){b._id=c;b.__Info={};d.z&&d.zIndexBase&&(a._z=a._getZOrders(d.zIndexBase));for(var e in d)b.__Info[e]=d[e];(b._z=d.z)||d.zIndexBase&&(b._z=b.__Info.z=a._getZOrders(d.zIndexBase));b._width=d.width;b._height=d.height;b._noscript=!b._isJava&&d.noscript;b._console=d.console;b._cacheFiles=!!d.cacheFiles;b._viewSet=null==d.viewSet||b._isJava?null:"Set"+
d.viewSet;null!=b._viewSet&&(a.View.__init(b),b._currentView=null);!a._fileCache&&b._cacheFiles&&(a._fileCache={});b._console||(b._console=b._id+"_infodiv");"none"==b._console&&(b._console=null);b._color=d.color?d.color.replace(/0x/,"#"):"#FFFFFF";b._disableInitialConsole=d.disableInitialConsole;b._noMonitor=d.disableJ2SLoadMonitor;a._j2sPath&&(d.j2sPath=a._j2sPath);b._j2sPath=d.j2sPath;b._deferApplet=d.deferApplet;b._deferUncover=d.deferUncover;b._coverImage=!b._isJava&&d.coverImage;b._isCovered=
!!b._coverImage;b._coverScript=d.coverScript;b._coverTitle=d.coverTitle;b._coverTitle||(b._coverTitle=b._deferApplet?"activate 3D model":"3D model is loading...");b._containerWidth=b._width+(b._width==parseFloat(b._width)?"px":"");b._containerHeight=b._height+(b._height==parseFloat(b._height)?"px":"");b._info="";b._infoHeader=b._jmolType+' "'+b._id+'"';b._hasOptions=d.addSelectionOptions;b._defaultModel=d.defaultModel;b._readyScript=d.script?d.script:"";b._readyFunction=d.readyFunction;b._coverImage&&
!b._deferApplet&&(b._readyScript+=";javascript "+c+"._displayCoverImage(false)");b._src=d.src};a._addDefaultInfo=function(b,c){for(var d in c)"undefined"==typeof b[d]&&(b[d]=c[d]);a._use&&(b.use=a._use);0<=b.use.indexOf("SIGNED")&&(0>b.jarFile.indexOf("Signed")&&(b.jarFile=b.jarFile.replace(/Applet/,"AppletSigned")),b.use=b.use.replace(/SIGNED/,"JAVA"),b.isSigned=!0)};a._syncedApplets=[];a._syncedCommands=[];a._syncedReady=[];a._syncReady=!1;a._isJmolJSVSync=!1;a._setReady=function(b){a._syncedReady[b]=
1;for(var c=0,d=0;d<a._syncedApplets.length;d++){if(a._syncedApplets[d]==b._id)a._syncedApplets[d]=b,a._syncedReady[d]=1;else if(!a._syncedReady[d])continue;c++}c==a._syncedApplets.length&&a._setSyncReady()};a._setDestroy=function(b){a.featureDetection.allowDestroy&&a.$windowOn("beforeunload",function(){a._destroy(b)})};a._destroy=function(b){try{b._applet&&b._applet.destroy();b._applet=null;a._unsetMouse(b._canvas);b._canvas=null;for(var c=0,d=0;d<a._syncedApplets.length;d++)a._syncedApplets[d]==
b&&(a._syncedApplets[d]=null),a._syncedApplets[d]&&c++;0<c||a._clearVars()}catch(e){}};a._setSyncReady=function(){a._syncReady=!0;for(var b="",c=0;c<a._syncedApplets.length;c++)a._syncedCommands[c]&&(b+="Jmol.script(Jmol._syncedApplets["+c+"], Jmol._syncedCommands["+c+"]);");setTimeout(b,50)};a._mySyncCallback=function(b,c){app=a._applets[b];if(app._viewSet)a.View.updateFromSync(app,c);else{if(!a._syncReady||!a._isJmolJSVSync)return 1;for(var d=0;d<a._syncedApplets.length;d++)0<=c.indexOf(a._syncedApplets[d]._syncKeyword)&&
a._syncedApplets[d]._syncScript(c);return 0}};a._getElement=function(a,b){return document.getElementById(a._id+"_"+b)||{}};a._evalJSON=function(a,b){a+="";if(!a)return[];if("{"!=a.charAt(0))return 0<=a.indexOf(" | ")&&(a=a.replace(/\ \|\ /g,"\n")),a;var c=(new Function("return "+a))();return c?b&&void 0!=c[b]?c[b]:c:null};a._sortMessages=function(a){function b(a,c){return a[0]<c[0]?1:a[0]>c[0]?-1:0}if(!a||"object"!=typeof a)return[];for(var c=[],d=a.length-1;0<=d;d--)for(var e=0,f=a[d].length;e<f;e++)c[c.length]=
a[d][e];if(0!=c.length)return c=c.sort(b)};a._setMouseOwner=function(b,c){null==b||c?a._mouseOwner=b:a._mouseOwner==b&&(a._mouseOwner=null)};a._jsGetMouseModifiers=function(a){var b=0;switch(a.button){case 0:b=16;break;case 1:b=8;break;case 2:b=4}a.shiftKey&&(b+=1);a.altKey&&(b+=8);a.ctrlKey&&(b+=2);return b};a._jsGetXY=function(b,c){if(!b.applet._ready||a._touching&&0>c.type.indexOf("touch"))return!1;c.preventDefault();var d=a.$offset(b.id),e,f=c.originalEvent;a._mousePageX=c.pageX;a._mousePageY=
c.pageY;f.targetTouches&&f.targetTouches[0]?(e=f.targetTouches[0].pageX-d.left,d=f.targetTouches[0].pageY-d.top):f.changedTouches?(e=f.changedTouches[0].pageX-d.left,d=f.changedTouches[0].pageY-d.top):(e=c.pageX-d.left,d=c.pageY-d.top);return void 0==e?null:[Math.round(e),Math.round(d),a._jsGetMouseModifiers(c)]};a._gestureUpdate=function(b,c){c.stopPropagation();c.preventDefault();var d=c.originalEvent;switch(c.type){case "touchstart":a._touching=!0;break;case "touchend":a._touching=!1}if(!d.touches||
2!=d.touches.length)return!1;switch(c.type){case "touchstart":b._touches=[[],[]];break;case "touchmove":var e=a.$offset(b.id),f=b._touches[0],h=b._touches[1];f.push([d.touches[0].pageX-e.left,d.touches[0].pageY-e.top]);h.push([d.touches[1].pageX-e.left,d.touches[1].pageY-e.top]);d=f.length;3<d&&(f.shift(),h.shift());2<=d&&b.applet._processGesture(b._touches)}return!0};a._jsSetMouse=function(b){a.$bind(b,"mousedown touchstart",function(c){a._setMouseOwner(b,!0);c.stopPropagation();c.preventDefault();
b.isDragging=!0;if("touchstart"==c.type&&a._gestureUpdate(b,c))return!1;a._setConsoleDiv(b.applet._console);var d=a._jsGetXY(b,c);if(!d)return!1;2!=c.button&&a.Swing.hideMenus(b.applet);b.applet._processEvent(501,d);return!1});a.$bind(b,"mouseup touchend",function(c){a._setMouseOwner(null);c.stopPropagation();c.preventDefault();b.isDragging=!1;if("touchend"==c.type&&a._gestureUpdate(b,c))return!1;c=a._jsGetXY(b,c);if(!c)return!1;b.applet._processEvent(502,c);return!1});a.$bind(b,"mousemove touchmove",
function(c){c.stopPropagation();c.preventDefault();if("touchmove"==c.type&&a._gestureUpdate(b,c))return!1;c=a._jsGetXY(b,c);if(!c)return!1;b.isDragging||(c[2]=0);b.applet._processEvent(b.isDragging?506:503,c);return!1});a.$bind(b,"DOMMouseScroll mousewheel",function(c){c.stopPropagation();c.preventDefault();b.isDragging=!1;var d=c.originalEvent,d=d.detail?d.detail:("mac"==a.featureDetection.os?1:-1)*d.wheelDelta;c=a._jsGetMouseModifiers(c);b.applet._processEvent(-1,[0>d?-1:1,0,c]);return!1});a.$bind(b,
"contextmenu",function(){return!1});a.$bind(b,"mouseout",function(c){b.applet._applet&&b.applet._applet.viewer.startHoverWatcher(!1);b.isDragging=!1;c=a._jsGetXY(b,c);if(!c)return!1;b.applet._processEvent(502,c);b.applet._processEvent(505,c);return!1});a.$bind(b,"mouseenter",function(c){b.applet._applet&&b.applet._applet.viewer.startHoverWatcher(!0);if(0===c.buttons||0===c.which){b.isDragging=!1;c=a._jsGetXY(b,c);if(!c)return!1;b.applet._processEvent(504,c);b.applet._processEvent(502,c);return!1}});
b.applet._is2D&&a.$resize(function(){b.applet&&b.applet._resize()});a.$bind("body","mouseup touchend",function(){b.applet&&(b.isDragging=!1);a._setMouseOwner(null)})};a._jsUnsetMouse=function(b){b.applet=null;a.$bind(b,"mousedown touchstart mousemove touchmove mouseup touchend DOMMouseScroll mousewheel contextmenu mouseout mouseenter",null);a._setMouseOwner(null)};a.Swing={count:0,menuInitialized:0,menuCounter:0,htDialogs:{}};var c=a.Swing;SwingController=c;c.setDraggable=function(b){b=b.prototype;
b.setContainer||(b.setContainer=function(b){this.container=b;b.obj=this;this.ignoreMouse=this.isDragging=!1;var c=this;b.bind("mousedown touchstart",function(b){if(c.ignoreMouse)return c.ignoreMouse=!1,!0;a._setMouseOwner(c,!0);c.isDragging=!0;c.pageX=b.pageX;c.pageY=b.pageY;return!1});b.bind("mousemove touchmove",function(b){if(c.isDragging&&a._mouseOwner==c)return c.mouseMove(b),!1});b.bind("mouseup touchend",function(b){c.mouseUp(b);a._setMouseOwner(null)})},b.mouseUp=function(b){if(this.isDragging&&
a._mouseOwner==this)return this.pageX0+=b.pageX-this.pageX,this.pageY0+=b.pageY-this.pageY,this.isDragging=!1;a._setMouseOwner(null)},b.setPosition=function(){if(null===a._mousePageX){var b=a.$offset(this.applet._id+"_"+(this.applet._is2D?"canvas2d":"canvas"));a._mousePageX=b.left;a._mousePageY=b.top}this.pageX0=a._mousePageX;this.pageY0=a._mousePageY;this.container.css({top:a._mousePageY+"px",left:a._mousePageX+"px"})},b.mouseMove=function(b){this.isDragging&&a._mouseOwner==this&&this.container.css({top:this.pageY0+
(b.pageY-this.pageY)+"px",left:this.pageX0+(b.pageX-this.pageX)+"px"})},b.dragBind=function(b){this.container.unbind("mousemoveoutjsmol");this.container.unbind("touchmoveoutjsmol");this.container.unbind("mouseupoutjsmol");this.container.unbind("touchendoutjsmol");a._setMouseOwner(null);if(b){var c=this;this.container.bind("mousemoveoutjsmol touchmoveoutjsmol",function(a,b,d){c.mouseMove(d)});this.container.bind("mouseupoutjsmol touchendoutjsmol",function(a,b,d){c.mouseUp(d)})}})};c.JSDialog=function(){};
c.setDraggable(c.JSDialog);c.getScreenDimensions=function(a){a.width=k(window).width();a.height=k(window).height()};c.dispose=function(b){a.$remove(b.id+"_mover");delete c.htDialogs[b.id];b.container.obj.dragBind(!1)};c.register=function(a,b){a.id=b++ +c.count;c.htDialogs[a.id]=a};c.setDialog=function(b){a._setMouseOwner(null);a.$remove(b.id);var d=b.id+"_mover",e=a._$(d),f;e[0]?(e.html(b.html),f=e[0].jd):(a.$after("body","<div id='"+d+"' style='position:absolute;left:0px;top:0px;'>"+b.html+"</div>"),
f=new c.JSDialog,e=a._$(d),b.container=e,f.applet=b.manager.vwr.applet,f.setContainer(e),f.dialog=b,f.setPosition(),f.dragBind(!0),e[0].jd=f);a.$bind("#"+b.id+" .JButton","mousedown touchstart",function(){f.ignoreMouse=!0});a.$bind("#"+b.id+" .JComboBox","mousedown touchstart",function(){f.ignoreMouse=!0});a.$bind("#"+b.id+" .JCheckBox","mousedown touchstart",function(){f.ignoreMouse=!0});a.$bind("#"+b.id+" .JTextField","mousedown touchstart",function(){f.ignoreMouse=!0});a.$bind("#"+b.id+" .JTable",
"mousedown touchstart",function(){f.ignoreMouse=!0});a.$bind("#"+b.id+" .JScrollPane","mousedown touchstart",function(){f.ignoreMouse=!0});a.$bind("#"+b.id+" .JEditorPane","mousedown touchstart",function(){f.ignoreMouse=!0})};c.setSelected=function(b){a.$prop(b.id,"checked",!!b.selected)};c.setSelectedIndex=function(b){a.$prop(b.id,"selectedIndex",b.selectedIndex)};c.setText=function(b){a.$prop(b.id,"value",b.text)};c.setVisible=function(b){a.$setVisible(b.id,b.visible)};c.setEnabled=function(b){a.$setEnabled(b.id,
b.enabled)};c.click=function(b,d){var e=c.htDialogs[b.id];if(e){var f=e.toString();if(0<=f.indexOf("JCheck"))e.selected=b.checked;else if(0<=f.indexOf("JCombo"))e.selectedIndex=b.selectedIndex;else if(null!=e.text&&(e.text=b.value,d&&13!=(d.charCode||d.keyCode)))return}f=c.htDialogs[a.$getAncestorDiv(b.id,"JDialog").id];f.manager.actionPerformed(e?e.name:f.registryKey+"/"+b.id)};c.setFront=function(b){var c=b.manager.vwr.applet;b.zIndex!=a._getZ(c,"dialog")&&(b.zIndex=a._incrZ(c,"dialog"));b.container&&
((b.container[0]||b.container).style.zIndex=b.zIndex)};c.hideMenus=function(a){if(a=a._menus)for(var b in a)a[b].visible&&c.hideMenu(a[b])};c.windowClosing=function(b){b=c.htDialogs[a.$getAncestorDiv(b.id,"JDialog").id];b.registryKey?b.manager.processWindowClosing(b.registryKey):b.dispose()};a._track=function(b){if(a._tracker){try{var c='<iframe style="display:none" width="0" height="0" frameborder="0" tabindex="-1" src="'+(a._tracker+"&applet="+b._jmolType+"&version="+a._version+"&appver="+self.___JmolVersion+
"&url="+encodeURIComponent(document.location.href))+'"></iframe>';a.$after("body",c)}catch(d){}delete a._tracker}return b};a.getProfile=function(){window["j2s.doProfile"]=!0;if(self.Clazz&&self.JSON)return Clazz._profile||(Clazz._profile={}),Clazz.getProfile()};a._getInChIKey=function(a,b){0<=b.indexOf("MOL=")&&b.split("MOL=")[1].split('"')};a._getAttr=function(a,b){var c=a.indexOf(b+"=");return 0<=c&&0<=(c=a.indexOf('"',c))?a.substring(c+1,a.indexOf('"',c+1)):null};a.User={viewUpdatedCallback:null};
a.View={count:0,applets:{},sets:{}};(function(b){b.updateView=function(c,d){null!=c._viewSet&&(d.chemID||(c._searchQuery=null),d.data||(d.data="N/A"),d.type=c._viewType,null==(c._currentView=b.__findView(c._viewSet,d))&&(c._currentView=b.__createViewSet(c._viewSet,d.chemID,d.viewID||d.chemID)),c._currentView[d.type].data=d.data,c._currentView[d.type].smiles=c._getSmiles(),a.User.viewUpdatedCallback&&a.User.viewUpdatedCallback(c,"updateView"),b.__setView(c._currentView,c,!1))};b.updateFromSync=function(c,
d){c._updateMsg=d;var e=a._getAttr(d,"sourceID")||a._getAttr(d,"file");if(e){var f=b.__findView(c._viewSet,{viewID:e});if(null==f)return a.updateView(c,d);f!=c._currentView&&b.__setView(f,c,!0);var h=(e=a._getAttr(d,"atoms"))&&0<=d.indexOf("selectionhalos ON")?eval("["+e+"]"):[];setTimeout(function(){c._currentView==f&&b.updateAtomPick(c,h)},10);a.User.viewUpdatedCallback&&a.User.viewUpdatedCallback(c,"updateFromSync")}};b.updateAtomPick=function(b,c){var d=b._currentView;if(null!=d){for(var e in d)"info"!=
e&&d[e].applet!=b&&d[e].applet._updateAtomPick(c);a.User.viewUpdatedCallback&&a.User.viewUpdatedCallback(b,"updateAtomPick")}};b.dumpViews=function(a){var c=b.sets[a];if(c){var d="View set "+a+":\n";a=b.applets[a];for(var e in a)d+="\napplet "+a[e]._id+" currentView="+(a[e]._currentView?a[e]._currentView.info.viewID:null);for(e=c.length;0<=--e;){a=c[e];var d=d+("\n\n<b>view="+e+" viewID="+a.info.viewID+" chemID="+a.info.chemID+"</b>\n"),f,h;for(h in a)"info"!=h&&(d+="\nview="+e+" type="+h+" applet="+
((f=a[h]).applet?f.applet._id:null)+" SMILES="+f.smiles+"\n atomMap="+JSON.stringify(f.atomMap)+"\n data=\n"+f.data+"\n")}return d}};b.__init=function(a){var c=a._viewSet,d=b.applets;d[c]||(d[c]={});d[c][a._viewType]=a};b.__findView=function(a,c){var d=b.sets[a];null==d&&(d=b.sets[a]=[]);for(var e=d.length;0<=--e;){var f=d[e];if(c.viewID){if(f.info.viewID==c.viewID)return f}else{if(null!=c.chemID&&c.chemID==f.info.chemID)return f;for(var h in f)if("info"!=h&&(null!=c.data&&null!=f[h].data?c.data==
f[h].data:c.type==h))return f}}return null};b.__createViewSet=function(c,d,e){b.count++;d={info:{chemID:d,viewID:e||"model_"+b.count}};for(var f in a._applets)e=a._applets[f],e._viewSet==c&&(d[e._viewType]={applet:e,data:null});b.sets[c].push(d);return d};b.__setView=function(a,b,c){for(var d in a)if("info"!=d){var e=a[d],g=e.applet,f=c||null!=g&&"<modified>"==g._molData;if(null!=g&&(g!=b||f)){var h=null==e.data,k=null!=g._currentView;g._currentView=a;if(!(k&&a[d].data==e.data&&!h&!f)&&(g._loadModelFromView(a),
h))break}}}})(a.View);a.Cache={fileCache:{}};a.Cache.get=function(b){return a.Cache.fileCache[b]};a.Cache.put=function(b,c){a.Cache.fileCache[b]=c};a.Cache.setDragDrop=function(b){a.$appEvent(b,"appletdiv","dragover",function(a){a=a.originalEvent;a.stopPropagation();a.preventDefault();a.dataTransfer.dropEffect="copy"});a.$appEvent(b,"appletdiv","drop",function(c){c=c.originalEvent;c.stopPropagation();c.preventDefault();var d=c.dataTransfer.files[0];c=new FileReader;c.onloadend=function(c){if(c.target.readyState==
FileReader.DONE){var e="cache://DROP_"+d.name;c=a._toBytes(c.target.result);b._applet.viewer.cacheFileByName("cache://DROP_*",!1);"JSV"==b._viewType||e.endsWith(".jdx")?a.Cache.put(e,c):b._applet.viewer.cachePut(e,c);b._applet.viewer.openFileAsyncSpecial(e,1)}};c.readAsArrayBuffer(d)})}})(Jmol,jQuery);Jmol._debugCode=!1;
(function(a){a._coreFiles=[];a.__execLog=[];a.__execStack=[];a.__execTimer=0;a.__coreSet=[];a.__coreMore=[];a.__execDelayMS=100;a.showExecLog=function(){return a.__execLog.join("\n")};a.__addExec=function(k){var e="JSmol load "+k[0]._id+" "+k[3];self.console&&console.log(e+"...");a.__execLog.push(e);a.__execStack.push(k)};a.__addCoreFile=function(k,e,f){if(!(0<=a.__coreSet.join("").indexOf(k))){a.__coreSet.push(k);a.__coreSet.sort();k=a.__coreSet.join("");a._coreFiles=[e+"/core/core"+("jmol"==k?"":
k)+".z.js"];if(f&&(f=f.split(" ")))for(k=0;k<f.length;k++)0>a.__coreMore.join("").indexOf(f[k])&&a.__coreMore.push(e+"/core/core"+f[k]+".z.js");for(k=0;k<a.__coreMore.length;k++)a._coreFiles.push(a.__coreMore[k])}};a.__nextExecution=function(k){delete a.__execTimer;for(var e=a.__execStack,f;0<e.length&&"done"==(f=e[0])[4];)e.shift();0!=e.length&&(k?(f.push("done"),k="JSmol exec "+f[0]._id+" "+f[3]+" "+f[2],self.console&&console.log(k+" -- OK"),a.__execLog.push(k),f[1](f[0],f[2])):setTimeout("Jmol.__nextExecution(true)",
10))};a.__loadClazz=function(k){a.__clazzLoaded?a.__nextExecution():(a.__clazzLoaded=!0,LoadClazz(),k._noMonitor&&(Clazz._LoaderProgressMonitor.showStatus=function(){}),LoadClazz=null,Clazz._Loader.globalLoaded=function(){Clazz._LoaderProgressMonitor.showStatus("Application loaded.",!0);a._debugCode&&a.haveCore||(a.haveCore=!0,a.__nextExecution())},Clazz._Loader.packageClasspath("java",null,!0))};a.__loadClass=function(k,e){Clazz._Loader.loadClass(e,function(){a.__nextExecution()})};a._Canvas2D=function(k,
e,f,d){this._uniqueId=(""+Math.random()).substring(3);this._id=k;this._is2D=!0;this._isJava=!1;this._jmolType="Jmol._Canvas2D ("+f+")";switch(f){case "Jmol":this._platform="J.awtjs2d.Platform";break;case "JSV":this._isLayered=this._isJSV=!0,this._platform="JSV.awtjs2d.Platform"}if(d)return this;window[k]=this;this._createCanvas(k,e);if(!a._document||this._deferApplet)return this;this._init();return this};a._jsSetPrototype=function(k){k._init=function(){this._setupJS();this._showInfo(!0);this._disableInitialConsole&&
this._showInfo(!1)};k._createCanvas=function(e,f,d){a._setObject(this,e,f);d&&(this._GLmol=d,this._GLmol.applet=this,this._GLmol.id=this._id);d=a._getWrapper(this,!0);this._deferApplet||(a._document?(a._documentWrite(d),this._getCanvas(!1),d=""):(this._deferApplet=!0,d+='<script type="text/javascript">'+e+"._cover(false)\x3c/script>"));d+=a._getWrapper(this,!1);f.addSelectionOptions&&(d+=a._getGrabberOptions(this));a._debugAlert&&!a._document&&alert(d);this._code=a._documentWrite(d)};k._cover=function(e){if(e||
!this._deferApplet)this._displayCoverImage(e);else{var f=this._coverScript?this._coverScript:"";this._coverScript="";this._deferUncover&&(f+=";refresh;javascript "+this._id+"._displayCoverImage(false)");this._script(f,!0);this._deferUncover&&"activate 3D model"==this._coverTitle&&(a._getElement(this,"coverimage").title="3D model is loading...");this._start();this._deferUncover||this._displayCoverImage(e);this._init&&this._init()}};k._displayCoverImage=function(e){this._coverImage&&this._isCovered!=
e&&(this._isCovered=e,a._getElement(this,"coverdiv").style.display=e?"block":"none")};k._start=function(){this._deferApplet&&this._getCanvas(!1);this._defaultModel&&a._search(this,this._defaultModel);this._showInfo(!1)};k._getCanvas=function(a){this._is2D?this._createCanvas2d(a):this._GLmol.create()};k._createCanvas2d=function(e){var f=a.$(this,"appletdiv");if(e)try{f[0].removeChild(this._canvas),this._canvas.frontLayer&&f[0].removeChild(this._canvas.frontLayer),this._canvas.rearLayer&&f[0].removeChild(this._canvas.rearLayer),
this._canvas.imageLayer&&f[0].removeChild(this._canvas.imageLayer),a._jsUnsetMouse(this._mouseInterface)}catch(d){}e=Math.round(f.width());var h=Math.round(f.height()),b=document.createElement("canvas");b.applet=this;this._canvas=b;b.style.width="100%";b.style.height="100%";b.width=e;b.height=h;b.id=this._id+"_canvas2d";f.append(b);a._$(b.id).css({"z-index":a._getZ(this,"main")});if(this._isLayered){var c=document.createElement("div");b.imageLayer=c;c.id=this._id+"_imagelayer";f.append(c);a._$(c.id).css({zIndex:a._getZ(this,
"image"),position:"absolute",left:"0px",top:"0px",width:"0px",height:"0px",overflow:"hidden"});this._mouseInterface=this._getLayer("front",f,e,h,!1)}else this._mouseInterface=b;a._jsSetMouse(this._mouseInterface)};k._getLayer=function(e,f,d,h,b){var c=document.createElement("canvas");this._canvas[e+"Layer"]=c;c.style.width="100%";c.style.height="100%";c.id=this._id+"_"+e+"Layer";c.width=d;c.height=h;f.append(c);c.applet=this;a._$(c.id).css({background:b?"rgb(0,0,0,1)":"rgb(0,0,0,0.001)","z-index":a._getZ(this,
e),position:"absolute",left:"0px",top:"0px",overflow:"hidden"});return c};k._setupJS=function(){window["j2s.lib"]={base:this._j2sPath+"/",alias:".",console:this._console,monitorZIndex:a._getZ(this,"monitorZIndex")};0==a.__execStack.length&&a.__addExec([this,a.__loadClazz,null,"loadClazz"]);this._isJSV?(a.__addCoreFile("jsv",this._j2sPath,this.__Info.preloadCore),a._debugCode&&(a.__addExec([this,a.__loadClass,"JSV.appletjs.JSVApplet","load JSV"]),this._isPro&&a.__addExec([this,a.__loadClass,"JSV.appletjs.JSVAppletPro",
"load JSV(signed)"]))):(a.__addCoreFile("jmol",this._j2sPath,this.__Info.preloadCore),this._is2D||a.__addExec([this,a.__loadClass,"J.export.JSExporter","load JSExporter"]),a._debugCode&&a.__addExec([this,a.__loadClass,"J.appletjs.Jmol","load Jmol"]));a.__addExec([this,this.__startAppletJS,null,"start applet"]);this._isSigned=!0;this._ready=!1;this._applet=null;this._canScript=function(){return!0};this._savedOrientations=[];a.__execTimer&&clearTimeout(a.__execTimer);a.__execTimer=setTimeout(a.__nextExecution,
a.__execDelayMS)};k.__startAppletJS=function(e){var f=new java.util.Hashtable;a._setJmolParams(f,e.__Info,!0);f.put("appletReadyCallback","Jmol._readyCallback");f.put("applet",!0);f.put("name",e._id);f.put("syncId",a._syncId);e._color&&f.put("bgcolor",e._color);e._is2D?e._startupScript&&f.put("script",e._startupScript):f.put("script","set multipleBondSpacing 0.35;");a._syncedApplets.length&&f.put("synccallback","Jmol._mySyncCallback");f.put("signedApplet","true");f.put("platform",e._platform);e._is2D&&
f.put("display",e._id+"_canvas2d");f.put("documentBase",document.location.href);var d=e._j2sPath+"/";if(0>d.indexOf("://")){var h=document.location.href.split("#")[0].split("?")[0].split("/");h[h.length-1]=d;d=h.join("/")}f.put("codePath",d);a._registerApplet(e._id,e);e._applet=e._isJSV?e._isPro?new JSV.appletjs.JSVAppletPro(f):new JSV.appletjs.JSVApplet(f):new J.appletjs.Jmol(f);e._is2D||(e._GLmol.applet=e);e._jsSetScreenDimensions();a.__nextExecution()};k._jsSetScreenDimensions=function(){if(this._applet){var e=
a._getElement(this,this._is2D?"canvas2d":"canvas");this._applet.viewer.setScreenDimension(e.width,e.height)}};k._show=function(e){a.$setVisible(a.$(this,"appletdiv"),e);e&&a._repaint(this,!0)};k._canScript=function(){return!0};k._delay=function(a,f,d){this._delayID=setTimeout(function(){a.resumeEval(f,!1)},d)};k._createDomNode=function(a,f){a=this._id+"_"+a;var d=document.getElementById(a);d&&document.body.removeChild(d);if(f){0==f.indexOf("<?")&&(f=f.substring(f.indexOf("<",1)));if(0<=f.indexOf("/>")){for(var d=
f.split("/>"),h=d.length-1;0<=--h;)for(var b=d[h],c=b.lastIndexOf("<")+1,g=c,k=b.length,p="";++g<k;)if(0<=" \t\n\r".indexOf(b.charAt(g))){p=b.substring(c,g);d[h]=b+"></"+p+">";break}f=d.join("")}d=document.createElement("_xml");d.id=a;d.innerHTML=f;d.style.display="none";document.body.appendChild(d);return d}};k.equals=function(a){return this==a};k.clone=function(){return this};k.hashCode=function(){return parseInt(this._uniqueId)};k._processGesture=function(a){return this._applet.viewer.mouse.processTwoPointGesture(a)};
k._processEvent=function(a,f){this._applet.viewer.processMouseEvent(a,f[0],f[1],f[2],System.currentTimeMillis())};k._resize=function(){var e="__resizeTimeout_"+this._id;a[e]&&clearTimeout(a[e]);var f=this;a[e]=setTimeout(function(){a._repaint(f,!0);a[e]=null},100)};return k};a._repaint=function(k,e){if(k&&k._applet){var f=a.$(k,"appletdiv"),d=Math.round(f.width()),f=Math.round(f.height());!k._is2D||k._canvas.width==d&&k._canvas.height==f||(k._getCanvas(!0),k._applet.viewer.setDisplay(k._canvas));
k._applet.viewer.setScreenDimension(d,f);e?setTimeout(function(){k._applet&&k._applet.viewer.updateJS(0,0)}):k._applet.viewer.updateJS(0,0)}};a._getHiddenCanvas=function(a,e,f,d,h){e=a._id+"_"+e;(a=document.getElementById(e))&&h&&(a=null);a||(a=document.createElement("canvas"));a.width=a.style.width=f;a.height=a.style.height=d;a.id!=e&&(a.id=e);return a};a._loadImage=function(k,e,f,d,h){var b=e[1];if(null==h)return h=new Image,h.onload=function(){a._loadImage(k,e,null,d,h)},null!=f&&(f=J.io.Base64.getBase64(f).toString(),
f=b.substring(url.lastIndexOf("/")+1),0<=f.indexOf(".png")||f.indexOf(".jpg")),h.src=b,!0;f=h.width;var c=h.height,g="echo_"+e[0],l=a._getHiddenCanvas(k.vwr.applet,g,f,c,!0);l.imageWidth=f;l.imageHeight=c;l.id=g;l.image=h;a._setCanvasImage(l,f,c);d(l,b)};a._setCanvasImage=function(a,e,f){a.buf32=null;a.width=e;a.height=f;a.getContext("2d").drawImage(a.image,0,0,e,f)}})(Jmol);
(function(a,k){a._Applet=function(d,e,b){window[d]=this;this._jmolType="Jmol._Applet"+(e.isSigned?" (signed)":"");this._viewType="Jmol";this._isJava=!0;this._syncKeyword="Select:";if(b)return this;this._isSigned=e.isSigned;this._readyFunction=e.readyFunction;this._ready=!1;this._isJava=!0;this._isInfoVisible=!1;this._applet=null;this._memoryLimit=e.memoryLimit||512;this._canScript=function(){return!0};this._savedOrientations=[];this._initialize=function(b,d){var f=!1;a._jarFile&&(d=a._jarFile);if(this._jarFile){var k=
this._jarFile;0<=k.indexOf("/")?(alert("This web page URL is requesting that the applet used be "+k+". This is a possible security risk, particularly if the applet is signed, because signed applets can read and write files on your local machine or network."),"yes"==prompt("Do you want to use applet "+k+"? ","yes or no")?(b=k.substring(0,k.lastIndexOf("/")),d=k.substring(k.lastIndexOf("/")+1)):f=!0):d=k;this_isSigned=e.isSigned=0<=d.indexOf("Signed")}this._jarPath=e.jarPath=b||".";this._jarFile=e.jarFile=
"string"==typeof d?d:(d?"JmolAppletSigned":"JmolApplet")+"0.jar";f&&alert("The web page URL was ignored. Continuing using "+this._jarFile+' in directory "'+this._jarPath+'"');void 0==a.controls||a.controls._onloadResetForms()};this._create(d,e);return this};var e=a._Applet,f=a._Applet.prototype;e._get=function(d,f,b){b||(b=!1);f||(f={});a._addDefaultInfo(f,{color:"#FFFFFF",width:300,height:300,addSelectionOptions:!1,serverURL:"http://your.server.here/jsmol.php",defaultModel:"",script:null,src:null,
readyFunction:null,use:"HTML5",jarPath:"java",jarFile:"JmolApplet0.jar",isSigned:!1,j2sPath:"j2s",coverImage:null,coverTitle:"",coverCommand:"",deferApplet:!1,deferUncover:!1,disableJ2SLoadMonitor:!1,disableInitialConsole:!1,debug:!1});a._debugAlert=f.debug;a.featureDetection.allowHTML5||(f.use="JAVA");f.serverURL&&(a._serverUrl=f.serverURL);for(var c=!1,g=null,k=f.use.toUpperCase().split("#")[0].split(" "),p=0;p<k.length;p++){switch(k[p]){case "JAVA":c=!0;a.featureDetection.supportsJava()&&(g=new e(d,
f,b));break;case "WEBGL":g=e._getCanvas(d,f,b,!0);break;case "HTML5":g=e._getCanvas(d,f,b,!1);break;case "IMAGE":g=new a._Image(d,f,b)}if(null!=g)break}null==g&&(b||!c?g={_jmolType:"none"}:c&&(g=new e(d,f)));return b?g:a._registerApplet(d,g)};e._getCanvas=function(d,f,b,c){return c&&a.featureDetection.supportsWebGL()?(a._Canvas3D.prototype=a.GLmol.extendApplet(a._jsSetPrototype(new e(d,f,!0))),new a._Canvas3D(d,f,"Jmol",b)):c?null:(a._Canvas2D.prototype=a._jsSetPrototype(new e(d,f,!0)),new a._Canvas2D(d,
f,"Jmol",b))};e._noJavaMsg="Either you do not have Java applets enabled in your web<br />browser or your browser is blocking this applet.<br />\t\t\tCheck the warning message from your browser and/or enable Java applets in<br />\t\t\tyour web browser preferences, or install the Java Runtime Environment from <a href='http://www.java.com'>www.java.com</a>";e._setCommonMethods=function(a){a._showInfo=f._showInfo;a._search=f._search;a._getName=f._getName;a._readyCallback=f._readyCallback};e._createApplet=
function(d,f,b){d._initialize(f.jarPath,f.jarFile);var c=d._jarFile,g="";a._isFile&&(c=c.replace(/0\.jar/,".jar"),g=' jnlp_href="'+c.replace(/\.jar/,".jnlp")+'"');var l=0<=d._containerWidth.indexOf("px")?d._containerWidth:"100%",p=0<=d._containerHeight.indexOf("px")?d._containerHeight:"100%",l=' style="width:'+l+";height:"+p+'" ',g="name='"+d._id+"_object' id='"+d._id+"_object' \n"+l+g+"\n";b.codebase=d._jarPath;b.codePath=b.codebase+"/";0>b.codePath.indexOf("://")&&(p=k.location.href.split("#")[0].split("?")[0].split("/"),
p[p.length-1]=b.codePath,b.codePath=p.join("/"));b.archive=c;b.mayscript="true";b.java_arguments="-Xmx"+Math.round(f.memoryLimit||d._memoryLimit)+"m";b.permissions=d._isSigned?"all-permissions":"sandbox";b.documentLocation=k.location.href;b.documentBase=k.location.href.split("#")[0].split("?")[0];b.jarPath=f.jarPath;a._syncedApplets.length&&(b.synccallback="Jmol._mySyncCallback");d._startupScript&&(b.script=d._startupScript);var p="\n",v;for(v in b)b[v]&&(p+="  <param name='"+v+"' value='"+b[v]+"' />\n");
p=a.featureDetection.useIEObject||a.featureDetection.useHtml4Object?"<object "+g+(a.featureDetection.useIEObject?" classid='clsid:8AD9C840-044E-11D1-B3E9-00805F499D93' codebase='http://java.sun.com/update/1.6.0/jinstall-6u22-windows-i586.cab'>":" type='application/x-java-applet'>")+p+"<p style='background-color:yellow;"+l.split('"')[1]+";text-align:center;vertical-align:middle;'>\n"+e._noJavaMsg+"</p></object>\n":"<applet "+g+" code='"+b.code+"' codebase='"+d._jarPath+"' archive='"+c+"' mayscript='true'>\n"+
p+"<table bgcolor='yellow'><tr><td align='center' valign='middle' "+l+">\n"+e._noJavaMsg+"</td></tr></table></applet>\n";p=a._getWrapper(d,!0)+p+a._getWrapper(d,!1)+(f.addSelectionOptions?a._getGrabberOptions(d):"");a._debugAlert&&alert(p);d._code=a._documentWrite(p)};f._create=function(d,f){a._setObject(this,d,f);var b={syncId:a._syncId,progressbar:"true",progresscolor:"blue",boxbgcolor:this._color||"black",boxfgcolor:"white",boxmessage:"Downloading JmolApplet ...",script:this._color?'background "'+
this._color+'"':"",code:"JmolApplet.class"};a._setJmolParams(b,f);var c;f.inlineModel?(c=f.inlineModel,c=c.replace(/\r|\n|\r\n/g,0<=c.indexOf("|")?"\\/n":"|").replace(/'/g,"&#39;"),a._debugAlert&&alert("inline model:\n"+c)):c="";b.loadInline=c;b.appletReadyCallback="Jmol._readyCallback";a._syncedApplets.length&&(b.synccallback="Jmol._mySyncCallback");b.java_arguments="-Xmx"+Math.round(f.memoryLimit||this._memoryLimit)+"m";this._initialize(f.jarPath,f.jarFile);e._createApplet(this,f,b)};f._readyCallback=
function(d,e,b,c){b&&(a._setDestroy(this),this._ready=!0,d=this._readyScript,this._applet=c,this._defaultModel?a._search(this,this._defaultModel,d?";"+d:""):d?this._script(d):this._src&&this._script('load "'+this._src+'"'),this._showInfo(!0),this._showInfo(!1),a.Cache.setDragDrop(this),this._readyFunction&&this._readyFunction(this),a._setReady(this),(c=this._2dapplet)&&c._isEmbedded&&c._ready&&c.__Info.visible&&this._show2d(!0))};f._showInfo=function(d){d&&this._2dapplet&&this._2dapplet._show(!1);
a.$html(a.$(this,"infoheaderspan"),this._infoHeader);this._info&&a.$html(a.$(this,"infodiv"),this._info);if(!this._isInfoVisible!=!d){this._isInfoVisible=d;if(this._isJava){var e=d?2:"100%";a.$setSize(a.$(this,"appletdiv"),e,e)}a.$setVisible(a.$(this,"infotablediv"),d);a.$setVisible(a.$(this,"infoheaderdiv"),d);this._show(!d)}};f._show2d=function(a){this._2dapplet._show2d(a);this._2dapplet._isEmbedded&&(this._showInfo(!1),this._show(!a))};f._getAtomCorrelation=function(a){this._loadMolData(a,"atommap = compare({1.1} {2.1} 'MAP' 'H'); zap 2.1",
!0);a=jmol._evaluate("atommap");for(var e=jmol._evaluate("{*}.count"),b=[],c=[],g=0;g<a.length;g++){var f=a[g];b[f[0]+1]=f[1]-e+1;c[f[1]-e+1]=f[0]+1}return{fromJmol:b,toJmol:c}};f._show=function(d){var e=d?"100%":2;a.$setSize(a.$(this,"object"),e,e);this._isJava||a.$setVisible(a.$(this,"appletdiv"),d)};f._clearConsole=function(){this._console==this._id+"_infodiv"&&(this.info="");self.Clazz&&(a._setConsoleDiv(this._console),Clazz.Console.clear())};f._addScript=function(a){this._readyScript||(this.readyScript=
"");this._readyScript&&(this._readyScript+=";");this._readyScript+=a;return!0};f._script=function(d){if(!this._ready)return this._addScript(d);a._setConsoleDiv(this._console);this._applet.script(d)};f._syncScript=function(a){this._applet.syncScript(a)};f._scriptCheck=function(a){return this._ready&&this._applet.scriptCheck(a)};f._scriptWait=function(a,e){var b=this._scriptWaitAsArray(a),c="";if(!e)for(var g=b.length;0<=--g;)for(var f=0,k=b[g].length;f<k;f++)c+=b[g][f]+"\n";return c};f._scriptEcho=
function(a){a=this._scriptWaitAsArray(a);for(var e="",b=a.length;0<=--b;)for(var c=a[b].length;0<=--c;)"scriptEcho"==a[b][c][1]&&(e+=a[b][c][3]+"\n");return e.replace(/ \| /g,"\n")};f._scriptMessage=function(a){a=this._scriptWaitAsArray(a);for(var e="",b=a.length;0<=--b;)for(var c=a[b].length;0<=--c;)"scriptStatus"==a[b][c][1]&&(e+=a[b][c][3]+"\n");return e.replace(/ \| /g,"\n")};f._scriptWaitOutput=function(a){var e="";try{a&&(e+=this._applet.scriptWaitOutput(a))}catch(b){}return e};f._scriptWaitAsArray=
function(d){var e="";try{if(this._getStatus("scriptEcho,scriptMessage,scriptStatus,scriptError"),d&&(e+=this._applet.scriptWait(d),e=a._evalJSON(e,"jmolStatus"),"object"==typeof e))return e}catch(b){}return[[e]]};f._getStatus=function(d){return a._sortMessages(this._getPropertyAsArray("jmolStatus",d))};f._getPropertyAsArray=function(d,e){return a._evalJSON(this._getPropertyAsJSON(d,e),d)};f._getPropertyAsString=function(a,e){void 0==e&&(e="");return this._applet.getPropertyAsString(a,e)+""};f._getPropertyAsJSON=
function(a,e){void 0==e&&(e="");try{return this._applet.getPropertyAsJSON(a,e)+""}catch(b){return""}};f._getPropertyAsJavaObject=function(a,e){void 0==e&&(e="");return this._applet.getProperty(a,e)};f._evaluate=function(a){null!=a||(a="");return this._getPropertyAsArray("variableInfo",a)};f._evaluateDEPRECATED=function(a){a=""+this._getPropertyAsJavaObject("evaluate",a);var e=a.replace(/\-*\d+/,"");if(""==e&&!isNaN(parseInt(a)))return parseInt(a);e=a.replace(/\-*\d*\.\d*/,"");return""!=e||isNaN(parseFloat(a))?
a:parseFloat(a)};f._saveOrientation=function(a){return this._savedOrientations[a]=this._getPropertyAsArray("orientationInfo","info").moveTo};f._restoreOrientation=function(a){return(a=this._savedOrientations[a])&&""!=a?this._scriptWait(a):a.replace(/1\.0/,"0")};f._restoreOrientationDelayed=function(a,e){1>arguments.length&&(e=1);var b=this._savedOrientations[a];return b&&""!=b?this._scriptWait(b):b.replace(/1\.0/,e)};f._resizeApplet=function(d){function e(b,d){var f=""+b;return 0==f.length?d?"":a._allowedJmolSize[2]:
f.indexOf("%")==f.length-1?f:1>=(b=parseFloat(b))&&0<b?100*b+"%":(isNaN(b=Math.floor(b))?a._allowedJmolSize[2]:b<a._allowedJmolSize[0]?a._allowedJmolSize[0]:b>a._allowedJmolSize[1]?a._allowedJmolSize[1]:b)+(d?d:"")}var b;"object"==typeof d&&null!=d?(b=d[0]||d.width,d=d[1]||d.height):b=d;b=[e(b,"px"),e(d,"px")];d=a._getElement(this,"appletinfotablediv");d.style.width=b[0];d.style.height=b[1];this._containerWidth=b[0];this._containerHeight=b[1];this._is2D&&a._repaint(this,!0)};f._search=function(d,
e){a._search(this,d,e)};f._searchDatabase=function(d,e,b){if(this._2dapplet&&this._2dapplet._isEmbedded&&a.$(this,"2dappletdiv:visible")[0])return this._2dapplet._searchDatabase(d,e,b);this._showInfo(!1);0<=d.indexOf("?")?a._getInfoFromDatabase(this,e,d.split("?")[0]):(b||(b=a._getScriptForDatabase(e)),d=e+d,this._currentView=null,this._searchQuery=d,this._loadFile(d,b,d))};f._loadFile=function(d,e,b){this._showInfo(!1);e||(e="");this._thisJmolModel=""+Math.random();this._fileName=d;if(!this._scriptLoad(d,
e)){var c=this;a._loadFileData(this,d,function(a){c.__loadModel(a,e,b)},function(){c.__loadModel(null)})}};f._scriptLoad=function(a,e){e||(e="");var b=this._isJava||!this._noscript;b&&this._script("zap;set echo middle center;echo Retrieving data...");if(!this._isSigned||null!=this._viewSet)return!1;b?this._script('load async "'+a+'";'+e):this._applet.viewer.openFile(a);this._checkDeferred("");return!0};f.__loadModel=function(d,e,b){null!=d&&(null!=this._viewSet&&(e||(e=""),e+=";if ({*}.molecule.max > 1 || {*}.modelindex.max > 0){ delete molecule > 1 or modelindex > 0;x = getProperty('extractModel',{*});load inline @x};"),
!e&&this._noscript?this._applet.viewer.loadInline(d,"\x00"):this._loadMolData(d,e,!1),null!=this._viewSet&&a.View.updateView(this,{chemID:b,data:d}))};f._loadMolData=function(a,e,b){e||(e="");b=b?"append":"model";this._applet.scriptWait('load DATA "'+b+'"'+a+'\nEND "'+b+'" ;'+e)};f._loadModelFromView=function(e){this._currentView=e;var f=e.Jmol;null!=f.data?this.__loadModel(f.data,null,e.info.chemID):null!=e.info.chemID?a._searchMol(this,e.info.chemID,null,!1):(f=e.JME)&&f.applet._show2d(!1,this)};
f._updateView=function(){null!=this._viewSet&&this._applet&&(chemID=""+this._getPropertyAsJavaObject("variableInfo","script('show chemical inchiKey')"),chemID=36>chemID.length()?null:chemID.substring(36).split("\n")[0],a.View.updateView(this,{chemID:chemID,data:""+this._getPropertyAsJavaObject("evaluate","extractModel","{visible}")}))};f._atomPickedCallback=function(e,f){if(!(0>f)){var b=[f+1];a.View.updateAtomPick(this,b);this._updateAtomPick(b)}};f._updateAtomPick=function(a){this._script(0==a.length?
"select none":"select on visible and (@"+a.join(",@")+")")};f._isDeferred=function(){return!this._canvas&&this._cover&&this._isCovered&&this._deferApplet};f._checkDeferred=function(a){return this._isDeferred()?(this._coverScript=a,this._cover(!1),!0):!1};f._getSmiles=function(){return this._evaluate("{visible}.find('SMILES')")};f._getMol=function(){return this._evaluate("getProperty('ExtractModel',{visible})")};f._getMol2D=function(){return jmol._evaluate("script('select visible;show chemical sdf')")};
a.jmolSmiles=function(a){return a._getSmiles()}})(Jmol,document);
(function(a){var k=a.controls={_hasResetForms:!1,_scripts:[""],_checkboxMasters:{},_checkboxItems:{},_actions:{},_buttonCount:0,_checkboxCount:0,_radioGroupCount:0,_radioCount:0,_linkCount:0,_cmdCount:0,_menuCount:0,_previousOnloadHandler:null,_control:null,_element:null,_appletCssClass:null,_appletCssText:"",_buttonCssClass:null,_buttonCssText:"",_checkboxCssClass:null,_checkboxCssText:"",_radioCssClass:null,_radioCssText:"",_linkCssClass:null,_linkCssText:"",_menuCssClass:null,_menuCssText:""};
k._addScript=function(a,f){var d=k._scripts.length;k._scripts[d]=[a,f];return d};k._getIdForControl=function(a,f){return"string"==typeof a?a:f&&a._canScript&&!a._canScript(f)?null:a._id};k._radio=function(a,f,d,h,b,c,g,l){var p=k._getIdForControl(a,f);if(null==p)return null;++k._radioCount;void 0!=c&&null!=c||(c="jmolRadioGroup"+(k._radioGroupCount-1));if(!f)return"";void 0!=g&&null!=g||(g="jmolRadio"+(k._radioCount-1));void 0!=d&&null!=d||(d=f.substring(0,32));b||(b="");a="</span>";k._actions[g]=
k._addScript(p,f);f='<span id="span_'+g+'"'+(l?' title="'+l+'"':"")+"><input name='"+c+"' id='"+g+"' type='radio' onclick='Jmol.controls._click(this);return true;' onmouseover='Jmol.controls._mouseOver(this);return true;' onmouseout='Jmol.controls._mouseOut()' "+(h?"checked='true' ":"")+k._radioCssText+" />";0<=d.toLowerCase().indexOf("<td>")&&(f+=a,a="");return f+('<label for="'+g+'">'+d+"</label>"+a+b)};k._scriptExecute=function(e,f){var d=a._applets[f[0]],h=f[1];if("object"==typeof h)h[0](e,h,
d);else"function"==typeof h?h(d):a.script(d,h)};k.__checkScript=function(a,f){var d=0<=f.value.indexOf("JSCONSOLE ")||""===a._scriptCheck(f.value);f.style.color=d?"black":"red";return d};k.__getCmd=function(a,f){if(f._cmds&&f._cmds.length){var d=f._cmds[f._cmdpt=(f._cmdpt+f._cmds.length+a)%f._cmds.length];setTimeout(function(){f.value=d},10);f._cmdadd=1;f._cmddir=a}};k._commandKeyPress=function(e,f,d){e=13==e?13:window.event?window.event.keyCode:e?e.keyCode||e.which:0;var h=document.getElementById(f),
b=a._applets[d];switch(e){case 13:return f=h.value,k.__checkScript(b,h)&&(k._scriptExecute(h,[d,f]),1)&&(h._cmds||(h._cmds=[],h._cmddir=0,h._cmdpt=-1,h._cmdadd=0),f&&0==h._cmdadd?(++h._cmdpt,h._cmds.splice(h._cmdpt,0,f),h._cmdadd=0,h._cmddir=0):h._cmdadd=0,h.value=""),!1;case 27:return setTimeout(function(){h.value=""},20),!1;case 38:k.__getCmd(-1,h);break;case 40:k.__getCmd(1,h);break;default:h._cmdadd=0}setTimeout(function(){k.__checkScript(b,h)},20);return!0};k._click=function(a,f){k._element=
a;1==arguments.length&&(f=k._actions[a.id]);k._scriptExecute(a,k._scripts[f])};k._menuSelected=function(a){var f=a.value;if(void 0!=f)k._scriptExecute(a,k._scripts[f]);else{f=a.length;if("number"==typeof f)for(var d=0;d<f;++d)if(a[d].selected){k._click(a[d],a[d].value);return}alert("?Que? menu selected bug #8734")}};k._cbNotifyMaster=function(a){var f=!0,d=!0,h;for(h in a.chkGroup)a.chkGroup[h].checked?d=!1:f=!1;f&&(a.chkMaster.checked=!0);d&&(a.chkMaster.checked=!1);(f||d)&&k._checkboxItems[a.chkMaster.id]&&
k._cbNotifyMaster(k._checkboxItems[a.chkMaster.id])};k._cbNotifyGroup=function(a,f){for(var d in a.chkGroup){var h=a.chkGroup[d];h.checked!=f&&(h.checked=f,k._cbClick(h));k._checkboxMasters[h.id]&&k._cbNotifyGroup(k._checkboxMasters[h.id],f)}};k._cbSetCheckboxGroup=function(a,f,d){var h=a;"number"==typeof h&&(h="jmolCheckbox"+h);(a=document.getElementById(h))||alert("jmolSetCheckboxGroup: master checkbox not found: "+h);var b=k._checkboxMasters[h]={};b.chkMaster=a;b.chkGroup={};"string"==typeof f?
(f=d,h=1):h=0;for(a=h;a<f.length;a++)h=f[a],"number"==typeof h&&(h="jmolCheckbox"+h),(checkboxItem=document.getElementById(h))||alert("jmolSetCheckboxGroup: group checkbox not found: "+h),b.chkGroup[h]=checkboxItem,k._checkboxItems[h]=b};k._cbClick=function(a){k._control=a;var f=k._actions[a.id][0],d=k._actions[a.id][1];k._click(a,a.checked?f:d);k._checkboxMasters[a.id]&&k._cbNotifyGroup(k._checkboxMasters[a.id],a.checked);k._checkboxItems[a.id]&&k._cbNotifyMaster(k._checkboxItems[a.id])};k._cbOver=
function(a){var f=k._actions[a.id][0],d=k._actions[a.id][1];window.status=k._scripts[a.checked?d:f]};k._mouseOver=function(a,f){1==arguments.length&&(f=k._actions[a.id]);window.status=k._scripts[f]};k._mouseOut=function(){window.status=" ";return!0};k._onloadResetForms=function(){k._hasResetForms||(k._hasResetForms=!0,k._previousOnloadHandler=window.onload,window.onload=function(){if(0<k._buttonCount+k._checkboxCount+k._menuCount+k._radioCount+k._radioGroupCount)for(var a=document.forms,f=a.length;0<=
--f;)a[f].reset();k._previousOnloadHandler&&k._previousOnloadHandler()})};k._getButton=function(e,f,d,h,b){e=k._getIdForControl(e,f);if(null==e)return"";void 0!=h&&null!=h||(h="jmolButton"+k._buttonCount);void 0!=d&&null!=d||(d=f.substring(0,32));++k._buttonCount;k._actions[h]=k._addScript(e,f);f='<span id="span_'+h+'"'+(b?' title="'+b+'"':"")+"><input type='button' name='"+h+"' id='"+h+"' value='"+d+"' onclick='Jmol.controls._click(this)' onmouseover='Jmol.controls._mouseOver(this);return true' onmouseout='Jmol.controls._mouseOut()' "+
k._buttonCssText+" /></span>";a._debugAlert&&alert(f);return a._documentWrite(f)};k._getCheckbox=function(e,f,d,h,b,c,g){var l=k._getIdForControl(e,f);null!=l&&(l=k._getIdForControl(e,d));if(null==l)return"";void 0!=c&&null!=c||(c="jmolCheckbox"+k._checkboxCount);++k._checkboxCount;if(void 0==f||null==f||void 0==d||null==d)alert("jmolCheckbox requires two scripts");else if(void 0==h||null==h)alert("jmolCheckbox requires a label");else return k._actions[c]=[k._addScript(l,f),k._addScript(l,d)],e="</span>",
b='<span id="span_'+c+'"'+(g?' title="'+g+'"':"")+"><input type='checkbox' name='"+c+"' id='"+c+"' onclick='Jmol.controls._cbClick(this)' onmouseover='Jmol.controls._cbOver(this);return true' onmouseout='Jmol.controls._mouseOut()' "+(b?"checked='true' ":"")+k._checkboxCssText+" />",0<=h.toLowerCase().indexOf("<td>")&&(b+=e,e=""),b+='<label for="'+c+'">'+h+"</label>"+e,a._debugAlert&&alert(b),a._documentWrite(b)};k._getCommandInput=function(e,f,d,h,b){e=k._getIdForControl(e,"x");if(null==e)return"";
void 0!=h&&null!=h||(h="jmolCmd"+k._cmdCount);void 0!=f&&null!=f||(f="Execute");void 0!=d&&!isNaN(d)||(d=60);++k._cmdCount;f='<span id="span_'+h+'"'+(b?' title="'+b+'"':"")+"><input name='"+h+"' id='"+h+"' size='"+d+"' onkeydown='return Jmol.controls._commandKeyPress(event,\""+h+'","'+e+"\")' /><input  type='button' name='"+h+"Btn' id='"+h+"Btn' value = '"+f+"' onclick='Jmol.controls._commandKeyPress(13,\""+h+'","'+e+"\")' /></span>";a._debugAlert&&alert(f);return a._documentWrite(f)};k._getLink=
function(e,f,d,h,b){e=k._getIdForControl(e,f);if(null==e)return"";void 0!=h&&null!=h||(h="jmolLink"+k._linkCount);void 0!=d&&null!=d||(d=f.substring(0,32));++k._linkCount;f=k._addScript(e,f);d='<span id="span_'+h+'"'+(b?' title="'+b+'"':"")+"><a name='"+h+"' id='"+h+"' href='javascript:Jmol.controls._click(null,"+f+");' onmouseover='Jmol.controls._mouseOver(null,"+f+");return true;' onmouseout='Jmol.controls._mouseOut()' "+k._linkCssText+">"+d+"</a></span>";a._debugAlert&&alert(d);return a._documentWrite(d)};
k._getMenu=function(e,f,d,h,b){var c=k._getIdForControl(e,null);void 0!=h&&null!=h||(h="jmolMenu"+k._menuCount);++k._menuCount;c=typeof f;if(null!=c&&"object"==c&&f.length){var g=f.length;"number"!=typeof d||1==d?d=null:0>d&&(d=g);d='<span id="span_'+h+'"'+(b?' title="'+b+'"':"")+"><select name='"+h+"' id='"+h+"' onChange='Jmol.controls._menuSelected(this)'"+(d?" size='"+d+"' ":"")+k._menuCssText+">";for(h=0;h<g;++h){var l=f[h],c=typeof l,p=null,v=b=null;"object"==c&&null!=l?(p=l[0],b=l[1],v=l[2]):
p=b=l;c=k._getIdForControl(e,p);if(null==c)return"";null==b&&(b=p);"#optgroup"==p?d+="<optgroup label='"+b+"'>":"#optgroupEnd"==p?d+="</optgroup>":(c=k._addScript(c,p),d+="<option value='"+c+(v?"' selected='true'>":"'>")+b+"</option>")}d+="</select></span>";a._debugAlert&&alert(d);return a._documentWrite(d)}};k._getRadio=function(e,f,d,h,b,c,g,l){0==k._radioGroupCount&&++k._radioGroupCount;c||(c="jmolRadioGroup"+(k._radioGroupCount-1));e=k._radio(e,f,d,h,b,c,g?g:c+"_"+k._radioCount,l?l:0);if(null==
e)return"";a._debugAlert&&alert(e);return a._documentWrite(e)};k._getRadioGroup=function(e,f,d,h,b,c){var g=typeof f;if("object"==g&&null!=g&&f.length){void 0!=d&&null!=d||(d="&#xa0; ");var l=f.length;++k._radioGroupCount;h||(h="jmolRadioGroup"+(k._radioGroupCount-1));for(var p="<span id='"+(b?b:h)+"'>",v=0;v<l;++v){v==l-1&&(d="");var q=f[v],g=typeof q,r=null,p="object"==g?p+(r=k._radio(e,q[0],q[1],q[2],d,h,3<q.length?q[3]:(b?b:h)+"_"+v,4<q.length?q[4]:0,c)):p+(r=k._radio(e,q,null,null,d,h,(b?b:h)+
"_"+v,c));if(null==r)return""}p+="</span>";a._debugAlert&&alert(p);return a._documentWrite(p)}alert("invalid arrayOfRadioButtons")}})(Jmol);
(function(a){var k=function(a){a="&"+a+"=";return decodeURI(("&"+document.location.search.substring(1)+a).split(a)[1].split("&")[0])};a._j2sPath=k("_J2S");a._jarFile=k("_JAR");a._use=k("_USE");a.getVersion=function(){return a._jmolInfo.version};a.getApplet=function(e,f,d){return a._Applet._get(e,f,d)};a.getJMEApplet=function(e,f,d,h){return a._JMEApplet._get(e,f,d,h)};a.getJSVApplet=function(e,f,d){return a._JSVApplet._get(e,f,d)};a.loadFile=function(a,f,d){a._loadFile(f,d)};a.script=function(a,f){a._checkDeferred(f)||
a._script(f)};a.scriptCheck=function(a,f){return a&&a._scriptCheck&&a._ready&&a._scriptCheck(f)};a.scriptWait=function(a,f){return a._scriptWait(f)};a.scriptEcho=function(a,f){return a._scriptEcho(f)};a.scriptMessage=function(a,f){return a._scriptMessage(f)};a.scriptWaitOutput=function(a,f){return a._scriptWait(f)};a.scriptWaitAsArray=function(a,f){return a._scriptWaitAsArray(f)};a.search=function(a,f,d){a._search(f,d)};a.evaluateVar=function(a,f){return a._evaluate(f)};a.evaluate=function(a,f){return a._evaluateDEPRECATED(f)};
a.getAppletHtml=function(e,f){if(f){var d=a._document;a._document=null;e=a.getApplet(e,f);a._document=d}return e._code};a.getPropertyAsArray=function(a,f,d){return a._getPropertyAsArray(f,d)};a.getPropertyAsJavaObject=function(a,f,d){return a._getPropertyAsJavaObject(f,d)};a.getPropertyAsJSON=function(a,f,d){return a._getPropertyAsJSON(f,d)};a.getPropertyAsString=function(a,f,d){return a._getPropertyAsString(f,d)};a.getStatus=function(a,f){return a._getStatus(f)};a.resizeApplet=function(a,f){return a._resizeApplet(f)};
a.restoreOrientation=function(a,f){return a._restoreOrientation(f)};a.restoreOrientationDelayed=function(a,f,d){return a._restoreOrientationDelayed(f,d)};a.saveOrientation=function(a,f){return a._saveOrientation(f)};a.say=function(a){alert(a)};a.clearConsole=function(a){a._clearConsole()};a.getInfo=function(a){return a._info};a.setInfo=function(a,f,d){a._info=f;2<arguments.length&&a._showInfo(d)};a.showInfo=function(a,f){a._showInfo(f)};a.show2d=function(a,f){a._show2d(f)};a.jmolBr=function(){return a._documentWrite("<br />")};
a.jmolButton=function(e,f,d,h,b){return a.controls._getButton(e,f,d,h,b)};a.jmolCheckbox=function(e,f,d,h,b,c,g){return a.controls._getCheckbox(e,f,d,h,b,c,g)};a.jmolCommandInput=function(e,f,d,h,b){return a.controls._getCommandInput(e,f,d,h,b)};a.jmolHtml=function(e){return a._documentWrite(e)};a.jmolLink=function(e,f,d,h,b){return a.controls._getLink(e,f,d,h,b)};a.jmolMenu=function(e,f,d,h,b){return a.controls._getMenu(e,f,d,h,b)};a.jmolRadio=function(e,f,d,h,b,c,g,k){return a.controls._getRadio(e,
f,d,h,b,c,g,k)};a.jmolRadioGroup=function(e,f,d,h,b,c){return a.controls._getRadioGroup(e,f,d,h,b,c)};a.setCheckboxGroup=function(e,f){a.controls._cbSetCheckboxGroup(e,f,arguments)};a.setDocument=function(e){a._document=e};a.setXHTML=function(e){a._isXHTML=!0;a._XhtmlElement=null;a._XhtmlAppendChild=!1;e&&(a._XhtmlElement=document.getElementById(e),a._XhtmlAppendChild=!0)};a.setAppletCss=function(e,f){null!=e&&(a.controls._appletCssClass=e);a.controls._appletCssText=f?f+" ":e?'class="'+e+'" ':""};
a.setButtonCss=function(e,f){null!=e&&(a.controls._buttonCssClass=e);a.controls._buttonCssText=f?f+" ":e?'class="'+e+'" ':""};a.setCheckboxCss=function(e,f){null!=e&&(a.controls._checkboxCssClass=e);a.controls._checkboxCssText=f?f+" ":e?'class="'+e+'" ':""};a.setRadioCss=function(e,f){null!=e&&(a.controls._radioCssClass=e);a.controls._radioCssText=f?f+" ":e?'class="'+e+'" ':""};a.setLinkCss=function(e,f){null!=e&&(a.controls._linkCssClass=e);a.controls._linkCssText=f?f+" ":e?'class="'+e+'" ':""};
a.setMenuCss=function(e,f){null!=e&&(a.controls._menuCssClass=e);a.controls._menuCssText=f?f+" ":e?'class="'+e+'" ':""};a.setAppletSync=function(e,f,d){a._syncedApplets=e;a._syncedCommands=f;a._syncedReady={};a._isJmolJSVSync=d};a.setGrabberOptions=function(e){a._grabberOptions=e};a.setAppletHtml=function(e,f){e._code&&(a.$html(f,e._code),e._init&&!e._deferApplet&&e._init())};a.coverApplet=function(a,f){a._cover&&a._cover(f)};a.setFileCaching=function(e,f){e?e._cacheFiles=f:a.fileCache=f?{}:null};
a.updateView=function(a,f,d){a._updateView(f,d)};a.getChemicalInfo=function(e,f,d){f||(f="name");"string"!=typeof applet_or_Identifier&&(e=e._getSmiles());return a._getNCIInfo(e,f,d)};a.saveImage=function(a){switch(a._viewType){case "Jmol":a._script('write PNGJ "'+a._id+'.png"');break;case "JSV":a._script("write PDF");break;case "JME":a._script("print")}}})(Jmol);
LoadClazz=function(){window["j2s.clazzloaded"]||(window["j2s.clazzloaded"]=!1);window["j2s.clazzloaded"]||(window["j2s.clazzloaded"]=!0,window["j2s.object.native"]=!0,Clazz=function(){},function(a){a.__debuggingBH=!1;a._globals=["j2s.clazzloaded","j2s.object.native"];a.setGlobal=function(b,c){a._globals.push(b);window[b]=c};a.getGlobals=function(){return a._globals.sort().join("\n")};a._profile=window["j2s.doProfile"]&&self.JSON?{}:null;a.getProfile=function(){var b="";if(a._profile){var b=[],c;for(c in a._profile){var d=
""+a._profile[c];b.push("        ".substring(d.length)+d+"\t"+c)}b=b.sort().reverse().join("\r\n");a._profile={}}return b};a.addProfile=function(b,c,d){b=b.__CLASS_NAME__+" "+c+" "+JSON.stringify(d);a._profile[b]||(a._profile[b]=0);a._profile[b]++};NullObject=function(){};a._supportsNativeObject=window["j2s.object.native"];a._supportsNativeObject?(a._O=function(){},a._O.__CLASS_NAME__="Object",a._O.getClass=function(){return a._O}):a._O=Object;a.Console={};a.dateToString=Date.prototype.toString;a.getSignature=
function(a,c,d,e){return e?a[c]=d:a[c]};a.addProto=function(b,c,d){a.getSignature(b,c,d,!0)};var k=a._O.prototype;a.addProto(k,"equals",function(a){return this==a});a.addProto(k,"hashCode",function(){try{return this.toString().hashCode()}catch(a){var c=":",d;for(d in this)c+=d+":";return c.hashCode()}});a.addProto(k,"getClass",function(){return a.getClass(this)});a.addProto(k,"clone",function(){return a.clone(this)});a.clone=function(a){var c=new a.constructor,d;for(d in a)c[d]=a[d];return c};a.addProto(k,
"finalize",function(){});a.addProto(k,"notify",function(){});a.addProto(k,"notifyAll",function(){});a.addProto(k,"wait",function(){});a.addProto(k,"to$tring",Object.prototype.toString);a.addProto(k,"toString",function(){return null!=this.__CLASS_NAME__?"["+this.__CLASS_NAME__+" object]":this.to$tring.apply(this,arguments)});a._extendedObjectMethods="equals hashCode getClass clone finalize notify notifyAll wait to$tring toString".split(" ");a.extendJO=function(b,c){c&&(b.__CLASS_NAME__=b.prototype.__CLASS_NAME__=
c);if(a._supportsNativeObject)for(var d=0;d<a._extendedObjectMethods.length;d++){var e=a._extendedObjectMethods[d];a.getSignature(b.prototype,e,a._O.prototype[e],!0)}};a.extractClassName=function(a){a=a.substring(1,a.length-1);return 0<=a.indexOf("Array")?"Array":0<=a.indexOf("object ")?a.substring(7):a};a.getClassName=function(b,c){if(null==b)return"NullObject";if(b instanceof a.CastedNull)return b.clazzName;switch(typeof b){case "number":return"Number";case "boolean":return"Boolean";case "string":return"String";
case "function":if(null!=b.__CLASS_NAME__)return c?b.__CLASS_NAME__:"Class";var d=b.toString(),e=d.indexOf("function");if(0>e)return"["==d.charAt(0)?a.extractClassName(d):d.replace(/[^a-zA-Z0-9]/g,"");var e=e+8,f=d.indexOf("(",e);if(0>f)return"Object";d=d.substring(e,f);if(0<=d.indexOf("Array"))return"Array";d=d.replace(/^\s+/,"").replace(/\s+$/,"");return"anonymous"==d||""==d?"Function":d;case "object":if(null!=b.__CLASS_NAME__)return b.__CLASS_NAME__;if(null==b.constructor)return"Object";if(null==
b.constructor.__CLASS_NAME__){if(b instanceof Number)return"Number";if(b instanceof Boolean)return"Boolean";if(b instanceof Array)return"Array";d=b.toString();if("["==d.charAt(0))return a.extractClassName(d)}}return a.getClassName(b.constructor,!0)};a.getClass=function(b){if(null==b)return a._O;if("function"==typeof b)return b;var c=null;if(b instanceof a.CastedNull)c=b.clazzName;else{if("string"==typeof b)return String;if("object"==typeof b)if(null!=b.__CLASS_NAME__)c=b.__CLASS_NAME__;else return null==
b.constructor?a._O:b.constructor}return null!=c?a.evalType(c,!0):b.constructor};a.extendsProperties=function(b,c){for(var d in c)"b$"!=d&&"prototype"!=d&&"superClazz"!=d&&"__CLASS_NAME__"!=d&&"implementz"!=d&&!a.checkInnerFunction(c,d)&&(b[d]=c[d])};a.checkInnerFunction=function(b,c){for(var d=0;d<a.innerFunctionNames.length;d++)if(c==a.innerFunctionNames[d]&&a._innerFunctions[c]===b[c])return!0;return!1};a.implementsProperties=function(b,c){for(var d in c)"b$"!=d&&"prototype"!=d&&"superClazz"!=d&&
"__CLASS_NAME__"!=d&&"implementz"!=d&&("function"!=typeof c[d]||!a.checkInnerFunction(c,d))&&(b[d]=c[d],b.prototype[d]=c[d])};a.args4InheritClass=function(){};a.inheritArgs=new a.args4InheritClass;a.inheritClass=function(b,c,d){a.extendsProperties(b,c);a.isClassUnloaded(b)||(b.prototype=null!=d?d:c!==Number?new c(a.inheritArgs):new Number);b.superClazz=c;b.prototype.__CLASS_NAME__=b.__CLASS_NAME__};a.implementOf=function(b,c){if(2<=arguments.length){null==b.implementz&&(b.implementz=[]);var d=b.implementz;
if(2==arguments.length)if("function"==typeof c)d[d.length]=c,a.implementsProperties(b,c);else{if(c instanceof Array)for(var e=0;e<c.length;e++)d[d.length]=c[e],a.implementsProperties(b,c[e])}else for(e=1;e<arguments.length;e++)d[d.length]=arguments[e],a.implementsProperties(b,arguments[e])}};a.extendInterface=a.implementOf;a.equalsOrExtendsLevel=function(b,c){if(b===c)return 0;if(null!=b.implementz)for(var d=b.implementz,e=0;e<d.length;e++){var f=a.equalsOrExtendsLevel(d[e],c);if(0<=f)return f+1}return-1};
a.getInheritedLevel=function(b,c){if(b===c)return 0;var d="string"==typeof b,e="string"==typeof c;if(d&&("void"==b||"unknown"==b)||e&&("void"==c||"unknown"==c))return-1;if((d&&"NullObject"==b||NullObject===b)&&c!==Number&&c!==Boolean&&c!==NullObject)return 0;d&&(b=a.evalType(b));e&&(c=a.evalType(c));if(null==c||null==b)return-1;d=0;for(e=b;e!==c&&10>d;){if(null!=e.implementz)for(var f=e.implementz,h=0;h<f.length;h++){var k=a.equalsOrExtendsLevel(f[h],c);if(0<=k)return d+k+1}e=e.superClazz;if(null==
e)return c===Object||c===a._O?d+1.5:-1;d++}return d};a.instanceOf=function(b,c){if(null==b)return!1==c;if(null==c)return!1;if(b instanceof c)return!0;var d=a.getClassName(b);return 0<=a.getInheritedLevel(d,c)};a.superCall=function(b,c,d,e){var f=null,h=-1,k=b[d];if(null!=k)if(null!=k.claxxOwner)k.claxxOwner!==c&&(f=k);else if(null!=k.stacks||null!=k.lastClaxxRef&&null!=k.lastClaxxRef.prototype[d]&&null!=k.lastClaxxRef.prototype[d].stacks){var r=k.stacks;null==r&&(r=k.lastClaxxRef.prototype[d].stacks);
for(h=r.length-1;0<=h;h--)if(c===r[h]){0<h?(h--,f=r[h].prototype[d]):f=r[0].prototype[d]["\\unknown"];break}else if(0<a.getInheritedLevel(c,r[h])){f=r[h].prototype[d];break}}else f=k;if(null!=f)return 0==h&&"construct"==d&&(h=k.stacks,null!=h&&null==h[0].superClazz&&null!=h[0].con$truct&&h[0].con$truct.apply(b,[])),a.tracingCalling?(h=arguments.callee.caller,h===a.superConstructor&&(h=h.arguments.callee.caller),a.pu$hCalling(new a.callingStack(h,c)),f=f.apply(b,null==e?[]:e),a.p0pCalling(),f):f.apply(b,
null==e?[]:e);if("construct"!=d)throw a.alert(["j2slib","no class found",e.typeString]),new a.MethodNotFoundException(b,c,d,a.getParamsType(e).typeString);};a.superConstructor=function(b,c,d){a.superCall(b,c,"construct",d);null!=c.con$truct&&c.con$truct.apply(b,[])};a.CastedNull=function(b){this.clazzName=null!=b?b instanceof String?b:b instanceof Function?a.getClassName(b,!0):""+b:"Object";this.toString=function(){return null};this.valueOf=function(){return null}};a.castNullAs=function(b){return new a.CastedNull(b)};
a.MethodException=function(){};a.MethodNotFoundException=function(){this.toString=function(){return"MethodNotFoundException"}};a.getParamsType=function(b){var c=b.length;switch(c){case 0:var d=["void"];d.typeString="\\void";return d;case 1:if(d=b[0],null!=d&&"number"==typeof d)return d=["Number"],d.typeString="\\Number",d}d=[];d.hasCastedNull=!1;if(null!=b)for(var e=0;e<c;e++)d[e]=a.getClassName(b[e]),b[e]instanceof a.CastedNull&&(d.hasCastedNull=!0);d.typeString="\\"+d.join("\\");return d};a.searchAndExecuteMethod=
function(b,c,d,e){var f=b[d],h=a.getParamsType(e);a._profile&&a.addProfile(c,d,h);if(f.lastParams==h.typeString&&f.lastClaxxRef===c){if(h.hasCastedNull)for(c=[],h=0;h<e.length;h++)c[h]=e[h]instanceof a.CastedNull?null:e[h];else c=e;if(null!=f.lastMethod)return f.lastMethod.apply(b,c)}else{f.lastParams=h.typeString;f.lastClaxxRef=c;var k=f.stacks;null==k&&(k=c.prototype[d].stacks);for(var r=!1,s=k.length-1;-1<s;s--)if(r||k[s]===c){r=a.tryToSearchAndExecute(d,b,k[s].prototype[d],h,e,f);if(!(r instanceof
a.MethodException))return r;r=!0}if("construct"!=d)throw new a.MethodNotFoundException(b,c,d,h.typeString);}};a.tracingCalling=!1;a.tryToSearchAndExecute=function(b,c,d,e,f,h){var k=[],r=!0,s;for(s in d)if(92==s.charCodeAt(0)){var u=s.substring(1).split("\\");u.length==e.length&&(k[k.length]=u);r=!1}else if(r&&"funParams"==s&&null!=d.funParams){s=d.funParams;u=s.substring(1).split("\\");u.length==e.length&&(k[0]=u);break}if(0==k.length)return new a.MethodException;s=a.searchMethod(k,e);if(null!=s){k=
r?d:d["\\"+s];if(e.hasCastedNull)for(r=[],s=0;s<f.length;s++)r[s]=f[s]instanceof a.CastedNull?null:f[s];else r=f;if(a.tracingCalling){u=arguments.callee.caller;u=u=u.arguments.callee.caller;if(s="construct"==k.exName&&0<=a.getInheritedLevel(k.exClazz,Throwable)&&!a._initializingException){a._initializingException=!0;var w=u.arguments.callee.caller.arguments.callee.caller,x=w.arguments.callee,y=x.claxxReference;null==y&&(y=x.exClazz);null==y&&(y=x.claxxOwner);a.pu$hCalling(new a.callingStack(w,y))}if(w=
u!==a.instantialize&&u!==a.superCall)x=u.arguments.callee,y=x.claxxReference,null==y&&(y=x.exClazz),null==y&&(y=x.claxxOwner),a.pu$hCalling(new a.callingStack(u,y));h.lastMethod=k;k=k.apply(c,r);w&&a.p0pCalling();s&&a.p0pCalling();return k}h.lastMethod=k;return k.apply(c,r)}return new a.MethodException};a._initializingException=!1;a.searchMethod=function(b,c){for(var d=[],e=0;e<b.length;e++){for(var f=[],h=!0,k=0;k<b[e].length;k++)if(f[k]=a.getInheritedLevel(c[k],b[e][k]),0>f[k]){h=!1;break}h&&(f[c.length]=
e,d[d.length]=f)}if(0==d.length)return null;f=d[0];for(e=1;e<d.length;e++){h=!0;for(k=0;k<c.length;k++)if(f[k]<d[e][k]){h=!1;break}h&&(f=d[e])}return b[f[c.length]].join("\\")};a.generateDelegatingMethod=function(a,c){var d=function(){var a=arguments;return SAEM(this,a.callee.claxxReference,a.callee.methodName,a)};d.methodName=c;d.claxxReference=a;return d};SAEM=a.searchAndExecuteMethod;a.expExpandParameters=function(a,c){return"N"==c?"Number":"B"==c?"Boolean":"S"==c?"String":"O"==c?"Object":"A"==
c?"Array":"Unknown"};a.formatParameters=function(b){return null==b||0==b.length?"\\void":b.replace(/~([NABSO])/g,a.expExpandParameters).replace(/\s+/g,"").replace(/^|,/g,"\\").replace(/\$/g,"org.eclipse.s")};a.overrideMethod=function(b,c,d,e){a.assureInnerClass&&a.assureInnerClass(b,d);d.exName=c;e=a.formatParameters(e);d.funParams=e;d.claxxOwner=b;return a.getSignature(b.prototype,c,d,!0)};a.defineMethod=function(b,c,d,e){a.assureInnerClass&&a.assureInnerClass(b,d);d.exName=c;e=a.formatParameters(e);
var f=b.prototype,h=a.getSignature(f,c,d,!1);if(null==h||h.claxxOwner===b&&h.funParams==e)return d.funParams=e,d.claxxOwner=b,d.exClazz=b,a.getSignature(f,c,d,!0);var k=null,r=[];null==h.stacks?(k=h,null!=h.claxxOwner&&(r[0]=k.claxxOwner)):r=h.stacks;if(null==h.stacks||h.claxxReference!==b){h=a.getSignature(f,c,a.generateDelegatingMethod(b,c,h),!0);f=[];for(c=0;c<r.length;c++)f[c]=r[c];h.stacks=f}r=h.stacks;if(0==r.length)r[0]=b;else{f=!1;for(c=r.length-1;0<=c;c--)if(r[c]===b){f=!0;break}f||(r[r.length]=
b)}null!=k&&(k.claxxOwner===b?(h[k.funParams]=k,k.claxxOwner=null,k.funParams=null):null==k.claxxOwner&&(h["\\unknown"]=k));d.exClazz=b;h[e]=d;return h};a.makeConstructor=function(b,c,d){a.defineMethod(b,"construct",c,d);null!=b.con$truct&&(b.con$truct.index=b.con$truct.stacks.length)};a.overrideConstructor=function(b,c,d){a.overrideMethod(b,"construct",c,d);null!=b.con$truct&&(b.con$truct.index=b.con$truct.stacks.length)};a.allPackage={};a.allClasses={};a.lastPackageName=null;a.lastPackage=null;
a.unloadedClasses=[];a.isClassUnloaded=function(b){b=a.getClassName(b,!0);return null!=a.unloadedClasses[b]};a.declarePackage=function(b){if(a.lastPackageName==b)return a.lastPackage;if(null!=b&&0!=b.length){for(var c=b.split(/\./),d=a.allPackage,e=0;e<c.length;e++)null==d[c[e]]&&(d[c[e]]={__PKG_NAME__:null!=d.__PKG_NAME__?d.__PKG_NAME__+"."+c[e]:c[e]},0==e&&a.setGlobal(c[e],d[c[e]])),d=d[c[e]];a.lastPackageName=b;return a.lastPackage=d}};a.evalType=function(b,c){var d=b.lastIndexOf(".");if(-1!=d){var e=
b.substring(0,d),e=a.declarePackage(e),d=b.substring(d+1);return e[d]}return c?window[b]:"number"==b?Number:"object"==b?a._O:"string"==b?String:"boolean"==b?Boolean:"function"==b?Function:"void"==b||"undefined"==b||"unknown"==b?b:"NullObject"==b?NullObject:window[b]};a.defineType=function(b,c,d,e){var f=a.unloadedClasses[b];null!=f&&(c=f);f=b.lastIndexOf(".");if(-1!=f){var h=b.substring(0,f),h=a.declarePackage(h),f=b.substring(f+1);if(null!=h[f])return h[f];h[f]=c}else{if(null!=window[b])return window[b];
a.setGlobal(b,c)}a.decorateAsType(c,b,d,e);b=a._innerFunctions;c.defineMethod=b.defineMethod;c.defineStaticMethod=b.defineStaticMethod;c.makeConstructor=b.makeConstructor;return c};a.isSafari=-1!=navigator.userAgent.indexOf("Safari");a.isSafari4Plus=!1;if(a.isSafari){var k=navigator.userAgent,e=k.indexOf("Version/");-1!=e&&(k=k.substring(e+8),k=parseFloat(k),a.isSafari4Plus=4<=k)}a.instantialize=function(b,c){if(!(null!=c&&1==c.length&&null!=c[0]&&c[0]instanceof a.args4InheritClass)){b instanceof
Number&&(b.valueOf=function(){return this});if(a.isSafari4Plus){for(var d=[],e=0;e<c.length;e++)d[e]=c[e];c=d}d=b.construct;null!=d?null==b.con$truct?d.apply(b,c):null==b.getClass().superClazz?(b.con$truct.apply(b,[]),d.apply(b,c)):null!=d.claxxOwner&&d.claxxOwner===b.getClass()||null!=d.stacks&&d.stacks[d.stacks.length-1]==b.getClass()?d.apply(b,c):(null!=d.claxxOwner&&null==d.claxxOwner.superClazz&&null!=d.claxxOwner.con$truct?d.claxxOwner.con$truct.apply(b,[]):null!=d.stacks&&1==d.stacks.length&&
null==d.stacks[0].superClazz&&d.stacks[0].con$truct.apply(b,[]),d.apply(b,c),b.con$truct.apply(b,[])):null!=b.con$truct&&b.con$truct.apply(b,[])}};a.innerFunctionNames="equals hashCode getName getClassLoader getResource getResourceAsStream defineMethod defineStaticMethod makeConstructor".split(" ");a._innerFunctions={equals:function(a){return this===a},hashCode:function(){return this.getName().hashCode()},toString:function(){return"class "+this.getName()},getName:function(){return a.getClassName(this,
!0)},getClassLoader:function(){var b=this.__CLASS_NAME__,c=a._Loader.getClasspathFor(b),d=c.lastIndexOf(b.replace(/\./g,"/")),c=-1!=d?c.substring(0,d):a._Loader.getClasspathFor(b,!0),b=a._Loader.requireLoaderByBase(c);b.getResourceAsStream=a._innerFunctions.getResourceAsStream;b.getResource=a._innerFunctions.getResource;return b},getResource:function(a){return this.getResourceAsStream(a).url},getResourceAsStream:function(b){var c=null;if(null==b)return c;null!=java.io.InputStream?c=new java.io.InputStream:
(c=new a._O,c.__CLASS_NAME__="java.io.InputStream",c.close=NullObject);c.read=function(){return 0};b=b.replace(/\\/g,"/");var d=null,e=this.__CLASS_NAME__;2==arguments.length&&0!=b.indexOf("/")&&(b="/"+b);if(0==b.indexOf("/"))if(2==arguments.length?(d=arguments[1],null==d&&(d=a._Loader.binaryFolders[0])):null!=a._Loader&&(d=a._Loader.getClasspathFor(e,!0)),null==d||0==d.length)c.url=b.substring(1);else{var d=d.replace(/\\/g,"/"),f=d.length,f=d.charAt(f-1);"/"!=f&&(d+="/");c.url=d+b.substring(1)}else{if(null!=
this.base)d=this.base;else if(null!=a._Loader)if(d=a._Loader.getClasspathFor(e),f=d.lastIndexOf(e.replace(/\./g,"/")),-1!=f)d=d.substring(0,f);else if(f=-1,d.indexOf(".z.js")==d.length-5&&-1!=(f=d.lastIndexOf("/")))for(var d=d.substring(0,f+1),f=e.split(/\./),h=1;h<f.length;h++){for(var k="/",r=0;r<h;r++)k+=f[r]+"/";if(k.length>d.length)break;if(d.indexOf(k)==d.length-k.length){d=d.substring(0,d.length-k.length+1);break}}else d=a._Loader.getClasspathFor(e,!0);else f=a.binaryFolders,null!=f&&0!=f.length&&
(d=f[0]);if(null==d||0==d.length)d="j2s/";d=d.replace(/\\/g,"/");f=d.length;f=d.charAt(f-1);"/"!=f&&(d+="/");null!=this.base?c.url=d+b:(f=e.lastIndexOf("."),c.url=-1==f||null!=this.base?d+b:d+e.substring(0,f).replace(/\./g,"/")+"/"+b)}return c},defineMethod:function(b,c,d){a.defineMethod(this,b,c,d)},defineStaticMethod:function(b,c,d){a.defineMethod(this,b,c,d);this[b]=this.prototype[b]},makeConstructor:function(b,c){a.makeConstructor(this,b,c)}};a.decorateFunction=function(b,c,d){null!=a._Loader&&
a._Loader.checkInteractive();var e=null;null==c?(e=d,a.setGlobal(d,b)):null!=c.__PKG_NAME__?(e=c.__PKG_NAME__+"."+d,c[d]=b,c===java.lang&&a.setGlobal(d,b)):(e=c.__CLASS_NAME__+"."+d,c[d]=b);a.extendJO(b,e);c=a.innerFunctionNames;for(d=0;d<c.length;d++)b[c[d]]=a._innerFunctions[c[d]];null!=a._Loader&&(b=a._Loader.findClass(e),null!=b&&b.status==a._Node.STATUS_KNOWN&&window.setTimeout(function(b){return function(){a._Loader.updateNode(b)}}(b),1))};a.currentPath="";a.declareInterface=function(b,c,d){var e=
function(){};a.decorateFunction(e,b,c,"Clazz.declareInterface");null!=d&&a.implementOf(e,d);return e};a.decorateAsClass=function(b,c,d,e,f,h,k){var r=null;null!=c&&(r=c.__PKG_NAME__,null==r&&(r=c.__CLASS_NAME__));r=a.unloadedClasses[(null==r?"":r+".")+d];null!=r&&(b=r);a.decorateFunction(b,c,d,k+"...Clazz.decorateAsClass");null!=h?a.inheritClass(b,e,h):null!=e&&a.inheritClass(b,e);null!=f&&a.implementOf(b,f);return b};a.declareType=function(b,c,d,e,f){return a.decorateAsClass(function(){a.instantialize(this,
arguments)},b,c,d,e,f,"Clazz.declareType")};a.declareAnonymous=function(b,c,d,e,f){return a.decorateAsClass(function(){a.prepareCallback(this,arguments);a.instantialize(this,arguments)},b,c,d,e,f,"Clazz.declareAnonymous")};a.decorateAsType=function(b,c,d,e,f,h){a.extendJO(b,c);b.equals=a._innerFunctions.equals;b.getName=a._innerFunctions.getName;if(h)for(c=0;c<a.innerFunctionNames.length;c++)h=a.innerFunctionNames[c],b[h]=a._innerFunctions[h];null!=f?a.inheritClass(b,d,f):null!=d&&a.inheritClass(b,
d);null!=e&&a.implementOf(b,e);return b};a._ex_reg=function(a,c,d){d||(d="[^\\s]+");var e=a.indexOf(c);a=a.substring(0,e)+d+a.substring(e+c.length);return RegExp("^"+a+"$")};try{null.hello()}catch(f){/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)?(k=f.message.indexOf(":"),e=f.message.indexOf(":",k+2),a._NPEMsgFragment=f.message.substr(k+1,e-k-20),a._isNPEExceptionPredicate=function(b){return-1!=b.message.indexOf(a._NPEMsgFragment)}):-1!=navigator.userAgent.toLowerCase().indexOf("webkit")?(a._exceptionNPERegExp=
a._ex_reg(f.message,"hello"),a._isNPEExceptionPredicate=function(b){return a._exceptionNPERegExp.test(b.message)}):(a._exceptionNPERegExp=a._ex_reg(f.message,"$$o$$"),a._isNPEExceptionPredicate=function(b){return a._exceptionNPERegExp.test(b.message)})}a.exceptionOf=function(b,c){return b.__CLASS_NAME__?a.instanceOf(b,c):c==Error?(0<=(""+b).indexOf("Error")&&System.out.println(a.getStackTrace()),0<=(""+b).indexOf("Error")):c==Exception||c==Throwable||c==NullPointerException&&a._isNPEExceptionPredicate(b)};
a.getStackTrace=function(a){var c="\n";a||(a=25);for(var d=arguments.callee.caller,e=0;e<a&&d;e++)c+=e+" "+(d.exName?(d.claxxOwner?d.claxxOwner.__CLASS_NAME__+".":"")+d.exName:d.toString?d.toString().substring(0,d.toString().indexOf("{")):"<native method>")+"\n",d=d.caller;return c};Number.prototype._numberToString=Number.prototype.toString;a.declarePackage("java.io");a.declarePackage("java.lang.annotation");a.declarePackage("java.lang.instrument");a.declarePackage("java.lang.management");a.declarePackage("java.lang.reflect");
a.declarePackage("java.lang.ref");java.lang.ref.reflect=java.lang.reflect;a.declarePackage("java.util");a.declareInterface(java.io,"Closeable");a.declareInterface(java.io,"DataInput");a.declareInterface(java.io,"DataOutput");a.declareInterface(java.io,"Externalizable");a.declareInterface(java.io,"Flushable");a.declareInterface(java.io,"Serializable");a.declareInterface(java.lang,"Iterable");a.declareInterface(java.lang,"CharSequence");a.declareInterface(java.lang,"Cloneable");a.declareInterface(java.lang,
"Appendable");a.declareInterface(java.lang,"Comparable");a.declareInterface(java.lang,"Runnable");a.declareInterface(java.util,"Comparator");java.lang.ClassLoader={__CLASS_NAME__:"ClassLoader"};if(null!=window.Clazz&&null==window.Clazz.unloadClass){a.MethodNotFoundException=function(b,c,d,e){b="";null!=e&&(b=e.substring(1).replace(/\\/g,","));this.message=(null!=d&&"construct"!=d?"Method":"Constructor")+" "+a.getClassName(c,!0)+"."+d+"("+b+") is not found!";this.toString=function(){return"MethodNotFoundException:"+
this.message}};a.prepareCallback=function(b,c){var d=c[0];if(null!=b&&null!=d&&d!==window){var e=[];if(null!=b.b$)for(var f in b.b$)"length"!=f&&(e[f]=b.b$[f]);b.b$=e;var h=a.getClassName(d,!0);e[h.replace(/org\.eclipse\.swt\./,"$wt.")]=d;for(h=a.getClass(d);null!=h.superClazz;)h=h.superClazz,e[a.getClassName(h,!0).replace(/org\.eclipse\.swt\./,"$wt.")]=d;d=d.b$;if(null!=d&&d instanceof Array)for(f in d)"length"!=f&&(e[f]=d[f])}for(e=0;e<c.length-1;e++)c[e]=c[e+1];c.length--};a.innerTypeInstance=
function(b,c,d){null==b&&(b=arguments.callee.caller);var e=null;if(null==d&&null==c.$finals)if(3==arguments.length)e=new b(c);else if(4==arguments.length)e=c.__CLASS_NAME__==b.__CLASS_NAME__&&arguments[3]===a.inheritArgs?c:new b(c,arguments[3]);else if(5==arguments.length)e=new b(c,arguments[3],arguments[4]);else if(6==arguments.length)e=new b(c,arguments[3],arguments[4],arguments[5]);else if(7==arguments.length)e=new b(c,arguments[3],arguments[4],arguments[5],arguments[6]);else if(8==arguments.length)e=
new b(c,arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);else if(9==arguments.length)e=new b(c,arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);else if(10==arguments.length)e=new b(c,arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);else{for(var e=new b(c,a.inheritArgs),f=[],h=3;h<arguments.length;h++)f[h-3]=arguments[h];a.instantialize(e,f)}else{e=new b(c,a.inheritArgs);if(null!=d&&null==c.f$)e.f$=d;else if(null==
d&&null!=c.f$)e.f$=c.f$;else if(null!=d&&null!=c.f$){f={};for(h in c.f$)f[h]=c.f$[h];for(h in d)f[h]=d[h];e.f$=f}f=[];for(h=3;h<arguments.length;h++)f[h-3]=arguments[h];a.instantialize(e,f)}return e};a.cloneFinals=function(){for(var a={},c=arguments.length/2,d=0;d<c;d++)a[arguments[d+d]]=arguments[d+d+1];return a};a.isClassDefined=a.isDefinedClass=function(b){if(null!=b&&0!=b.length){if(a.allClasses[b])return!0;for(var c=b.split(/\./),d=null,e=0;e<c.length;e++)if(null==d){if(null==a.allPackage[c[0]])return!1;
d=a.allPackage[c[0]]}else{if(null==d[c[e]])return!1;d=d[c[e]]}if(null!=d)return a.allClasses[b]=!0}return!1};a.defineEnumConstant=function(b,c,d,e,f){var h=null,h=null!=f?new f:new b;a.superConstructor(h,b,[c,d]);null!=e&&0!=e.length&&h.construct.apply(h,e);b[c]=h;b.prototype[c]=h;null==b["$ values"]&&(b["$ values"]=[],b.values=function(){return this["$ values"]});b["$ values"].push(h);return h};a.floatToInt=function(a){return 0>a?Math.ceil(a):Math.floor(a)};a.floatToByte=a.floatToShort=a.floatToLong=
a.floatToInt;a.doubleToByte=a.doubleToShort=a.doubleToLong=a.doubleToInt=a.floatToInt;a.floatToChar=function(a){return String.fromCharCode(0>a?Math.ceil(a):Math.floor(a))};a.doubleToChar=a.floatToChar;self.Int32Array&&self.Int32Array!=Array?(a.haveInt32=!0,Int32Array.prototype.sort||(Int32Array.prototype.sort=Array.prototype.sort)):(Int32Array=function(a){a||(a=0);var c=Array(a);c.toString=function(){return"[object Int32Array]"};for(var d=0;d<a;d++)c[d]=0;return c},a.haveInt32=!1,Int32Array.prototype.sort=
Array.prototype.sort,Int32Array.prototype.int32Fake=function(){});self.Float64Array&&self.Float64Array!=Array?(a.haveFloat64=!0,Float64Array.prototype.sort||(Float64Array.prototype.sort=Array.prototype.sort)):(a.haveFloat64=!1,Float64Array=function(a){a||(a=0);for(var c=Array(a),d=0;d<a;d++)c[d]=0;return c},Float64Array.prototype.sort=Array.prototype.sort,Float64Array.prototype.float64Fake=function(){},Float64Array.prototype.toString=function(){return"[object Float64Array]"});a.newArray=function(){if(arguments[0]instanceof
Array)var b=arguments[0],c=arguments[1];else b=arguments,c=Array;if(1>=b.length)return[];var d=b[0];"string"==typeof d&&(d=d.charCodeAt(0));var e=b.length-1,f=b[e];if(2==b.length){if(null==f)return Array(d);if(!0===c&&a.haveInt32)return new Int32Array(d);if(!1===c&&a.haveFloat64)return new Float64Array(d);if(c==Array&&null==f)return Array(d);for(var b=!0===c?new Int32Array:!1===c?new Float64Array:Array(d),h=d;0<=--h;)b[h]=f;return b}for(var k=Array(e),h=0;h<e;h++)k[h]=b[h+1];b=Array(d);if(null==f||
0<=f||2<e)for(h=0;h<d;h++)b[h]=a.newArray(k,c);return b};a.newArray32=function(b,c){var d=b[0];"string"==typeof d&&(d=d.charCodeAt(0));var e=b.length-1,f=b[e];switch(b.length){case 0:case 1:return alert("ERROR IN newArray32 -- args length < 2"),[];case 2:if(0>f)return Array(d);try{return c?new Int32Array(d):new Float64Array(d)}catch(h){alert(d+" "+arguments.callee.caller.arguments.callee.caller+h)}}for(f=Array(e);0<=--e;)f[e]=b[e+1];for(var k=Array(d),e=0;e<d;e++)k[e]=a.newArray(f,c);return k};a.newInt32Array=
function(){return a.newArray32(arguments,!0)};a.newFloat64Array=function(){return a.newArray32(arguments,!1)};a.newFloatArray=a.newDoubleArray=a.newFloat64Array;a.newIntArray=a.newLongArray=a.newShortArray=a.newByteArray=a.newInt32Array;a.newCharArray=a.newBooleanArray=a.newArray;a.arrayIs=function(a,c){return a.constructor&&a.constructor!=Number&&0<=a.constructor.toString().indexOf(c)};a.isAS=function(b){return b&&"object"==typeof b&&a.arrayIs(b," Array")&&("string"==typeof b[0]||"undefined"==typeof b[0])};
a.isASS=function(b){return b&&"object"==typeof b&&a.isAS(b[0])};a.isAP=function(b){return b&&"J.util.Point3f"==a.getClassName(b[0])};a.isAI=function(b){return b&&"object"==typeof b&&(a.haveInt32?a.arrayIs(b,"Int32Array"):b.int32Fake?!0:!1)};a.isAII=function(b){return b&&"object"==typeof b&&a.isAI(b[0])};a.isAF=function(b){return b&&"object"==typeof b&&(a.haveFloat64?a.arrayIs(b,"Float64Array"):b.float64Fake?!0:!1)};a.isAFF=function(b){return b&&"object"==typeof b&&a.isAF(b[0])};a.isAFFF=function(b){return b&&
"object"==typeof b&&a.isAFF(b[0])};a.isAFloat=function(b){return b&&"object"==typeof b&&a.arrayIs(b," Array")&&a.instanceOf(b[0],Float)};a.makeFunction=function(a){return function(c){null==c&&(c=window.event);null!=a.setEvent&&a.setEvent(c);a.run();if(1==a.returnSet)return a.returnNumber;if(2==a.returnSet)return a.returnBoolean;if(3==a.returnSet)return a.returnObject}};a.defineStatics=function(a){for(var c=arguments.length,d=(c-1)/2;0<=--d;){var e=arguments[--c],f=arguments[--c];a[f]=a.prototype[f]=
e}};a.prepareFields=function(b,c){var d=[];if(null!=b.con$truct)for(var e=b.con$truct.stacks,f=0;f<e.length;f++)d[f]=e[f];a.addProto(b.prototype,"con$truct",b.con$truct=function(){var a=arguments.callee.stacks;if(null!=a)for(var b=0;b<a.length;b++)a[b].apply(this,[])});d[d.length]=c;b.con$truct.stacks=d;b.con$truct.index=0};a.registerSerializableFields=function(a){var c=arguments,d=c.length,e=[];if(null!=a.declared$Fields)for(var f=0;f<a.declared$Fields.length;f++)e[f]=a.declared$Fields[f];a.declared$Fields=
e;if(0<d&&1==d%2)for(e=a.declared$Fields,f=1;f<=(d-1)/2;f++){for(var h={name:c[f+f-1],type:c[f+f]},k=!1,r=0;r<e.length;r++)if(e[r].name==h.name){e[r].type=h.type;k=!0;break}k||(e[e.length]=h)}};a.getMixedCallerMethod=function(b){var c={};b=b.callee.caller;if(null==b||b!==a.tryToSearchAndExecute&&(b=b.arguments.callee.caller,null==b)||b!==a.tryToSearchAndExecute)return null;b=b.arguments.callee.caller;if(null==b||b!==a.searchAndExecuteMethod)return null;c.claxxRef=b.arguments[1];c.fxName=b.arguments[2];
c.paramTypes=a.getParamsType(b.arguments[3]);b=b.arguments.callee.caller;if(null==b)return null;b=b.arguments.callee.caller;if(null==b)return null;c.caller=b;return c};c$=null;a.cStack=[];a.pu$h=function(b){b&&a.cStack.push(b)};a.p0p=function(){return a.cStack.pop()};a.tracingCalling=!1;a._initializingException=!1;a.callingStack=function(a,c){this.caller=a;this.owner=c};a._callingStackTraces=[];a.pu$hCalling=function(b){a._callingStackTraces[a._callingStackTraces.length]=b};a.p0pCalling=function(){var b=
a._callingStackTraces.length;return 0<b?(b=a._callingStackTraces[b-1],a._callingStackTraces.length--,b):null};a.load=function(a,c,d,e){null!=e&&e();delete c$};java.lang.Object=a._O;a._O.getName=a._innerFunctions.getName;System={props:null,$props:{},arraycopy:function(a,c,d,e,f){if(a!==d)for(var h=0;h<f;h++)d[e+h]=a[c+h];else{for(var k=[],h=0;h<f;h++)k[h]=a[c+h];for(h=0;h<f;h++)d[e+h]=k[h]}},currentTimeMillis:function(){return(new Date).getTime()},gc:function(){},getProperties:function(){return System.props},
getProperty:function(a,c){if(System.props)return System.props.getProperty(a,c);var d=System.$props[a];return null!=d?d:1==arguments.length?null:null!=c?c:a},getSecurityManager:function(){return null},setProperties:function(a){System.props=a},setProperty:function(a,c){if(null==System.props)return System.$props[a]=c;System.props.setProperty(a,c)}};System.setProperty("line.separator",0<=navigator.userAgent.indexOf("Windows")?"\r\n":"\n");System.setProperty("os.name",navigator.userAgent);System.out=new a._O;
System.out.__CLASS_NAME__="java.io.PrintStream";System.out.print=function(){};System.out.printf=function(){};System.out.println=function(){};System.err=new a._O;System.err.__CLASS_NAME__="java.io.PrintStream";System.err.print=function(){};System.err.printf=function(){};System.err.println=function(){};a.popup=a.assert=a.log=a.error=window.alert;Thread=function(){};Thread.J2S_THREAD=Thread.prototype.J2S_THREAD=new Thread;Thread.currentThread=Thread.prototype.currentThread=function(){return this.J2S_THREAD};
a.intCast=function(a){var c=(a&4278190080)>>24,d=(a&16711680)>>16,e=(a&65280)>>8;a&=255;return 0!=(c&128)?-(((c&127)<<24)+(d<<16)+(e<<8)+a+1):(c<<24)+(d<<16)+(e<<8)+a};a.shortCast=function(){var a=(n&65280)>>8,c=n&255;return 0!=(a&128)?-(((a&127)<<8)+c+1):(a<<8)+b4};a.byteCast=function(a){return 0!=(a&128)?-((a&127)+1):a&255};a.charCast=function(a){return String.fromCharCode(a&255).charAt(0)};a.floatCast=function(a){return a};a.longMasks=[];a.longReverseMasks=[];a.longBits=[];k=[1];for(e=1;53>e;e++)k[e]=
k[e-1]+k[e-1];a.longBits=k;a.longMasks[52]=k[52];for(e=51;0<=e;e--)a.longMasks[e]=a.longMasks[e+1]+k[e];a.longReverseMasks[0]=k[0];for(e=1;52>e;e++)a.longReverseMasks[e]=a.longReverseMasks[e-1]+k[e];a.longLeftShift=function(b,c){if(0==c)return b;if(64<=c)return 0;if(52<c)return error("[Java2Script] Error : JavaScript does not support long shift!"),b;if(0!=(b&a.longMasks[c-1]))return error("[Java2Script] Error : Such shift operator results in wrong calculation!"),b;var d=b&a.longMasks[20+c];return 0!=
d?d*a.longBits[c]+(b&a.longReverseMasks[32-c])<<0:b<<c};a.intLeftShift=function(a,c){return a<<c&4294967295};a.longRightShift=function(b,c){return 0!=(b&a.longMasks[20])?Math.round((b&a.longMasks[20])/a.longBits[32-c])+(b&a.longReverseMasks[c])>>c:b>>c};a.intRightShift=function(a,c){return a>>c};a.long0RightShift=function(a,c){return a>>>c};a.int0RightShift=function(a,c){return a>>>c};a.declarePackage("java.lang.reflect");a.declarePackage("java.security");a.innerFunctionNames=a.innerFunctionNames.concat("getSuperclass isAssignableFrom getMethods getMethod getDeclaredMethods getDeclaredMethod getConstructor getModifiers isArray newInstance".split(" "));
a._innerFunctions.getSuperclass=function(){return this.superClazz};a._innerFunctions.isAssignableFrom=function(b){return 0<=a.getInheritedLevel(b,this)};a._innerFunctions.getConstructor=function(){return new java.lang.reflect.Constructor(this,[],[],java.lang.reflect.Modifier.PUBLIC)};a._innerFunctions.getDeclaredMethods=a._innerFunctions.getMethods=function(){var a=[],c=this.prototype,d;for(d in c)"function"==typeof c[d]&&null==c[d].__CLASS_NAME__&&(a[a.length]=new java.lang.reflect.Method(this,d,
[],java.lang.Void,[],java.lang.reflect.Modifier.PUBLIC));c=this;for(d in c)"function"==typeof c[d]&&null==c[d].__CLASS_NAME__&&(a[a.length]=new java.lang.reflect.Method(this,d,[],java.lang.Void,[],java.lang.reflect.Modifier.PUBLIC|java.lang.reflect.Modifier.STATIC));return a};a._innerFunctions.getDeclaredMethod=a._innerFunctions.getMethod=function(a){var c=this.prototype,d;for(d in c)if(a==d&&"function"==typeof c[d]&&null==c[d].__CLASS_NAME__)return new java.lang.reflect.Method(this,d,[],java.lang.Void,
[],java.lang.reflect.Modifier.PUBLIC);c=this;for(d in c)if(a==d&&"function"==typeof c[d]&&null==c[d].__CLASS_NAME__)return new java.lang.reflect.Method(this,d,[],java.lang.Void,[],java.lang.reflect.Modifier.PUBLIC|java.lang.reflect.Modifier.STATIC);return null};a._innerFunctions.getModifiers=function(){return java.lang.reflect.Modifier.PUBLIC};a._innerFunctions.isArray=function(){return!1};a._innerFunctions.newInstance=function(){return new this};k=a.innerFunctionNames;for(e=0;e<k.length;e++)a._O[k[e]]=
a._innerFunctions[k[e]],Array[k[e]]=a._innerFunctions[k[e]];Array.isArray=function(){return!0};a._4Name=function(b){if(a.isClassDefined(b))return a.evalType(b);if(null!=a._Loader)return a._Loader.setLoadingMode("xhr.sync"),a._Loader.loadClass(b),a.evalType(b);a.alert("[Java2Script] Error: No ClassLoader!")};a.cleanDelegateMethod=function(a){null!=a&&"function"==typeof a&&null!=a.lastMethod&&null!=a.lastParams&&null!=a.lastClaxxRef&&(a.lastMethod=null,a.lastParams=null,a.lastClaxxRef=null)};a.unloadClass=
function(b){var c=a.evalType(b);if(null!=c){a.unloadedClasses[b]=c;for(var d=b.split(/\./),e=null,f=0;f<d.length-1;f++)e=null==e?a.allPackage[d[0]]:e[d[f]];if(null==e){a.allPackage[d[0]]=null;window[d[0]]=null;for(var h in window)0==h.indexOf(b+"$")&&(a.unloadClass(h),window[h]=null)}else for(h in e[d[d.length-1]]=null,e)0==h.indexOf(d[d.length-1]+"$")&&(a.unloadClass(e.__PKG_NAME__+"."+h),e[h]=null);if(!0==a.allClasses[b])for(h in a.allClasses[b]=!1,a.allClasses)0==h.indexOf(b+"$")&&(a.allClasses[h]=
!1);for(var k in c)a.cleanDelegateMethod(c[k]);for(k in c.prototype)a.cleanDelegateMethod(c.prototype[k]);null!=a._Loader&&a._Loader.unloadClassExt(b);return!0}return!1}}a._Loader=function(){};a._Node=function(){a._Loader.initNode(this)};(function(a,c,d){c.initNode=function(a){a.parents=[];a.musts=[];a.optionals=[];a.declaration=null;a.name=null;a.path=null;a.status=0;a.random=.13412;a.optionalsLoaded=null};d.prototype.toString=function(){return this.name||this.path||"ClazzNode"};d.STATUS_UNKNOWN=
0;d.STATUS_KNOWN=1;d.STATUS_CONTENT_LOADED=2;d.STATUS_MUSTS_LOADED=3;d.STATUS_DECLARED=4;d.STATUS_OPTIONALS_LOADED=5;c.loaders=[];c.requireLoaderByBase=function(a){for(var b=0;b<c.loaders.length;b++)if(c.loaders[b].base==a)return c.loaders[b];b=new c;b.base=a;return c.loaders[c.loaders.length]=b};c.clazzTreeRoot=new d;c.loadedScripts={};c.inLoadingThreads=0;c.maxLoadingThreads=6;c.userAgent=navigator.userAgent.toLowerCase();c.isOpera=-1!=c.userAgent.indexOf("opera");c.isIE=-1!=c.userAgent.indexOf("msie")&&
!c.isOpera;c.isGecko=-1!=c.userAgent.indexOf("gecko");if(c.isOpera){c.maxLoadingThreads=1;var e=c.userAgent.indexOf("opera/");if(-1!=e){var f=9;try{f=parseFloat(c.userAgent.subString(e+6))}catch(h){}9.6<=f&&(c.maxLoadingThreads=6)}}null!=window.Clazz&&a.isClassDefined?c.isClassDefined=a.isClassDefined:(c.definedClasses={},c.isClassDefined=function(a){return!0==c.definedClasses[a]});c.isAsynchronousLoading=!0;c.isUsingXMLHttpRequest=!1;c.loadingTimeLag=-1;c.setLoadingMode=function(a,b){null!=a&&("string"==
typeof a?(a=a.toLowerCase(),0==a.length||-1!=a.indexOf("script")?(c.isUsingXMLHttpRequest=!1,c.isAsynchronousLoading=!0):(c.isUsingXMLHttpRequest=!0,c.isAsynchronousLoading=-1!=a.indexOf("async")?!0:!1),c.isAsynchronousLoading=!1):a==c.MODE_SCRIPT?(c.isUsingXMLHttpRequest=!1,c.isAsynchronousLoading=!0):(c.isUsingXMLHttpRequest=!0,c.isAsynchronousLoading=a==c.MODE_XHR_ASYNC?!0:!1));c.loadingTimeLag=c.isAsynchronousLoading&&0<=b?b:-1};c.MODE_SCRIPT=0;c.MODE_SCRIPT_ASYNC=0;c.MODE_XHR=3;c.MODE_XHR_SYNC=
3;c.MODE_XHR_ASYNC=1;c.unwrapArray=function(a){if(null==a||0==a.length)return a;for(var b=null,c=0;c<a.length;c++)if(null!=a[c]){if("$"==a[c].charAt(0))if("."==a[c].charAt(1)){if(null==b)continue;var d=b.lastIndexOf(".");-1!=d&&(b=b.substring(0,d),a[c]=b+a[c].substring(1))}else a[c]="org.eclipse.s"+a[c].substring(1);b=a[c]}return a};c.classQueue=[];c.classpathMap={};c.packageClasspath=function(a,b,d){var e=c.classpathMap,g=!0==d&&null!=e["@"+a];d&&null==e["@java"]&&0!=a.indexOf("java")&&c.assurePackageClasspath("java");
if(a instanceof Array)for(c.unwrapArray(a),e=0;e<a.length;e++)c.packageClasspath(a[e],b,d);else{if("java"==a||"java.*"==a){var f="@net.sf.j2s.ajax";null==e[f]&&null!=b&&(e[f]=b);f="@net.sf.j2s";null==e[f]&&null!=b&&(e[f]=b)}else"swt"==a?a="org.eclipse.swt":"ajax"==a?a="net.sf.j2s.ajax":"j2s"==a&&(a="net.sf.j2s");a.lastIndexOf(".*")==a.length-2&&(a=a.substring(0,a.length-2));null!=b&&(e["@"+a]=b);!0==d&&!0!=window[a+".registered"]&&!g&&(c.pkgRefCount++,"java"==a&&(a="core"),c.loadClass(a+".package",
function(){c.pkgRefCount--;0==c.pkgRefCount&&c.runtimeLoaded()},!0))}};c.pkgRefCount=0;c.jarClasspath=function(a,b){b instanceof Array||(b=[classes]);c.unwrapArray(b);for(var d=0;d<b.length;d++)c.classpathMap["#"+b[d]]=a;c.classpathMap["$"+a]=b};c.registerPackages=function(d,e){c.checkInteractive();for(var f=c.getClasspathFor(d+".*",!0),g=0;g<e.length;g++)null!=window.Clazz&&a.declarePackage(d+"."+e[g]),c.packageClasspath(d+"."+e[g],f)};c.multipleSites=function(a){var b=window["j2s.update.delta"];
if(null!=b&&b instanceof Array&&3<=b.length)for(var d=null,e=null,g=0;g<b.length/3;g++){var f=b[g+g+g];"$"!=f&&(d=f);f=b[g+g+g+1];"$"!=f&&(e=f);var f=b[g+g+g+2],h=d+"/"+f,k=a.indexOf(h);if(-1!=k&&k==a.length-h.length){a=a.substring(0,k)+e+"/"+f;break}}b=a.length;return 1<c.maxLoadingThreads&&(15<b&&"http://archive."==a.substring(0,15)||9<b&&"http://a."==a.substring(0,9))&&(d=a.lastIndexOf("/"),d<b-3)?(e=a.charCodeAt(d+1),g=a.charCodeAt(d+2),k=3*(b-d)+5*e+7*g,a.substring(0,7)+"aeiouy".split("")[k%
6]+a.substring(8)):a};c.getClasspathFor=function(a,b,d){var e=c.classpathMap["#"+a],g=null;if(null!=e){if(!b&&null==d)return c.multipleSites(e);var f=e.lastIndexOf(a.replace(/\./g,"/"));-1!=f?g=e.substring(0,f):(f=a.lastIndexOf("."),-1!=f&&(f=e.lastIndexOf(a.substring(0,f).replace(/\./g,"/")),-1!=f&&(g=e.substring(0,f))))}else for(f=a.lastIndexOf(".");-1!=f;){e=a.substring(0,f);g=c.classpathMap["@"+e];if(null!=g)break;f=a.lastIndexOf(".",f-2)}g=c.assureBase(g);if(b)return c.multipleSites(g);if(a.lastIndexOf(".*")==
a.length-2)return a=g+a.substring(0,f+1).replace(/\./g,"/"),c.multipleSites(a);null==d?d=".js":"."!=d.charAt(0)&&(d="."+d);a=g+a.replace(/\./g,"/")+d;return c.multipleSites(a)};c.assureBase=function(d){null==d&&(d=null!=window.Clazz&&null!=a.binaryFolders&&0!=a.binaryFolders.length?a.binaryFolders[0]:null!=c.binaryFolders&&0!=c.binaryFolders.length?c.binaryFolders[0]:"j2s");d.lastIndexOf("/")!=d.length-1&&(d+="/");return d};c.excludeClassMap={};c.ignore=function(){var a=null;1==arguments.length&&
arguments[0]instanceof Array&&(a=arguments[0]);if(null==a)for(var a=[],b=0;b<arguments.length;b++)a[a.length]=arguments[b];c.unwrapArray(a);for(b=0;b<a.length;b++)c.excludeClassMap["@"+a[b]]=!0};c.isClassExcluded=function(a){return!0==c.excludeClassMap["@"+a]};c.scriptLoading=function(){};c.scriptLoaded=function(){};c.scriptInited=function(){};c.scriptCompleted=function(){};c.classUnloaded=function(){};c.classReloaded=function(){};c.globalLoaded=function(){};c.keepOnLoading=!0;c.mapPath2ClassNode=
{};c.xhrOnload=function(d,e){if(400<=d.status||null==d.responseText||0==d.responseText.length){a.alert("xhronload error"+d.responseText);var g=c.failedScripts;null==g[e]?(g[e]=1,c.loadedScripts[e]=!1,c.loadScript(e,"xhrOnload 2nd try")):(a.alert("[Java2Script] ClazzLoader.xhrOnload Error in loading "+e+"!"),c.tryToLoadNext(e))}else c.evaluate(e,d.responseText)};c.evaluate=function(d,e){try{eval(e)}catch(g){var f="[Java2Script] Script error: "+g.message+" \n"+d+"\n\n"+e;alert(f);a.alert(f);throw g;
}c.scriptLoaded(d);c.tryToLoadNext(d)};c.emptyOnRSC=function(){};c.failedScripts={};c.failedHandles={};c.takeAnotherTry=!0;c.generateRemovingFunction=function(a){return function(){if("interactive"!=a.readyState){try{null!=a.parentNode&&a.parentNode.removeChild(a)}catch(b){}a=null}}};c.removeScriptNode=function(a){window["j2s.script.debugging"]||window.setTimeout(c.generateRemovingFunction(a),1)};c.generatingXHROnload=function(a,b){return function(){c.xhrOnload(a,b);b=a=null}};c.generatingXHRCallback=
function(a,b){return function(){if(4==a.readyState){0<c.inLoadingThreads&&c.inLoadingThreads--;var d=c.generatingXHROnload(a,b);isActiveX?(a.onreadystatechange=c.emptyOnRSC,window.setTimeout(d,0>c.loadingTimeLag?0:c.loadingTimeLag)):(a.onreadystatechange=null,0<=c.loadingTimeLag?window.setTimeout(d,c.loadingTimeLag):c.xhrOnload(a,b));b=a=null}}};c.loadingNextByPath=function(a){0<=c.loadingTimeLag?window.setTimeout(function(){c.tryToLoadNext(a)},c.loadingTimeLag):c.tryToLoadNext(a)};c.ieToLoadScriptAgain=
function(a,b){return window.setTimeout(function(){c.takeAnotherTry&&(c.failedScripts[a]=0,c.loadedScripts[a]=!1,0<c.inLoadingThreads&&c.inLoadingThreads--,c.loadScript(a,"ietoloadscriptAgain"))},b?500:15E3)};c.w3cFailedLoadingTest=function(a){return window.setTimeout(function(){a.onerror();a=a.timeoutHandle=null},500)};c.generatingW3CScriptOnCallback=function(d,e){return function(){e&&a.__debuggingBH&&a.alert("############ forError="+e+" path="+d+" ####"+(e?"NOT":"")+"LOADED###");c.isGecko&&null!=
this.timeoutHandle&&(window.clearTimeout(this.timeoutHandle),this.timeoutHandle=null);0<c.inLoadingThreads&&c.inLoadingThreads--;this.onerror=this.onload=null;if(e){var g=c.failedScripts;if(null==g[d]&&c.takeAnotherTry){g[d]=1;e||(c.innerLoadedScripts[this.src]=!1);c.loadedScripts[d]=!1;c.loadScript(d,"w3c script failed");c.removeScriptNode(this);return}e&&c.scriptLoaded(d)}else c.scriptLoaded(d);c.loadingNextByPath(d);c.removeScriptNode(this)}};c.generatingIEScriptOnCallback=function(d){return function(){var e=
c.failedHandles,g=c.failedScripts,f=""+this.readyState,h="loading"==f&&(0==this.src.indexOf("file:")||"file:"==window.location.protocol&&0!=this.src.indexOf("http"));if("loaded"!=f&&"complete"!=f){if(null==g[d]){e[d]=c.ieToLoadScriptAgain(d,h);return}if(1==g[d])return}null!=e[d]&&(window.clearTimeout(e[d]),e[d]=null);if((h||"loaded"==f)&&!c.innerLoadedScripts[this.src]){if(!h&&(null==g[d]||0==g[d])&&c.takeAnotherTry){0<c.inLoadingThreads&&c.inLoadingThreads--;g[d]=1;c.loadedScripts[d]=!1;c.loadScript(d,
"local or loaded failed");c.removeScriptNode(this);return}a.alert("[Java2Script] generatingIEScriptOnCallback Error in loading "+d+"!")}0<c.inLoadingThreads&&c.inLoadingThreads--;c.scriptLoaded(d);this.onreadystatechange=null;c.loadingNextByPath(d);c.removeScriptNode(this)}};a.transport=null;c.loadScript=function(d,e,g){a.currentPath=d;g=!0==g;if(c.loadedScripts[d]&&!g)c.tryToLoadNext(d);else{c.loadedScripts[d]=!0;for(var f=c.classQueue,h=0;h<f.length;h++)if(f[h]==d){for(var k=h;k<f.length-1;k++)f[h]=
f[h+1];f.length--;break}System.out.println("loading... "+d+(e?" -- required by "+e:""));if(c.isUsingXMLHttpRequest)if(c.scriptLoading(d),c.isAsynchronousLoading){if(!a.transport){if(window.XMLHttpRequest)a.transport=new XMLHttpRequest;else try{a.transport=new ActiveXObject("Msxml2.XMLHTTP")}catch(l){a.transport=new ActiveXObject("Microsoft.XMLHTTP")}if(null==a.transport){a.alert("[Java2Script] XMLHttpRequest not supported!");return}}g=a.transport;try{g.open("GET",d,c.isAsynchronousLoading)}catch(p){alert(p+
" "+d)}g.onreadystatechange=c.generatingXHRCallback(g,d);c.inLoadingThreads++;try{g.send(null)}catch(v){a.alert("[Java2Script] Loading file error: "+v.message),c.xhrOnload(g,d)}}else self.Jmol?g=Jmol._getFileData(d):(e=jQuery.ajax({type:"GET",dataType:"text",async:!1,url:d,cached:!0}),g=e.responseText,null==g&&e.state&&(g="alert('error loading file "+d+" state="+e.state()+"')")),c.evaluate(d,g);else(e=document.createElement("SCRIPT"),e.type="text/javascript",e.src=c.isChrome&&c.reloadingClasses[d]?
d+"?"+Math.floor(1E5*Math.random()):d,f=document.getElementsByTagName("HEAD")[0],g)?f.appendChild(e):(e.defer=!0,"undefined"!=typeof e.onreadystatechange&&c.isIE?(c.needOnloadCheck=!0,e.onreadystatechange=c.generatingIEScriptOnCallback(d)):(c.isGecko&&(0==d.indexOf("file:")||"file:"==window.location.protocol&&0!=d.indexOf("http"))&&(e.timeoutHandle=c.w3cFailedLoadingTest(e)),e.onload=c.generatingW3CScriptOnCallback(d,!1),e.onerror=c.generatingW3CScriptOnCallback(d,!0),c.isOpera&&(c.needOnloadCheck=
!0)),c.inLoadingThreads++,f.appendChild(e),c.scriptLoading(d))}};c.isResourceExisted=function(a,b,c){if(null!=a&&null!=document.getElementById(a))return!0;if(null!=b){var d=b;null!=c&&0==b.indexOf(c)&&(d=b.substring(c.length));if(b.lastIndexOf(".css")==b.length-4){var e=document.getElementsByTagName("LINK");for(b=0;b<e.length;b++){var g=e[b].href;c=g.lastIndexOf(d);if(-1!=c&&c==g.length-d.length)return!0}if(!0==window["css."+a])return!0}else if(b.lastIndexOf(".js")==b.length-4)for(a=document.getElementsByTagName("SCRIPT"),
b=0;b<a.length;b++)if(e=a[b].src,c=e.lastIndexOf(d),-1!=c&&c==e.length-d.length)return!0}return!1};c.queueBe4SWT=[];c.lockQueueBe4SWT=!0;c.isLoadingEntryClass=!0;c.besidesJavaPackage=!1;c.tryToLoadNext=function(a){if(c.lockQueueBe4SWT&&0!=c.pkgRefCount&&a.lastIndexOf("package.js")!=a.length-10&&!c.isOpera){var b=c.queueBe4SWT;b[b.length]=a}else{var e=c.mapPath2ClassNode["@"+a];if(null!=e){var f=c.classpathMap["$"+a];if(null!=f)for(a=0;a<f.length;a++){var h=f[a];if(h!=e.name)if(b=c.findClass(h),null!=
b)b.status<d.STATUS_CONTENT_LOADED&&(b.status=d.STATUS_CONTENT_LOADED,c.updateNode(b));else{b=new d;b.name=h;var k=c.classpathMap["#"+h];null==k&&(alert(h),error("Java2Script implementation error! Please report this bug!"));b.path=k;c.mappingPathNameNode(b.path,h,b);b.status=d.STATUS_CONTENT_LOADED;c.addChildClassNode(c.clazzTreeRoot,b,-1);c.updateNode(b)}}if(e instanceof Array)for(a=0;a<e.length;a++)e[a].status<d.STATUS_CONTENT_LOADED&&(e[a].status=d.STATUS_CONTENT_LOADED,c.updateNode(e[a]));else if(e.status<
d.STATUS_CONTENT_LOADED){b=!1;f=document.getElementsByTagName("SCRIPT");for(a=0;a<f.length;a++)if(c.isIE){if(null!=f[a].onreadystatechange&&f[a].onreadystatechange.path==e.path&&"interactive"==f[a].readyState){b=!0;break}}else if(null!=f[a].onload&&f[a].onload.path==e.path){b=!0;break}b||(e.status=d.STATUS_CONTENT_LOADED,c.updateNode(e))}if(c.keepOnLoading){e=!1;b=c.findNextMustClass(c.clazzTreeRoot,d.STATUS_KNOWN);if(null!=b)for(c.loadClassNode(b);c.inLoadingThreads<c.maxLoadingThreads;){a=c.findNextMustClass(c.clazzTreeRoot,
d.STATUS_KNOWN);if(null==a)break;c.loadClassNode(a)}else if(f=c.classQueue,0!=f.length){b=f[0];for(a=0;a<f.length-1;a++)f[a]=f[a+1];f.length--;!c.loadedScripts[b.path]||0!=f.length||!c.isLoadingEntryClass||null!=b.musts&&0!=b.musts.length||null!=b.optionals&&0!=b.optionals.length?(c.addChildClassNode(c.clazzTreeRoot,b,1),c.loadScript(b.path,b.requiredBy)):c.isLoadingEntryClass&&(c.isLoadingEntryClass=!1)}else if(b=c.findNextOptionalClass(d.STATUS_KNOWN),null!=b)for(c.loadClassNode(b);c.inLoadingThreads<
c.maxLoadingThreads;){a=c.findNextOptionalClass(d.STATUS_KNOWN);if(null==a)break;c.loadClassNode(a)}else e=!0;if(e&&0==c.inLoadingThreads){for(;null!=(b=c.findNextMustClass(c.clazzTreeRoot,d.STATUS_CONTENT_LOADED));)c.updateNode(b);for(a=null;null!=(b=c.findNextOptionalClass(d.STATUS_CONTENT_LOADED));)a===b&&(b.status=d.STATUS_OPTIONALS_LOADED),c.updateNode(b),a=b;for(;c.tracks=[],c.checkOptionalCycle(c.clazzTreeRoot););for(a=null;null!=(b=c.findNextMustClass(c.clazzTreeRoot,d.STATUS_DECLARED))&&
a!==b;)c.updateNode(b),a=b;for(a=null;null!=(b=c.findNextOptionalClass(d.STATUS_DECLARED))&&a!==b;)c.updateNode(b),a=b;for(e=[];null!=(b=c.findNextMustClass(c.clazzTreeRoot,d.STATUS_DECLARED));)e[e.length]=b,b.status=d.STATUS_OPTIONALS_LOADED;for(;null!=(b=c.findNextOptionalClass(d.STATUS_DECLARED));)e[e.length]=b,b.status=d.STATUS_OPTIONALS_LOADED;for(a=0;a<e.length;a++)c.destroyClassNode(e[a]);for(a=0;a<e.length;a++)b=e[a].optionalsLoaded,null!=b&&(e[a].optionalsLoaded=null,b());c.globalLoaded()}}}}};
c.tracks=[];c.checkOptionalCycle=function(a){for(var b=c.tracks,e=b.length,f=-1,h=0;h<b.length;h++)if(b[h]===a&&b[h].status>=d.STATUS_DECLARED){f=h;break}b[b.length]=a;if(-1!=f){for(h=f;h<b.length;h++){b[h].status=d.STATUS_OPTIONALS_LOADED;c.destroyClassNode(b[h]);for(a=0;a<b[h].parents.length;a++)c.updateNode(b[h].parents[a]);b[h].parents=[];a=b[h].optionalsLoaded;null!=a&&(b[h].optionalsLoaded=null,a())}b.length=0;return!0}for(h=0;h<a.musts.length;h++)if(a.musts[h].status==d.STATUS_DECLARED&&c.checkOptionalCycle(a.musts[h]))return!0;
for(h=0;h<a.optionals.length;h++)if(a.optionals[h].status==d.STATUS_DECLARED&&c.checkOptionalCycle(a.optionals[h]))return!0;b.length=e;return!1};c.updateNode=function(a){if(null==a.name||a.status>=d.STATUS_OPTIONALS_LOADED)c.destroyClassNode(a);else{var b=!1;if(null==a.musts||0==a.musts.length||null==a.declaration)b=!0;else for(var b=!0,e=a.musts.length,f=e-1;0<=f;f--){var h=a.musts[f];h.requiredBy=a;if(h.status<d.STATUS_DECLARED){if(c.isClassDefined(h.name)){var k=[];h.status=d.STATUS_OPTIONALS_LOADED;
c.destroyClassNode(h);if(null!=h.declaration&&null!=h.declaration.clazzList){for(var l=h.declaration.clazzList,p=0;p<l.length;p++){var v=c.findClass(l[p]);v.status!=d.STATUS_OPTIONALS_LOADED&&v!==h&&(v.status=h.status,v.declaration=null,c.destroyClassNode(v),null!=v.optionalsLoaded&&(k[k.length]=v))}h.declaration=null}null!=h.optionalsLoaded&&(k[k.length]=h);for(p=0;p<k.length;p++)h=k[p].optionalsLoaded,null!=h&&(k[p].optionalsLoaded=null,h())}else h.status==d.STATUS_CONTENT_LOADED&&c.updateNode(h),
h.status<d.STATUS_DECLARED&&(b=!1);a.musts.length!=e&&(f=e=a.musts.length,b=!0)}}if(b){if(a.status<d.STATUS_DECLARED&&(f=a.declaration,null!=f&&(!1==f.executed?(f(),f.executed=!0):f()),a.status=d.STATUS_DECLARED,null!=c.definedClasses&&(c.definedClasses[a.name]=!0),c.scriptInited(a.path),null!=a.declaration&&null!=a.declaration.clazzList))for(l=a.declaration.clazzList,p=0;p<l.length;p++)v=c.findClass(l[p]),v.status!=d.STATUS_DECLARED&&v!==a&&(v.status=d.STATUS_DECLARED,null!=c.definedClasses&&(c.definedClasses[v.name]=
!0),c.scriptInited(v.path));b=d.STATUS_DECLARED;if(!(null!=a.optionals&&0!=a.optionals.length||null!=a.musts&&0!=a.musts.length)||a.status>d.STATUS_KNOWN&&null==a.declaration)l=!0;else{l=!0;for(f=0;f<a.musts.length;f++)if(h=a.musts[f],h.status<d.STATUS_OPTIONALS_LOADED){l=!1;break}if(l)for(f=0;f<a.optionals.length;f++)if(h=a.optionals[f],h.status<d.STATUS_OPTIONALS_LOADED){l=!1;break}}if(l){b=d.STATUS_OPTIONALS_LOADED;a.status=b;c.scriptCompleted(a.path);h=a.optionalsLoaded;if(null!=h&&(a.optionalsLoaded=
null,h(),!c.keepOnLoading))return!1;c.destroyClassNode(a);if(null!=a.declaration&&null!=a.declaration.clazzList)for(l=a.declaration.clazzList,p=0;p<l.length;p++)if(v=c.findClass(l[p]),v.status!=b&&v!==a){v.status=b;v.declaration=null;c.scriptCompleted(v.path);h=v.optionalsLoaded;if(null!=h&&(v.optionalsLoaded=null,h(),!c.keepOnLoading))return!1;c.destroyClassNode(a)}}c.updateParents(a,b)}}};c.updateParents=function(a,b){if(null!=a.parents&&0!=a.parents.length){for(var e=0;e<a.parents.length;e++){var f=
a.parents[e];f.status>=b||c.updateNode(f)}b==d.STATUS_OPTIONALS_LOADED&&(a.parents=[])}};c.findNextMustClass=function(a,b){if(null!=a){if(null!=a.musts&&0!=a.musts.length)for(var e=0;e<a.musts.length;e++){var f=a.musts[e];if(!(f.status!=b||b==d.STATUS_KNOWN&&!0==c.loadedScripts[f.path]||b!=d.STATUS_DECLARED&&c.isClassDefined(f.name)))return f;f=c.findNextMustClass(f,b);if(null!=f)return f}if(!(a.status!=b||b==d.STATUS_KNOWN&&!0==c.loadedScripts[a.path]||b!=d.STATUS_DECLARED&&c.isClassDefined(a.name)))return a}return null};
c.usedRandoms={};c.usedRandoms["r0.13412"]=.13412;c.findNextOptionalClass=function(a){for(var b=0;;){var b=Math.random(),d="r"+b;if(c.usedRandoms[d]!=b){c.usedRandoms[d]=b;break}}c.clazzTreeRoot.random=b;return c.findNodeNextOptionalClass(c.clazzTreeRoot,a)};c.findNodeNextOptionalClass=function(a,b){var e=c.clazzTreeRoot.random;if(null!=a.musts&&0!=a.musts.length){var f=c.searchClassArray(a.musts,e,b);if(!(null==f||b==d.STATUS_KNOWN&&!0==c.loadedScripts[f.path]||b!=d.STATUS_DECLARED&&c.isClassDefined(f.name)))return f}return null==
a.optionals||0==a.optionals.length||(f=c.searchClassArray(a.optionals,e,b),null==f||b==d.STATUS_KNOWN&&!0==c.loadedScripts[f.path]||b!=d.STATUS_DECLARED&&c.isClassDefined(f.name))?a.status!=b||b==d.STATUS_KNOWN&&!0==c.loadedScripts[a.path]||b!=d.STATUS_DECLARED&&c.isClassDefined(a.name)?null:a:f};c.searchClassArray=function(a,b,e){for(var f=0;f<a.length;f++){var h=a[f];if(!(h.status!=e||e==d.STATUS_KNOWN&&!0==c.loadedScripts[h.path]||e!=d.STATUS_DECLARED&&c.isClassDefined(h.name))||h.random!=b&&(h.random=
b,h=c.findNodeNextOptionalClass(h,e),null!=h))return h}return null};c.innerLoadedScripts={};c.interactiveScript=null;c.needOnloadCheck=!1;c.checkInteractive=function(){if(c.needOnloadCheck){var a=c.interactiveScript;if(null==a||"interactive"!=a.readyState){c.interactiveScript=null;for(var a=document.getElementsByTagName("SCRIPT"),b=0;b<a.length;b++)"interactive"==a[b].readyState&&null!=a[b].onreadystatechange?(c.interactiveScript=a[b],c.innerLoadedScripts[a[b].src]=!0):c.isOpera&&"loaded"==a[b].readyState&&
null!=a[b].src&&0!=a[b].src.length&&(c.innerLoadedScripts[a[b].src]=!0)}}};c.load=function(a,b,e,f){c.checkInteractive();if(b instanceof Array){c.unwrapArray(b);for(var h=0;h<b.length;h++)c.load(a,b[h],e,f,b)}else{"$"==b.charAt(0)&&(b="org.eclipse.s"+b.substring(1));var k=c.mapPath2ClassNode["#"+b];if(null==k){var l=c.findClass(b),k=null!=l?l:new d;k.name=b;h=c.classpathMap["#"+b];null==h&&(h="unknown");k.path=h;c.mappingPathNameNode(k.path,b,k);k.status=d.STATUS_KNOWN;c.addChildClassNode(c.clazzTreeRoot,
k,-1)}if(null!=a&&0!=a.length)for(c.unwrapArray(a),h=0;h<a.length;h++)(l=a[h],null==l||0==l.length||c.isClassDefined(l)||c.isClassExcluded(l))||(l=c.findClass(l),null==l&&(l=new d,l.name=a[h],l.status=d.STATUS_KNOWN),l.requiredBy=k,c.addChildClassNode(k,l,1));5==arguments.length&&null!=f&&(f.status=k.status,f.clazzList=arguments[4]);k.declaration=f;null!=f&&(k.status=d.STATUS_CONTENT_LOADED);if(null!=e&&0!=e.length)for(c.unwrapArray(e),h=0;h<e.length;h++)(l=e[h],null==l||0==l.length||c.isClassDefined(l)||
c.isClassExcluded(l))||(l=c.findClass(l),null==l&&(l=new d,l.name=e[h],l.status=d.STATUS_KNOWN),c.addChildClassNode(k,l,-1))}};null!=window.Clazz&&(a.load=c.load);c.findClass=function(a){for(var b=0;;){var b=Math.random(),d="r"+b;if(c.usedRandoms[d]!=b){c.usedRandoms[d]=b;break}}c.clazzTreeRoot.random=b;return c.findClassUnderNode(a,c.clazzTreeRoot)};c.findClassUnderNode=function(a,b){var d=c.clazzTreeRoot.random;if(b.name==a)return b;for(var e=0;e<b.musts.length;e++){var f=b.musts[e];if(f.name==
a||f.random!=d&&(f.random=d,f=c.findClassUnderNode(a,f),null!=f))return f}for(e=0;e<b.optionals.length;e++)if(f=b.optionals[e],f.name==a||f.random!=d&&(f.random=d,f=c.findClassUnderNode(a,f),null!=f))return f;return null};c.mappingPathNameNode=function(a,b,d){var e=c.mapPath2ClassNode,f="@"+a;a=e[f];if(null!=a)if(a instanceof Array){for(var f=!1,g=0;g<a.length;g++)if(a[g].name==b){f=!0;break}f||(a[a.length]=d)}else g=[],g[0]=a,g[1]=d,e[f]=g;else e[f]=d;e["#"+b]=d};c.loadClassNode=function(a){var b=
a.name;if(!c.isClassDefined(b)&&!c.isClassExcluded(b)){var d=c.getClasspathFor(b);a.path=d;c.mappingPathNameNode(d,b,a);if(!c.loadedScripts[d])return c.loadScript(d,a.requiredBy),!0}return!1};c.runtimeKeyClass="java.lang.String";c.queueBe4KeyClazz=[];c.getJ2SLibBase=function(){var a=window["j2s.lib"];if(null!=a)return null==a.base&&(a.base="http://archive.java2script.org/"),a.base+("."==a.alias?"":(a.alias?a.alias:a.version?a.version:"1.0.0")+"/");for(var a=document.getElementsByTagName("SCRIPT"),
b=0;b<a.length;b++){var d=a[b].src,e=d.indexOf("j2slib.z.js");if(-1!=e)return d.substring(0,e);e=d.indexOf("j2slibcore.z.js");if(-1!=e)return d.substring(0,e);e=c.classpathMap["@java"];if(null!=e)return e;e=d.indexOf("java/lang/ClassLoader.js");if(-1!=e)return d.substring(0,e)}return null};c.J2SLibBase=null;c.fastGetJ2SLibBase=function(){null==c.J2SLibBase&&(c.J2SLibBase=c.getJ2SLibBase());return c.J2SLibBase};c.assurePackageClasspath=function(a){var b=window[a+".registered"];!1!=b&&!0!=b&&null==
c.classpathMap["@"+a]&&(window[a+".registered"]=!1,b=c.fastGetJ2SLibBase(),null==b&&(b="j2s"),c.packageClasspath(a,b,!0))};c.loadClass=function(e,f,h,k){if("boolean"==typeof f)return a.evalType(e);c.assurePackageClasspath("java");c.assurePackageClasspath("core");0!=e.indexOf("org.eclipse.swt")&&0!=e.indexOf("$wt")||c.assurePackageClasspath("org.eclipse.swt");0==e.indexOf("junit")&&c.assurePackageClasspath("junit");c.keepOnLoading=!0;if(!h&&(0!=c.pkgRefCount&&e.lastIndexOf(".package")!=e.length-8||
!c.isClassDefined(c.runtimeKeyClass)&&0!=e.indexOf("java.")))k=c.queueBe4KeyClazz,k[k.length]=[e,f];else if(c.isClassDefined(e)||c.isClassExcluded(e))null!=f&&c.isClassDefined(e)&&(e=c.findClass(e),null==e||e.status>=d.STATUS_OPTIONALS_LOADED)&&(k?window.setTimeout(f,25):f());else{var l=c.getClasspathFor(e),p=c.loadedScripts[l];k=c.classQueue;if(!p)for(h=k.length-1;0<=h;h--)if(k[h].path==l||k[h].name==e)p=!0;if(p){if(null!=f&&(p=c.findClass(e),null!=p))if(null==p.optionalsLoaded)p.optionalsLoaded=
f;else if(f!=p.optionalsLoaded){var v=p.optionalsLoaded;p.optionalsLoaded=function(){v();f()}}}else{p=null;null!=a.unloadedClasses[e]&&(p=c.findClass(e));null==p&&(p=new d);p.name=e;p.path=l;c.mappingPathNameNode(l,e,p);p.optionalsLoaded=f;p.status=d.STATUS_KNOWN;var B=!1;for(h=k.length-1;0<=h;h--)if(k[h].status!=d.STATUS_OPTIONALS_LOADED){B=!0;break}if(l.lastIndexOf("package.js")==l.length-10){l=!1;for(h=k.length-1;0<=h;h--){e=k[h].name;if(e.lastIndexOf("package.js")==e.length-10){k[h+1]=p;l=!0;
break}k[h+1]=k[h]}l||(k[0]=p)}else B&&(k[k.length]=p);B||(e=!1,null!=f&&(e=c.isLoadingEntryClass,c.isLoadingEntryClass=!0),c.addChildClassNode(c.clazzTreeRoot,p,1),c.loadScript(p.path),null!=f&&(c.isLoadingEntryClass=e))}}};c.loadJ2SApp=function(d,e,f){if(null!=d){var g=d;"$"==d.charAt(0)&&(g="org.eclipse.s"+d.substring(1));var h=-1;-1!=(h=g.indexOf("@"))&&(d=g.substring(h+1),c.setPrimaryFolder(d),g=g.substring(0,h),h=g.lastIndexOf("."),-1!=h&&(h=g.substring(0,h),c.packageClasspath(h,d)));null!=e&&
e instanceof Array||(e=[]);if(null==f){var k=g,l=e;f=function(){a.evalType(k).main(l)}}else f=f(g,e);c.loadClass(g,f)}};c.loadJUnit=function(d,e){c.loadJ2SApp(d,e,function(d){return function(){c.loadClass("junit.textui.TestRunner",function(){junit.textui.TestRunner.run(a.evalType(d))})}})};c.runtimeLoaded=function(){if(0==c.pkgRefCount&&c.isClassDefined(c.runtimeKeyClass)){for(var a=c.queueBe4KeyClazz,b=0;b<a.length;b++)c.loadClass(a[b][0],a[b][1]);c.queueBe4KeyClazz=[]}};c.loadZJar=function(a,b){var d=
b,e=b instanceof Array;e&&(d=b[b.length-1]);c.jarClasspath(a,e?b:[b]);b==c.runtimeKeyClass?c.loadClass(d,c.runtimeLoaded,!0):c.loadClass(d,null,!0)};c._nodeMap={};c._allNodes=[];c.addChildClassNode=function(a,b,d){var e=!1,f=null;1==d?(f=a.musts,b.requiredBy||(b.requiredBy=a),a.requires||(a.requires=[],a.requiresMap={}),a.requiresMap[b.name]||(a.requiresMap[b.name]=b,a.requires.push[b])):f=a.optionals;c._nodeMap[b.name]||(c._allNodes.push(b),c._nodeMap[b.name]=b);for(d=0;d<f.length;d++)if(f[d].name==
b.name){e=!0;break}if(!e){f[f.length]=b;if(0==b.name.indexOf("org.eclipse.swt")||0==b.name.indexOf("$wt"))window["swt.lazy.loading.callback"]=c.swtLazyLoading,c.assurePackageClasspath("org.eclipse.swt");c.isLoadingEntryClass&&0!=b.name.indexOf("java")&&0!=b.name.indexOf("net.sf.j2s.ajax")&&(c.besidesJavaPackage&&(c.isLoadingEntryClass=!1),c.besidesJavaPackage=!0)}e=!1;for(d=0;d<b.parents.length;d++)if(b.parents[d].name==a.name){e=!0;break}!e&&null!=a.name&&a!=c.clazzTreeRoot&&a!=b&&(b.parents[b.parents.length]=
a)};c.swtLazyLoading=function(){c.lockQueueBe4SWT=!1;for(var a=c.queueBe4SWT,b=0;b<a.length;b++)c.tryToLoadNext(a[b]);c.queueBe4SWT=[]};c.removeFromArray=function(a,b){if(null==b||null==a)return!1;for(var c=0,d=0;d<b.length;d++)b[d]!==a&&(c<d&&(b[c]=b[d]),c++);b.length=c;return!1};c.destroyClassNode=function(a){var b=a.parents;if(null!=b)for(var d=0;d<b.length;d++)c.removeFromArray(a,b[d].musts)||c.removeFromArray(a,b[d].optionals)};c.unloadClassExt=function(a){null!=c.definedClasses&&(c.definedClasses[a]=
!1);if(null!=c.classpathMap["#"+a]){var b=c.classpathMap["#"+a];c.classpathMap["#"+a]=null;for(var e=c.classpathMap["$"+b],f=!1,h=0;h<e.length;h++)if(e[h]==a){for(f=h;f<e.length-1;f++)e[f]=e[f+1];e.length--;f=!0;break}f&&(c.classpathMap["$"+b]=e)}b=c.findClass(a);null!=b&&(b.status=d.STATUS_KNOWN,c.loadedScripts[b.path]=!1);b=c.getClasspathFor(a);c.loadedScripts[b]=!1;c.innerLoadedScripts[b]&&(c.innerLoadedScripts[b]=!1);c.classUnloaded(a)};c.assureInnerClass=function(c,d){var e=c.__CLASS_NAME__;
if(a.unloadedClasses[e]&&-1==e.indexOf("$")){var f=[],e=e+"$",g;for(g in a.unloadedClasses)null!=a.unloadedClasses[g]&&0==g.indexOf(e)&&(f[f.length]=g);if(0!=f.length&&(f=""+d,g=f.indexOf(e),-1!=g)){var h=f.indexOf('"',g+e.length);-1!=h&&(e=f.substring(g,h),null!=a.unloadedClasses[e]&&(g=f.indexOf("{",h),-1!=g&&(g++,h=f.indexOf("("+e+",",g+3),-1!=h&&(h=f.lastIndexOf("}",h-1),-1!=h&&(f=f.substring(g,h),eval(f),a.unloadedClasses[e]=null)))))}}}})(a,a._Loader,a._Node);a._LoaderProgressMonitor=function(){};
var d=a._LoaderProgressMonitor;d.fadeOutTimer=null;d.fadeAlpha=0;d.monitorEl=null;d.lastScrollTop=0;d.bindingParent=null;d.DEFAULT_OPACITY=self.Jmol&&Jmol._j2sLoadMonitorOpacity?Jmol._j2sLoadMonitorOpacity:55;d.clearChildren=function(a){if(null!=a)for(var c=a.childNodes.length-1;0<=c;c--){var d=a.childNodes[c];if(null!=d){null!=d.childNodes&&0!=d.childNodes.length&&this.clearChildren(d);try{a.removeChild(d)}catch(e){}}}};d.setAlpha=function(a){null!=this.fadeOutTimer&&a==this.DEFAULT_OPACITY&&(window.clearTimeout(this.fadeOutTimer),
this.fadeOutTimer=null);this.fadeAlpha=a;navigator.userAgent.toLowerCase();this.monitorEl.style.filter="Alpha(Opacity="+a+")";this.monitorEl.style.opacity=a/100};d.hiddingOnMouseOver=function(){this.style.display="none"};d.attached=!1;d.cleanup=function(){d.monitorEl=null;d.bindingParent=null;d.attached=!1};d.createHandle=function(){var a=document.createElement("DIV");a.id="clazzloader-status";a.style.cssText="position:absolute;bottom:4px;left:4px;padding:2px 8px;z-index:"+(window["j2s.lib"].monitorZIndex||
1E4)+";background-color:#8e0000;color:yellow;font-family:Arial, sans-serif;font-size:10pt;white-space:nowrap;";a.onmouseover=this.hiddingOnMouseOver;this.monitorEl=a;null==this.bindingParent?document.body.appendChild(a):this.bindingParent.appendChild(a);return a};d.fadeOut=function(){"none"!=this.monitorEl.style.display&&(this.fadeAlpha==this.DEFAULT_OPACITY?(this.fadeOutTimer=window.setTimeout(function(){d.fadeOut()},750),this.fadeAlpha-=5):0<=this.fadeAlpha-10?(this.setAlpha(this.fadeAlpha-10),
this.fadeOutTimer=window.setTimeout(function(){d.fadeOut()},40)):this.monitorEl.style.display="none")};d.getFixedOffsetTop=function(){if(null!=this.bindingParent){var a=this.bindingParent;return a.scrollTop}var c=navigator.userAgent,a=document.body,d=a.parentNode,e=d.clientHeight,a=a.scrollTop+a.offsetTop,f=d.scrollTop+d.offsetTop;return-1==c.indexOf("Opera")&&document.all?0==e?a:f:-1!=c.indexOf("Gecko")?e==d.offsetHeight&&e==d.scrollHeight?a:f:a};d.showStatus=function(a,c){null==this.monitorEl&&
(this.createHandle(),this.attached||(this.attached=!0));this.clearChildren(this.monitorEl);this.monitorEl.appendChild(document.createTextNode(""+a));"none"==this.monitorEl.style.display&&(this.monitorEl.style.display="");this.setAlpha(this.DEFAULT_OPACITY);var d=this.getFixedOffsetTop();this.lastScrollTop!=d&&(this.lastScrollTop=d,this.monitorEl.style.bottom=this.lastScrollTop+4+"px");c&&this.fadeOut()};null!=window.ClazzLoader&&(ClazzLoader.scriptLoading=function(a){d.showStatus("Loading "+a+"...")},
ClazzLoader.scriptLoaded=function(a){d.showStatus(a+" loaded.",!0)},ClazzLoader.globalLoaded=function(){d.showStatus("Application loaded.",!0)},ClazzLoader.classUnloaded=function(a){d.showStatus("Class "+a+" is unloaded.",!0)},ClazzLoader.classReloaded=function(a){d.showStatus("Class "+a+" is reloaded.",!0)},k=navigator.userAgent.toLowerCase(),-1!=k.indexOf("msie")&&-1==k.indexOf("opera")&&ClazzLoader.setLoadingMode("script",5));var h=a.Console;h.maxTotalLines=1E4;h.setMaxTotalLines=function(a){h.maxTotalLines=
0>=a?999999:a};h.maxLatency=40;h.setMaxLatency=function(a){h.maxLatency=0>=a?40:a};h.pinning=!1;h.enablePinning=function(a){h.pinning=a};h.linesCount=0;h.metLineBreak=!1;h.splitNeedFixed=2!="\n".split(/\n/).length;h.splitIntoLineByR=function(a){for(var c=[],d=0,e=-1;;)if(d=a.indexOf("\r",e+1),-1!=d){if(c[c.length]=a.substring(e+1,d),e=d,e+1==a.length){c[c.length]="";break}}else{c[c.length]=a.substring(e+1);break}return c};h.splitIntoLines=function(a){var c=[];if(null==a)return c;for(var d=0,e=-1;;){var d=
a.indexOf("\n",e+1),f=null;-1!=d?(f=0<d&&"\r"==a.charAt(d-1)?a.substring(e+1,d-1):a.substring(e+1,d),e=d):f=a.substring(e+1);for(var f=h.splitIntoLineByR(f),k=0;k<f.length;k++)c[c.length]=f[k];if(-1==d)break;else if(e+1==a.length){c[c.length]="";break}}return c};h.createConsoleWindow=function(){var a=document.createElement("DIV");a.style.cssText="font-family:monospace, Arial, sans-serif;";document.body.appendChild(a);return a};h.consoleOutput=function(a,c){var d=window["j2s.lib"];(d=d&&d.console)&&
"string"==typeof d&&(d=document.getElementById(d));if(!d)return!1;if(h.linesCount>h.maxTotalLines){for(var e=0;e<h.linesCount-h.maxTotalLines;e++)null!=d&&0<d.childNodes.length&&d.removeChild(d.childNodes[0]);h.linesCount=h.maxTotalLines}var f=!1;a="undefined"==typeof a?"":null==a?"null":""+a;0<a.length&&(e=a.charAt(a.length-1),"\n"==e?(a=1<a.length?"\r"==a.charAt(a.length-2)?a.substring(0,a.length-2):a.substring(0,a.length-1):"",f=!0):"\r"==e&&(a=a.substring(0,a.length-1),f=!0));var k=null;a=a.replace(/\t/g,
h.c160);if(h.splitNeedFixed)try{k=h.splitIntoLines(a)}catch(q){window.popup(q.message)}else k=a.split(/\r\n|\r|\n/g);for(e=0;e<k.length;e++){var r=null;if(h.metLineBreak||0==h.linesCount||1>d.childNodes.length)r=document.createElement("DIV"),d.appendChild(r),r.style.whiteSpace="nowrap",h.linesCount++;else try{r=d.childNodes[d.childNodes.length-1]}catch(s){r=document.createElement("DIV"),d.appendChild(r),r.style.whiteSpace="nowrap",h.linesCount++}var u=document.createElement("SPAN");r.appendChild(u);
u.style.whiteSpace="nowrap";null!=c&&(u.style.color=c);0==k[e].length&&(k[e]=String.fromCharCode(160));u.appendChild(document.createTextNode(k[e]));h.pinning||(d.scrollTop+=100);h.metLineBreak=e!=k.length-1?!0:f}f=d.parentNode.className;!h.pinning&&null!=f&&-1!=f.indexOf("composite")&&(d.parentNode.scrollTop=d.parentNode.scrollHeight);h.lastOutputTime=(new Date).getTime()};h.clear=function(){try{h.metLineBreak=!0;var a=window["j2s.lib"],c=a&&a.console;if(c&&(c=document.getElementById(c))){for(var d=
c.childNodes,e=d.length-1;0<=e;e--)c.removeChild(d[e]);h.linesCount=0}}catch(f){}};a.alert=function(a){h.consoleOutput(a+"\r\n")};h.c160=String.fromCharCode(160);h.c160+=h.c160+h.c160+h.c160;System.out.print=function(a){h.consoleOutput(a)};System.out.println=function(a){h.consoleOutput("undefined"==typeof a?"\r\n":null==a?"null\r\n":a+"\r\n")};System.err.__CLASS_NAME__="java.io.PrintStream";System.err.print=function(a){h.consoleOutput(a,"red")};System.err.println=function(a){h.consoleOutput("undefined"==
typeof a?"\r\n":null==a?"null\r\n":a+"\r\n","red")};a.setConsoleDiv=function(a){window["j2s.lib"]&&(window["j2s.lib"].console=a)};a.binaryFolders=a._Loader.binaryFolders=[a._Loader.getJ2SLibBase()]}(Clazz))};
!function(){function a(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function k(a){return null!=a&&!isNaN(a)}function e(a){return{left:function(b,c,d,e){3>arguments.length&&(d=0);4>arguments.length&&(e=b.length);for(;d<e;){var f=d+e>>>1;0>a(b[f],c)?d=f+1:e=f}return d},right:function(b,c,d,e){3>arguments.length&&(d=0);4>arguments.length&&(e=b.length);for(;d<e;){var f=d+e>>>1;0<a(b[f],c)?e=f:d=f+1}return d}}}function f(a){return a.length}function d(a,b){try{for(var c in b)Object.defineProperty(a.prototype,c,
{value:b[c],enumerable:!1})}catch(d){a.prototype=b}}function h(){}function b(a){return Vb+a in this}function c(){var a=[];this.forEach(function(b){a.push(b)});return a}function g(){var a=0,b;for(b in this)b.charCodeAt(0)===zd&&++a;return a}function l(){for(var a in this)if(a.charCodeAt(0)===zd)return!1;return!0}function p(){}function v(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function q(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.substring(1);for(var c=0,d=Nf.length;c<
d;++c){var e=Nf[c]+b;if(e in a)return e}}function r(){}function s(){}function u(a){function b(){for(var d=c,e=-1,f=d.length,g;++e<f;)(g=d[e].on)&&g.apply(this,arguments);return a}var c=[],d=new h;b.on=function(b,e){var f=d.get(b),g;if(2>arguments.length)return f&&f.on;f&&(f.on=null,c=c.slice(0,g=c.indexOf(f)).concat(c.slice(g+1)),d.remove(b));e&&c.push(d.set(b,{on:e}));return a};return b}function w(){t.event.preventDefault()}function x(){for(var a=t.event,b;b=a.sourceEvent;)a=b;return a}function y(a){for(var b=
new s,c=0,d=arguments.length;++c<d;)b[arguments[c]]=u(b);b.of=function(c,d){return function(e){try{var f=e.sourceEvent=t.event;e.target=a;t.event=e;b[e.type].apply(c,d)}finally{t.event=f}}};return b}function B(a){Ad(a,Z);return a}function A(a){return"function"===typeof a?a:function(){return ze(a,this)}}function z(a){return"function"===typeof a?a:function(){return Ae(a,this)}}function Y(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,
b)}function f(){this.setAttributeNS(a.space,a.local,b)}function g(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function h(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}a=t.ns.qualify(a);return null==b?a.local?d:c:"function"===typeof b?a.local?h:g:a.local?f:e}function ba(a){return a.trim().replace(/\s+/g," ")}function W(a){return new RegExp("(?:^|\\s+)"+t.requote(a)+"(?:\\s+|$)","g")}
function ea(a,b){function c(){for(var d=-1;++d<e;)a[d](this,b)}function d(){for(var c=-1,f=b.apply(this,arguments);++c<e;)a[c](this,f)}a=a.trim().split(/^|\s+/).map(N);var e=a.length;return"function"===typeof b?d:c}function N(a){var b=W(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",ba(e+" "+a))):c.setAttribute("class",ba(e.replace(b," ")))}}function P(a,b,c){function d(){this.style.removeProperty(a)}
function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==b?d:"function"===typeof b?f:e}function Q(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"===typeof b?e:d}function fa(a){return"function"===typeof a?a:(a=t.ns.qualify(a)).local?function(){return this.ownerDocument.createElementNS(a.space,
a.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,a)}}function na(a){return function(){return Of(this,a)}}function ya(b){arguments.length||(b=a);return function(a,c){return a&&c?b(a.__data__,c.__data__):!a-!c}}function ra(a,b){for(var c=0,d=a.length;c<d;c++)for(var e=a[c],f=0,g=e.length,h;f<g;f++)(h=e[f])&&b(h,f,c);return a}function Ga(a){Ad(a,sb);return a}function Ca(a){var b,c;return function(d,e,f){d=a[f].update;var g=d.length;f!=c&&(c=f,b=0);for(e>=b&&(b=e+1);!(e=
d[b])&&++b<g;);return e}}function H(){var a=this.__transition__;a&&++a.active}function ja(a,b,c){function d(){var b=this[g];b&&(this.removeEventListener(a,b,b.$),delete this[g])}function e(){var f=k(b,Bb(arguments));d.call(this);this.addEventListener(a,this[g]=f,f.$=c);f._=b}function f(){var b=new RegExp("^__on([^.]+)"+t.requote(a)+"$"),c,d;for(d in this)if(c=d.match(b)){var e=this[d];this.removeEventListener(c[1],e,e.$);delete this[d]}}var g="__on"+a,h=a.indexOf("."),k=R;0<h&&(a=a.substring(0,h));
var l=Be.get(a);l&&(a=l,k=va);return h?b?e:d:b?r:f}function R(a,b){return function(c){var d=t.event;t.event=c;b[0]=this.__data__;try{a.apply(this,b)}finally{t.event=d}}}function va(a,b){var c=R(a,b);return function(a){var b=a.relatedTarget;b&&(b===this||b.compareDocumentPosition(this)&8)||c.call(this,a)}}function ua(){var a=".dragsuppress-"+ ++zh,b="click"+a,c=t.select(Ra).on("touchmove"+a,w).on("dragstart"+a,w).on("selectstart"+a,w);if(Wc){var d=Cb.style,e=d[Wc];d[Wc]="none"}return function(f){c.on(a,
null);Wc&&(d[Wc]=e);if(f){var g=function(){c.on(b,null)};c.on(b,function(){w();g()},!0);setTimeout(g,0)}}}function oa(a,b){b.changedTouches&&(b=b.changedTouches[0]);var c=a.ownerSVGElement||a;if(c.createSVGPoint)return c=c.createSVGPoint(),c.x=b.clientX,c.y=b.clientY,c=c.matrixTransform(a.getScreenCTM().inverse()),[c.x,c.y];c=a.getBoundingClientRect();return[b.clientX-c.left-a.clientLeft,b.clientY-c.top-a.clientTop]}function Ka(){return t.event.changedTouches[0].identifier}function da(){return t.event.target}
function gc(){return Ra}function Bc(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function hc(a){return 1<a?0:-1>a?G:Math.acos(a)}function T(a){return 1<a?Ba:-1>a?-Ba:Math.asin(a)}function M(a){return((a=Math.exp(a))+1/a)/2}function m(a){return(a=Math.sin(a/2))*a}function xb(){}function yb(a,b,c){return new Cc(a,b,c)}function Cc(a,b,c){this.h=a;this.s=b;this.l=c}function Dc(a,b,c){function d(a){360<a?a-=360:0>a&&(a+=360);return 60>a?e+(f-e)*a/60:180>a?f:240>a?e+(f-e)*(240-a)/60:e}var e,
f;a=isNaN(a)?0:0>(a%=360)?a+360:a;b=isNaN(b)?0:0>b?0:1<b?1:b;c=0>c?0:1<c?1:c;f=.5>=c?c*(1+b):c+b-c*b;e=2*c-f;return qa(Math.round(255*d(a+120)),Math.round(255*d(a)),Math.round(255*d(a-120)))}function Ia(a,b,c){return new Nb(a,b,c)}function Nb(a,b,c){this.h=a;this.c=b;this.l=c}function lc(a,b,c){isNaN(a)&&(a=0);isNaN(b)&&(b=0);return Va(c,Math.cos(a*=I)*b,Math.sin(a)*b)}function Va(a,b,c){return new db(a,b,c)}function db(a,b,c){this.l=a;this.a=b;this.b=c}function ld(a,b,c){a=(a+16)/116;c=a-c/200;b=
Kc(a+b/500)*Pf;a=Kc(a)*Qf;c=Kc(c)*Rf;return qa(cc(3.2404542*b-1.5371385*a-.4985314*c),cc(-.969266*b+1.8760108*a+.041556*c),cc(.0556434*b-.2040259*a+1.0572252*c))}function md(a,b,c){return 0<a?Ia(Math.atan2(c,b)*ga,Math.sqrt(b*b+c*c),a):Ia(NaN,NaN,a)}function Kc(a){return.206893034<a?a*a*a:(a-4/29)/7.787037}function ma(a){return.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function cc(a){return Math.round(255*(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function eb(a){return qa(a>>16,a>>8&255,a&255)+
""}function qa(a,b,c){return new F(a,b,c)}function F(a,b,c){this.r=a;this.g=b;this.b=c}function ia(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function ed(a,b,c){var d=0,e=0,f=0,g,h;if(g=/([a-z]+)\((.*)\)/i.exec(a))switch(h=g[2].split(","),g[1]){case "hsl":return c(parseFloat(h[0]),parseFloat(h[1])/100,parseFloat(h[2])/100);case "rgb":return b(Za(h[0]),Za(h[1]),Za(h[2]))}if(c=Cd.get(a))return b(c.r,c.g,c.b);null==a||"#"!==a.charAt(0)||isNaN(c=parseInt(a.substring(1),
16))||(4===a.length?(d=(c&3840)>>4,d|=d>>4,e=c&240,e|=e>>4,f=c&15,f|=f<<4):7===a.length&&(d=(c&16711680)>>16,e=(c&65280)>>8,f=c&255));return b(d,e,f)}function cd(a,b,c){var d=Math.min(a/=255,b/=255,c/=255),e=Math.max(a,b,c),f=e-d,g=(e+d)/2;f?(d=.5>g?f/(e+d):f/(2-e-d),a=60*(a==e?(b-c)/f+(b<c?6:0):b==e?(c-a)/f+2:(a-b)/f+4)):(a=NaN,d=0<g&&1>g?0:a);return yb(a,d,g)}function Ob(a,b,c){a=Qa(a);b=Qa(b);c=Qa(c);var d=ma((.4124564*a+.3575761*b+.1804375*c)/Pf),e=ma((.2126729*a+.7151522*b+.072175*c)/Qf);a=ma((.0193339*
a+.119192*b+.9503041*c)/Rf);return Va(116*e-16,500*(d-e),200*(e-a))}function Qa(a){return.04045>=(a/=255)?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Za(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function X(a){return"function"===typeof a?a:function(){return a}}function ka(a){return a}function Lc(a){return function(b,c,d){2===arguments.length&&"function"===typeof c&&(d=c,c=null);return Pb(b,c,a,d)}}function Pb(a,b,c,d){function e(){var a=k.status,b;if(!a&&k.responseText||
200<=a&&300>a||304===a){try{b=c.call(f,k)}catch(d){g.error.call(f,d);return}g.load.call(f,b)}else g.error.call(f,k)}var f={},g=t.dispatch("beforesend","progress","load","error"),h={},k=new XMLHttpRequest,l=null;!Ra.XDomainRequest||"withCredentials"in k||!/^(http(s)?:)?\/\//.test(a)||(k=new XDomainRequest);"onload"in k?k.onload=k.onerror=e:k.onreadystatechange=function(){3<k.readyState&&e()};k.onprogress=function(a){var b=t.event;t.event=a;try{g.progress.call(f,k)}finally{t.event=b}};f.header=function(a,
b){a=(a+"").toLowerCase();if(2>arguments.length)return h[a];null==b?delete h[a]:h[a]=b+"";return f};f.mimeType=function(a){if(!arguments.length)return b;b=null==a?null:a+"";return f};f.responseType=function(a){if(!arguments.length)return l;l=a;return f};f.response=function(a){c=a;return f};["get","post"].forEach(function(a){f[a]=function(){return f.send.apply(f,[a].concat(Bb(arguments)))}});f.send=function(c,d,e){2===arguments.length&&"function"===typeof d&&(e=d,d=null);k.open(c,a,!0);null==b||"accept"in
h||(h.accept=b+",*/*");if(k.setRequestHeader)for(var V in h)k.setRequestHeader(V,h[V]);null!=b&&k.overrideMimeType&&k.overrideMimeType(b);null!=l&&(k.responseType=l);if(null!=e)f.on("error",e).on("load",function(a){e(null,a)});g.beforesend.call(f,k);k.send(null==d?null:d);return f};f.abort=function(){k.abort();return f};t.rebind(f,g,"on");return null==d?f:f.get(nd(d))}function nd(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function mc(){var a=Mc(),a=od()-a;24<a?(isFinite(a)&&(clearTimeout(Dd),
Dd=setTimeout(mc,a)),Ed=0):(Ed=1,Sf(mc))}function Mc(){var a=Date.now();for(tb=Fd;tb;)a>=tb.t&&(tb.f=tb.c(a-tb.t)),tb=tb.n;return a}function od(){for(var a,b=Fd,c=Infinity;b;)b.f?b=a?a.n=b.n:Fd=b.n:(b.t<c&&(c=b.t),b=(a=b).n);Gd=a;return c}function Nc(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function se(a){var b=a.decimal,c=a.thousands,d=a.grouping,e=a.currency,f=d?function(a){for(var b=a.length,e=[],f=0,g=d[0];0<b&&0<g;)e.push(a.substring(b-=g,b+g)),g=d[f=(f+1)%d.length];return e.reverse().join(c)}:
ka;return function(a){a=Tf.exec(a);var c=a[1]||" ",d=a[2]||">",g=a[3]||"",C=a[4]||"",h=a[5],k=+a[6],V=a[7],l=a[8],O=a[9],p=1,m="",q="",r=!1;l&&(l=+l.substring(1));if(h||"0"===c&&"="===d)h=c="0",d="=",V&&(k-=Math.floor((k-1)/4));switch(O){case "n":V=!0;O="g";break;case "%":p=100;q="%";O="f";break;case "p":p=100;q="%";O="r";break;case "b":case "o":case "x":case "X":"#"===C&&(m="0"+O.toLowerCase());case "c":case "d":r=!0;l=0;break;case "s":p=-1,O="r"}"$"===C&&(m=e[0],q=e[1]);"r"!=O||l||(O="g");if(null!=
l)if("g"==O)l=Math.max(1,Math.min(21,l));else if("e"==O||"f"==O)l=Math.max(0,Math.min(20,l));var O=Ah.get(O)||pd,s=h&&V;return function(a){var e=q;if(r&&a%1)return"";var C=0>a||0===a&&0>1/a?(a=-a,"-"):g;0>p?(e=t.formatPrefix(a,l),a=e.scale(a),e=e.symbol+q):a*=p;a=O(a,l);var U=a.lastIndexOf("."),za=0>U?a:a.substring(0,U);a=0>U?"":b+a.substring(U+1);!h&&V&&(za=f(za));var U=m.length+za.length+a.length+(s?0:C.length),Aa=U<k?Array(U=k-U+1).join(c):"";s&&(za=f(Aa+za));C+=m;a=za+a;return("<"===d?C+a+Aa:
">"===d?Aa+C+a:"^"===d?Aa.substring(0,U>>=1)+C+a+Aa.substring(U):C+(s?a:Aa+a))+e}}}function pd(a){return a+""}function Fa(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function Oa(a,b,c){function d(b){var c=a(b),e=f(c,1);return b-c<e-b?c:e}function e(c){b(c=a(new Ea(c-1)),1);return c}function f(a,c){b(a=new Ea(+a),c);return a}function g(a,d,f){a=e(a);var C=[];if(1<f)for(;a<d;)c(a)%f||C.push(new Date(+a)),b(a,1);else for(;a<d;)C.push(new Date(+a)),b(a,1);return C}
a.floor=a;a.round=d;a.ceil=e;a.offset=f;a.range=g;var h=a.utc=wa(a);h.floor=h;h.round=wa(d);h.ceil=wa(e);h.offset=wa(f);h.range=function(a,b,c){try{Ea=Fa;var d=new Fa;d._=a;return g(d,b,c)}finally{Ea=Date}};return a}function wa(a){return function(b,c){try{Ea=Fa;var d=new Fa;d._=b;return a(d,c)._}finally{Ea=Date}}}function dc(a){function b(a){function d(b){for(var c=[],f=-1,g=0,C,h;++f<e;)if(37===a.charCodeAt(f)){c.push(a.substring(g,f));null!=(C=Uf[g=a.charAt(++f)])&&(g=a.charAt(++f));if(h=w[g])g=
h(b,null==C?"e"===g?" ":"0":C);c.push(g);g=f+1}c.push(a.substring(g,f));return c.join("")}var e=a.length;d.parse=function(b){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(d,a,b,0)!=b.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);b=null!=d.Z&&Ea!==Fa;var e=new (b?Fa:Ea);"j"in d?e.setFullYear(d.y,0,d.j):"w"in d&&("W"in d||"U"in d)?(e.setFullYear(d.y,0,1),e.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(e.getDay()+5)%7:d.w+7*d.U-(e.getDay()+6)%7)):e.setFullYear(d.y,d.m,d.d);e.setHours(d.H+Math.floor(d.Z/
100),d.M+d.Z%100,d.S,d.L);return b?e._:e};d.toString=function(){return a};return d}function c(a,b,d,e){for(var f,g=0,C=b.length,h=d.length;g<C;){if(e>=h)return-1;f=b.charCodeAt(g++);if(37===f){if(f=b.charAt(g++),f=x[f in Uf?b.charAt(g++):f],!f||0>(e=f(a,d,e)))return-1}else if(f!=d.charCodeAt(e++))return-1}return e}var d=a.dateTime,e=a.date,f=a.time,g=a.periods,h=a.days,k=a.shortDays,l=a.months,p=a.shortMonths;b.utc=function(a){function c(a){try{Ea=Fa;var b=new Ea;b._=a;return d(b)}finally{Ea=Date}}
var d=b(a);c.parse=function(a){try{Ea=Fa;var b=d.parse(a);return b&&b._}finally{Ea=Date}};c.toString=d.toString;return c};b.multi=b.utc.multi=Qb;var m=t.map(),q=Kb(h),r=rb(h),s=Kb(k),v=rb(k),mb=Kb(l),La=rb(l),u=Kb(p),ca=rb(p);g.forEach(function(a,b){m.set(a.toLowerCase(),b)});var w={a:function(a){return k[a.getDay()]},A:function(a){return h[a.getDay()]},b:function(a){return p[a.getMonth()]},B:function(a){return l[a.getMonth()]},c:b(d),d:function(a,b){return ta(a.getDate(),b,2)},e:function(a,b){return ta(a.getDate(),
b,2)},H:function(a,b){return ta(a.getHours(),b,2)},I:function(a,b){return ta(a.getHours()%12||12,b,2)},j:function(a,b){return ta(1+E.dayOfYear(a),b,3)},L:function(a,b){return ta(a.getMilliseconds(),b,3)},m:function(a,b){return ta(a.getMonth()+1,b,2)},M:function(a,b){return ta(a.getMinutes(),b,2)},p:function(a){return g[+(12<=a.getHours())]},S:function(a,b){return ta(a.getSeconds(),b,2)},U:function(a,b){return ta(E.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return ta(E.mondayOfYear(a),
b,2)},x:b(e),X:b(f),y:function(a,b){return ta(a.getFullYear()%100,b,2)},Y:function(a,b){return ta(a.getFullYear()%1E4,b,4)},Z:Lb,"%":function(){return"%"}},x={a:function(a,b,c){s.lastIndex=0;return(b=s.exec(b.substring(c)))?(a.w=v.get(b[0].toLowerCase()),c+b[0].length):-1},A:function(a,b,c){q.lastIndex=0;return(b=q.exec(b.substring(c)))?(a.w=r.get(b[0].toLowerCase()),c+b[0].length):-1},b:function(a,b,c){u.lastIndex=0;return(b=u.exec(b.substring(c)))?(a.m=ca.get(b[0].toLowerCase()),c+b[0].length):
-1},B:function(a,b,c){mb.lastIndex=0;return(b=mb.exec(b.substring(c)))?(a.m=La.get(b[0].toLowerCase()),c+b[0].length):-1},c:function(a,b,d){return c(a,w.c.toString(),b,d)},d:$a,e:$a,H:rd,I:rd,j:nc,L:fc,m:fd,M:sd,p:function(a,b,c){b=m.get(b.substring(c,c+=2).toLowerCase());return null==b?-1:(a.p=b,c)},S:we,U:te,w:ec,W:fe,x:function(a,b,d){return c(a,w.x.toString(),b,d)},X:function(a,b,d){return c(a,w.X.toString(),b,d)},y:ve,Y:ue,Z:qd,"%":td};return b}function ta(a,b,c){var d=0>a?"-":"";a=(d?-a:a)+
"";var e=a.length;return d+(e<c?Array(c-e+1).join(b)+a:a)}function Kb(a){return new RegExp("^(?:"+a.map(t.requote).join("|")+")","i")}function rb(a){for(var b=new h,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function ec(a,b,c){la.lastIndex=0;return(b=la.exec(b.substring(c,c+1)))?(a.w=+b[0],c+b[0].length):-1}function te(a,b,c){la.lastIndex=0;return(b=la.exec(b.substring(c)))?(a.U=+b[0],c+b[0].length):-1}function fe(a,b,c){la.lastIndex=0;return(b=la.exec(b.substring(c)))?(a.W=+b[0],
c+b[0].length):-1}function ue(a,b,c){la.lastIndex=0;return(b=la.exec(b.substring(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}function ve(a,b,c){la.lastIndex=0;if(b=la.exec(b.substring(c,c+2))){var d=+b[0];a=(a.y=d+(68<d?1900:2E3),c+b[0].length)}else a=-1;return a}function qd(a,b,c){return/^[+-]\d{4}$/.test(b=b.substring(c,c+5))?(a.Z=-b,c+5):-1}function fd(a,b,c){la.lastIndex=0;return(b=la.exec(b.substring(c,c+2)))?(a.m=b[0]-1,c+b[0].length):-1}function $a(a,b,c){la.lastIndex=0;return(b=la.exec(b.substring(c,
c+2)))?(a.d=+b[0],c+b[0].length):-1}function nc(a,b,c){la.lastIndex=0;return(b=la.exec(b.substring(c,c+3)))?(a.j=+b[0],c+b[0].length):-1}function rd(a,b,c){la.lastIndex=0;return(b=la.exec(b.substring(c,c+2)))?(a.H=+b[0],c+b[0].length):-1}function sd(a,b,c){la.lastIndex=0;return(b=la.exec(b.substring(c,c+2)))?(a.M=+b[0],c+b[0].length):-1}function we(a,b,c){la.lastIndex=0;return(b=la.exec(b.substring(c,c+2)))?(a.S=+b[0],c+b[0].length):-1}function fc(a,b,c){la.lastIndex=0;return(b=la.exec(b.substring(c,
c+3)))?(a.L=+b[0],c+b[0].length):-1}function Lb(a){var b=a.getTimezoneOffset();a=0<b?"-":"+";var c=~~(K(b)/60),b=K(b)%60;return a+ta(c,"0",2)+ta(b,"0",2)}function td(a,b,c){Vf.lastIndex=0;return(a=Vf.exec(b.substring(c,c+1)))?c+a[0].length:-1}function Qb(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,d=a[c];!d[1](b);)d=a[++c];return d[0](b)}}function Oc(){}function oc(a,b,c){var d=c.s=a+b,e=d-a;c.t=a-(d-e)+(b-e)}function pc(a,b){if(a&&Wf.hasOwnProperty(a.type))Wf[a.type](a,
b)}function Rb(a,b,c){var d=-1;c=a.length-c;var e;for(b.lineStart();++d<c;)e=a[d],b.point(e[0],e[1],e[2]);b.lineEnd()}function qc(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)Rb(a[c],b,1);b.polygonEnd()}function fb(){function a(b,c){b*=I;c=c*I/2+G/4;var g=b-d,C=0<=g?1:-1,h=C*g,g=Math.cos(c),k=Math.sin(c),L=f*k,V=e*g+L*Math.cos(h),C=L*C*Math.sin(h);Yb.add(Math.atan2(C,V));d=b;e=g;f=k}var b,c,d,e,f;Sa.point=function(g,h){Sa.point=a;d=(b=g)*I;e=Math.cos(h=(c=h)*I/2+G/4);f=Math.sin(h)};Sa.lineEnd=
function(){a(b,c)}}function xa(a){var b=a[0];a=a[1];var c=Math.cos(a);return[c*Math.cos(b),c*Math.sin(b),Math.sin(a)]}function rc(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function gb(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Pc(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function sc(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function tc(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function Sb(a){return[Math.atan2(a[1],a[0]),T(a[2])]}function Tb(a,
b){return K(a[0]-b[0])<D&&K(a[1]-b[1])<D}function Mb(a,b){a*=I;var c=Math.cos(b*=I);zb(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function zb(a,b,c){++Yc;ub+=(a-ub)/Yc;vb+=(b-vb)/Yc;ob+=(c-ob)/Yc}function xe(){function a(e,f){e*=I;var g=Math.cos(f*=I),C=g*Math.cos(e),g=g*Math.sin(e),h=Math.sin(f),k=Math.atan2(Math.sqrt((k=c*h-d*g)*k+(k=d*C-b*h)*k+(k=b*g-c*C)*k),b*C+c*g+d*h);vc+=k;Wa+=k*(b+(b=C));Xa+=k*(c+(c=g));Pa+=k*(d+(d=h));zb(b,c,d)}var b,c,d;ib.point=function(e,f){e*=I;var g=Math.cos(f*=I);b=g*
Math.cos(e);c=g*Math.sin(e);d=Math.sin(f);ib.point=a;zb(b,c,d)}}function ud(){ib.point=Mb}function ge(){function a(b,c){b*=I;var g=Math.cos(c*=I),C=g*Math.cos(b),g=g*Math.sin(b),h=Math.sin(c),k=e*h-f*g,L=f*C-d*h,V=d*g-e*C,l=Math.sqrt(k*k+L*L+V*V),p=d*C+e*g+f*h,m=l&&-hc(p)/l,l=Math.atan2(l,p);Db+=m*k;Eb+=m*L;pb+=m*V;vc+=l;Wa+=l*(d+(d=C));Xa+=l*(e+(e=g));Pa+=l*(f+(f=h));zb(d,e,f)}var b,c,d,e,f;ib.point=function(g,h){b=g;c=h;ib.point=a;g*=I;var k=Math.cos(h*=I);d=k*Math.cos(g);e=k*Math.sin(g);f=Math.sin(h);
zb(d,e,f)};ib.lineEnd=function(){a(b,c);ib.lineEnd=ud;ib.point=Mb}}function hb(){return!0}function vd(a,b,c,d,e){var f=[],g=[];a.forEach(function(a){if(!(0>=(b=a.length-1))){var b,c=a[0],d=a[b];if(Tb(c,d)){e.lineStart();for(d=0;d<b;++d)e.point((c=a[d])[0],c[1]);e.lineEnd()}else b=new uc(c,a,null,!0),c=new uc(c,null,b,!1),b.o=c,f.push(b),g.push(c),b=new uc(d,a,null,!1),c=new uc(d,null,b,!0),b.o=c,f.push(b),g.push(c)}});g.sort(b);wd(f);wd(g);if(f.length){a=0;b=c;for(c=g.length;a<c;++a)g[a].e=b=!b;b=
f[0];for(var h,k;;){for(var l=b,p=!0;l.v;)if((l=l.n)===b)return;h=l.z;e.lineStart();do{l.v=l.o.v=!0;if(l.e){if(p)for(a=0,c=h.length;a<c;++a)e.point((k=h[a])[0],k[1]);else d(l.x,l.n.x,1,e);l=l.n}else{if(p)for(h=l.p.z,a=h.length-1;0<=a;--a)e.point((k=h[a])[0],k[1]);else d(l.x,l.p.x,-1,e);l=l.p}l=l.o;h=l.z;p=!p}while(!l.v);e.lineEnd()}}}function wd(a){if(b=a.length){for(var b,c=0,d=a[0],e;++c<b;)d.n=e=a[c],e.p=d,d=e;d.n=e=a[0];e.p=d}}function uc(a,b,c,d){this.x=a;this.z=b;this.o=c;this.e=d;this.v=!1;
this.n=this.p=null}function Ub(a,b,c,d){return function(e,f){function g(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&f.point(b,c)}function h(a,b){var c=e(a,b);r.point(c[0],c[1])}function k(){v.point=h;r.lineStart()}function l(){v.point=g;r.lineEnd()}function p(a,b){x.push([a,b]);var c=e(a,b);u.point(c[0],c[1])}function m(){u.lineStart();x=[]}function q(){p(x[0][0],x[0][1]);u.lineEnd();var a=u.clean(),b=La.buffer(),c=b.length;x.pop();w.push(x);x=null;if(c)if(a&1){var a=b[0],c=a.length-1,b=-1,d;if(0<c){ca||
(f.polygonStart(),ca=!0);for(f.lineStart();++b<c;)f.point((d=a[b])[0],d[1]);f.lineEnd()}}else 1<c&&a&2&&b.push(b.pop().concat(b.shift())),mb.push(b.filter(ye))}var r=b(f),s=e.invert(d[0],d[1]),v={point:g,lineStart:k,lineEnd:l,polygonStart:function(){v.point=p;v.lineStart=m;v.lineEnd=q;mb=[];w=[]},polygonEnd:function(){v.point=g;v.lineStart=k;v.lineEnd=l;mb=t.merge(mb);var a,b=s;a=w;var d=b[0],e=b[1],C=[Math.sin(d),-Math.cos(d),0],h=0,L=0;Yb.reset();for(var O=0,U=a.length;O<U;++O){var Da=a[O],p=Da.length;
if(p)for(var m=Da[0],Aa=m[0],b=m[1]/2+G/4,q=Math.sin(b),Bd=Math.cos(b),r=1;;){r===p&&(r=0);var b=Da[r],Uc=b[0],Vc=b[1]/2+G/4,u=Math.sin(Vc),Vc=Math.cos(Vc),La=Uc-Aa,x=0<=La?1:-1,Xb=x*La,y=Xb>G,q=q*u;Yb.add(Math.atan2(q*x*Math.sin(Xb),Bd*Vc+q*Math.cos(Xb)));h+=y?La+x*Ta:La;y^Aa>=d^Uc>=d&&(m=gb(xa(m),xa(b)),tc(m),Aa=gb(C,m),tc(Aa),Aa=(y^0<=La?-1:1)*T(Aa[2]),e>Aa||e===Aa&&(m[0]||m[1]))&&(L+=y^0<=La?1:-1);if(!r++)break;Aa=Uc;q=u;Bd=Vc;m=b}}a=(h<-D||h<D&&0>Yb)^L&1;mb.length?(ca||(f.polygonStart(),ca=!0),
vd(mb,xd,a,c,f)):a&&(ca||(f.polygonStart(),ca=!0),f.lineStart(),c(null,null,1,f),f.lineEnd());ca&&(f.polygonEnd(),ca=!1);mb=w=null},sphere:function(){f.polygonStart();f.lineStart();c(null,null,1,f);f.lineEnd();f.polygonEnd()}},mb,La=Ab(),u=b(La),ca=!1,w,x;return v}}function ye(a){return 1<a.length}function Ab(){var a=[],b;return{lineStart:function(){a.push(b=[])},point:function(a,c){b.push([a,c])},lineEnd:r,buffer:function(){var c=a;a=[];b=null;return c},rejoin:function(){1<a.length&&a.push(a.pop().concat(a.shift()))}}}
function xd(a,b){return(0>(a=a.x)[0]?a[1]-Ba-D:Ba-a[1])-(0>(b=b.x)[0]?b[1]-Ba-D:Ba-b[1])}function Qc(a){function b(a,c){return Math.cos(a)*Math.cos(c)>e}function c(a,b,d){var f=xa(a),g=xa(b),C=[1,0,0],g=gb(f,g),h=rc(g,g),f=g[0],k=h-f*f;if(!k)return!d&&a;h=e*h/k;k=-e*f/k;f=gb(C,g);C=sc(C,h);g=sc(g,k);Pc(C,g);g=rc(C,f);h=rc(f,f);k=g*g-h*(rc(C,C)-1);if(!(0>k)){var L=Math.sqrt(k),k=sc(f,(-g-L)/h);Pc(k,C);k=Sb(k);if(!d)return k;d=a[0];var V=b[0];a=a[1];b=b[1];var l;V<d&&(l=d,d=V,V=l);var O=V-d,S=K(O-G)<
D,Da=S||O<D;!S&&b<a&&(l=a,a=b,b=l);if(Da?S?0<a+b^k[1]<(K(k[0]-d)<D?a:b):a<=k[1]&&k[1]<=b:O>G^(d<=k[0]&&k[0]<=V))return b=sc(f,(-g+L)/h),Pc(b,C),[k,Sb(b)]}}function d(b,c){var e=f?a:G-a,g=0;b<-e?g|=1:b>e&&(g|=2);c<-e?g|=4:c>e&&(g|=8);return g}var e=Math.cos(a),f=0<e,g=K(e)>D,h=oe(a,6*I);return Ub(b,function(a){var e,C,h,k,l;return{lineStart:function(){k=h=!1;l=1},point:function(U,Da){var p=[U,Da],m,q=b(U,Da),r=f?q?0:d(U,Da):q?d(U+(0>U?G:-G),Da):0;!e&&(k=h=q)&&a.lineStart();q!==h&&(m=c(e,p),Tb(e,m)||
Tb(p,m))&&(p[0]+=D,p[1]+=D,q=b(p[0],p[1]));if(q!==h)l=0,q?(a.lineStart(),m=c(p,e),a.point(m[0],m[1])):(m=c(e,p),a.point(m[0],m[1]),a.lineEnd()),e=m;else if(g&&e&&f^q){var t;r&C||!(t=c(p,e,!0))||(l=0,f?(a.lineStart(),a.point(t[0][0],t[0][1]),a.point(t[1][0],t[1][1]),a.lineEnd()):(a.point(t[1][0],t[1][1]),a.lineEnd(),a.lineStart(),a.point(t[0][0],t[0][1])))}!q||e&&Tb(e,p)||a.point(p[0],p[1]);e=p;h=q;C=r},lineEnd:function(){h&&a.lineEnd();e=null},clean:function(){return l|(k&&h)<<1}}},h,f?[0,-a]:[-G,
a-G])}function Rc(a,b,c,d){return function(e){var f=e.a,g=e.b,h=f.x,f=f.y,k=0,l=1,p=g.x-h,g=g.y-f,m;m=a-h;if(p||!(0<m)){m/=p;if(0>p){if(m<k)return;m<l&&(l=m)}else if(0<p){if(m>l)return;m>k&&(k=m)}m=c-h;if(p||!(0>m)){m/=p;if(0>p){if(m>l)return;m>k&&(k=m)}else if(0<p){if(m<k)return;m<l&&(l=m)}m=b-f;if(g||!(0<m)){m/=g;if(0>g){if(m<k)return;m<l&&(l=m)}else if(0<g){if(m>l)return;m>k&&(k=m)}m=d-f;if(g||!(0>m)){m/=g;if(0>g){if(m>l)return;m>k&&(k=m)}else if(0<g){if(m<k)return;m<l&&(l=m)}0<k&&(e.a={x:h+k*
p,y:f+k*g});1>l&&(e.b={x:h+l*p,y:f+l*g});return e}}}}}}function Sc(a,b,c,d){function e(d,f){return K(d[0]-a)<D?0<f?0:3:K(d[0]-c)<D?0<f?2:1:K(d[1]-b)<D?0<f?1:0:0<f?3:2}function f(a,b){return g(a.x,b.x)}function g(a,b){var c=e(a,1),d=e(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(h){function k(f,h,l,S){var p=0,Da=0;if(null==f||(p=e(f,l))!==(Da=e(h,l))||0>g(f,h)^0<l){do S.point(0===p||3===p?a:c,1<p?d:b);while((p=(p+l+4)%4)!==Da)}else S.point(h[0],h[1])}
function l(e,f){a<=e&&e<=c&&b<=f&&f<=d&&h.point(e,f)}function p(e,f){e=Math.max(-Hd,Math.min(Hd,e));f=Math.max(-Hd,Math.min(Hd,f));var g=a<=e&&e<=c&&b<=f&&f<=d;v&&u.push([e,f]);if(Ce)w=e,ca=f,x=g,Ce=!1,g&&(h.lineStart(),h.point(e,f));else if(g&&Ma)h.point(e,f);else{var k={a:{x:y,y:nb},b:{x:e,y:f}};r(k)?(Ma||(h.lineStart(),h.point(k.a.x,k.a.y)),h.point(k.b.x,k.b.y),g||h.lineEnd(),z=!1):g&&(h.lineStart(),h.point(e,f),z=!1)}y=e;nb=f;Ma=g}var m=h,q=Ab(),r=Rc(a,b,c,d),s,v,u,La={point:l,lineStart:function(){La.point=
p;v&&v.push(u=[]);Ce=!0;Ma=!1;y=nb=NaN},lineEnd:function(){s&&(p(w,ca),x&&Ma&&q.rejoin(),s.push(q.buffer()));La.point=l;Ma&&h.lineEnd()},polygonStart:function(){h=q;s=[];v=[];z=!0},polygonEnd:function(){h=m;s=t.merge(s);var b;b=[a,d];for(var c=0,e=v.length,g=b[1],L=0;L<e;++L)for(var V=1,l=v[L],U=l.length,p=l[0],za;V<U;++V)za=l[V],p[1]<=g?za[1]>g&&0<Bc(p,za,b)&&++c:za[1]<=g&&0>Bc(p,za,b)&&--c,p=za;b=0!==c;c=z&&b;e=s.length;if(c||e)h.polygonStart(),c&&(h.lineStart(),k(null,null,1,h),h.lineEnd()),e&&
vd(s,f,b,k,h),h.polygonEnd();s=v=u=null}},w,ca,x,y,nb,Ma,Ce,z;return La}}function yd(a,b){function c(d,e){return d=a(d,e),b(d[0],d[1])}a.invert&&b.invert&&(c.invert=function(c,d){return c=b.invert(c,d),c&&a.invert(c[0],c[1])});return c}function Tc(a){var b=0,c=G/3,d=le(a);a=d(b,c);a.parallels=function(a){return arguments.length?d(b=a[0]*G/180,c=a[1]*G/180):[b/G*180,c/G*180]};return a}function aa(a,b){function c(a,b){var d=Math.sqrt(f-2*e*Math.sin(b))/e;return[d*Math.sin(a*=e),g-d*Math.cos(a)]}var d=
Math.sin(a),e=(d+Math.sin(b))/2,f=1+d*(2*e-d),g=Math.sqrt(f)/e;c.invert=function(a,b){var c=g-b;return[Math.atan2(a,c)/e,T((f-(a*a+c*c)*e*e)/(2*e))]};return c}function Ja(){function a(b,c){Id+=e*b-d*c;d=b;e=c}var b,c,d,e;Fb.point=function(f,g){Fb.point=a;b=d=f;c=e=g};Fb.lineEnd=function(){a(b,c)}}function ha(){function a(b,c){g.push("M",b,",",c,f)}function b(a,d){g.push("M",a,",",d);h.point=c}function c(a,b){g.push("L",a,",",b)}function d(){h.point=a}function e(){g.push("Z")}var f=Ib(4.5),g=[],h=
{point:a,lineStart:function(){h.point=b},lineEnd:d,polygonStart:function(){h.lineEnd=e},polygonEnd:function(){h.lineEnd=d;h.point=a},pointRadius:function(a){f=Ib(a);return h},result:function(){if(g.length){var a=g.join("");g=[];return a}}};return h}function Ib(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Jb(a,b){ub+=a;vb+=b;++ob}function ff(){function a(d,e){var f=d-b,g=e-c,f=Math.sqrt(f*f+g*g);Wa+=f*(b+d)/2;Xa+=f*(c+e)/2;Pa+=f;Jb(b=d,c=e)}var b,c;jb.point=
function(d,e){jb.point=a;Jb(b=d,c=e)}}function gf(){jb.point=Jb}function ah(){function a(b,c){var f=b-d,g=c-e,f=Math.sqrt(f*f+g*g);Wa+=f*(d+b)/2;Xa+=f*(e+c)/2;Pa+=f;f=e*b-d*c;Db+=f*(d+b);Eb+=f*(e+c);pb+=3*f;Jb(d=b,e=c)}var b,c,d,e;jb.point=function(f,g){jb.point=a;Jb(b=d=f,c=e=g)};jb.lineEnd=function(){a(b,c)}}function bh(a){function b(c,d){a.moveTo(c,d);a.arc(c,d,g,0,Ta)}function c(b,e){a.moveTo(b,e);h.point=d}function d(b,c){a.lineTo(b,c)}function e(){h.point=b}function f(){a.closePath()}var g=
4.5,h={point:b,lineStart:function(){h.point=c},lineEnd:e,polygonStart:function(){h.lineEnd=f},polygonEnd:function(){h.lineEnd=e;h.point=b},pointRadius:function(a){g=a;return h},result:r};return h}function hf(a){function b(a){return(h?d:c)(a)}function c(b){return kf(b,function(c,d){c=a(c,d);b.point(c[0],c[1])})}function d(b){function c(d,e){d=a(d,e);b.point(d[0],d[1])}function f(){t=NaN;x.point=g;b.lineStart()}function g(c,d){var f=xa([c,d]),k=a(c,d);e(t,s,r,v,u,w,t=k[0],s=k[1],r=c,v=f[0],u=f[1],w=
f[2],h,b);b.point(t,s)}function k(){x.point=c;b.lineEnd()}function L(){f();x.point=l;x.lineEnd=V}function l(a,b){g(O=a,b);S=t;p=s;m=v;za=u;q=w;x.point=g}function V(){e(t,s,r,v,u,w,S,p,O,m,za,q,h,b);x.lineEnd=k;k()}var O,S,p,m,za,q,r,t,s,v,u,w,x={point:c,lineStart:f,lineEnd:k,polygonStart:function(){b.polygonStart();x.lineStart=L},polygonEnd:function(){b.polygonEnd();x.lineStart=f}};return x}function e(b,c,d,h,k,L,l,V,O,p,m,Da,q,r){var t=l-b,s=V-c,v=t*t+s*s;if(v>4*f&&q--){var u=h+p,w=k+m,x=L+Da,y=
Math.sqrt(u*u+w*w+x*x),z=Math.asin(x/=y),B=K(K(x)-1)<D||K(d-O)<D?(d+O)/2:Math.atan2(w,u),A=a(B,z),z=A[0],A=A[1],E=z-b,H=A-c,F=s*E-t*H;if(F*F/v>f||.3<K((t*E+s*H)/v-.5)||h*p+k*m+L*Da<g)e(b,c,d,h,k,L,z,A,B,u/=y,w/=y,x,q,r),r.point(z,A),e(z,A,B,u,w,x,l,V,O,p,m,Da,q,r)}}var f=.5,g=Math.cos(30*I),h=16;b.precision=function(a){if(!arguments.length)return Math.sqrt(f);h=0<(f=a*a)&&16;return b};return b}function ch(a){var b=hf(function(b,c){return a([b*ga,c*ga])});return function(a){return Bf(b(a))}}function jf(a){this.stream=
a}function kf(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function lb(a){return le(function(){return a})()}function le(a){function b(a){a=h(a[0]*I,a[1]*I);return[a[0]*l+w,x-a[1]*l]}function c(a){return(a=h.invert((a[0]-w)/l,(x-a[1])/l))&&[a[0]*ga,a[1]*ga]}function d(){h=yd(g=ne(s,v,u),f);var a=f(q,r);w=p-a[0]*l;x=m+a[1]*l;return e()}function e(){Ma&&
(Ma.valid=!1,Ma=null);return b}var f,g,h,k=hf(function(a,b){a=f(a,b);return[a[0]*l+w,x-a[1]*l]}),l=150,p=480,m=250,q=0,r=0,s=0,v=0,u=0,w,x,ca=Xf,Xc=ka,y=null,nb=null,Ma;b.stream=function(a){Ma&&(Ma.valid=!1);Ma=Bf(ca(g,k(Xc(a))));Ma.valid=!0;return Ma};b.clipAngle=function(a){if(!arguments.length)return y;ca=null==a?(y=a,Xf):Qc((y=+a)*I);return e()};b.clipExtent=function(a){if(!arguments.length)return nb;Xc=(nb=a)?Sc(a[0][0],a[0][1],a[1][0],a[1][1]):ka;return e()};b.scale=function(a){if(!arguments.length)return l;
l=+a;return d()};b.translate=function(a){if(!arguments.length)return[p,m];p=+a[0];m=+a[1];return d()};b.center=function(a){if(!arguments.length)return[q*ga,r*ga];q=a[0]%360*I;r=a[1]%360*I;return d()};b.rotate=function(a){if(!arguments.length)return[s*ga,v*ga,u*ga];s=a[0]%360*I;v=a[1]%360*I;u=2<a.length?a[2]%360*I:0;return d()};t.rebind(b,k,"precision");return function(){f=a.apply(this,arguments);b.invert=f.invert&&c;return d()}}function Bf(a){return kf(a,function(b,c){a.point(b*I,c*I)})}function Ec(a,
b){return[a,b]}function Ff(a,b){return[a>G?a-Ta:a<-G?a+Ta:a,b]}function ne(a,b,c){return a?b||c?yd(sf(a),vf(b,c)):sf(a):b||c?vf(b,c):Ff}function Gf(a){return function(b,c){return b+=a,[b>G?b-Ta:b<-G?b+Ta:b,c]}}function sf(a){var b=Gf(a);b.invert=Gf(-a);return b}function vf(a,b){function c(a,b){var h=Math.cos(b),C=Math.cos(a)*h,h=Math.sin(a)*h,k=Math.sin(b),L=k*d+C*e;return[Math.atan2(h*f-L*g,C*d-k*e),T(L*f+h*g)]}var d=Math.cos(a),e=Math.sin(a),f=Math.cos(b),g=Math.sin(b);c.invert=function(a,b){var c=
Math.cos(b),h=Math.cos(a)*c,c=Math.sin(a)*c,C=Math.sin(b),k=C*f-c*g;return[Math.atan2(c*f+C*g,h*d+k*e),T(k*d-h*e)]};return c}function oe(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,g,h){var k=g*b;if(null!=e){if(e=Hf(c,e),f=Hf(c,f),0<g?e<f:e>f)e+=g*Ta}else e=a+g*Ta,f=a-.5*k;for(var l;0<g?e>f:e<f;e-=k)h.point((l=Sb([c,-d*Math.cos(e),-d*Math.sin(e)]))[0],l[1])}}function Hf(a,b){var c=xa(b);c[0]-=a;tc(c);var d=hc(-c[1]);return((0>-c[2]?-d:d)+2*Math.PI-D)%(2*Math.PI)}function tf(a,b,c){var d=
t.range(a,b-D,c).concat(b);return function(a){return d.map(function(b){return[a,b]})}}function If(a,b,c){var d=t.range(a,b-D,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function ke(a){return a.source}function me(a){return a.target}function sh(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),g=Math.cos(d),h=Math.sin(d),k=e*Math.cos(a),l=e*Math.sin(a),p=g*Math.cos(c),q=g*Math.sin(c),r=2*Math.asin(Math.sqrt(m(d-b)+e*g*m(c-a))),t=1/Math.sin(r);c=r?function(a){var b=Math.sin(a*=r)*
t,c=Math.sin(r-a)*t;a=c*k+b*p;var d=c*l+b*q,b=c*f+b*h;return[Math.atan2(d,a)*ga,Math.atan2(b,Math.sqrt(a*a+d*d))*ga]}:function(){return[a*ga,b*ga]};c.distance=r;return c}function Fc(a,b){function c(b,d){var e=Math.cos(b),f=Math.cos(d),e=a(e*f);return[e*f*Math.sin(b),e*Math.sin(d)]}c.invert=function(a,c){var d=Math.sqrt(a*a+c*c),e=b(d),f=Math.sin(e),e=Math.cos(e);return[Math.atan2(a*f,d*e),Math.asin(d&&c*f/d)]};return c}function of(a,b){function c(a,b){0<f?b<-Ba+D&&(b=-Ba+D):b>Ba-D&&(b=Ba-D);var d=
f/Math.pow(Math.tan(G/4+b/2),e);return[d*Math.sin(e*a),f-d*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):Math.log(d/Math.cos(b))/Math.log(Math.tan(G/4+b/2)/Math.tan(G/4+a/2)),f=d*Math.pow(Math.tan(G/4+a/2),e)/e;if(!e)return hd;c.invert=function(a,b){var c=f-b,d=(0<e?1:0>e?-1:0)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/e,2*Math.atan(Math.pow(f/d,1/e))-Ba]};return c}function nf(a,b){function c(a,b){var d=f-b;return[d*Math.sin(e*a),f-d*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):(d-
Math.cos(b))/(b-a),f=d/e+a;if(K(e)<D)return Ec;c.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/e,f-(0<e?1:0>e?-1:0)*Math.sqrt(a*a+c*c)]};return c}function hd(a,b){return[a,Math.log(Math.tan(G/4+b/2))]}function pf(a){var b=lb(a),c=b.scale,d=b.translate,e=b.clipExtent,f;b.scale=function(){var a=c.apply(b,arguments);return a===b?f?b.clipExtent(null):b:a};b.translate=function(){var a=d.apply(b,arguments);return a===b?f?b.clipExtent(null):b:a};b.clipExtent=function(a){var g=e.apply(b,arguments);
if(g===b){if(f=null==a){var h=G*c(),C=d();e([[C[0]-h,C[1]-h],[C[0]+h,C[1]+h]])}}else f&&(g=null);return g};return b.clipExtent(null)}function je(a,b){return[Math.log(Math.tan(G/4+b/2)),-a]}function jc(a){return a[0]}function Gc(a){return a[1]}function qf(a){for(var b=a.length,c=[0,1],d=2,e=2;e<b;e++){for(;1<d&&0>=Bc(a[c[d-2]],a[c[d-1]],a[e]);)--d;c[d++]=e}return c.slice(0,d)}function pa(a,b){return a[0]-b[0]||a[1]-b[1]}function he(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function Na(a,
b,c,d){var e=a[0],f=c[0],g=b[0]-e,h=d[0]-f;a=a[1];c=c[1];b=b[1]-a;d=d[1]-c;f=(h*(a-c)-d*(e-f))/(d*g-h*b);return[e+f*g,a+f*b]}function yf(a){var b=a[0];a=a[a.length-1];return!(b[0]-a[0]||b[1]-a[1])}function th(){gd(this);this.edge=this.site=this.circle=null}function Jf(a){var b=Yf.pop()||new th;b.site=a;return b}function pe(a){ic(a);wc.remove(a);Yf.push(a);gd(a)}function Kf(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var g=a.P;if(!g)return-Infinity;var c=g.site,g=c.x,c=c.y,h=c-b;if(!h)return g;
var k=g-d,l=1/f-1/h,p=k/h;return l?(-p+Math.sqrt(p*p-2*l*(k*k/(-2*h)-c+h/2+e-f/2)))/l+d:(d+g)/2}function xf(a){this.site=a;this.edges=[]}function wf(a,b){return b.angle-a.angle}function uh(){gd(this);this.x=this.y=this.arc=this.site=this.cy=null}function kc(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,b=a.site,e=c.site;if(d!==e){var c=b.x,f=b.y,g=d.x-c,h=d.y-f,d=e.x-c,e=e.y-f,k=2*(g*e-h*d);if(!(k>=-Ee)){var l=g*g+h*h,p=d*d+e*e,h=(e*l-h*p)/k,g=(g*p-d*l)/k,e=g+f,f=Zf.pop()||new uh;f.arc=a;f.site=b;f.x=
h+c;f.y=e+Math.sqrt(h*h+g*g);f.cy=e;a.circle=f;a=null;for(b=Zc._;b;)if(f.y<b.y||f.y===b.y&&f.x<=b.x)if(b.L)b=b.L;else{a=b.P;break}else if(b.R)b=b.R;else{a=b;break}Zc.insert(a,f);a||(Fe=f)}}}}function ic(a){var b=a.circle;b&&(b.P||(Fe=b.N),Zc.remove(b),Zf.push(b),gd(b),a.circle=null)}function vh(a,b){var c=a.b;if(c)return!0;var d=a.a,c=b[0][0],e=b[1][0],f=b[0][1],g=b[1][1],h=a.l,k=a.r,l=h.x,h=h.y,p=k.x,k=k.y,m=(l+p)/2,q;if(k===h){if(m<c||m>=e)return;if(l>p){if(!d)d={x:m,y:f};else if(d.y>=g)return;
c={x:m,y:g}}else{if(!d)d={x:m,y:g};else if(d.y<f)return;c={x:m,y:f}}}else if(q=(l-p)/(k-h),m=(h+k)/2-q*m,-1>q||1<q)if(l>p){if(!d)d={x:(f-m)/q,y:f};else if(d.y>=g)return;c={x:(g-m)/q,y:g}}else{if(!d)d={x:(g-m)/q,y:g};else if(d.y<f)return;c={x:(f-m)/q,y:f}}else if(h<k){if(!d)d={x:c,y:q*c+m};else if(d.x>=e)return;c={x:e,y:q*e+m}}else{if(!d)d={x:e,y:q*e+m};else if(d.x<c)return;c={x:c,y:q*c+m}}a.a=d;a.b=c;return!0}function rf(a,b){this.l=a;this.r=b;this.a=this.b=null}function Hc(a,b,c,d){var e=new rf(a,
b);xc.push(e);c&&id(e,a,b,c);d&&id(e,b,a,d);Zb[a.i].edges.push(new jd(e,a,b));Zb[b.i].edges.push(new jd(e,b,a));return e}function qh(a,b,c){a=new rf(a,null);a.a=b;a.b=c;xc.push(a);return a}function id(a,b,c,d){a.a||a.b?a.l===c?a.b=d:a.a=d:(a.a=d,a.l=b,a.r=c)}function jd(a,b,c){var d=a.a,e=a.b;this.edge=a;this.site=b;this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function qe(){this._=null}function gd(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function Ic(a,
b){var c=b.R,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.R=c.L;b.R&&(b.R.U=b);c.L=b}function Jc(a,b){var c=b.L,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.L=c.R;b.L&&(b.L.U=b);c.R=b}function Lf(a){for(;a.L;)a=a.L;return a}function re(a,b){var c=a.sort(wh).pop(),d,e,f;xc=[];Zb=Array(a.length);wc=new qe;for(Zc=new qe;;)if(f=Fe,c&&(!f||c.y<f.y||c.y===f.y&&c.x<f.x)){if(c.x!==d||c.y!==e){Zb[c.i]=new xf(c);d=c;for(var g=d.x,h=d.y,k=f=e=void 0,l=void 0,p=wc._;p;)if(k=Kf(p,h)-g,k>D)p=p.L;else{var l=
g,m;var q=p;m=h;var r=q.N;r?m=Kf(r,m):(q=q.site,m=q.y===m?q.x:Infinity);l-=m;if(l>D){if(!p.R){e=p;break}p=p.R}else{k>-D?(e=p.P,f=p):l>-D?(e=p,f=p.N):e=f=p;break}}g=Jf(d);wc.insert(e,g);if(e||f)if(e===f)ic(e),f=Jf(e.site),wc.insert(g,f),g.edge=f.edge=Hc(e.site,g.site),kc(e),kc(f);else if(f){ic(e);ic(f);h=e.site;p=h.x;l=h.y;m=d.x-p;var q=d.y-l,k=f.site,r=k.x-p,t=k.y-l,s=2*(m*t-q*r),v=m*m+q*q,u=r*r+t*t,p={x:(t*v-q*u)/s+p,y:(m*u-r*v)/s+l};id(f.edge,h,k,p);g.edge=Hc(h,d,null,p);f.edge=Hc(d,k,null,p);kc(e);
kc(f)}else g.edge=Hc(e.site,g.site);d=c.x;e=c.y}c=a.pop()}else if(f){k=f.arc;f=k.circle;h=f.x;p=f.cy;f={x:h,y:p};m=k.P;l=k.N;g=[k];pe(k);for(k=m;k.circle&&K(h-k.circle.x)<D&&K(p-k.circle.cy)<D;)m=k.P,g.unshift(k),pe(k),k=m;g.unshift(k);ic(k);for(m=l;m.circle&&K(h-m.circle.x)<D&&K(p-m.circle.cy)<D;)l=m.N,g.push(m),pe(m),m=l;g.push(m);ic(m);h=g.length;p=void 0;for(p=1;p<h;++p)m=g[p],k=g[p-1],id(m.edge,k.site,m.site,f);k=g[0];m=g[h-1];m.edge=Hc(k.site,m.site,null,f);kc(k);kc(m)}else break;if(b){c=xc;
d=Rc(b[0][0],b[0][1],b[1][0],b[1][1]);for(e=c.length;e--;)if(f=c[e],!vh(f,b)||!d(f)||K(f.a.x-f.b.x)<D&&K(f.a.y-f.b.y)<D)f.a=f.b=null,c.splice(e,1);c=b[0][0];d=b[1][0];e=b[0][1];f=b[1][1];p=Zb;for(l=p.length;l--;)if((m=p[l])&&m.prepare())for(r=m.edges,t=r.length,q=0;q<t;)if(s=r[q].end(),h=s.x,k=s.y,v=r[++q%t].start(),g=v.x,v=v.y,K(h-g)>D||K(k-v)>D)r.splice(q,0,new jd(qh(m.site,s,K(h-c)<D&&f-k>D?{x:c,y:K(g-c)<D?v:f}:K(k-f)<D&&d-h>D?{x:K(v-f)<D?g:d,y:f}:K(h-d)<D&&k-e>D?{x:d,y:K(g-d)<D?v:e}:K(k-e)<D&&
h-c>D?{x:K(v-e)<D?g:c,y:e}:null),m.site,null)),++t}c={cells:Zb,edges:xc};wc=Zc=xc=Zb=null;return c}function wh(a,b){return b.y-a.y||b.x-a.x}function xh(a){return a.x}function yh(a){return a.y}function Mf(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function bb(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=.5*(c+e),h=.5*(d+f);b=b.nodes;b[0]&&bb(a,b[0],c,d,g,h);b[1]&&bb(a,b[1],g,d,e,h);b[2]&&bb(a,b[2],c,h,g,f);b[3]&&bb(a,b[3],g,h,e,f)}}function ie(a,b){a=t.rgb(a);b=t.rgb(b);var c=a.r,d=a.g,e=a.b,f=b.r-
c,g=b.g-d,h=b.b-e;return function(a){return"#"+ia(Math.round(c+f*a))+ia(Math.round(d+g*a))+ia(Math.round(e+h*a))}}function uf(a,b){var c={},d={},e;for(e in a)e in b?c[e]=Ha(a[e],b[e]):d[e]=a[e];for(e in b)e in a||(d[e]=b[e]);return function(a){for(e in c)d[e]=c[e](a);return d}}function ab(a,b){b-=a=+a;return function(c){return a+b*c}}function cb(a,b){var c=Ge.lastIndex=He.lastIndex=0,d,e,f,g=-1,h=[],k=[];a+="";for(b+="";(d=Ge.exec(a))&&(e=He.exec(b));)(f=e.index)>c&&(f=b.substring(c,f),h[g]?h[g]+=
f:h[++g]=f),(d=d[0])===(e=e[0])?h[g]?h[g]+=e:h[++g]=e:(h[++g]=null,k.push({i:g,x:ab(d,e)})),c=He.lastIndex;c<b.length&&(f=b.substring(c),h[g]?h[g]+=f:h[++g]=f);return 2>h.length?k[0]?(b=k[0].x,function(a){return b(a)+""}):function(){return b}:(b=k.length,function(a){for(var c=0,d;c<b;++c)h[(d=k[c]).i]=d.x(a);return h.join("")})}function Ha(a,b){for(var c=t.interpolators.length,d;0<=--c&&!(d=t.interpolators[c](a,b)););return d}function kd(a,b){var c=[],d=[],e=a.length,f=b.length,g=Math.min(a.length,
b.length),h;for(h=0;h<g;++h)c.push(Ha(a[h],b[h]));for(;h<e;++h)d[h]=a[h];for(;h<f;++h)d[h]=b[h];return function(a){for(h=0;h<g;++h)d[h]=c[h](a);return d}}function dh(a){return function(b){return 0>=b?0:1<=b?1:a(b)}}function lf(a){return function(b){return 1-a(1-b)}}function mf(a){return function(b){return.5*(.5>b?a(2*b):2-a(2-2*b))}}function eh(a){return a*a}function fh(a){return a*a*a}function gh(a){if(0>=a)return 0;if(1<=a)return 1;var b=a*a,c=b*a;return 4*(.5>a?c:3*(a-b)+c-.75)}function hh(a){return 1-
Math.cos(a*Ba)}function ih(a){return Math.pow(2,10*(a-1))}function jh(a){return 1-Math.sqrt(1-a*a)}function kh(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function zf(a,b){b-=a;return function(c){return Math.round(a+b*c)}}function Af(a){var b=[a.a,a.b],c=[a.c,a.d],d=Cf(b),e=b[0]*c[0]+b[1]*c[1],f=-e;c[0]+=f*b[0];c[1]+=f*b[1];f=Cf(c)||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1);this.rotate=(d?
Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*ga;this.translate=[a.e,a.f];this.scale=[d,f];this.skew=f?Math.atan2(e,f)*ga:0}function Cf(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);b&&(a[0]/=b,a[1]/=b);return b}function Df(a,b){var c=[],d=[],e,f=t.transform(a),g=t.transform(b),h=f.translate,k=g.translate,l=f.rotate,p=g.rotate,m=f.skew,q=g.skew,f=f.scale,g=g.scale;h[0]!=k[0]||h[1]!=k[1]?(c.push("translate(",null,",",null,")"),d.push({i:1,x:ab(h[0],k[0])},{i:3,x:ab(h[1],k[1])})):k[0]||k[1]?c.push("translate("+
k+")"):c.push("");l!=p?(180<l-p?p+=360:180<p-l&&(l+=360),d.push({i:c.push(c.pop()+"rotate(",null,")")-2,x:ab(l,p)})):p&&c.push(c.pop()+"rotate("+p+")");m!=q?d.push({i:c.push(c.pop()+"skewX(",null,")")-2,x:ab(m,q)}):q&&c.push(c.pop()+"skewX("+q+")");f[0]!=g[0]||f[1]!=g[1]?(e=c.push(c.pop()+"scale(",null,",",null,")"),d.push({i:e-4,x:ab(f[0],g[0])},{i:e-2,x:ab(f[1],g[1])})):1==g[0]&&1==g[1]||c.push(c.pop()+"scale("+g+")");e=d.length;return function(a){for(var b=-1,f;++b<e;)c[(f=d[b]).i]=f.x(a);return c.join("")}}
function lh(a,b){b=b-(a=+a)?1/(b-a):0;return function(c){return(c-a)*b}}function mh(a,b){b=b-(a=+a)?1/(b-a):0;return function(c){return Math.max(0,Math.min(1,(c-a)*b))}}function nh(a){var b=a.source;a=a.target;var c;var d=a;if(b===d)c=b;else{c=Ef(b);for(var d=Ef(d),e=c.pop(),f=d.pop(),g=null;e===f;)g=e,e=c.pop(),f=d.pop();c=g}for(d=[b];b!==c;)b=b.parent,d.push(b);for(b=d.length;a!==c;)d.splice(b,0,a),a=a.parent;return d}function Ef(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;b.push(a);
return b}function oh(a){a.fixed|=2}function ph(a){a.fixed&=-7}function rh(a){a.fixed|=4;a.px=a.x;a.py=a.y}function Bh(a){a.fixed&=-5}function $f(a,b,c){var d=0,e=0;a.charge=0;if(!a.leaf)for(var f=a.nodes,g=f.length,h=-1,k;++h<g;)k=f[h],null!=k&&($f(k,b,c),a.charge+=k.charge,d+=k.charge*k.cx,e+=k.charge*k.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5),b*=c[a.point.index],a.charge+=a.pointCharge=b,d+=b*a.point.x,e+=b*a.point.y);a.cx=d/a.charge;a.cy=e/a.charge}function $c(a,
b){t.rebind(a,b,"sort","children","value");a.nodes=a;a.links=Ch;return a}function ad(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;0<=--d;)c.push(e[d])}function qb(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(g=a.children)&&(f=g.length))for(var e=-1,f,g;++e<f;)c.push(g[e]);for(;null!=(a=d.pop());)b(a)}function Dh(a){return a.children}function Eh(a){return a.value}function Fh(a,b){return b.value-a.value}function Ch(a){return t.merge(a.map(function(a){return(a.children||
[]).map(function(b){return{source:a,target:b}})}))}function Gh(a){return a.x}function Hh(a){return a.y}function Ih(a,b,c){a.y0=b;a.y=c}function Ie(a){return t.range(a.length)}function Je(a){var b=-1;a=a[0].length;for(var c=[];++b<a;)c[b]=0;return c}function Jh(a){for(var b=1,c=0,d=a[0][1],e,f=a.length;b<f;++b)(e=a[b][1])>d&&(c=b,d=e);return c}function Kh(a){return a.reduce(Lh,0)}function Lh(a,b){return a+b[1]}function Mh(a,b){return ag(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function ag(a,b){for(var c=
-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function Nh(a){return[t.min(a),t.max(a)]}function Oh(a,b){return a.value-b.value}function Ke(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b}function bg(a,b){a._pack_next=b;b._pack_prev=a}function cg(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return.999*e*e>c*c+d*d}function dg(a){function b(a){d=Math.min(a.x-a.r,d);e=Math.max(a.x+a.r,e);f=Math.min(a.y-a.r,f);g=Math.max(a.y+a.r,g)}if((c=a.children)&&(r=c.length)){var c,
d=Infinity,e=-Infinity,f=Infinity,g=-Infinity,h,k,l,p,m,q,r;c.forEach(Ph);h=c[0];h.x=-h.r;h.y=0;b(h);if(1<r&&(k=c[1],k.x=k.r,k.y=0,b(k),2<r))for(l=c[2],eg(h,k,l),b(l),Ke(h,l),h._pack_prev=l,Ke(l,k),k=h._pack_next,p=3;p<r;p++){eg(h,k,l=c[p]);var t=0,s=1,v=1;for(m=k._pack_next;m!==k;m=m._pack_next,s++)if(cg(m,l)){t=1;break}if(1==t)for(q=h._pack_prev;q!==m._pack_prev&&!cg(q,l);q=q._pack_prev,v++);t?(s<v||s==v&&k.r<h.r?bg(h,k=m):bg(h=q,k),p--):(Ke(h,l),k=l,b(l))}h=(d+e)/2;k=(f+g)/2;for(p=m=0;p<r;p++)l=
c[p],l.x-=h,l.y-=k,m=Math.max(m,l.r+Math.sqrt(l.x*l.x+l.y*l.y));a.r=m;c.forEach(Qh)}}function Ph(a){a._pack_next=a._pack_prev=a}function Qh(a){delete a._pack_next;delete a._pack_prev}function fg(a,b,c,d){var e=a.children;a.x=b+=d*a.x;a.y=c+=d*a.y;a.r*=d;if(e){a=-1;for(var f=e.length;++a<f;)fg(e[a],b,c,d)}}function eg(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f,g=g*g,d=d*d;b=.5+(d-g)/(2*h);g=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+b*e+g*f;c.y=
a.y+b*f-g*e}else c.x=a.x+d,c.y=a.y}function gg(a,b){return a.parent==b.parent?1:2}function Le(a){var b=a.children;return b.length?b[0]:a.t}function Me(a){var b=a.children,c;return(c=b.length)?b[c-1]:a.t}function Rh(a){return 1+t.max(a,function(a){return a.y})}function Sh(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function hg(a){var b=a.children;return b&&b.length?hg(b[0]):a}function ig(a){var b=a.children,c;return b&&(c=b.length)?ig(b[c-1]):a}function Ne(a){return{x:a.x,y:a.y,dx:a.dx,
dy:a.dy}}function jg(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];0>e&&(c+=e/2,e=0);0>f&&(d+=f/2,f=0);return{x:c,y:d,dx:e,dy:f}}function yc(a){var b=a[0];a=a[a.length-1];return b<a?[b,a]:[a,b]}function Jd(a){return a.rangeExtent?a.rangeExtent():yc(a.range())}function Th(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function Kd(a,b){var c=0,d=a.length-1,e=a[c],f=a[d],g;f<e&&(g=c,c=d,d=g,g=e,e=f,f=g);a[c]=b.floor(e);a[d]=b.ceil(f);return a}function kg(a){return a?
{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:Uh}function Vh(a,b,c,d){var e=[],f=[],g=0,h=Math.min(a.length,b.length)-1;a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());for(;++g<=h;)e.push(c(a[g-1],a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=t.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function lg(a,b,c,d){function e(){var k=2<Math.min(a.length,b.length)?Vh:Th,l=d?mh:lh;g=k(a,b,l,c);h=k(b,a,l,Ha);return f}function f(a){return g(a)}var g,h;
f.invert=function(a){return h(a)};f.domain=function(b){if(!arguments.length)return a;a=b.map(Number);return e()};f.range=function(a){if(!arguments.length)return b;b=a;return e()};f.rangeRound=function(a){return f.range(a).interpolate(zf)};f.clamp=function(a){if(!arguments.length)return d;d=a;return e()};f.interpolate=function(a){if(!arguments.length)return c;c=a;return e()};f.ticks=function(b){return t.range.apply(t,Gb(a,b))};f.tickFormat=function(b,c){return Oe(a,b,c)};f.nice=function(b){Kd(a,kg(Gb(a,
b)[2]));return e()};f.copy=function(){return lg(a,b,c,d)};return e()}function Pe(a,b){return t.rebind(a,b,"range","rangeRound","interpolate","clamp")}function Gb(a,b){null==b&&(b=10);var c=yc(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),d=b/d*e;.15>=d?e*=10:.35>=d?e*=5:.75>=d&&(e*=2);c[0]=Math.ceil(c[0]/e)*e;c[1]=Math.floor(c[1]/e)*e+.5*e;c[2]=e;return c}function Oe(a,b,c){a=Gb(a,b);if(c){b=Tf.exec(c);b.shift();if("s"===b[8]){var d=t.formatPrefix(Math.max(K(a[0]),K(a[1])));b[7]||
(b[7]="."+Ld(d.scale(a[2])));b[8]="f";c=t.format(b.join(""));return function(a){return c(d.scale(a))+d.symbol}}b[7]||(b[7]="."+Wh(b[8],a));c=b.join("")}else c=",."+Ld(a[2])+"f";return t.format(c)}function Ld(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function Wh(a,b){var c=Ld(b[2]);return a in Xh?Math.abs(c-Ld(Math.max(K(b[0]),K(b[1]))))+ +("e"!==a):c-2*("%"===a)}function mg(a,b,c,d){function e(a){return(c?Math.log(0>a?0:a):-Math.log(0<a?0:-a))/Math.log(b)}function f(a){return c?Math.pow(b,a):
-Math.pow(b,-a)}function g(b){return a(e(b))}g.invert=function(b){return f(a.invert(b))};g.domain=function(b){if(!arguments.length)return d;c=0<=b[0];a.domain((d=b.map(Number)).map(e));return g};g.base=function(c){if(!arguments.length)return b;b=+c;a.domain(d.map(e));return g};g.nice=function(){var b=Kd(d.map(e),c?Math:Yh);a.domain(b);d=b.map(f);return g};g.ticks=function(){var a=yc(d),g=[],h=a[0],a=a[1],k=Math.floor(e(h)),C=Math.ceil(e(a)),l=b%1?2:b;if(isFinite(C-k)){if(c){for(;k<C;k++)for(var p=
1;p<l;p++)g.push(f(k)*p);g.push(f(k))}else for(g.push(f(k));k++<C;)for(p=l-1;0<p;p--)g.push(f(k)*p);for(k=0;g[k]<h;k++);for(C=g.length;g[C-1]>a;C--);g=g.slice(k,C)}return g};g.tickFormat=function(a,b){if(!arguments.length)return ng;2>arguments.length?b=ng:"function"!==typeof b&&(b=t.format(b));var d=Math.max(.1,a/g.ticks().length),h=c?(k=1E-12,Math.ceil):(k=-1E-12,Math.floor),k;return function(a){return a/f(h(e(a)+k))<=d?b(a):""}};g.copy=function(){return mg(a.copy(),b,c,d)};return Pe(g,a)}function og(a,
b,c){function d(b){return a(e(b))}var e=Md(b),f=Md(1/b);d.invert=function(b){return f(a.invert(b))};d.domain=function(b){if(!arguments.length)return c;a.domain((c=b.map(Number)).map(e));return d};d.ticks=function(a){return t.range.apply(t,Gb(c,a))};d.tickFormat=function(a,b){return Oe(c,a,b)};d.nice=function(a){return d.domain(Kd(c,kg(Gb(c,a)[2])))};d.exponent=function(g){if(!arguments.length)return b;e=Md(b=g);f=Md(1/b);a.domain(c.map(e));return d};d.copy=function(){return og(a.copy(),b,c)};return Pe(d,
a)}function Md(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function pg(a,b){function c(d){return f[((e.get(d)||("range"===b.t?e.set(d,a.push(d)):NaN))-1)%f.length]}function d(b,c){return t.range(a.length).map(function(a){return b+c*a})}var e,f,g;c.domain=function(d){if(!arguments.length)return a;a=[];e=new h;for(var f=-1,g=d.length,k;++f<g;)e.has(k=d[f])||e.set(k,a.push(k));return c[b.t].apply(c,b.a)};c.range=function(a){if(!arguments.length)return f;f=a;g=0;b={t:"range",a:arguments};
return c};c.rangePoints=function(e,h){2>arguments.length&&(h=0);var k=e[0],l=e[1],p=(l-k)/(Math.max(1,a.length-1)+h);f=d(2>a.length?(k+l)/2:k+p*h/2,p);g=0;b={t:"rangePoints",a:arguments};return c};c.rangeBands=function(e,h,k){2>arguments.length&&(h=0);3>arguments.length&&(k=h);var l=e[1]<e[0],p=e[l-0],m=(e[1-l]-p)/(a.length-h+2*k);f=d(p+m*k,m);l&&f.reverse();g=m*(1-h);b={t:"rangeBands",a:arguments};return c};c.rangeRoundBands=function(e,h,k){2>arguments.length&&(h=0);3>arguments.length&&(k=h);var l=
e[1]<e[0],p=e[l-0],m=e[1-l],U=Math.floor((m-p)/(a.length-h+2*k));f=d(p+Math.round((m-p-(a.length-h)*U)/2),U);l&&f.reverse();g=Math.round(U*(1-h));b={t:"rangeRoundBands",a:arguments};return c};c.rangeBand=function(){return g};c.rangeExtent=function(){return yc(b.a[0])};c.copy=function(){return pg(a,b)};return c.domain(a)}function qg(b,c){function d(){var a=0,g=c.length;for(f=[];++a<g;)f[a-1]=t.quantile(b,a/g);return e}function e(a){if(!isNaN(a=+a))return c[t.bisect(f,a)]}var f;e.domain=function(c){if(!arguments.length)return b;
b=c.filter(k).sort(a);return d()};e.range=function(a){if(!arguments.length)return c;c=a;return d()};e.quantiles=function(){return f};e.invertExtent=function(a){a=c.indexOf(a);return 0>a?[NaN,NaN]:[0<a?f[a-1]:b[0],a<f.length?f[a]:b[b.length-1]]};e.copy=function(){return qg(b,c)};return d()}function rg(a,b,c){function d(b){return c[Math.max(0,Math.min(g,Math.floor(f*(b-a))))]}function e(){f=c.length/(b-a);g=c.length-1;return d}var f,g;d.domain=function(c){if(!arguments.length)return[a,b];a=+c[0];b=
+c[c.length-1];return e()};d.range=function(a){if(!arguments.length)return c;c=a;return e()};d.invertExtent=function(b){b=c.indexOf(b);b=0>b?NaN:b/f+a;return[b,b+1/f]};d.copy=function(){return rg(a,b,c)};return e()}function sg(a,b){function c(d){if(d<=d)return b[t.bisect(a,d)]}c.domain=function(b){if(!arguments.length)return a;a=b;return c};c.range=function(a){if(!arguments.length)return b;b=a;return c};c.invertExtent=function(c){c=b.indexOf(c);return[a[c-1],a[c]]};c.copy=function(){return sg(a,b)};
return c}function tg(a){function b(a){return+a}b.invert=b;b.domain=b.range=function(c){if(!arguments.length)return a;a=c.map(b);return b};b.ticks=function(b){return t.range.apply(t,Gb(a,b))};b.tickFormat=function(b,c){return Oe(a,b,c)};b.copy=function(){return tg(a)};return b}function Zh(a){return a.innerRadius}function $h(a){return a.outerRadius}function ug(a){return a.startAngle}function vg(a){return a.endAngle}function wg(a){function b(g){function k(){l.push("M",f(a(p),h))}for(var l=[],p=[],L=
-1,m=g.length,q,r=X(c),za=X(d);++L<m;)e.call(this,q=g[L],L)?p.push([+r.call(this,q,L),+za.call(this,q,L)]):p.length&&(k(),p=[]);p.length&&k();return l.length?l.join(""):null}var c=jc,d=Gc,e=hb,f=Ua,g=f.key,h=.7;b.x=function(a){if(!arguments.length)return c;c=a;return b};b.y=function(a){if(!arguments.length)return d;d=a;return b};b.defined=function(a){if(!arguments.length)return e;e=a;return b};b.interpolate=function(a){if(!arguments.length)return g;g="function"===typeof a?f=a:(f=Qe.get(a)||Ua).key;
return b};b.tension=function(a){if(!arguments.length)return h;h=a;return b};return b}function Ua(a){return a.join("L")}function Re(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function Se(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function Nd(a,b){if(1>b.length||a.length!=b.length&&a.length!=b.length+2)return Ua(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,
k=1;c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],k=2);if(1<b.length)for(h=b[1],f=a[k],k++,d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1],e=2;e<b.length;e++,k++)f=a[k],h=b[e],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];c&&(c=a[k],d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+c[0]+","+c[1]);return d}function Te(a,b){for(var c=[],d=(1-b)/2,e,f=a[0],g=a[1],h=1,k=a.length;++h<k;)e=f,f=g,g=a[h],c.push([d*(g[0]-e[0]),d*(g[1]-e[1])]);
return c}function xg(a){if(3>a.length)return Ua(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],e=[e,",",f,"L",Ya(Hb,g),",",Ya(Hb,h)];for(a.push(a[c-1]);++b<=c;)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),Ue(e,g,h);a.pop();e.push("L",d);return e.join("")}function Ya(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Ue(a,b,c){a.push("C",Ya(yg,b),",",Ya(yg,c),",",Ya(zg,b),",",Ya(zg,c),",",Ya(Hb,b),",",Ya(Hb,c))}function Ve(a,b){return(b[1]-a[1])/(b[0]-
a[0])}function Ag(a){for(var b,c=-1,d=a.length,e,f;++c<d;)b=a[c],e=b[0],f=b[1]+$b,b[0]=e*Math.cos(f),b[1]=e*Math.sin(f);return a}function Bg(a){function b(k){function L(){q.push("M",h(a(t),m),p,l(a(r.reverse()),m),"Z")}for(var q=[],r=[],t=[],Wb=-1,s=k.length,v,u=X(c),w=X(e),x=c===d?function(){return z}:X(d),y=e===f?function(){return A}:X(f),z,A;++Wb<s;)g.call(this,v=k[Wb],Wb)?(r.push([z=+u.call(this,v,Wb),A=+w.call(this,v,Wb)]),t.push([+x.call(this,v,Wb),+y.call(this,v,Wb)])):r.length&&(L(),r=[],
t=[]);r.length&&L();return q.length?q.join(""):null}var c=jc,d=jc,e=0,f=Gc,g=hb,h=Ua,k=h.key,l=h,p="L",m=.7;b.x=function(a){if(!arguments.length)return d;c=d=a;return b};b.x0=function(a){if(!arguments.length)return c;c=a;return b};b.x1=function(a){if(!arguments.length)return d;d=a;return b};b.y=function(a){if(!arguments.length)return f;e=f=a;return b};b.y0=function(a){if(!arguments.length)return e;e=a;return b};b.y1=function(a){if(!arguments.length)return f;f=a;return b};b.defined=function(a){if(!arguments.length)return g;
g=a;return b};b.interpolate=function(a){if(!arguments.length)return k;k="function"===typeof a?h=a:(h=Qe.get(a)||Ua).key;l=h.reverse||h;p=h.closed?"M":"L";return b};b.tension=function(a){if(!arguments.length)return m;m=a;return b};return b}function ai(a){return a.radius}function Cg(a){return[a.x,a.y]}function bi(a){return function(){var b=a.apply(this,arguments),c=b[0],b=b[1]+$b;return[c*Math.cos(b),c*Math.sin(b)]}}function ci(){return 64}function di(){return"circle"}function Dg(a){a=Math.sqrt(a/G);
return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function bd(a,b){Ad(a,sa);a.id=b;return a}function We(a,b,c,d){var e=a.id;return ra(a,"function"===typeof c?function(a,f,g){a.__transition__[e].tween.set(b,d(c.call(a,a.__data__,f,g)))}:(c=d(c),function(a){a.__transition__[e].tween.set(b,c)}))}function ei(a){null==a&&(a="");return function(){this.textContent=a}}function Od(a,b,c,d){var e=a.__transition__||(a.__transition__={active:0,count:0}),f=e[c];if(!f){var g=d.time,f=e[c]=
{tween:new h,time:g,ease:d.ease,delay:d.delay,duration:d.duration};++e.count;t.timer(function(d){function h(d){if(e.active>c)return l();e.active=c;f.event&&f.event.start.call(a,p,b);f.tween.forEach(function(c,d){(d=d.call(a,p,b))&&s.push(d)});t.timer(function(){r.c=k(d||1)?hb:k;return 1},0,g)}function k(d){if(e.active!==c)return l();d/=q;for(var g=m(d),h=s.length;0<h;)s[--h].call(a,g);if(1<=d)return f.event&&f.event.end.call(a,p,b),l()}function l(){--e.count?delete e[c]:delete a.__transition__;return 1}
var p=a.__data__,m=f.ease,O=f.delay,q=f.duration,r=tb,s=[];r.t=O+g;if(O<=d)return h(d-O);r.c=h},0,g)}}function Eg(a,b){a.attr("transform",function(a){return"translate("+b(a)+",0)"})}function Fg(a,b){a.attr("transform",function(a){return"translate(0,"+b(a)+")"})}function Xe(a){return a.toISOString()}function Ye(a,b,c){function d(b){return a(b)}function e(a,c){var d=(a[1]-a[0])/c,f=t.bisect(Pd,d);return f==Pd.length?[b.year,Gb(a.map(function(a){return a/31536E6}),c)[2]]:f?b[d/Pd[f-1]<Pd[f]/d?f-1:f]:
[fi,Gb(a,c)[2]]}d.invert=function(b){return ac(a.invert(b))};d.domain=function(b){if(!arguments.length)return a.domain().map(ac);a.domain(b);return d};d.nice=function(a,b){function c(d){return!isNaN(d)&&!a.range(d,ac(+d+1),b).length}var f=d.domain(),g=yc(f);if(g=null==a?e(g,10):"number"===typeof a&&e(g,a))a=g[0],b=g[1];return d.domain(Kd(f,1<b?{floor:function(b){for(;c(b=a.floor(b));)b=ac(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=ac(+b+1);return b}}:a))};d.ticks=function(a,b){var c=yc(d.domain()),
f=null==a?e(c,10):"number"===typeof a?e(c,a):!a.range&&[{range:a},b];f&&(a=f[0],b=f[1]);return a.range(c[0],ac(+c[1]+1),1>b?1:b)};d.tickFormat=function(){return c};d.copy=function(){return Ye(a.copy(),b,c)};return Pe(d,a)}function ac(a){return new Date(a)}function gi(a){return JSON.parse(a.responseText)}function hi(a){var b=kb.createRange();b.selectNode(kb.body);return b.createContextualFragment(a.responseText)}var t={version:"3.4.8"};Date.now||(Date.now=function(){return+new Date});var Gg=[].slice,
Bb=function(a){return Gg.call(a)},kb=document,Cb=kb.documentElement,Ra=window;try{Bb(Cb.childNodes)[0].nodeType}catch(Hi){Bb=function(a){for(var b=a.length,c=Array(b);b--;)c[b]=a[b];return c}}try{kb.createElement("div").style.setProperty("opacity",0,"")}catch(Ii){var Qd=Ra.Element.prototype,ii=Qd.setAttribute,ji=Qd.setAttributeNS,Hg=Ra.CSSStyleDeclaration.prototype,ki=Hg.setProperty;Qd.setAttribute=function(a,b){ii.call(this,a,b+"")};Qd.setAttributeNS=function(a,b,c){ji.call(this,a,b,c+"")};Hg.setProperty=
function(a,b,c){ki.call(this,a,b+"",c)}}t.ascending=a;t.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN};t.min=function(a,b){var c=-1,d=a.length,e,f;if(1===arguments.length){for(;++c<d&&!(null!=(e=a[c])&&e<=e);)e=void 0;for(;++c<d;)null!=(f=a[c])&&e>f&&(e=f)}else{for(;++c<d&&!(null!=(e=b.call(a,a[c],c))&&e<=e);)e=void 0;for(;++c<d;)null!=(f=b.call(a,a[c],c))&&e>f&&(e=f)}return e};t.max=function(a,b){var c=-1,d=a.length,e,f;if(1===arguments.length){for(;++c<d&&!(null!=(e=a[c])&&e<=e);)e=void 0;
for(;++c<d;)null!=(f=a[c])&&f>e&&(e=f)}else{for(;++c<d&&!(null!=(e=b.call(a,a[c],c))&&e<=e);)e=void 0;for(;++c<d;)null!=(f=b.call(a,a[c],c))&&f>e&&(e=f)}return e};t.extent=function(a,b){var c=-1,d=a.length,e,f,g;if(1===arguments.length){for(;++c<d&&!(null!=(e=g=a[c])&&e<=e);)e=g=void 0;for(;++c<d;)null!=(f=a[c])&&(e>f&&(e=f),g<f&&(g=f))}else{for(;++c<d&&!(null!=(e=g=b.call(a,a[c],c))&&e<=e);)e=void 0;for(;++c<d;)null!=(f=b.call(a,a[c],c))&&(e>f&&(e=f),g<f&&(g=f))}return[e,g]};t.sum=function(a,b){var c=
0,d=a.length,e,f=-1;if(1===arguments.length)for(;++f<d;)isNaN(e=+a[f])||(c+=e);else for(;++f<d;)isNaN(e=+b.call(a,a[f],f))||(c+=e);return c};t.mean=function(a,b){var c=0,d=a.length,e,f=-1,g=d;if(1===arguments.length)for(;++f<d;)k(e=a[f])?c+=e:--g;else for(;++f<d;)k(e=b.call(a,a[f],f))?c+=e:--g;return g?c/g:void 0};t.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1];return(c-=d)?e+c*(a[d]-e):e};t.median=function(b,c){1<arguments.length&&(b=b.map(c));b=b.filter(k);return b.length?
t.quantile(b.sort(a),.5):void 0};var Ig=e(a);t.bisectLeft=Ig.left;t.bisect=t.bisectRight=Ig.right;t.bisector=function(b){return e(1===b.length?function(c,d){return a(b(c),d)}:b)};t.shuffle=function(a){for(var b=a.length,c,d;b;)d=Math.random()*b--|0,c=a[b],a[b]=a[d],a[d]=c;return a};t.permute=function(a,b){for(var c=b.length,d=Array(c);c--;)d[c]=a[b[c]];return d};t.pairs=function(a){for(var b=0,c=a.length-1,d=a[0],e=Array(0>c?0:c);b<c;)e[b]=[d,d=a[++b]];return e};t.zip=function(){if(!(e=arguments.length))return[];
for(var a=-1,b=t.min(arguments,f),c=Array(b);++a<b;)for(var d=-1,e,g=c[a]=Array(e);++d<e;)g[d]=arguments[d][a];return c};t.transpose=function(a){return t.zip.apply(t,a)};t.keys=function(a){var b=[],c;for(c in a)b.push(c);return b};t.values=function(a){var b=[],c;for(c in a)b.push(a[c]);return b};t.entries=function(a){var b=[],c;for(c in a)b.push({key:c,value:a[c]});return b};t.merge=function(a){var b=a.length,c;c=-1;for(var d=0,e,f;++c<b;)d+=a[c].length;for(e=Array(d);0<=--b;)for(f=a[b],c=f.length;0<=
--c;)e[--d]=f[c];return e};var K=Math.abs;t.range=function(a,b,c){3>arguments.length&&(c=1,2>arguments.length&&(b=a,a=0));if(Infinity===(b-a)/c)throw Error("infinite range");var d=[],e;e=K(c);for(var f=1;e*f%1;)f*=10;e=f;var f=-1,g;a*=e;b*=e;c*=e;if(0>c)for(;(g=a+c*++f)>b;)d.push(g/e);else for(;(g=a+c*++f)<b;)d.push(g/e);return d};t.map=function(a){var b=new h;if(a instanceof h)a.forEach(function(a,c){b.set(a,c)});else for(var c in a)b.set(c,a[c]);return b};d(h,{has:b,get:function(a){return this[Vb+
a]},set:function(a,b){return this[Vb+a]=b},remove:function(a){a=Vb+a;return a in this&&delete this[a]},keys:c,values:function(){var a=[];this.forEach(function(b,c){a.push(c)});return a},entries:function(){var a=[];this.forEach(function(b,c){a.push({key:b,value:c})});return a},size:g,empty:l,forEach:function(a){for(var b in this)b.charCodeAt(0)===zd&&a.call(this,b.substring(1),this[b])}});var Vb="\x00",zd=Vb.charCodeAt(0);t.nest=function(){function a(b,e,k){if(k>=d.length)return g?g.call(c,e):f?e.sort(f):
e;for(var l=-1,p=e.length,m=d[k++],L,q,r=new h,U;++l<p;)(U=r.get(L=m(q=e[l])))?U.push(q):r.set(L,[q]);b?(q=b(),e=function(c,d){q.set(c,a(b,d,k))}):(q={},e=function(c,d){q[c]=a(b,d,k)});r.forEach(e);return q}function b(a,c){if(c>=d.length)return a;var f=[],g=e[c++];a.forEach(function(a,d){f.push({key:a,values:b(d,c)})});return g?f.sort(function(a,b){return g(a.key,b.key)}):f}var c={},d=[],e=[],f,g;c.map=function(b,c){return a(c,b,0)};c.entries=function(c){return b(a(t.map,c,0),0)};c.key=function(a){d.push(a);
return c};c.sortKeys=function(a){e[d.length-1]=a;return c};c.sortValues=function(a){f=a;return c};c.rollup=function(a){g=a;return c};return c};t.set=function(a){var b=new p;if(a)for(var c=0,d=a.length;c<d;++c)b.add(a[c]);return b};d(p,{has:b,add:function(a){this[Vb+a]=!0;return a},remove:function(a){a=Vb+a;return a in this&&delete this[a]},values:c,size:g,empty:l,forEach:function(a){for(var b in this)b.charCodeAt(0)===zd&&a.call(this,b.substring(1))}});t.behavior={};t.rebind=function(a,b){for(var c=
1,d=arguments.length,e;++c<d;)a[e=arguments[c]]=v(a,b,b[e]);return a};var Nf="webkit ms moz Moz o O".split(" ");t.dispatch=function(){for(var a=new s,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=u(a);return a};s.prototype.on=function(a,b){var c=a.indexOf("."),d="";0<=c&&(d=a.substring(c+1),a=a.substring(0,c));if(a)return 2>arguments.length?this[a].on(d):this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)if(this.hasOwnProperty(a))this[a].on(d,null);return this}};t.event=null;t.requote=
function(a){return a.replace(li,"\\$&")};var li=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ad={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},ze=function(a,b){return b.querySelector(a)},Ae=function(a,b){return b.querySelectorAll(a)},mi=Cb[q(Cb,"matchesSelector")],Of=function(a,b){return mi.call(a,b)};"function"===typeof Sizzle&&(ze=function(a,b){return Sizzle(a,b)[0]||null},Ae=Sizzle,Of=Sizzle.matchesSelector);t.selection=function(){return Jg};var Z=t.selection.prototype=
[];Z.select=function(a){var b=[],c,d,e,f;a=A(a);for(var g=-1,h=this.length;++g<h;){b.push(c=[]);c.parentNode=(e=this[g]).parentNode;for(var k=-1,l=e.length;++k<l;)(f=e[k])?(c.push(d=a.call(f,f.__data__,k,g)),d&&"__data__"in f&&(d.__data__=f.__data__)):c.push(null)}return B(b)};Z.selectAll=function(a){var b=[],c,d;a=z(a);for(var e=-1,f=this.length;++e<f;)for(var g=this[e],h=-1,k=g.length;++h<k;)if(d=g[h])b.push(c=Bb(a.call(d,d.__data__,h,e))),c.parentNode=d;return B(b)};var Ze={svg:"http://www.w3.org/2000/svg",
xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};t.ns={prefix:Ze,qualify:function(a){var b=a.indexOf(":"),c=a;0<=b&&(c=a.substring(0,b),a=a.substring(b+1));return Ze.hasOwnProperty(c)?{space:Ze[c],local:a}:a}};Z.attr=function(a,b){if(2>arguments.length){if("string"===typeof a){var c=this.node();a=t.ns.qualify(a);return a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(Y(b,
a[b]));return this}return this.each(Y(a,b))};Z.classed=function(a,b){if(2>arguments.length){if("string"===typeof a){var c=this.node(),d=(a=a.trim().split(/^|\s+/)).length,e=-1;if(b=c.classList)for(;++e<d;){if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<d;)if(!W(a[e]).test(b))return!1;return!0}for(b in a)this.each(ea(b,a[b]));return this}return this.each(ea(a,b))};Z.style=function(a,b,c){var d=arguments.length;if(3>d){if("string"!==typeof a){2>d&&(b="");for(c in a)this.each(P(c,
a[c],b));return this}if(2>d)return Ra.getComputedStyle(this.node(),null).getPropertyValue(a);c=""}return this.each(P(a,b,c))};Z.property=function(a,b){if(2>arguments.length){if("string"===typeof a)return this.node()[a];for(b in a)this.each(Q(b,a[b]));return this}return this.each(Q(a,b))};Z.text=function(a){return arguments.length?this.each("function"===typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=
a}):this.node().textContent};Z.html=function(a){return arguments.length?this.each("function"===typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML};Z.append=function(a){a=fa(a);return this.select(function(){return this.appendChild(a.apply(this,arguments))})};Z.insert=function(a,b){a=fa(a);b=A(b);return this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,
arguments)||null)})};Z.remove=function(){return this.each(function(){var a=this.parentNode;a&&a.removeChild(this)})};Z.data=function(a,b){function c(a,d){var e,f=a.length,g=d.length,C=Math.min(f,g),m=Array(g),q=Array(g),V=Array(f),O,r;if(b){var C=new h,S=new h,U=[],t;for(e=-1;++e<f;)t=b.call(O=a[e],O.__data__,e),C.has(t)?V[e]=O:C.set(t,O),U.push(t);for(e=-1;++e<g;)t=b.call(d,r=d[e],e),(O=C.get(t))?(m[e]=O,O.__data__=r):S.has(t)||(q[e]={__data__:r}),S.set(t,r),C.remove(t);for(e=-1;++e<f;)C.has(U[e])&&
(V[e]=a[e])}else{for(e=-1;++e<C;)O=a[e],r=d[e],O?(O.__data__=r,m[e]=O):q[e]={__data__:r};for(;e<g;++e)q[e]={__data__:d[e]};for(;e<f;++e)V[e]=a[e]}q.update=m;q.parentNode=m.parentNode=V.parentNode=a.parentNode;k.push(q);l.push(m);p.push(V)}var d=-1,e=this.length,f,g;if(!arguments.length){for(a=Array(e=(f=this[0]).length);++d<e;)if(g=f[d])a[d]=g.__data__;return a}var k=Ga([]),l=B([]),p=B([]);if("function"===typeof a)for(;++d<e;)c(f=this[d],a.call(f,f.parentNode.__data__,d));else for(;++d<e;)c(f=this[d],
a);l.enter=function(){return k};l.exit=function(){return p};return l};Z.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};Z.filter=function(a){var b=[],c,d,e;"function"!==typeof a&&(a=na(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]);c.parentNode=(d=this[f]).parentNode;for(var h=0,k=d.length;h<k;h++)(e=d[h])&&a.call(e,e.__data__,h,f)&&c.push(e)}return B(b)};Z.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c=this[a],d=c.length-1,e=c[d],
f;0<=--d;)if(f=c[d])e&&e!==f.nextSibling&&e.parentNode.insertBefore(f,e),e=f;return this};Z.sort=function(a){a=ya.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()};Z.each=function(a){return ra(this,function(b,c,d){a.call(b,b.__data__,c,d)})};Z.call=function(a){var b=Bb(arguments);a.apply(b[0]=this,b);return this};Z.empty=function(){return!this.node()};Z.node=function(){for(var a=0,b=this.length;a<b;a++)for(var c=this[a],d=0,e=c.length;d<e;d++){var f=c[d];
if(f)return f}return null};Z.size=function(){var a=0;this.each(function(){++a});return a};var sb=[];t.selection.enter=Ga;t.selection.enter.prototype=sb;sb.append=Z.append;sb.empty=Z.empty;sb.node=Z.node;sb.call=Z.call;sb.size=Z.size;sb.select=function(a){for(var b=[],c,d,e,f,g,h=-1,k=this.length;++h<k;){e=(f=this[h]).update;b.push(c=[]);c.parentNode=f.parentNode;for(var l=-1,p=f.length;++l<p;)(g=f[l])?(c.push(e[l]=d=a.call(f.parentNode,g.__data__,l,h)),d.__data__=g.__data__):c.push(null)}return B(b)};
sb.insert=function(a,b){2>arguments.length&&(b=Ca(this));return Z.insert.call(this,a,b)};Z.transition=function(){for(var a=bc||++Kg,b=[],c,d,e=Rd||{time:Date.now(),ease:gh,delay:0,duration:250},f=-1,g=this.length;++f<g;){b.push(c=[]);for(var h=this[f],k=-1,l=h.length;++k<l;)(d=h[k])&&Od(d,k,a,e),c.push(d)}return bd(b,a)};Z.interrupt=function(){return this.each(H)};t.select=function(a){a=["string"===typeof a?ze(a,kb):a];a.parentNode=Cb;return B([a])};t.selectAll=function(a){a=Bb("string"===typeof a?
Ae(a,kb):a);a.parentNode=Cb;return B([a])};var Jg=t.select(Cb);Z.on=function(a,b,c){var d=arguments.length;if(3>d){if("string"!==typeof a){2>d&&(b=!1);for(c in a)this.each(ja(c,a[c],b));return this}if(2>d)return(d=this.node()["__on"+a])&&d._;c=!1}return this.each(ja(a,b,c))};var Be=t.map({mouseenter:"mouseover",mouseleave:"mouseout"});Be.forEach(function(a){"on"+a in kb&&Be.remove(a)});var Wc="onselectstart"in kb?null:q(Cb.style,"userSelect"),zh=0;t.mouse=function(a){return oa(a,x())};t.touches=function(a,
b){2>arguments.length&&(b=x().touches);return b?Bb(b).map(function(b){var c=oa(a,b);c.identifier=b.identifier;return c}):[]};t.behavior.drag=function(){function a(){this.on("mousedown.drag",e).on("touchstart.drag",f)}function b(a,e,f,g,h){return function(){var b=t.event.target,k=this.parentNode,l=c.of(this,arguments),C=0,p=a(),m=".drag"+(null==p?"":"-"+p),L,q=t.select(f()).on(g+m,function(){var a=e(k,p),b,c;a&&(b=a[0]-S[0],c=a[1]-S[1],C=C|b|c,S=a,l({type:"drag",x:a[0]+L[0],y:a[1]+L[1],dx:b,dy:c}))}).on(h+
m,function(){e(k,p)&&(q.on(g+m,null).on(h+m,null),r(C&&t.event.target===b),l({type:"dragend"}))}),r=ua(),S=e(k,p);d?(L=d.apply(this,arguments),L=[L.x-S[0],L.y-S[1]]):L=[0,0];l({type:"dragstart"})}}var c=y(a,"drag","dragstart","dragend"),d=null,e=b(r,t.mouse,gc,"mousemove","mouseup"),f=b(Ka,t.touch,da,"touchmove","touchend");a.origin=function(b){if(!arguments.length)return d;d=b;return a};return t.rebind(a,c,"on")};var G=Math.PI,Ta=2*G,Ba=G/2,D=1E-6,Ee=D*D,I=G/180,ga=180/G,Sd=Math.SQRT2;t.interpolateZoom=
function(a,b){function c(a){var b=a*t;if(r){a=M(q);var g=f/(2*p),l,C=Sd*b+q;l=((C=Math.exp(2*C))-1)/(C+1);l*=a;var m=q,C=((m=Math.exp(m))-1/m)/2,g=g*(l-C);return[d+g*h,e+g*k,f*a/M(Sd*b+q)]}return[d+a*h,e+a*k,f*Math.exp(Sd*b)]}var d=a[0],e=a[1],f=a[2],g=b[2],h=b[0]-d,k=b[1]-e,l=h*h+k*k,p=Math.sqrt(l),m=(g*g-f*f+4*l)/(4*f*p),l=(g*g-f*f-4*l)/(4*g*p),q=Math.log(Math.sqrt(m*m+1)-m),r=Math.log(Math.sqrt(l*l+1)-l)-q,t=(r||Math.log(g/f))/Sd;c.duration=1E3*t;return c};t.behavior.zoom=function(){function a(b){b.on(Xb,
k).on(ni+".zoom",p).on(ca,m).on("dblclick.zoom",q).on(nb,l)}function b(a){return[(a[0]-r.x)/r.k,(a[1]-r.y)/r.k]}function c(a){r.k=Math.max(x[0],Math.min(x[1],a))}function d(a,b){b=[b[0]*r.k+r.x,b[1]*r.k+r.y];r.x+=a[0]-b[0];r.y+=a[1]-b[1]}function e(){D&&D.domain(De.range().map(function(a){return(a-r.x)/r.k}).map(De.invert));F&&F.domain(E.range().map(function(a){return(a-r.y)/r.k}).map(E.invert))}function f(a){a({type:"zoomstart"})}function g(a){e();a({type:"zoom",scale:r.k,translate:[r.x,r.y]})}function h(a){a({type:"zoomend"})}
function k(){var a=this,c=t.event.target,e=B.of(a,arguments),l=0,C=t.select(Ra).on(ca,function(){l=1;d(t.mouse(a),p);g(e)}).on(Xc,function(){C.on(ca,Ra===a?m:null).on(Xc,null);q(l&&t.event.target===c);h(e)}),p=b(t.mouse(a)),q=ua();H.call(a);f(e)}function l(){function a(){var c=t.touches(m);v=r.k;c.forEach(function(a){a.identifier in U&&(U[a.identifier]=b(a))});return c}function e(){var b=t.event.target;t.select(b).on(Aa,C).on(x,p);ca.push(b);for(var b=t.event.changedTouches,f=0,h=b.length;f<h;++f)U[b[f].identifier]=
null;h=a();f=Date.now();1===h.length?(500>f-A&&(b=h[0],h=U[b.identifier],c(2*r.k),d(b,h),w(),g(q)),A=f):1<h.length&&(b=h[0],h=h[1],f=b[0]-h[0],b=b[1]-h[1],s=f*f+b*b)}function C(){for(var a=t.touches(m),b,e,f,h,k=0,l=a.length;k<l;++k,h=null)if(f=a[k],h=U[f.identifier]){if(e)break;b=f;e=h}if(h){var p=(p=f[0]-b[0])*p+(p=f[1]-b[1])*p,a=s&&Math.sqrt(p/s);b=[(b[0]+f[0])/2,(b[1]+f[1])/2];e=[(e[0]+h[0])/2,(e[1]+h[1])/2];c(a*v)}A=null;d(b,e);g(q)}function p(){if(t.event.touches.length){for(var b=t.event.changedTouches,
c=0,d=b.length;c<d;++c)delete U[b[c].identifier];for(var e in U)return void a()}t.selectAll(ca).on(u,null);Uc.on(Xb,k).on(nb,l);Bd();h(q)}var m=this,q=B.of(m,arguments),U={},s=0,v,u=".zoom-"+t.event.changedTouches[0].identifier,Aa="touchmove"+u,x="touchend"+u,ca=[],Uc=t.select(m).on(Xb,null).on(nb,e),Bd=ua();H.call(m);e();f(q)}function p(){var a=B.of(this,arguments);z?clearTimeout(z):(H.call(this),f(a));z=setTimeout(function(){z=null;h(a)},50);w();var e=v||t.mouse(this);s||(s=b(e));c(Math.pow(2,.002*
Td())*r.k);d(e,s);g(a)}function m(){s=null}function q(){var a=B.of(this,arguments),e=t.mouse(this),k=b(e),l=Math.log(r.k)/Math.LN2;f(a);c(Math.pow(2,t.event.shiftKey?Math.ceil(l)-1:Math.floor(l)+1));d(e,k);g(a);h(a)}var r={x:0,y:0,k:1},s,v,u=[960,500],x=Lg,Xb="mousedown.zoom",ca="mousemove.zoom",Xc="mouseup.zoom",z,nb="touchstart.zoom",A,B=y(a,"zoomstart","zoom","zoomend"),De,D,E,F;a.event=function(a){a.each(function(){var a=B.of(this,arguments),b=r;bc?t.select(this).transition().each("start.zoom",
function(){r=this.__chart__||{x:0,y:0,k:1};f(a)}).tween("zoom:zoom",function(){var c=u[0],d=c/2,e=u[1]/2,f=t.interpolateZoom([(d-r.x)/r.k,(e-r.y)/r.k,c/r.k],[(d-b.x)/b.k,(e-b.y)/b.k,c/b.k]);return function(b){b=f(b);var h=c/b[2];this.__chart__=r={x:d-b[0]*h,y:e-b[1]*h,k:h};g(a)}}).each("end.zoom",function(){h(a)}):(this.__chart__=r,f(a),g(a),h(a))})};a.translate=function(b){if(!arguments.length)return[r.x,r.y];r={x:+b[0],y:+b[1],k:r.k};e();return a};a.scale=function(b){if(!arguments.length)return r.k;
r={x:r.x,y:r.y,k:+b};e();return a};a.scaleExtent=function(b){if(!arguments.length)return x;x=null==b?Lg:[+b[0],+b[1]];return a};a.center=function(b){if(!arguments.length)return v;v=b&&[+b[0],+b[1]];return a};a.size=function(b){if(!arguments.length)return u;u=b&&[+b[0],+b[1]];return a};a.x=function(b){if(!arguments.length)return D;D=b;De=b.copy();r={x:0,y:0,k:1};return a};a.y=function(b){if(!arguments.length)return F;F=b;E=b.copy();r={x:0,y:0,k:1};return a};return t.rebind(a,B,"on")};var Lg=[0,Infinity],
Td,ni="onwheel"in kb?(Td=function(){return-t.event.deltaY*(t.event.deltaMode?120:1)},"wheel"):"onmousewheel"in kb?(Td=function(){return t.event.wheelDelta},"mousewheel"):(Td=function(){return-t.event.detail},"MozMousePixelScroll");xb.prototype.toString=function(){return this.rgb()+""};t.hsl=function(a,b,c){return 1===arguments.length?a instanceof Cc?yb(a.h,a.s,a.l):ed(""+a,cd,yb):yb(+a,+b,+c)};var $e=Cc.prototype=new xb;$e.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);return yb(this.h,
this.s,this.l/a)};$e.darker=function(a){a=Math.pow(.7,arguments.length?a:1);return yb(this.h,this.s,a*this.l)};$e.rgb=function(){return Dc(this.h,this.s,this.l)};t.hcl=function(a,b,c){return 1===arguments.length?a instanceof Nb?Ia(a.h,a.c,a.l):a instanceof db?md(a.l,a.a,a.b):md((a=Ob((a=t.rgb(a)).r,a.g,a.b)).l,a.a,a.b):Ia(+a,+b,+c)};var af=Nb.prototype=new xb;af.brighter=function(a){return Ia(this.h,this.c,Math.min(100,this.l+Ud*(arguments.length?a:1)))};af.darker=function(a){return Ia(this.h,this.c,
Math.max(0,this.l-Ud*(arguments.length?a:1)))};af.rgb=function(){return lc(this.h,this.c,this.l).rgb()};t.lab=function(a,b,c){return 1===arguments.length?a instanceof db?Va(a.l,a.a,a.b):a instanceof Nb?lc(a.l,a.c,a.h):Ob((a=t.rgb(a)).r,a.g,a.b):Va(+a,+b,+c)};var Ud=18,Pf=.95047,Qf=1,Rf=1.08883,bf=db.prototype=new xb;bf.brighter=function(a){return Va(Math.min(100,this.l+Ud*(arguments.length?a:1)),this.a,this.b)};bf.darker=function(a){return Va(Math.max(0,this.l-Ud*(arguments.length?a:1)),this.a,this.b)};
bf.rgb=function(){return ld(this.l,this.a,this.b)};t.rgb=function(a,b,c){return 1===arguments.length?a instanceof F?qa(a.r,a.g,a.b):ed(""+a,qa,Dc):qa(~~a,~~b,~~c)};var Vd=F.prototype=new xb;Vd.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b;if(!b&&!c&&!d)return qa(30,30,30);b&&30>b&&(b=30);c&&30>c&&(c=30);d&&30>d&&(d=30);return qa(Math.min(255,~~(b/a)),Math.min(255,~~(c/a)),Math.min(255,~~(d/a)))};Vd.darker=function(a){a=Math.pow(.7,arguments.length?a:1);return qa(~~(a*
this.r),~~(a*this.g),~~(a*this.b))};Vd.hsl=function(){return cd(this.r,this.g,this.b)};Vd.toString=function(){return"#"+ia(this.r)+ia(this.g)+ia(this.b)};var Cd=t.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,
cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,
forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,
lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,
navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,
skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Cd.forEach(function(a,b){Cd.set(a,qa(b>>16,b>>8&255,b&255))});t.functor=X;t.xhr=Lc(ka);t.dsv=function(a,b){function c(a,f,g){3>arguments.length&&(g=f,f=null);var h=Pb(a,b,null==f?d:e(f),g);h.row=function(a){return arguments.length?
h.response(null==(f=a)?d:e(a)):f};return h}function d(a){return c.parse(a.responseText)}function e(a){return function(b){return c.parse(b.responseText,a)}}function f(b){return b.map(g).join(a)}function g(a){return h.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var h=new RegExp('["'+a+"\n]"),k=a.charCodeAt(0);c.parse=function(a,b){var d;return c.parseRows(a,function(a,c){if(d)return d(a,c-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");d=b?
function(a,c){return b(e(a),c)}:e})};c.parseRows=function(a,b){function c(){if(h>=g)return e;if(p)return p=!1,d;var b=h;if(34===a.charCodeAt(b)){for(var f=b;f++<g;)if(34===a.charCodeAt(f)){if(34!==a.charCodeAt(f+1))break;++f}h=f+2;var l=a.charCodeAt(f+1);13===l?(p=!0,10===a.charCodeAt(f+2)&&++h):10===l&&(p=!0);return a.substring(b+1,f).replace(/""/g,'"')}for(;h<g;){l=a.charCodeAt(h++);f=1;if(10===l)p=!0;else if(13===l)p=!0,10===a.charCodeAt(h)&&(++h,++f);else if(l!==k)continue;return a.substring(b,
h-f)}return a.substring(b)}for(var d={},e={},f=[],g=a.length,h=0,l=0,C,p;(C=c())!==e;){for(var m=[];C!==d&&C!==e;)m.push(C),C=c();b&&!(m=b(m,l++))||f.push(m)}return f};c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);var d=new p,e=[];b.forEach(function(a){for(var b in a)d.has(b)||e.push(d.add(b))});return[e.map(g).join(a)].concat(b.map(function(b){return e.map(function(a){return g(b[a])}).join(a)})).join("\n")};c.formatRows=function(a){return a.map(f).join("\n")};return c};t.csv=
t.dsv(",","text/csv");t.tsv=t.dsv(" ","text/tab-separated-values");t.touch=function(a,b,c){3>arguments.length&&(c=b,b=x().changedTouches);if(b)for(var d=0,e=b.length,f;d<e;++d)if((f=b[d]).identifier===c)return oa(a,f)};var Fd,Gd,Ed,Dd,tb,Sf=Ra[q(Ra,"requestAnimationFrame")]||function(a){setTimeout(a,17)};t.timer=function(a,b,c){var d=arguments.length;2>d&&(b=0);3>d&&(c=Date.now());d={c:a,t:c+b,f:!1,n:null};Gd?Gd.n=d:Fd=d;Gd=d;Ed||(Dd=clearTimeout(Dd),Ed=1,Sf(mc))};t.timer.flush=function(){Mc();od()};
t.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var oi="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,b){var c=Math.pow(10,3*K(8-b));return{scale:8<b?function(a){return a/c}:function(a){return a*c},symbol:a}});t.formatPrefix=function(a,b){var c=0;a&&(0>a&&(a*=-1),b&&(a=t.round(a,Nc(a,b))),c=1+Math.floor(1E-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((c-1)/3))));return oi[8+c/3]};var Tf=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,
Ah=t.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=t.round(a,Nc(a,b))).toFixed(Math.max(0,Math.min(20,Nc(a*(1+1E-15),b))))}}),E=t.time={},Ea=Date;Fa.prototype={getDate:function(){return this._.getUTCDate()},
getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){wb.setUTCDate.apply(this._,
arguments)},setDay:function(){wb.setUTCDay.apply(this._,arguments)},setFullYear:function(){wb.setUTCFullYear.apply(this._,arguments)},setHours:function(){wb.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){wb.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){wb.setUTCMinutes.apply(this._,arguments)},setMonth:function(){wb.setUTCMonth.apply(this._,arguments)},setSeconds:function(){wb.setUTCSeconds.apply(this._,arguments)},setTime:function(){wb.setTime.apply(this._,arguments)}};
var wb=Date.prototype;E.year=Oa(function(a){a=E.day(a);a.setMonth(0,1);return a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()});E.years=E.year.range;E.years.utc=E.year.utc.range;E.day=Oa(function(a){var b=new Ea(2E3,0);b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());return b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1});E.days=E.day.range;E.days.utc=E.day.utc.range;E.dayOfYear=function(a){var b=E.year(a);return Math.floor((a-
b-6E4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(a,b){b=7-b;var c=E[a]=Oa(function(a){(a=E.day(a)).setDate(a.getDate()-(a.getDay()+b)%7);return a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=E.year(a).getDay();return Math.floor((E.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});E[a+"s"]=c.range;E[a+"s"].utc=c.utc.range;E[a+"OfYear"]=function(a){var c=E.year(a).getDay();return Math.floor((E.dayOfYear(a)+
(c+b)%7)/7)}});E.week=E.sunday;E.weeks=E.sunday.range;E.weeks.utc=E.sunday.utc.range;E.weekOfYear=E.sundayOfYear;var Uf={"-":"",_:" ",0:"0"},la=/^\s*\d+/,Vf=/^%/;t.locale=function(a){return{numberFormat:se(a),timeFormat:dc(a)}};var Mg=t.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});t.format=Mg.numberFormat;t.geo={};Oc.prototype={s:0,t:0,add:function(a){oc(a,this.t,Wd);oc(Wd.s,this.s,this);this.s?this.t+=Wd.t:this.s=Wd.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Wd=new Oc;t.geo.stream=function(a,b){if(a&&Ng.hasOwnProperty(a.type))Ng[a.type](a,b);else pc(a,b)};var Ng=
{Feature:function(a,b){pc(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)pc(c[d].geometry,b)}},Wf={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates;b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){Rb(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)Rb(c[d],b,0)},Polygon:function(a,b){qc(a.coordinates,
b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)qc(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)pc(c[d],b)}};t.geo.area=function(a){zc=0;t.geo.stream(a,Sa);return zc};var zc,Yb=new Oc,Sa={sphere:function(){zc+=4*G},point:r,lineStart:r,lineEnd:r,polygonStart:function(){Yb.reset();Sa.lineStart=fb},polygonEnd:function(){var a=2*Yb;zc+=0>a?4*G+a:a;Sa.lineStart=Sa.lineEnd=Sa.point=r}};t.geo.bounds=function(){function a(b,c){ca.push(y=
[p=b,q=b]);c<m&&(m=c);c>r&&(r=c)}function b(c,d){var e=xa([c*I,d*I]);if(w){var f=gb(w,e),f=gb([f[1],-f[0],0],f);tc(f);var f=Sb(f),g=c-s,k=0<g?1:-1,l=f[0]*ga*k,g=180<K(g);g^(k*s<l&&l<k*c)?(f=f[1]*ga,f>r&&(r=f)):(l=(l+360)%360-180,g^(k*s<l&&l<k*c))?(f=-f[1]*ga,f<m&&(m=f)):(d<m&&(m=d),d>r&&(r=d));g?c<s?h(p,c)>h(p,q)&&(q=c):h(c,q)>h(p,q)&&(p=c):q>=p?(c<p&&(p=c),c>q&&(q=c)):c>s?h(p,c)>h(p,q)&&(q=c):h(c,q)>h(p,q)&&(p=c)}else a(c,d);w=e;s=c}function c(){z.point=b}function d(){y[0]=p;y[1]=q;z.point=a;w=null}
function e(a,c){if(w){var d=a-s;x+=180<K(d)?d+(0<d?360:-360):d}else v=a,u=c;Sa.point(a,c);b(a,c)}function f(){Sa.lineStart()}function g(){e(v,u);Sa.lineEnd();K(x)>D&&(p=-(q=180));y[0]=p;y[1]=q;w=null}function h(a,b){return 0>(b-=a)?b+360:b}function k(a,b){return a[0]-b[0]}function l(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var p,m,q,r,s,v,u,w,x,ca,y,z={point:a,lineStart:c,lineEnd:d,polygonStart:function(){z.point=e;z.lineStart=f;z.lineEnd=g;x=0;Sa.polygonStart()},polygonEnd:function(){Sa.polygonEnd();
z.point=a;z.lineStart=c;z.lineEnd=d;0>Yb?(p=-(q=180),m=-(r=90)):x>D?r=90:x<-D&&(m=-90);y[0]=p;y[1]=q}};return function(a){r=q=-(p=m=Infinity);ca=[];t.geo.stream(a,z);if(a=ca.length){ca.sort(k);for(var b=1,c=ca[0],d,e=[c];b<a;++b)d=ca[b],l(d[0],c)||l(d[1],c)?(h(c[0],d[1])>h(c[0],c[1])&&(c[1]=d[1]),h(d[0],c[1])>h(c[0],c[1])&&(c[0]=d[0])):e.push(c=d);var f=-Infinity,g;a=e.length-1;b=0;for(c=e[a];b<=a;c=d,++b)d=e[b],(g=h(c[1],d[0]))>f&&(f=g,p=d[0],q=c[1])}ca=y=null;return Infinity===p||Infinity===m?[[NaN,
NaN],[NaN,NaN]]:[[p,m],[q,r]]}}();t.geo.centroid=function(a){Yc=vc=ub=vb=ob=Wa=Xa=Pa=Db=Eb=pb=0;t.geo.stream(a,ib);a=Db;var b=Eb,c=pb,d=a*a+b*b+c*c;return d<Ee&&(a=Wa,b=Xa,c=Pa,vc<D&&(a=ub,b=vb,c=ob),d=a*a+b*b+c*c,d<Ee)?[NaN,NaN]:[Math.atan2(b,a)*ga,T(c/Math.sqrt(d))*ga]};var Yc,vc,ub,vb,ob,Wa,Xa,Pa,Db,Eb,pb,ib={sphere:r,point:Mb,lineStart:xe,lineEnd:ud,polygonStart:function(){ib.lineStart=ge},polygonEnd:function(){ib.lineStart=xe}},Xf=Ub(hb,function(a){var b=NaN,c=NaN,d=NaN,e;return{lineStart:function(){a.lineStart();
e=1},point:function(f,g){var h=0<f?G:-G,k=K(f-b);if(K(k-G)<D)a.point(b,c=0<(c+g)/2?Ba:-Ba),a.point(d,c),a.lineEnd(),a.lineStart(),a.point(h,c),a.point(f,c),e=0;else if(d!==h&&k>=G){K(b-d)<D&&(b-=d*D);K(f-h)<D&&(f-=h*D);var k=b,l=c,p=f,m,q,r=Math.sin(k-p);c=K(r)>D?Math.atan((Math.sin(l)*(q=Math.cos(g))*Math.sin(p)-Math.sin(g)*(m=Math.cos(l))*Math.sin(k))/(m*q*r)):(l+g)/2;a.point(d,c);a.lineEnd();a.lineStart();a.point(h,c);e=0}a.point(b=f,c=g);d=h},lineEnd:function(){a.lineEnd();b=c=NaN},clean:function(){return 2-
e}}},function(a,b,c,d){null==a?(c*=Ba,d.point(-G,c),d.point(0,c),d.point(G,c),d.point(G,0),d.point(G,-c),d.point(0,-c),d.point(-G,-c),d.point(-G,0),d.point(-G,c)):K(a[0]-b[0])>D?(a=a[0]<b[0]?G:-G,c=c*a/2,d.point(-a,c),d.point(0,c),d.point(a,c)):d.point(b[0],b[1])},[-G,-G/2]),Hd=1E9;t.geo.clipExtent=function(){var a,b,c,d,e,f,g={stream:function(a){e&&(e.valid=!1);e=f(a);e.valid=!0;return e},extent:function(h){if(!arguments.length)return[[a,b],[c,d]];f=Sc(a=+h[0][0],b=+h[0][1],c=+h[1][0],d=+h[1][1]);
e&&(e.valid=!1,e=null);return g}};return g.extent([[0,0],[960,500]])};(t.geo.conicEqualArea=function(){return Tc(aa)}).raw=aa;t.geo.albers=function(){return t.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};t.geo.albersUsa=function(){function a(b){var c=b[0];b=b[1];e=null;(g(c,b),e)||(h(c,b),e)||k(c,b);return e}var b=t.geo.albers(),c=t.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=t.geo.conicEqualArea().rotate([157,0]).center([-3,
19.9]).parallels([8,18]),e,f={point:function(a,b){e=[a,b]}},g,h,k;a.invert=function(a){var e=b.scale(),f=b.translate(),g=(a[0]-f[0])/e,e=(a[1]-f[1])/e;return(.12<=e&&.234>e&&-.425<=g&&-.214>g?c:.166<=e&&.234>e&&-.214<=g&&-.115>g?d:b).invert(a)};a.stream=function(a){var e=b.stream(a),f=c.stream(a),g=d.stream(a);return{point:function(a,b){e.point(a,b);f.point(a,b);g.point(a,b)},sphere:function(){e.sphere();f.sphere();g.sphere()},lineStart:function(){e.lineStart();f.lineStart();g.lineStart()},lineEnd:function(){e.lineEnd();
f.lineEnd();g.lineEnd()},polygonStart:function(){e.polygonStart();f.polygonStart();g.polygonStart()},polygonEnd:function(){e.polygonEnd();f.polygonEnd();g.polygonEnd()}}};a.precision=function(e){if(!arguments.length)return b.precision();b.precision(e);c.precision(e);d.precision(e);return a};a.scale=function(e){if(!arguments.length)return b.scale();b.scale(e);c.scale(.35*e);d.scale(e);return a.translate(b.translate())};a.translate=function(e){if(!arguments.length)return b.translate();var l=b.scale(),
p=+e[0],m=+e[1];g=b.translate(e).clipExtent([[p-.455*l,m-.238*l],[p+.455*l,m+.238*l]]).stream(f).point;h=c.translate([p-.307*l,m+.201*l]).clipExtent([[p-.425*l+D,m+.12*l+D],[p-.214*l-D,m+.234*l-D]]).stream(f).point;k=d.translate([p-.205*l,m+.212*l]).clipExtent([[p-.214*l+D,m+.166*l+D],[p-.115*l-D,m+.234*l-D]]).stream(f).point;return a};return a.scale(1070)};var Xd,Id,Fb={point:r,lineStart:r,lineEnd:r,polygonStart:function(){Id=0;Fb.lineStart=Ja},polygonEnd:function(){Fb.lineStart=Fb.lineEnd=Fb.point=
r;Xd+=K(Id/2)}},Yd,Zd,$d,ae,pi={point:function(a,b){a<Yd&&(Yd=a);a>$d&&($d=a);b<Zd&&(Zd=b);b>ae&&(ae=b)},lineStart:r,lineEnd:r,polygonStart:r,polygonEnd:r},jb={point:Jb,lineStart:ff,lineEnd:gf,polygonStart:function(){jb.lineStart=ah},polygonEnd:function(){jb.point=Jb;jb.lineStart=ff;jb.lineEnd=gf}};t.geo.path=function(){function a(b){b&&("function"===typeof c&&g.pointRadius(+c.apply(this,arguments)),h&&h.valid||(h=f(g)),t.geo.stream(b,h));return g.result()}function b(){h=null;return a}var c=4.5,d,
e,f,g,h;a.area=function(a){Xd=0;t.geo.stream(a,f(Fb));return Xd};a.centroid=function(a){ub=vb=ob=Wa=Xa=Pa=Db=Eb=pb=0;t.geo.stream(a,f(jb));return pb?[Db/pb,Eb/pb]:Pa?[Wa/Pa,Xa/Pa]:ob?[ub/ob,vb/ob]:[NaN,NaN]};a.bounds=function(a){$d=ae=-(Yd=Zd=Infinity);t.geo.stream(a,f(pi));return[[Yd,Zd],[$d,ae]]};a.projection=function(a){if(!arguments.length)return d;f=(d=a)?a.stream||ch(a):ka;return b()};a.context=function(a){if(!arguments.length)return e;g=null==(e=a)?new ha:new bh(a);"function"!==typeof c&&g.pointRadius(c);
return b()};a.pointRadius=function(b){if(!arguments.length)return c;c="function"===typeof b?b:(g.pointRadius(+b),+b);return a};return a.projection(t.geo.albersUsa()).context(null)};t.geo.transform=function(a){return{stream:function(b){b=new jf(b);for(var c in a)b[c]=a[c];return b}}};jf.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},
polygonEnd:function(){this.stream.polygonEnd()}};t.geo.projection=lb;t.geo.projectionMutator=le;(t.geo.equirectangular=function(){return lb(Ec)}).raw=Ec.invert=Ec;t.geo.rotation=function(a){function b(c){c=a(c[0]*I,c[1]*I);return c[0]*=ga,c[1]*=ga,c}a=ne(a[0]%360*I,a[1]*I,2<a.length?a[2]*I:0);b.invert=function(b){b=a.invert(b[0]*I,b[1]*I);return b[0]*=ga,b[1]*=ga,b};return b};Ff.invert=Ec;t.geo.circle=function(){function a(){var c="function"===typeof b?b.apply(this,arguments):b,d=ne(-c[0]*I,-c[1]*
I,0).invert,f=[];e(null,null,1,{point:function(a,b){f.push(a=d(a,b));a[0]*=ga;a[1]*=ga}});return{type:"Polygon",coordinates:[f]}}var b=[0,0],c,d=6,e;a.origin=function(c){if(!arguments.length)return b;b=c;return a};a.angle=function(b){if(!arguments.length)return c;e=oe((c=+b)*I,d*I);return a};a.precision=function(b){if(!arguments.length)return d;e=oe(c*I,(d=+b)*I);return a};return a.angle(90)};t.geo.distance=function(a,b){var c=(b[0]-a[0])*I,d=a[1]*I,e=b[1]*I,f=Math.sin(c),c=Math.cos(c),g=Math.sin(d),
d=Math.cos(d),h=Math.sin(e),e=Math.cos(e),k;return Math.atan2(Math.sqrt((k=e*f)*k+(k=d*h-g*e*c)*k),g*h+d*e*c)};t.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return t.range(Math.ceil(f/q)*q,e,q).map(u).concat(t.range(Math.ceil(l/r)*r,k,r).map(w)).concat(t.range(Math.ceil(d/p)*p,c,p).filter(function(a){return K(a%q)>D}).map(s)).concat(t.range(Math.ceil(h/m)*m,g,m).filter(function(a){return K(a%r)>D}).map(v))}var c,d,e,f,g,h,k,l,p=10,m=p,q=90,r=360,
s,v,u,w,x=2.5;a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})};a.outline=function(){return{type:"Polygon",coordinates:[u(f).concat(w(k).slice(1),u(e).reverse().slice(1),w(l).reverse().slice(1))]}};a.extent=function(b){return arguments.length?a.majorExtent(b).minorExtent(b):a.minorExtent()};a.majorExtent=function(b){if(!arguments.length)return[[f,l],[e,k]];f=+b[0][0];e=+b[1][0];l=+b[0][1];k=+b[1][1];f>e&&(b=f,f=e,e=b);l>k&&(b=l,l=k,k=b);return a.precision(x)};
a.minorExtent=function(b){if(!arguments.length)return[[d,h],[c,g]];d=+b[0][0];c=+b[1][0];h=+b[0][1];g=+b[1][1];d>c&&(b=d,d=c,c=b);h>g&&(b=h,h=g,g=b);return a.precision(x)};a.step=function(b){return arguments.length?a.majorStep(b).minorStep(b):a.minorStep()};a.majorStep=function(b){if(!arguments.length)return[q,r];q=+b[0];r=+b[1];return a};a.minorStep=function(b){if(!arguments.length)return[p,m];p=+b[0];m=+b[1];return a};a.precision=function(b){if(!arguments.length)return x;x=+b;s=tf(h,g,90);v=If(d,
c,x);u=tf(l,k,90);w=If(f,e,x);return a};return a.majorExtent([[-180,-90+D],[180,90-D]]).minorExtent([[-180,-80-D],[180,80+D]])};t.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[c||b.apply(this,arguments),e||d.apply(this,arguments)]}}var b=ke,c,d=me,e;a.distance=function(){return t.geo.distance(c||b.apply(this,arguments),e||d.apply(this,arguments))};a.source=function(d){if(!arguments.length)return b;b=d;c="function"===typeof d?null:d;return a};a.target=function(b){if(!arguments.length)return d;
d=b;e="function"===typeof b?null:b;return a};a.precision=function(){return arguments.length?a:0};return a};t.geo.interpolate=function(a,b){return sh(a[0]*I,a[1]*I,b[0]*I,b[1]*I)};t.geo.length=function(a){be=0;t.geo.stream(a,Ac);return be};var be,Ac={sphere:r,point:r,lineStart:function(){function a(e,f){var g=Math.sin(f*=I),h=Math.cos(f),k=K((e*=I)-b),l=Math.cos(k);be+=Math.atan2(Math.sqrt((k=h*Math.sin(k))*k+(k=d*g-c*h*l)*k),c*g+d*h*l);b=e;c=g;d=h}var b,c,d;Ac.point=function(e,f){b=e*I;c=Math.sin(f*=
I);d=Math.cos(f);Ac.point=a};Ac.lineEnd=function(){Ac.point=Ac.lineEnd=r}},lineEnd:r,polygonStart:r,polygonEnd:r},Og=Fc(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(t.geo.azimuthalEqualArea=function(){return lb(Og)}).raw=Og;var Pg=Fc(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},ka);(t.geo.azimuthalEquidistant=function(){return lb(Pg)}).raw=Pg;(t.geo.conicConformal=function(){return Tc(of)}).raw=of;(t.geo.conicEquidistant=function(){return Tc(nf)}).raw=nf;var Qg=
Fc(function(a){return 1/a},Math.atan);(t.geo.gnomonic=function(){return lb(Qg)}).raw=Qg;hd.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-Ba]};(t.geo.mercator=function(){return pf(hd)}).raw=hd;var Rg=Fc(function(){return 1},Math.asin);(t.geo.orthographic=function(){return lb(Rg)}).raw=Rg;var Sg=Fc(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(t.geo.stereographic=function(){return lb(Sg)}).raw=Sg;je.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-Ba]};(t.geo.transverseMercator=
function(){var a=pf(je),b=a.center,c=a.rotate;a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[-a[1],a[0]])};a.rotate=function(a){return a?c([a[0],a[1],2<a.length?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])};return a.rotate([0,0])}).raw=je;t.geom={};t.geom.hull=function(a){function b(a){if(3>a.length)return[];var e=X(c),f=X(d),g,h=a.length,k=[],l=[];for(g=0;g<h;g++)k.push([+e.call(this,a[g],g),+f.call(this,a[g],g),g]);k.sort(pa);for(g=0;g<h;g++)l.push([k[g][0],-k[g][1]]);var e=qf(k),l=qf(l),f=l[0]===
e[0],h=l[l.length-1]===e[e.length-1],p=[];for(g=e.length-1;0<=g;--g)p.push(a[k[e[g]][2]]);for(g=+f;g<l.length-h;++g)p.push(a[k[l[g]][2]]);return p}var c=jc,d=Gc;if(arguments.length)return b(a);b.x=function(a){return arguments.length?(c=a,b):c};b.y=function(a){return arguments.length?(d=a,b):d};return b};t.geom.polygon=function(a){Ad(a,ce);return a};var ce=t.geom.polygon.prototype=[];ce.area=function(){for(var a=-1,b=this.length,c,d=this[b-1],e=0;++a<b;)c=d,d=this[a],e+=c[1]*d[0]-c[0]*d[1];return.5*
e};ce.centroid=function(a){var b=-1,c=this.length,d=0,e=0,f,g=this[c-1],h;for(arguments.length||(a=-1/(6*this.area()));++b<c;)f=g,g=this[b],h=f[0]*g[1]-g[0]*f[1],d+=(f[0]+g[0])*h,e+=(f[1]+g[1])*h;return[d*a,e*a]};ce.clip=function(a){for(var b,c=yf(a),d=-1,e=this.length-yf(this),f,g,h=this[e-1],k,l,p;++d<e;){b=a.slice();a.length=0;k=this[d];l=b[(g=b.length-c)-1];for(f=-1;++f<g;)p=b[f],he(p,h,k)?(he(l,h,k)||a.push(Na(l,p,h,k)),a.push(p)):he(l,h,k)&&a.push(Na(l,p,h,k)),l=p;c&&a.push(a[0]);h=k}return a};
var xc,Zb,wc,Yf=[],Fe,Zc,Zf=[];xf.prototype.prepare=function(){for(var a=this.edges,b=a.length,c;b--;)c=a[b].edge,c.b&&c.a||a.splice(b,1);a.sort(wf);return a.length};jd.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};qe.prototype={insert:function(a,b){var c,d,e;if(a){b.P=a;if(b.N=a.N)a.N.P=b;a.N=b;if(a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=Lf(this._),b.P=null,b.N=a,a.P=
a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);b.L=b.R=null;b.U=c;b.C=!0;for(a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R)&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(Ic(this,c),a=c,c=a.U),c.C=!1,d.C=!0,Jc(this,d)):(e=d.L)&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.L&&(Jc(this,c),a=c,c=a.U),c.C=!1,d.C=!0,Ic(this,d)),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var b=a.U,c=a.L,d=a.R,e,f;e=c?d?Lf(d):c:d;b?b.L===a?b.L=e:b.R=e:this._=e;c&&d?(f=e.C,e.C=a.C,e.L=c,c.U=e,e!==d?(b=e.U,e.U=a.U,
a=e.R,b.L=a,e.R=d,d.U=e):(e.U=b,b=e,a=e.R)):(f=a.C,a=e);a&&(a.U=b);if(!f)if(a&&a.C)a.C=!1;else{do{if(a===this._)break;if(a===b.L){if(a=b.R,a.C&&(a.C=!1,b.C=!0,Ic(this,b),a=b.R),a.L&&a.L.C||a.R&&a.R.C){a.R&&a.R.C||(a.L.C=!1,a.C=!0,Jc(this,a),a=b.R);a.C=b.C;b.C=a.R.C=!1;Ic(this,b);a=this._;break}}else if(a=b.L,a.C&&(a.C=!1,b.C=!0,Jc(this,b),a=b.L),a.L&&a.L.C||a.R&&a.R.C){a.L&&a.L.C||(a.R.C=!1,a.C=!0,Ic(this,a),a=b.L);a.C=b.C;b.C=a.L.C=!1;Jc(this,b);a=this._;break}a.C=!0;a=b;b=b.U}while(!a.C);a&&(a.C=
!1)}}};t.geom.voronoi=function(a){function b(a){var d=Array(a.length),e=h[0][0],f=h[0][1],g=h[1][0],k=h[1][1];re(c(a),h).cells.forEach(function(b,c){var h=b.edges,l=b.site;(d[c]=h.length?h.map(function(a){a=a.start();return[a.x,a.y]}):l.x>=e&&l.x<=g&&l.y>=f&&l.y<=k?[[e,k],[g,k],[g,f],[e,f]]:[]).point=a[c]});return d}function c(a){return a.map(function(a,b){return{x:Math.round(f(a,b)/D)*D,y:Math.round(g(a,b)/D)*D,i:b}})}var d=jc,e=Gc,f=d,g=e,h=de;if(a)return b(a);b.links=function(a){return re(c(a)).edges.filter(function(a){return a.l&&
a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})};b.triangles=function(a){var b=[];re(c(a)).cells.forEach(function(c,d){for(var e=c.site,f=c.edges.sort(wf),g=-1,h=f.length,k,l=f[h-1].edge,l=l.l===e?l.r:l.l;++g<h;)k=l,l=f[g].edge,l=l.l===e?l.r:l.l,d<k.i&&d<l.i&&0>(e.x-l.x)*(k.y-e.y)-(e.x-k.x)*(l.y-e.y)&&b.push([a[d],a[k.i],a[l.i]])});return b};b.x=function(a){return arguments.length?(f=X(d=a),b):d};b.y=function(a){return arguments.length?(g=X(e=a),b):e};b.clipExtent=function(a){if(!arguments.length)return h===
de?null:h;h=null==a?de:a;return b};b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):h===de?null:h&&h[1]};return b};var de=[[-1E6,-1E6],[1E6,1E6]];t.geom.delaunay=function(a){return t.geom.voronoi().triangles(a)};t.geom.quadtree=function(a,b,c,d,e){function f(a){function l(a,b,c,d,e,f,g,h){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var k=a.x,m=a.y;if(null!=k){if(!(.01>K(k-c)+K(m-d))){var C=a.point;a.x=a.y=a.point=null;p(a,C,k,m,e,f,g,h)}p(a,b,c,d,e,f,g,h)}else a.x=c,a.y=d,a.point=b}else p(a,
b,c,d,e,f,g,h)}function p(a,b,c,d,e,f,g,h){var k=.5*(e+g),m=.5*(f+h),C=c>=k,q=d>=m,r=(q<<1)+C;a.leaf=!1;a=a.nodes[r]||(a.nodes[r]=Mf());C?e=k:g=k;q?f=m:h=m;l(a,b,c,d,e,f,g,h)}var m,C=X(g),q=X(h),r,t,s,v,S,u,w,x;if(null!=b)S=b,u=c,w=d,x=e;else if(w=x=-(S=u=Infinity),r=[],t=[],v=a.length,k)for(s=0;s<v;++s)m=a[s],m.x<S&&(S=m.x),m.y<u&&(u=m.y),m.x>w&&(w=m.x),m.y>x&&(x=m.y),r.push(m.x),t.push(m.y);else for(s=0;s<v;++s){var y=+C(m=a[s],s);m=+q(m,s);y<S&&(S=y);m<u&&(u=m);y>w&&(w=y);m>x&&(x=m);r.push(y);
t.push(m)}y=w-S;m=x-u;y>m?x=u+y:w=S+m;var z=Mf();z.add=function(a){l(z,a,+C(a,++s),+q(a,s),S,u,w,x)};z.visit=function(a){bb(a,z,S,u,w,x)};s=-1;if(null==b){for(;++s<v;)l(z,a[s],r[s],t[s],S,u,w,x);--s}else a.forEach(z.add);r=t=a=m=null;return z}var g=jc,h=Gc,k;if(k=arguments.length)return g=xh,h=yh,3===k&&(e=c,d=b,c=b=0),f(a);f.x=function(a){return arguments.length?(g=a,f):g};f.y=function(a){return arguments.length?(h=a,f):h};f.extent=function(a){if(!arguments.length)return null==b?null:[[b,c],[d,e]];
null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]);return f};f.size=function(a){if(!arguments.length)return null==b?null:[d-b,e-c];null==a?b=c=d=e=null:(b=c=0,d=+a[0],e=+a[1]);return f};return f};t.interpolateRgb=ie;t.interpolateObject=uf;t.interpolateNumber=ab;t.interpolateString=cb;var Ge=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,He=new RegExp(Ge.source,"g");t.interpolate=Ha;t.interpolators=[function(a,b){var c=typeof b;return("string"===c?Cd.has(b)||/^(#|rgb\(|hsl\()/.test(b)?
ie:cb:b instanceof xb?ie:Array.isArray(b)?kd:"object"===c&&isNaN(b)?uf:ab)(a,b)}];t.interpolateArray=kd;var Tg=function(){return ka},qi=t.map({linear:Tg,poly:function(a){return function(b){return Math.pow(b,a)}},quad:function(){return eh},cubic:function(){return fh},sin:function(){return hh},exp:function(){return ih},circle:function(){return jh},elastic:function(a,b){var c;2>arguments.length&&(b=.45);arguments.length?c=b/Ta*Math.asin(1/a):(a=1,c=b/4);return function(d){return 1+a*Math.pow(2,-10*d)*
Math.sin((d-c)*Ta/b)}},back:function(a){a||(a=1.70158);return function(b){return b*b*((a+1)*b-a)}},bounce:function(){return kh}}),ri=t.map({"in":ka,out:lf,"in-out":mf,"out-in":function(a){return mf(lf(a))}});t.ease=function(a){var b=a.indexOf("-"),c=0<=b?a.substring(0,b):a,b=0<=b?a.substring(b+1):"in",c=qi.get(c)||Tg,b=ri.get(b)||ka;return dh(b(c.apply(null,Gg.call(arguments,1))))};t.interpolateHcl=function(a,b){a=t.hcl(a);b=t.hcl(b);var c=a.h,d=a.c,e=a.l,f=b.h-c,g=b.c-d,h=b.l-e;isNaN(g)&&(g=0,d=
isNaN(d)?b.c:d);isNaN(f)?(f=0,c=isNaN(c)?b.h:c):180<f?f-=360:-180>f&&(f+=360);return function(a){return lc(c+f*a,d+g*a,e+h*a)+""}};t.interpolateHsl=function(a,b){a=t.hsl(a);b=t.hsl(b);var c=a.h,d=a.s,e=a.l,f=b.h-c,g=b.s-d,h=b.l-e;isNaN(g)&&(g=0,d=isNaN(d)?b.s:d);isNaN(f)?(f=0,c=isNaN(c)?b.h:c):180<f?f-=360:-180>f&&(f+=360);return function(a){return Dc(c+f*a,d+g*a,e+h*a)+""}};t.interpolateLab=function(a,b){a=t.lab(a);b=t.lab(b);var c=a.l,d=a.a,e=a.b,f=b.l-c,g=b.a-d,h=b.b-e;return function(a){return ld(c+
f*a,d+g*a,e+h*a)+""}};t.interpolateRound=zf;t.transform=function(a){var b=kb.createElementNS(t.ns.prefix.svg,"g");return(t.transform=function(a){if(null!=a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new Af(c?c.matrix:si)})(a)};Af.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var si={a:1,b:0,c:0,d:1,e:0,f:0};t.interpolateTransform=Df;t.layout={};t.layout.bundle=function(){return function(a){for(var b=
[],c=-1,d=a.length;++c<d;)b.push(nh(a[c]));return b}};t.layout.chord=function(){function a(){var c={},m=[],q=t.range(g),C=[],r,s,v,u,w;d=[];e=[];r=0;for(u=-1;++u<g;){s=0;for(w=-1;++w<g;)s+=f[u][w];m.push(s);C.push(t.range(g));r+=s}k&&q.sort(function(a,b){return k(m[a],m[b])});l&&C.forEach(function(a,b){a.sort(function(a,c){return l(f[b][a],f[b][c])})});r=(Ta-h*g)/r;s=0;for(u=-1;++u<g;){v=s;for(w=-1;++w<g;){var x=q[u],V=C[x][w],y=f[x][V],z=s,A=s+=y*r;c[x+"-"+V]={index:x,subindex:V,startAngle:z,endAngle:A,
value:y}}e[x]={index:x,startAngle:v,endAngle:s,value:(s-v)/r};s+=h}for(u=-1;++u<g;)for(w=u-1;++w<g;)q=c[u+"-"+w],C=c[w+"-"+u],(q.value||C.value)&&d.push(q.value<C.value?{source:C,target:q}:{source:q,target:C});p&&b()}function b(){d.sort(function(a,b){return p((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c={},d,e,f,g,h=0,k,l,p;c.matrix=function(a){if(!arguments.length)return f;g=(f=a)&&f.length;d=e=null;return c};c.padding=function(a){if(!arguments.length)return h;h=a;
d=e=null;return c};c.sortGroups=function(a){if(!arguments.length)return k;k=a;d=e=null;return c};c.sortSubgroups=function(a){if(!arguments.length)return l;l=a;d=null;return c};c.sortChords=function(a){if(!arguments.length)return p;p=a;d&&b();return c};c.chords=function(){d||a();return d};c.groups=function(){e||a();return e};return c};t.layout.force=function(){function a(b){return function(a,c,d,e){if(a.point!==b){d=a.cx-b.x;var f=a.cy-b.y;c=e-c;e=d*d+f*f;if(c*c/r<e)return e<m&&(c=a.charge/e,b.px-=
d*c,b.py-=f*c),!0;a.point&&e&&e<m&&(c=a.pointCharge/e,b.px-=d*c,b.py-=f*c)}return!a.charge}}function b(a){a.px=t.event.x;a.py=t.event.y;c.resume()}var c={},d=t.dispatch("start","tick","end"),e=[1,1],f,g,h=.9,k=ti,l=ui,p=-30,m=vi,q=.1,r=.64,s=[],v=[],u,w,x;c.tick=function(){if(.005>(g*=.99))return d.end({type:"end",alpha:g=0}),!0;var b=s.length,c=v.length,f,k,l,m,r,S,L;for(f=0;f<c;++f)if(k=v[f],l=k.source,m=k.target,S=m.x-l.x,L=m.y-l.y,r=S*S+L*L)r=g*w[f]*((r=Math.sqrt(r))-u[f])/r,S*=r,L*=r,m.x-=S*
(r=l.weight/(m.weight+l.weight)),m.y-=L*r,l.x+=S*(r=1-r),l.y+=L*r;if(r=g*q)if(S=e[0]/2,L=e[1]/2,f=-1,r)for(;++f<b;)k=s[f],k.x+=(S-k.x)*r,k.y+=(L-k.y)*r;if(p)for($f(c=t.geom.quadtree(s),g,x),f=-1;++f<b;)(k=s[f]).fixed||c.visit(a(k));for(f=-1;++f<b;)k=s[f],k.fixed?(k.x=k.px,k.y=k.py):(k.x-=(k.px-(k.px=k.x))*h,k.y-=(k.py-(k.py=k.y))*h);d.tick({type:"tick",alpha:g})};c.nodes=function(a){if(!arguments.length)return s;s=a;return c};c.links=function(a){if(!arguments.length)return v;v=a;return c};c.size=
function(a){if(!arguments.length)return e;e=a;return c};c.linkDistance=function(a){if(!arguments.length)return k;k="function"===typeof a?a:+a;return c};c.distance=c.linkDistance;c.linkStrength=function(a){if(!arguments.length)return l;l="function"===typeof a?a:+a;return c};c.friction=function(a){if(!arguments.length)return h;h=+a;return c};c.charge=function(a){if(!arguments.length)return p;p="function"===typeof a?a:+a;return c};c.chargeDistance=function(a){if(!arguments.length)return Math.sqrt(m);
m=a*a;return c};c.gravity=function(a){if(!arguments.length)return q;q=+a;return c};c.theta=function(a){if(!arguments.length)return Math.sqrt(r);r=a*a;return c};c.alpha=function(a){if(!arguments.length)return g;a=+a;g?g=0<a?a:0:0<a&&(d.start({type:"start",alpha:g=a}),t.timer(c.tick));return c};c.start=function(){function a(c,e){if(!m){m=Array(d);for(g=0;g<d;++g)m[g]=[];for(g=0;g<h;++g){var f=v[g];m[f.source.index].push(f.target);m[f.target.index].push(f.source)}}for(var f=m[b],g=-1,h=f.length,k;++g<
h;)if(!isNaN(k=f[g][c]))return k;return Math.random()*e}var b,d=s.length,f=v.length,g=e[0],h=e[1],m,q;for(b=0;b<d;++b)(q=s[b]).index=b,q.weight=0;for(b=0;b<f;++b)q=v[b],"number"==typeof q.source&&(q.source=s[q.source]),"number"==typeof q.target&&(q.target=s[q.target]),++q.source.weight,++q.target.weight;for(b=0;b<d;++b)q=s[b],isNaN(q.x)&&(q.x=a("x",g)),isNaN(q.y)&&(q.y=a("y",h)),isNaN(q.px)&&(q.px=q.x),isNaN(q.py)&&(q.py=q.y);u=[];if("function"===typeof k)for(b=0;b<f;++b)u[b]=+k.call(this,v[b],b);
else for(b=0;b<f;++b)u[b]=k;w=[];if("function"===typeof l)for(b=0;b<f;++b)w[b]=+l.call(this,v[b],b);else for(b=0;b<f;++b)w[b]=l;x=[];if("function"===typeof p)for(b=0;b<d;++b)x[b]=+p.call(this,s[b],b);else for(b=0;b<d;++b)x[b]=p;return c.resume()};c.resume=function(){return c.alpha(.1)};c.stop=function(){return c.alpha(0)};c.drag=function(){f||(f=t.behavior.drag().origin(ka).on("dragstart.force",oh).on("drag.force",b).on("dragend.force",ph));if(!arguments.length)return f;this.on("mouseover.force",
rh).on("mouseout.force",Bh).call(f)};return t.rebind(c,d,"on")};var ti=20,ui=1,vi=Infinity;t.layout.hierarchy=function(){function a(e){var f=[e],g=[],h;for(e.depth=0;null!=(h=f.pop());)if(g.push(h),(l=c.call(a,h,h.depth))&&(k=l.length)){for(var k,l,p;0<=--k;)f.push(p=l[k]),p.parent=h,p.depth=h.depth+1;d&&(h.value=0);h.children=l}else d&&(h.value=+d.call(a,h,h.depth)||0),delete h.children;qb(e,function(a){var c,e;b&&(c=a.children)&&c.sort(b);d&&(e=a.parent)&&(e.value+=a.value)});return g}var b=Fh,
c=Dh,d=Eh;a.sort=function(c){if(!arguments.length)return b;b=c;return a};a.children=function(b){if(!arguments.length)return c;c=b;return a};a.value=function(b){if(!arguments.length)return d;d=b;return a};a.revalue=function(b){d&&(ad(b,function(a){a.children&&(a.value=0)}),qb(b,function(b){var c;b.children||(b.value=+d.call(a,b,b.depth)||0);if(c=b.parent)c.value+=b.value}));return b};return a};t.layout.partition=function(){function a(b,c,d,e){var f=b.children;b.x=c;b.y=b.depth*e;b.dx=d;b.dy=e;if(f&&
(h=f.length)){var g=-1,h,k;for(d=b.value?d/b.value:0;++g<h;)a(k=f[g],c,b=k.value*d,e),c+=b}}function b(a){a=a.children;var c=0;if(a&&(e=a.length))for(var d=-1,e;++d<e;)c=Math.max(c,b(a[d]));return 1+c}function c(f,g){var h=d.call(this,f,g);a(h[0],0,e[0],e[1]/b(h[0]));return h}var d=t.layout.hierarchy(),e=[1,1];c.size=function(a){if(!arguments.length)return e;e=a;return c};return $c(c,d)};t.layout.pie=function(){function a(f){var g=f.map(function(c,d){return+b.call(a,c,d)}),h=+("function"===typeof d?
d.apply(this,arguments):d),k=(("function"===typeof e?e.apply(this,arguments):e)-h)/t.sum(g),l=t.range(f.length);null!=c&&l.sort(c===Ug?function(a,b){return g[b]-g[a]}:function(a,b){return c(f[a],f[b])});var p=[];l.forEach(function(a){var b;p[a]={data:f[a],value:b=g[a],startAngle:h,endAngle:h+=b*k}});return p}var b=Number,c=Ug,d=0,e=Ta;a.value=function(c){if(!arguments.length)return b;b=c;return a};a.sort=function(b){if(!arguments.length)return c;c=b;return a};a.startAngle=function(b){if(!arguments.length)return d;
d=b;return a};a.endAngle=function(b){if(!arguments.length)return e;e=b;return a};return a};var Ug={};t.layout.stack=function(){function a(h,k){var l=h.map(function(c,d){return b.call(a,c,d)}),p=l.map(function(b){return b.map(function(b,c){return[f.call(a,b,c),g.call(a,b,c)]})}),m=c.call(a,p,k),l=t.permute(l,m),p=t.permute(p,m),m=d.call(a,p,k),q=l.length,r=l[0].length,s,v,u;for(v=0;v<r;++v)for(e.call(a,l[0][v],u=m[v],p[0][v][1]),s=1;s<q;++s)e.call(a,l[s][v],u+=p[s-1][v][1],p[s][v][1]);return h}var b=
ka,c=Ie,d=Je,e=Ih,f=Gh,g=Hh;a.values=function(c){if(!arguments.length)return b;b=c;return a};a.order=function(b){if(!arguments.length)return c;c="function"===typeof b?b:wi.get(b)||Ie;return a};a.offset=function(b){if(!arguments.length)return d;d="function"===typeof b?b:xi.get(b)||Je;return a};a.x=function(b){if(!arguments.length)return f;f=b;return a};a.y=function(b){if(!arguments.length)return g;g=b;return a};a.out=function(b){if(!arguments.length)return e;e=b;return a};return a};var wi=t.map({"inside-out":function(a){var b=
a.length,c,d=a.map(Jh),e=a.map(Kh),f=t.range(b).sort(function(a,b){return d[a]-d[b]}),g=0,h=0,k=[],l=[];for(a=0;a<b;++a)c=f[a],g<h?(g+=e[c],k.push(c)):(h+=e[c],l.push(c));return l.reverse().concat(k)},reverse:function(a){return t.range(a.length).reverse()},"default":Ie}),xi=t.map({silhouette:function(a){var b=a.length,c=a[0].length,d=[],e=0,f,g,h,k=[];for(g=0;g<c;++g){for(h=f=0;f<b;f++)h+=a[f][g][1];h>e&&(e=h);d.push(h)}for(g=0;g<c;++g)k[g]=(e-d[g])/2;return k},wiggle:function(a){var b=a.length,c=
a[0],d=c.length,e,f,g,h,k,l,p,m,q,r=[];r[0]=m=q=0;for(f=1;f<d;++f){for(h=e=0;e<b;++e)h+=a[e][f][1];k=e=0;for(p=c[f][0]-c[f-1][0];e<b;++e){g=0;for(l=(a[e][f][1]-a[e][f-1][1])/(2*p);g<e;++g)l+=(a[g][f][1]-a[g][f-1][1])/p;k+=l*a[e][f][1]}r[f]=m-=h?k/h*p:0;m<q&&(q=m)}for(f=0;f<d;++f)r[f]-=q;return r},expand:function(a){var b=a.length,c=a[0].length,d=1/b,e,f,g,h=[];for(f=0;f<c;++f){for(g=e=0;e<b;e++)g+=a[e][f][1];if(g)for(e=0;e<b;e++)a[e][f][1]/=g;else for(e=0;e<b;e++)a[e][f][1]=d}for(f=0;f<c;++f)h[f]=
0;return h},zero:Je});t.layout.histogram=function(){function a(f,g){var h=[],k=f.map(c,this),l=d.call(this,k,g),p=e.call(this,l,k,g),m;g=-1;for(var q=k.length,r=p.length-1,C=b?1:1/q;++g<r;)m=h[g]=[],m.dx=p[g+1]-(m.x=p[g]),m.y=0;if(0<r)for(g=-1;++g<q;)m=k[g],m>=l[0]&&m<=l[1]&&(m=h[t.bisect(p,m,1,r)-1],m.y+=C,m.push(f[g]));return h}var b=!0,c=Number,d=Nh,e=Mh;a.value=function(b){if(!arguments.length)return c;c=b;return a};a.range=function(b){if(!arguments.length)return d;d=X(b);return a};a.bins=function(b){if(!arguments.length)return e;
e="number"===typeof b?function(a){return ag(a,b)}:X(b);return a};a.frequency=function(c){if(!arguments.length)return b;b=!!c;return a};return a};t.layout.pack=function(){function a(f,g){var h=b.call(this,f,g),k=h[0],l=d[0],p=d[1],m=null==e?Math.sqrt:"function"===typeof e?e:function(){return e};k.x=k.y=0;qb(k,function(a){a.r=+m(a.value)});qb(k,dg);if(c){var q=c*(e?1:Math.max(2*k.r/l,2*k.r/p))/2;qb(k,function(a){a.r+=q});qb(k,dg);qb(k,function(a){a.r-=q})}fg(k,l/2,p/2,e?1:1/Math.max(2*k.r/l,2*k.r/p));
return h}var b=t.layout.hierarchy().sort(Oh),c=0,d=[1,1],e;a.size=function(b){if(!arguments.length)return d;d=b;return a};a.radius=function(b){if(!arguments.length)return e;e=null==b||"function"===typeof b?b:+b;return a};a.padding=function(b){if(!arguments.length)return c;c=+b;return a};return $c(a,b)};t.layout.tree=function(){function a(l,p){var m=f.call(this,l,p),q=m[0],r=b(q);qb(r,c);r.parent.m=-r.z;ad(r,d);if(k)ad(q,e);else{var C=q,s=q,t=q;ad(q,function(a){a.x<C.x&&(C=a);a.x>s.x&&(s=a);a.depth>
t.depth&&(t=a)});var v=g(C,s)/2-C.x,u=h[0]/(s.x+g(s,C)/2+v),w=h[1]/(t.depth||1);ad(q,function(a){a.x=(a.x+v)*u;a.y=a.depth*w})}return m}function b(a){a={A:null,children:[a]};for(var c=[a],d;null!=(d=c.pop());)for(var e=d.children,f,g=0,h=e.length;g<h;++g)c.push((e[g]=f={_:e[g],parent:d,children:(f=e[g].children)&&f.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:g}).a=f);return a.children[0]}function c(a){var b=a.children,d=a.parent.children,e=a.i?d[a.i-1]:null;if(b.length){for(var f=0,h=0,k=a.children,
l=k.length,p;0<=--l;)p=k[l],p.z+=f,p.m+=f,f+=p.s+(h+=p.c);b=(b[0].z+b[b.length-1].z)/2;e?(a.z=e.z+g(a._,e._),a.m=a.z-b):a.z=b}else e&&(a.z=e.z+g(a._,e._));b=a.parent;d=a.parent.A||d[0];if(e){h=f=a;k=f.parent.children[0];l=f.m;p=h.m;for(var m=e.m,q=k.m,r;e=Me(e),f=Le(f),e&&f;){k=Le(k);h=Me(h);h.a=a;r=e.z+m-f.z-l+g(e._,f._);if(0<r){var C=e.a.parent===a.parent?e.a:d,s=a,t=r,v=t/(s.i-C.i);s.c-=v;s.s+=t;C.c+=v;s.z+=t;s.m+=t;l+=r;p+=r}m+=e.m;l+=f.m;q+=k.m;p+=h.m}e&&!Me(h)&&(h.t=e,h.m+=m-p);f&&!Le(k)&&(k.t=
f,k.m+=l-q,d=a)}b.A=d}function d(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function e(a){a.x*=h[0];a.y=a.depth*h[1]}var f=t.layout.hierarchy().sort(null).value(null),g=gg,h=[1,1],k=null;a.separation=function(b){if(!arguments.length)return g;g=b;return a};a.size=function(b){if(!arguments.length)return k?null:h;k=null==(h=b)?e:null;return a};a.nodeSize=function(b){if(!arguments.length)return k?h:null;k=null==(h=b)?null:e;return a};return $c(a,f)};t.layout.cluster=function(){function a(f,g){var h=b.call(this,
f,g),k=h[0],l,p=0;qb(k,function(a){var b=a.children;b&&b.length?(a.x=Sh(b),a.y=Rh(b)):(a.x=l?p+=c(a,l):0,a.y=0,l=a)});var m=hg(k),q=ig(k),r=m.x-c(m,q)/2,C=q.x+c(q,m)/2;qb(k,e?function(a){a.x=(a.x-k.x)*d[0];a.y=(k.y-a.y)*d[1]}:function(a){a.x=(a.x-r)/(C-r)*d[0];a.y=(1-(k.y?a.y/k.y:1))*d[1]});return h}var b=t.layout.hierarchy().sort(null).value(null),c=gg,d=[1,1],e=!1;a.separation=function(b){if(!arguments.length)return c;c=b;return a};a.size=function(b){if(!arguments.length)return e?null:d;e=null==
(d=b);return a};a.nodeSize=function(b){if(!arguments.length)return e?d:null;e=null!=(d=b);return a};return $c(a,b)};t.layout.treemap=function(){function a(b,c){for(var d=-1,e=b.length,f,g;++d<e;)g=(f=b[d]).value*(0>c?0:c),f.area=isNaN(g)||0>=g?0:g}function b(c){var e=c.children;if(e&&e.length){var f=l(c),g=[],h=e.slice(),k=Infinity,p,m="slice"===q?f.dx:"dice"===q?f.dy:"slice-dice"===q?c.depth&1?f.dy:f.dx:Math.min(f.dx,f.dy);a(h,f.dx*f.dy/c.value);for(g.area=0;0<(c=h.length);){g.push(c=h[c-1]);g.area+=
c.area;if(!(c="squarify"!==q)){p=m;c=g.area;for(var s=void 0,t=0,v=Infinity,u=-1,w=g.length;++u<w;)if(s=g[u].area)s<v&&(v=s),s>t&&(t=s);c*=c;p*=p;c=(p=c?Math.max(p*t*r/c,c/(p*v*r)):Infinity)<=k}c?(h.pop(),k=p):(g.area-=g.pop().area,d(g,m,f,!1),m=Math.min(f.dx,f.dy),g.length=g.area=0,k=Infinity)}g.length&&(d(g,m,f,!0),g.length=g.area=0);e.forEach(b)}}function c(b){var e=b.children;if(e&&e.length){var f=l(b),g=e.slice(),h=[];a(g,f.dx*f.dy/b.value);for(h.area=0;b=g.pop();)h.push(b),h.area+=b.area,null!=
b.z&&(d(h,b.z?f.dx:f.dy,f,!g.length),h.length=h.area=0);e.forEach(c)}}function d(a,b,c,e){var f=-1,h=a.length,k=c.x,l=c.y,p=b?g(a.area/b):0,m;if(b==c.dx){if(e||p>c.dy)p=c.dy;for(;++f<h;)m=a[f],m.x=k,m.y=l,m.dy=p,k+=m.dx=Math.min(c.x+c.dx-k,p?g(m.area/p):0);m.z=!0;m.dx+=c.x+c.dx-k;c.y+=p;c.dy-=p}else{if(e||p>c.dx)p=c.dx;for(;++f<h;)m=a[f],m.x=k,m.y=l,m.dx=p,l+=m.dy=Math.min(c.y+c.dy-l,p?g(m.area/p):0);m.z=!1;m.dy+=c.y+c.dy-l;c.x+=p;c.dx-=p}}function e(d){d=m||f(d);var g=d[0];g.x=0;g.y=0;g.dx=h[0];
g.dy=h[1];m&&f.revalue(g);a([g],g.dx*g.dy/g.value);(m?c:b)(g);p&&(m=d);return d}var f=t.layout.hierarchy(),g=Math.round,h=[1,1],k=null,l=Ne,p=!1,m,q="squarify",r=.5*(1+Math.sqrt(5));e.size=function(a){if(!arguments.length)return h;h=a;return e};e.padding=function(a){function b(c){var d=a.call(e,c,c.depth);return null==d?Ne(c):jg(c,"number"===typeof d?[d,d,d,d]:d)}function c(b){return jg(b,a)}if(!arguments.length)return k;var d;l=null==(k=a)?Ne:"function"===(d=typeof a)?b:"number"===d?(a=[a,a,a,a],
c):c;return e};e.round=function(a){if(!arguments.length)return g!=Number;g=a?Math.round:Number;return e};e.sticky=function(a){if(!arguments.length)return p;p=a;m=null;return e};e.ratio=function(a){if(!arguments.length)return r;r=a;return e};e.mode=function(a){if(!arguments.length)return q;q=a+"";return e};return $c(e,f)};t.random={normal:function(a,b){var c=arguments.length;2>c&&(b=1);1>c&&(a=0);return function(){var c,d;do c=2*Math.random()-1,d=2*Math.random()-1,d=c*c+d*d;while(!d||1<d);return a+
b*c*Math.sqrt(-2*Math.log(d)/d)}},logNormal:function(){var a=t.random.normal.apply(t,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=t.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++)b+=Math.random();return b}}};t.scale={};var Uh={floor:ka,ceil:ka};t.scale.linear=function(){return lg([0,1],[0,1],Ha,!1)};var Xh={s:1,g:1,p:1,r:1,e:1};t.scale.log=function(){return mg(t.scale.linear().domain([0,1]),10,!0,
[1,10])};var ng=t.format(".0e"),Yh={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};t.scale.pow=function(){return og(t.scale.linear(),1,[0,1])};t.scale.sqrt=function(){return t.scale.pow().exponent(.5)};t.scale.ordinal=function(){return pg([],{t:"range",a:[[]]})};t.scale.category10=function(){return t.scale.ordinal().range(yi)};t.scale.category20=function(){return t.scale.ordinal().range(zi)};t.scale.category20b=function(){return t.scale.ordinal().range(Ai)};t.scale.category20c=
function(){return t.scale.ordinal().range(Bi)};var yi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(eb),zi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(eb),Ai=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,
14589654].map(eb),Bi=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(eb);t.scale.quantile=function(){return qg([],[])};t.scale.quantize=function(){return rg(0,1,[0,1])};t.scale.threshold=function(){return sg([.5],[0,1])};t.scale.identity=function(){return tg([0,1])};t.svg={};t.svg.arc=function(){function a(){var f=b.apply(this,arguments),g=c.apply(this,arguments),h=d.apply(this,
arguments)+$b,k=e.apply(this,arguments)+$b,l=(k<h&&(l=h,h=k,k=l),k-h),p=l<G?"0":"1",m=Math.cos(h),h=Math.sin(h),q=Math.cos(k),k=Math.sin(k);return l>=Ci?f?"M0,"+g+"A"+g+","+g+" 0 1,1 0,"+-g+"A"+g+","+g+" 0 1,1 0,"+g+"M0,"+f+"A"+f+","+f+" 0 1,0 0,"+-f+"A"+f+","+f+" 0 1,0 0,"+f+"Z":"M0,"+g+"A"+g+","+g+" 0 1,1 0,"+-g+"A"+g+","+g+" 0 1,1 0,"+g+"Z":f?"M"+g*m+","+g*h+"A"+g+","+g+" 0 "+p+",1 "+g*q+","+g*k+"L"+f*q+","+f*k+"A"+f+","+f+" 0 "+p+",0 "+f*m+","+f*h+"Z":"M"+g*m+","+g*h+"A"+g+","+g+" 0 "+p+",1 "+
g*q+","+g*k+"L0,0Z"}var b=Zh,c=$h,d=ug,e=vg;a.innerRadius=function(c){if(!arguments.length)return b;b=X(c);return a};a.outerRadius=function(b){if(!arguments.length)return c;c=X(b);return a};a.startAngle=function(b){if(!arguments.length)return d;d=X(b);return a};a.endAngle=function(b){if(!arguments.length)return e;e=X(b);return a};a.centroid=function(){var a=(b.apply(this,arguments)+c.apply(this,arguments))/2,f=(d.apply(this,arguments)+e.apply(this,arguments))/2+$b;return[Math.cos(f)*a,Math.sin(f)*
a]};return a};var $b=-Ba,Ci=Ta-D;t.svg.line=function(){return wg(ka)};var Qe=t.map({linear:Ua,"linear-closed":function(a){return Ua(a)+"Z"},step:function(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);1<c&&e.push("H",d[0]);return e.join("")},"step-before":Re,"step-after":Se,basis:xg,"basis-open":function(a){if(4>a.length)return Ua(a);for(var b=[],c=-1,d=a.length,e,f=[0],g=[0];3>++c;)e=a[c],f.push(e[0]),g.push(e[1]);b.push(Ya(Hb,f)+","+Ya(Hb,g));
for(--c;++c<d;)e=a[c],f.shift(),f.push(e[0]),g.shift(),g.push(e[1]),Ue(b,f,g);return b.join("")},"basis-closed":function(a){for(var b,c=-1,d=a.length,e=d+4,f,g=[],h=[];4>++c;)f=a[c%d],g.push(f[0]),h.push(f[1]);b=[Ya(Hb,g),",",Ya(Hb,h)];for(--c;++c<e;)f=a[c%d],g.shift(),g.push(f[0]),h.shift(),h.push(f[1]),Ue(b,g,h);return b.join("")},bundle:function(a,b){var c=a.length-1;if(c)for(var d=a[0][0],e=a[0][1],f=a[c][0]-d,g=a[c][1]-e,h=-1,k,l;++h<=c;)k=a[h],l=h/c,k[0]=b*k[0]+(1-b)*(d+l*f),k[1]=b*k[1]+(1-
b)*(e+l*g);return xg(a)},cardinal:function(a,b){return 3>a.length?Ua(a):a[0]+Nd(a,Te(a,b))},"cardinal-open":function(a,b){return 4>a.length?Ua(a):a[1]+Nd(a.slice(1,a.length-1),Te(a,b))},"cardinal-closed":function(a,b){return 3>a.length?Ua(a):a[0]+Nd((a.push(a[0]),a),Te([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(3>a.length)a=Ua(a);else{var b=a[0],c=[],d,e,f,g;d=0;e=a.length-1;var h=[];f=a[1];for(g=h[0]=Ve(a[0],f);++d<e;)h[d]=(g+(g=Ve(f,f=a[d+1])))/2;h[d]=g;for(var k=-1,l=a.length-
1;++k<l;)d=Ve(a[k],a[k+1]),K(d)<D?h[k]=h[k+1]=0:(e=h[k]/d,f=h[k+1]/d,g=e*e+f*f,9<g&&(g=3*d/Math.sqrt(g),h[k]=g*e,h[k+1]=g*f));for(k=-1;++k<=l;)g=(a[Math.min(l,k+1)][0]-a[Math.max(0,k-1)][0])/(6*(1+h[k]*h[k])),c.push([g||0,h[k]*g||0]);a=b+Nd(a,c)}return a}});Qe.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});var yg=[0,2/3,1/3,0],zg=[0,1/3,2/3,0],Hb=[0,1/6,2/3,1/6];t.svg.line.radial=function(){var a=wg(Ag);a.radius=a.x;delete a.x;a.angle=a.y;delete a.y;return a};Re.reverse=Se;Se.reverse=
Re;t.svg.area=function(){return Bg(ka)};t.svg.area.radial=function(){var a=Bg(Ag);a.radius=a.x;delete a.x;a.innerRadius=a.x0;delete a.x0;a.outerRadius=a.x1;delete a.x1;a.angle=a.y;delete a.y;a.startAngle=a.y0;delete a.y0;a.endAngle=a.y1;delete a.y1;return a};t.svg.chord=function(){function a(f,g){var h=b(this,d,f,g),k=b(this,e,f,g);return"M"+h.p0+c(h.r,h.p1,h.a1-h.a0)+(h.a0==k.a0&&h.a1==k.a1?"Q 0,0 "+h.p0:"Q 0,0 "+k.p0+c(k.r,k.p1,k.a1-k.a0)+("Q 0,0 "+h.p0))+"Z"}function b(a,c,d,e){var k=c.call(a,
d,e);c=f.call(a,k,e);d=g.call(a,k,e)+$b;a=h.call(a,k,e)+$b;return{r:c,a0:d,a1:a,p0:[c*Math.cos(d),c*Math.sin(d)],p1:[c*Math.cos(a),c*Math.sin(a)]}}function c(a,b,d){return"A"+a+","+a+" 0 "+ +(d>G)+",1 "+b}var d=ke,e=me,f=ai,g=ug,h=vg;a.radius=function(b){if(!arguments.length)return f;f=X(b);return a};a.source=function(b){if(!arguments.length)return d;d=X(b);return a};a.target=function(b){if(!arguments.length)return e;e=X(b);return a};a.startAngle=function(b){if(!arguments.length)return g;g=X(b);return a};
a.endAngle=function(b){if(!arguments.length)return h;h=X(b);return a};return a};t.svg.diagonal=function(){function a(e,f){var g=b.call(this,e,f),h=c.call(this,e,f),k=(g.y+h.y)/2,g=[g,{x:g.x,y:k},{x:h.x,y:k},h],g=g.map(d);return"M"+g[0]+"C"+g[1]+" "+g[2]+" "+g[3]}var b=ke,c=me,d=Cg;a.source=function(c){if(!arguments.length)return b;b=X(c);return a};a.target=function(b){if(!arguments.length)return c;c=X(b);return a};a.projection=function(b){if(!arguments.length)return d;d=b;return a};return a};t.svg.diagonal.radial=
function(){var a=t.svg.diagonal(),b=Cg,c=a.projection;a.projection=function(a){return arguments.length?c(bi(b=a)):b};return a};t.svg.symbol=function(){function a(d,e){return(Vg.get(b.call(this,d,e))||Dg)(c.call(this,d,e))}var b=di,c=ci;a.type=function(c){if(!arguments.length)return b;b=X(c);return a};a.size=function(b){if(!arguments.length)return c;c=X(b);return a};return a};var Vg=t.map({circle:Dg,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+
a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*Wg));var b=a*Wg;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/ee);var b=a*ee/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){a=Math.sqrt(a/ee);var b=a*ee/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});t.svg.symbolTypes=Vg.keys();var ee=Math.sqrt(3),Wg=Math.tan(30*
I),sa=[],Kg=0,bc,Rd;sa.call=Z.call;sa.empty=Z.empty;sa.node=Z.node;sa.size=Z.size;t.transition=function(a){return arguments.length?bc?a.transition():a:Jg.transition()};t.transition.prototype=sa;sa.select=function(a){var b=this.id,c=[],d,e,f;a=A(a);for(var g=-1,h=this.length;++g<h;){c.push(d=[]);for(var k=this[g],l=-1,p=k.length;++l<p;)(f=k[l])&&(e=a.call(f,f.__data__,l,g))?("__data__"in f&&(e.__data__=f.__data__),Od(e,l,b,f.__transition__[b]),d.push(e)):d.push(null)}return bd(c,b)};sa.selectAll=function(a){var b=
this.id,c=[],d,e,f,g;a=z(a);for(var h=-1,k=this.length;++h<k;)for(var l=this[h],p=-1,m=l.length;++p<m;)if(d=l[p]){g=d.__transition__[b];e=a.call(d,d.__data__,p,h);c.push(d=[]);for(var q=-1,r=e.length;++q<r;)(f=e[q])&&Od(f,q,b,g),d.push(f)}return bd(c,b)};sa.filter=function(a){var b=[],c,d,e;"function"!==typeof a&&(a=na(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]);d=this[f];for(var h=0,k=d.length;h<k;h++)(e=d[h])&&a.call(e,e.__data__,h,f)&&c.push(e)}return bd(b,this.id)};sa.tween=function(a,
b){var c=this.id;return 2>arguments.length?this.node().__transition__[c].tween.get(a):ra(this,null==b?function(b){b.__transition__[c].tween.remove(a)}:function(d){d.__transition__[c].tween.set(a,b)})};sa.attr=function(a,b){function c(){this.removeAttribute(h)}function d(){this.removeAttributeNS(h.space,h.local)}function e(a){return null==a?c:(a+="",function(){var b=this.getAttribute(h),c;return b!==a&&(c=g(b,a),function(a){this.setAttribute(h,c(a))})})}function f(a){return null==a?d:(a+="",function(){var b=
this.getAttributeNS(h.space,h.local),c;return b!==a&&(c=g(b,a),function(a){this.setAttributeNS(h.space,h.local,c(a))})})}if(2>arguments.length){for(b in a)this.attr(b,a[b]);return this}var g="transform"==a?Df:Ha,h=t.ns.qualify(a);return We(this,"attr."+a,b,h.local?f:e)};sa.attrTween=function(a,b){function c(a,d){var f=b.call(this,a,d,this.getAttribute(e));return f&&function(a){this.setAttribute(e,f(a))}}function d(a,c){var f=b.call(this,a,c,this.getAttributeNS(e.space,e.local));return f&&function(a){this.setAttributeNS(e.space,
e.local,f(a))}}var e=t.ns.qualify(a);return this.tween("attr."+a,e.local?d:c)};sa.style=function(a,b,c){function d(){this.style.removeProperty(a)}var e=arguments.length;if(3>e){if("string"!==typeof a){2>e&&(b="");for(c in a)this.style(c,a[c],b);return this}c=""}return We(this,"style."+a,b,function(b){return null==b?d:(b+="",function(){var d=Ra.getComputedStyle(this,null).getPropertyValue(a),e;return d!==b&&(e=Ha(d,b),function(b){this.style.setProperty(a,e(b),c)})})})};sa.styleTween=function(a,b,c){3>
arguments.length&&(c="");return this.tween("style."+a,function(d,e){var f=b.call(this,d,e,Ra.getComputedStyle(this,null).getPropertyValue(a));return f&&function(b){this.style.setProperty(a,f(b),c)}})};sa.text=function(a){return We(this,"text",a,ei)};sa.remove=function(){return this.each("end.transition",function(){var a;2>this.__transition__.count&&(a=this.parentNode)&&a.removeChild(this)})};sa.ease=function(a){var b=this.id;if(1>arguments.length)return this.node().__transition__[b].ease;"function"!==
typeof a&&(a=t.ease.apply(t,arguments));return ra(this,function(c){c.__transition__[b].ease=a})};sa.delay=function(a){var b=this.id;return 1>arguments.length?this.node().__transition__[b].delay:ra(this,"function"===typeof a?function(c,d,e){c.__transition__[b].delay=+a.call(c,c.__data__,d,e)}:(a=+a,function(c){c.__transition__[b].delay=a}))};sa.duration=function(a){var b=this.id;return 1>arguments.length?this.node().__transition__[b].duration:ra(this,"function"===typeof a?function(c,d,e){c.__transition__[b].duration=
Math.max(1,a.call(c,c.__data__,d,e))}:(a=Math.max(1,a),function(c){c.__transition__[b].duration=a}))};sa.each=function(a,b){var c=this.id;if(2>arguments.length){var d=Rd,e=bc;bc=c;ra(this,function(b,d,e){Rd=b.__transition__[c];a.call(b,b.__data__,d,e)});Rd=d;bc=e}else ra(this,function(d){d=d.__transition__[c];(d.event||(d.event=t.dispatch("start","end"))).on(a,b)});return this};sa.transition=function(){for(var a=this.id,b=++Kg,c=[],d,e,f,g,h=0,k=this.length;h<k;h++){c.push(d=[]);e=this[h];for(var l=
0,p=e.length;l<p;l++){if(f=e[l])g=Object.create(f.__transition__[a]),g.delay+=g.duration,Od(f,l,b,g);d.push(f)}}return bd(c,b)};t.svg.axis=function(){function a(l){l.each(function(){var a=t.select(this),l=this.__chart__||b,p=this.__chart__=b.copy(),m=null==h?p.ticks?p.ticks.apply(p,g):p.domain():h,q=null==k?p.tickFormat?p.tickFormat.apply(p,g):ka:k,r=a.selectAll(".tick").data(m,p),m=r.enter().insert("g",".domain").attr("class","tick").style("opacity",D),s=t.transition(r.exit()).style("opacity",D).remove(),
v=t.transition(r.order()).style("opacity",1),u,w=Jd(p),a=a.selectAll(".domain").data([0]),a=(a.enter().append("path").attr("class","domain"),t.transition(a));m.append("line");m.append("text");var x=m.select("line"),C=v.select("line"),q=r.select("text").text(q),r=m.select("text"),y=v.select("text");switch(c){case "bottom":u=Eg;x.attr("y2",d);r.attr("y",Math.max(d,0)+f);C.attr("x2",0).attr("y2",d);y.attr("x",0).attr("y",Math.max(d,0)+f);q.attr("dy",".71em").style("text-anchor","middle");a.attr("d",
"M"+w[0]+","+e+"V0H"+w[1]+"V"+e);break;case "top":u=Eg;x.attr("y2",-d);r.attr("y",-(Math.max(d,0)+f));C.attr("x2",0).attr("y2",-d);y.attr("x",0).attr("y",-(Math.max(d,0)+f));q.attr("dy","0em").style("text-anchor","middle");a.attr("d","M"+w[0]+","+-e+"V0H"+w[1]+"V"+-e);break;case "left":u=Fg;x.attr("x2",-d);r.attr("x",-(Math.max(d,0)+f));C.attr("x2",-d).attr("y2",0);y.attr("x",-(Math.max(d,0)+f)).attr("y",0);q.attr("dy",".32em").style("text-anchor","end");a.attr("d","M"+-e+","+w[0]+"H0V"+w[1]+"H"+
-e);break;case "right":u=Fg,x.attr("x2",d),r.attr("x",Math.max(d,0)+f),C.attr("x2",d).attr("y2",0),y.attr("x",Math.max(d,0)+f).attr("y",0),q.attr("dy",".32em").style("text-anchor","start"),a.attr("d","M"+e+","+w[0]+"H0V"+w[1]+"H"+e)}if(p.rangeBand)var z=p,A=z.rangeBand()/2,l=p=function(a){return z(a)+A};else l.rangeBand?l=p:s.call(u,p);m.call(u,l);v.call(u,p)})}var b=t.scale.linear(),c=Xg,d=6,e=6,f=3,g=[10],h=null,k;a.scale=function(c){if(!arguments.length)return b;b=c;return a};a.orient=function(b){if(!arguments.length)return c;
c=b in Di?b+"":Xg;return a};a.ticks=function(){if(!arguments.length)return g;g=arguments;return a};a.tickValues=function(b){if(!arguments.length)return h;h=b;return a};a.tickFormat=function(b){if(!arguments.length)return k;k=b;return a};a.tickSize=function(b){var c=arguments.length;if(!c)return d;d=+b;e=+arguments[c-1];return a};a.innerTickSize=function(b){if(!arguments.length)return d;d=+b;return a};a.outerTickSize=function(b){if(!arguments.length)return e;e=+b;return a};a.tickPadding=function(b){if(!arguments.length)return f;
f=+b;return a};a.tickSubdivide=function(){return arguments.length&&a};return a};var Xg="bottom",Di={top:1,right:1,bottom:1,left:1};t.svg.brush=function(){function a(f){f.each(function(){var f=t.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",e).on("touchstart.brush",e),k=f.selectAll(".background").data([0]);k.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");f.selectAll(".extent").data([0]).enter().append("rect").attr("class",
"extent").style("cursor","move");var l=f.selectAll(".resize").data(s,ka);l.exit().remove();l.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Ei[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");l.style("display",a.empty()?"none":null);f=t.transition(f);k=t.transition(k);g&&(l=Jd(g),k.attr("x",l[0]).attr("width",
l[1]-l[0]),c(f));h&&(l=Jd(h),k.attr("y",l[0]).attr("height",l[1]-l[0]),d(f));b(f)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+k[+/e$/.test(a)]+","+l[+/^s/.test(a)]+")"})}function c(a){a.select(".extent").attr("x",k[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",k[1]-k[0])}function d(a){a.select(".extent").attr("y",l[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function e(){function s(){var a=t.mouse(x),e=!1;K&&(a[0]+=K[0],
a[1]+=K[1]);F||(t.event.altKey?(I||(I=[(k[0]+k[1])/2,(l[0]+l[1])/2]),G[0]=k[+(a[0]<I[0])],G[1]=l[+(a[1]<I[1])]):I=null);D&&v(a,g,0)&&(c(A),e=!0);E&&v(a,h,1)&&(d(A),e=!0);e&&(b(A),z({type:"brush",mode:F?"move":"resize"}))}function v(a,b,c){var d=Jd(b);b=d[0];var e=d[1],d=G[c],f=c?l:k,g=f[1]-f[0];F&&(b-=d,e-=g+d);a=(c?r:q)?Math.max(b,Math.min(e,a[c])):a[c];F?b=(a+=d)+g:(I&&(d=Math.max(b,Math.min(e,2*I[c]-a))),d<a?(b=a,a=d):b=d);if(f[0]!=a||f[1]!=b)return c?m=null:p=null,f[0]=a,f[1]=b,!0}function u(){s();
A.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);t.select("body").style("cursor",null);N.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);H();z({type:"brushend"})}var x=this,y=t.select(t.event.target),z=f.of(x,arguments),A=t.select(x),B=y.datum(),D=!/^(n|s)$/.test(B)&&g,E=!/^(e|w)$/.test(B)&&h,F=y.classed("extent"),H=ua(),I,G=t.mouse(x),K,N=t.select(Ra).on("keydown.brush",
function(){32==t.event.keyCode&&(F||(I=null,G[0]-=k[1],G[1]-=l[1],F=2),w())}).on("keyup.brush",function(){32==t.event.keyCode&&2==F&&(G[0]+=k[1],G[1]+=l[1],F=0,w())});if(t.event.changedTouches)N.on("touchmove.brush",s).on("touchend.brush",u);else N.on("mousemove.brush",s).on("mouseup.brush",u);A.interrupt().selectAll("*").interrupt();if(F)G[0]=k[0]-G[0],G[1]=l[0]-G[1];else if(B){var M=+/w$/.test(B),B=+/^n/.test(B);K=[k[1-M]-G[0],l[1-B]-G[1]];G[0]=k[M];G[1]=l[B]}else t.event.altKey&&(I=G.slice());
A.style("pointer-events","none").selectAll(".resize").style("display",null);t.select("body").style("cursor",y.style("cursor"));z({type:"brushstart"});s()}var f=y(a,"brushstart","brush","brushend"),g=null,h=null,k=[0,0],l=[0,0],p,m,q=!0,r=!0,s=cf[0];a.event=function(a){a.each(function(){var a=f.of(this,arguments),b={x:k,y:l,i:p,j:m},c=this.__chart__||b;this.__chart__=b;bc?t.select(this).transition().each("start.brush",function(){p=c.i;m=c.j;k=c.x;l=c.y;a({type:"brushstart"})}).tween("brush:brush",
function(){var c=kd(k,b.x),d=kd(l,b.y);p=m=null;return function(e){k=b.x=c(e);l=b.y=d(e);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){p=b.i;m=b.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})};a.x=function(b){if(!arguments.length)return g;g=b;s=cf[!g<<1|!h];return a};a.y=function(b){if(!arguments.length)return h;h=b;s=cf[!g<<1|!h];return a};a.clamp=function(b){if(!arguments.length)return g&&
h?[q,r]:g?q:h?r:null;g&&h?(q=!!b[0],r=!!b[1]):g?q=!!b:h&&(r=!!b);return a};a.extent=function(b){var c,d,e,f,q;if(!arguments.length)return g&&(p?(c=p[0],d=p[1]):(c=k[0],d=k[1],g.invert&&(c=g.invert(c),d=g.invert(d)),d<c&&(q=c,c=d,d=q))),h&&(m?(e=m[0],f=m[1]):(e=l[0],f=l[1],h.invert&&(e=h.invert(e),f=h.invert(f)),f<e&&(q=e,e=f,f=q))),g&&h?[[c,e],[d,f]]:g?[c,d]:h&&[e,f];g&&(c=b[0],d=b[1],h&&(c=c[0],d=d[0]),p=[c,d],g.invert&&(c=g(c),d=g(d)),d<c&&(q=c,c=d,d=q),c!=k[0]||d!=k[1])&&(k=[c,d]);h&&(e=b[0],f=
b[1],g&&(e=e[1],f=f[1]),m=[e,f],h.invert&&(e=h(e),f=h(f)),f<e&&(q=e,e=f,f=q),e!=l[0]||f!=l[1])&&(l=[e,f]);return a};a.clear=function(){a.empty()||(k=[0,0],l=[0,0],p=m=null);return a};a.empty=function(){return!!g&&k[0]==k[1]||!!h&&l[0]==l[1]};return t.rebind(a,f,"on")};var Ei={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},cf=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],df=E.format=Mg.timeFormat,Yg=df.utc,Zg=
Yg("%Y-%m-%dT%H:%M:%S.%LZ");df.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Xe:Zg;Xe.parse=function(a){a=new Date(a);return isNaN(a)?null:a};Xe.toString=Zg.toString;E.second=Oa(function(a){return new Ea(1E3*Math.floor(a/1E3))},function(a,b){a.setTime(a.getTime()+1E3*Math.floor(b))},function(a){return a.getSeconds()});E.seconds=E.second.range;E.seconds.utc=E.second.utc.range;E.minute=Oa(function(a){return new Ea(6E4*Math.floor(a/6E4))},function(a,b){a.setTime(a.getTime()+6E4*
Math.floor(b))},function(a){return a.getMinutes()});E.minutes=E.minute.range;E.minutes.utc=E.minute.utc.range;E.hour=Oa(function(a){var b=a.getTimezoneOffset()/60;return new Ea(36E5*(Math.floor(a/36E5-b)+b))},function(a,b){a.setTime(a.getTime()+36E5*Math.floor(b))},function(a){return a.getHours()});E.hours=E.hour.range;E.hours.utc=E.hour.utc.range;E.month=Oa(function(a){a=E.day(a);a.setDate(1);return a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});E.months=E.month.range;
E.months.utc=E.month.utc.range;var Pd=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],ef=[[E.second,1],[E.second,5],[E.second,15],[E.second,30],[E.minute,1],[E.minute,5],[E.minute,15],[E.minute,30],[E.hour,1],[E.hour,3],[E.hour,6],[E.hour,12],[E.day,1],[E.day,2],[E.week,1],[E.month,1],[E.month,3],[E.year,1]],Fi=df.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],
["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",hb]]),fi={range:function(a,b,c){return t.range(Math.ceil(a/c)*c,+b,c).map(ac)},floor:ka,ceil:ka};ef.year=E.year;E.scale=function(){return Ye(t.scale.linear(),ef,Fi)};var $g=ef.map(function(a){return[a[0].utc,a[1]]}),Gi=Yg.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],
["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",hb]]);$g.year=E.year.utc;E.scale.utc=function(){return Ye(t.scale.linear(),$g,Gi)};t.text=Lc(function(a){return a.responseText});t.json=function(a,b){return Pb(a,"application/json",gi,b)};t.html=function(a,b){return Pb(a,"text/html",hi,b)};t.xml=Lc(function(a){return a.responseXML});
"function"===typeof define&&define.amd?define(t):"object"===typeof module&&module.exports?module.exports=t:this.d3=t}();
(function(a){a.fn.farbtastic=function(k){a.farbtastic(this,k);return this};a.farbtastic=function(k,e){k=a(k).get(0);return k.farbtastic||(k.farbtastic=new a._farbtastic(k,e))};a._farbtastic=function(k,e){var f=this;a(k).html('<div class="farbtastic"><div class="color"></div><div class="wheel"></div><div class="overlay"></div><div class="h-marker marker"></div><div class="sl-marker marker"></div></div>');var d=a(".farbtastic",k);f.wheel=a(".wheel",k).get(0);f.radius=84;f.square=100;f.width=194;navigator.appVersion.match(/MSIE [0-6]\./)&&
a("*",d).each(function(){if("none"!=this.currentStyle.backgroundImage){var d=this.currentStyle.backgroundImage,d=this.currentStyle.backgroundImage.substring(5,d.length-2);a(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+d+"')"})}});f.linkTo=function(d){"object"==typeof f.callback&&a(f.callback).unbind("keyup",f.updateValue);f.color=null;if("function"==typeof d)f.callback=d;else if("object"==typeof d||"string"==typeof d)f.callback=
a(d),f.callback.bind("keyup",f.updateValue),f.callback.get(0).value&&f.setColor(f.callback.get(0).value);return this};f.updateValue=function(a){this.value&&this.value!=f.color&&f.setColor(this.value)};f.setColor=function(a){var b=f.unpack(a);f.color!=a&&b&&(f.color=a,f.rgb=b,f.hsl=f.RGBToHSL(f.rgb),f.updateDisplay());return this};f.setHSL=function(a){f.hsl=a;f.rgb=f.HSLToRGB(a);f.color=f.pack(f.rgb);f.updateDisplay();return this};f.widgetCoords=function(d){var b,c,e=d.target||d.srcElement,k=f.wheel;
if("undefined"!=typeof d.offsetX){var p={x:d.offsetX,y:d.offsetY};for(d=e;d;)d.mouseX=p.x,d.mouseY=p.y,p.x+=d.offsetLeft,p.y+=d.offsetTop,d=d.offsetParent;d=k;for(p=k=0;d;){if("undefined"!=typeof d.mouseX){b=d.mouseX-k;c=d.mouseY-p;break}k+=d.offsetLeft;p+=d.offsetTop;d=d.offsetParent}for(d=e;d;)d.mouseX=void 0,d.mouseY=void 0,d=d.offsetParent}else p=f.absolutePosition(k),b=(d.pageX||0*(d.clientX+a("html").get(0).scrollLeft))-p.x,c=(d.pageY||0*(d.clientY+a("html").get(0).scrollTop))-p.y;return{x:b-
f.width/2,y:c-f.width/2}};f.mousedown=function(d){document.dragging||(a(document).bind("mousemove",f.mousemove).bind("mouseup",f.mouseup),document.dragging=!0);var b=f.widgetCoords(d);f.circleDrag=2*Math.max(Math.abs(b.x),Math.abs(b.y))>f.square;f.mousemove(d);return!1};f.mousemove=function(a){var b=f.widgetCoords(a);f.circleDrag?(a=Math.atan2(b.x,-b.y)/6.28,0>a&&(a+=1),f.setHSL([a,f.hsl[1],f.hsl[2]])):(a=Math.max(0,Math.min(1,-(b.x/f.square)+.5)),b=Math.max(0,Math.min(1,-(b.y/f.square)+.5)),f.setHSL([f.hsl[0],
a,b]));return!1};f.mouseup=function(){a(document).unbind("mousemove",f.mousemove);a(document).unbind("mouseup",f.mouseup);document.dragging=!1};f.updateDisplay=function(){var e=6.28*f.hsl[0];a(".h-marker",d).css({left:Math.round(Math.sin(e)*f.radius+f.width/2)+"px",top:Math.round(-Math.cos(e)*f.radius+f.width/2)+"px"});a(".sl-marker",d).css({left:Math.round(f.square*(.5-f.hsl[1])+f.width/2)+"px",top:Math.round(f.square*(.5-f.hsl[2])+f.width/2)+"px"});a(".color",d).css("backgroundColor",f.pack(f.HSLToRGB([f.hsl[0],
1,.5])));"object"==typeof f.callback?(a(f.callback).css({backgroundColor:f.color,color:.5<f.hsl[2]?"#000":"#fff"}),a(f.callback).each(function(){if(this.value&&this.value!=f.color){var a;a=f.color;var c={"#000000":"Black","#000080":"Navy Blue","#00008b":"Web Dark Blue","#0000c8":"Dark Blue","#0000cd":"Medium Blue","#0000ff":"Blue","#000741":"Stratos","#001b1c":"Swamp","#002387":"Resolution Blue","#002900":"Deep Fir","#002e20":"Burnham","#002fa7":"International Klein Blue","#003153":"Prussian Blue",
"#003366":"Midnight Blue","#003399":"Smalt","#003532":"Deep Teal","#003e40":"Cyprus","#004620":"Kaitoke Green","#0047ab":"Cobalt","#004816":"Crusoe","#004950":"Sherpa Blue","#0056a7":"Endeavour","#00581a":"Camarone","#006400":"Dark Green","#0066cc":"Science Blue","#0066ff":"Blue Ribbon","#00755e":"Tropical Rain Forest","#0076a3":"Allports","#007ba7":"Deep Cerulean","#007ec7":"Lochmara","#007fff":"Azure Radiance","#008000":"Web Green","#008080":"Teal","#008b8b":"Dark Cyan","#0095b6":"Bondi Blue","#009dc4":"Pacific Blue",
"#00a693":"Persian Green","#00a86b":"Jade","#00bfbf":"PyMOL teal","#00bfff":"Deep Sky Blue","#00cc99":"Caribbean Green","#00cccc":"Robin's Egg Blue","#00ced1":"Dark Turquoise","#00fa9a":"Medium Spring Green","#00ff00":"Green","#00ff7f":"Spring Green","#00ffff":"Cyan/Aqua","#010d1a":"Blue Charcoal","#011635":"Midnight","#011d13":"Holly","#012731":"Daintree","#01361c":"Cardin Green","#01371a":"County Green","#013e62":"Astronaut Blue","#013f6a":"Regal Blue","#014b43":"Aqua Deep","#015e85":"Orient","#016162":"Blue Stone",
"#016d39":"Fun Green","#01796f":"Pine Green","#017987":"Blue Lagoon","#01826b":"Deep Sea","#01a368":"Green Haze","#022d15":"English Holly","#02402c":"Sherwood Green","#02478e":"Congress Blue","#024e46":"Evening Sea","#026395":"Bahama Blue","#02866f":"Observatory","#02a4d3":"Cerulean","#03163c":"Tangaroa","#032b52":"Green Vogue","#036a6e":"Mosque","#041004":"Midnight Moss","#041322":"Black Pearl","#042e4c":"Blue Whale","#044022":"Zuccini","#044259":"Teal Blue","#051040":"Deep Cove","#051657":"Gulf Blue",
"#055989":"Venice Blue","#056f57":"Watercourse","#062a78":"Catalina Blue","#063537":"Tiber","#069b81":"Gossamer","#06a189":"Niagara","#073a50":"Tarawera","#080110":"Jaguar","#081910":"Black Bean","#082567":"Deep Sapphire","#088370":"Elf Green","#08e8de":"Bright Turquoise","#092256":"Downriver","#09230f":"Palm Green","#09255d":"Madison","#093624":"Bottle Green","#095859":"Deep Sea Green","#097f4b":"Salem","#0a001c":"Black Russian","#0a480d":"Dark Fern","#0a6906":"Japanese Laurel","#0a6f75":"Atoll",
"#0b0b0b":"Cod Gray","#0b0f08":"Marshland","#0b1107":"Gordons Green","#0b1304":"Black Forest","#0b6207":"San Felix","#0bda51":"Malachite","#0c0b1d":"Ebony","#0c0d0f":"Woodsmoke","#0c1911":"Racing Green","#0c7a79":"Surfie Green","#0c8990":"Blue Chill","#0d0332":"Black Rock","#0d1117":"Bunker","#0d1c19":"Aztec","#0d2e1c":"Bush","#0e0e18":"Cinder","#0e2a30":"Firefly","#0f2d9e":"Torea Bay","#10121d":"Vulcan","#101405":"Green Waterloo","#105852":"Eden","#110c6c":"Arapawa","#120a8f":"Ultramarine","#123447":"Elephant",
"#126b40":"Jewel","#130000":"Diesel","#130a06":"Asphalt","#13264d":"Blue Zodiac","#134f19":"Parsley","#140600":"Nero","#1450aa":"Tory Blue","#151f4c":"Bunting","#1560bd":"Denim","#15736b":"Genoa","#161928":"Mirage","#161d10":"Hunter Green","#162a40":"Big Stone","#163222":"Celtic","#16322c":"Timber Green","#163531":"Gable Green","#171f04":"Pine Tree","#175579":"Chathams Blue","#182d09":"Deep Forest Green","#18587a":"Blumine","#191919":"Gray10","#191970":"Web Midnight Blue","#191999":"Density","#19330e":"Palm Leaf",
"#193751":"Nile Blue","#1959a8":"Fun Blue","#199999":"Deep Teal","#1a1a68":"Lucky Point","#1ab385":"Mountain Meadow","#1b0245":"Tolopea","#1b1035":"Haiti","#1b127b":"Deep Koamaru","#1b1404":"Acadia","#1b2f11":"Seaweed","#1b3162":"Biscay","#1b659d":"Matisse","#1c1208":"Crowshead","#1c1e13":"Rangoon Green","#1c39bb":"Persian Blue","#1c402e":"Everglade","#1c7c7d":"Elm","#1d6142":"Green Pea","#1e0f04":"Creole","#1e1609":"Karaka","#1e1708":"El Paso","#1e385b":"Cello","#1e433c":"Te Papa Green","#1e90ff":"Dodger Blue",
"#1e9ab0":"Eastern Blue","#1f120f":"Night Rider","#1fc2c2":"Java","#20208d":"Jacksons Purple","#202e54":"Cloud Burst","#204852":"Blue Dianne","#20b2aa":"Light Sea Green","#211a0e":"Eternity","#220878":"Deep Blue","#228b22":"Forest Green","#233418":"Mallard","#240a40":"Violet","#240c02":"Kilamanjaro","#242a1d":"Log Cabin","#242e16":"Black Olive","#24500f":"Green House","#251607":"Graphite","#251706":"Cannon Black","#251f4f":"Port Gore","#25272c":"Shark","#25311c":"Green Kelp","#2596d1":"Curious Blue",
"#260368":"Paua","#26056a":"ParisM","#261105":"Wood Bark","#261414":"Gondola","#262335":"Steel Gray","#26283b":"Ebony Clay","#273a81":"Bay of Many","#27504b":"Plantation","#278a5b":"Eucalyptus","#281e15":"Oil","#283a77":"Astronaut","#286acd":"Mariner","#290c5e":"Violent Violet","#292130":"Bastille","#292319":"Zeus","#292937":"Charade","#297b9a":"Jelly Bean","#29ab87":"Jungle Green","#2a0359":"Cherry Pie","#2a140e":"Coffee Bean","#2a2630":"Baltic Sea","#2a380b":"Turtle Green","#2a52be":"Cerulean Blue",
"#2b0202":"Sepia Black","#2b194f":"Valhalla","#2b3228":"Heavy Metal","#2c0e8c":"Blue Gem","#2c1632":"Revolver","#2c2133":"Bleached Cedar","#2c8c84":"Lochinvar","#2d2510":"Mikado","#2d383a":"Outer Space","#2d569b":"St Tropaz","#2e0329":"Jacaranda","#2e1905":"Jacko Bean","#2e3222":"Rangitoto","#2e3f62":"Rhino","#2e8b57":"Sea Green","#2ebfd4":"Scooter","#2f270e":"Onion","#2f3cb3":"Governor Bay","#2f4f4f":"Dark Slate Gray","#2f519e":"Sapphire","#2f5a57":"Spectra","#2f6168":"Casal","#300529":"Melanzane",
"#301f1e":"Cocoa Brown","#302a0f":"Woodrush","#304b6a":"San Juan","#30d5c8":"Turquoise","#311c17":"Eclipse","#314459":"Pickled Bluewood","#315ba1":"Azure","#31728d":"Calypso","#317d82":"Paradiso","#32127a":"Persian Indigo","#32293a":"Blackcurrant","#323232":"Mine Shaft","#325d52":"Stromboli","#327c14":"Bilbao","#327da0":"Astral","#32cd32":"Lime Green","#33036b":"Christalle","#33292f":"Thunder","#333333":"Gray20","#337fcc":"PyMOL skyblue","#339933":"Forest","#33cc99":"Shamrock","#33ff33":"tv_green",
"#341515":"Tamarind","#350036":"Mardi Gras","#350e42":"Valentino","#350e57":"Jagger","#353542":"Tuna","#354e8c":"Chambray","#363050":"Martinique","#363534":"Tuatara","#363c0d":"Waiouru","#36747d":"Ming","#368716":"La Palma","#370202":"Chocolate","#371d09":"Clinker","#37290e":"Brown Tumbleweed","#373021":"Birch","#377475":"Oracle","#380474":"Blue Diamond","#381a51":"Grape","#383533":"Dune","#384555":"Oxford Blue","#384910":"Clover","#394851":"Limed Spruce","#396413":"Dell","#3a0020":"Toledo","#3a2010":"Sambuca",
"#3a2a6a":"Jacarta","#3a686c":"William","#3a6a47":"Killarney","#3ab09e":"Keppel","#3b000b":"Temptress","#3b0910":"Aubergine","#3b1f1f":"Jon","#3b2820":"Treehouse","#3b7a57":"Amazon","#3b91b4":"Boston Blue","#3c0878":"Windsor","#3c1206":"Rebel","#3c1f76":"Meteorite","#3c2005":"Dark Ebony","#3c3910":"Camouflage","#3c4151":"Bright Gray","#3c4443":"Cape Cod","#3c493a":"Lunar Green","#3cb371":"Medium Sea Green","#3d0c02":"Bean","#3d2b1f":"Bistre","#3d7d52":"Goblin","#3e0480":"Kingfisher Daisy","#3e1c14":"Cedar",
"#3e2b23":"English Walnut","#3e2c1c":"Black Marlin","#3e3a44":"Ship Gray","#3eabbf":"Pelorous","#3f2109":"Bronze","#3f2500":"Cola","#3f3002":"Madras","#3f307f":"Minsk","#3f3fa5":"PyMOL Deep Blue","#3f4c3a":"Cabbage Pont","#3f583b":"Tom Thumb","#3f5d53":"Mineral Green","#3fc1aa":"Puerto Rico","#3fff00":"Harlequin","#3fffbf":"Green Cyan","#401801":"Brown Pod","#40291d":"Cork","#403b38":"Masala","#403d19":"Thatch Green","#405169":"Fiord","#40826d":"Viridian","#40a860":"Chateau Green","#40e0d0":"Web Turquoise",
"#410056":"Ripe Plum","#411f10":"Paco","#412010":"Deep Oak","#413c37":"Merlin","#414257":"Gun Powder","#414c7d":"East Bay","#4169e1":"Royal Blue","#41aa78":"Ocean Green","#420303":"Burnt Maroon","#423921":"Lisbon Brown","#427977":"Faded Jade","#431560":"Scarlet Gum","#433120":"Iroko","#433e37":"Armadillo","#434c59":"River Bed","#436a0d":"Green Leaf","#44012d":"Barossa","#441d00":"Morocco Brown","#444954":"Mako","#454936":"Kelp","#456cac":"San Marino","#45b1e8":"Picton Blue","#460b41":"Loulou","#462425":"Crater Brown",
"#465945":"Gray Asparagus","#4682b4":"Steel Blue","#480404":"Rustic Red","#480607":"Bulgarian Rose","#480656":"Clairvoyant","#481c1c":"Cocoa Bean","#483131":"Woody Brown","#483c32":"Taupe","#483d8b":"Dark Slate Blue","#48d1cc":"Medium Turquoise","#49170c":"Van Cleef","#492615":"Brown Derby","#49371b":"Metallic Bronze","#495400":"Verdun Green","#496679":"Blue Bayoux","#497183":"Bismark","#4a2a04":"Bracken","#4a3004":"Deep Bronze","#4a3c30":"Mondo","#4a4244":"Tundora","#4a444b":"Gravel","#4a4e5a":"Trout",
"#4b0082":"Pigment Indigo","#4b5d52":"Nandor","#4c3024":"Saddle","#4c4c4c":"Gray30","#4c4cff":"tv_blue","#4c4f56":"Abbey","#4d0135":"Blackberry","#4d0a18":"Cab Sav","#4d1e01":"Indian Tan","#4d282d":"Cowboy","#4d282e":"Livid Brown","#4d3833":"Rock","#4d3d14":"Punga","#4d400f":"Bronzetone","#4d5328":"Woodland","#4e0606":"Mahogany","#4e2a5a":"Bossanova","#4e3b41":"Matterhorn","#4e420c":"Bronze Olive","#4e4562":"Mulled Wine","#4e6649":"Axolotl","#4e7f9e":"Wedgewood","#4eabd1":"Shakespeare","#4f1c70":"Honey Flower",
"#4f2398":"Daisy Bush","#4f69c6":"Indigo","#4f7942":"Fern Green","#4f9d5d":"Fruit Salad","#4fa83d":"Apple","#504351":"Mortar","#507096":"Kashmir Blue","#507672":"Cutty Sark","#50c878":"Emerald","#514649":"Emperor","#516e3d":"Chalet Green","#517c66":"Como","#51808f":"Smalt Blue","#52001f":"Castro","#520c17":"Maroon Oak","#523c94":"Gigas","#533455":"Voodoo","#534491":"Victoria","#53824b":"Hippie Green","#541012":"Heath","#544333":"Judge Gray","#54534d":"Fuscous Gray","#549019":"Vida Loca","#55280c":"Cioccolato",
"#555b10":"Saratoga","#556b2f":"Dark Olive Green","#556d56":"Finlandia","#5590d9":"Havelock Blue","#56b4be":"Fountain Blue","#578363":"Spring Leaves","#583401":"Saddle Brown","#585562":"Scarpa Flow","#587156":"Cactus","#589aaf":"Hippie Blue","#591d35":"Wine Berry","#592804":"Brown Bramble","#593737":"Congo Brown","#594433":"Millbrook","#5a6e9c":"Waikawa Gray","#5a87a0":"Horizon","#5b3013":"Jambalaya","#5c0120":"Bordeaux","#5c0536":"Mulberry Wood","#5c2e01":"Carnaby Tan","#5c5d75":"Comet","#5d1e0f":"Redwood",
"#5d4c51":"Don Juan","#5d5c58":"Chicago","#5d5e37":"Verdigris","#5d7747":"Dingley","#5da19f":"Breaker Bay","#5e483e":"Kabul","#5e5d3b":"Hemlock","#5f3d26":"Irish Coffee","#5f5f6e":"Mid Gray","#5f6672":"Shuttle Gray","#5f9ea0":"Web Cadet Blue","#5fa777":"Aqua Forest","#5fb3ac":"Tradewind","#604913":"Horses Neck","#605b73":"Smoky","#606e68":"Corduroy","#6093d1":"Danube","#612718":"Espresso","#614051":"Eggplant","#615d30":"Costa Del Sol","#61845f":"Glade Green","#622f30":"Buccaneer","#623f2d":"Quincy",
"#624e9a":"Butterfly Bush","#625119":"West Coast","#626649":"Finch","#639a8f":"Patina","#63b76c":"Fern","#6456b7":"Blue Violet","#646077":"Dolphin","#646463":"Storm Dust","#646a54":"Siam","#646e75":"Nevada","#6495ed":"Cornflower Blue","#64ccdb":"Viking","#65000b":"Rosewood","#651a14":"Cherrywood","#652dc1":"Purple Heart","#657220":"Fern Frond","#65745d":"Willow Grove","#65869f":"Hoki","#660045":"Pompadour","#660099":"Purple","#66023c":"Tyrian Purple","#661010":"Dark Tan","#666666":"Gray40","#66b2b2":"Light Teal",
"#66b58f":"Silver Tree","#66cdaa":"Medium Aquamarine","#66ff00":"Bright Green","#66ff66":"Screamin'Green","#67032d":"Black Rose","#675fa6":"Scampi","#676662":"Ironside Gray","#678975":"Viridian Green","#67a712":"Christi","#683600":"Nutmeg Wood Finish","#685558":"Zambezi","#685e6e":"Salt Box","#692545":"Tawny Port","#692d54":"Finn","#695f62":"Scorpion","#696969":"Dim Gray","#697e9a":"Lynch","#6a442e":"Spice","#6a5acd":"Slate Blue","#6a5d1b":"Himalaya","#6a6051":"Soya Bean","#6b2a14":"Hairy Heath",
"#6b3fa0":"Royal Purple","#6b4e31":"Shingle Fawn","#6b5755":"Dorado","#6b8ba2":"Bermuda Gray","#6b8e23":"Olive Drab","#6c3082":"Eminence","#6cdae7":"Turquoise Blue","#6d0101":"Lonestar","#6d5e54":"Pine Cone","#6d6c6c":"Dove Gray","#6d9292":"Juniper","#6d92a1":"Gothic","#6e0902":"Red Oxide","#6e1d14":"Moccaccino","#6e4826":"Pickled Bean","#6e4b26":"Dallas","#6e6d57":"Kokoda","#6e7783":"Pale Sky","#6f440c":"Cafe Royale","#6f6a61":"Flint","#6f8e63":"Highland","#6f9d02":"Limeade","#6fd0c5":"Downy","#701c1c":"Persian Plum",
"#704214":"Sepia","#704a07":"Antique Bronze","#704f50":"Ferra","#706555":"Coffee","#708090":"Slate Gray","#711a00":"Cedar Wood Finish","#71291d":"Metallic Copper","#714693":"Affair","#714ab2":"Studio","#715d47":"Tobacco Brown","#716338":"Yellow Metal","#716b56":"Peat","#716e10":"Olivetone","#717486":"Storm Gray","#718080":"Sirocco","#71d9e2":"Aquamarine Blue","#72010f":"Venetian Red","#724a2f":"Old Copper","#726d4e":"Go Ben","#727b89":"Raven","#731e8f":"Seance","#734a12":"Raw Umber","#736c9f":"Kimberly",
"#736d58":"Crocodile","#737829":"Crete","#738678":"Xanadu","#74640d":"Spicy Mustard","#747d63":"Limed Ash","#747d83":"Rolling Stone","#748881":"Blue Smoke","#749378":"Laurel","#74c365":"Mantis","#755a57":"Russett","#7563a8":"Deluge","#76395d":"Cosmic","#7666c6":"Blue Marguerite","#76bd17":"Lima","#76d7ea":"Sky Blue","#770f05":"Dark Burgundy","#771f1f":"Crown of Thorns","#773f1a":"Walnut","#776f61":"Pablo","#778120":"Pacifika","#778899":"Light Slate Gray","#779e86":"Oxley","#77dd77":"Pastel Green",
"#780109":"Japanese Maple","#782d19":"Mocha","#782f16":"Peanut","#78866b":"Camouflage Green","#788a25":"Wasabi","#788bba":"Ship Cove","#78a39c":"Sea Nymph","#795d4c":"Roman Coffee","#796878":"Old Lavender","#796989":"Rum","#796a78":"Fedora","#796d62":"Sandstone","#79deec":"Spray","#7a013a":"Siren","#7a58c1":"Fuchsia Blue","#7a7a7a":"Boulder","#7a89b8":"Wild Blue Yonder","#7ac488":"De York","#7b3801":"Red Beech","#7b3f00":"Cinnamon","#7b6608":"Yukon Gold","#7b68ee":"Medium Slate Blue","#7b7874":"Tapa",
"#7b7c94":"Waterloo","#7b8265":"Flax Smoke","#7b9f80":"Amulet","#7ba05b":"Asparagus","#7c1c05":"Kenyan Copper","#7c7631":"Pesto","#7c778a":"Topaz","#7c7b7a":"Concord","#7c7b82":"Jumbo","#7c881a":"Trendy Green","#7ca1a6":"Gumbo","#7cb0a1":"Acapulco","#7cb7bb":"Neptune","#7cfc00":"Lawn Green","#7d2c14":"Pueblo","#7da98d":"Bay Leaf","#7dc8f7":"Malibu","#7dd8c6":"Bermuda","#7e3a15":"Copper Canyon","#7f00ff":"Purple Blue","#7f1734":"Claret","#7f3a02":"Peru Tan","#7f626d":"Falcon","#7f7589":"Mobster","#7f76d3":"Moody Blue",
"#7f7f7f":"Gray50","#7f7fff":"Slate","#7fff00":"Chartreuse","#7fff7f":"PyMOL lime","#7fffd4":"Aquamarine","#7fffff":"PyMOL aquamarine","#800000":"Maroon","#800080":"Web Purple","#800b47":"Rose Bud Cherry","#801818":"Falu Red","#80341f":"Red Robin","#803790":"Vivid Violet","#80461b":"Russet","#807e79":"Friar Gray","#808000":"Olive","#808080":"Gray","#80b3ae":"Gulf Stream","#80b3c4":"Glacier","#80ccea":"Seagull","#81422c":"Nutmeg","#816e71":"Spicy Pink","#817377":"Empress","#819885":"Spanish Green",
"#826f65":"Sand Dune","#828685":"Gunsmoke","#828f72":"Battleship Gray","#831923":"Merlot","#837050":"Shadow","#83aa5d":"Chelsea Cucumber","#83d0c6":"Monte Carlo","#843179":"Plum","#84a0a0":"Granny Smith","#84bf00":"Split Pea","#8581d9":"Chetwode Blue","#858470":"Bandicoot","#859faf":"Bali Hai","#85c4cc":"Half Baked","#860111":"Red Devil","#863c3c":"Lotus","#86483c":"Ironstone","#864d1e":"Bull Shot","#86560a":"Rusty Nail","#868974":"Bitter","#86949f":"Regent Gray","#871550":"Disco","#87756e":"Americano",
"#877c7b":"Hurricane","#878d91":"Oslo Gray","#87ab39":"Sushi","#87ceeb":"Web Sky Blue","#87cefa":"Light Sky Blue","#885342":"Spicy Mix","#886221":"Kumera","#888387":"Suva Gray","#888d65":"Avocado","#893456":"Camelot","#893843":"Solid Pink","#894367":"Cannon Pink","#897d6d":"Makara","#8a2be2":"Web Blue Violet","#8a3324":"Burnt Umber","#8a73d6":"TrueV","#8a8360":"Clay Creek","#8a8389":"Monsoon","#8a8f8a":"Stack","#8ab9f1":"Jordy Blue","#8b0000":"Dark Red","#8b008b":"Dark Magenta","#8b00ff":"Electric Violet",
"#8b0723":"Monarch","#8b4513":"Web Saddle Brown","#8b6b0b":"Corn Harvest","#8b8470":"Olive Haze","#8b847e":"Schooner","#8b8680":"Natural Gray","#8b9c90":"Mantle","#8b9fee":"Portage","#8ba690":"Envy","#8ba9a5":"Cascade","#8be6d8":"Riptide","#8c055e":"Cardinal Pink","#8c3f99":"Violet Purple","#8c472f":"Mule Fawn","#8c5738":"Potters Clay","#8c6495":"Trendy Pink","#8cb266":"Smudge","#8d0226":"Paprika","#8d381c":"PyMOL chocolate","#8d3d38":"Sanguine Brown","#8d3f3f":"Tosca","#8d7662":"Cement","#8d8974":"Granite Green",
"#8d90a1":"Manatee","#8da8cc":"Polo Blue","#8e0000":"Red Berry","#8e4d1e":"Rope","#8e6f70":"Opium","#8e775e":"Domino","#8e8190":"Mamba","#8eabc1":"Nepal","#8f021c":"Pohutukawa","#8f3e33":"El Salva","#8f4b0e":"Korma","#8f8176":"Squirrel","#8fbc8f":"Dark Sea Green","#8fd6b4":"Vista Blue","#900020":"Burgundy","#901e1e":"Old Brick","#907874":"Hemp","#907b71":"Almond Frost","#908d39":"Sycamore","#90ee90":"Light Green","#92000a":"Sangria","#924321":"Cumin","#926f5b":"Beaver","#928573":"Stonewall","#928590":"Venus",
"#9370d8":"Medium Purple","#9370db":"Medium Purple","#93ccea":"Cornflower","#93dfb8":"Algae Green","#9400d3":"Dark Violet","#944747":"Copper Rust","#948771":"Arrowtown","#950015":"Scarlett","#956387":"Strikemaster","#959396":"Mountain Mist","#960018":"Carmine","#964b00":"Brown","#967059":"Leather","#9678b6":"Purple Mountain's Majesty","#967bb6":"Lavender Purple","#96a8a1":"Pewter","#96bbab":"Summer Green","#97605d":"Au Chico","#9771b5":"Wisteria","#97cd2d":"Atlantis","#983d61":"Vin Rouge","#9874d3":"Lilac Bush",
"#98777b":"Bazaar","#98811b":"Hacienda","#988d77":"Pale Oyster","#98fb98":"Pale Green","#98ff98":"Mint Green","#990066":"Fresh Eggplant","#991199":"Violet Eggplant","#991613":"Tamarillo","#991999":"Deep Purple","#991b07":"Totem Pole","#9932cc":"Dark Orchid","#993333":"Ruby","#996666":"Copper Rose","#9966cc":"Amethyst","#997a8d":"Mountbatten Pink","#999919":"Deep Olive","#999999":"Gray60","#9999cc":"Blue Bell","#9a3820":"Prairie Sand","#9a6e61":"Toast","#9a9577":"Gurkha","#9ab973":"Olivine","#9ac2b8":"Shadow Green",
"#9acd32":"Web Yellow Green","#9b4703":"Oregon","#9b9e8f":"Lemon Grass","#9c3336":"Stiletto","#9d5616":"Hawaiian Tan","#9dacb7":"Gull Gray","#9dc209":"Pistachio","#9de093":"Granny Smith Apple","#9de5ff":"Anakiwa","#9e5302":"Chelsea Gem","#9e5b40":"Sepia Skin","#9ea587":"Sage","#9ea91f":"Citron","#9eb1cd":"Rock Blue","#9edee0":"Morning Glory","#9f381d":"Cognac","#9f821c":"Reef Gold","#9f9f9c":"Star Dust","#9fa0b1":"Santas Gray","#9fd7d3":"Sinbad","#9fdd8c":"Feijoa","#a02712":"Tabasco","#a0522d":"Sienna",
"#a1750d":"Buttered Rum","#a1adb5":"Hit Gray","#a1c50a":"Citrus","#a1dad7":"Aqua Island","#a1e9de":"Water Leaf","#a2006d":"Flirt","#a23b6c":"Rouge","#a26645":"Cape Palliser","#a2aab3":"Gray Chateau","#a2aeab":"Edward","#a3807b":"Pharlap","#a397b4":"Amethyst Smoke","#a3e3ed":"Blizzard Blue","#a4a49d":"Delta","#a4a6d3":"Wistful","#a4af6e":"Green Smoke","#a50b5e":"Jazzberry Jam","#a52a2a":"Web Brown","#a5512b":"PyMOL brown","#a59b91":"Zorba","#a5cb0c":"Bahia","#a5e5a5":"PyMOL palegreen","#a62f20":"Roof Terracotta",
"#a65529":"Paarl","#a68b5b":"Barley Corn","#a69279":"Donkey Brown","#a6a29a":"Dawn","#a72525":"Mexican Red","#a7882c":"Luxor Gold","#a85307":"Rich Gold","#a86515":"Reno Sand","#a86b6b":"Coral Tree","#a8989b":"Dusty Gray","#a899e6":"Dull Lavender","#a8a589":"Tallow","#a8ae9c":"Bud","#a8af8e":"Locust","#a8bd9f":"Norway","#a8e3bd":"Chinook","#a9a491":"Gray Olive","#a9a9a9":"Dark Gray","#a9acb6":"Aluminium","#a9b2c3":"Cadet Blue","#a9b497":"Schist","#a9bdbf":"Tower Gray","#a9bef2":"Perano","#a9c6c2":"Opal",
"#aa375a":"Night Shadz","#aa4203":"Fire","#aa8b5b":"Muesli","#aa8d6f":"Sandal","#aaa5a9":"Shady Lady","#aaa9cd":"Logan","#aaabb7":"Spun Pearl","#aad6e6":"Regent St Blue","#aaf0d1":"Magic Mint","#ab0563":"Lipstick","#ab3472":"Royal Heath","#ab917a":"Sandrift","#aba0d9":"Cold Purple","#aba196":"Bronco","#ac8a56":"Limed Oak","#ac91ce":"East Side","#ac9e22":"Lemon Ginger","#aca494":"Napa","#aca586":"Hillary","#aca59f":"Cloudy","#acacac":"Silver Chalice","#acb78e":"Swamp Green","#accbb1":"Spring Rain",
"#acdd4d":"Conifer","#ace1af":"Celadon","#ad781b":"Mandalay","#adbed1":"Casper","#add8e6":"Light Blue","#addfad":"Moss Green","#ade6c4":"Padua","#adff2f":"Green Yellow","#ae4560":"Hippie Pink","#ae6020":"Desert","#ae809e":"Bouquet","#af4035":"Medium Carmine","#af4d43":"Apple Blossom","#af593e":"Brown Rust","#af8751":"Driftwood","#af8f2c":"Alpine","#af9f1c":"Lucky","#afa09e":"Martini","#afb1b8":"Bombay","#afbdd9":"Pigeon Post","#afeeee":"Pale Turquoise","#b04c6a":"Cadillac","#b05d54":"Matrix","#b05e81":"Tapestry",
"#b06608":"Mai Tai","#b09a95":"Del Rio","#b0c4de":"Light Steel Blue","#b0e0e6":"Powder Blue","#b0e313":"Inch Worm","#b10000":"Bright Red","#b12121":"PyMOL firebrick","#b14a0b":"Vesuvius","#b1610b":"Pumpkin Skin","#b16d52":"Santa Fe","#b19461":"Teak","#b1e2c1":"Fringy Flower","#b1f4e7":"Ice Cold","#b20931":"Shiraz","#b22222":"Fire Brick","#b24c66":"Raspberry","#b27f7f":"Dirty Violet","#b2a1ea":"Biloba Flower","#b2b2b2":"Gray70","#b32d29":"Tall Poppy","#b35213":"Fiery Orange","#b38007":"Hot Toddy",
"#b3af95":"Taupe Gray","#b3c110":"La Rioja","#b43332":"Well Read","#b44668":"Blush","#b4cfd3":"Jungle Mist","#b57281":"Turkish Rose","#b57edc":"Lavender","#b5a27f":"Mongoose","#b5b35c":"Olive Green","#b5d2ce":"Jet Stream","#b5ecdf":"Cruise","#b6316c":"Hibiscus","#b69d98":"Thatch","#b6b095":"Heathered Gray","#b6baa4":"Eagle","#b6d1ea":"Spindle","#b6d3bf":"Gum Leaf","#b7410e":"Rust","#b78c4c":"Sand","#b78e5c":"Muddy Waters","#b7a214":"Sahara","#b7a458":"Husk","#b7b1b1":"Nobel","#b7c3d0":"Heather","#b7f0be":"Madang",
"#b81104":"Milano Red","#b87333":"Copper","#b8860b":"Dark Goldenrod","#b8b56a":"Gimblet","#b8c1b1":"Green Spring","#b8c25d":"Celery","#b8e0f9":"Sail","#b94e48":"Chestnut","#b95140":"Crail","#b98d28":"Marigold","#b9c46a":"Wild Willow","#b9c8ac":"Rainee","#ba0101":"Guardsman Red","#ba450c":"Rock Spray","#ba55d3":"Medium Orchid","#ba6f1e":"Bourbon","#ba7f03":"Pirate Gold","#ba8c84":"PyMOL darksalmon","#bab1a2":"Nomad","#bac7c9":"Submarine","#baeef9":"Charlotte","#bb3385":"Medium Red Violet","#bb8983":"Brandy Rose",
"#bbd009":"Rio Grande","#bbd7c1":"Surf","#bc8f8f":"Rosy Brown","#bcc9c2":"Powder Ash","#bd5e2e":"Tuscany","#bd978e":"Quicksand","#bdb1a8":"Silk","#bdb2a1":"Malta","#bdb3c7":"Chatelle","#bdb76b":"Dark Khaki","#bdbbd7":"Lavender Gray","#bdbdc6":"French Gray","#bdc8b3":"Clay Ash","#bdc9ce":"Loblolly","#bdedfd":"French Pass","#bea6c3":"London Hue","#beb5b7":"Pink Swan","#bede0d":"Fuego","#bf00bf":"PyMOL purple","#bf5500":"Rose of Sharon","#bfb8b0":"Tide","#bfbed8":"Blue Haze","#bfbfff":"PyMOL lightblue",
"#bfc1c2":"Silver Sand","#bfc921":"Key Lime Pie","#bfdbe2":"Ziggurat","#bfff00":"Lime","#bfff3f":"Limon","#c02b18":"Thunderbird","#c04737":"Mojo","#c08081":"Old Rose","#c0c0c0":"Silver","#c0d3b9":"Pale Leaf","#c0d8b6":"Pixie Green","#c1440e":"Tia Maria","#c154c1":"Fuchsia Pink","#c1a004":"Buddha Gold","#c1b7a4":"Bison Hide","#c1bab0":"Tea","#c1becd":"Gray Suit","#c1d7b0":"Sprout","#c1f07c":"Sulu","#c26b03":"Indochine","#c2955d":"Twine","#c2bdb6":"Cotton Seed","#c2cac4":"Pumice","#c2e8e5":"Jagged Ice",
"#c32148":"Maroon Flush","#c3b091":"Indian Khaki","#c3bfc1":"Pale Slate","#c3c3bd":"Gray Nickel","#c3cde6":"Periwinkle Gray","#c3d1d1":"Tiara","#c3ddf9":"Tropical Blue","#c41e3a":"Cardinal","#c45655":"Fuzzy Wuzzy Brown","#c45719":"Orange Roughy","#c4b200":"PyMOL olive","#c4c4bc":"Mist Gray","#c4d0b0":"Coriander","#c4f4eb":"Mint Tulip","#c54b8c":"Mulberry","#c59922":"Nugget","#c5994b":"Tussock","#c5dbca":"Sea Mist","#c5e17a":"Yellow Green","#c62d42":"Brick Red","#c6726b":"Contessa","#c69191":"Oriental Pink",
"#c6a84b":"Roti","#c6c3b5":"Ash","#c6c8bd":"Kangaroo","#c6e610":"Las Palmas","#c7031e":"Monza","#c71585":"Red Violet","#c7bca2":"Coral Reef","#c7c1ff":"Melrose","#c7c4bf":"Cloud","#c7c9d5":"Ghost","#c7cd90":"Pine Glade","#c7dde5":"Botticelli","#c88a65":"Antique Brass","#c8a2c8":"Lilac","#c8a528":"Hokey Pokey","#c8aabf":"Lily","#c8b568":"Laser","#c8e3d7":"Edgewater","#c96323":"Piper","#c99415":"Pizza","#c9a0dc":"Light Wisteria","#c9b29b":"Rodeo Dust","#c9b35b":"Sundance","#c9b93b":"Earls Green","#c9c0bb":"Silver Rust",
"#c9d9d2":"Conch","#c9ffa2":"Reef","#c9ffe5":"Aero Blue","#ca3435":"Flush Mahogany","#cabb48":"Turmeric","#cadcd4":"Paris White","#cae00d":"Bitter Lemon","#cae6da":"Skeptic","#cb8fa9":"Viola","#cbcab6":"Foggy Gray","#cbd3b0":"Green Mist","#cbdbd6":"Nebula","#cc3333":"Persian Red","#cc5500":"Burnt Orange","#cc7722":"Ochre","#cc8899":"Puce","#cccaa8":"Thistle Green","#cccccc":"Gray80","#ccccff":"Periwinkle","#ccff00":"Electric Lime","#ccffff":"Pale Cyan","#cd5700":"Tenn","#cd5c5c":"Chestnut Rose","#cd8429":"Brandy Punch",
"#cd853f":"Peru","#cdf4ff":"Onahau","#ceb98f":"Sorrell Brown","#cebaba":"Cold Turkey","#cec291":"Yuma","#cec7a7":"Chino","#cfa39d":"Eunry","#cfb53b":"Old Gold","#cfdccf":"Tasman","#cfe5d2":"Surf Crest","#cff9f3":"Humming Bird","#cffaf4":"Scandal","#d05f04":"Red Stage","#d06da1":"Hopbush","#d07d12":"Meteor","#d0bef8":"Perfume","#d0c0e5":"Prelude","#d0f0c0":"Tea Green","#d18f1b":"Geebung","#d1bea8":"Vanilla","#d1c6b4":"Soft Amber","#d1d2ca":"Celeste","#d1d2dd":"Mischka","#d1e231":"Pear","#d2691e":"Hot Cinnamon",
"#d27d46":"Raw Sienna","#d29eaa":"Careys Pink","#d2b48c":"Tan","#d2da97":"Deco","#d2f6de":"Blue Romance","#d2f8b0":"Gossip","#d3cbba":"Sisal","#d3cdc5":"Swirl","#d3d3d3":"Light Gray","#d47494":"Charm","#d4b6af":"Clam Shell","#d4bf8d":"Straw","#d4c4a8":"Akaroa","#d4cd16":"Bird Flower","#d4d7d9":"Iron","#d4dfe2":"Geyser","#d4e2fc":"Hawkes Blue","#d54600":"Grenadier","#d591a4":"Can Can","#d59a6f":"Whiskey","#d5d195":"Winter Hazel","#d5f6e3":"Granny Apple","#d69188":"My Pink","#d6c562":"Tacha","#d6cef6":"Moon Raker",
"#d6d6d1":"Quill Gray","#d6ffdb":"Snowy Mint","#d7837f":"New York Pink","#d7c498":"Pavlova","#d7d0ff":"Fog","#d8337f":"Warm Pink","#d84437":"Valencia","#d87093":"Pale Violet Red","#d87c63":"Japonica","#d8bfd8":"Thistle","#d8c2d5":"Maverick","#d8d8ff":"Blue White","#d8fcfa":"Foam","#d94972":"Cabaret","#d99376":"Burning Sand","#d9b99b":"Cameo","#d9d6cf":"Timberwolf","#d9dcc1":"Tana","#d9e4f5":"Link Water","#d9f7ff":"Mabel","#da3287":"Cerise","#da5b38":"Flame Pea","#da6304":"Bamboo","#da6a41":"Red Damask",
"#da70d6":"Orchid","#da8a67":"Copperfield","#daa520":"Golden Grass","#daecd6":"Zanah","#daf4f0":"Iceberg","#dafaff":"Oyster Bay","#db5079":"Cranberry","#db9690":"Petite Orchid","#db995e":"Di Serria","#dbdbdb":"Alto","#dbfff8":"Frosted Mint","#dc143c":"Crimson","#dc4333":"Punch","#dcb20c":"Galliano","#dcb4bc":"Blossom","#dcd747":"Wattle","#dcd9d2":"Westar","#dcdcdc":"Gainsboro","#dcddcc":"Moon Mist","#dcedb4":"Caper","#dcf0ea":"Swans Down","#dda0dd":"Web Plum","#ddd6d5":"Swiss Coffee","#ddf9f1":"White Ice",
"#de3163":"Cerise Red","#de6360":"Roman","#dea681":"Tumbleweed","#deb887":"Burly Wood","#deba13":"Gold Tips","#dec196":"Brandy","#decbc6":"Wafer","#ded4a4":"Sapling","#ded717":"Barberry","#dee5c0":"Beryl Green","#def5ff":"Pattens Blue","#df73ff":"Heliotrope","#dfbe6f":"Apache","#dfcd6f":"Chenin","#dfcfdb":"Lola","#dfecda":"Willow Brook","#dfff00":"Chartreuse Yellow","#e0b0ff":"Mauve","#e0b646":"Anzac","#e0b974":"Harvest Gold","#e0c095":"Calico","#e0ffff":"Baby Blue","#e16865":"Sunglo","#e1bc64":"Equator",
"#e1c0c8":"Pink Flare","#e1e6d6":"Periglacial Blue","#e1ead4":"Kidnapper","#e1f6e8":"Tara","#e25465":"Mandy","#e2725b":"Terracotta","#e28913":"Golden Bell","#e292c0":"Shocking","#e29418":"Dixie","#e29cd2":"Light Orchid","#e2d8ed":"Snuff","#e2ebed":"Mystic","#e2f3ec":"Apple Green","#e30b5c":"Razzmatazz","#e32636":"Alizarin Crimson","#e34234":"Cinnabar","#e3bebe":"Cavern Pink","#e3f5e1":"Peppermint","#e3f988":"Mindaro","#e47698":"Deep Blush","#e49b0f":"Gamboge","#e4c2d5":"Melanie","#e4cfde":"Twilight",
"#e4d1c0":"Bone","#e4d422":"Sunflower","#e4d5b7":"Grain Brown","#e4d69b":"Zombie","#e4f6e7":"Frostee","#e4ffd1":"Snow Flurry","#e52b50":"Amaranth","#e5841b":"Zest","#e5ccc9":"Dust Storm","#e5d7bd":"Stark White","#e5d8af":"Hampton","#e5e0e1":"Bon Jour","#e5e5e5":"Mercury","#e5f9f6":"Polar","#e64e03":"Trinidad","#e6be8a":"Gold Sand","#e6bea5":"Cashmere","#e6d7b9":"Double Spanish White","#e6e4d4":"Satin Linen","#e6e6fa":"Web Lavender","#e6f2ea":"Harp","#e6f8f3":"Off Green","#e6ffe9":"Hint of Green",
"#e6ffff":"Tranquil","#e77200":"Mango Tango","#e7730a":"Christine","#e79f8c":"Tonys Pink","#e79fc4":"Kobi","#e7bcb4":"Rose Fog","#e7bf05":"Corn","#e7cd8c":"Putty","#e7ece6":"Gray Nurse","#e7f8ff":"Lily White","#e7feff":"Bubbles","#e89928":"Fire Bush","#e8b9b3":"Shilo","#e8e0d5":"Pearl Bush","#e8ebe0":"Green White","#e8f1d4":"Chrome White","#e8f2eb":"Gin","#e8f5f2":"Aqua Squeeze","#e96e00":"Clementine","#e97451":"Burnt Sienna","#e97c07":"Tahiti Gold","#e9967a":"Dark Salmon","#e9cecd":"Oyster Pink",
"#e9d75a":"Confetti","#e9e3e3":"Ebb","#e9f8ed":"Ottoman","#e9fffd":"Clear Day","#ea88a8":"Carissma","#eaae69":"Porsche","#eab33b":"Tulip Tree","#eac674":"Rob Roy","#eadab8":"Raffia","#eae8d4":"White Rock","#eaf6ee":"Panache","#eaf6ff":"Solitude","#eaf9f5":"Aqua Spring","#eafffe":"Dew","#eb9373":"Apricot","#ebc2af":"Zinnwaldite","#eca927":"Fuel Yellow","#ecc54e":"Ronchi","#ecc7ee":"French Lilac","#eccdb9":"Just Right","#ece090":"Wild Rice","#ecebbd":"Fall Green","#ecebce":"Aths Special","#ecf245":"Starship",
"#ed0a3f":"Red Ribbon","#ed7a1c":"Tango","#ed9121":"Carrot Orange","#ed989e":"Sea Pink","#edb381":"Tacao","#edc9af":"Desert Sand","#edcdab":"Pancho","#eddcb1":"Chamois","#edea99":"Primrose","#edf5dd":"Frost","#edf5f5":"Aqua Haze","#edf6ff":"Zumthor","#edf9f1":"Narvik","#edfc84":"Honeysuckle","#ee82ee":"Lavender Magenta","#eec1be":"Beauty Bush","#eed794":"Chalky","#eed9c4":"Almond","#eedc82":"Flax","#eededa":"Bizarre","#eee3ad":"Double Colonial White","#eee8aa":"Pale Goldenrod","#eeeee8":"Cararra",
"#eeef78":"Manz","#eef0c8":"Tahuna Sands","#eef0f3":"Athens Gray","#eef3c3":"Tusk","#eef4de":"Loafer","#eef6f7":"Catskill White","#eefdff":"Twilight Blue","#eeff9a":"Jonquil","#eeffe2":"Rice Flower","#ef863f":"Jaffa","#efefef":"Gallery","#eff2f3":"Porcelain","#f08080":"Light Coral","#f091a9":"Mauvelous","#f0d52d":"Golden Dream","#f0db7d":"Golden Sand","#f0dc82":"Buff","#f0e2ec":"Prim","#f0e68c":"Khaki","#f0eefd":"Selago","#f0eeff":"Titan White","#f0f8ff":"Alice Blue","#f0fcea":"Feta","#f0fff0":"Honeydew",
"#f0ffff":"Web Azure","#f18200":"Gold Drop","#f19bab":"Wewak","#f1e788":"Sahara Sand","#f1e9d2":"Parchment","#f1e9ff":"Blue Chalk","#f1eec1":"Mint Julep","#f1f1f1":"Seashell","#f1f7f2":"Saltpan","#f1ffad":"Tidal","#f1ffc8":"Chiffon","#f2552a":"Flamingo","#f28500":"Tangerine","#f2c3b2":"Mandys Pink","#f2f2f2":"Concrete","#f2fafa":"Black Squeeze","#f34723":"Pomegranate","#f3ad16":"Buttercup","#f3d69d":"New Orleans","#f3d9df":"Vanilla Ice","#f3e7bb":"Sidecar","#f3e9e5":"Dawn Pink","#f3edcf":"Wheatfield",
"#f3fb62":"Canary","#f3fbd4":"Orinoco","#f3ffd8":"Carla","#f400a1":"Hollywood Cerise","#f4a460":"Sandybrown","#f4c430":"Saffron","#f4d81c":"Ripe Lemon","#f4ebd3":"Janna","#f4f2ee":"Pampas","#f4f4f4":"Wild Sand","#f4f8ff":"Zircon","#f57584":"Froly","#f5c85c":"Cream Can","#f5c999":"Manhattan","#f5d5a0":"Maize","#f5deb3":"Wheat","#f5e7a2":"Sandwisp","#f5e7e2":"Pot Pourri","#f5e9d3":"Albescent White","#f5edef":"Soft Peach","#f5f3e5":"Ecru White","#f5f5dc":"Beige","#f5f5f5":"White Smoke","#f5fb3d":"Golden Fizz",
"#f5ffbe":"Australian Mint","#f5fffa":"Mint Cream","#f64a8a":"French Rose","#f653a6":"Brilliant Rose","#f6a4c9":"Illusion","#f6f0e6":"Merino","#f6f7f7":"Black Haze","#f6ffdc":"Spring Sun","#f7468a":"Violet Red","#f77703":"Chilean Fire","#f77fbe":"Persian Pink","#f7b668":"Rajah","#f7c8da":"Azalea","#f7dbe6":"We Peep","#f7f2e1":"Quarter Spanish White","#f7f5fa":"Whisper","#f7faf7":"Snow Drift","#f8b853":"Casablanca","#f8c3df":"Chantilly","#f8d9e9":"Cherub","#f8db9d":"Marzipan","#f8dd5c":"Energy Yellow",
"#f8e4bf":"Givry","#f8f0e8":"White Linen","#f8f4ff":"Magnolia","#f8f6f1":"Spring Wood","#f8f7dc":"Coconut Cream","#f8f7fc":"White Lilac","#f8f8f7":"Desert Storm","#f8f8ff":"Ghost White","#f8f99c":"Texas","#f8facd":"Corn Field","#f8fdd3":"Mimosa","#f95a61":"Carnation","#f9bf58":"Saffron Mango","#f9e0ed":"Carousel Pink","#f9e4bc":"Dairy Cream","#f9e663":"Portica","#f9e6f4":"Underage Pink","#f9eaf3":"Amour","#f9f8e4":"Rum Swizzle","#f9ff8b":"Dolly","#f9fff6":"Sugar Cane","#fa7814":"Ecstasy","#fa8072":"Web Salmon",
"#fa9d5a":"Tan Hide","#fad3a2":"Corvette","#fadfad":"Peach Yellow","#fae600":"Turbo","#faeab9":"Astra","#faebd7":"Antique White","#faeccc":"Champagne","#faf0e6":"Linen","#faf3f0":"Fantasy","#faf7d6":"Citrine White","#fafad2":"Light Goldenrod Yellow","#fafafa":"Alabaster","#fafde4":"Hint of Yellow","#faffa4":"Milan","#fb607f":"Brink Pink","#fb8989":"Geraldine","#fba0e3":"Lavender Rose","#fba129":"Sea Buckthorn","#fbac13":"Sun","#fbaed2":"Lavender Pink","#fbb2a3":"Rose Bud","#fbbeda":"Cupid","#fbcce7":"Classic Rose",
"#fbceb1":"Apricot Peach","#fbe7b2":"Banana Mania","#fbe870":"Marigold Yellow","#fbe96c":"Festival","#fbea8c":"Sweet Corn","#fbec5d":"Candy Corn","#fbf9f9":"Hint of Red","#fbffba":"Shalimar","#fc0fc0":"Shocking Pink","#fc80a5":"Tickle Me Pink","#fc9c1d":"Tree Poppy","#fcc01e":"Lightning Yellow","#fcd1a5":"PyMOL wheat","#fcd667":"Goldenrod","#fcd917":"Candlelight","#fcda98":"Cherokee","#fcf4d0":"Double Pearl Lusta","#fcf4dc":"Pearl Lusta","#fcf8f7":"Vista White","#fcfbf3":"Bianca","#fcfeda":"Moon Glow",
"#fcffe7":"China Ivory","#fcfff9":"Ceramic","#fd0e35":"Torch Red","#fd5b78":"Wild Watermelon","#fd7b33":"Crusta","#fd7c07":"Sorbus","#fd9fa2":"Sweet Pink","#fdd5b1":"Light Apricot","#fdd7e4":"Pig Pink","#fde1dc":"Cinderella","#fde295":"Golden Glow","#fde910":"Lemon","#fdf5e6":"Old Lace","#fdf6d3":"Half Colonial White","#fdf7ad":"Drover","#fdfeb8":"Pale Prim","#fdffd5":"Cumulus","#fe28a2":"Persian Rose","#fe4c40":"Sunset Orange","#fe6f5e":"Bittersweet","#fe9d04":"California","#fea904":"Yellow Sea",
"#febaad":"Melon","#fed33c":"Bright Sun","#fed85d":"Dandelion","#fedb8d":"Salomie","#fee5ac":"Cape Honey","#feebf3":"Remy","#feefce":"Oasis","#fef0ec":"Bridesmaid","#fef2c7":"Beeswax","#fef3d8":"Bleach White","#fef4cc":"Pipi","#fef4db":"Half Spanish White","#fef4f8":"Wisp Pink","#fef5f1":"Provincial Pink","#fef7de":"Half Dutch White","#fef8e2":"Solitaire","#fef8ff":"White Pointer","#fef9e3":"Off Yellow","#fefced":"Orange White","#ff0000":"Red","#ff007f":"Rose","#ff00cc":"Purple Pizzazz","#ff00ff":"Magenta/Fuchsia",
"#ff1493":"Deep Pink","#ff2400":"Scarlet","#ff3333":"tv_red","#ff3399":"Wild Strawberry","#ff33cc":"Razzle Dazzle Rose","#ff355e":"Radical Red","#ff3f34":"Red Orange","#ff4040":"Coral Red","#ff4500":"Orange Red","#ff4d00":"Vermilion","#ff4f00":"International Orange","#ff6037":"Outrageous Orange","#ff6347":"Tomato","#ff6600":"Blaze Orange","#ff66ff":"Pink Flamingo","#ff681f":"Orange","#ff69b4":"Hot Pink","#ff6b53":"Persimmon","#ff6b6b":"Deep Salmon","#ff6fff":"Blush Pink","#ff7034":"Burning Orange",
"#ff7518":"Pumpkin","#ff7d07":"Flamenco","#ff7f00":"Flush Orange","#ff7f50":"Coral","#ff7fff":"PyMOL violet","#ff8c00":"Dark Orange","#ff8c26":"tv_orange","#ff8c69":"Salmon","#ff9000":"Pizazz","#ff910f":"West Side","#ff91a4":"Pink Salmon","#ff9933":"Neon Carrot","#ff9966":"Atomic Tangerine","#ff9980":"Vivid Tangerine","#ff9999":"PyMOL salmon","#ff9e2c":"Sunshade","#ffa000":"Orange Peel","#ffa07a":"Light Salmon","#ffa194":"Mona Lisa","#ffa500":"Web Orange","#ffa5d8":"PyMOL pink","#ffa6c9":"Carnation Pink",
"#ffab81":"Hit Pink","#ffae42":"Yellow Orange","#ffb0ac":"Cornflower Lilac","#ffb1b3":"Sundown","#ffb233":"Bright Orange","#ffb31f":"My Sin","#ffb555":"Texas Rose","#ffb6c1":"Light Pink","#ffb7d5":"Cotton Candy","#ffb97b":"Macaroni and Cheese","#ffba00":"Selective Yellow","#ffbd5f":"Koromiko","#ffbf00":"Amber","#ffbfdd":"PyMOL lightpink","#ffc0a8":"Wax Flower","#ffc0cb":"Pink","#ffc3c0":"Your Pink","#ffc901":"Supernova","#ffcba4":"Flesh","#ffcc33":"Sunglow","#ffcc5c":"Golden Tainoi","#ffcc7f":"Light Orange",
"#ffcc99":"Peach Orange","#ffcd8c":"Chardonnay","#ffd1dc":"Pastel Pink","#ffd2b7":"Romantic","#ffd38c":"Grandis","#ffd700":"Gold","#ffd800":"Schoolbus Yellow","#ffd8d9":"Cosmos","#ffdab9":"Peach Puff","#ffdb58":"Mustard","#ffdcd6":"Peach Schnapps","#ffdd5e":"PyMOL Yellow Orange","#ffddaf":"Caramel","#ffddcd":"Tuft Bush","#ffddcf":"Watusi","#ffddf4":"Pink Lace","#ffdead":"Navajo White","#ffdeb3":"Frangipani","#ffe1df":"Pippin","#ffe1f2":"Pale Rose","#ffe2c5":"Negroni","#ffe4b5":"Moccasin","#ffe4c4":"Bisque",
"#ffe4e1":"Misty Rose","#ffe5a0":"Cream Brulee","#ffe5b4":"Peach","#ffe6c7":"Tequila","#ffe772":"Kournikova","#ffeac8":"Sandy Beach","#ffead4":"Karry","#ffebcd":"Blanched Almond","#ffec13":"Broom","#ffedbc":"Colonial White","#ffeed8":"Derby","#ffefa1":"Vis Vis","#ffefc1":"Egg White","#ffefd5":"Papaya Whip","#ffefec":"Fair Pink","#fff0db":"Peach Cream","#fff0f5":"Lavender Blush","#fff14f":"Gorse","#fff1b5":"Buttermilk","#fff1d8":"Pink Lady","#fff1ee":"Forget Me Not","#fff1f9":"Tutu","#fff39d":"Picasso",
"#fff3f1":"Chardon","#fff46e":"Paris Daisy","#fff4ce":"Barley White","#fff4dd":"Egg Sour","#fff4e0":"Sazerac","#fff4e8":"Serenade","#fff4f3":"Chablis","#fff5ee":"Seashell Peach","#fff5f3":"Sauvignon","#fff6d4":"Milk Punch","#fff6df":"Varden","#fff6f5":"Rose White","#fff8d1":"Baja White","#fff8dc":"Corn Silk","#fff9e2":"Gin Fizz","#fff9e6":"Early Dawn","#fffacd":"Lemon Chiffon","#fffaf0":"Floral White","#fffaf4":"Bridal Heath","#fffafa":"Snow","#fffbdc":"Scotch Mist","#fffbf9":"Soapstone","#fffc99":"Witch Haze",
"#fffcea":"Buttery White","#fffcee":"Island Spice","#fffdd0":"Cream","#fffde6":"Chilean Heath","#fffde8":"Travertine","#fffdf3":"Orchid White","#fffdf4":"Quarter Pearl Lusta","#fffee1":"Half and Half","#fffeec":"Apricot White","#fffef0":"Rice Cake","#fffef6":"Black White","#fffefd":"Romance","#ffff00":"Yellow","#ffff33":"tv_yellow","#ffff66":"Laser Lemon","#ffff7f":"Pale Yellow","#ffff99":"Pale Canary","#ffffb4":"Portafino","#ffffe0":"Light Yellow","#fffff0":"Ivory","#ffffff":"White"};if(a){var d=
a.match(/#[\dABCDEFabcdef]{6,6}$/);a=null!=d&&7===d[0].length?"undefined"!=typeof c[a.toLowerCase()]?c[a.toLowerCase()]:d[0]:!1}else a=!1;this.value=a}})):"function"==typeof f.callback&&f.callback.call(f,f.color)};f.absolutePosition=function(a){var b={x:a.offsetLeft,y:a.offsetTop};a.offsetParent&&(a=f.absolutePosition(a.offsetParent),b.x+=a.x,b.y+=a.y);return b};f.pack=function(a){var b=Math.round(255*a[0]),c=Math.round(255*a[1]);a=Math.round(255*a[2]);return"#"+(16>b?"0":"")+b.toString(16)+(16>c?
"0":"")+c.toString(16)+(16>a?"0":"")+a.toString(16)};f.unpack=function(a){if(7==a.length)return[parseInt("0x"+a.substring(1,3))/255,parseInt("0x"+a.substring(3,5))/255,parseInt("0x"+a.substring(5,7))/255];if(4==a.length)return[parseInt("0x"+a.substring(1,2))/15,parseInt("0x"+a.substring(2,3))/15,parseInt("0x"+a.substring(3,4))/15]};f.HSLToRGB=function(a){var b,c=a[0];b=a[1];a=a[2];b=.5>=a?a*(b+1):a+b-a*b;a=2*a-b;return[this.hueToRGB(a,b,c+.33333),this.hueToRGB(a,b,c),this.hueToRGB(a,b,c-.33333)]};
f.hueToRGB=function(a,b,c){c=0>c?c+1:1<c?c-1:c;return 1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(.66666-c)*6:a};f.RGBToHSL=function(a){var b,c,d,e,f=a[0],k=a[1],q=a[2];b=Math.min(f,Math.min(k,q));a=Math.max(f,Math.max(k,q));c=a-b;e=(b+a)/2;d=0;0<e&&1>e&&(d=c/(.5>e?2*e:2-2*e));b=0;0<c&&(a==f&&a!=k&&(b+=(k-q)/c),a==k&&a!=q&&(b+=2+(q-f)/c),a==q&&a!=f&&(b+=4+(f-k)/c),b/=6);return[b,d,e]};a("*",d).mousedown(f.mousedown);f.setColor("#000000");e&&f.linkTo(e)}})(jQuery);var rvDataSets=[],rvViews=[],FullBasePairSet,AgreeFunction=function(){},drag=!1,localStorageAvailable=!1,onebuttonmode,CurrPrivacyCookie,PanelDivide=.5,TopDivide=.215,OpenStateOnLoad=!1,UserName="Guest",OnionColors="#000000 #ff0000 #008000 #0000ff #800080 #ff8c00 #ff8c00 #ff8c00 #ff8c00".split(" "),DomainColors="#ffd4a2 #a999fb #3aa7ff #cc99cc #f0ff00 #ff99cc #0ba34a #8ec640 #B27643 #325d3d".split(" "),HelixColors=["#000000","#ed1c24","#00a651","#1c75bc","#662d91"],ShapeColors=["#808080","#0000ff",
"#008000","#ffd700","#ff0000"],BinaryColors=["#858585","#FF0DE7"],RainBowColors="#00008f #00009f #0000af #0000bf #0000cf #0000df #0000ef #0000ff #0010ff #0020ff #0030ff #0040ff #0050ff #0060ff #0070ff #0080ff #008fff #009fff #00afff #00bfff #00cfff #00dfff #00efff #00ffff #10ffef #20ffdf #30ffcf #40ffbf #50ffaf #60ff9f #70ff8f #80ff80 #8fff70 #9fff60 #afff50 #bfff40 #cfff30 #dfff20 #efff10 #ffff00 #ffef00 #ffdf00 #ffcf00 #ffbf00 #ffaf00 #ff9f00 #ff8f00 #ff8000 #ff7000 #ff6000 #ff5000 #ff4000 #ff3000 #ff2000 #ff1000 #ff0000 #ef0000 #df0000 #cf0000 #bf0000 #af0000 #9f0000 #8f0000 #800000".split(" "),
SupportedColors={black:"#000000",navyblue:"#000080",webdarkblue:"#00008b",darkblue:"#0000c8",mediumblue:"#0000cd",blue:"#0000ff",stratos:"#000741",swamp:"#001b1c",resolutionblue:"#002387",deepfir:"#002900",burnham:"#002e20",internationalkleinblue:"#002fa7",prussianblue:"#003153",midnightblue:"#003366",smalt:"#003399",deepteal:"#003532",cyprus:"#003e40",kaitokegreen:"#004620",cobalt:"#0047ab",crusoe:"#004816",sherpablue:"#004950",endeavour:"#0056a7",camarone:"#00581a",darkgreen:"#006400",scienceblue:"#0066cc",
blueribbon:"#0066ff",tropicalrainforest:"#00755e",allports:"#0076a3",deepcerulean:"#007ba7",lochmara:"#007ec7",azureradiance:"#007fff",webgreen:"#008000",teal:"#008080",darkcyan:"#008b8b",bondiblue:"#0095b6",pacificblue:"#009dc4",persiangreen:"#00a693",jade:"#00a86b",pymolteal:"#00bfbf",deepskyblue:"#00bfff",caribbeangreen:"#00cc99","robin'seggblue":"#00cccc",darkturquoise:"#00ced1",mediumspringgreen:"#00fa9a",green:"#00ff00",springgreen:"#00ff7f",aqua:"#00ffff",cyan:"#00ffff",bluecharcoal:"#010d1a",
midnight:"#011635",holly:"#011d13",daintree:"#012731",cardingreen:"#01361c",countygreen:"#01371a",astronautblue:"#013e62",regalblue:"#013f6a",aquadeep:"#014b43",orient:"#015e85",bluestone:"#016162",fungreen:"#016d39",pinegreen:"#01796f",bluelagoon:"#017987",deepsea:"#01826b",greenhaze:"#01a368",englishholly:"#022d15",sherwoodgreen:"#02402c",congressblue:"#02478e",eveningsea:"#024e46",bahamablue:"#026395",observatory:"#02866f",cerulean:"#02a4d3",tangaroa:"#03163c",greenvogue:"#032b52",mosque:"#036a6e",
midnightmoss:"#041004",blackpearl:"#041322",bluewhale:"#042e4c",zuccini:"#044022",tealblue:"#044259",deepcove:"#051040",gulfblue:"#051657",veniceblue:"#055989",watercourse:"#056f57",catalinablue:"#062a78",tiber:"#063537",gossamer:"#069b81",niagara:"#06a189",tarawera:"#073a50",jaguar:"#080110",blackbean:"#081910",deepsapphire:"#082567",elfgreen:"#088370",brightturquoise:"#08e8de",downriver:"#092256",palmgreen:"#09230f",madison:"#09255d",bottlegreen:"#093624",deepseagreen:"#095859",salem:"#097f4b",
blackrussian:"#0a001c",darkfern:"#0a480d",japaneselaurel:"#0a6906",atoll:"#0a6f75",codgray:"#0b0b0b",marshland:"#0b0f08",gordonsgreen:"#0b1107",blackforest:"#0b1304",sanfelix:"#0b6207",malachite:"#0bda51",ebony:"#0c0b1d",woodsmoke:"#0c0d0f",racinggreen:"#0c1911",surfiegreen:"#0c7a79",bluechill:"#0c8990",blackrock:"#0d0332",bunker:"#0d1117",aztec:"#0d1c19",bush:"#0d2e1c",cinder:"#0e0e18",firefly:"#0e2a30",toreabay:"#0f2d9e",vulcan:"#10121d",greenwaterloo:"#101405",eden:"#105852",arapawa:"#110c6c",
ultramarine:"#120a8f",elephant:"#123447",jewel:"#126b40",diesel:"#130000",asphalt:"#130a06",bluezodiac:"#13264d",parsley:"#134f19",nero:"#140600",toryblue:"#1450aa",bunting:"#151f4c",denim:"#1560bd",genoa:"#15736b",mirage:"#161928",huntergreen:"#161d10",bigstone:"#162a40",celtic:"#163222",timbergreen:"#16322c",gablegreen:"#163531",pinetree:"#171f04",chathamsblue:"#175579",deepforestgreen:"#182d09",blumine:"#18587a",gray10:"#191919",webmidnightblue:"#191970",density:"#191999",palmleaf:"#19330e",nileblue:"#193751",
funblue:"#1959a8",deepteal:"#199999",luckypoint:"#1a1a68",mountainmeadow:"#1ab385",tolopea:"#1b0245",haiti:"#1b1035",deepkoamaru:"#1b127b",acadia:"#1b1404",seaweed:"#1b2f11",biscay:"#1b3162",matisse:"#1b659d",crowshead:"#1c1208",rangoongreen:"#1c1e13",persianblue:"#1c39bb",everglade:"#1c402e",elm:"#1c7c7d",greenpea:"#1d6142",creole:"#1e0f04",karaka:"#1e1609",elpaso:"#1e1708",cello:"#1e385b",tepapagreen:"#1e433c",dodgerblue:"#1e90ff",easternblue:"#1e9ab0",nightrider:"#1f120f",java:"#1fc2c2",jacksonspurple:"#20208d",
cloudburst:"#202e54",bluedianne:"#204852",lightseagreen:"#20b2aa",eternity:"#211a0e",deepblue:"#220878",forestgreen:"#228b22",mallard:"#233418",violet:"#240a40",kilamanjaro:"#240c02",logcabin:"#242a1d",blackolive:"#242e16",greenhouse:"#24500f",graphite:"#251607",cannonblack:"#251706",portgore:"#251f4f",shark:"#25272c",greenkelp:"#25311c",curiousblue:"#2596d1",paua:"#260368",parism:"#26056a",woodbark:"#261105",gondola:"#261414",steelgray:"#262335",ebonyclay:"#26283b",bayofmany:"#273a81",plantation:"#27504b",
eucalyptus:"#278a5b",oil:"#281e15",astronaut:"#283a77",mariner:"#286acd",violentviolet:"#290c5e",bastille:"#292130",zeus:"#292319",charade:"#292937",jellybean:"#297b9a",junglegreen:"#29ab87",cherrypie:"#2a0359",coffeebean:"#2a140e",balticsea:"#2a2630",turtlegreen:"#2a380b",ceruleanblue:"#2a52be",sepiablack:"#2b0202",valhalla:"#2b194f",heavymetal:"#2b3228",bluegem:"#2c0e8c",revolver:"#2c1632",bleachedcedar:"#2c2133",lochinvar:"#2c8c84",mikado:"#2d2510",outerspace:"#2d383a",sttropaz:"#2d569b",jacaranda:"#2e0329",
jackobean:"#2e1905",rangitoto:"#2e3222",rhino:"#2e3f62",seagreen:"#2e8b57",scooter:"#2ebfd4",onion:"#2f270e",governorbay:"#2f3cb3",darkslategray:"#2f4f4f",sapphire:"#2f519e",spectra:"#2f5a57",casal:"#2f6168",melanzane:"#300529",cocoabrown:"#301f1e",woodrush:"#302a0f",sanjuan:"#304b6a",turquoise:"#30d5c8",eclipse:"#311c17",pickledbluewood:"#314459",azure:"#315ba1",calypso:"#31728d",paradiso:"#317d82",persianindigo:"#32127a",blackcurrant:"#32293a",mineshaft:"#323232",stromboli:"#325d52",bilbao:"#327c14",
astral:"#327da0",limegreen:"#32cd32",christalle:"#33036b",thunder:"#33292f",gray20:"#333333",pymolskyblue:"#337fcc",forest:"#339933",shamrock:"#33cc99",tv_green:"#33ff33",tamarind:"#341515",mardigras:"#350036",valentino:"#350e42",jagger:"#350e57",tuna:"#353542",chambray:"#354e8c",martinique:"#363050",tuatara:"#363534",waiouru:"#363c0d",ming:"#36747d",lapalma:"#368716",chocolate:"#370202",clinker:"#371d09",browntumbleweed:"#37290e",birch:"#373021",oracle:"#377475",bluediamond:"#380474",grape:"#381a51",
dune:"#383533",oxfordblue:"#384555",clover:"#384910",limedspruce:"#394851",dell:"#396413",toledo:"#3a0020",sambuca:"#3a2010",jacarta:"#3a2a6a",william:"#3a686c",killarney:"#3a6a47",keppel:"#3ab09e",temptress:"#3b000b",aubergine:"#3b0910",jon:"#3b1f1f",treehouse:"#3b2820",amazon:"#3b7a57",bostonblue:"#3b91b4",windsor:"#3c0878",rebel:"#3c1206",meteorite:"#3c1f76",darkebony:"#3c2005",camouflage:"#3c3910",brightgray:"#3c4151",capecod:"#3c4443",lunargreen:"#3c493a",mediumseagreen:"#3cb371",bean:"#3d0c02",
bistre:"#3d2b1f",goblin:"#3d7d52",kingfisherdaisy:"#3e0480",cedar:"#3e1c14",englishwalnut:"#3e2b23",blackmarlin:"#3e2c1c",shipgray:"#3e3a44",pelorous:"#3eabbf",bronze:"#3f2109",cola:"#3f2500",madras:"#3f3002",minsk:"#3f307f",pymoldeepblue:"#3f3fa5",cabbagepont:"#3f4c3a",tomthumb:"#3f583b",mineralgreen:"#3f5d53",puertorico:"#3fc1aa",harlequin:"#3fff00",greencyan:"#3fffbf",brownpod:"#401801",cork:"#40291d",masala:"#403b38",thatchgreen:"#403d19",fiord:"#405169",viridian:"#40826d",chateaugreen:"#40a860",
webturquoise:"#40e0d0",ripeplum:"#410056",paco:"#411f10",deepoak:"#412010",merlin:"#413c37",gunpowder:"#414257",eastbay:"#414c7d",royalblue:"#4169e1",oceangreen:"#41aa78",burntmaroon:"#420303",lisbonbrown:"#423921",fadedjade:"#427977",scarletgum:"#431560",iroko:"#433120",armadillo:"#433e37",riverbed:"#434c59",greenleaf:"#436a0d",barossa:"#44012d",moroccobrown:"#441d00",mako:"#444954",kelp:"#454936",sanmarino:"#456cac",pictonblue:"#45b1e8",loulou:"#460b41",craterbrown:"#462425",grayasparagus:"#465945",
steelblue:"#4682b4",rusticred:"#480404",bulgarianrose:"#480607",clairvoyant:"#480656",cocoabean:"#481c1c",woodybrown:"#483131",taupe:"#483c32",darkslateblue:"#483d8b",mediumturquoise:"#48d1cc",vancleef:"#49170c",brownderby:"#492615",metallicbronze:"#49371b",verdungreen:"#495400",bluebayoux:"#496679",bismark:"#497183",bracken:"#4a2a04",deepbronze:"#4a3004",mondo:"#4a3c30",tundora:"#4a4244",gravel:"#4a444b",trout:"#4a4e5a",pigmentindigo:"#4b0082",nandor:"#4b5d52",saddle:"#4c3024",gray30:"#4c4c4c",tv_blue:"#4c4cff",
abbey:"#4c4f56",blackberry:"#4d0135",cabsav:"#4d0a18",indiantan:"#4d1e01",cowboy:"#4d282d",lividbrown:"#4d282e",rock:"#4d3833",punga:"#4d3d14",bronzetone:"#4d400f",woodland:"#4d5328",mahogany:"#4e0606",bossanova:"#4e2a5a",matterhorn:"#4e3b41",bronzeolive:"#4e420c",mulledwine:"#4e4562",axolotl:"#4e6649",wedgewood:"#4e7f9e",shakespeare:"#4eabd1",honeyflower:"#4f1c70",daisybush:"#4f2398",indigo:"#4f69c6",ferngreen:"#4f7942",fruitsalad:"#4f9d5d",apple:"#4fa83d",mortar:"#504351",kashmirblue:"#507096",
cuttysark:"#507672",emerald:"#50c878",emperor:"#514649",chaletgreen:"#516e3d",como:"#517c66",smaltblue:"#51808f",castro:"#52001f",maroonoak:"#520c17",gigas:"#523c94",voodoo:"#533455",victoria:"#534491",hippiegreen:"#53824b",heath:"#541012",judgegray:"#544333",fuscousgray:"#54534d",vidaloca:"#549019",cioccolato:"#55280c",saratoga:"#555b10",darkolivegreen:"#556b2f",finlandia:"#556d56",havelockblue:"#5590d9",fountainblue:"#56b4be",springleaves:"#578363",saddlebrown:"#583401",scarpaflow:"#585562",cactus:"#587156",
hippieblue:"#589aaf",wineberry:"#591d35",brownbramble:"#592804",congobrown:"#593737",millbrook:"#594433",waikawagray:"#5a6e9c",horizon:"#5a87a0",jambalaya:"#5b3013",bordeaux:"#5c0120",mulberrywood:"#5c0536",carnabytan:"#5c2e01",comet:"#5c5d75",redwood:"#5d1e0f",donjuan:"#5d4c51",chicago:"#5d5c58",verdigris:"#5d5e37",dingley:"#5d7747",breakerbay:"#5da19f",kabul:"#5e483e",hemlock:"#5e5d3b",irishcoffee:"#5f3d26",midgray:"#5f5f6e",shuttlegray:"#5f6672",webcadetblue:"#5f9ea0",aquaforest:"#5fa777",tradewind:"#5fb3ac",
horsesneck:"#604913",smoky:"#605b73",corduroy:"#606e68",danube:"#6093d1",espresso:"#612718",eggplant:"#614051",costadelsol:"#615d30",gladegreen:"#61845f",buccaneer:"#622f30",quincy:"#623f2d",butterflybush:"#624e9a",westcoast:"#625119",finch:"#626649",patina:"#639a8f",fern:"#63b76c",blueviolet:"#6456b7",dolphin:"#646077",stormdust:"#646463",siam:"#646a54",nevada:"#646e75",cornflowerblue:"#6495ed",viking:"#64ccdb",rosewood:"#65000b",cherrywood:"#651a14",purpleheart:"#652dc1",fernfrond:"#657220",willowgrove:"#65745d",
hoki:"#65869f",pompadour:"#660045",purple:"#660099",tyrianpurple:"#66023c",darktan:"#661010",gray40:"#666666",lightteal:"#66b2b2",silvertree:"#66b58f",mediumaquamarine:"#66cdaa",brightgreen:"#66ff00","screamin'green":"#66ff66",blackrose:"#67032d",scampi:"#675fa6",ironsidegray:"#676662",viridiangreen:"#678975",christi:"#67a712",nutmegwoodfinish:"#683600",zambezi:"#685558",saltbox:"#685e6e",tawnyport:"#692545",finn:"#692d54",scorpion:"#695f62",dimgray:"#696969",lynch:"#697e9a",spice:"#6a442e",slateblue:"#6a5acd",
himalaya:"#6a5d1b",soyabean:"#6a6051",hairyheath:"#6b2a14",royalpurple:"#6b3fa0",shinglefawn:"#6b4e31",dorado:"#6b5755",bermudagray:"#6b8ba2",olivedrab:"#6b8e23",eminence:"#6c3082",turquoiseblue:"#6cdae7",lonestar:"#6d0101",pinecone:"#6d5e54",dovegray:"#6d6c6c",juniper:"#6d9292",gothic:"#6d92a1",redoxide:"#6e0902",moccaccino:"#6e1d14",pickledbean:"#6e4826",dallas:"#6e4b26",kokoda:"#6e6d57",palesky:"#6e7783",caferoyale:"#6f440c",flint:"#6f6a61",highland:"#6f8e63",limeade:"#6f9d02",downy:"#6fd0c5",
persianplum:"#701c1c",sepia:"#704214",antiquebronze:"#704a07",ferra:"#704f50",coffee:"#706555",slategray:"#708090",cedarwoodfinish:"#711a00",metalliccopper:"#71291d",affair:"#714693",studio:"#714ab2",tobaccobrown:"#715d47",yellowmetal:"#716338",peat:"#716b56",olivetone:"#716e10",stormgray:"#717486",sirocco:"#718080",aquamarineblue:"#71d9e2",venetianred:"#72010f",oldcopper:"#724a2f",goben:"#726d4e",raven:"#727b89",seance:"#731e8f",rawumber:"#734a12",kimberly:"#736c9f",crocodile:"#736d58",crete:"#737829",
xanadu:"#738678",spicymustard:"#74640d",limedash:"#747d63",rollingstone:"#747d83",bluesmoke:"#748881",laurel:"#749378",mantis:"#74c365",russett:"#755a57",deluge:"#7563a8",cosmic:"#76395d",bluemarguerite:"#7666c6",lima:"#76bd17",skyblue:"#76d7ea",darkburgundy:"#770f05",crownofthorns:"#771f1f",walnut:"#773f1a",pablo:"#776f61",pacifika:"#778120",lightslategray:"#778899",oxley:"#779e86",pastelgreen:"#77dd77",japanesemaple:"#780109",mocha:"#782d19",peanut:"#782f16",camouflagegreen:"#78866b",wasabi:"#788a25",
shipcove:"#788bba",seanymph:"#78a39c",romancoffee:"#795d4c",oldlavender:"#796878",rum:"#796989",fedora:"#796a78",sandstone:"#796d62",spray:"#79deec",siren:"#7a013a",fuchsiablue:"#7a58c1",boulder:"#7a7a7a",wildblueyonder:"#7a89b8",deyork:"#7ac488",redbeech:"#7b3801",cinnamon:"#7b3f00",yukongold:"#7b6608",mediumslateblue:"#7b68ee",tapa:"#7b7874",waterloo:"#7b7c94",flaxsmoke:"#7b8265",amulet:"#7b9f80",asparagus:"#7ba05b",kenyancopper:"#7c1c05",pesto:"#7c7631",topaz:"#7c778a",concord:"#7c7b7a",jumbo:"#7c7b82",
trendygreen:"#7c881a",gumbo:"#7ca1a6",acapulco:"#7cb0a1",neptune:"#7cb7bb",lawngreen:"#7cfc00",pueblo:"#7d2c14",bayleaf:"#7da98d",malibu:"#7dc8f7",bermuda:"#7dd8c6",coppercanyon:"#7e3a15",purpleblue:"#7f00ff",claret:"#7f1734",perutan:"#7f3a02",falcon:"#7f626d",mobster:"#7f7589",moodyblue:"#7f76d3",gray50:"#7f7f7f",slate:"#7f7fff",chartreuse:"#7fff00",pymollime:"#7fff7f",aquamarine:"#7fffd4",pymolaquamarine:"#7fffff",maroon:"#800000",webpurple:"#800080",rosebudcherry:"#800b47",falured:"#801818",redrobin:"#80341f",
vividviolet:"#803790",russet:"#80461b",friargray:"#807e79",olive:"#808000",gray:"#808080",gulfstream:"#80b3ae",glacier:"#80b3c4",seagull:"#80ccea",nutmeg:"#81422c",spicypink:"#816e71",empress:"#817377",spanishgreen:"#819885",sanddune:"#826f65",gunsmoke:"#828685",battleshipgray:"#828f72",merlot:"#831923",shadow:"#837050",chelseacucumber:"#83aa5d",montecarlo:"#83d0c6",plum:"#843179",grannysmith:"#84a0a0",splitpea:"#84bf00",chetwodeblue:"#8581d9",bandicoot:"#858470",balihai:"#859faf",halfbaked:"#85c4cc",
reddevil:"#860111",lotus:"#863c3c",ironstone:"#86483c",bullshot:"#864d1e",rustynail:"#86560a",bitter:"#868974",regentgray:"#86949f",disco:"#871550",americano:"#87756e",hurricane:"#877c7b",oslogray:"#878d91",sushi:"#87ab39",webskyblue:"#87ceeb",lightskyblue:"#87cefa",spicymix:"#885342",kumera:"#886221",suvagray:"#888387",avocado:"#888d65",camelot:"#893456",solidpink:"#893843",cannonpink:"#894367",makara:"#897d6d",webblueviolet:"#8a2be2",burntumber:"#8a3324",truev:"#8a73d6",claycreek:"#8a8360",monsoon:"#8a8389",
stack:"#8a8f8a",jordyblue:"#8ab9f1",darkred:"#8b0000",darkmagenta:"#8b008b",electricviolet:"#8b00ff",monarch:"#8b0723",websaddlebrown:"#8b4513",cornharvest:"#8b6b0b",olivehaze:"#8b8470",schooner:"#8b847e",naturalgray:"#8b8680",mantle:"#8b9c90",portage:"#8b9fee",envy:"#8ba690",cascade:"#8ba9a5",riptide:"#8be6d8",cardinalpink:"#8c055e",violetpurple:"#8c3f99",mulefawn:"#8c472f",pottersclay:"#8c5738",trendypink:"#8c6495",smudge:"#8cb266",paprika:"#8d0226",pymolchocolate:"#8d381c",sanguinebrown:"#8d3d38",
tosca:"#8d3f3f",cement:"#8d7662",granitegreen:"#8d8974",manatee:"#8d90a1",poloblue:"#8da8cc",redberry:"#8e0000",rope:"#8e4d1e",opium:"#8e6f70",domino:"#8e775e",mamba:"#8e8190",nepal:"#8eabc1",pohutukawa:"#8f021c",elsalva:"#8f3e33",korma:"#8f4b0e",squirrel:"#8f8176",darkseagreen:"#8fbc8f",vistablue:"#8fd6b4",burgundy:"#900020",oldbrick:"#901e1e",hemp:"#907874",almondfrost:"#907b71",sycamore:"#908d39",lightgreen:"#90ee90",sangria:"#92000a",cumin:"#924321",beaver:"#926f5b",stonewall:"#928573",venus:"#928590",
mediumpurple:"#9370d8",mediumpurple:"#9370db",cornflower:"#93ccea",algaegreen:"#93dfb8",darkviolet:"#9400d3",copperrust:"#944747",arrowtown:"#948771",scarlett:"#950015",strikemaster:"#956387",mountainmist:"#959396",carmine:"#960018",brown:"#964b00",leather:"#967059","purplemountain'smajesty":"#9678b6",lavenderpurple:"#967bb6",pewter:"#96a8a1",summergreen:"#96bbab",auchico:"#97605d",wisteria:"#9771b5",atlantis:"#97cd2d",vinrouge:"#983d61",lilacbush:"#9874d3",bazaar:"#98777b",hacienda:"#98811b",paleoyster:"#988d77",
palegreen:"#98fb98",mintgreen:"#98ff98",fresheggplant:"#990066",violeteggplant:"#991199",tamarillo:"#991613",deeppurple:"#991999",totempole:"#991b07",darkorchid:"#9932cc",ruby:"#993333",copperrose:"#996666",amethyst:"#9966cc",mountbattenpink:"#997a8d",deepolive:"#999919",gray60:"#999999",bluebell:"#9999cc",prairiesand:"#9a3820",toast:"#9a6e61",gurkha:"#9a9577",olivine:"#9ab973",shadowgreen:"#9ac2b8",webyellowgreen:"#9acd32",oregon:"#9b4703",lemongrass:"#9b9e8f",stiletto:"#9c3336",hawaiiantan:"#9d5616",
gullgray:"#9dacb7",pistachio:"#9dc209",grannysmithapple:"#9de093",anakiwa:"#9de5ff",chelseagem:"#9e5302",sepiaskin:"#9e5b40",sage:"#9ea587",citron:"#9ea91f",rockblue:"#9eb1cd",morningglory:"#9edee0",cognac:"#9f381d",reefgold:"#9f821c",stardust:"#9f9f9c",santasgray:"#9fa0b1",sinbad:"#9fd7d3",feijoa:"#9fdd8c",tabasco:"#a02712",sienna:"#a0522d",butteredrum:"#a1750d",hitgray:"#a1adb5",citrus:"#a1c50a",aquaisland:"#a1dad7",waterleaf:"#a1e9de",flirt:"#a2006d",rouge:"#a23b6c",capepalliser:"#a26645",graychateau:"#a2aab3",
edward:"#a2aeab",pharlap:"#a3807b",amethystsmoke:"#a397b4",blizzardblue:"#a3e3ed",delta:"#a4a49d",wistful:"#a4a6d3",greensmoke:"#a4af6e",jazzberryjam:"#a50b5e",webbrown:"#a52a2a",pymolbrown:"#a5512b",zorba:"#a59b91",bahia:"#a5cb0c",pymolpalegreen:"#a5e5a5",roofterracotta:"#a62f20",paarl:"#a65529",barleycorn:"#a68b5b",donkeybrown:"#a69279",dawn:"#a6a29a",mexicanred:"#a72525",luxorgold:"#a7882c",richgold:"#a85307",renosand:"#a86515",coraltree:"#a86b6b",dustygray:"#a8989b",dulllavender:"#a899e6",tallow:"#a8a589",
bud:"#a8ae9c",locust:"#a8af8e",norway:"#a8bd9f",chinook:"#a8e3bd",grayolive:"#a9a491",darkgray:"#a9a9a9",aluminium:"#a9acb6",cadetblue:"#a9b2c3",schist:"#a9b497",towergray:"#a9bdbf",perano:"#a9bef2",opal:"#a9c6c2",nightshadz:"#aa375a",fire:"#aa4203",muesli:"#aa8b5b",sandal:"#aa8d6f",shadylady:"#aaa5a9",logan:"#aaa9cd",spunpearl:"#aaabb7",regentstblue:"#aad6e6",magicmint:"#aaf0d1",lipstick:"#ab0563",royalheath:"#ab3472",sandrift:"#ab917a",coldpurple:"#aba0d9",bronco:"#aba196",limedoak:"#ac8a56",eastside:"#ac91ce",
lemonginger:"#ac9e22",napa:"#aca494",hillary:"#aca586",cloudy:"#aca59f",silverchalice:"#acacac",swampgreen:"#acb78e",springrain:"#accbb1",conifer:"#acdd4d",celadon:"#ace1af",mandalay:"#ad781b",casper:"#adbed1",lightblue:"#add8e6",mossgreen:"#addfad",padua:"#ade6c4",greenyellow:"#adff2f",hippiepink:"#ae4560",desert:"#ae6020",bouquet:"#ae809e",mediumcarmine:"#af4035",appleblossom:"#af4d43",brownrust:"#af593e",driftwood:"#af8751",alpine:"#af8f2c",lucky:"#af9f1c",martini:"#afa09e",bombay:"#afb1b8",pigeonpost:"#afbdd9",
paleturquoise:"#afeeee",cadillac:"#b04c6a",matrix:"#b05d54",tapestry:"#b05e81",maitai:"#b06608",delrio:"#b09a95",lightsteelblue:"#b0c4de",powderblue:"#b0e0e6",inchworm:"#b0e313",brightred:"#b10000",pymolfirebrick:"#b12121",vesuvius:"#b14a0b",pumpkinskin:"#b1610b",santafe:"#b16d52",teak:"#b19461",fringyflower:"#b1e2c1",icecold:"#b1f4e7",shiraz:"#b20931",firebrick:"#b22222",raspberry:"#b24c66",dirtyviolet:"#b27f7f",bilobaflower:"#b2a1ea",gray70:"#b2b2b2",tallpoppy:"#b32d29",fieryorange:"#b35213",hottoddy:"#b38007",
taupegray:"#b3af95",larioja:"#b3c110",wellread:"#b43332",blush:"#b44668",junglemist:"#b4cfd3",turkishrose:"#b57281",lavender:"#b57edc",mongoose:"#b5a27f",olivegreen:"#b5b35c",jetstream:"#b5d2ce",cruise:"#b5ecdf",hibiscus:"#b6316c",thatch:"#b69d98",heatheredgray:"#b6b095",eagle:"#b6baa4",spindle:"#b6d1ea",gumleaf:"#b6d3bf",rust:"#b7410e",sand:"#b78c4c",muddywaters:"#b78e5c",sahara:"#b7a214",husk:"#b7a458",nobel:"#b7b1b1",heather:"#b7c3d0",madang:"#b7f0be",milanored:"#b81104",copper:"#b87333",darkgoldenrod:"#b8860b",
gimblet:"#b8b56a",greenspring:"#b8c1b1",celery:"#b8c25d",sail:"#b8e0f9",chestnut:"#b94e48",crail:"#b95140",marigold:"#b98d28",wildwillow:"#b9c46a",rainee:"#b9c8ac",guardsmanred:"#ba0101",rockspray:"#ba450c",mediumorchid:"#ba55d3",bourbon:"#ba6f1e",pirategold:"#ba7f03",pymoldarksalmon:"#ba8c84",nomad:"#bab1a2",submarine:"#bac7c9",charlotte:"#baeef9",mediumredviolet:"#bb3385",brandyrose:"#bb8983",riogrande:"#bbd009",surf:"#bbd7c1",rosybrown:"#bc8f8f",powderash:"#bcc9c2",tuscany:"#bd5e2e",quicksand:"#bd978e",
silk:"#bdb1a8",malta:"#bdb2a1",chatelle:"#bdb3c7",darkkhaki:"#bdb76b",lavendergray:"#bdbbd7",frenchgray:"#bdbdc6",clayash:"#bdc8b3",loblolly:"#bdc9ce",frenchpass:"#bdedfd",londonhue:"#bea6c3",pinkswan:"#beb5b7",fuego:"#bede0d",pymolpurple:"#bf00bf",roseofsharon:"#bf5500",tide:"#bfb8b0",bluehaze:"#bfbed8",pymollightblue:"#bfbfff",silversand:"#bfc1c2",keylimepie:"#bfc921",ziggurat:"#bfdbe2",lime:"#bfff00",limon:"#bfff3f",thunderbird:"#c02b18",mojo:"#c04737",oldrose:"#c08081",silver:"#c0c0c0",paleleaf:"#c0d3b9",
pixiegreen:"#c0d8b6",tiamaria:"#c1440e",fuchsiapink:"#c154c1",buddhagold:"#c1a004",bisonhide:"#c1b7a4",tea:"#c1bab0",graysuit:"#c1becd",sprout:"#c1d7b0",sulu:"#c1f07c",indochine:"#c26b03",twine:"#c2955d",cottonseed:"#c2bdb6",pumice:"#c2cac4",jaggedice:"#c2e8e5",maroonflush:"#c32148",indiankhaki:"#c3b091",paleslate:"#c3bfc1",graynickel:"#c3c3bd",periwinklegray:"#c3cde6",tiara:"#c3d1d1",tropicalblue:"#c3ddf9",cardinal:"#c41e3a",fuzzywuzzybrown:"#c45655",orangeroughy:"#c45719",pymololive:"#c4b200",mistgray:"#c4c4bc",
coriander:"#c4d0b0",minttulip:"#c4f4eb",mulberry:"#c54b8c",nugget:"#c59922",tussock:"#c5994b",seamist:"#c5dbca",yellowgreen:"#c5e17a",brickred:"#c62d42",contessa:"#c6726b",orientalpink:"#c69191",roti:"#c6a84b",ash:"#c6c3b5",kangaroo:"#c6c8bd",laspalmas:"#c6e610",monza:"#c7031e",redviolet:"#c71585",coralreef:"#c7bca2",melrose:"#c7c1ff",cloud:"#c7c4bf",ghost:"#c7c9d5",pineglade:"#c7cd90",botticelli:"#c7dde5",antiquebrass:"#c88a65",lilac:"#c8a2c8",hokeypokey:"#c8a528",lily:"#c8aabf",laser:"#c8b568",
edgewater:"#c8e3d7",piper:"#c96323",pizza:"#c99415",lightwisteria:"#c9a0dc",rodeodust:"#c9b29b",sundance:"#c9b35b",earlsgreen:"#c9b93b",silverrust:"#c9c0bb",conch:"#c9d9d2",reef:"#c9ffa2",aeroblue:"#c9ffe5",flushmahogany:"#ca3435",turmeric:"#cabb48",pariswhite:"#cadcd4",bitterlemon:"#cae00d",skeptic:"#cae6da",viola:"#cb8fa9",foggygray:"#cbcab6",greenmist:"#cbd3b0",nebula:"#cbdbd6",persianred:"#cc3333",burntorange:"#cc5500",ochre:"#cc7722",puce:"#cc8899",thistlegreen:"#cccaa8",gray80:"#cccccc",periwinkle:"#ccccff",
electriclime:"#ccff00",palecyan:"#ccffff",tenn:"#cd5700",chestnutrose:"#cd5c5c",brandypunch:"#cd8429",peru:"#cd853f",onahau:"#cdf4ff",sorrellbrown:"#ceb98f",coldturkey:"#cebaba",yuma:"#cec291",chino:"#cec7a7",eunry:"#cfa39d",oldgold:"#cfb53b",tasman:"#cfdccf",surfcrest:"#cfe5d2",hummingbird:"#cff9f3",scandal:"#cffaf4",redstage:"#d05f04",hopbush:"#d06da1",meteor:"#d07d12",perfume:"#d0bef8",prelude:"#d0c0e5",teagreen:"#d0f0c0",geebung:"#d18f1b",vanilla:"#d1bea8",softamber:"#d1c6b4",celeste:"#d1d2ca",
mischka:"#d1d2dd",pear:"#d1e231",hotcinnamon:"#d2691e",rawsienna:"#d27d46",careyspink:"#d29eaa",tan:"#d2b48c",deco:"#d2da97",blueromance:"#d2f6de",gossip:"#d2f8b0",sisal:"#d3cbba",swirl:"#d3cdc5",lightgray:"#d3d3d3",charm:"#d47494",clamshell:"#d4b6af",straw:"#d4bf8d",akaroa:"#d4c4a8",birdflower:"#d4cd16",iron:"#d4d7d9",geyser:"#d4dfe2",hawkesblue:"#d4e2fc",grenadier:"#d54600",cancan:"#d591a4",whiskey:"#d59a6f",winterhazel:"#d5d195",grannyapple:"#d5f6e3",mypink:"#d69188",tacha:"#d6c562",moonraker:"#d6cef6",
quillgray:"#d6d6d1",snowymint:"#d6ffdb",newyorkpink:"#d7837f",pavlova:"#d7c498",fog:"#d7d0ff",warmpink:"#d8337f",valencia:"#d84437",palevioletred:"#d87093",japonica:"#d87c63",thistle:"#d8bfd8",maverick:"#d8c2d5",bluewhite:"#d8d8ff",foam:"#d8fcfa",cabaret:"#d94972",burningsand:"#d99376",cameo:"#d9b99b",timberwolf:"#d9d6cf",tana:"#d9dcc1",linkwater:"#d9e4f5",mabel:"#d9f7ff",cerise:"#da3287",flamepea:"#da5b38",bamboo:"#da6304",reddamask:"#da6a41",orchid:"#da70d6",copperfield:"#da8a67",goldengrass:"#daa520",
zanah:"#daecd6",iceberg:"#daf4f0",oysterbay:"#dafaff",cranberry:"#db5079",petiteorchid:"#db9690",diserria:"#db995e",alto:"#dbdbdb",frostedmint:"#dbfff8",crimson:"#dc143c",punch:"#dc4333",galliano:"#dcb20c",blossom:"#dcb4bc",wattle:"#dcd747",westar:"#dcd9d2",gainsboro:"#dcdcdc",moonmist:"#dcddcc",caper:"#dcedb4",swansdown:"#dcf0ea",webplum:"#dda0dd",swisscoffee:"#ddd6d5",whiteice:"#ddf9f1",cerisered:"#de3163",roman:"#de6360",tumbleweed:"#dea681",burlywood:"#deb887",goldtips:"#deba13",brandy:"#dec196",
wafer:"#decbc6",sapling:"#ded4a4",barberry:"#ded717",berylgreen:"#dee5c0",pattensblue:"#def5ff",heliotrope:"#df73ff",apache:"#dfbe6f",chenin:"#dfcd6f",lola:"#dfcfdb",willowbrook:"#dfecda",chartreuseyellow:"#dfff00",mauve:"#e0b0ff",anzac:"#e0b646",harvestgold:"#e0b974",calico:"#e0c095",babyblue:"#e0ffff",sunglo:"#e16865",equator:"#e1bc64",pinkflare:"#e1c0c8",periglacialblue:"#e1e6d6",kidnapper:"#e1ead4",tara:"#e1f6e8",mandy:"#e25465",terracotta:"#e2725b",goldenbell:"#e28913",shocking:"#e292c0",dixie:"#e29418",
lightorchid:"#e29cd2",snuff:"#e2d8ed",mystic:"#e2ebed",applegreen:"#e2f3ec",razzmatazz:"#e30b5c",alizarincrimson:"#e32636",cinnabar:"#e34234",cavernpink:"#e3bebe",peppermint:"#e3f5e1",mindaro:"#e3f988",deepblush:"#e47698",gamboge:"#e49b0f",melanie:"#e4c2d5",twilight:"#e4cfde",bone:"#e4d1c0",sunflower:"#e4d422",grainbrown:"#e4d5b7",zombie:"#e4d69b",frostee:"#e4f6e7",snowflurry:"#e4ffd1",amaranth:"#e52b50",zest:"#e5841b",duststorm:"#e5ccc9",starkwhite:"#e5d7bd",hampton:"#e5d8af",bonjour:"#e5e0e1",mercury:"#e5e5e5",
polar:"#e5f9f6",trinidad:"#e64e03",goldsand:"#e6be8a",cashmere:"#e6bea5",doublespanishwhite:"#e6d7b9",satinlinen:"#e6e4d4",weblavender:"#e6e6fa",harp:"#e6f2ea",offgreen:"#e6f8f3",hintofgreen:"#e6ffe9",tranquil:"#e6ffff",mangotango:"#e77200",christine:"#e7730a",tonyspink:"#e79f8c",kobi:"#e79fc4",rosefog:"#e7bcb4",corn:"#e7bf05",putty:"#e7cd8c",graynurse:"#e7ece6",lilywhite:"#e7f8ff",bubbles:"#e7feff",firebush:"#e89928",shilo:"#e8b9b3",pearlbush:"#e8e0d5",greenwhite:"#e8ebe0",chromewhite:"#e8f1d4",
gin:"#e8f2eb",aquasqueeze:"#e8f5f2",clementine:"#e96e00",burntsienna:"#e97451",tahitigold:"#e97c07",darksalmon:"#e9967a",oysterpink:"#e9cecd",confetti:"#e9d75a",ebb:"#e9e3e3",ottoman:"#e9f8ed",clearday:"#e9fffd",carissma:"#ea88a8",porsche:"#eaae69",tuliptree:"#eab33b",robroy:"#eac674",raffia:"#eadab8",whiterock:"#eae8d4",panache:"#eaf6ee",solitude:"#eaf6ff",aquaspring:"#eaf9f5",dew:"#eafffe",apricot:"#eb9373",zinnwaldite:"#ebc2af",fuelyellow:"#eca927",ronchi:"#ecc54e",frenchlilac:"#ecc7ee",justright:"#eccdb9",
wildrice:"#ece090",fallgreen:"#ecebbd",athsspecial:"#ecebce",starship:"#ecf245",redribbon:"#ed0a3f",tango:"#ed7a1c",carrotorange:"#ed9121",seapink:"#ed989e",tacao:"#edb381",desertsand:"#edc9af",pancho:"#edcdab",chamois:"#eddcb1",primrose:"#edea99",frost:"#edf5dd",aquahaze:"#edf5f5",zumthor:"#edf6ff",narvik:"#edf9f1",honeysuckle:"#edfc84",lavendermagenta:"#ee82ee",beautybush:"#eec1be",chalky:"#eed794",almond:"#eed9c4",flax:"#eedc82",bizarre:"#eededa",doublecolonialwhite:"#eee3ad",palegoldenrod:"#eee8aa",
cararra:"#eeeee8",manz:"#eeef78",tahunasands:"#eef0c8",athensgray:"#eef0f3",tusk:"#eef3c3",loafer:"#eef4de",catskillwhite:"#eef6f7",twilightblue:"#eefdff",jonquil:"#eeff9a",riceflower:"#eeffe2",jaffa:"#ef863f",gallery:"#efefef",porcelain:"#eff2f3",lightcoral:"#f08080",mauvelous:"#f091a9",goldendream:"#f0d52d",goldensand:"#f0db7d",buff:"#f0dc82",prim:"#f0e2ec",khaki:"#f0e68c",selago:"#f0eefd",titanwhite:"#f0eeff",aliceblue:"#f0f8ff",feta:"#f0fcea",honeydew:"#f0fff0",webazure:"#f0ffff",golddrop:"#f18200",
wewak:"#f19bab",saharasand:"#f1e788",parchment:"#f1e9d2",bluechalk:"#f1e9ff",mintjulep:"#f1eec1",seashell:"#f1f1f1",saltpan:"#f1f7f2",tidal:"#f1ffad",chiffon:"#f1ffc8",flamingo:"#f2552a",tangerine:"#f28500",mandyspink:"#f2c3b2",concrete:"#f2f2f2",blacksqueeze:"#f2fafa",pomegranate:"#f34723",buttercup:"#f3ad16",neworleans:"#f3d69d",vanillaice:"#f3d9df",sidecar:"#f3e7bb",dawnpink:"#f3e9e5",wheatfield:"#f3edcf",canary:"#f3fb62",orinoco:"#f3fbd4",carla:"#f3ffd8",hollywoodcerise:"#f400a1",sandybrown:"#f4a460",
saffron:"#f4c430",ripelemon:"#f4d81c",janna:"#f4ebd3",pampas:"#f4f2ee",wildsand:"#f4f4f4",zircon:"#f4f8ff",froly:"#f57584",creamcan:"#f5c85c",manhattan:"#f5c999",maize:"#f5d5a0",wheat:"#f5deb3",sandwisp:"#f5e7a2",potpourri:"#f5e7e2",albescentwhite:"#f5e9d3",softpeach:"#f5edef",ecruwhite:"#f5f3e5",beige:"#f5f5dc",whitesmoke:"#f5f5f5",goldenfizz:"#f5fb3d",australianmint:"#f5ffbe",mintcream:"#f5fffa",frenchrose:"#f64a8a",brilliantrose:"#f653a6",illusion:"#f6a4c9",merino:"#f6f0e6",blackhaze:"#f6f7f7",
springsun:"#f6ffdc",violetred:"#f7468a",chileanfire:"#f77703",persianpink:"#f77fbe",rajah:"#f7b668",azalea:"#f7c8da",wepeep:"#f7dbe6",quarterspanishwhite:"#f7f2e1",whisper:"#f7f5fa",snowdrift:"#f7faf7",casablanca:"#f8b853",chantilly:"#f8c3df",cherub:"#f8d9e9",marzipan:"#f8db9d",energyyellow:"#f8dd5c",givry:"#f8e4bf",whitelinen:"#f8f0e8",magnolia:"#f8f4ff",springwood:"#f8f6f1",coconutcream:"#f8f7dc",whitelilac:"#f8f7fc",desertstorm:"#f8f8f7",ghostwhite:"#f8f8ff",texas:"#f8f99c",cornfield:"#f8facd",
mimosa:"#f8fdd3",carnation:"#f95a61",saffronmango:"#f9bf58",carouselpink:"#f9e0ed",dairycream:"#f9e4bc",portica:"#f9e663",underagepink:"#f9e6f4",amour:"#f9eaf3",rumswizzle:"#f9f8e4",dolly:"#f9ff8b",sugarcane:"#f9fff6",ecstasy:"#fa7814",websalmon:"#fa8072",tanhide:"#fa9d5a",corvette:"#fad3a2",peachyellow:"#fadfad",turbo:"#fae600",astra:"#faeab9",antiquewhite:"#faebd7",champagne:"#faeccc",linen:"#faf0e6",fantasy:"#faf3f0",citrinewhite:"#faf7d6",lightgoldenrodyellow:"#fafad2",alabaster:"#fafafa",hintofyellow:"#fafde4",
milan:"#faffa4",brinkpink:"#fb607f",geraldine:"#fb8989",lavenderrose:"#fba0e3",seabuckthorn:"#fba129",sun:"#fbac13",lavenderpink:"#fbaed2",rosebud:"#fbb2a3",cupid:"#fbbeda",classicrose:"#fbcce7",apricotpeach:"#fbceb1",bananamania:"#fbe7b2",marigoldyellow:"#fbe870",festival:"#fbe96c",sweetcorn:"#fbea8c",candycorn:"#fbec5d",hintofred:"#fbf9f9",shalimar:"#fbffba",shockingpink:"#fc0fc0",ticklemepink:"#fc80a5",treepoppy:"#fc9c1d",lightningyellow:"#fcc01e",pymolwheat:"#fcd1a5",goldenrod:"#fcd667",candlelight:"#fcd917",
cherokee:"#fcda98",doublepearllusta:"#fcf4d0",pearllusta:"#fcf4dc",vistawhite:"#fcf8f7",bianca:"#fcfbf3",moonglow:"#fcfeda",chinaivory:"#fcffe7",ceramic:"#fcfff9",torchred:"#fd0e35",wildwatermelon:"#fd5b78",crusta:"#fd7b33",sorbus:"#fd7c07",sweetpink:"#fd9fa2",lightapricot:"#fdd5b1",pigpink:"#fdd7e4",cinderella:"#fde1dc",goldenglow:"#fde295",lemon:"#fde910",oldlace:"#fdf5e6",halfcolonialwhite:"#fdf6d3",drover:"#fdf7ad",paleprim:"#fdfeb8",cumulus:"#fdffd5",persianrose:"#fe28a2",sunsetorange:"#fe4c40",
bittersweet:"#fe6f5e",california:"#fe9d04",yellowsea:"#fea904",melon:"#febaad",brightsun:"#fed33c",dandelion:"#fed85d",salomie:"#fedb8d",capehoney:"#fee5ac",remy:"#feebf3",oasis:"#feefce",bridesmaid:"#fef0ec",beeswax:"#fef2c7",bleachwhite:"#fef3d8",pipi:"#fef4cc",halfspanishwhite:"#fef4db",wisppink:"#fef4f8",provincialpink:"#fef5f1",halfdutchwhite:"#fef7de",solitaire:"#fef8e2",whitepointer:"#fef8ff",offyellow:"#fef9e3",orangewhite:"#fefced",red:"#ff0000",rose:"#ff007f",purplepizzazz:"#ff00cc",fuchsia:"#ff00ff",
magenta:"#ff00ff",deeppink:"#ff1493",scarlet:"#ff2400",tv_red:"#ff3333",wildstrawberry:"#ff3399",razzledazzlerose:"#ff33cc",radicalred:"#ff355e",redorange:"#ff3f34",coralred:"#ff4040",orangered:"#ff4500",vermilion:"#ff4d00",internationalorange:"#ff4f00",outrageousorange:"#ff6037",tomato:"#ff6347",blazeorange:"#ff6600",pinkflamingo:"#ff66ff",orange:"#ff681f",hotpink:"#ff69b4",persimmon:"#ff6b53",deepsalmon:"#ff6b6b",blushpink:"#ff6fff",burningorange:"#ff7034",pumpkin:"#ff7518",flamenco:"#ff7d07",flushorange:"#ff7f00",
coral:"#ff7f50",pymolviolet:"#ff7fff",darkorange:"#ff8c00",tv_orange:"#ff8c26",salmon:"#ff8c69",pizazz:"#ff9000",westside:"#ff910f",pinksalmon:"#ff91a4",neoncarrot:"#ff9933",atomictangerine:"#ff9966",vividtangerine:"#ff9980",pymolsalmon:"#ff9999",sunshade:"#ff9e2c",orangepeel:"#ffa000",lightsalmon:"#ffa07a",monalisa:"#ffa194",weborange:"#ffa500",pymolpink:"#ffa5d8",carnationpink:"#ffa6c9",hitpink:"#ffab81",yelloworange:"#ffae42",cornflowerlilac:"#ffb0ac",sundown:"#ffb1b3",brightorange:"#ffb233",mysin:"#ffb31f",
texasrose:"#ffb555",lightpink:"#ffb6c1",cottoncandy:"#ffb7d5",macaroniandcheese:"#ffb97b",selectiveyellow:"#ffba00",koromiko:"#ffbd5f",amber:"#ffbf00",pymollightpink:"#ffbfdd",waxflower:"#ffc0a8",pink:"#ffc0cb",yourpink:"#ffc3c0",supernova:"#ffc901",flesh:"#ffcba4",sunglow:"#ffcc33",goldentainoi:"#ffcc5c",lightorange:"#ffcc7f",peachorange:"#ffcc99",chardonnay:"#ffcd8c",pastelpink:"#ffd1dc",romantic:"#ffd2b7",grandis:"#ffd38c",gold:"#ffd700",schoolbusyellow:"#ffd800",cosmos:"#ffd8d9",peachpuff:"#ffdab9",
mustard:"#ffdb58",peachschnapps:"#ffdcd6",pymolyelloworange:"#ffdd5e",caramel:"#ffddaf",tuftbush:"#ffddcd",watusi:"#ffddcf",pinklace:"#ffddf4",navajowhite:"#ffdead",frangipani:"#ffdeb3",pippin:"#ffe1df",palerose:"#ffe1f2",negroni:"#ffe2c5",moccasin:"#ffe4b5",bisque:"#ffe4c4",mistyrose:"#ffe4e1",creambrulee:"#ffe5a0",peach:"#ffe5b4",tequila:"#ffe6c7",kournikova:"#ffe772",sandybeach:"#ffeac8",karry:"#ffead4",blanchedalmond:"#ffebcd",broom:"#ffec13",colonialwhite:"#ffedbc",derby:"#ffeed8",visvis:"#ffefa1",
eggwhite:"#ffefc1",papayawhip:"#ffefd5",fairpink:"#ffefec",peachcream:"#fff0db",lavenderblush:"#fff0f5",gorse:"#fff14f",buttermilk:"#fff1b5",pinklady:"#fff1d8",forgetmenot:"#fff1ee",tutu:"#fff1f9",picasso:"#fff39d",chardon:"#fff3f1",parisdaisy:"#fff46e",barleywhite:"#fff4ce",eggsour:"#fff4dd",sazerac:"#fff4e0",serenade:"#fff4e8",chablis:"#fff4f3",seashellpeach:"#fff5ee",sauvignon:"#fff5f3",milkpunch:"#fff6d4",varden:"#fff6df",rosewhite:"#fff6f5",bajawhite:"#fff8d1",cornsilk:"#fff8dc",ginfizz:"#fff9e2",
earlydawn:"#fff9e6",lemonchiffon:"#fffacd",floralwhite:"#fffaf0",bridalheath:"#fffaf4",snow:"#fffafa",scotchmist:"#fffbdc",soapstone:"#fffbf9",witchhaze:"#fffc99",butterywhite:"#fffcea",islandspice:"#fffcee",cream:"#fffdd0",chileanheath:"#fffde6",travertine:"#fffde8",orchidwhite:"#fffdf3",quarterpearllusta:"#fffdf4",halfandhalf:"#fffee1",apricotwhite:"#fffeec",ricecake:"#fffef0",blackwhite:"#fffef6",romance:"#fffefd",yellow:"#ffff00",tv_yellow:"#ffff33",laserlemon:"#ffff66",paleyellow:"#ffff7f",palecanary:"#ffff99",
portafino:"#ffffb4",lightyellow:"#ffffe0",ivory:"#fffff0",white:"#ffffff"},canvas2DSupported=!!window.CanvasRenderingContext2D;
function RvLayer(a,k,e,f,d,h,b){this.LayerName=a;this.CanvasName=k;null==document.getElementById(k)&&("selected"===this.Type?$("#canvasDiv").append($('<canvas id="'+k+'" style="z-index:'+(rvDataSets[0].LastLayer+1+800)+';"></canvas>')):$("#canvasDiv").append($('<canvas id="'+k+'" style="z-index:'+(rvDataSets[0].LastLayer+1)+';"></canvas>')));this.Canvas=document.getElementById(k);this.Canvas.getContext&&(this.CanvasContext=this.Canvas.getContext("2d"));this.Data=e;this.dataLayerColors=[];this.Filled=
f;this.ScaleFactor=d;this.LinearGradients=[];this.Type=h;this.zIndex=rvDataSets[0].LastLayer+1;this.Visible=!0;this.Linked=this.Selected=!1;this.ColorLayer=[];this.ColorGradientMode="Matched";this.DataLabel="None";this.Color=b?b:"#0000FF";"lines"===this.Type&&(this.ColorLayer="gray_lines",this.ColorGradientMode="Matched");this.updateZIndex=function(a){this.Canvas.style.zIndex="selected"===this.Type?a+800:a;this.zIndex=a};this.toJSON=function(){return{LayerName:this.LayerName,CanvasName:this.CanvasName,
Data:this.Data,dataLayerColors:this.dataLayerColors,Filled:this.Filled,ScaleFactor:this.ScaleFactor,LinearGradients:this.LinearGradients,Type:this.Type,zIndex:this.zIndex,Visible:this.Visible,Selected:this.Selected,Linked:this.Linked,ColorLayer:this.ColorLayer,ColorGradientMode:this.ColorGradientMode,DataLabel:this.DataLabel,Color:this.Color,ColorLayer:this.ColorLayer,ColorGradientMode:this.ColorGradientMode}};this.fromJSON=function(a){var b=new RvLayer(a.LayerName,a.CanvasName,a.Data,a.Filled,a.ScaleFactor,
a.Type,a.Color);b.dataLayerColors=a.dataLayerColors;b.LinearGradients=a.LinearGradients;b.zIndex=a.zIndex;b.Visible=a.Visible;b.Selected=a.Selected;b.Linked=a.Linked;b.ColorLayer=a.ColorLayer;b.ColorGradientMode=a.ColorGradientMode;b.DataLabel=a.DataLabel;b.ColorLayer=a.ColorLayer;b.ColorGradientMode=a.ColorGradientMode;return b};this.clearCanvas=function(){canvas2DSupported&&(this.CanvasContext.setTransform(1,0,0,1,0,0),this.CanvasContext.clearRect(0,0,rvViews[0].width,rvViews[0].height),this.CanvasContext.setTransform(rvViews[0].scale,
0,0,rvViews[0].scale,rvViews[0].x,rvViews[0].y))};this.addLinearGradient=function(a){this.LinearGradients.push(a)};this.deleteLayer=function(){$(this.Canvas).remove()};this.clearData=function(){this.dataLayerColors=[];this.Data=[];for(var a=0;a<rvDataSets[0].Residues.length;a++)this.dataLayerColors[a]=void 0,this.Data[a]=void 0};this.setVisibility=function(a){switch(a){case "hidden":$(this.Canvas).css("visibility","hidden");this.Visible=!1;break;case "visible":$(this.Canvas).css("visibility","visible");
this.Visible=!0;break;default:alert("this shouldn't happen")}};this.clearAll=function(){switch(this.Type){case "circles":this.DataLabel="None";$("[name="+this.LayerName+"]").find(".layerContent").find("span[name=DataLabel]").text(this.DataLabel);this.clearData();drawNavLine();rvDataSets[0].clearCanvas(this.LayerName);update3Dcolors();break;case "residues":this.DataLabel="None";$("[name="+this.LayerName+"]").find(".layerContent").find("span[name=DataLabel]").text(this.DataLabel);this.clearData();clearColor(!1);
drawNavLine();update3Dcolors();break;case "lines":this.DataLabel="None",$("[name="+this.LayerName+"]").find(".layerContent").find("span[name=DataLabel]").text(this.DataLabel),drawNavLine(),refreshBasePairs("clear_lines")}}}function RvSelection(a,k,e,f){this.Name=a;this.zIndex=rvDataSets[0].Selections.length;this.Residues=k?k:[];this.Residues_rProtein=f?f:[];this.Color=e?e:"#940B06";this.Selected=!1}
function rvDataSet(a){function k(a){if(void 0!==rvDataSets[0].Residues&&"circles"===a.Type){a.clearCanvas();for(var b=rvDataSets[0].SpeciesEntry.Circle_Radius,d=rvDataSets[0].Residues.length-1;0<=d;d--)void 0!=a.dataLayerColors[d]&&"#858585"!=a.dataLayerColors[d]&&(a.CanvasContext.beginPath(),a.CanvasContext.arc(rvDataSets[0].Residues[d].X,rvDataSets[0].Residues[d].Y,a.ScaleFactor*b,0,2*Math.PI,!1),a.CanvasContext.closePath(),a.CanvasContext.strokeStyle=a.dataLayerColors[d],a.CanvasContext.stroke(),
a.Filled&&(a.CanvasContext.fillStyle=a.dataLayerColors[d],a.CanvasContext.fill()))}}function e(a,b){if(canvas2DSupported&&(a.CanvasContext.textAlign="left",void 0!=rvDataSets[0].rvTextLabels)){watermark(!1);for(var d=0;d<rvDataSets[0].rvTextLabels.length;d++)a.CanvasContext.font=.7*rvDataSets[0].rvTextLabels[d].FontSize+'pt "Myriad Pro", Calibri, Arial',a.CanvasContext.fillStyle=rvDataSets[0].rvTextLabels[d].Fill,a.CanvasContext.fillText(rvDataSets[0].rvTextLabels[d].LabelText,rvDataSets[0].rvTextLabels[d].X,
rvDataSets[0].rvTextLabels[d].Y);a.CanvasContext.strokeStyle="rgba(35,31,32,32)";a.CanvasContext.lineWidth=.5;for(d=0;d<rvDataSets[0].rvLineLabels.length;d++)a.CanvasContext.beginPath(),a.CanvasContext.moveTo(rvDataSets[0].rvLineLabels[d].X1,rvDataSets[0].rvLineLabels[d].Y1),a.CanvasContext.lineTo(rvDataSets[0].rvLineLabels[d].X2,rvDataSets[0].rvLineLabels[d].Y2),a.CanvasContext.closePath(),a.CanvasContext.stroke()}}function f(a,b,d,e){if("residues"===a.Type)if(a.clearCanvas(),rvDataSets[0].Residues&&
0<rvDataSets[0].Residues.length){if(b&&d)for(e=0;e<rvDataSets[0].Residues.length;e++)d[b[e]]?(rvDataSets[0].Residues[e].color=d[b[e]],a.dataLayerColors[e]=d[b[e]]):e in b&&(rvDataSets[0].Residues[e].color="#000000",a.dataLayerColors[e]="#000000");else for(e=0;e<rvDataSets[0].Residues.length;e++)rvDataSets[0].Residues[e].color=a.dataLayerColors[e];a.CanvasContext.strokeStyle="#000000";a.CanvasContext.font=rvDataSets[0].SpeciesEntry.Font_Size_Canvas+'pt "Myriad Pro", Calibri, Arial';a.CanvasContext.textBaseline=
"middle";a.CanvasContext.textAlign="center";for(e=rvDataSets[0].Residues.length-1;0<=e;e--)a.CanvasContext.fillStyle=a.dataLayerColors[e]||"#000000",a.CanvasContext.fillText(rvDataSets[0].Residues[e].resName,rvDataSets[0].Residues[e].X,rvDataSets[0].Residues[e].Y)}else welcomeScreen()}function d(a,b){var d=[];b?d[0]=b:$(".checkBoxDIV-S").find(".visibilityCheckImg[value=visible]").parent().parent().each(function(a){d.push($(this).attr("name"))});var e=rvDataSets[0].SpeciesEntry.Circle_Radius;a.clearCanvas();
a.Data=[];a.dataLayerColors=[];if(rvDataSets[0].Residues&&0<rvDataSets[0].Residues.length){for(var f=rvDataSets[0].Residues.length-1;0<=f;f--)a.Data[f]=!1,a.dataLayerColors[f]="#858585";for(f=d.length-1;0<=f;f--)for(var h=rvDataSets[0].getSelection(d[f]),k=h.Residues.length-1;0<=k;k--)a.CanvasContext.beginPath(),a.CanvasContext.arc(h.Residues[k].X,h.Residues[k].Y,a.ScaleFactor*e,0,2*Math.PI,!1),a.CanvasContext.closePath(),a.CanvasContext.strokeStyle=h.Color,a.CanvasContext.lineWidth=.5,a.CanvasContext.stroke(),
a.Data[h.Residues[k].map_Index-1]=!0,a.dataLayerColors[h.Residues[k].map_Index-1]=h.Color;"selected"==rvDataSets[0].getLinkedLayer().Type&&update3Dcolors()}}function h(a,b,d,e){if("circles"===a.Type){if(e||(a.clearCanvas(),a.dataLayerColors=[]),e=rvDataSets[0].SpeciesEntry.Circle_Radius,void 0!=rvDataSets[0].Residues)for(var f=rvDataSets[0].Residues.length-1;0<=f;f--)b&&d&&void 0!=d[b[f]]&&"#858585"!=d[b[f]]?(a.CanvasContext.beginPath(),a.CanvasContext.arc(rvDataSets[0].Residues[f].X,rvDataSets[0].Residues[f].Y,
a.ScaleFactor*e,0,2*Math.PI,!1),a.CanvasContext.closePath(),a.CanvasContext.strokeStyle=d[b[f]],a.CanvasContext.stroke(),a.Filled&&(a.CanvasContext.fillStyle=d[b[f]],a.CanvasContext.fill()),a.dataLayerColors[f]=d[b[f]]):b||d||!a.dataLayerColors[f]||"#858585"==a.dataLayerColors[f]||(a.CanvasContext.beginPath(),a.CanvasContext.arc(rvDataSets[0].Residues[f].X,rvDataSets[0].Residues[f].Y,a.ScaleFactor*e,0,2*Math.PI,!1),a.CanvasContext.closePath(),a.CanvasContext.strokeStyle=a.dataLayerColors[f],a.CanvasContext.stroke(),
a.Filled&&(a.CanvasContext.fillStyle=a.dataLayerColors[f],a.CanvasContext.fill()))}else return!1}function b(a,b){var d,e,f=$('input[name="za"][value=on]').is(":checked");a.clearCanvas();b?a.ColorLayer=b:b=a.ColorLayer;a.Data=rvDataSets[0].BasePairs;if(void 0!=a.Data||a.Data==[]){if("Matched"==a.ColorGradientMode)var h=[0,1];else"Opposite"==a.ColorGradientMode?h=[1,0]:alert("how did we get here?");for(var k=0;k<a.Data.length;k++){var s=a.Data[k].resIndex1,u=a.Data[k].resIndex2;if(f){e=Math.sqrt((rvDataSets[0].Residues[s].X-
rvDataSets[0].Residues[u].X)*(rvDataSets[0].Residues[s].X-rvDataSets[0].Residues[u].X)+(rvDataSets[0].Residues[s].Y-rvDataSets[0].Residues[u].Y)*(rvDataSets[0].Residues[s].Y-rvDataSets[0].Residues[u].Y));if(150-23*rvViews[0].scale>e){a.Data[k].color="rgba(35,31,32,"+a.Data[k].opacity+")";continue}if((0>rvDataSets[0].Residues[s].X*rvViews[0].scale+rvViews[0].x||rvDataSets[0].Residues[s].X*rvViews[0].scale+rvViews[0].x>rvViews[0].clientWidth||0>rvDataSets[0].Residues[s].Y*rvViews[0].scale+rvViews[0].y||
rvDataSets[0].Residues[s].Y*rvViews[0].scale+rvViews[0].y>rvViews[0].clientHeight)&&(0>rvDataSets[0].Residues[u].X*rvViews[0].scale+rvViews[0].x||rvDataSets[0].Residues[u].X*rvViews[0].scale+rvViews[0].x>rvViews[0].clientWidth||0>rvDataSets[0].Residues[u].Y*rvViews[0].scale+rvViews[0].y||rvDataSets[0].Residues[u].Y*rvViews[0].scale+rvViews[0].y>rvViews[0].clientHeight)){a.Data[k].color="rgba(35,31,32,"+a.Data[k].opacity+")";continue}}if(0<=s&&0<=u){switch(b.Type){case void 0:if("gray_lines"==b){var w=
rvDataSets[0].HighlightLayer.CanvasContext.createLinearGradient(rvDataSets[0].Residues[s].X,rvDataSets[0].Residues[s].Y,rvDataSets[0].Residues[u].X,rvDataSets[0].Residues[u].Y);d=colorNameToHex("#231F20");e=colorNameToHex("#231F20");w.addColorStop(h[0],"rgba("+h2d(d.slice(1,3))+","+h2d(d.slice(3,5))+","+h2d(d.slice(5))+","+a.Data[k].opacity+")");w.addColorStop(h[1],"rgba("+h2d(e.slice(1,3))+","+h2d(e.slice(3,5))+","+h2d(e.slice(5))+","+a.Data[k].opacity+")");a.Data[k].color=w;a.Data[k].color_hex=
d}else"manual_coloring"==b?(w=rvDataSets[0].HighlightLayer.CanvasContext.createLinearGradient(rvDataSets[0].Residues[s].X,rvDataSets[0].Residues[s].Y,rvDataSets[0].Residues[u].X,rvDataSets[0].Residues[u].Y),d=a.Data[k].color_hex,e=a.Data[k].color_hex,w.addColorStop(h[0],"rgba("+h2d(d.slice(1,3))+","+h2d(d.slice(3,5))+","+h2d(d.slice(5))+","+a.Data[k].opacity+")"),w.addColorStop(h[1],"rgba("+h2d(e.slice(1,3))+","+h2d(e.slice(3,5))+","+h2d(e.slice(5))+","+a.Data[k].opacity+")"),a.Data[k].color=w,a.Data[k].color_hex=
d):alert("Invalid color mode");break;case "residues":w=b.CanvasContext.createLinearGradient(rvDataSets[0].Residues[s].X,rvDataSets[0].Residues[s].Y,rvDataSets[0].Residues[u].X,rvDataSets[0].Residues[u].Y);rvDataSets[0].Residues[s].color&&rvDataSets[0].Residues[u].color&&(d=colorNameToHex(rvDataSets[0].Residues[s].color),e=colorNameToHex(rvDataSets[0].Residues[u].color),w.addColorStop(h[0],"rgba("+h2d(d.slice(1,3))+","+h2d(d.slice(3,5))+","+h2d(d.slice(5))+","+a.Data[k].opacity+")"),w.addColorStop(h[1],
"rgba("+h2d(e.slice(1,3))+","+h2d(e.slice(3,5))+","+h2d(e.slice(5))+","+a.Data[k].opacity+")"));a.Data[k].color=w;a.Data[k].color_hex=d;break;case "circles":w=b.CanvasContext.createLinearGradient(rvDataSets[0].Residues[s].X,rvDataSets[0].Residues[s].Y,rvDataSets[0].Residues[u].X,rvDataSets[0].Residues[u].Y);b.dataLayerColors[s]&&b.dataLayerColors[u]&&(d=colorNameToHex(b.dataLayerColors[s]),e=colorNameToHex(b.dataLayerColors[u]),w.addColorStop(h[0],"rgba("+h2d(d.slice(1,3))+","+h2d(d.slice(3,5))+","+
h2d(d.slice(5))+","+a.Data[k].opacity+")"),w.addColorStop(h[1],"rgba("+h2d(e.slice(1,3))+","+h2d(e.slice(3,5))+","+h2d(e.slice(5))+","+a.Data[k].opacity+")"));a.Data[k].color=w;a.Data[k].color_hex=d;break;case "selected":w=b.CanvasContext.createLinearGradient(rvDataSets[0].Residues[s].X,rvDataSets[0].Residues[s].Y,rvDataSets[0].Residues[u].X,rvDataSets[0].Residues[u].Y);if(b.Data[s]||b.Data[u])d=colorNameToHex(b.dataLayerColors[s]),e=colorNameToHex(b.dataLayerColors[u]),w.addColorStop(h[0],"rgba("+
h2d(d.slice(1,3))+","+h2d(d.slice(3,5))+","+h2d(d.slice(5))+","+a.Data[k].opacity+")"),w.addColorStop(h[1],"rgba("+h2d(e.slice(1,3))+","+h2d(e.slice(3,5))+","+h2d(e.slice(5))+","+a.Data[k].opacity+")");a.Data[k].color=w;a.Data[k].color_hex=d;break;default:alert("this shouldn't be happening right now.")}a.CanvasContext.beginPath();a.CanvasContext.moveTo(rvDataSets[0].Residues[s].X,rvDataSets[0].Residues[s].Y);a.CanvasContext.lineTo(rvDataSets[0].Residues[u].X,rvDataSets[0].Residues[u].Y);a.CanvasContext.strokeStyle=
a.Data[k].color;a.CanvasContext.lineWidth=a.Data[k].lineWidth;a.CanvasContext.stroke();a.CanvasContext.closePath();f&&10<rvViews[0].scale&&(e=rvDataSets[0].Residues[s].X-(rvDataSets[0].Residues[s].X-rvDataSets[0].Residues[u].X)/2,s=rvDataSets[0].Residues[s].Y-(rvDataSets[0].Residues[s].Y-rvDataSets[0].Residues[u].Y)/2,a.CanvasContext.save(),a.CanvasContext.lineWidth=.5,a.CanvasContext.fillStyle="white",a.CanvasContext.fillRect(e-2.4,s-.8,4.7,1.7),a.CanvasContext.strokeRect(e-2.3,s-.7,4.5,1.5),a.CanvasContext.restore(),
a.CanvasContext.save(),a.CanvasContext.font=".5px Arial",a.CanvasContext.fillText(a.Data[k].bp_type,e-2,s+.5),a.CanvasContext.restore())}}}}this.Name=a;this.Layers=[];this.HighlightLayer=[];this.Residues=[];this.ResidueList=[];this.SequenceList="";this.rvTextLabels=[];this.rvLineLabels=[];this.BasePairs=[];this.CustomData=[];this.SpeciesEntry=[];this.Selections=[];this.LastLayer=-1;this.LayerTypes="circles lines labels residues contour selected".split(" ");this.ConservationTable=[];this.DataDescriptions=
[];this.ExtraPyMOLScript="";this.ColorProteins=[];this.toJSON=function(){return{DataSetName:this.Name,Layers:this.Layers,Residues:this.Residues,ResidueList:this.ResidueList,rvTextLabels:this.rvTextLabels,rvLineLabels:this.rvLineLabels,BasePairs:this.BasePairs,CustomData:this.CustomData,SpeciesEntry:this.SpeciesEntry,Selections:this.Selections,LastLayer:this.LastLayer,LayerTypes:this.LayerTypes,ConservationTable:this.ConservationTable,DataDescriptions:this.DataDescriptions}};this.fromJSON=function(b){b=
JSON.parse(b);var d=new rvDataSet(a);d.Residues=b.Residues;d.ResidueList=b.ResidueList;d.rvTextLabels=b.rvTextLabels;d.rvLineLabels=b.rvLineLabels;d.BasePairs=b.BasePairs;d.CustomData=b.CustomData;d.SpeciesEntry=b.SpeciesEntry;d.Selections=b.Selections;d.LastLayer=b.LastLayer;d.ConservationTable=b.ConservationTable;d.DataDescriptions=b.DataDescriptions;d.addHighlightLayer("HighlightLayer","HighlightLayer",[],!1,1.176,"highlight");$.each(b.Layers,function(a,b){d.Layers[a]=d.HighlightLayer.fromJSON(b)});
return d};this.addLayers=function(a){this.Layers=a;this.LastLayer=this.Layers.length-1};this.addLayer=function(a,b,d,e,f,h,k){a=new RvLayer(a,b,d,e,f,h,k);this.Layers[this.Layers.length]=a;this.LastLayer=this.Layers.length-1};this.addHighlightLayer=function(a,b,d,e,f,h){this.HighlightLayer=new RvLayer(a,b,d,e,f,h)};this.addResidues=function(a){this.Residues=a;var b=[],d;for(d=0;d<a.length;d++)b[d]=a[d].ChainID+"_"+a[d].resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"");this.ResidueList=b;b="";for(d=
0;d<a.length;d++)b=b.concat(a[d].resName);this.SequenceList=b};this.addLabels=function(a,b,d){void 0!==a&&(this.rvTextLabels=a);void 0!==b&&(this.rvLineLabels=b);void 0!==d&&(this.rvExtraLabels=d)};this.addBasePairs=function(a){this.BasePairs=a};this.addCustomData=function(a){this.CustomData=a};this.addSpeciesEntry=function(a){this.SpeciesEntry=a;this.SpeciesEntry.Molecule_Names=this.SpeciesEntry.Molecule_Names.split(":");this.SpeciesEntry.Molecule_Names_rProtein=this.SpeciesEntry.Molecule_Names_rProtein.split(":")};
this.addSelection=function(a,b,d){a||(a="Selection_"+(this.Selections.length+1));this.Selections.unshift(new RvSelection(a,b,d))};this.sort=function(){this.Layers.sort(function(a,b){return Number(a.zIndex)-Number(b.zIndex)});$.each(this.Layers,function(a,b){this.updateZIndex(a)})};this.SelectionsSort=function(){this.Selections.sort(function(a,b){return Number(a.zIndex)-Number(b.zIndex)});$.each(this.Selections,function(a,b){this.zIndex=a})};this.clearCanvas=function(a){0<=$.inArray(a,this.LayerTypes)?
$.each(this.Layers,function(b,d){d.Type===a&&d.clearCanvas()}):$.each(this.Layers,function(b,d){d.LayerName===a&&d.clearCanvas()})};this.refreshResiduesExpanded=function(a){0<=$.inArray(a,this.LayerTypes)?$.each(this.Layers,function(b,d){d.Type===a&&k(d)}):$.each(this.Layers,function(b,d){d.LayerName===a&&k(d)})};this.drawLabels=function(a,b){this.clearCanvas(a);0<=$.inArray(a,this.LayerTypes)?$.each(this.Layers,function(d,f){f.Type===a&&e(f,b)}):$.each(this.Layers,function(d,f){f.LayerName===a&&
e(f,b)})};this.clearData=function(a){0<=$.inArray(a,this.LayerTypes)?$.each(this.Layers,function(b,d){d.Type===a&&d.clearData()}):$.each(this.Layers,function(b,d){d.LayerName===a&&d.clearData()})};this.drawResidues=function(a,b,d,e){0<=$.inArray(a,this.LayerTypes)?$.each(this.Layers,function(h,k){k.Type===a&&f(k,b,d,e)}):$.each(this.Layers,function(h,k){k.LayerName===a&&f(k,b,d,e)})};this.drawSelection=function(a,b){0<=$.inArray(a,this.LayerTypes)?$.each(this.Layers,function(e,f){f.Type===a&&d(f,
b)}):$.each(this.Layers,function(e,f){f.LayerName===a&&d(f,b)})};this.drawDataCircles=function(a,b,d,e){0<=$.inArray(a,this.LayerTypes)?$.each(this.Layers,function(f,k){k.Type===a&&h(k,b,d,e)}):$.each(this.Layers,function(f,k){k.LayerName===a&&h(k,b,d,e)})};this.drawBasePairs=function(a,d){0<=$.inArray(a,this.LayerTypes)?$.each(this.Layers,function(e,f){f.Type===a&&b(f,d)}):$.each(this.Layers,function(e,f){f.LayerName===a&&b(f,d)})};this.getLayer=function(a){var b=!1;$.each(this.Layers,function(d,
e){if(e.LayerName===a)return b=e,!1});return b};this.getLayerByType=function(a){$.isArray(a)||(a=[a]);var b=[];$.each(this.Layers,function(d,e){0<=$.inArray(e.Type,a)&&b.push(e)});return 0<b.length?b:!1};this.getSelectedLayer=function(){var a=!1;$.each(this.Layers,function(b,d){if(d.Selected)return a=d,!1});return a};this.getLinkedLayer=function(){var a=!1;$.each(this.Layers,function(b,d){if(d.Linked)return a=d,!1});return a};this.linkLayer=function(a){$.each(this.Layers,function(b,d){d.Linked=d.LayerName===
a?!0:!1})};this.selectLayer=function(a){$.each(this.Layers,function(b,d){d.Selected=d.LayerName===a?!0:!1})};this.isUniqueLayer=function(a){var b=!0;$.each(this.Layers,function(d,e){if(e.LayerName===a)return b=!1});return b};this.deleteLayer=function(a){$.each(this.Layers,function(b,d){if(d.LayerName===a)return d.deleteLayer(),rvDataSets[0].Layers.splice(b,1),!1});$.each(this.Layers,function(b,d){d.LayerName===a&&d.updateZIndex(b)});this.LastLayer=this.Layers.length-1};this.getSelection=function(a){var b=
!1;$.each(this.Selections,function(d,e){if(e.Name===a)return b=e,!1});return b};this.deleteSelection=function(a){$.each(this.Selections,function(b,d){if(d.Name===a)return rvDataSets[0].Selections.splice(b,1),!1})};this.isUniqueSelection=function(a){var b=!0;$.each(this.Selections,function(d,e){if(e.Name===a)return b=!1});return b}}
function rvView(a,k,e){this.x=a;this.y=k;this.scale=e;this.lastX=[];this.lastY=[];this.startX=[];this.startY=[];this.width=[];this.height=[];this.clientWidth=[];this.clientHeight=[];this.slideValue=20;this.zoom=function(a,d){$("#slider").slider("value")+d<=$("#slider").slider("option","max")&$("#slider").slider("value")+d>=$("#slider").slider("option","min")&&(zoom(a.clientX-$("#menu").outerWidth(),a.clientY-$("#topMenu").outerHeight(),Math.pow(1.1,d),this),$("#slider").slider("value",$("#slider").slider("value")+
d),this.slideValue=$("#slider").slider("value")+d)};this.drag=function(a){var d=rvDataSets[0].getSelection($("input:radio[name=selectedRadioS]").filter(":checked").parent().parent().attr("name"));rvDataSets[0].HighlightLayer.CanvasContext.strokeStyle=d.Color;rvDataSets[0].HighlightLayer.CanvasContext.strokeRect(this.startX,this.startY,(a.clientX-$("#menu").outerWidth()-this.x)/this.scale-this.startX,(a.clientY-$("#topMenu").outerHeight()-this.y)/this.scale-this.startY)};this.restore=function(){$("#slider").slider("value",
this.slideValue);rvDataSets[0].drawResidues("residues");rvDataSets[0].drawSelection("selected");rvDataSets[0].refreshResiduesExpanded("circles");rvDataSets[0].drawLabels("labels");rvDataSets[0].drawBasePairs("lines")};this.toJSON=function(){return{x:this.x,y:this.y,scale:this.scale,lastX:this.lastX,lastY:this.lastY,startX:this.startX,startY:this.startY,width:this.width,height:this.height,clientWidth:this.clientWidth,clientHeight:this.clientHeight,slideValue:this.slideValue}};this.fromJSON=function(a){a=
JSON.parse(a);var d=new rvView(a.x,a.y,a.scale);d.lastX=a.lastX;d.lastY=a.lastY;d.startX=a.startX;d.startY=a.startY;d.width=a.width;d.height=a.height;d.clientWidth=a.clientWidth;d.clientHeight=a.clientHeight;d.slideValue=a.slideValue;return d}}
var JmolInfo={addSelectionOptions:!1,color:"#FFFFFF",debug:!1,defaultModel:"",height:"100%",j2sPath:"./jmol/j2s",isSigned:!0,jarFile:"JmolAppletSigned0.jar",jarPath:"./jmol/java",memoryLimit:1024,readyFunction:null,script:null,serverURL:"./jmol/jsmol.php",src:null,use:"Java HTML5",width:"100%"};
function loadSpecies(a,k,e){$.getJSON("getData.php",{FullTable:"DataDescriptions"},function(a){rvDataSets[0].DataDescriptions=a});rvDataSets[0].Name=a;rvDataSets[0].ColorProteins=[];$.each(rvDataSets[0].Layers,function(a,e){e.clearAll()});rvDataSets[0].ConservationTable=[];$(".dataBubble").remove();if("None"!=a)$.getJSON("getData.php",{Residues:a},function(d){var f=rvDataSets[0].getLayerByType("residues");rvDataSets[0].clearData("residues");$.each(d,function(a,b){d[a].color="#000000";d[a].selected=
0;f[0].Data[a]=d[a].Domains_Color});rvDataSets[0].addResidues(d);f[0].DataLabel="Domains";$("[name="+f[0].LayerName+"]").find(".layerContent").find("span[name=DataLabel]").text(f[0].DataLabel);var b=["Domains_Color"],c=$.grep(rvDataSets[0].DataDescriptions,function(a){return a.ColName===b[0]}),c=c[0]?"Domains: "+c[0].Description:"Data Description is missing.";$(".miniLayerName[name="+f[0].LayerName+"]").attr("title",c);$.getJSON("getData.php",{SpeciesTable:a},function(b){rvDataSets[0].addSpeciesEntry(b[0]);
e||clearSelection(!0);initLabels(a);$.getJSON("getData.php",{FullTable:rvDataSets[0].SpeciesEntry.ConservationTable},function(a){rvDataSets[0].ConservationTable=a});$("#TemplateLink").attr("href","./Templates/"+a+"_UserDataTemplate.csv");populateDomainHelixMenu();b=document.getElementById("ProtList");var c=rvDataSets[0].SpeciesEntry.ProteinMenu.split(";");b.options.length=0;rvDataSets[0].SpeciesEntry.SubunitProtChains=[];rvDataSets[0].SpeciesEntry.SubunitProtChains[0]=[];rvDataSets[0].SpeciesEntry.SubunitProtChains[1]=
[];rvDataSets[0].SpeciesEntry.SubunitProtChains[2]=[];if(""!=c[0]){for(var d=0;d<c.length;d++){var k=c[d].split(":"),q=["All_Proteins"],r=$.grep(rvDataSets[0].DataDescriptions,function(a){return a.ColName===q[0]}),r=r[0]?"All_Proteins: "+r[0].Description:"Data Description is missing.";b.options[d]=new Option(k[0],k[1]);rvDataSets[0].SpeciesEntry.SubunitProtChains[0][d]=k[0];rvDataSets[0].SpeciesEntry.SubunitProtChains[1][d]=k[2];rvDataSets[0].SpeciesEntry.SubunitProtChains[2][d]=k[1]}$("#ProteinBubbles").append($('<h3 class="dataBubble ui-helper-reset ui-corner-all ui-state-default ui-corner-bottom" style="text-align:center;padding:0.2em">').text("Protein Contacts").attr("name",
"All_Proteins").attr("title",r))}rvDataSets[0].SpeciesEntry.SubunitProtChains=rvDataSets[0].SpeciesEntry.SubunitProtChains;$("#ProtList").multiselect("refresh");c=rvDataSets[0].SpeciesEntry.AlnMenu.split(";");if(""!=c[0])for(b=0;b<c.length;b++)d=c[b].split(":"),q=d[1].match(/[^\'\\,]+/),r=$.grep(rvDataSets[0].DataDescriptions,function(a){return a.ColName===q[0]}),r=r[0]?d[0]+": "+r[0].Description:"Data Description is missing.",$("#AlnBubbles").append($('<h3 class="dataBubble ui-helper-reset ui-corner-all ui-state-default ui-corner-bottom" style="text-align:center;padding:0.2em">').text(d[0]).attr("name",
d[1]).attr("title",r));c=rvDataSets[0].SpeciesEntry.StructDataMenu.split(";");if(""!=c[0])for(b=0;b<c.length;b++)d=c[b].split(":"),q=d[1].match(/[^\'\\,]+/),r=$.grep(rvDataSets[0].DataDescriptions,function(a){return a.ColName===q[0]}),r=q[0]&&r[0]?d[0]+": "+r[0].Description:'""'==q[0]?"None: This clears circles and makes letters black.":"Data Description is missing.",$("#StructDataBubbles").append($('<h3 class="dataBubble ui-helper-reset ui-corner-all ui-state-default ui-corner-bottom" style="text-align:center;padding:0.2em">').text(d[0]).attr("name",
d[1]).attr("title",r));r=document.getElementById("PrimaryInteractionList");b=rvDataSets[0].SpeciesEntry.InterActionMenu.split(";");r.options.length=0;r.options[0]=new Option("None","clear_lines",!0,!0);r.options[0].setAttribute("selected","selected");if(""!=b[0])for(c=0;c<b.length;c++)d=b[c].split(":"),r.options[c+1]=new Option(d[0],d[1]);$("#PrimaryInteractionList").multiselect("refresh");$("#StructDataDiv").sortable({update:function(a,b){},items:".dataBubble"});$("#AlnDiv").sortable({update:function(a,
b){},items:".dataBubble"});$("#ProtDiv").sortable({update:function(a,b){},items:".dataBubble"});ProcessBubble($("#StructDataBubbles").find(".dataBubble:contains('Domains')"),f[0]);rvDataSets[0].drawLabels("labels");drawNavLine();null!=myJmol&&(Jmol.script(myJmol,"script states/"+rvDataSets[0].SpeciesEntry.Jmol_Script),Jmol.script(myJmol,"display "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1"),updateModel());e&&e.resolve()});k&&k.resolve()});else{rvDataSets[0].addResidues([]);rvDataSets[0].SpeciesEntry=
[];rvDataSets[0].SpeciesEntry.Species_Abr=[];rvDataSets[0].SpeciesEntry.PDB_chains=[];rvDataSets[0].SpeciesEntry.Molecule_Names=[];rvDataSets[0].SpeciesEntry.TextLabels=[];rvDataSets[0].SpeciesEntry.LineLabels=[];rvDataSets[0].SpeciesEntry.SubunitProtChains=[];rvDataSets[0].SpeciesEntry.MapType="None";initLabels(a);var f=document.getElementById("ProtList");f.options.length=0;f.options[0]=new Option("None","clear_data");f=document.getElementById("PrimaryInteractionList");f.options.length=0;f.options[0]=
new Option("None","clear_lines");rvDataSets[0].SpeciesEntry.Jmol_Script="blank_state.spt";null!=myJmol&&Jmol.script(myJmol,"script states/"+rvDataSets[0].SpeciesEntry.Jmol_Script);welcomeScreen();k&&k.resolve()}document.getElementById("ProtList").selectedIndex=0;document.getElementById("PrimaryInteractionList").selectedIndex=0;rvDataSets[0].BasePairs=[]}
function InitLayers(){$("#LayerPanel").prepend($("<div id='tipBar'>").attr({name:"TopLayerBar"}).html("C&nbspV&nbsp&nbsp&nbspS&nbsp&nbsp&nbsp&nbspL&nbsp&nbsp&nbsp&nbspLayerName&nbsp&nbsp"));$("[name=TopLayerBar]").append($('<button id="newLayer" class="toolBarBtn2" title="Create a new layer"></button>'));$("[name=TopLayerBar]").append($('<button id="clearLayer" class="toolBarBtn2" title="Clear the selected layer"></button>'));$("[name=TopLayerBar]").append($('<button id="deleteLayer" class="toolBarBtn2" title="Delete the selected layer"></button>'));
$("#newLayer").button({text:!1,icons:{primary:"ui-icon-document"}});$("#newLayer").click(function(){$("#dialog-addLayer").dialog("open")});$("#clearLayer").button({text:!1,icons:{primary:"ui-icon-cancel"}});$("#clearLayer").click(function(){rvDataSets[0].getSelectedLayer().clearAll();drawNavLine()});$("#deleteLayer").button({text:!1,icons:{primary:"ui-icon-trash"}});$("#deleteLayer").click(function(a){$("#dialog-confirm-delete p").text("The "+rvDataSets[0].getSelectedLayer().LayerName+" layer will be permanently deleted and cannot be recovered.");
$("#dialog-confirm-delete").dialog("open")});$(".toolBarBtn2").css("height",$("#openLayerBtn").css("height"));$("#LayerPanel").sortable({update:function(a,k){$("#LayerPanel .layerContent").each(function(a,f){rvDataSets[0].getLayer($(this).parent().attr("name")).updateZIndex(rvDataSets[0].LastLayer-a)});rvDataSets[0].sort();RefreshLayerMenu()},items:".oneLayerGroup",axis:"y"});$("#LayerPanel").disableSelection();$("#LayerPreferenceDialog").dialog({autoOpen:!1,show:{effect:"blind",duration:300},modal:!0,
height:600,width:400,position:{my:"center",at:"center",of:$("#canvasDiv")},buttons:{Save:function(){var a=changeCurrentLayerName(),k=changeLayerColor();a&&k&&$("#LayerPreferenceDialog").dialog("close")},Cancel:function(){$(this).dialog("close")}},open:function(a){$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}});$("#dialog-addLayer").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{"Create New Layer":function(){var a=
$("#newLayerName").val().match(/[A-z][\w-_:\.]*/);null!==a&&a[0].length===$("#newLayerName").val().length&&16>=$("#newLayerName").val().length?rvDataSets[0].isUniqueLayer($("#newLayerName").val())?(rvDataSets[0].addLayer($("#newLayerName").val(),$("#newLayerName").val(),[],!0,1,"circles",$("#layerColor2").val()),resizeElements(),LayerMenu(rvDataSets[0].getLayer($("#newLayerName").val()),1E3+(rvDataSets[0].LastLayer+1)),$(".oneLayerGroup[name="+$("#newLayerName").val()+"]").find(".selectLayerRadioBtn").prop("checked",
!0),$(".oneLayerGroup[name="+$("#newLayerName").val()+"]").find(".selectLayerRadioBtn").trigger("change"),RefreshLayerMenu(),$.farbtastic("#layerColorPicker2").setColor(colorNameToHex($("#layerColor2").val())),$(this).dialog("close")):$("#dialog-unique-layer-error").dialog("open"):$("#dialog-name-error").dialog("open")},Cancel:function(){$(this).dialog("close")}},open:function(){$("#newLayerName").val("Layer_"+(rvDataSets[0].Layers.length+1));$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility",
"visible")}});$("#newLayerName").button().addClass("ui-textfield").keydown(function(a){13==a.keyCode&&$("#dialog-addLayer").dialog("option","buttons")["Create New Layer"].apply($("#dialog-addLayer"))});$("#layerColor2").button().addClass("ui-textfield").keydown(function(a){13==a.keyCode&&$("#dialog-addLayer").dialog("option","buttons")["Create New Layer"].apply($("#dialog-addLayer"))});$("#layerColor").button().addClass("ui-textfield").keydown(function(a){13==a.keyCode&&changeLayerColor()});$("#layerNameInput").button().addClass("ui-textfield").keydown(function(a){13==
a.keyCode&&changeCurrentLayerName()});$("#MiniLayer").sortable({update:function(a,k){var e=$(k.item[0]).attr("name");if(e===$(".miniLayerName:first").attr("name")){var f=$(".miniLayerName[name="+$(k.item[0]).attr("name")+"]").next().attr("name");$("#LayerPanel").find("[name="+e+"]").insertBefore($("#LayerPanel").find("[name="+f+"]"))}else f=$(".miniLayerName[name="+$(k.item[0]).attr("name")+"]").prev().attr("name"),$("#LayerPanel").find("[name="+e+"]").insertAfter($("#LayerPanel").find("[name="+f+
"]"));$("#LayerPanel .layerContent").each(function(a,e){rvDataSets[0].getLayer($(this).parent().attr("name")).updateZIndex(rvDataSets[0].LastLayer-a)});rvDataSets[0].sort();RefreshLayerMenu()},start:function(a,k){$("#LinkSection").addClass("highlightBorder")},stop:function(a,k){$("#LinkSection").removeClass("highlightBorder")},items:".miniLayerName",axis:"y"});$("#MiniLayer").disableSelection();$("#dialog-confirm-delete").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{"Delete the Layer":function(a){a=
rvDataSets[0].getSelectedLayer();if("residues"!==a.Type){rvDataSets[0].deleteLayer(a.LayerName);$("[name="+a.LayerName+"]").remove();rvDataSets[0].sort();var k=rvDataSets[0].getLayerByType("residues"),e=rvDataSets[0].getLayerByType("circles"),f=rvDataSets[0].getLayerByType("selected");1<=k.length?($(".oneLayerGroup[name='"+k[0].LayerName+"']").find(".selectLayerRadioBtn").prop("checked",!0),$(".oneLayerGroup[name='"+k[0].LayerName+"']").find(".selectLayerRadioBtn").trigger("change")):1<=e.length?
($(".oneLayerGroup[name='"+e[0].LayerName+"']").find(".selectLayerRadioBtn").prop("checked",!0),$(".oneLayerGroup[name='"+e[0].LayerName+"']").find(".selectLayerRadioBtn").trigger("change")):1<=f.length?($(".oneLayerGroup[name='"+f[0].LayerName+"']").find(".selectLayerRadioBtn").prop("checked",!0),$(".oneLayerGroup[name='"+f[0].LayerName+"']").find(".selectLayerRadioBtn").trigger("change")):($(".oneLayerGroup[name='"+rvDataSets[0].Layers[0].LayerName+"']").find(".selectLayerRadioBtn").prop("checked",
!0),$(".oneLayerGroup[name='"+rvDataSets[0].Layers[0].LayerName+"']").find(".selectLayerRadioBtn").trigger("change"));a.Linked&&(1<=k.length?($(".oneLayerGroup[name='"+k[0].LayerName+"']").find(".mappingRadioBtn").prop("checked",!0),$(".oneLayerGroup[name='"+k[0].LayerName+"']").find(".mappingRadioBtn").trigger("change")):1<=e.length?($(".oneLayerGroup[name='"+e[0].LayerName+"']").find(".mappingRadioBtn").prop("checked",!0),$(".oneLayerGroup[name='"+e[0].LayerName+"']").find(".mappingRadioBtn").trigger("change")):
1<=f.length?($(".oneLayerGroup[name='"+f[0].LayerName+"']").find(".mappingRadioBtn").prop("checked",!0),$(".oneLayerGroup[name='"+f[0].LayerName+"']").find(".mappingRadioBtn").trigger("change")):!1==$(".oneLayerGroup[name='"+rvDataSets[0].Layers[0].LayerName+"']").find(".mappingRadioBtn").prop("disabled")&&($(".oneLayerGroup[name='"+rvDataSets[0].Layers[0].LayerName+"']").find(".mappingRadioBtn").prop("checked",!0),$(".oneLayerGroup[name='"+rvDataSets[0].Layers[0].LayerName+"']").find(".mappingRadioBtn").trigger("change")));
RefreshLayerMenu()}else alert("You are not allowed to delete the residues layer");$(this).dialog("close")},Cancel:function(){$(this).dialog("close")}},open:function(a){$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}})}
function changeLayerColor(){var a,k,e;if((a=$("#layerColor").val().match(/#[\dABCDEFabcdef]{6,6}$/))&&7===a[0].length)a=a[0];else{k=colorNameToHex($("#layerColor").val());if(!1===k)return $("#dialog-invalid-color-error").dialog("open"),!1;a=$("#layerColor").val();e=$.farbtastic("#layerColorPicker");e.setColor(k)}$($dblClickedLayer).parent().find(".colorBox").css("background",a);rvDataSets[0].getLayer($dblClickedLayerName).Color=a;drawNavLine();return!0}
function changeCurrentLayerName(){if(""!=$("#layerNameInput").val()&&$("#layerNameInput").val()!==$($dblClickedLayer).parent().attr("name")){var a=$("#layerNameInput").val().match(/[A-z][\w-_:\.]*/);if(null!==a&&a[0].length===$("#layerNameInput").val().length&&16>=$("#layerNameInput").val().length){if(rvDataSets[0].isUniqueLayer($("#layerNameInput").val()))return $("#MiniLayer").find("[name="+$($dblClickedLayer).parent().attr("name")+"]").attr("name",$("#layerNameInput").val()).text($("#layerNameInput").val()),
$($dblClickedLayer).parent().attr("name",$("#layerNameInput").val()),$($dblClickedLayer).html($("#layerNameInput").val()).prepend('<span class="ui-accordion-header-icon ui-icon ui-icon-triangle-1-e"></span>'),a=rvDataSets[0].getLayer($dblClickedLayerName),a.LayerName=$("#layerNameInput").val(),a.Linked&&$("#LinkSection").find(".miniLayerName").attr("name",$("#layerNameInput").val()).text($("#layerNameInput").val()),RefreshLayerMenu(),!0;$("#dialog-unique-layer-error").dialog("open");return!1}$("#dialog-name-error").dialog("open");
return!1}return!0}
function LayerMenu(a,k,e){var f=a.LayerName;$("[name=TopLayerBar]").after($("<div>").addClass("oneLayerGroup").attr({name:f}));var d=$(".oneLayerGroup[name="+f+"]")[0];$(d).append($("<div>").addClass("colorBox"));var h=rvDataSets[0].getLayer(f);e?($(d).find(".colorBox").css("background",e),h.Color=e):$(d).find(".colorBox").css("background",h.Color);$(d).append($("<div>").addClass("checkBoxDIV").css({"float":"left","padding-top":5,"margin-left":5,width:20}).append($("<img class='visibilityCheckImg' value='visible' title='visibility' src='./images/visible.png'/>").css({width:"24px",height:"auto",
"margin-top":3}).click(function(){var a=this.getAttribute("value");"visible"==a?(this.setAttribute("value","invisible"),this.setAttribute("src","images/invisible.png"),a=rvDataSets[0].getLayer(this.parentNode.parentNode.getAttribute("name")),a.setVisibility("hidden")):"invisible"==a&&(this.setAttribute("value","visible"),this.setAttribute("src","images/visible.png"),a=rvDataSets[0].getLayer(this.parentNode.parentNode.getAttribute("name")),a.setVisibility("visible"))})));$(d).append($("<div>").addClass("radioDIV").css({"float":"left",
"padding-top":5,"padding-left":5,width:20}).append($("<input />").attr({type:"radio",name:"selectedRadioL",title:"select layer"}).addClass("selectLayerRadioBtn").change(function(a){rvDataSets[0].selectLayer($(a.currentTarget).parent().parent().attr("name"));drawNavLine()})));$(d).append($("<div>").addClass("radioDIV2").css({"float":"left","padding-top":5,"padding-left":5,width:20}).append($("<input />").attr({type:"radio",name:"mappingRadioL",title:"select which layer to map into 3D",disabled:"disabled"}).addClass("mappingRadioBtn").change(function(a){rvDataSets[0].linkLayer($(a.currentTarget).parent().parent().attr("name"));
a=rvDataSets[0].getLinkedLayer();$("#LinkSection").find(".miniLayerName").attr("name",a.LayerName);$("#LinkSection").find(".miniLayerName").text(a.LayerName);$("#LinkSection").find(".miniLayerName").attr("title",$("#MiniLayer .miniLayerName[name="+a.LayerName+"]").attr("title"));update3Dcolors()})));$(d).append($("<h3>").addClass("layerName").css({"margin-left":83}).append(f).dblclick(function(){$dblClickedLayerName=this.innerHTML.substring(this.innerHTML.lastIndexOf("</span>")+7);$dblClickedLayer=
this;document.getElementById("layerNameInput").value="";document.getElementById("layerNameInput").placeholder=$dblClickedLayerName;$.farbtastic("#layerColor").setColor(rgb2hex($($dblClickedLayer).parent().find(".colorBox").css("background-color")));$("#LayerPreferenceDialog").dialog("open")})).append($("<div>").addClass("layerContent").css({"margin-left":83}));$("#LayerPanel div").first().next().find(".layerContent").first().append($("<div>").html("<b>Layer Type:</b> "+a.Type).append($("<br>")));
switch(a.Type){case "circles":$("#LayerPanel div").first().next().find(".layerContent").first().append($("<div>").html("<b>Loaded Data: </b><span name='DataLabel'>"+a.DataLabel+"</span>").append($("<br>")).append($("<br>")));$("#LayerPanel div").first().next().find(".layerContent").append($('<div id="pr-'+k+'">').text("Draw Circles as:").append($("<br>")));$("#LayerPanel div").first().next().find(".layerContent").first().find("div").last().append($('<input type="radio" name="filled'+k+'" id="pr-'+
k+'-1" value="filled" checked="checked"> <label for="pr-'+k+'-1 ">filled</label>'));$("#LayerPanel div").first().next().find(".layerContent").first().find("div").last().append($('<input type="radio" name="filled'+k+'" id="pr-'+k+'-2" value="unfilled"> <label for="pr-'+k+'-2">unfilled</label>'));a.Filled?$('input[name="filled'+k+'"][value=filled]').prop("checked",!0):$('input[name="filled'+k+'"][value=unfilled]').prop("checked",!0);$('input[name="filled'+k+'"]').change(function(b){"filled"===$(this).attr("value")?
a.Filled=!0:a.Filled=!1;rvDataSets[0].refreshResiduesExpanded($(b.currentTarget).parent().parent().parent().attr("name"))});$("#LayerPanel div").first().next().find(".layerContent").first().append($('<div id="prs-'+k+'">').text("Circle Size:").append($("<br>")));$("#LayerPanel div").first().next().find(".layerContent").first().find("div").last().append($('<input type="radio" name="size'+k+'" id="prs-'+k+'-1" value="regular" checked="checked"> <label for="prs-'+k+'-1 ">regular</label>'));$("#LayerPanel div").first().next().find(".layerContent").first().find("div").last().append($('<input type="radio" name="size'+
k+'" id="prs-'+k+'-2" value="large"> <label for="prs-'+k+'-2">large</label>'));1>=a.ScaleFactor?$('input[name="size'+k+'"][value=regular]').prop("checked",!0):$('input[name="size'+k+'"][value=large]').prop("checked",!0);$("#LayerPanel div").first().next().find(".radioDIV2").find("input").prop("disabled",!1);$('input[name="size'+k+'"]').change(function(b){"regular"===$(this).attr("value")?a.ScaleFactor=1:a.ScaleFactor=1.2;rvDataSets[0].refreshResiduesExpanded($(b.currentTarget).parent().parent().parent().attr("name"))});
$("#MiniOpenLayerBtn").after($('<h3 class="miniLayerName ui-helper-reset ui-corner-all ui-state-default ui-corner-bottom ">').text(f).attr("name",f).droppable({drop:function(a,b){ProcessBubbleDrop(a,b)}}));break;case "lines":$("#LayerPanel div").first().next().find(".layerContent").first().append($("<div>").html("<b>Loaded Data: </b><span name='DataLabel'>"+a.DataLabel+"</span>").append($("<br>")).append($("<br>")));$("#LayerPanel div").first().next().find(".layerContent").append($('<div name="llm">').text("Color lines like:").append($("<br>")));
$("#LayerPanel div").first().next().find(".layerContent").first().find("div").last().append($('<select multiple="multiple"></select>'));$("#LayerPanel div").first().next().find(".layerContent").find("[name='llm']").find("select").multiselect({minWidth:160,multiple:!1,header:"Select a layer",noneSelectedText:"Select an Option",selectedList:1});$("#LayerPanel div").first().next().find(".layerContent").find("[name='llm']").find("select").multiselect().multiselectfilter();var b=$("#LayerPanel div").first().next().find(".layerContent").find("[name='llm']").find("select")[0];
b.options[0]=new Option("All Gray","gray_lines");b.options[0].setAttribute("selected","selected");e=rvDataSets[0].getLayerByType("residues");f=rvDataSets[0].getLayerByType("circles");d=rvDataSets[0].getLayerByType("selected");$.each(e,function(a,d){b.options[b.options.length]=new Option(d.LayerName,d.LayerName)});$.each(f,function(a,d){b.options[b.options.length]=new Option(d.LayerName,d.LayerName)});$.each(d,function(a,d){b.options[b.options.length]=new Option(d.LayerName,d.LayerName)});$("#LayerPanel div").first().next().find(".layerContent").find("[name='llm']").find("select").multiselect("refresh");
$("#LayerPanel div").first().next().find(".layerContent").find("[name='llm']").find("select").change(function(a){var b=$(a.currentTarget).parent().find("select").multiselect("getChecked").map(function(){return this.value});"gray_lines"===b[0]?(rvDataSets[0].drawBasePairs("lines","gray_lines"),$(a.currentTarget).parent().parent().find(":radio").attr("disabled","disabled")):"manual_coloring"===b[0]?(rvDataSets[0].drawBasePairs("lines","manual_coloring"),$(a.currentTarget).parent().parent().find(":radio").attr("disabled",
"disabled")):(rvDataSets[0].drawBasePairs("lines",rvDataSets[0].getLayer(b[0])),$(a.currentTarget).parent().parent().find(":radio").removeAttr("disabled"))});$("#LayerPanel div").first().next().find(".layerContent").first().append($("<br>"));$("#LayerPanel div").first().next().find(".layerContent").first().append($('<div id="llmg-'+k+'">').text("Line Gradient Direction:").append($("<br>")));$("#LayerPanel div").first().next().find(".layerContent").first().find("div").last().append($('<input type="radio" name="color_lines_gradient'+
k+'" id="llmg-'+k+'-1" value="Matched" checked="checked"> <label for="llmg-'+k+'-1 ">Matched</label>'));$("#LayerPanel div").first().next().find(".layerContent").first().find("div").last().append($('<input type="radio" name="color_lines_gradient'+k+'" id="llmg-'+k+'-2" value="Opposite"> <label for="llmg-'+k+'-2">Opposite</label>'));$('[name="color_lines_gradient'+k+'"]').attr("disabled","disabled");$('input[name="color_lines_gradient'+k+'"]').change(function(a){rvDataSets[0].getLayer($('input[name="color_lines_gradient'+
k+'"]:checked').parent().parent().parent().find("h3").text()).ColorGradientMode=$(a.currentTarget).parent().parent().find("input:checked").val();rvDataSets[0].drawBasePairs("lines")});break;case "residues":$("#LayerPanel div").first().next().find(".layerContent").first().append($("<div>").html("<b>Loaded Data: </b><span name='DataLabel'>"+a.DataLabel+"</span>").append($("<br>")).append($("<br>")));$("#LayerPanel div").first().next().find(".selectLayerRadioBtn").attr("checked","checked");rvDataSets[0].selectLayer($("#LayerPanel div").first().next().attr("name"));
rvDataSets[0].linkLayer($("#LayerPanel div").first().next().attr("name"));$("#LayerPanel div").first().next().find(".radioDIV2").find("input").prop("disabled",!1);$("#LayerPanel div").first().next().find(".radioDIV2").find("input").prop("checked",!0);$("#MiniOpenLayerBtn").after($('<h3 class="miniLayerName ui-helper-reset ui-corner-all ui-state-default ui-corner-bottom ">').text(f).attr("name",f).droppable({drop:function(a,b){ProcessBubbleDrop(a,b)}}));break;case "selected":$("#LayerPanel div").first().next().find(".radioDIV2").find("input").prop("disabled",
!1)}$("#LayerPanel div").first().next().find(".visibilityCheckImg").attr("value","visible")}
function RefreshLayerMenu(){$("#LayerPanel").multiAccordion();var a=rvDataSets[0].getLayerByType("lines");$.each(a,function(k,e){var f=$(".oneLayerGroup[name="+a[0].LayerName+"]").find(".layerContent").find("div[name=llm]").find("select")[0];f.options.length=0;f.options[0]=new Option("All Gray","gray_lines");f.options[0].setAttribute("selected","selected");f.options[1]=new Option("Manual Coloring","manual_coloring");var d=rvDataSets[0].getLayerByType(["residues","circles","selected"]);$.each(d.reverse(),
function(a,b){f.options[f.options.length]=new Option(b.LayerName,b.LayerName)});$(".oneLayerGroup[name="+a[0].LayerName+"]").find(".layerContent").find("div[name=llm]").find("select").multiselect("refresh")})}
function ProcessBubbleDrop(a,k){if($(k.draggable[0]).hasClass("dataBubble")){var e=rvDataSets[0].getLayer($(a.target).attr("name"));e.DataLabel=$(k.draggable[0]).text();$("[name="+e.LayerName+"]").find(".layerContent").find("span[name=DataLabel]").text(e.DataLabel);var f=$(k.draggable[0]).attr("name").match(/[^\'\\,]+/),d=$.grep(rvDataSets[0].DataDescriptions,function(a){return a.ColName===f[0]});d[0]?($("#MiniLayer .miniLayerName[name="+e.LayerName+"]").attr("title",e.DataLabel+": "+d[0].Description),
$("#LinkSection .miniLayerName[name="+e.LayerName+"]").attr("title",e.DataLabel+": "+d[0].Description),$(k.draggable[0]).parent().parent().find(".ManualLink").attr("href","./Documentation/"+d[0].HelpLink+".html")):($(".miniLayerName[name="+e.LayerName+"]").attr("title","Data Description is missing."),$(k.draggable[0]).parent().parent().find(".ManualLink").attr("href","./Documentation"));ProcessBubble($(k.draggable[0]),e);$(".oneLayerGroup[name='"+e.LayerName+"']").find(".selectLayerRadioBtn").prop("checked",
!0);$(".oneLayerGroup[name='"+e.LayerName+"']").find(".selectLayerRadioBtn").trigger("change");$(".oneLayerGroup[name='"+e.LayerName+"']").find(".mappingRadioBtn").prop("checked",!0);$(".oneLayerGroup[name='"+e.LayerName+"']").find(".mappingRadioBtn").trigger("change")}}
function InitSelections(){$("#SelectionPanel").prepend($("<div id='topBarS'>").attr({name:"TopSelectionBar"}).html("C&nbspV&nbsp&nbsp&nbspS&nbsp&nbsp&nbsp&nbspL&nbsp&nbspSelectionName&nbsp"));$("[name=TopSelectionBar]").append($('<button id="newSelection" class="toolBarBtn2" title="Create a new selection"></button>'));$("[name=TopSelectionBar]").append($('<button id="clearSelection" class="toolBarBtn2" title="Clear the selected selection"></button>'));$("[name=TopSelectionBar]").append($('<button id="deleteSelection" class="toolBarBtn2" title="Delete the selected selection"></button>'));
$("#newSelection").button({text:!1,icons:{primary:"ui-icon-document"}});$("#newSelection").click(function(){$("#dialog-addSelection").dialog("open")});$("#clearSelection").button({text:!1,icons:{primary:"ui-icon-cancel"}});$("#clearSelection").click(function(){clearSelection()});$("#deleteSelection").button({text:!1,icons:{primary:"ui-icon-trash"}});$("#deleteSelection").click(function(a){$("#dialog-confirm-delete-S p").text("The "+$("input:radio[name=selectedRadioS]").filter(":checked").parent().parent().attr("name")+
" selection will be permanently deleted and cannot be recovered.");$("#dialog-confirm-delete-S").dialog("open")});$("#dialog-addSelection").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{"Create New Selection":function(){$("#newSelectionName").val().match(/[A-z][\w-_:\.]*/)[0].length===$("#newSelectionName").val().length&&16>=$("#newSelectionName").val().length?rvDataSets[0].isUniqueSelection($("#newSelectionName").val())?(rvDataSets[0].addSelection($("#newSelectionName").val(),
[],$("#selectionColor2").val()),SelectionMenu(rvDataSets[0].getSelection($("#newSelectionName").val())),RefreshSelectionMenu(),$(".oneSelectionGroup[name="+$("#newSelectionName").val()+"]").find(".selectSelectionRadioBtn").prop("checked",!0),$(".oneSelectionGroup[name="+$("#newSelectionName").val()+"]").find(".selectSelectionRadioBtn").trigger("change"),$(this).dialog("close")):$("#dialog-unique-selection-error").dialog("open"):$("#dialog-name-error").dialog("open")},Cancel:function(){$(this).dialog("close")}},
open:function(){$("#myJmol_object").css("visibility","hidden");$("#newSelectionName").val("Selection_"+(rvDataSets[0].Selections.length+1))},close:function(){$("#myJmol_object").css("visibility","visible")}});$("#dialog-addSelection p").append("Not done yet.<br><br>Please enter a name for the new Selection.");$("#dialog-confirm-delete-S").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{"Delete the Selection":function(a){rvDataSets[0].deleteSelection($("input:radio[name=selectedRadioS]").filter(":checked").parent().parent().attr("name"));
$("[name="+$("input:radio[name=selectedRadioS]").filter(":checked").parent().parent().attr("name")+"]").remove();$(".oneSelectionGroup[name='"+rvDataSets[0].Selections[0].Name+"']").find(".selectSelectionRadioBtn").prop("checked",!0);$(".oneSelectionGroup[name='"+rvDataSets[0].Selections[0].Name+"']").find(".selectSelectionRadioBtn").trigger("change");rvDataSets[0].drawSelection("selected");$(this).dialog("close")},Cancel:function(){$(this).dialog("close")}},open:function(a){$("#myJmol_object").css("visibility",
"hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}});$("#newSelectionName").button().addClass("ui-textfield").keydown(function(a){13==a.keyCode&&$("#dialog-addSelection").dialog("option","buttons")["Create New Selection"].apply($("#dialog-addSelection"))});$("#selectionNameInput").button().addClass("ui-textfield").keydown(function(a){13==a.keyCode&&changeCurrentSelectionName()});$("#selectionColorPicker").farbtastic("#selectionColor");$("#selectionColorPicker2").farbtastic("#selectionColor2");
$("#SelectionPanel").multiAccordion();$("#SelectionPanel").sortable({update:function(a,k){$("#SelectionPanel .selectionContent").each(function(a,f){var d=rvDataSets[0].getSelection($(this).parent().attr("name"));d.ZIndex=rvDataSets[0].Selections.length-a;rvDataSets[0].drawSelection("selected");console.log($(this).parent().attr("name")+": "+d.ZIndex)});rvDataSets[0].SelectionsSort()},items:".oneSelectionGroup",axis:"y"});$("#SelectionPanel").disableSelection();$("#SelectionPreferenceDialog").dialog({autoOpen:!1,
show:{effect:"blind",duration:300},modal:!0,height:600,width:400,position:{my:"center",at:"center",of:$("#canvasDiv")},open:function(a){$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}});$("#openSelectionBtn").click(function(){$("#PanelTabs").tabs("option","active",1);$("#LayerDialog").dialog("open");return!1});$("#openSelectionBtn").button({text:!1,icons:{primary:"ui-icon-tag"}});$(".toolBarBtn2").css("height",$("#openLayerBtn").css("height"))}
function SelectionMenu(a,k,e){k=a.Name;$("[name=TopSelectionBar]").after($("<div>").addClass("oneSelectionGroup").attr({name:k}));var f=$(".oneSelectionGroup[name="+k+"]")[0];$(f).append($("<div>").addClass("colorBox"));e?($(f).find(".colorBox").css("background",e),a.Color=e):$(f).find(".colorBox").css("background",a.Color);$(f).append($("<div>").addClass("checkBoxDIV-S").css({"float":"left","padding-top":5,"margin-left":5,width:20}).append($("<img class='visibilityCheckImg' value='visible' title='visibility' src='./images/visible.png'/>").css({width:"24px",
height:"auto","margin-top":3}).click(function(){var a=this.getAttribute("value");"visible"==a?(this.setAttribute("value","invisible"),this.setAttribute("src","images/invisible.png"),rvDataSets[0].drawSelection("selected")):"invisible"==a&&(this.setAttribute("value","visible"),this.setAttribute("src","images/visible.png"),rvDataSets[0].drawSelection("selected"))})));$(f).append($("<div>").addClass("radioDIV").css({"float":"left","padding-top":5,"padding-left":5,width:20}).append($("<input />").attr({type:"radio",
name:"selectedRadioS",title:"select Selection"}).addClass("selectSelectionRadioBtn").change(function(a){var e=$(a.currentTarget).parent().parent().attr("name");$.each(rvDataSets[0].Selections,function(a,c){c.Selected=c.Name===e?!0:!1})})));$(f).append($("<div>").addClass("radioDIV2").css({"float":"left","padding-top":5,"padding-left":5,width:20}).append($("<input />").attr({type:"radio",name:"mappingRadioS",title:"select which selection to map into 3D",disabled:"disabled"}).addClass("mappingRadioBtn").change(function(a){})));
$(f).append($("<h3>").addClass("selectionName").css({"margin-left":83}).append(k).dblclick(function(){$("#SelectionPreferenceDialog").dialog("open");$dblClickedSelectionName=this.innerHTML.substring(this.innerHTML.lastIndexOf("</span>")+7);$dblClickedSelection=this;document.getElementById("selectionNameInput").value="";document.getElementById("selectionNameInput").placeholder=$dblClickedSelectionName;$.farbtastic("#selectionColor").setColor(rgb2hex($($dblClickedSelection).parent().find(".colorBox").css("background-color")))})).append($("<div>").addClass("selectionContent").css({"margin-left":83}));
$("#SelectionPanel div").first().next().find(".selectionContent").first().append($('<div name="selectDiv">'));$("#SelectionPanel div").first().next().find(".selectionContent").append($("<div>").text("Auto Draw Circles:").append($("<br>")));$("#SelectionPanel div").first().next().find(".selectionContent").first().find("div").last().append($('<label><input type="radio" name="autodraw" value="on" checked="checked">On</label>'));$("#SelectionPanel div").first().next().find(".selectionContent").first().find("div").last().append($('<label><input type="radio" name="autodraw" value="off">Off</label>'));
$("#SelectionPanel div").first().next().find(".visibilityCheckImg").attr("value","visible")}function RefreshSelectionMenu(){$("#SelectionPanel").multiAccordion()}function changeSelectionColor(){$($dblClickedSelection).parent().find(".colorBox").css("background",$("#selectionColor").val());rvDataSets[0].getSelection($dblClickedSelectionName).Color=$("#selectionColor").val();rvDataSets[0].drawSelection("selected")}
function changeCurrentSelectionName(){$("#selectionNameInput").val()!==$($dblClickedSelection).parent().attr("name")&&($("#selectionNameInput").val().match(/[A-z][\w-_:\.]*/)[0].length===$("#selectionNameInput").val().length&&16>=$("#selectionNameInput").val().length?rvDataSets[0].isUniqueSelection($("#selectionNameInput").val())?($($dblClickedSelection).parent().attr("name",$("#selectionNameInput").val()),$($dblClickedSelection).html($("#selectionNameInput").val()).prepend('<span class="ui-accordion-header-icon ui-icon ui-icon-triangle-1-e"></span>'),
rvDataSets[0].getSelection($dblClickedSelectionName).Name=$("#selectionNameInput").val(),RefreshSelectionMenu(),$(this).dialog("close")):$("#dialog-unique-selection-error").dialog("open"):$("#dialog-name-error").dialog("open"))}
function initLabels(a){rvDataSets[0].addLabels([],[]);"None"!=a?$.getJSON("getData.php",{TextLabels:rvDataSets[0].SpeciesEntry.TextLabels},function(a){$.getJSON("getData.php",{LineLabels:rvDataSets[0].SpeciesEntry.LineLabels},function(e){rvDataSets[0].clearCanvas("labels");rvDataSets[0].addLabels(a,e);rvDataSets[0].drawLabels("labels")})}):(rvDataSets[0].clearCanvas("labels"),rvDataSets[0].addLabels([],[]))}
function zoom(a,k,e,f){void 0==f&&(f=rvViews[0]);f.x=(f.x-a)*e+a;f.y=(f.y-k)*e+k;f.scale*=e;rvDataSets[0].drawResidues("residues");rvDataSets[0].drawSelection("selected");rvDataSets[0].refreshResiduesExpanded("circles");rvDataSets[0].drawLabels("labels");rvDataSets[0].drawBasePairs("lines")}
function pan(a,k){rvViews[0].x+=a;rvViews[0].y+=k;rvDataSets[0].drawResidues("residues");rvDataSets[0].drawSelection("selected");rvDataSets[0].refreshResiduesExpanded("circles");rvDataSets[0].drawLabels("labels");rvDataSets[0].drawBasePairs("lines")}
function resizeElements(a){var k=$(window).width(),e=$(window).height();$(".toolBarBtn").css("height",.04*e);$(".toolBarBtn").css("width",.04*e);$("#toolBar").css("width",1.1*$(".toolBarBtn").first().outerHeight()+4);var f=$("#toolBar").outerWidth();$("#toolBar").css("left",k-f);$("#menu").css("height",.9*e);$("#menu").css("width",.16*k);var d=$("#menu").outerWidth();$("#topMenu").css("left",d);$("#topMenu").css("top",0);if($('input[name="nl"][value=on]').is(":checked")){$("#topMenu").show();$("#topMenu").outerHeight(TopDivide*
e);$("#topMenu").css("width",k-d-f);var h=$("#topMenu").outerHeight()}else $("#topMenu").hide(),$("#topMenu").outerHeight(0),$("#topMenu").css("width",0);var h=$("#topMenu").outerHeight(),b=$('input[name="jp"][value=on]').is(":checked")?(k-d-f)*PanelDivide:k-d-f,k=k-d-f-b,f=e-h;$("#SiteInfo").css("width",d);$("#ExportData").css("width",d);$("#MainMenu").css("width",.65*d);$("#MainMenu").css("height",.9*e-parseFloat($("#SiteInfo").css("height"))-parseFloat($("#ExportData").css("height")));$("#MainMenu").css("top",
parseFloat($("#SiteInfo").css("height")));$("#LinkSection").css("width",.35*d);$("#LinkSection").css("height",parseFloat($("#LinkSection .ui-widget-header3").css("height"))+parseFloat($(".miniLayerName").first().css("height"))+13);$("#LinkSection").css("top",.9*e-parseFloat($("#ExportData").css("height"))-parseFloat($("#LinkSection").css("height")));$("#MiniLayer").css("width",.35*d);$("#MiniLayer").css("height",.9*e-parseFloat($("#SiteInfo").css("height"))-parseFloat($("#ExportData").css("height"))-
parseFloat($("#LinkSection").css("height")));$("#MiniLayer").css("top",parseFloat($("#SiteInfo").css("height")));$("#SideBarAccordian").accordion("refresh");$("#canvasDiv").css("height",f);$("#canvasDiv").css("width",b);$("#canvasDiv").css("left",d-1);$("#canvasDiv").css("top",h-1);$("canvas").attr({width:b-2,height:f-2});$("canvas").css("top",0);$("canvas").css("left",0);$("#navigator").css("left",d);$("#navigator").css("top",h+parseFloat($("#canvaslabel").css("height")));$("#jmolDiv").css("height",
f);$("#jmolDiv").css("width",k+1);$("#jmolDiv").css("left",d+parseFloat($("#canvasDiv").css("width"))-1);$("#jmolDiv").css("top",h-1);$("#LayerDialog").dialog("option","height",f-2);$("#LayerDialog").dialog("widget").position({my:"right top",at:"right top",of:$("#canvasDiv")});$("#ColorDialog").dialog("option","height",.75*f-2);$("#ColorDialog").dialog("widget").position({my:"right top",at:"right top",of:$("#canvasDiv")});$("#LogoDiv").css("width",d);$("#LogoDiv").css("height",.1*e);$("#LogoDiv").css("top",
$("#menu").css("height"));rvViews[0].width=rvDataSets[0].HighlightLayer.Canvas.width;rvViews[0].height=rvDataSets[0].HighlightLayer.Canvas.height;rvViews[0].clientWidth=rvDataSets[0].HighlightLayer.Canvas.clientWidth;rvViews[0].clientHeight=rvDataSets[0].HighlightLayer.Canvas.clientHeight;!0!==a&&(rvDataSets[0].drawResidues("residues"),rvDataSets[0].drawSelection("selected"),rvDataSets[0].refreshResiduesExpanded("circles"),rvDataSets[0].drawLabels("labels"),rvDataSets[0].drawBasePairs("lines"));drawNavLine()}
function resetView(){rvViews[0].x=20;rvViews[0].y=20;rvViews[0].scale=1.2;rvDataSets[0].drawResidues("residues");rvDataSets[0].drawSelection("selected");rvDataSets[0].refreshResiduesExpanded("circles");rvDataSets[0].drawLabels("labels");rvDataSets[0].drawBasePairs("lines");$("#slider").slider("value",20)}function dragHandle(a){pan(a.clientX-rvViews[0].lastX,a.clientY-rvViews[0].lastY);rvViews[0].lastX=a.clientX;rvViews[0].lastY=a.clientY}
function getSelectedLine(a){var k=(a.clientX-rvViews[0].x-$("#menu").width())/rvViews[0].scale;a=(a.clientY-rvViews[0].y-$("#topMenu").height())/rvViews[0].scale;var e=$('input[name="za"][value=on]').is(":checked");if(void 0!=rvDataSets[0].BasePairs)for(var f=0;f<rvDataSets[0].BasePairs.length;f++){var d=rvDataSets[0].BasePairs[f].resIndex1,h=rvDataSets[0].BasePairs[f].resIndex2,b=Math.sqrt((k-rvDataSets[0].Residues[d].X)*(k-rvDataSets[0].Residues[d].X)+(a-rvDataSets[0].Residues[d].Y)*(a-rvDataSets[0].Residues[d].Y)),
c=Math.sqrt((k-rvDataSets[0].Residues[h].X)*(k-rvDataSets[0].Residues[h].X)+(a-rvDataSets[0].Residues[h].Y)*(a-rvDataSets[0].Residues[h].Y)),g=Math.sqrt((rvDataSets[0].Residues[d].X-rvDataSets[0].Residues[h].X)*(rvDataSets[0].Residues[d].X-rvDataSets[0].Residues[h].X)+(rvDataSets[0].Residues[d].Y-rvDataSets[0].Residues[h].Y)*(rvDataSets[0].Residues[d].Y-rvDataSets[0].Residues[h].Y));if(e){g=Math.sqrt((rvDataSets[0].Residues[d].X-rvDataSets[0].Residues[h].X)*(rvDataSets[0].Residues[d].X-rvDataSets[0].Residues[h].X)+
(rvDataSets[0].Residues[d].Y-rvDataSets[0].Residues[h].Y)*(rvDataSets[0].Residues[d].Y-rvDataSets[0].Residues[h].Y));if(150-23*rvViews[0].scale>g)continue;if((0>rvDataSets[0].Residues[d].X*rvViews[0].scale+rvViews[0].x||rvDataSets[0].Residues[d].X*rvViews[0].scale+rvViews[0].x>rvViews[0].clientWidth||0>rvDataSets[0].Residues[d].Y*rvViews[0].scale+rvViews[0].y||rvDataSets[0].Residues[d].Y*rvViews[0].scale+rvViews[0].y>rvViews[0].clientHeight)&&(0>rvDataSets[0].Residues[h].X*rvViews[0].scale+rvViews[0].x||
rvDataSets[0].Residues[h].X*rvViews[0].scale+rvViews[0].x>rvViews[0].clientWidth||0>rvDataSets[0].Residues[h].Y*rvViews[0].scale+rvViews[0].y||rvDataSets[0].Residues[h].Y*rvViews[0].scale+rvViews[0].y>rvViews[0].clientHeight))continue}if(.03>b+c-g)return f}return-1}
function getSelected(a){var k=(a.clientX-rvViews[0].x-$("#menu").width())/rvViews[0].scale;a=(a.clientY-rvViews[0].y-$("#topMenu").height())/rvViews[0].scale;if(void 0!=rvDataSets[0].Residues)for(var e=0;e<rvDataSets[0].Residues.length;e++){var f=rvDataSets[0].Residues[e];if(2>(k>f.X?k-f.X:f.X-k)+(a>f.Y?a-f.Y:f.Y-a))return e}return-1}
function expandSelection(a,k){k||(k="Main");for(var e=rvDataSets[0].getSelection(k),f=0;f<a.length;f++){var d=a[f];if(!d)break;var h=d.split(":");if(1<h.length){var b=h[1].indexOf("-");if(-1!=b){var c=rvDataSets[0].SpeciesEntry.PDB_chains[rvDataSets[0].SpeciesEntry.Molecule_Names.indexOf(h[0])];if(c&&(d=c+"_"+h[1].substring(1,b),h=c+"_"+h[1].substring(b+1,h[1].length-1),d&&h))for(d=rvDataSets[0].ResidueList.indexOf(d),h=rvDataSets[0].ResidueList.indexOf(h);d<=h;d++)e.Residues.push(rvDataSets[0].Residues[d])}else if(c=
rvDataSets[0].SpeciesEntry.PDB_chains[rvDataSets[0].SpeciesEntry.Molecule_Names.indexOf(h[0])])d=c+"_"+h[1],d=rvDataSets[0].ResidueList.indexOf(d),0<=d&&e.Residues.push(rvDataSets[0].Residues[d]);else return c=rvDataSets[0].SpeciesEntry.PDB_chains_rProtein[rvDataSets[0].SpeciesEntry.Molecule_Names_rProtein.indexOf(h[0])],d=c+"_"+h[1],e.Residues_rProtein.push(d),d}else if(""!=h[0])if(-1<h[0].search(/\d/))if(b=h[0].indexOf("-"),-1!=b){if(c=rvDataSets[0].SpeciesEntry.PDB_chains[0],d=c+"_"+h[0].substring(0,
b),h=c+"_"+h[0].substring(b+1,h[0].length),d&&h)for(d=rvDataSets[0].ResidueList.indexOf(d),h=rvDataSets[0].ResidueList.indexOf(h);d<=h;d++)e=rvDataSets[0].getSelection(k),e.Residues.push(rvDataSets[0].Residues[d])}else c=rvDataSets[0].SpeciesEntry.PDB_chains[0],d=c+"_"+h[0],d=rvDataSets[0].ResidueList.indexOf(d),0<=d&&(e=rvDataSets[0].getSelection(k),e.Residues.push(rvDataSets[0].Residues[d]));else for(b=new RegExp(h[0],"g");null!=(match=b.exec(rvDataSets[0].SequenceList));)for(d=match.index,h=match.index+
match[0].length-1;d<=h;d++)e=rvDataSets[0].getSelection(k),e.Residues.push(rvDataSets[0].Residues[d])}}function commandSelect(a,k){a||(a=document.getElementById("commandline").value);k||(k=$("input:radio[name=selectedRadioS]").filter(":checked").parent().parent().attr("name"));a=a.split(";");expandSelection(a,k);updateSelectionDiv(k);rvDataSets[0].drawResidues("residues");rvDataSets[0].drawSelection("selected");rvDataSets[0].drawBasePairs("lines");drawNavLine()}
function selectResidue(a){var k=rvDataSets[0].getSelection($("input:radio[name=selectedRadioS]").filter(":checked").parent().parent().attr("name"));if(drag){var e=(a.clientX-$("#menu").width()-rvViews[0].x)/rvViews[0].scale,f=(a.clientY-$("#topMenu").height()-rvViews[0].y)/rvViews[0].scale;if(void 0!=rvDataSets[0].Residues){for(var d=0;d<rvDataSets[0].Residues.length;d++)rvViews[0].startX<=rvDataSets[0].Residues[d].X&&rvDataSets[0].Residues[d].X<=e&&rvViews[0].startY<=rvDataSets[0].Residues[d].Y&&
rvDataSets[0].Residues[d].Y<=f&&k.Residues.push(rvDataSets[0].Residues[d]),rvViews[0].startX>=rvDataSets[0].Residues[d].X&&rvDataSets[0].Residues[d].X>=e&&rvViews[0].startY<=rvDataSets[0].Residues[d].Y&&rvDataSets[0].Residues[d].Y<=f&&k.Residues.push(rvDataSets[0].Residues[d]),rvViews[0].startX<=rvDataSets[0].Residues[d].X&&rvDataSets[0].Residues[d].X<=e&&rvViews[0].startY>=rvDataSets[0].Residues[d].Y&&rvDataSets[0].Residues[d].Y>=f&&k.Residues.push(rvDataSets[0].Residues[d]),rvViews[0].startX>=rvDataSets[0].Residues[d].X&&
rvDataSets[0].Residues[d].X>=e&&rvViews[0].startY>=rvDataSets[0].Residues[d].Y&&rvDataSets[0].Residues[d].Y>=f&&k.Residues.push(rvDataSets[0].Residues[d]);a=getSelected(a);if(-1!=a){var h=rvDataSets[0].Residues[a],b=$.grep(k.Residues,function(a){return a.map_Index==h.map_Index});b[0]?k.Residues=$.grep(k.Residues,function(a){return a.map_Index!==b[0].map_Index}):k.Residues.push(h)}rvDataSets[0].drawResidues("residues");rvDataSets[0].drawSelection("selected");rvDataSets[0].drawBasePairs("lines");updateSelectionDiv(k.Name);
drawNavLine()}drag=!1}$("#canvasDiv").off("mouseup",selectResidue)}function updateSelectionDiv(a){a||(a="Main");for(var k="",e=rvDataSets[0].getSelection(a),f=0;f<e.Residues.length;f++)res=e.Residues[f],k=k+rvDataSets[0].SpeciesEntry.Molecule_Names[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(res.ChainID)]+":"+res.resNum.replace(/[^:]*:/g,"")+"; ";$("[name="+a+"]").find(".selectionContent").find("[name=selectDiv]").text(k)}
function clearSelection(a){a?$.each(rvDataSets[0].Selections,function(a,e){e.Residues=[];updateSelectionDiv(e.Name)}):(a=rvDataSets[0].getSelection($("input:radio[name=selectedRadioS]").filter(":checked").parent().parent().attr("name")),a.Residues=[],updateSelectionDiv(a.Name),updateModel());rvDataSets[0].drawResidues("residues");rvDataSets[0].drawSelection("selected");rvDataSets[0].drawBasePairs("lines");drawNavLine()}
function selectionBox(a){rvViews[0].startX=(a.clientX-rvViews[0].x-$("#menu").width())/rvViews[0].scale;rvViews[0].startY=(a.clientY-rvViews[0].y-$("#topMenu").height())/rvViews[0].scale;drag=!0}function clearLineSelection(a){}
function colorResidue(a){a=getSelected(a);if(0<=a){var k=rvDataSets[0].getSelectedLayer(),e=colorNameToHex($("#MainColor").val());k.dataLayerColors[a]=e;switch(k.Type){case "residues":rvDataSets[0].Residues[a].color=e;rvDataSets[0].drawResidues("residues");break;case "circles":rvDataSets[0].refreshResiduesExpanded(k.LayerName)}update3Dcolors()}}
function colorLine(a){a=getSelectedLine(a);if(0<=a){var k=rvDataSets[0].getLayerByType("lines"),e=colorNameToHex($("#LineColor").val()),f=k[0].Data[a].resIndex1,d=k[0].Data[a].resIndex2,f=rvDataSets[0].HighlightLayer.CanvasContext.createLinearGradient(rvDataSets[0].Residues[f].X,rvDataSets[0].Residues[f].Y,rvDataSets[0].Residues[d].X,rvDataSets[0].Residues[d].Y);f.addColorStop(0,"rgba("+h2d(e.slice(1,3))+","+h2d(e.slice(3,5))+","+h2d(e.slice(5))+","+k[0].Data[a].opacity+")");f.addColorStop(1,"rgba("+
h2d(e.slice(1,3))+","+h2d(e.slice(3,5))+","+h2d(e.slice(5))+","+k[0].Data[a].opacity+")");k[0].Data[a].color=f;rvDataSets[0].BasePairs[a].color=e;rvDataSets[0].BasePairs[a].color_hex=e;rvDataSets[0].drawBasePairs("lines")}}
function clearColor(a){var k=rvDataSets[0].getLayerByType("residues");1>arguments.length&&(a=!0);for(var e=0;e<rvDataSets[0].Residues.length;e++)rvDataSets[0].Residues[e].color="#000000",k[0].dataLayerColors[e]=void 0,k[0].Data[e]=void 0;rvDataSets[0].drawResidues("residues");a&&(update3Dcolors(),updateModel())}
function colorSelection(){for(var a=rvDataSets[0].getSelectedLayer(),k=colorNameToHex($("#MainColor").val()),e=rvDataSets[0].getSelection($("input:radio[name=selectedRadioS]").filter(":checked").parent().parent().attr("name")),f=0;f<e.Residues.length;f++)a.dataLayerColors[e.Residues[f].map_Index-1]=k;rvDataSets[0].drawDataCircles(a.LayerName,void 0,void 0,!0);rvDataSets[0].drawResidues(a.LayerName,void 0,void 0,!0);update3Dcolors()}
function update3Dcolors(){if(!$('input[name="jp"][value=off]').is(":checked")){var a="set hideNotSelected false;",k,e,f,d,h;if(void 0!=rvDataSets[0].Residues[0]){k=rvDataSets[0].Residues[0].resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"");f=rvDataSets[0].Residues[0].ChainID;var b=rvDataSets[0].getLinkedLayer();(d=colorNameToHex(b.dataLayerColors[0]))&&"#000000"!==d||(d="#858585");for(var c=1;c<rvDataSets[0].Residues.length;c++){var g=rvDataSets[0].Residues[c];h=rvDataSets[0].Residues[c-1];var l=
b.dataLayerColors[c-1];l||(l="#858585");if(""!=g.ChainID)if(""==f)f=g.ChainID,(d=colorNameToHex(b.dataLayerColors[c]))&&"#000000"!==d||(d="#858585"),k=g.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"");else if(null==g.ChainID)f=g.ChainID,(d=colorNameToHex(b.dataLayerColors[c]))&&"#000000"!==d||(d="#858585"),k=g.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"");else if(e=b.dataLayerColors[c]?colorNameToHex(b.dataLayerColors[c]):"#858585",e!=colorNameToHex(l)||f!=g.ChainID||c==rvDataSets[0].Residues.length-
1)e=h.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,""),h=e.match(/[A-z]/g),void 0!=h&&(e=e.replace(h,"^"+h)),-1==colorNameToHex(l).indexOf("#")?(a+="select "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and "+k+" - "+e+":"+f+"; color Cartoon opaque [x"+d+"]; ",a+="select "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and "+k+" - "+e+":"+f+"; color opaque [x"+d+"]; "):(a+="select "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and "+k+" - "+e+":"+f+"; color Cartoon opaque ["+d.replace("#",
"x")+"]; ",a+="select "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and "+k+" - "+e+":"+f+"; color opaque ["+d.replace("#","x")+"]; "),k=g.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,""),d=k.match(/[A-z]/g),void 0!=d&&(k=k.replace(d,"^"+d)),""!=g.ChainID&&(f=g.ChainID),(d=colorNameToHex(b.dataLayerColors[c]))&&"#000000"!==d||(d="#858585")}-1==colorNameToHex(l).indexOf("#")?(a+="select "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and "+k+" - "+g.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,
"")+":"+f+"; color Cartoon opaque [x"+d+"]; ",a+="select "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and "+k+" - "+g.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+":"+f+"; color opaque [x"+d+"]; "):(a+="select "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and "+k+" - "+g.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+":"+f+"; color Cartoon opaque ["+d.replace("#","x")+"]; ",a+="select "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and "+k+" - "+g.resNum.replace(/[^:]*:/g,
"").replace(/[^:]*:/g,"")+":"+f+"; color opaque ["+d.replace("#","x")+"]; ");Jmol.script(myJmol,a)}}}
function colorProcess(a,k,e,f,d){var h=[],b=[],c=[];a.IncludeData?(b=a.IncludeData,a.ExtraData&&(b=b.concat(a.ExtraData)),c=a.IncludeData):c=b=a;$.each(b,function(a,b){var c=parseFloat(b);isNaN(c)||h.push(c)});$.each(c,function(a,b){var d=parseFloat(b);isNaN(d)?c[a]=void 0:c[a]=d});var b=Math.min.apply(Math,h),g=Math.max.apply(Math,h)-b;if(3>arguments.length||void 0==e)e=rvDataSets[0].getSelectedLayer();if(e){if("1"==k)var l=c;else for(var l=[],p=0;p<c.length;p++)l[p]=Math.round((c[p]-b)/g*(f.length-
1));if(!d){e.Data=c;switch(e.Type){case "circles":rvDataSets[0].drawDataCircles(e.LayerName,l,f);break;case "residues":rvDataSets[0].drawResidues(e.LayerName,l,f);break;default:$("#dialog-layer-type-error").dialog("open")}update3Dcolors()}return l}$("#dialog-selection-warning p").text("Please select a valid layer and try again.");$("#dialog-selection-warning").dialog("open")}
function colorMappingLoop(a,k,e,f){var d=4<=arguments.length?f:RainBowColors;if(a){"circles"===a.Type&&(a.clearCanvas(),a.clearData());"residues"===a.Type&&(clearColor(!1),a.clearData());a.Data=[];for(var h=0;h<rvDataSets[0].Residues.length;h++)a.Data[h]=" "}var h=$("#PrimaryInteractionList").multiselect("getChecked").map(function(){return this.value}).get()[0],b=h.indexOf("_NPN");0<=b&&(rvDataSets[0].BasePairs=[],rvDataSets[0].clearCanvas("lines"));var c="display (selected), ("+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rProtein+
".1 and (",g="set hideNotSelected false;";$("#ProtList").multiselect("widget").find(".ui-multiselect-checkboxes").find("span").css("color","black");for(var l=0;l<k.length;l++){var p=1<k.length?Math.round(l/(k.length-1)*(d.length-1)):0,p=0>p||p>=d.length?"#000000":d[p],v=$.grep($("#ProtList").multiselect("getChecked"),function(a){return a.value==k[l]});$(v).next().css("color",p);if(a){for(var v=[],q=0;q<rvDataSets[0].Residues.length;q++)rvDataSets[0].Residues[q][k[l]]&&0<rvDataSets[0].Residues[q][k[l]]&&
(v[q]=rvDataSets[0].Residues[q][k[l]],a.Data[q]=a.Data[q]+e[l]+" ");rvDataSets[0].drawDataCircles(a.LayerName,v,["#000000",p],!0);rvDataSets[0].drawResidues(a.LayerName,v,["#000000",p],!0)}c=0===l?c+(":"+rvDataSets[0].SpeciesEntry.SubunitProtChains[1][rvDataSets[0].SpeciesEntry.SubunitProtChains[2].indexOf(k[l])]):c+(" or :"+rvDataSets[0].SpeciesEntry.SubunitProtChains[1][rvDataSets[0].SpeciesEntry.SubunitProtChains[2].indexOf(k[l])]);g+="select ("+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rProtein+
".1 and :"+rvDataSets[0].SpeciesEntry.SubunitProtChains[1][rvDataSets[0].SpeciesEntry.SubunitProtChains[2].indexOf(k[l])]+"); color Cartoon opaque ["+p.replace("#","x")+"];spacefill off;";0<b&&appendBasePairs(h,k[l])}drawNavLine();c+="));";$('input[name="jp"][value=on]').is(":checked")&&(update3Dcolors(),refreshModel(),Jmol.script(myJmol,c),Jmol.script(myJmol,g))}
function update3DProteins(a,k){if(!$('input[name="jp"][value=off]').is(":checked")){for(var e=2<=arguments.length?k:RainBowColors,f="set hideNotSelected false;",d=0;d<a.length;d++)var h=1<a.length?Math.round(d/(a.length-1)*(e.length-1)):0,h=0>h||h>=e.length?"#000000":e[h],f=f+("select ("+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rProtein+".1 and :"+rvDataSets[0].SpeciesEntry.SubunitProtChains[1][rvDataSets[0].SpeciesEntry.SubunitProtChains[2].indexOf(a[d])]+"); color Cartoon opaque ["+h.replace("#",
"x")+"];");Jmol.script(myJmol,f)}}
function colorMapping(a,k,e,f,d,h){if(2==arguments.length||"42"==e)var b=$("#"+k).val();3<=arguments.length&&"42"!=e&&(b=e);var c=4<=arguments.length?f:RainBowColors;void 0==d&&(d=[!1]);if(a)switch(a.Type){case "circles":for(var g=[],l=0;l<rvDataSets[0].Residues.length;l++)g[l]=rvDataSets[0].Residues[l][b[0]];colorProcess(g,d[0],a,c);break;case "residues":g=[];for(l=0;l<rvDataSets[0].Residues.length;l++)g[l]=rvDataSets[0].Residues[l][b[0]];colorProcess(g,d[0],a,c);break;default:$("#dialog-layer-type-error").dialog("open")}else $("#dialog-selection-warning p").text("Please select a valid layer and try again."),
$("#dialog-selection-warning").dialog("open")}function colorNameToHex(a){var k=SupportedColors;if(a){var e=a.match(/#[\dABCDEFabcdef]{6,6}$/);if(null!=e&&7===e[0].length)return e[0];if("undefined"!=typeof k[a.toLowerCase().replace(/\s+/g,"")])return k[a.toLowerCase().replace(/\s+/g,"")];console.log('Unrecognized color "'+a+'"');return"#868686"}return!1}
function appendBasePairs(a,k){0>a.indexOf("_NPN")?$.getJSON("getData.php",{BasePairs:a},function(a){rvDataSets[0].BasePairs=rvDataSets[0].BasePairs.concat(a);FullBasePairSet=rvDataSets[0].BasePairs;rvDataSets[0].drawBasePairs("lines")}):$.getJSON("getData.php",{ProtBasePairs:a,ProtChain:k},function(a){rvDataSets[0].BasePairs=rvDataSets[0].BasePairs.concat(a);FullBasePairSet=rvDataSets[0].BasePairs;rvDataSets[0].drawBasePairs("lines")})}
function refreshBasePairs(a){if("clear_lines"!=a)if(0>a.indexOf("_NPN"))$.getJSON("getData.php",{BasePairs:a},function(a){rvDataSets[0].BasePairs=a;$.each(rvDataSets[0].BasePairs,function(a,c){c.lineWidth=1;c.opacity=.5});rvDataSets[0].drawBasePairs("lines");FullBasePairSet=rvDataSets[0].BasePairs;var d=[];$.each(rvDataSets[0].BasePairs,function(a,c){d.push(c.bp_type)});BP_TypeU=$.grep(d,function(a,c){return $.inArray(a,d)===c});var e=document.getElementById("SecondaryInteractionList");e.options.length=
0;$.each(BP_TypeU,function(a,c){e.options[a]=new Option(c,c);e.options[a].setAttribute("selected","selected")});$("#SecondaryInteractionList").multiselect("refresh")});else{a=$("#ProtList").multiselect("getChecked").map(function(){return this.value}).get();var k=$("#ProtList").multiselect("getChecked").map(function(){return this.title}).get(),e=document.getElementById("SecondaryInteractionList");e.options.length=0;e.options[0]=new Option("NPN","NPN");e.options[0].setAttribute("selected","selected");
$("#SecondaryInteractionList").multiselect("refresh");colorMappingLoop(void 0,a,k)}else rvDataSets[0].BasePairs=[],rvDataSets[0].clearCanvas("lines")}function filterBasePairs(a,k){rvDataSets[0].BasePairs=[];$.each(a,function(a,f){0<=$.inArray(f.bp_type,k)&&rvDataSets[0].BasePairs.push(f)});rvDataSets[0].drawBasePairs("lines")}
function mouseEventFunction(a){var k=$('input[name="bv"][value=on]').is(":checked");$("#ResidueTip").tooltip("close");$("#InteractionTip").tooltip("close");"mousedown"!=a.handleObj.origType||k?"mousedown"==a.handleObj.origType&&k&&($("#canvasDiv").off("mousemove",dragHandle),BaseViewCenter(a)):"select"==onebuttonmode||3==a.which&&!1==a.altKey||1==a.which&&!0==a.shiftKey?($("#canvasDiv").off("mousemove",dragHandle),$("#canvasDiv").off("mousemove",mouseMoveFunction),selectionBox(a),$("#canvasDiv").on("mousemove",
dragSelBox),$("#canvasDiv").on("mouseup",selectResidue)):"selectL"==onebuttonmode||3==a.which&&!0==a.altKey?($("#canvasDiv").off("mousemove",dragHandle),$("#canvasDiv").off("mousemove",mouseMoveFunction)):"color"==onebuttonmode||2==a.which&&!1==a.altKey||1==a.which&&!0==a.ctrlKey&&!1==a.altKey?($("#canvasDiv").off("mousemove",dragHandle),colorResidue(a)):"colorL"==onebuttonmode||2==a.which&&!0==a.altKey||1==a.which&&!0==a.ctrlKey&&!0==a.altKey?($("#canvasDiv").off("mousemove",dragHandle),colorLine(a)):
(rvViews[0].lastX=a.clientX,rvViews[0].lastY=a.clientY,$("#canvasDiv").on("mousemove",dragHandle));"mouseup"==a.handleObj.origType&&($("#canvasDiv").off("mousemove",dragHandle),$("#canvasDiv").off("mousemove",dragSelBox),$("#canvasDiv").on("mousemove",mouseMoveFunction),rvDataSets[0].HighlightLayer.clearCanvas())}
function mouseMoveFunction(a){rvDataSets[0].HighlightLayer.clearCanvas();$("#ResidueTip").tooltip("close");$("#InteractionTip").tooltip("close");switch(onebuttonmode){case "move":if(!0==a.altKey&&!1==a.ctrlKey){var k=getSelectedLine(a);if(0<=k){var e=rvDataSets[0].BasePairs[k].resIndex1,f=rvDataSets[0].BasePairs[k].resIndex2;rvDataSets[0].HighlightLayer.CanvasContext.strokeStyle="#6666ff";rvDataSets[0].HighlightLayer.CanvasContext.beginPath();rvDataSets[0].HighlightLayer.CanvasContext.moveTo(rvDataSets[0].Residues[e].X,
rvDataSets[0].Residues[e].Y);rvDataSets[0].HighlightLayer.CanvasContext.lineTo(rvDataSets[0].Residues[f].X,rvDataSets[0].Residues[f].Y);rvDataSets[0].HighlightLayer.CanvasContext.closePath();rvDataSets[0].HighlightLayer.CanvasContext.stroke();$('input[name="rt"][value=on]').is(":checked")&&(createInfoWindow(k,"lines"),$("#InteractionTip").css("bottom",$(window).height()-a.clientY),$("#InteractionTip").css("left",a.clientX),$("#InteractionTip").tooltip("open"))}}else if(!0==a.ctrlKey&&!1==a.altKey){if(k=
getSelected(a),0<=k)switch(a=rvDataSets[0].getSelectedLayer(),a.Type){case "residues":rvDataSets[0].HighlightLayer.CanvasContext.strokeStyle="#000000";rvDataSets[0].HighlightLayer.CanvasContext.font=rvDataSets[0].SpeciesEntry.Font_Size_Canvas+'pt "Myriad Pro", Calibri, Arial';rvDataSets[0].HighlightLayer.CanvasContext.textBaseline="middle";rvDataSets[0].HighlightLayer.CanvasContext.textAlign="center";rvDataSets[0].HighlightLayer.CanvasContext.fillStyle=colorNameToHex($("#MainColor").val());rvDataSets[0].HighlightLayer.CanvasContext.fillText(rvDataSets[0].Residues[k].resName,
rvDataSets[0].Residues[k].X,rvDataSets[0].Residues[k].Y);break;case "circles":rvDataSets[0].HighlightLayer.CanvasContext.beginPath(),rvDataSets[0].HighlightLayer.CanvasContext.arc(rvDataSets[0].Residues[k].X,rvDataSets[0].Residues[k].Y,a.ScaleFactor*rvDataSets[0].SpeciesEntry.Circle_Radius,0,2*Math.PI,!1),rvDataSets[0].HighlightLayer.CanvasContext.closePath(),rvDataSets[0].HighlightLayer.CanvasContext.strokeStyle=colorNameToHex($("#MainColor").val()),rvDataSets[0].HighlightLayer.CanvasContext.stroke(),
a.Filled&&(rvDataSets[0].HighlightLayer.CanvasContext.fillStyle=colorNameToHex($("#MainColor").val()),rvDataSets[0].HighlightLayer.CanvasContext.fill())}}else!0==a.ctrlKey&&!0==a.altKey?(k=getSelectedLine(a),0<=k&&(e=rvDataSets[0].BasePairs[k].resIndex1,f=rvDataSets[0].BasePairs[k].resIndex2,rvDataSets[0].HighlightLayer.CanvasContext.strokeStyle=colorNameToHex($("#LineColor").val()),rvDataSets[0].HighlightLayer.CanvasContext.beginPath(),rvDataSets[0].HighlightLayer.CanvasContext.moveTo(rvDataSets[0].Residues[e].X,
rvDataSets[0].Residues[e].Y),rvDataSets[0].HighlightLayer.CanvasContext.lineTo(rvDataSets[0].Residues[f].X,rvDataSets[0].Residues[f].Y),rvDataSets[0].HighlightLayer.CanvasContext.closePath(),rvDataSets[0].HighlightLayer.CanvasContext.stroke(),$('input[name="rt"][value=on]').is(":checked")&&(createInfoWindow(k,"lines"),$("#InteractionTip").css("bottom",$(window).height()-a.clientY),$("#InteractionTip").css("left",a.clientX),$("#InteractionTip").tooltip("open")))):(k=getSelected(a),0<=k&&(rvDataSets[0].HighlightLayer.CanvasContext.beginPath(),
rvDataSets[0].HighlightLayer.CanvasContext.arc(rvDataSets[0].Residues[k].X,rvDataSets[0].Residues[k].Y,1.176*rvDataSets[0].SpeciesEntry.Circle_Radius,0,2*Math.PI,!1),rvDataSets[0].HighlightLayer.CanvasContext.closePath(),rvDataSets[0].HighlightLayer.CanvasContext.strokeStyle="#6666ff",rvDataSets[0].HighlightLayer.CanvasContext.lineWidth=rvDataSets[0].SpeciesEntry.Circle_Radius/1.7,rvDataSets[0].HighlightLayer.CanvasContext.stroke(),$('input[name="rt"][value=on]').is(":checked")&&(createInfoWindow(k,
"residue"),$("#ResidueTip").css("bottom",$(window).height()-a.clientY),$("#ResidueTip").css("left",a.clientX),$("#ResidueTip").tooltip("open"))));break;case "color":if(k=getSelected(a),-1!=k)switch(a=rvDataSets[0].getSelectedLayer(),a.Type){case "residues":rvDataSets[0].HighlightLayer.CanvasContext.strokeStyle="#000000";rvDataSets[0].HighlightLayer.CanvasContext.font=rvDataSets[0].SpeciesEntry.Font_Size_Canvas+'pt "Myriad Pro", Calibri, Arial';rvDataSets[0].HighlightLayer.CanvasContext.textBaseline=
"middle";rvDataSets[0].HighlightLayer.CanvasContext.textAlign="center";rvDataSets[0].HighlightLayer.CanvasContext.fillStyle=colorNameToHex($("#MainColor").val());rvDataSets[0].HighlightLayer.CanvasContext.fillText(rvDataSets[0].Residues[k].resName,rvDataSets[0].Residues[k].X,rvDataSets[0].Residues[k].Y);break;case "circles":rvDataSets[0].HighlightLayer.CanvasContext.beginPath(),rvDataSets[0].HighlightLayer.CanvasContext.arc(rvDataSets[0].Residues[k].X,rvDataSets[0].Residues[k].Y,a.ScaleFactor*rvDataSets[0].SpeciesEntry.Circle_Radius,
0,2*Math.PI,!1),rvDataSets[0].HighlightLayer.CanvasContext.closePath(),rvDataSets[0].HighlightLayer.CanvasContext.strokeStyle=colorNameToHex($("#MainColor").val()),rvDataSets[0].HighlightLayer.CanvasContext.stroke(),a.Filled&&(rvDataSets[0].HighlightLayer.CanvasContext.fillStyle=colorNameToHex($("#MainColor").val()),rvDataSets[0].HighlightLayer.CanvasContext.fill())}}}function dragSelBox(a){rvDataSets[0].HighlightLayer.clearCanvas();rvViews[0].drag(a)}
function mouseWheelFunction(a,k){rvViews[0].zoom(a,k);var e=getSelected(a);rvDataSets[0].HighlightLayer.clearCanvas();-1!=e&&(rvDataSets[0].HighlightLayer.CanvasContext.beginPath(),rvDataSets[0].HighlightLayer.CanvasContext.arc(rvDataSets[0].Residues[e].X,rvDataSets[0].Residues[e].Y,2,0,2*Math.PI,!1),rvDataSets[0].HighlightLayer.CanvasContext.closePath(),rvDataSets[0].HighlightLayer.CanvasContext.strokeStyle="#6666ff",rvDataSets[0].HighlightLayer.CanvasContext.stroke());drag&&rvViews[0].drag(a);return!1}
function colorLineSelection(a){}function createInfoWindow(a,k){"residue"===k?(addPopUpWindowResidue(a),$("#ResidueTip").tooltip("option","content",$("#residuetip").html())):(addPopUpWindowLine(a),$("#InteractionTip").tooltip("option","content",$("#interactiontip").html()))}
function BaseViewCenter(a){$('input[name="jp"][value=off]').is(":checked")||(a=getSelected(a),-1!=a&&(a=rvDataSets[0].Residues[a],a="center "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and "+a.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+":"+a.ChainID,Jmol.script(myJmol,a)))}function modeSelect(a){onebuttonmode=a}
function ProcessBubble(a,k){switch($(a).parent().attr("id")){case "AlnBubbles":colorMapping(k,"42",[$(a).attr("name")]);drawNavLine();break;case "StructDataBubbles":updateStructData(a,k);break;case "ProteinBubbles":var e=$("#ProtList").multiselect("getChecked").map(function(){return this.value}).get(),f=$("#ProtList").multiselect("getChecked").map(function(){return this.title}).get();colorMappingLoop(k,e,f);break;case "CustomDataBubbles":customDataProcess(a,k);break;default:alert("other")}}
function updateStructData(a,k){for(var e=$(a).attr("name").split(","),f=0;f<e.length;f++)-1<e[f].indexOf("'")?e[f]=e[f].match(/[^\\']+/):e[f]=window[e[f]];e.unshift("42");e.unshift(k);colorMapping.apply(this,e);drawNavLine()}
function openRvState(){var a=get_cookie("privacy_status_data"),k=$("#files2")[0].files;AgreeFunction=function(){for(var a=0;a<k.length;a++)switch(reader=new FileReader,k[a].name.split(".").pop().toLowerCase()){case "zip":reader.readAsBinaryString(k[a]);reader.onload=function(){new ZipLoader(reader.result);alert("Unfinished zip support. Please unzip your file.")};break;default:reader.readAsText(k[a]),reader.onload=function(){var a=JSON.parse(reader.result);rvDataSets[0]=rvDataSets[0].fromJSON(a.RvDS);
a.rvLayers=JSON.stringify(rvDataSets[0].Layers);a.rvSelections=JSON.stringify(rvDataSets[0].Selections);a.rvLastSpecies=rvDataSets[0].Name;$('input[name="jp"][value=on]').is(":checked")&&(Jmol.script(myJmol,"script states/"+rvDataSets[0].SpeciesEntry.Jmol_Script),Jmol.script(myJmol,"display "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1"));processRvState(a);updateModel();update3Dcolors();$('input[name="jp"][value=on]').is(":checked")&&(a=a.rvJmolOrientation.match(/reset[^\n]+/),Jmol.script(myJmol,
a[0]))}}};"Agreed"!=a?($("#Privacy-confirm").text("This feature does not currently upload any data to our server. We don't have a privacy policy at this time because one isn't needed. We can not see these data you are about to graph. Click \"I agree\" to acknowledge acceptance of our policy."),CurrPrivacyCookie="privacy_status_data",$("#Privacy-confirm").dialog("open")):AgreeFunction()}
function handleFileSelect(a){var k=get_cookie("privacy_status_data");FileReaderFile=a.target.files;$("#CustomDataBubbles").find(".dataBubble").remove();AgreeFunction=function(a){for(a=0;a<FileReaderFile.length;a++)reader=new FileReader,reader.readAsText(FileReaderFile[a]),$("#CustomDataBubbles").append($('<h3 class="dataBubble ui-helper-reset ui-corner-all ui-state-default ui-corner-bottom" style="text-align:center;padding:0.2em">').text("User Data").attr("name","CustomData").attr("title","Custom")),
$("#CustomDataBubbles").sortable({update:function(a,d){},items:".dataBubble"}),reader.onload=function(){rvDataSets[0].addCustomData($.csv.toObjects(reader.result));var a=Object.keys(rvDataSets[0].CustomData[0]);0<=$.inArray("DataDescription",a)?($("#FileDiv").find(".DataDescription").html(rvDataSets[0].CustomData[0].DataDescription),$("#CustomDataBubbles").find(".dataBubble").attr("title",rvDataSets[0].CustomData[0].DataDescription.replace(/(<([^>]+)>)/ig,""))):$("#FileDiv").find(".DataDescription").html("Data Description is missing.");
$("#CustomDataBubbles").find(".dataBubble").attr("FileName",FileReaderFile[0].name);if(0<=$.inArray("Residue_i",a))if(0<=$.inArray("Residue_j",a)){var d=[];$.each(rvDataSets[0].CustomData,function(a,b){d.push({bp_type:b.Int_Type,color:"rgba(35,31,32,.5)",id:(a+1).toString(),pairIndex:(a+1).toString(),resIndex1:resNumToIndex(b.Residue_i).toString(),resIndex2:resNumToIndex(b.Residue_j).toString()})});rvDataSets[0].BasePairs=d;a=rvDataSets[0].getLayerByType("lines");a[0].DataLabel=FileReaderFile[0].name;
$("[name="+a[0].LayerName+"]").find(".layerContent").find("span[name=DataLabel]").text(a[0].DataLabel);rvDataSets[0].drawBasePairs("lines")}else alert("Expected Residue_j column. Please check input.")}};"Agreed"!=k?($("#Privacy-confirm").text("This feature does not currently upload any data to our server. We don't have a privacy policy at this time because one isn't needed. We can not see these data you are about to graph. Click \"I agree\" to acknowledge acceptance of our policy."),CurrPrivacyCookie=
"privacy_status_data",$("#Privacy-confirm").dialog("open")):AgreeFunction(a)}function resNumToIndex(a){a=a.split(":");a=rvDataSets[0].SpeciesEntry.PDB_chains[rvDataSets[0].SpeciesEntry.Molecule_Names.indexOf(a[0])]+"_"+a[1];return rvDataSets[0].ResidueList.indexOf(a)}
function customDataProcess(a,k){var e;k.DataLabel=$(a[0]).attr("filename");$("[name="+k.LayerName+"]").find(".layerContent").find("span[name=DataLabel]").text("User File:").append($("<br>")).append(k.DataLabel);k.clearData();var f=Object.keys(rvDataSets[0].CustomData[0]);e=CustomDataExpand(k);k.Data=e.IncludeData;var d=rvDataSets[0].Selections[0];SelectionMenu(d);RefreshSelectionMenu();$(".oneSelectionGroup[name="+d.Name+"]").find(".checkBoxDIV-S").find(".visibilityCheckImg").attr("value","invisible");
$(".oneSelectionGroup[name="+d.Name+"]").find(".checkBoxDIV-S").find(".visibilityCheckImg").attr("src","images/invisible.png");rvDataSets[0].drawSelection("selected");if(0<=$.inArray("ColorPalette",f)){var h=[];$.each(rvDataSets[0].CustomData,function(a,c){""!=c.ColorPalette&&h.push(c.ColorPalette)});1==h.length&&(h=window[h[0]])}else h=RainBowColors;"selected"!==k.Type&&(0<=$.inArray("ColorCol",f)?(rvDataSets[0].drawResidues("residues"),rvDataSets[0].refreshResiduesExpanded(k.LayerName),update3Dcolors()):
0<=$.inArray("DataCol",f)?colorProcess(e,void 0,k,h):alert("No recognized columns found. Please check input."));updateSelectionDiv(d.Name);drawNavLine();CustomProcessProteins(h)}
function CustomProcessProteins(a){for(var k=void 0,e=Object.keys(rvDataSets[0].CustomData[0]),f=[],d=[],h=0;h<rvDataSets[0].CustomData.length;h++)if(k=expandSelection([rvDataSets[0].CustomData[h].resNum],rvDataSets[0].Selections[0].Name))0<=$.inArray("DataCol",e)?(d.push({ResNum:k,Color:void 0}),isNaN(parseFloat(rvDataSets[0].CustomData[h].DataCol))?f.push(rvDataSets[0].CustomData[h].DataCol):f.push(parseFloat(rvDataSets[0].CustomData[h].DataCol))):0<=$.inArray("ColorCol",e)&&d.push({ResNum:k,Color:rvDataSets[0].CustomData[h].ColorCol});
k=colorProcess(f,void 0,void 0,a,!0);$.each(k,function(b,c){d[b].Color=a[c]});ColorProteinsJmol(d);rvDataSets[0].ColorProteins=rvDataSets[0].ColorProteins.concat(d)}
function ColorProteinsJmol(a){if(!$('input[name="jp"][value=off]').is(":checked")&&void 0!=rvDataSets[0].Residues[0]){var k="set hideNotSelected false;";$.each(a,function(a,f){var d=f.ResNum.split("_");"undefined"!==d[0]&&(k=-1==colorNameToHex(f.Color).indexOf("#")?k+("select "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rProtein+".1 and :"+d[0]+" and "+d[1].replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+"; color Cartoon opaque [x"+f.Color+"]; "):k+("select "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rProtein+
".1 and :"+d[0]+" and "+d[1].replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+"; color Cartoon opaque ["+f.Color.replace("#","x")+"]; "))});Jmol.script(myJmol,k)}}
function ColorProteinsPyMOL(a){a=rvDataSets[0].ColorProteins;if(void 0!=rvDataSets[0].Residues[0]){for(var k="",e=0;e<rvDataSets[0].SpeciesEntry.SubunitProtChains[0].length;e++)k+="copy "+rvDataSets[0].SpeciesEntry.Species_Abr+"_rp"+rvDataSets[0].SpeciesEntry.SubunitProtChains[0][e].replace(/\(/g,"_").replace(/\)/g,"")+"_custom, "+rvDataSets[0].SpeciesEntry.Species_Abr+"_rp"+rvDataSets[0].SpeciesEntry.SubunitProtChains[0][e].replace(/\(/g,"_").replace(/\)/g,"")+"\n";$.each(a,function(a,d){var e=d.ResNum.split("_");
if("undefined"!==e[0]){var b=d.Color,c=rvDataSets[0].SpeciesEntry.SubunitProtChains[1].indexOf(e[0]);k+="color "+b.replace("#","0x")+", "+rvDataSets[0].SpeciesEntry.Species_Abr+"_rp"+rvDataSets[0].SpeciesEntry.SubunitProtChains[0][c].replace(/\(/g,"_").replace(/\)/g,"")+"_custom and resi "+e[1].replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+"\n"}});return k+="\ndisable *rp*\n"}}function resetFileInput(a){var k=a.clone(!1,!1);a.replaceWith(k);alert(42)}
function CustomDataExpand(a){rvDataSets[0].addSelection();var k=0,e=[];$.each(rvDataSets[0].Residues,function(a,b){e[a]=void 0});var f=[],d=Object.keys(rvDataSets[0].CustomData[0]);if(0<=$.inArray("resNum",d))for(var h=0;h<rvDataSets[0].CustomData.length;h++){var b=rvDataSets[0].CustomData[h].resNum.split(";"),c=rvDataSets[0].Selections[0];expandSelection(b,c.Name);b=c.Residues.length;if(0==b)0<=$.inArray("DataCol",d)&&(isNaN(parseFloat(rvDataSets[0].CustomData[h].DataCol))?f.push(rvDataSets[0].CustomData[h].DataCol):
f.push(parseFloat(rvDataSets[0].CustomData[h].DataCol)));else for(var g=k;g<b;g++)0<=c.Residues[g].resNum.indexOf(":")?(k=c.Residues[g].resNum.split(":"),k=rvDataSets[0].SpeciesEntry.PDB_chains[rvDataSets[0].SpeciesEntry.Molecule_Names.indexOf(k[0])]+"_"+k[1]):k=c.Residues[g].ChainID+"_"+c.Residues[g].resNum,k=rvDataSets[0].ResidueList.indexOf(k),0<=$.inArray("DataCol",d)&&(isNaN(parseFloat(rvDataSets[0].CustomData[h].DataCol))?e[k]=rvDataSets[0].CustomData[h].DataCol:e[k]=parseFloat(rvDataSets[0].CustomData[h].DataCol)),
0<=$.inArray("ColorCol",d)&&(a.dataLayerColors[k]=colorNameToHex(rvDataSets[0].CustomData[h].ColorCol)),k=b}return{IncludeData:e,ExtraData:f}}function set_cookie(a,k,e,f){f=f?"; domain="+f:"";document.cookie=a+"="+encodeURIComponent(k)+"; max-age="+86400*e+"; path=/"+f}function get_cookie(a){var k=document.cookie;if(0!=k.length){a=k.match(new RegExp(a+"=[^;]*","g"));if(null==a)return"";a=a[0].split("=");return decodeURIComponent(a[1])}}
function checkSavePrivacyStatus(){"Agreed"!=get_cookie("privacy_status_text")?($("#Privacy-confirm").text('This feature requires uploading data to our server. Our privacy policy at this time is to not look at these files without permission. We will set up autodelete for these files soon. Click "I agree" to acknowledge acceptance of our policy.'),CurrPrivacyCookie="privacy_status_text",$("#Privacy-confirm").dialog("open")):AgreeFunction()}
function saveNavLine(){AgreeFunction=function(){var a=document.getElementById("NavLineDiv").getElementsByTagName("svg")[0],a=(new XMLSerializer).serializeToString(a),k=document.createElement("form");k.setAttribute("method","post");k.setAttribute("action","saveNavLine.php");k.setAttribute("target","_blank");var e=document.createElement("input");e.setAttribute("type","hidden");e.setAttribute("name","content");e.setAttribute("value",a);k.appendChild(e);document.body.appendChild(k);k.submit()};checkSavePrivacyStatus()}
function saveJmolImg(){AgreeFunction=function(){if(!$('input[name="jp"][value=off]').is(":checked")){var a=Jmol.getPropertyAsString(myJmol,"image"),k=document.createElement("form");k.setAttribute("method","post");k.setAttribute("action","saveJmolImg.php");k.setAttribute("target","_blank");var e=document.createElement("input");e.setAttribute("type","hidden");e.setAttribute("name","content");e.setAttribute("value",a);k.appendChild(e);document.body.appendChild(k);k.submit()}};checkSavePrivacyStatus()}
function retrieveRvState(a){SaveStateFileName=a;$.post("retrieveRvState.php",{datasetname:SaveStateFileName,username:UserName},function(a){a=JSON.parse(a);rvDataSets[0]=rvDataSets[0].fromJSON(a.RvDS);a.rvLayers=JSON.stringify(rvDataSets[0].Layers);a.rvSelections=JSON.stringify(rvDataSets[0].Selections);a.rvLastSpecies=rvDataSets[0].Name;$('input[name="jp"][value=on]').is(":checked")&&(Jmol.script(myJmol,"script states/"+rvDataSets[0].SpeciesEntry.Jmol_Script),Jmol.script(myJmol,"display "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+
".1"));processRvState(a)})}
function storeRvState(a){SaveStateFileName=a;AgreeFunction=function(){var a={};a.RvDS=JSON.stringify(rvDataSets[0]);a.rvView=JSON.stringify(rvViews[0]);$('input[name="jp"][value=on]').is(":checked")&&(a.rvJmolOrientation=Jmol.evaluate(myJmol,"script('show orientation')"));$("input[name='PanelSizesCheck']").attr("checked")&&(a.rvPanelSizes=JSON.stringify({PanelDivide:PanelDivide,TopDivide:TopDivide}));$("input[name='MouseModeCheck']").attr("checked")&&(a.rvMouseMode=onebuttonmode);$form=$("<form></form>");
$("body").append($form);data={content:JSON.stringify(a,null,"\t"),datasetname:SaveStateFileName,username:UserName};$.post("storeRvState.php",data,function(a){})};checkSavePrivacyStatus()}
function saveRvState(a){SaveStateFileName=a;AgreeFunction=function(){var a={};a.RvDS=JSON.stringify(rvDataSets[0]);a.rvView=JSON.stringify(rvViews[0]);$('input[name="jp"][value=on]').is(":checked")&&(a.rvJmolOrientation=Jmol.evaluate(myJmol,"script('show orientation')"));$("input[name='PanelSizesCheck']").attr("checked")&&(a.rvPanelSizes=JSON.stringify({PanelDivide:PanelDivide,TopDivide:TopDivide}));$("input[name='MouseModeCheck']").attr("checked")&&(a.rvMouseMode=onebuttonmode);var e=document.createElement("form");
e.setAttribute("method","post");e.setAttribute("action","saveRvState.php");e.setAttribute("target","_blank");var f=document.createElement("input");f.setAttribute("type","hidden");f.setAttribute("name","content");f.setAttribute("value",JSON.stringify(a,null,"\t"));a=document.createElement("input");a.setAttribute("type","hidden");a.setAttribute("name","datasetname");a.setAttribute("value",SaveStateFileName);e.appendChild(f);e.appendChild(a);document.body.appendChild(e);e.submit()};checkSavePrivacyStatus()}
function saveJPG(){AgreeFunction=function(){var a=canvasToSVG(),k=document.createElement("form");k.setAttribute("method","post");k.setAttribute("action","saveJPG.php");k.setAttribute("target","_blank");var e=document.createElement("input");e.setAttribute("type","hidden");e.setAttribute("name","content");e.setAttribute("value",a.SVG);var f=document.createElement("input");f.setAttribute("type","hidden");f.setAttribute("name","orientation");f.setAttribute("value",a.Orientation);k.appendChild(e);k.appendChild(f);
document.body.appendChild(k);k.submit()};checkSavePrivacyStatus()}
function savePNG(){AgreeFunction=function(){var a=canvasToSVG(),k=document.createElement("form");k.setAttribute("method","post");k.setAttribute("action","savePNG.php");k.setAttribute("target","_blank");var e=document.createElement("input");e.setAttribute("type","hidden");e.setAttribute("name","content");e.setAttribute("value",a.SVG);var f=document.createElement("input");f.setAttribute("type","hidden");f.setAttribute("name","orientation");f.setAttribute("value",a.Orientation);k.appendChild(e);k.appendChild(f);
document.body.appendChild(k);k.submit()};checkSavePrivacyStatus()}function saveSVG(){AgreeFunction=function(){var a=canvasToSVG(),k=document.createElement("form");k.setAttribute("method","post");k.setAttribute("action","saveSVG.php");k.setAttribute("target","_blank");var e=document.createElement("input");e.setAttribute("type","hidden");e.setAttribute("name","content");e.setAttribute("value",a.SVG);k.appendChild(e);document.body.appendChild(k);k.submit()};checkSavePrivacyStatus()}
function savePDF(){AgreeFunction=function(){var a=canvasToSVG(),k=document.createElement("form");k.setAttribute("method","post");k.setAttribute("action","savePDF.php");k.setAttribute("target","_blank");var e=document.createElement("input");e.setAttribute("type","hidden");e.setAttribute("name","content");e.setAttribute("value",a.SVG);k.appendChild(e);document.body.appendChild(k);k.submit()};checkSavePrivacyStatus()}
function savePML(){AgreeFunction=function(){var a="",k=[],a=a+"set bg_rgb, white\nset seq_view_label_color, hydrogen\nunset ignore_case\n",e=[rvDataSets[0].SpeciesEntry.PDB_File_rRNA,rvDataSets[0].SpeciesEntry.PDB_File_rProtein];e[1]===e[0]?(k[0]=rvDataSets[0].SpeciesEntry.Species_Abr+"_"+rvDataSets[0].SpeciesEntry.Subunit+"_Full",k[1]=k[0],a+="load "+e[0]+", "+k[0]+"\n",a+="as cartoon, "+k[0]+"\n",a+="disable "+k[0]+"\n"):(k[0]=rvDataSets[0].SpeciesEntry.Species_Abr+"_"+rvDataSets[0].SpeciesEntry.Subunit+
"_rRNA",k[1]=rvDataSets[0].SpeciesEntry.Species_Abr+"_"+rvDataSets[0].SpeciesEntry.Subunit+"_rProtein",a+="load "+e[0]+", "+k[0]+"\n",a+="load "+e[1]+", "+k[1]+"\n",a+="as cartoon, "+k[0]+"\n",a+="as cartoon, "+k[1]+"\n",a+="disable "+k[0]+"\n",a+="disable "+k[1]+"\n");var a=a+"\n",f=rvDataSets[0].getLayerByType(["residues","circles","selected"]);$.each(f,function(d,b){a+=layerToPML(k,b)});a+="\n";a+=proteinsToPML(k);a+="\n";a+=ColorProteinsPyMOL(k);a+="\n";$.each(rvDataSets[0].Selections,function(d,
b){a+=selectionToPML(k,b)});a+="\ndisable RV_Sele_*\n";a+="\nzoom all\n";f=document.createElement("form");f.setAttribute("method","post");f.setAttribute("action","savePML.php");f.setAttribute("target","_blank");var d=document.createElement("input");d.setAttribute("type","hidden");d.setAttribute("name","content");d.setAttribute("value",a);f.appendChild(d);PDB_filesU=$.grep(e,function(a,b){return $.inArray(a,e)===b});d=document.createElement("input");d.setAttribute("type","hidden");d.setAttribute("name",
"pdbfiles");d.setAttribute("value",PDB_filesU);f.appendChild(d);document.body.appendChild(f);f.submit()};checkSavePrivacyStatus()}
function layerToPML(a,k){var e=[],f="",d,h,b,c;if(void 0!=rvDataSets[0].Residues[0]){for(d=0;d<rvDataSets[0].SpeciesEntry.Molecule_Names.length;d++)e[d]=rvDataSets[0].SpeciesEntry.Species_Abr+"_"+rvDataSets[0].SpeciesEntry.Molecule_Names[d]+"_"+k.LayerName,f+="create "+e[d]+", "+a[0]+" and chain "+rvDataSets[0].SpeciesEntry.PDB_chains[d]+"\n",f=k.Linked?f+("enable "+e[d]+"\n"):f+("disable "+e[d]+"\n");f+="\n";d=rvDataSets[0].Residues[0].resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"");b=rvDataSets[0].Residues[0].ChainID;
(c=colorNameToHex(k.dataLayerColors[0]))&&"#000000"!==c||(c="#858585");for(var g=1;g<rvDataSets[0].Residues.length;g++){var l=rvDataSets[0].Residues[g];h=rvDataSets[0].Residues[g-1];var p=k.dataLayerColors[g-1];p||(p="#858585");if(""!=l.ChainID)if(""==b)b=l.ChainID,(c=colorNameToHex(k.dataLayerColors[g]))&&"#000000"!==c||(c="#858585"),d=l.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"");else if(null==l.ChainID)b=l.ChainID,(c=colorNameToHex(k.dataLayerColors[g]))&&"#000000"!==c||(c="#858585"),d=
l.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"");else if(compare_color=k.dataLayerColors[g]?colorNameToHex(k.dataLayerColors[g]):"#858585",compare_color!=colorNameToHex(p)||b!=l.ChainID||g==rvDataSets[0].Residues.length-1)h=h.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,""),f=d===h?-1==colorNameToHex(p).indexOf("#")?f+("color 0x"+c+", "+e[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(b)]+" and resi "+d+"\n"):f+("color "+c.replace("#","0x")+", "+e[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(b)]+
" and resi "+d+"\n"):-1==colorNameToHex(p).indexOf("#")?f+("color 0x"+c+", "+e[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(b)]+" and resi "+d+"-"+h+"\n"):f+("color "+c.replace("#","0x")+", "+e[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(b)]+" and resi "+d+"-"+h+"\n"),d=l.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,""),""!=l.ChainID&&(b=l.ChainID),(c=colorNameToHex(k.dataLayerColors[g]))&&"#000000"!==c||(c="#858585")}f=-1==colorNameToHex(p).indexOf("#")?f+("color 0x"+c+", "+e[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(b)]+
" and resi "+d+"-"+l.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+"\n"):f+("color "+c.replace("#","0x")+", "+e[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(b)]+" and resi "+d+"-"+l.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+"\n");return f+"\n"}}
function proteinsToPML(a){var k="",e;for(e=0;e<rvDataSets[0].SpeciesEntry.SubunitProtChains[0].length;e++)k+="create "+rvDataSets[0].SpeciesEntry.Species_Abr+"_rp"+rvDataSets[0].SpeciesEntry.SubunitProtChains[0][e].replace(/\(/g,"_").replace(/\)/g,"")+", "+a[1]+" and chain "+rvDataSets[0].SpeciesEntry.SubunitProtChains[1][e].replace(/\(/g,"_").replace(/\)/g,"")+"\n";var k=k+"\ndisable *rp*\ncolor wheat, *rp*\n",f=$("#ProtList").multiselect("getChecked").map(function(){return this.value}).get();for(jjj=
0;jjj<f.length;jjj++)a=rvDataSets[0].SpeciesEntry.SubunitProtChains[2].indexOf(f[jjj]),e=$.grep($("#ProtList").multiselect("getChecked"),function(a){return a.value==f[jjj]}),0<=a&&(e=rgb2hex($(e).next().css("color")),e=-1==e.indexOf("#")?"0x"+e:e.replace("#","0x"),k+="color "+e+", "+rvDataSets[0].SpeciesEntry.Species_Abr+"_rp"+rvDataSets[0].SpeciesEntry.SubunitProtChains[0][a].replace(/\(/g,"_").replace(/\)/g,"")+"\n",k+="enable "+rvDataSets[0].SpeciesEntry.Species_Abr+"_rp"+rvDataSets[0].SpeciesEntry.SubunitProtChains[0][a].replace(/\(/g,
"_").replace(/\)/g,"")+"\n");return k}
function selectionToPML(a,k){var e,f="RV_Sele_"+k.Name,d,h,b,c=!1;if(void 0!=rvDataSets[0].Residues[0]){e=""+("create "+f+", resi 0\n");var g=k.Residues.sort(function(a,b){return Number(a.map_Index)-Number(b.map_Index)});d=g[0].resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"");b=g[0].ChainID;for(var l=1;l<g.length;l++){var p=g[l];h=g[l-1];if(""!=p.ChainID)if(""==b)b=p.ChainID,d=p.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"");else if(null==p.ChainID)b=p.ChainID,d=p.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,
"");else if(1<p.map_Index-h.map_Index||b!=p.ChainID||l==g.length-1)l==g.length-1&&b==p.ChainID&&1==p.map_Index-h.map_Index?(h=p.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,""),c=!0):h=h.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,""),e=d===h?e+("create "+f+", "+f+" or ("+a[0]+" and chain "+b+" and resi "+d+")\n"):e+("create "+f+", "+f+" or ("+a[0]+" and chain "+b+" and resi "+d+"-"+h+")\n"),d=p.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,""),""!=p.ChainID&&(b=p.ChainID)}c||(e+="create "+
f+", "+f+" or ("+a[0]+" and chain "+b+" and resi "+d+")\n");return e+="color "+k.Color.replace("#","0x")+", "+f+"\n\n"}}
function canvasToSVG(){var a,k,e=$('input[name="savelayers"][value=all]').attr("checked");if(0<=rvDataSets[0].SpeciesEntry.Orientation.indexOf("portrait")){var f="612 792",d='width="612px" height="792px" ';k="portrait"}else f="792 612",d='width="792px" height="612px" ',k="landscape";output='<?xml version=\'1.0\' encoding=\'UTF-8\'?>\n<svg version="1.1" baseProfile="basic" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" '+d+'viewBox="0 0 '+f+'" xml:space="preserve">\n';
$.ajax({url:"images/"+rvDataSets[0].Name+"_ExtraLabels.svg",dataType:"text",cache:!1,async:!1}).done(function(a){output+=a});$.each(rvDataSets[0].Layers,function(d,b){if(e||b.Visible)switch(b.Type){case "lines":output=output+'<g id="'+b.LayerName+'">\n';if("gray_lines"===b.ColorLayer)for(var c=0;c<rvDataSets[0].BasePairs.length;c++){var f=rvDataSets[0].BasePairs[c];output=output+'<line fill="none" stroke="'+f.color_hex+'" stroke-opacity="'+f.opacity+'" stroke-width="0.5" stroke-linejoin="round" stroke-miterlimit="10" x1="'+
parseFloat(rvDataSets[0].Residues[f.resIndex1].X).toFixed(3)+'" y1="'+parseFloat(rvDataSets[0].Residues[f.resIndex1].Y).toFixed(3)+'" x2="'+parseFloat(rvDataSets[0].Residues[f.resIndex2].X).toFixed(3)+'" y2="'+parseFloat(rvDataSets[0].Residues[f.resIndex2].Y).toFixed(3)+'"/>\n'}else if("manual_coloring"===b.ColorLayer)for(c=0;c<rvDataSets[0].BasePairs.length;c++)f=rvDataSets[0].BasePairs[c],output=output+'<line fill="none" stroke="'+f.color_hex+'" stroke-opacity="'+f.opacity+'" stroke-width="0.5" stroke-linejoin="round" stroke-miterlimit="10" x1="'+
parseFloat(rvDataSets[0].Residues[f.resIndex1].X).toFixed(3)+'" y1="'+parseFloat(rvDataSets[0].Residues[f.resIndex1].Y).toFixed(3)+'" x2="'+parseFloat(rvDataSets[0].Residues[f.resIndex2].X).toFixed(3)+'" y2="'+parseFloat(rvDataSets[0].Residues[f.resIndex2].Y).toFixed(3)+'"/>\n';else switch("Matched"==b.ColorLayer.ColorGradientMode?a="resIndex1":"Opposite"==b.ColorLayer.ColorGradientMode?a="resIndex2":alert("how did we get here? 34"),b.ColorLayer.Type){case "residues":for(c=0;c<rvDataSets[0].BasePairs.length;c++)f=
rvDataSets[0].BasePairs[c],output=output+'<line fill="none" stroke="'+rvDataSets[0].Residues[f[a]].color+'" stroke-opacity="'+f.opacity+'" stroke-width="0.5" stroke-linejoin="round" stroke-miterlimit="10" x1="'+parseFloat(rvDataSets[0].Residues[f.resIndex1].X).toFixed(3)+'" y1="'+parseFloat(rvDataSets[0].Residues[f.resIndex1].Y).toFixed(3)+'" x2="'+parseFloat(rvDataSets[0].Residues[f.resIndex2].X).toFixed(3)+'" y2="'+parseFloat(rvDataSets[0].Residues[f.resIndex2].Y).toFixed(3)+'"/>\n';break;case "circles":for(c=
0;c<rvDataSets[0].BasePairs.length;c++)f=rvDataSets[0].BasePairs[c],output=output+'<line fill="none" stroke="'+b.ColorLayer.dataLayerColors[f[a]]+'" stroke-opacity="'+f.opacity+'" stroke-width="0.5" stroke-linejoin="round" stroke-miterlimit="10" x1="'+parseFloat(rvDataSets[0].Residues[f.resIndex1].X).toFixed(3)+'" y1="'+parseFloat(rvDataSets[0].Residues[f.resIndex1].Y).toFixed(3)+'" x2="'+parseFloat(rvDataSets[0].Residues[f.resIndex2].X).toFixed(3)+'" y2="'+parseFloat(rvDataSets[0].Residues[f.resIndex2].Y).toFixed(3)+
'"/>\n';break;case "selected":for(c=0;c<rvDataSets[0].BasePairs.length;c++)if(f=rvDataSets[0].BasePairs[c],b.ColorLayer.Data[f.resIndex1]||b.ColorLayer.Data[f.resIndex2])output=output+'<line fill="none" stroke="'+f.color_hex+'" stroke-opacity="'+f.opacity+'" stroke-width="0.5" stroke-linejoin="round" stroke-miterlimit="10" x1="'+parseFloat(rvDataSets[0].Residues[f.resIndex1].X).toFixed(3)+'" y1="'+parseFloat(rvDataSets[0].Residues[f.resIndex1].Y).toFixed(3)+'" x2="'+parseFloat(rvDataSets[0].Residues[f.resIndex2].X).toFixed(3)+
'" y2="'+parseFloat(rvDataSets[0].Residues[f.resIndex2].Y).toFixed(3)+'"/>\n';break;default:alert("this shouldn't be happening right now 54.")}output+="</g>\n";break;case "labels":output=output+'<g id="'+b.LayerName+'_Lines">\n';for(c=0;c<rvDataSets[0].rvLineLabels.length;c++)f=rvDataSets[0].rvLineLabels[c],output=output+'<line fill="none" stroke="#211E1F" stroke-width="0.25" stroke-linejoin="round" stroke-miterlimit="10" x1="'+parseFloat(f.X1).toFixed(3)+'" y1="'+parseFloat(f.Y1).toFixed(3)+'" x2="'+
parseFloat(f.X2).toFixed(3)+'" y2="'+parseFloat(f.Y2).toFixed(3)+'"/>\n';output+="</g>\n";output=output+'<g id="'+b.LayerName+'_Text">\n';for(c=0;c<rvDataSets[0].rvTextLabels.length;c++)f=rvDataSets[0].rvTextLabels[c],output=output+'<text transform="matrix(1 0 0 1 '+parseFloat(f.X).toFixed(3)+" "+parseFloat(f.Y).toFixed(3)+')" fill="'+f.Fill+'" font-family="Myriad Pro" font-size="'+f.FontSize+'">'+f.LabelText+"</text>\n";output+="</g>\n";break;case "residues":output=output+'<g id="'+b.LayerName+'">\n';
for(var c=-.439*parseFloat(rvDataSets[0].SpeciesEntry.Font_Size_SVG)+.4346,f=.2944*parseFloat(rvDataSets[0].SpeciesEntry.Font_Size_SVG)-.0033,k=0;k<rvDataSets[0].Residues.length;k++){var p=rvDataSets[0].Residues[k];output=output+'<text id="'+p.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+'" transform="matrix(1 0 0 1 '+(parseFloat(p.X)+c).toFixed(3)+" "+(parseFloat(p.Y)+f).toFixed(3)+')" fill="'+p.color+'" font-family="Myriad Pro" font-size="'+rvDataSets[0].SpeciesEntry.Font_Size_SVG+'">'+p.resName+
"</text>\n"}output+="</g>\n";break;case "circles":output=output+'<g id="'+b.LayerName+'">\n';for(var v=rvDataSets[0].SpeciesEntry.Circle_Radius*b.ScaleFactor,k=0;k<rvDataSets[0].Residues.length;k++)(p=rvDataSets[0].Residues[k])&&b.dataLayerColors[k]&&(output=b.Filled?output+'<circle id="'+p.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+'" fill="'+b.dataLayerColors[k]+'" stroke="'+b.dataLayerColors[k]+'" stroke-width="0.5" stroke-miterlimit="10" cx="'+parseFloat(p.X).toFixed(3)+'" cy="'+parseFloat(p.Y).toFixed(3)+
'" r="'+v+'"/>\n':output+'<circle id="'+p.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+'" fill="none" stroke="'+b.dataLayerColors[k]+'" stroke-width="0.5" stroke-miterlimit="10" cx="'+parseFloat(p.X).toFixed(3)+'" cy="'+parseFloat(p.Y).toFixed(3)+'" r="'+v+'"/>\n');output+="</g>\n";break;case "selected":output=output+'<g id="'+b.LayerName+'">\n';var v=rvDataSets[0].SpeciesEntry.Circle_Radius*b.ScaleFactor,q=[];$(".checkBoxDIV-S").find(".visibilityCheckImg[value=visible]").parent().parent().each(function(a){q.push($(this).attr("name"))});
$.each(q,function(a,b){var c=rvDataSets[0].getSelection(b);output=output+'<g id="'+c.Name+'">\n';$.each(c.Residues,function(a,b){output=output+'<circle id="'+b.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+'" fill="none" stroke="'+c.Color+'" stroke-width="0.5" stroke-miterlimit="10" cx="'+parseFloat(b.X).toFixed(3)+'" cy="'+parseFloat(b.Y).toFixed(3)+'" r="'+v+'"/>\n'});output+="</g>\n"});output+="</g>\n"}});output+=watermark(!0);output+="</svg>";return{SVG:output,Orientation:k}}
function computeSeqTable(){var a="",k="",a=a+"WholeSet,WholeSet\n",a=a+"resNum,resName\n";$.each(rvDataSets[0].Residues,function(e,d){a+=rvDataSets[0].SpeciesEntry.Molecule_Names[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(d.ChainID)]+":"+d.resNum.replace(/[^:]*:/g,"")+","+d.resName+"\n"});var e=$.csv.toArrays(a);$.each(rvDataSets[0].Selections,function(a,d){0<d.Residues.length&&(e[0].push(d.Name,d.Name),e[1].push("resNum","resName"),$.each(d.Residues,function(a,b){e[2+a].push(rvDataSets[0].SpeciesEntry.Molecule_Names[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(b.ChainID)]+
":"+b.resNum.replace(/[^:]*:/g,""),b.resName)}))});$.each(e,function(a,d){k+=d.toString()+"\n"});return k}
function saveSeqTable(){AgreeFunction=function(){var a=computeSeqTable(),k=document.createElement("form");k.setAttribute("method","post");k.setAttribute("action","saveSeqTable.php");k.setAttribute("target","_blank");var e=document.createElement("input");e.setAttribute("type","hidden");e.setAttribute("name","content");e.setAttribute("value","\ufeff"+a);k.appendChild(e);document.body.appendChild(k);k.submit()};checkSavePrivacyStatus()}
function computeSeqDataTable(){var a="",k="",a=a+"WholeSet,WholeSet\n",a=a+"resNum,resName\n";$.each(rvDataSets[0].Residues,function(e,d){a+=rvDataSets[0].SpeciesEntry.Molecule_Names[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(d.ChainID)]+":"+d.resNum.replace(/[^:]*:/g,"")+","+d.resName+"\n"});var e=$.csv.toArrays(a);$.each(rvDataSets[0].Layers,function(a,d){0<d.Data.length&&"lines"!=d.Type&&(e[0].push(d.LayerName),e[1].push('"'+d.DataLabel.replace(/,/g,"\\comma\\")+'"'),$.each(d.Data,function(a,
b){e[2+a].push(b)}))});$.each(e,function(a,d){k+=d.toString()+"\n"});return k.replace(/,/g,"\t").replace(/\\comma\\/g,",")}
function computeInteractionDataTable(){var a="",a=a+"Residue_i,ResidueName_i,Residue_j,ResidueName_j,Int_Type\n";$.each(rvDataSets[0].BasePairs,function(k,e){var f=e.resIndex1,d=e.resIndex2,h=0<=rvDataSets[0].Residues[f].resNum.indexOf(":")?rvDataSets[0].Residues[f].resNum:rvDataSets[0].SpeciesEntry.Molecule_Names[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(rvDataSets[0].Residues[f].ChainID)]+":"+rvDataSets[0].Residues[f].resNum,b=0<=rvDataSets[0].Residues[d].resNum.indexOf(":")?rvDataSets[0].Residues[d].resNum:
rvDataSets[0].SpeciesEntry.Molecule_Names[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(rvDataSets[0].Residues[d].ChainID)]+":"+rvDataSets[0].Residues[d].resNum;a+=h+","+rvDataSets[0].Residues[f].resName+","+b+","+rvDataSets[0].Residues[d].resName+","+e.bp_type+"\n"});return a.replace(/,/g,"\t")}
function saveInteractionDataTable(){AgreeFunction=function(){var a=computeInteractionDataTable(),k=document.createElement("form");k.setAttribute("method","post");k.setAttribute("action","saveInteractionDataTable.php");k.setAttribute("target","_blank");var e=document.createElement("input");e.setAttribute("type","hidden");e.setAttribute("name","content");e.setAttribute("value","\ufeff"+a);k.appendChild(e);document.body.appendChild(k);k.submit()};checkSavePrivacyStatus()}
function saveSeqDataTable(){AgreeFunction=function(){var a=computeSeqDataTable(),k=document.createElement("form");k.setAttribute("method","post");k.setAttribute("action","saveSeqDataTable.php");k.setAttribute("target","_blank");var e=document.createElement("input");e.setAttribute("type","hidden");e.setAttribute("name","content");e.setAttribute("value","\ufeff"+a);k.appendChild(e);document.body.appendChild(k);k.submit()};checkSavePrivacyStatus()}
function saveFasta(){AgreeFunction=function(){var a=computeFasta(),k=document.createElement("form");k.setAttribute("method","post");k.setAttribute("action","saveFasta.php");k.setAttribute("target","_blank");var e=document.createElement("input");e.setAttribute("type","hidden");e.setAttribute("name","content");e.setAttribute("value",a);k.appendChild(e);document.body.appendChild(k);k.submit()};checkSavePrivacyStatus()}
function computeFasta(){var a="",a=a+(">"+rvDataSets[0].Name+"\n");$.each(rvDataSets[0].Residues,function(k,e){a+=e.resName});a+="\n\n";$.each(rvDataSets[0].Selections,function(k,e){0<e.Residues.length&&(a+=">"+e.Name+"\n",$.each(e.Residues,function(e,d){a+=d.resName}),a+="\n\n")});return a}
function updateModel(){if(!$('input[name="jp"][value=off]').is(":checked")){var a,k=rvDataSets[0].getSelection($("input:radio[name=selectedRadioS]").filter(":checked").parent().parent().attr("name"));if(0<k.Residues.length){for(var e="set hideNotSelected true;select ("+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and (",f=0;f<k.Residues.length;f++)null!=k.Residues[f].resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")&&(e!="set hideNotSelected true;select ("+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+
".1 and ("&&(e+=" or "),a=k.Residues[f].resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"").match(/[A-z]/g),r1=null!=a?k.Residues[f].resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"").replace(a,"^"+a):k.Residues[f].resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,""),e+=r1+":"+k.Residues[f].ChainID);Jmol.script(myJmol,e+")); center selected;")}else refreshModel()}}
function refreshModel(){if(!$('input[name="jp"][value=off]').is(":checked")){for(var a="set hideNotSelected true;select ("+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and (",k=0;k<rvDataSets[0].SpeciesEntry.PDB_chains.length;k++)a+=":"+rvDataSets[0].SpeciesEntry.PDB_chains[k],k<rvDataSets[0].SpeciesEntry.PDB_chains.length-1&&(a+=" or ");Jmol.script(myJmol,a+")); center selected;")}}
function resetColorState(){$('input[name="jp"][value=off]').is(":checked")||(clearColor(!1),Jmol.script(myJmol,"script states/"+rvDataSets[0].SpeciesEntry.Jmol_Script),Jmol.script(myJmol,"display "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1"),updateModel())}
function populateDomainHelixMenu(){$("#selectByDomainHelix").find("option").remove().end();for(var a=[],k=[],e=[],f=0;f<rvDataSets[0].Residues.length;f++)a[f]=rvDataSets[0].Residues[f].Domain_AN,k[f]=rvDataSets[0].Residues[f].Domain_RN,e[a[f]]||(e[a[f]]=[]),0<=rvDataSets[0].Residues[f].resNum.indexOf(":")?e[a[f]].push(rvDataSets[0].Residues[f].resNum):e[a[f]].push(rvDataSets[0].SpeciesEntry.Molecule_Names[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(rvDataSets[0].Residues[f].ChainID)]+":"+rvDataSets[0].Residues[f].resNum);
var f=$.grep(a,function(b,d){return $.inArray(b,a)===d}),d=$.grep(k,function(a,b){return $.inArray(a,k)===b});$("#selectByDomainHelix").append('<optgroup label="Domains" id="domainsList" />');$.each(f,function(a,b){d[a]&&0<=d[a].indexOf("S")?$("#domainsList").append(new Option(d[a],e[b])):$("#domainsList").append(new Option("Domain "+d[a],e[b]))});for(var h=[],b=[],f=0;f<rvDataSets[0].Residues.length;f++)h[f]=rvDataSets[0].Residues[f].Helix_Num,b[h[f]]||(b[h[f]]=[]),0<=rvDataSets[0].Residues[f].resNum.indexOf(":")?
b[h[f]].push(rvDataSets[0].Residues[f].resNum):b[h[f]].push(rvDataSets[0].SpeciesEntry.Molecule_Names[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(rvDataSets[0].Residues[f].ChainID)]+":"+rvDataSets[0].Residues[f].resNum);f=$.grep(h,function(a,b){return $.inArray(a,h)===b});$("#selectByDomainHelix").append('<optgroup label="Helices" id="helciesList" />');$.each(f,function(a,d){$("#helciesList").append(new Option("Helix "+d,b[d]))});$("#selectByDomainHelix").multiselect("refresh")}
function watermark(a){if(rvDataSets[0].SpeciesEntry.MapType&&"None"!=rvDataSets[0].SpeciesEntry.MapType){var k=new Date,e,f=("portrait"==rvDataSets[0].SpeciesEntry.Orientation?779:612)-20,d="A "+rvDataSets[0].SpeciesEntry.MapType+" secondary structure, generated by RiboVision.";e=k.toLocaleString().indexOf("G");var h=rvDataSets[0].getLayerByType("labels")[0];h.CanvasContext.textAlign="left";h.CanvasContext.font='10pt "Myriad Pro", Calibri, Arial';h.CanvasContext.fillStyle="#FF5500";h.CanvasContext.fillText(d,
10,f);d='<g id="WaterMark">\n<text id="WaterMark" transform="matrix(1 0 0 1 '+(8.738).toFixed(3)+" "+(parseFloat(f)+1.145).toFixed(3)+')" fill="#f6a828" font-family="Myriad Pro" font-size="10">'+d+"</text>\n";a&&(h.CanvasContext.fillText("Saved on "+k.toLocaleString().slice(0,e-1),85,f+15),d=d+'<text id="Date" transform="matrix(1 0 0 1 '+(83.738).toFixed(3)+" "+(parseFloat(f)+15+1.145).toFixed(3)+')" fill="#f6a828" font-family="Myriad Pro" font-size="8">Saved on '+k.toLocaleString().slice(0,e-1)+
"</text>\n");return d+"</g>\n"}}function canvas_arrow(a,k,e,f){var d=Math.atan2(f-k,e-a);rvDataSets[0].Layers[0].CanvasContext.moveTo(a,k);rvDataSets[0].Layers[0].CanvasContext.lineTo(e,f);rvDataSets[0].Layers[0].CanvasContext.lineTo(e-10*Math.cos(d-Math.PI/6),f-10*Math.sin(d-Math.PI/6));rvDataSets[0].Layers[0].CanvasContext.moveTo(e,f);rvDataSets[0].Layers[0].CanvasContext.lineTo(e-10*Math.cos(d+Math.PI/6),f-10*Math.sin(d+Math.PI/6))}
function welcomeScreen(){var a=parseFloat($("#canvasDiv").css("width"))/733,k=new Image;k.onload=function(){canvas2DSupported&&(rvDataSets[0].Layers[0].clearCanvas(),rvDataSets[0].Layers[0].CanvasContext.drawImage(k,rvViews[0].x-80,rvViews[0].y-30,733*a,550*a))};k.src="images/RiboVisionLogo.png"}function d2h(a){return a.toString(16)}function h2d(a){return parseInt(a,16)}
function rgb2hex(a){function k(a){return("0"+parseInt(a).toString(16)).slice(-2)}a=a.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/);return"#"+k(a[1])+k(a[2])+k(a[3])}function changeLineOpacity(a){document.getElementById("lineOpacity").innerHTML="Line Opacity: "+Math.round(100*a)+"%";$.each(rvDataSets[0].BasePairs,function(k,e){e.opacity=a});rvDataSets[0].drawBasePairs("lines")}
function drawNavLine(){if(!$('input[name="nl"][value=off]').is(":checked")){$("#NavLineDiv").empty();var a=void 0,k=void 0,e=rvDataSets[0].getSelectedLayer();if(!1!==e){var f=e.DataLabel,d=1*$("#NavLineDiv").innerWidth(),h=.95*$("#NavLineDiv").innerHeight(),b=d3.max($.map(e.Data,function(a){return parseFloat(a)})),c=d3.min($.map(e.Data,function(a){return parseFloat(a)}));void 0!==b&&(a=b);void 0!==c&&(k=c);"selected"==e.Type&&(a=1,k=0);"Protein Contacts"===e.DataLabel&&(a=1,k=0);var g=d3.scale.linear().domain([0,
rvDataSets[0].Residues.length]).range([60,d-120]),l=d3.scale.linear().domain([k,a]).range([h-40,40]),a=d3.select("#NavLineDiv").append("svg:svg").attr("width",d).attr("height",h),k=a.append("svg:g").attr("width",d).attr("height",h),b=d3.svg.line().defined(function(a){return void 0!==a&&""!==a?!isNaN(a):!1}).x(function(a,b){return g(b)}).y(function(a){return l(a)}),p=[];"selected"===e.Type?($.each(e.Data,function(a,b){p[a]=!1===b?0:1}),f="Selected Residues"):"empty data"===e.DataLabel||"None"===e.DataLabel?
$.each(e.Data,function(a,b){p[a]=0}):"Protein Contacts"===e.DataLabel?($.each(e.Data,function(a,b){p[a]=" "===b?0:1}),f="Protein Contacts"):p=e.Data;k.append("svg:path").attr("d",b(p)).style("stroke",e.Color);e=d3.svg.axis().scale(g).orient("bottom").ticks(20);a.append("g").attr("class","axis").attr("transform","translate(0,"+(h-40)+")").call(e);e=d3.svg.axis().scale(l).orient("left").ticks(5);a.append("g").attr("class","axis").attr("transform","translate(60,0)").call(e);k.append("text").attr("x",
(d-120-60)/2+60).attr("y",h-10).attr("text-anchor","middle").text("Nucleotide Number");k.append("text").attr("x",15).attr("y",h/2).attr("text-anchor","middle").attr("transform","rotate(-90 ,15,"+h/2+")").text(f)}}}
function addPopUpWindowResidue(a){function k(){var a=d3.select("#ResidueTipContent").append("svg").attr("width",d).attr("height",h),g=(d-e)/(y+b/100*(y-1)),k=d3.scale.linear().domain([0,y-1]).range([e,d-g]),l=d3.scale.linear().domain([0,100]).range([h-2*f,0]);a.selectAll("rect").data(w).enter().append("rect").attr("x",function(a,b){return k(b)}).attr("y",function(a){return f+l(a)}).attr("width",g).attr("height",function(a){return h-2*f-l(a)}).attr("fill",function(a,b){return c[b]});a.selectAll("text.number").data(w).enter().append("text").text(function(a){return a}).attr("text-anchor",
"middle").attr("x",function(a,b){return k(b)+g/2}).attr("y",function(a){return f+l(a)-5}).attr("font-family","sans-serif").attr("font-size","10px").attr("fill","black").attr("class","number").text(String);var p=d3.svg.axis().scale(k).orient("bottom").ticks(5),q=d3.svg.axis().scale(l).orient("left").ticks(5);p.tickFormat(function(a,b){return x[b]});a.append("g").attr("class","axis").attr("transform","translate("+g/2+","+(h-f)+")").call(p);a.append("g").attr("class","axis").attr("transform","translate("+
.8*e+","+f+")").call(q)}var e=40,f=20,d=192,h=128,b=20,c=["green","blue","black","red","orange"];d3.select("#ResidueTipContent svg").remove();var g=0<=rvDataSets[0].Residues[a].resNum.indexOf(":")?rvDataSets[0].Residues[a].resNum:rvDataSets[0].SpeciesEntry.Molecule_Names[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(rvDataSets[0].Residues[a].ChainID)]+":"+rvDataSets[0].Residues[a].resNum,l=$.grep(rvDataSets[0].ConservationTable,function(a){return a.resNum==g})[0];if(l){var p=(100*l.A).toFixed(1),
v=(100*l.C).toFixed(1),q=(100*l.G).toFixed(1),r=(100*l.U).toFixed(1),s=(1*l.Shannon).toFixed(2),u=(100*l.Gaps).toFixed(1),w=[p,v,q,r,u],x=["A","C","G","U","gaps"],y=w.length,l=l.Consensus;k()}else s=l="n/a";p=rvDataSets[0].getSelectedLayer();v=rvDataSets[0].Residues[a].resNum.split(":");2>v.length?$("#resName").html(rvDataSets[0].Residues[a].resName+rvDataSets[0].Residues[a].resNum+" ("+rvDataSets[0].SpeciesEntry.Molecule_Names[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(rvDataSets[0].Residues[a].ChainID)]+
" rRNA)"):$("#resName").html(rvDataSets[0].Residues[a].resName+v[1]+" ("+v[0]+" rRNA)");$("#conSeqLetter").html("Consensus: "+l);$("#activeData").html("Selected Data: "+p.Data[a]);$("#conPercentage").html("Shannon Entropy: "+s)}
function addPopUpWindowLine(a){var k=rvDataSets[0].BasePairs[a].resIndex1,e=rvDataSets[0].BasePairs[a].resIndex2,f=rvDataSets[0].getLayerByType("lines");0<=rvDataSets[0].Residues[k].resNum.indexOf(":")||rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(rvDataSets[0].Residues[k].ChainID);0<=rvDataSets[0].Residues[e].resNum.indexOf(":")||rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(rvDataSets[0].Residues[e].ChainID);$("#BasePairType").html("Interaction Type: "+f[0].DataLabel);rvDataSets[0].BasePairs[a].ProteinName?
$("#BasePairSubType").html("Interaction Subtype: "+rvDataSets[0].BasePairs[a].ProteinName+" "+rvDataSets[0].BasePairs[a].bp_type):$("#BasePairSubType").html("Interaction Subtype: "+rvDataSets[0].BasePairs[a].bp_type);addPopUpWindowResidue(k);$("#iResidueTipA").html($("#residuetip").find("#ResidueTipContent").html());addPopUpWindowResidue(e);$("#iResidueTipB").html($("#residuetip").find("#ResidueTipContent").html())}
function UpdateLocalStorage(a){var k={};if(localStorageAvailable){$("input[name='LayersCheck']").attr("checked")&&(k.rvLayers=JSON.stringify(rvDataSets[0].Layers));$("input[name='SelectionsCheck']").attr("checked")&&(k.rvSelections=JSON.stringify(rvDataSets[0].Selections));$("input[name='LastSpeciesCheck']").attr("checked")&&(k.rvLastSpecies=rvDataSets[0].Name);$("input[name='PanelSizesCheck']").attr("checked")&&(k.rvPanelSizes=JSON.stringify({PanelDivide:PanelDivide,TopDivide:TopDivide}));$("input[name='MouseModeCheck']").attr("checked")&&
(k.rvMouseMode=onebuttonmode);$("input[name='CanvasOrientationCheck']").attr("checked")&&(k.rvView=JSON.stringify(rvViews[0]));$("input[name='JmolOrientationCheck']").attr("checked")&&$('input[name="jp"][value=on]').is(":checked")&&(k.rvJmolOrientation=Jmol.evaluate(myJmol,"script('show orientation')"));localStorage.setItem(a,JSON.stringify(k));if(k=localStorage.RV_Session_List){var e=JSON.parse(k);e.push(a);a=$.grep(e,function(a,d){return $.inArray(a,e)===d});localStorage.setItem("RV_Session_List",
JSON.stringify(a))}else localStorage.setItem("RV_Session_List",JSON.stringify([a]));$("#SessionList").text(localStorage.RV_Session_List.replace(/[\[\]"]/g,"").replace(/,/g,", "))}}
function RestoreLocalStorage(a){var k=$.Deferred(),e=$.Deferred();localStorageAvailable&&(rvSaveState=JSON.parse(localStorage[a]),$("input[name='LastSpeciesCheck']").attr("checked")?loadSpecies(rvSaveState.rvLastSpecies,k,e):k.resolve());k.done(function(){processRvState(rvSaveState)});e.done(function(){$.each(rvDataSets[0].Selections,function(a,e){updateSelectionDiv(e.Name)});rvDataSets[0].drawSelection("selected");updateModel();update3Dcolors();if($("input[name='JmolOrientationCheck']").attr("checked")&&
$('input[name="jp"][value=on]').is(":checked")){var a=rvSaveState.rvJmolOrientation.match(/reset[^\n]+/);Jmol.script(myJmol,a[0])}})}function RestoreLocalStorage2(a){processRvState(a)}
function rvSaveManager(a,k){var e=$("#SaveStateFileName").val();switch(a){case "Save":switch(k){case "LocalStorage":UpdateLocalStorage(e);break;case "File":saveRvState(e);break;case "Server":storeRvState(e);break;default:alert("shouldn't happen right now")}break;case "Restore":switch(k){case "LocalStorage":RestoreLocalStorage(e);break;case "File":$("#dialog-restore-state").dialog("open");break;case "Server":retrieveRvState(e);break;default:alert("shouldn't happen right now")}break;default:alert("shouldn't happen right now")}}
function processRvState(a){if($("input[name='LayersCheck']").attr("checked")){var k=JSON.parse(a.rvLayers);rvDataSets[0].Layers=[];$.each(k,function(a,e){rvDataSets[0].Layers[a]=rvDataSets[0].HighlightLayer.fromJSON(e)});$.each(rvDataSets[0].Layers,function(a,e){e.updateZIndex(a)});var k=rvDataSets[0].getSelectedLayer(),e=rvDataSets[0].getLinkedLayer();resizeElements(!0);$(".oneLayerGroup").remove();$(".miniLayerName").remove();$.each(rvDataSets[0].Layers,function(a,e){LayerMenu(e,a)});RefreshLayerMenu();
$(".oneLayerGroup[name="+k.LayerName+"]").find(".selectLayerRadioBtn").attr("checked","checked");rvDataSets[0].selectLayer(k.LayerName);$(".oneLayerGroup[name="+e.LayerName+"]").find(".mappingRadioBtn").attr("checked","checked");rvDataSets[0].linkLayer(e.LayerName);e=rvDataSets[0].getLinkedLayer();$("#LinkSection").find(".miniLayerName").remove();$("#LinkSection").append($('<h3 class="miniLayerName ui-helper-reset ui-corner-all ui-state-default ui-corner-bottom ">').text(e.LayerName).attr("name",
e.LayerName).droppable({drop:function(a,e){ProcessBubbleDrop(a,e)}}));k=rvDataSets[0].getLayerByType("lines");rvDataSets[0].BasePairs=k[0].Data}if($("input[name='SelectionsCheck']").attr("checked")){rvDataSets[0].Selections=JSON.parse(a.rvSelections);$(".oneSelectionGroup").remove();$.each(rvDataSets[0].Selections,function(a,e){SelectionMenu(e,a)});$("#SelectionPanel div").first().next().find(".selectSelectionRadioBtn").attr("checked","checked");RefreshSelectionMenu();var f=!1;$.each(rvDataSets[0].Selections,
function(a,e){if(e.Selected)return f=e.Name,!1});$(".oneSelectionGroup[name='"+f+"']").find(".selectSelectionRadioBtn").trigger("click")}$("input[name='PanelSizesCheck']").attr("checked")&&(k=JSON.parse(a.rvPanelSizes),PanelDivide=k.PanelDivide,TopDivide=k.TopDivide,$("#canvasPorportionSlider").slider("value",PanelDivide),$("#topPorportionSlider").slider("value",TopDivide));$("input[name='MouseModeCheck']").attr("checked")&&$("#buttonmode").find("input[value='"+a.rvMouseMode+"']").trigger("click");
$("input[name='CanvasOrientationCheck']").attr("checked")&&(rvViews[0]=rvViews[0].fromJSON(a.rvView),rvViews[0].restore());$("input[name='JmolOrientationCheck']").attr("checked")&&$('input[name="jp"][value=on]').is(":checked")&&(a=a.rvJmolOrientation.match(/reset[^\n]+/),Jmol.script(myJmol,a[0]));rvDataSets[0].drawResidues("residues");rvDataSets[0].drawSelection("selected");rvDataSets[0].refreshResiduesExpanded("circles");rvDataSets[0].drawLabels("labels");rvDataSets[0].drawBasePairs("lines");$("input[name='LastSpeciesCheck']").attr("checked")||
(updateModel(),update3Dcolors())}
function RiboVisionReady(){$("#MiniOpenLayerBtn").button({});$("#LinkSection").droppable({drop:function(a,e){if($(e.draggable[0]).hasClass("miniLayerName")){var f=rvDataSets[0].getLayer($(e.draggable[0]).attr("name"));$(".oneLayerGroup[name='"+f.LayerName+"']").find(".mappingRadioBtn").prop("checked",!0);$(".oneLayerGroup[name='"+f.LayerName+"']").find(".mappingRadioBtn").trigger("change")}}});$("#MiniOpenLayerBtn").click(function(){$("#PanelTabs").tabs("option","active",0);$("#LayerDialog").dialog("open");
return!1});$("#ResidueTip").tooltip({show:!1,hide:!1,track:!1,open:function(a,e){}});$("#InteractionTip").tooltip({show:!1,hide:!1,track:!1,open:function(a,e){}});$.fx.speeds._default=1E3;$("#PanelTabs").tabs();$("#SaveTabs").tabs();$("#dialog-saveEverything").dialog({resizable:!1,autoOpen:!1,height:600,width:1E3,modal:!0,open:function(){$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}});$("#LayerDialog").dialog({autoOpen:!1,show:{effect:"blind",
duration:500},hide:{effect:"blind",duration:500},height:600,width:370,position:{my:"right top",at:"right top",of:$("#canvasDiv")}});$("#ColorDialog").dialog({autoOpen:!1,show:{effect:"blind",duration:500},hide:{effect:"blind",duration:500},height:500,position:{my:"right top",at:"right top",of:$("#canvasDiv")}});$("#InteractionSettingDialog").dialog({autoOpen:!1,show:{effect:"blind",duration:500},hide:{effect:"blind",duration:500},height:500,position:{my:"right top",at:"right top",of:$("#canvasDiv")}});
$("#RiboVisionSettingsPanel").dialog({autoOpen:!1,show:{effect:"blind",duration:300},width:1200,height:650,position:{my:"left top",at:"left top",of:$("#SiteInfo")},open:function(a){$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}});$("#clearLS").click(function(){localStorageAvailable&&(localStorage.clear(),$("#SessionList").text(""))});$("#openLayerBtn").click(function(){$("#PanelTabs").tabs("option","active",0);$("#LayerDialog").dialog("open");
return!1});$("#openColorBtn").click(function(){$("#ColorDialog").dialog("open");return!1});$("#openInteractionSettingBtn").click(function(){$("#InteractionSettingDialog").dialog("open");return!1});$("#RiboVisionSettings").click(function(){$("#RiboVisionSettingsPanel").dialog("open");return!1});$("#RiboVisionSaveManager").click(function(){$("#SaveTabs").tabs("option","active",2);$("#dialog-saveEverything").dialog("open");return!1});$(function(){$("#singleMultiChoice").buttonset()});$("#slider").slider({min:0,
max:70,value:20,orientation:"vertical",slide:function(a,e){zoom(rvViews[0].width/2,rvViews[0].height/2,Math.pow(1.1,e.value-$(this).slider("value")));rvViews[0].slideValue=e.value}});$(".ui-slider-handle").height(21).width(21);$("#TemplateLink").button();$("#dialog-unique-layer-error").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{Ok:function(){$(this).dialog("close")}},open:function(){},close:function(){}});$("#dialog-invalid-color-error").dialog({resizable:!1,autoOpen:!1,
height:"auto",width:400,modal:!0,buttons:{Ok:function(){$(this).dialog("close")}},open:function(){},close:function(){}});$("#dialog-unique-selection-error").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{Ok:function(){$(this).dialog("close")}},open:function(){},close:function(){}});$("#dialog-name-error").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{Ok:function(){$(this).dialog("close")}},open:function(){},close:function(){}});$("#dialog-generic-notice").dialog({resizable:!1,
autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{Ok:function(){$(this).dialog("close")}},open:function(){$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}});$("#dialog-layer-type-error").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{Ok:function(){$(this).dialog("close")}},open:function(){$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}});
$("#dialog-restore-state").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{Restore:function(){openRvState();$(this).dialog("close")}},open:function(){$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}});$("#Privacy-confirm").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{"I agree.":function(){set_cookie(CurrPrivacyCookie,"Agreed",42);AgreeFunction();$(this).dialog("close")},Cancel:function(){$(this).dialog("close")}},
open:function(a){$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}});$("#dialog-selection-warning").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{OK:function(a){$(this).dialog("close")}},open:function(a){$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}});$("#colorpicker").farbtastic("#MainColor");$("#MainColor").button().addClass("ui-textfield").keydown(function(a){13==
a.keyCode&&$.farbtastic("#colorpicker").setColor(colorNameToHex($("#MainColor").val()))});$("#colorpicker3").farbtastic("#LineColor");$("#LineColor").button().addClass("ui-textfield").keydown(function(a){13==a.keyCode&&$.farbtastic("#colorpicker3").setColor(colorNameToHex($("#LineColor").val()))});$("#layerColorPicker").farbtastic("#layerColor");$("#layerColorPicker2").farbtastic("#layerColor2");$("#SideBarAccordian").accordion({heightStyle:"fill",activate:function(a,e){},animate:300});$("#ProtList").multiselect({minWidth:160,
selectedText:"# of # proteins selected",noneSelectedText:"Select proteins",selectedList:9});$("#ProtList").multiselect().multiselectfilter();$("#speciesList").menu({});$("#selectByDomainHelix").multiselect({minWidth:160,click:function(a,e){var f=$("#selectByDomainHelix").multiselect("getChecked").map(function(){return this.value});clearSelection();$.each(f,function(a,e){commandSelect(e.replace(/\,/g,";"))})},optgrouptoggle:function(a,e){var f=$("#selectByDomainHelix").multiselect("getChecked").map(function(){return this.value});
clearSelection();$.each(f,function(a,e){commandSelect(e.replace(/\,/g,";"))})},uncheckAll:function(){clearSelection()},checkAll:function(a,e){var f=$("#selectByDomainHelix").multiselect("getChecked").map(function(){return this.value});clearSelection();$.each(f,function(a,e){commandSelect(e.replace(/\,/g,";"))})}});$("#selectByDomainHelix").multiselect().multiselectfilter();$("#PrimaryInteractionList").multiselect({minWidth:160,multiple:!1,header:"Select a Data Set",noneSelectedText:"Select an Option",
selectedList:1,click:function(a,e){var f=$("#PrimaryInteractionList").multiselect("getChecked").map(function(){return this.value}).get()[0];0<=f.indexOf("_NPN")&&1>$("#ProtList").multiselect("getChecked").map(function(){return this.value}).get().length&&($("#dialog-generic-notice .ReplaceText").text("You have selected Protein Interactions but the protein list is empty. Please select one or more proteins."),$("#dialog-generic-notice").dialog("open"));var d=rvDataSets[0].getLayerByType("lines");d[0].DataLabel=
e.text;$("[name="+d[0].LayerName+"]").find(".layerContent").find("span[name=DataLabel]").text(d[0].DataLabel);var h=[];h[0]=e.value.replace(/[^_]+_[^_]+_/,"").replace(/[^_]+_/,"");d=$.grep(rvDataSets[0].DataDescriptions,function(a){return a.ColName===h[0]});d[0]?($(this).parent().parent().find(".DataDescription").text(d[0].Description),$(this).parent().parent().find(".ManualLink").attr("href","./Documentation/"+d[0].HelpLink+".html")):($(this).parent().parent().find(".DataDescription").text("Data Description is missing."),
$(this).parent().parent().find(".ManualLink").attr("href","./Documentation"));refreshBasePairs(f)}});$("#SecondaryInteractionList").multiselect({minWidth:160,multiple:!0,selectedText:"# of # types selected",noneSelectedText:"Select interaction types",selectedList:9,click:function(a){a=$("#SecondaryInteractionList").multiselect("getChecked").map(function(){return this.value}).get();filterBasePairs(FullBasePairSet,a)},uncheckAll:function(){var a=$("#SecondaryInteractionList").multiselect("getChecked").map(function(){return this.value}).get();
filterBasePairs(FullBasePairSet,a)},checkAll:function(a,e){var f=$("#SecondaryInteractionList").multiselect("getChecked").map(function(){return this.value}).get();filterBasePairs(FullBasePairSet,f)}});$("#SaveEverythingBtn").button().click(function(){$("#dialog-saveEverything").dialog("open");return!1});$("#freshenRvState").button().click(function(){InitRibovision(!0)});$("#ssSaveB").button().click(function(){rvSaveManager("Save","LocalStorage")});$("#ssRestoreB").button().click(function(){rvSaveManager("Restore",
"LocalStorage")});$("#ssSaveF").button().click(function(){rvSaveManager("Save","File")});$("#ssRestoreF").button().click(function(){rvSaveManager("Restore","File")});$("#openLayerBtn").button({text:!1,icons:{primary:"ui-icon-newwin"}});$("#openColorBtn").button({text:!1,icons:{primary:"ui-icon-pencil"}});$("#SelectionMode").button({text:!1,icons:{primary:"ui-icon-pin-w"}});$("#openInteractionSettingBtn").button({text:!1,icons:{primary:"ui-icon-transfer-e-w"}});$("#RiboVisionSettings").button({text:!1,
icons:{primary:"ui-icon-gear"}});$("#RiboVisionSaveManager").button({text:!1,icons:{primary:"ui-icon-wrench"}});$("#openManualBtn").button({text:!1,icons:{primary:"ui-icon-help"}});$(".toolBarBtn").css("height",$("#openLayerBtn").css("height"));$(".toolBarBtn").css("width",$("#openLayerBtn").css("width"));$("#moveMode").attr("checked","checked");$("#buttonmode").buttonset();$("#colorLinesMode").buttonset();$("#colorLinesGradientMode").buttonset();$("#zaOFF").attr("checked","checked");$("#ZAset").buttonset();
$("[name=za]").button().change(function(a,e){rvDataSets[0].drawBasePairs("lines")});$("#BaseView").buttonset();$("#bvOFF").attr("checked","checked");$("#BaseView").buttonset("refresh");$("[name=bv]").button().change(function(a,e){});$("#ResidueTipToggle").buttonset();$("#rtON").attr("checked","checked");$("#ResidueTipToggle").buttonset("refresh");$("#NavLineToggle").buttonset();$("#nlON").attr("checked","checked");$("#NavLineToggle").buttonset("refresh");$("[name=nl]").button().change(function(a,
e){resizeElements();$("#NavLineDiv").empty();drawNavLine()});$("#JmolToggle").buttonset();$("[name=jp]").button().change(function(a,e){if($('input[name="jp"][value=on]').is(":checked")){if($('input[name="jjsmol"][value=JS]').is(":checked")?JmolInfo.use="HTML5":JmolInfo.use="Java",myJmol=Jmol.getApplet("myJmol",JmolInfo),$("#jmolDiv").html(Jmol.getAppletHtml(myJmol)),$("#myJmol_appletdiv").css("z-index",-9E3),rvDataSets[0].SpeciesEntry.Jmol_Script){Jmol.script(myJmol,"script states/"+rvDataSets[0].SpeciesEntry.Jmol_Script);
Jmol.script(myJmol,"display "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1");updateModel();update3Dcolors();var f=$("#ProtList").multiselect("getChecked").map(function(){return this.value}).get();colorMappingLoop(void 0,f)}}else $("#jmolDiv").html(""),myJmol=null;resizeElements()});$("#JmolTypeToggle").buttonset();$("[name=jjsmol]").button().change(function(a,e){if(!$('input[name="jp"][value=off]').is(":checked")){$('input[name="jjsmol"][value=JS]').is(":checked")?JmolInfo.use="HTML5":JmolInfo.use=
"Java";var f=Jmol.evaluate(myJmol,"script('show orientation')");myJmol=Jmol.getApplet("myJmol",JmolInfo);$("#jmolDiv").html(Jmol.getAppletHtml(myJmol));Jmol.script(myJmol,"script states/"+rvDataSets[0].SpeciesEntry.Jmol_Script);Jmol.script(myJmol,"display "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1");updateModel();update3Dcolors();var d=$("#ProtList").multiselect("getChecked").map(function(){return this.value}).get();colorMappingLoop(void 0,d);f=f.match(/reset[^\n]+/);Jmol.script(myJmol,
f[0])}});$("[name=clearColor]").button();$("[name=selebutton]").button();$(":button").button();$(":radio").button();$("[name=savelayers]").button();$("#colorSelection").button();if("undefined"!==typeof Storage){localStorageAvailable=!0;var a=localStorage.RV_Session_List;a&&($("#SessionList").text(localStorage.RV_Session_List.replace(/[\[\]"]/g,"").replace(/,/g,", ")),a=JSON.parse(a),$("#SaveStateFileName").val(a[a.length-1]))}else localStorageAvailable=!1;$("#ProtList").on("multiselectclick",function(a,
e){var f=$("#ProtList").multiselect("getChecked").map(function(){return this.value}).get();colorMappingLoop(void 0,f)});$("#ProtList").on("multiselectopen",function(a,e){var f=$("#ProtList").multiselect("getChecked").map(function(){return this.value}).get();colorMappingLoop(void 0,f)});$("#ProtList").on("multiselectcheckall",function(a,e){var f=$("#ProtList").multiselect("getChecked").map(function(){return this.value}).get();colorMappingLoop(void 0,f)});$("#ProtList").on("multiselectuncheckall",function(a,
e){var f=$("#ProtList").multiselect("getChecked").map(function(){return this.value}).get();colorMappingLoop(void 0,f)});window.File&&window.FileReader&&window.FileList&&window.Blob?($("#FileDiv").on("click","input:file",function(a){this.value=null}),$("#FileDiv").on("change","input:file",function(a){handleFileSelect(a)})):(dd=document.getElementById("FileDiv"),dd.innerHTML="Your browser doesn't support file loading feature. IE does not support it until IE10+.");modeSelect("move");$("#canvasDiv").on("mousewheel",
mouseWheelFunction);$("#canvasDiv").on("mousemove",mouseMoveFunction);$("#canvasDiv").on("mousedown",mouseEventFunction);$("#canvasDiv").on("mouseup",mouseEventFunction);$(window).on("resize",resizeElements);$(window).on("mouseup",function(a){$("#canvasDiv").off("mousemove",dragHandle);$("#canvasDiv").off("mousemove",dragSelBox);rvDataSets[0].HighlightLayer.clearCanvas()});$("#canvasDiv").on("mouseout",function(a){$("#canvasDiv").trigger({type:"mouseup",which:1,clientX:a.clientX,clientY:a.clientY});
rvDataSets[0].HighlightLayer.clearCanvas()});$("#canvasPorportionSlider").slider({min:5,max:95,value:50,orientation:"horizontal",slide:function(a,e){PanelDivide=e.value/100;resizeElements()}});$("#topPorportionSlider").slider({min:50,max:90,value:78.5,orientation:"vertical",slide:function(a,e){TopDivide=(100-e.value)/100;resizeElements()}});$(".ui-slider-handle").height(21).width(21);$("#lineOpacitySlider").slider({min:0,max:1,value:.5,step:.05,orientation:"horizontal",slide:function(a,e){changeLineOpacity(e.value)}});
$(".ui-slider-handle").height(21).width(21);$(window).unload(function(){});$("#SelectionMode").click(function(){});$("#JmolTypeToggle2").buttonset();$("#SetDefaultJmolType").button().click(function(){$("#dialog-Jmol-Type").dialog("open")});$("#dialog-Jmol-Type").dialog({resizable:!1,autoOpen:!1,height:"auto",width:900,modal:!0,buttons:{Ok:function(){var a;$('input[name="jjsmol2"][value=Java]').is(":checked")?($('[name="jjsmol"][value="Java"]').attr("checked",!0),$('[name="jp"][value="on"]').attr("checked",
!0).trigger("change"),a="Java"):$('input[name="jjsmol2"][value=JS]').is(":checked")?($('[name="jjsmol"][value="JS"]').attr("checked",!0),$('[name="jp"][value="on"]').attr("checked",!0).trigger("change"),a="JS"):$('input[name="jjsmol2"][value=Disabled]').is(":checked")?($('[name="jp"][value="off"]').attr("checked",!0).trigger("change"),$('[name="jjsmol"][value="Java"]').attr("checked",!0),a="Disabled"):alert("How did this happen?");$("#JmolTypeToggle").buttonset("refresh");$("#RememberJmol").is(":checked")&&
set_cookie("JmolState",a,365);$(this).dialog("close")}},open:function(){myJmol=Jmol.getApplet("myJmol",JmolInfo,!0);$("#JMolDisabled").attr("checked","checked");$("#JmolTypeToggle2").buttonset("refresh")},close:function(){}});Jmol.setDocument(0);$("#JmolTypeToggle").buttonset("refresh");InitLayers();InitSelections();InitRibovision()}
function InitRibovision(a){rvDataSets[0]=new rvDataSet("EmptyDataSet");rvDataSets[0].addHighlightLayer("HighlightLayer","HighlightLayer",[],!1,1.176,"highlight");rvDataSets[0].addLayer("Interactions","InteractionsLayer",[],!0,1,"lines");rvDataSets[0].addLayer("Labels","LabelLayer",[],!0,1,"labels");rvDataSets[0].addLayer("Letters","NucleotideLayer",[],!0,1,"residues");rvDataSets[0].addLayer("Circles","CircleLayer1",[],!0,1,"circles");rvDataSets[0].addLayer("Selection","SSelectionLayer",[],!1,1.176,
"selected");rvDataSets[0].sort();rvViews[0]=new rvView(20,20,1.2);$(".oneLayerGroup").remove();$(".oneSelectionGroup").remove();rvDataSets[0].addSelection("Selection_1");switch(get_cookie("JmolState")){case "Java":$('[name="jjsmol"][value="Java"]').attr("checked",!0);$('[name="jp"][value="on"]').attr("checked",!0).trigger("change");break;case "JS":$('[name="jjsmol"][value="JS"]').attr("checked",!0);$('[name="jp"][value="on"]').attr("checked",!0).trigger("change");break;case "Disabled":$('[name="jp"][value="off"]').attr("checked",
!0).trigger("change");$('[name="jjsmol"][value="Java"]').attr("checked",!0);break;default:$("#dialog-Jmol-Type").dialog("open")}canvas2DSupported&&InitRibovision2(!1,a);resizeElements();canvas2DSupported&&OpenStateOnLoad&&!a&&($("#SaveTabs").tabs("option","active",2),$("#dialog-saveEverything").dialog("open"))}
function InitRibovision2(a,k){rvViews[0].width=rvDataSets[0].HighlightLayer.Canvas.width;rvViews[0].height=rvDataSets[0].HighlightLayer.Canvas.height;rvViews[0].clientWidth=rvDataSets[0].HighlightLayer.Canvas.clientWidth;rvViews[0].clientHeight=rvDataSets[0].HighlightLayer.Canvas.clientHeight;$(".miniLayerName").remove();$(".oneLayerGroup").remove();$.each(rvDataSets[0].Layers,function(a,d){LayerMenu(d,a)});RefreshLayerMenu();var e=rvDataSets[0].getLinkedLayer();$("#LinkSection").find(".miniLayerName").remove();
$("#LinkSection").append($('<h3 class="miniLayerName ui-helper-reset ui-corner-all ui-state-default ui-corner-bottom ">').text(e.LayerName).attr("name",e.LayerName).droppable({drop:function(a,d){ProcessBubbleDrop(a,d)}}));$(".oneSelectionGroup").remove();$.each(rvDataSets[0].Selections.reverse(),function(a,d){SelectionMenu(d,a)});$("#SelectionPanel div").first().next().find(".selectSelectionRadioBtn").attr("checked","checked");RefreshSelectionMenu();document.getElementById("commandline").value="";
rvDataSets[0].drawResidues("residues");rvDataSets[0].drawSelection("selected");rvDataSets[0].refreshResiduesExpanded("circles");rvDataSets[0].drawLabels("labels");rvDataSets[0].drawBasePairs("lines");a||InitRibovision3(k)}
function InitRibovision3(a){$.getJSON("getData.php",{FetchMapList:!0},function(k){var e=[],f=[];$("#speciesList li[role=presentation]").remove();$.each(k,function(a,c){e.push(k[a].Species_Name);f.push(k[a].Subunit)});SpeciesListU=$.grep(e,function(a,c){return $.inArray(a,e)===c});$.each(SpeciesListU,function(a,c){$("#speciesList").append($("<li>").append($("<a>").attr("href","#").append($("<i>").append(SpeciesListU[a]))));for(var d=[],h=0;h<e.length;h++)SpeciesListU[a]==e[h]&&d.push(f[h]);FoundSubUnitsU=
$.grep(d,function(a,b){return $.inArray(a,d)===b});$("#speciesList li:last").append($("<ul>").attr("id",SpeciesListU[a].replace(/[\s]/g,"")+"sub"));for(var p=0;p<FoundSubUnitsU.length;p++)"LSU"==FoundSubUnitsU[p]?($("#"+SpeciesListU[a].replace(/[\s]/g,"")+"sub").append($("<li>").append($("<a>").attr("href","#").append("Large SubUnit"))),$("#speciesList li:last").append($("<ul>").attr("id",SpeciesListU[a].replace(/[\s]/g,"")+"subLSU")),$.each(k,function(c,d){k[c].Species_Name==SpeciesListU[a]&&k[c].Subunit==
FoundSubUnitsU[p]&&$("#"+SpeciesListU[a].replace(/[\s]/g,"")+"subLSU").append($("<li>").append($("<a>").attr("href","#"+k[c].SS_Table).append(k[c].DataSetName)))})):"SSU"==FoundSubUnitsU[p]&&($("#"+SpeciesListU[a].replace(/[\s]/g,"")+"sub").append($("<li>").append($("<a>").attr("href","#").append("Small SubUnit"))),$("#speciesList li:last").append($("<ul>").attr("id",SpeciesListU[a].replace(/[\s]/g,"")+"subSSU")),$.each(k,function(c,d){k[c].Species_Name==SpeciesListU[a]&&k[c].Subunit==FoundSubUnitsU[p]&&
$("#"+SpeciesListU[a].replace(/[\s]/g,"")+"subSSU").append($("<li>").append($("<a>").attr("href","#"+k[c].SS_Table).append(k[c].DataSetName)))}))});$("#speciesList").menu("refresh");var d=$("#speciesList"),h=d.find("li").first();d.iosMenu().focus().menu("focus",{},h).on("menuselect",function(a,c){var d=$(c.item).find("a").attr("href");loadSpecies(d.substr(1))});a&&d.iosMenu().data("iosMenu")._insertBackButtons()})}$(document).ready(function(){RiboVisionReady()});