!function(a,k){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?k(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return k(a)}:k(a)}("undefined"!=typeof window?window:this,function(a,k){function c(b){var a=b.length,d=p.type(b);return"function"===d||p.isWindow(b)?!1:1===b.nodeType&&a?!0:"array"===d||0===a||"number"==typeof a&&0<a&&a-1 in b}function f(b,a,d){if(p.isFunction(a))return p.grep(b,function(b,g){return!!a.call(b,g,
b)!==d});if(a.nodeType)return p.grep(b,function(b){return b===a!==d});if("string"==typeof a){if(Va.test(a))return p.filter(a,b,d);a=p.filter(a,b)}return p.grep(b,function(b){return 0<=da.call(a,b)!==d})}function e(b,a){for(;(b=b[a])&&1!==b.nodeType;);return b}function h(b){var a=bc[b]={};return p.each(b.match(na)||[],function(b,d){a[d]=!0}),a}function b(){M.removeEventListener("DOMContentLoaded",b,!1);a.removeEventListener("load",b,!1);p.ready()}function d(){Object.defineProperty(this.cache={},0,
{get:function(){return{}}});this.expando=p.expando+Math.random()}function g(b,a,d){var g;if(void 0===d&&1===b.nodeType)if(g="data-"+a.replace(bd,"-$1").toLowerCase(),d=b.getAttribute(g),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:cd.test(d)?p.parseJSON(d):d}catch(e){}ia.set(b,a,d)}else d=void 0;return d}function l(){return!0}function m(){return!1}function v(){try{return M.activeElement}catch(b){}}function q(b,a){return p.nodeName(b,"table")&&p.nodeName(11!==
a.nodeType?a:a.firstChild,"tr")?b.getElementsByTagName("tbody")[0]||b.appendChild(b.ownerDocument.createElement("tbody")):b}function r(b){return b.type=(null!==b.getAttribute("type"))+"/"+b.type,b}function s(b){var a=Fa.exec(b.type);return a?b.type=a[1]:b.removeAttribute("type"),b}function u(b,a){for(var d=0,g=b.length;g>d;d++)F.set(b[d],"globalEval",!a||F.get(a[d],"globalEval"))}function w(b,a){var d,g,e,c,h,l;if(1===a.nodeType){if(F.hasData(b)&&(d=F.access(b),g=F.set(a,d),l=d.events))for(e in delete g.handle,
g.events={},l)for(d=0,g=l[e].length;g>d;d++)p.event.add(a,e,l[e][d]);ia.hasData(b)&&(c=ia.access(b),h=p.extend({},c),ia.set(a,h))}}function x(b,a){var d=b.getElementsByTagName?b.getElementsByTagName(a||"*"):b.querySelectorAll?b.querySelectorAll(a||"*"):[];return void 0===a||a&&p.nodeName(b,a)?p.merge([b],d):d}function y(b,d){var g,e=p(d.createElement(b)).appendTo(d.body),c=a.getDefaultComputedStyle&&(g=a.getDefaultComputedStyle(e[0]))?g.display:p.css(e[0],"display");return e.detach(),c}function B(b){var a=
M,d=ua[b];return d||(d=y(b,a),"none"!==d&&d||(cc=(cc||p("<iframe frameborder='0' width='0' height='0'/>")).appendTo(a.documentElement),a=cc[0].contentDocument,a.write(),a.close(),d=y(b,a),cc.detach()),ua[b]=d),d}function A(b,a,d){var g,e,c,h,l=b.style;return d=d||dc(b),d&&(h=d.getPropertyValue(a)||d[a]),d&&(""!==h||p.contains(b.ownerDocument,b)||(h=p.style(b,a)),qb.test(h)&&Jb.test(a)&&(g=l.width,e=l.minWidth,c=l.maxWidth,l.minWidth=l.maxWidth=l.width=h,h=d.width,l.width=g,l.minWidth=e,l.maxWidth=
c)),void 0!==h?h+"":h}function z(b,a){return{get:function(){return b()?void delete this.get:(this.get=a).apply(this,arguments)}}}function Y(b,a){if(a in b)return a;for(var d=a[0].toUpperCase()+a.slice(1),g=a,e=ed.length;e--;)if(a=ed[e]+d,a in b)return a;return g}function ba(b,a,d){return(b=ee.exec(a))?Math.max(0,b[1]-(d||0))+(b[2]||"px"):a}function W(b,a,d,g,e){a=d===(g?"border":"content")?4:"width"===a?1:0;for(var c=0;4>a;a+=2)"margin"===d&&(c+=p.css(b,d+Qa[a],!0,e)),g?("content"===d&&(c-=p.css(b,
"padding"+Qa[a],!0,e)),"margin"!==d&&(c-=p.css(b,"border"+Qa[a]+"Width",!0,e))):(c+=p.css(b,"padding"+Qa[a],!0,e),"padding"!==d&&(c+=p.css(b,"border"+Qa[a]+"Width",!0,e)));return c}function ea(b,a,d){var g=!0,e="width"===a?b.offsetWidth:b.offsetHeight,c=dc(b),h="border-box"===p.css(b,"boxSizing",!1,c);if(0>=e||null==e){if(e=A(b,a,c),(0>e||null==e)&&(e=b.style[a]),qb.test(e))return e;g=h&&(T.boxSizingReliable()||e===b.style[a]);e=parseFloat(e)||0}return e+W(b,a,d||(h?"border":"content"),g,c)+"px"}
function N(b,a){for(var d,g,e,c=[],h=0,l=b.length;l>h;h++)g=b[h],g.style&&(c[h]=F.get(g,"olddisplay"),d=g.style.display,a?(c[h]||"none"!==d||(g.style.display=""),""===g.style.display&&Za(g)&&(c[h]=F.access(g,"olddisplay",B(g.nodeName)))):(e=Za(g),"none"===d&&e||F.set(g,"olddisplay",e?d:p.css(g,"display"))));for(h=0;l>h;h++)g=b[h],g.style&&(a&&"none"!==g.style.display&&""!==g.style.display||(g.style.display=a?c[h]||"":"none"));return b}function O(b,a,d,g,e){return new O.prototype.init(b,a,d,g,e)}function P(){return setTimeout(function(){$a=
void 0}),$a=p.now()}function fa(b,a){var d,g=0,e={height:b};for(a=a?1:0;4>g;g+=2-a)d=Qa[g],e["margin"+d]=e["padding"+d]=b;return a&&(e.opacity=e.width=b),e}function oa(b,a,d){for(var g,e=(Kb[a]||[]).concat(Kb["*"]),c=0,h=e.length;h>c;c++)if(g=e[c].call(d,a,b))return g}function za(b,a){var d,g,e,c,h;for(d in b)if(g=p.camelCase(d),e=a[g],c=b[d],p.isArray(c)&&(e=c[1],c=b[d]=c[0]),d!==g&&(b[g]=c,delete b[d]),h=p.cssHooks[g],h&&"expand"in h)for(d in c=h.expand(c),delete b[g],c)d in b||(b[d]=c[d],a[d]=
e);else a[g]=e}function sa(b,a,d){var g,e=0,c=ec.length,h=p.Deferred().always(function(){delete l.elem}),l=function(){if(g)return!1;for(var a=$a||P(),a=Math.max(0,m.startTime+m.duration-a),d=1-(a/m.duration||0),e=0,c=m.tweens.length;c>e;e++)m.tweens[e].run(d);return h.notifyWith(b,[m,d,a]),1>d&&c?a:(h.resolveWith(b,[m]),!1)},m=h.promise({elem:b,props:p.extend({},a),opts:p.extend(!0,{specialEasing:{}},d),originalProperties:a,originalOptions:d,startTime:$a||P(),duration:d.duration,tweens:[],createTween:function(a,
d){var g=p.Tween(b,m.opts,a,d,m.opts.specialEasing[a]||m.opts.easing);return m.tweens.push(g),g},stop:function(a){var d=0,e=a?m.tweens.length:0;if(g)return this;for(g=!0;e>d;d++)m.tweens[d].run(1);return a?h.resolveWith(b,[m,a]):h.rejectWith(b,[m,a]),this}});d=m.props;for(za(d,m.opts.specialEasing);c>e;e++)if(a=ec[e].call(m,b,d,m.opts))return a;return p.map(d,oa,m),p.isFunction(m.opts.start)&&m.opts.start.call(b,m),p.fx.timer(p.extend(l,{elem:b,anim:m,queue:m.opts.queue})),m.progress(m.opts.progress).done(m.opts.done,
m.opts.complete).fail(m.opts.fail).always(m.opts.always)}function Ga(b){return function(a,d){"string"!=typeof a&&(d=a,a="*");var g,e=0,c=a.toLowerCase().match(na)||[];if(p.isFunction(d))for(;g=c[e++];)"+"===g[0]?(g=g.slice(1)||"*",(b[g]=b[g]||[]).unshift(d)):(b[g]=b[g]||[]).push(d)}}function Da(b,a,d,g){function e(l){var m;return c[l]=!0,p.each(b[l]||[],function(b,l){var f=l(a,d,g);return"string"!=typeof f||h||c[f]?h?!(m=f):void 0:(a.dataTypes.unshift(f),e(f),!1)}),m}var c={},h=b===Lb;return e(a.dataTypes[0])||
!c["*"]&&e("*")}function H(b,a){var d,g,e=p.ajaxSettings.flatOptions||{};for(d in a)void 0!==a[d]&&((e[d]?b:g||(g={}))[d]=a[d]);return g&&p.extend(!0,b,g),b}function ja(b,a,d,g){var e;if(p.isArray(a))p.each(a,function(a,e){d||fe.test(b)?g(b,e):ja(b+"["+("object"==typeof e?a:"")+"]",e,d,g)});else if(d||"object"!==p.type(a))g(b,a);else for(e in a)ja(b+"["+e+"]",a[e],d,g)}function Q(b){return p.isWindow(b)?b:9===b.nodeType&&b.defaultView}var wa=[],va=wa.slice,pa=wa.concat,Ka=wa.push,da=wa.indexOf,fc=
{},Ac=fc.toString,gc=fc.hasOwnProperty,T={},M=a.document,p=function(b,a){return new p.fn.init(b,a)},wb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,xb=/^-ms-/,Bc=/-([\da-z])/gi,Cc=function(b,a){return a.toUpperCase()};p.fn=p.prototype={jquery:"2.1.1",constructor:p,selector:"",length:0,toArray:function(){return va.call(this)},get:function(b){return null!=b?0>b?this[b+this.length]:this[b]:va.call(this)},pushStack:function(b){b=p.merge(this.constructor(),b);return b.prevObject=this,b.context=this.context,b},
each:function(b,a){return p.each(this,b,a)},map:function(b){return this.pushStack(p.map(this,function(a,d){return b.call(a,d,a)}))},slice:function(){return this.pushStack(va.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b){var a=this.length;b=+b+(0>b?a:0);return this.pushStack(0<=b&&a>b?[this[b]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Ka,sort:wa.sort,splice:wa.splice};p.extend=p.fn.extend=function(){var b,
a,d,g,e,c,h=arguments[0]||{},l=1,m=arguments.length,f=!1;"boolean"==typeof h&&(f=h,h=arguments[l]||{},l++);"object"==typeof h||p.isFunction(h)||(h={});for(l===m&&(h=this,l--);m>l;l++)if(null!=(b=arguments[l]))for(a in b)d=h[a],g=b[a],h!==g&&(f&&g&&(p.isPlainObject(g)||(e=p.isArray(g)))?(e?(e=!1,c=d&&p.isArray(d)?d:[]):c=d&&p.isPlainObject(d)?d:{},h[a]=p.extend(f,c,g)):void 0!==g&&(h[a]=g));return h};p.extend({expando:"jQuery"+("2.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(b){throw Error(b);
},noop:function(){},isFunction:function(b){return"function"===p.type(b)},isArray:Array.isArray,isWindow:function(b){return null!=b&&b===b.window},isNumeric:function(b){return!p.isArray(b)&&0<=b-parseFloat(b)},isPlainObject:function(b){return"object"!==p.type(b)||b.nodeType||p.isWindow(b)?!1:b.constructor&&!gc.call(b.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(b){for(var a in b)return!1;return!0},type:function(b){return null==b?b+"":"object"==typeof b||"function"==typeof b?
fc[Ac.call(b)]||"object":typeof b},globalEval:function(b){var a,d=eval;(b=p.trim(b))&&(1===b.indexOf("use strict")?(a=M.createElement("script"),a.text=b,M.head.appendChild(a).parentNode.removeChild(a)):d(b))},camelCase:function(b){return b.replace(xb,"ms-").replace(Bc,Cc)},nodeName:function(b,a){return b.nodeName&&b.nodeName.toLowerCase()===a.toLowerCase()},each:function(b,a,d){var g,e=0,h=b.length,l=c(b);if(d)if(l)for(;h>e&&(g=a.apply(b[e],d),!1!==g);e++);else for(e in b){if(g=a.apply(b[e],d),!1===
g)break}else if(l)for(;h>e&&(g=a.call(b[e],e,b[e]),!1!==g);e++);else for(e in b)if(g=a.call(b[e],e,b[e]),!1===g)break;return b},trim:function(b){return null==b?"":(b+"").replace(wb,"")},makeArray:function(b,a){var d=a||[];return null!=b&&(c(Object(b))?p.merge(d,"string"==typeof b?[b]:b):Ka.call(d,b)),d},inArray:function(b,a,d){return null==a?-1:da.call(a,b,d)},merge:function(b,a){for(var d=+a.length,g=0,e=b.length;d>g;g++)b[e++]=a[g];return b.length=e,b},grep:function(b,a,d){for(var g=[],e=0,c=b.length,
h=!d;c>e;e++)d=!a(b[e],e),d!==h&&g.push(b[e]);return g},map:function(b,a,d){var g,e=0,h=b.length,l=[];if(c(b))for(;h>e;e++)g=a(b[e],e,d),null!=g&&l.push(g);else for(e in b)g=a(b[e],e,d),null!=g&&l.push(g);return pa.apply([],l)},guid:1,proxy:function(b,a){var d,g,e;return"string"==typeof a&&(d=b[a],a=b,b=d),p.isFunction(b)?(g=va.call(arguments,2),e=function(){return b.apply(a||this,g.concat(va.call(arguments)))},e.guid=b.guid=b.guid||p.guid++,e):void 0},now:Date.now,support:T});p.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(b,a){fc["[object "+a+"]"]=a.toLowerCase()});var Ia=function(b){function a(b,d,g,e){var c,h,l,m,f;if((d?d.ownerDocument||d:oa)!==H&&F(d),d=d||H,g=g||[],!b||"string"!=typeof b)return g;if(1!==(m=d.nodeType)&&9!==m)return[];if(Q&&!e){if(c=hb.exec(b))if(l=c[1])if(9===m){if(h=d.getElementById(l),!h||!h.parentNode)return g;if(h.id===l)return g.push(h),g}else{if(d.ownerDocument&&(h=d.ownerDocument.getElementById(l))&&da(d,h)&&h.id===l)return g.push(h),g}else{if(c[2])return za.apply(g,d.getElementsByTagName(b)),
g;if((l=c[3])&&B.getElementsByClassName&&d.getElementsByClassName)return za.apply(g,d.getElementsByClassName(l)),g}if(B.qsa&&(!fa||!fa.test(b))){if(h=c=qa,l=d,f=9===m&&b,1===m&&"object"!==d.nodeName.toLowerCase()){m=N(b);(c=d.getAttribute("id"))?h=c.replace(ab,"\\$&"):d.setAttribute("id",h);h="[id='"+h+"'] ";for(l=m.length;l--;)m[l]=h+v(m[l]);l=Va.test(b)&&q(d.parentNode)||d;f=m.join(",")}if(f)try{return za.apply(g,l.querySelectorAll(f)),g}catch(k){}finally{c||d.removeAttribute("id")}}}return ba(b.replace(Fa,
"$1"),d,g,e)}function d(){function b(d,g){return a.push(d+" ")>A.cacheLength&&delete b[a.shift()],b[d+" "]=g}var a=[];return b}function g(b){return b[qa]=!0,b}function e(b){var a=H.createElement("div");try{return!!b(a)}catch(d){return!1}finally{a.parentNode&&a.parentNode.removeChild(a)}}function c(b,a){for(var d=b.split("|"),g=b.length;g--;)A.attrHandle[d[g]]=a}function h(b,a){var d=a&&b,g=d&&1===b.nodeType&&1===a.nodeType&&(~a.sourceIndex||ra)-(~b.sourceIndex||ra);if(g)return g;if(d)for(;d=d.nextSibling;)if(d===
a)return-1;return b?1:-1}function l(b){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===b}}function m(b){return function(a){var d=a.nodeName.toLowerCase();return("input"===d||"button"===d)&&a.type===b}}function f(b){return g(function(a){return a=+a,g(function(d,g){for(var e,c=b([],d.length,a),h=c.length;h--;)d[e=c[h]]&&(d[e]=!(g[e]=d[e]))})})}function q(b){return b&&typeof b.getElementsByTagName!==wa&&b}function k(){}function v(b){for(var a=0,d=b.length,g="";d>a;a++)g+=b[a].value;
return g}function r(b,a,d){var g=a.dir,e=d&&"parentNode"===g,c=ia++;return a.first?function(a,d,c){for(;a=a[g];)if(1===a.nodeType||e)return b(a,d,c)}:function(a,d,h){var l,m,f=[Na,c];if(h)for(;a=a[g];){if((1===a.nodeType||e)&&b(a,d,h))return!0}else for(;a=a[g];)if(1===a.nodeType||e){if(m=a[qa]||(a[qa]={}),(l=m[g])&&l[0]===Na&&l[1]===c)return f[2]=l[2];if(m[g]=f,f[2]=b(a,d,h))return!0}}}function s(b){return 1<b.length?function(a,d,g){for(var e=b.length;e--;)if(!b[e](a,d,g))return!1;return!0}:b[0]}
function u(b,a,d,g,e){for(var c,h=[],l=0,m=b.length,f=null!=a;m>l;l++)(c=b[l])&&(!d||d(c,g,e))&&(h.push(c),f&&a.push(l));return h}function w(b,d,e,c,h,l){return c&&!c[qa]&&(c=w(c)),h&&!h[qa]&&(h=w(h,l)),g(function(g,l,m,f){var q,k,v=[],r=[],aa=l.length,s;if(!(s=g)){s=d||"*";for(var w=m.nodeType?[m]:m,p=[],ha=0,Hb=w.length;Hb>ha;ha++)a(s,w[ha],p);s=p}s=!b||!g&&d?s:u(s,v,b,m,f);w=e?h||(g?b:aa||c)?[]:l:s;if(e&&e(s,w,m,f),c)for(q=u(w,r),c(q,[],m,f),m=q.length;m--;)(k=q[m])&&(w[r[m]]=!(s[r[m]]=k));if(g){if(h||
b){if(h){q=[];for(m=w.length;m--;)(k=w[m])&&q.push(s[m]=k);h(null,w=[],q,f)}for(m=w.length;m--;)(k=w[m])&&-1<(q=h?na.call(g,k):v[m])&&(g[q]=!(l[q]=k))}}else w=u(w===l?w.splice(aa,w.length):w),h?h(null,l,w,f):za.apply(l,w)})}function p(b){var a,d,g,e=b.length,c=A.relative[b[0].type];d=c||A.relative[" "];for(var h=c?1:0,l=r(function(b){return b===a},d,!0),m=r(function(b){return-1<na.call(a,b)},d,!0),f=[function(b,d,g){return!c&&(g||d!==W)||((a=d).nodeType?l(b,d,g):m(b,d,g))}];e>h;h++)if(d=A.relative[b[h].type])f=
[r(s(f),d)];else{if(d=A.filter[b[h].type].apply(null,b[h].matches),d[qa]){for(g=++h;e>g&&!A.relative[b[g].type];g++);return w(1<h&&s(f),1<h&&v(b.slice(0,h-1).concat({value:" "===b[h-2].type?"*":""})).replace(Fa,"$1"),d,g>h&&p(b.slice(h,g)),e>g&&p(b=b.slice(g)),e>g&&v(b))}f.push(d)}return s(f)}function x(b,d){var e=0<d.length,h=0<b.length,c=function(g,c,l,m,f){var q,k,v,r=0,aa="0",s=g&&[],w=[],p=W,ha=g||h&&A.find.TAG("*",f),Hb=Na+=null==p?1:Math.random()||.1,x=ha.length;for(f&&(W=c!==H&&c);aa!==x&&
null!=(q=ha[aa]);aa++){if(h&&q){for(k=0;v=b[k++];)if(v(q,c,l)){m.push(q);break}f&&(Na=Hb)}e&&((q=!v&&q)&&r--,g&&s.push(q))}if(r+=aa,e&&aa!==r){for(k=0;v=d[k++];)v(s,w,c,l);if(g){if(0<r)for(;aa--;)s[aa]||w[aa]||(w[aa]=Ka.call(m));w=u(w)}za.apply(m,w);f&&!g&&0<w.length&&1<r+d.length&&a.uniqueSort(m)}return f&&(Na=Hb,W=p),s};return e?g(c):c}var y,B,A,z,Y,N,ea,ba,W,O,P,F,H,M,Q,fa,T,X,da,qa="sizzle"+-new Date,oa=b.document,Na=0,ia=0,ja=d(),sa=d(),va=d(),ka=function(b,a){return b===a&&(P=!0),0},wa="undefined",
ra=-2147483648,ua={}.hasOwnProperty,pa=[],Ka=pa.pop,xa=pa.push,za=pa.push,ya=pa.slice,na=pa.indexOf||function(b){for(var a=0,d=this.length;d>a;a++)if(this[a]===b)return a;return-1},Da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Ia="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Da+"))|)[\\x20\\t\\r\\n\\f]*\\]",Ga=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
Ia+")*)|.*)\\)|)",Fa=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),Qa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Za=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,$a=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),db=new RegExp(Ga),eb=new RegExp("^"+Da+"$"),Oa={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+Ia),
PSEUDO:new RegExp("^"+Ga),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},fb=/^(?:input|select|textarea|button)$/i,gb=/^h\d$/i,bb=/^[^{]+\{\s*\[native \w/,hb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Va=/[+~]/,ab=/'|\\/g,cb=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),Ha=function(b,a,d){b="0x"+a-65536;return b!==b||d?a:0>b?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,1023&b|56320)};try{za.apply(pa=ya.call(oa.childNodes),oa.childNodes),pa[oa.childNodes.length].nodeType}catch(qb){za={apply:pa.length?function(b,a){xa.apply(b,
ya.call(a))}:function(b,a){for(var d=b.length,g=0;b[d++]=a[g++];);b.length=d-1}}}B=a.support={};Y=a.isXML=function(b){return(b=b&&(b.ownerDocument||b).documentElement)?"HTML"!==b.nodeName:!1};F=a.setDocument=function(b){var a,d=b?b.ownerDocument||b:oa;b=d.defaultView;return d!==H&&9===d.nodeType&&d.documentElement?(H=d,M=d.documentElement,Q=!Y(d),b&&b!==b.top&&(b.addEventListener?b.addEventListener("unload",function(){F()},!1):b.attachEvent&&b.attachEvent("onunload",function(){F()})),B.attributes=
e(function(b){return b.className="i",!b.getAttribute("className")}),B.getElementsByTagName=e(function(b){return b.appendChild(d.createComment("")),!b.getElementsByTagName("*").length}),B.getElementsByClassName=bb.test(d.getElementsByClassName)&&e(function(b){return b.innerHTML="<div class='a'></div><div class='a i'></div>",b.firstChild.className="i",2===b.getElementsByClassName("i").length}),B.getById=e(function(b){return M.appendChild(b).id=qa,!d.getElementsByName||!d.getElementsByName(qa).length}),
B.getById?(A.find.ID=function(b,a){if(typeof a.getElementById!==wa&&Q){var d=a.getElementById(b);return d&&d.parentNode?[d]:[]}},A.filter.ID=function(b){var a=b.replace(cb,Ha);return function(b){return b.getAttribute("id")===a}}):(delete A.find.ID,A.filter.ID=function(b){var a=b.replace(cb,Ha);return function(b){return(b=typeof b.getAttributeNode!==wa&&b.getAttributeNode("id"))&&b.value===a}}),A.find.TAG=B.getElementsByTagName?function(b,a){return typeof a.getElementsByTagName!==wa?a.getElementsByTagName(b):
void 0}:function(b,a){var d,g=[],e=0,c=a.getElementsByTagName(b);if("*"===b){for(;d=c[e++];)1===d.nodeType&&g.push(d);return g}return c},A.find.CLASS=B.getElementsByClassName&&function(b,a){return typeof a.getElementsByClassName!==wa&&Q?a.getElementsByClassName(b):void 0},T=[],fa=[],(B.qsa=bb.test(d.querySelectorAll))&&(e(function(b){b.innerHTML="<select msallowclip=''><option selected=''></option></select>";b.querySelectorAll("[msallowclip^='']").length&&fa.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");
b.querySelectorAll("[selected]").length||fa.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");b.querySelectorAll(":checked").length||fa.push(":checked")}),e(function(b){var a=d.createElement("input");a.setAttribute("type","hidden");b.appendChild(a).setAttribute("name","D");b.querySelectorAll("[name=d]").length&&fa.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");b.querySelectorAll(":enabled").length||
fa.push(":enabled",":disabled");b.querySelectorAll("*,:x");fa.push(",.*:")})),(B.matchesSelector=bb.test(X=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&e(function(b){B.disconnectedMatch=X.call(b,"div");X.call(b,"[s!='']:x");T.push("!=",Ga)}),fa=fa.length&&new RegExp(fa.join("|")),T=T.length&&new RegExp(T.join("|")),a=bb.test(M.compareDocumentPosition),da=a||bb.test(M.contains)?function(b,a){var d=9===b.nodeType?b.documentElement:b,g=a&&a.parentNode;
return b===g||!(!g||1!==g.nodeType||!(d.contains?d.contains(g):b.compareDocumentPosition&&16&b.compareDocumentPosition(g)))}:function(b,a){if(a)for(;a=a.parentNode;)if(a===b)return!0;return!1},ka=a?function(b,a){if(b===a)return P=!0,0;var g=!b.compareDocumentPosition-!a.compareDocumentPosition;return g?g:(g=(b.ownerDocument||b)===(a.ownerDocument||a)?b.compareDocumentPosition(a):1,1&g||!B.sortDetached&&a.compareDocumentPosition(b)===g?b===d||b.ownerDocument===oa&&da(oa,b)?-1:a===d||a.ownerDocument===
oa&&da(oa,a)?1:O?na.call(O,b)-na.call(O,a):0:4&g?-1:1)}:function(b,a){if(b===a)return P=!0,0;var g,e=0;g=b.parentNode;var c=a.parentNode,l=[b],m=[a];if(!g||!c)return b===d?-1:a===d?1:g?-1:c?1:O?na.call(O,b)-na.call(O,a):0;if(g===c)return h(b,a);for(g=b;g=g.parentNode;)l.unshift(g);for(g=a;g=g.parentNode;)m.unshift(g);for(;l[e]===m[e];)e++;return e?h(l[e],m[e]):l[e]===oa?-1:m[e]===oa?1:0},d):H};a.matches=function(b,d){return a(b,null,null,d)};a.matchesSelector=function(b,d){if((b.ownerDocument||b)!==
H&&F(b),d=d.replace($a,"='$1']"),!(!B.matchesSelector||!Q||T&&T.test(d)||fa&&fa.test(d)))try{var g=X.call(b,d);if(g||B.disconnectedMatch||b.document&&11!==b.document.nodeType)return g}catch(e){}return 0<a(d,H,null,[b]).length};a.contains=function(b,a){return(b.ownerDocument||b)!==H&&F(b),da(b,a)};a.attr=function(b,a){(b.ownerDocument||b)!==H&&F(b);var d=A.attrHandle[a.toLowerCase()],d=d&&ua.call(A.attrHandle,a.toLowerCase())?d(b,a,!Q):void 0;return void 0!==d?d:B.attributes||!Q?b.getAttribute(a):
(d=b.getAttributeNode(a))&&d.specified?d.value:null};a.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};a.uniqueSort=function(b){var a,d=[],g=0,e=0;if(P=!B.detectDuplicates,O=!B.sortStable&&b.slice(0),b.sort(ka),P){for(;a=b[e++];)a===b[e]&&(g=d.push(e));for(;g--;)b.splice(d[g],1)}return O=null,b};z=a.getText=function(b){var a,d="",g=0;if(a=b.nodeType)if(1===a||9===a||11===a){if("string"==typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=b.nextSibling)d+=
z(b)}else{if(3===a||4===a)return b.nodeValue}else for(;a=b[g++];)d+=z(a);return d};A=a.selectors={cacheLength:50,createPseudo:g,match:Oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace(cb,Ha),b[3]=(b[3]||b[4]||b[5]||"").replace(cb,Ha),"~="===b[2]&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),"nth"===b[1].slice(0,
3)?(b[3]||a.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*("even"===b[3]||"odd"===b[3])),b[5]=+(b[7]+b[8]||"odd"===b[3])):b[3]&&a.error(b[0]),b},PSEUDO:function(b){var a,d=!b[6]&&b[2];return Oa.CHILD.test(b[0])?null:(b[3]?b[2]=b[4]||b[5]||"":d&&db.test(d)&&(a=N(d,!0))&&(a=d.indexOf(")",d.length-a)-d.length)&&(b[0]=b[0].slice(0,a),b[2]=d.slice(0,a)),b.slice(0,3))}},filter:{TAG:function(b){var a=b.replace(cb,Ha).toLowerCase();return"*"===b?function(){return!0}:function(b){return b.nodeName&&b.nodeName.toLowerCase()===
a}},CLASS:function(b){var a=ja[b+" "];return a||(a=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"))&&ja(b,function(b){return a.test("string"==typeof b.className&&b.className||typeof b.getAttribute!==wa&&b.getAttribute("class")||"")})},ATTR:function(b,d,g){return function(e){e=a.attr(e,b);return null==e?"!="===d:d?(e+="","="===d?e===g:"!="===d?e!==g:"^="===d?g&&0===e.indexOf(g):"*="===d?g&&-1<e.indexOf(g):"$="===d?g&&e.slice(-g.length)===g:"~="===d?-1<(" "+e+" ").indexOf(g):"|="===
d?e===g||e.slice(0,g.length+1)===g+"-":!1):!0}},CHILD:function(b,a,d,g,e){var c="nth"!==b.slice(0,3),h="last"!==b.slice(-4),l="of-type"===a;return 1===g&&0===e?function(b){return!!b.parentNode}:function(a,d,m){var f,q,k,v,r;d=c!==h?"nextSibling":"previousSibling";var aa=a.parentNode,s=l&&a.nodeName.toLowerCase();m=!m&&!l;if(aa){if(c){for(;d;){for(q=a;q=q[d];)if(l?q.nodeName.toLowerCase()===s:1===q.nodeType)return!1;r=d="only"===b&&!r&&"nextSibling"}return!0}if(r=[h?aa.firstChild:aa.lastChild],h&&
m)for(m=aa[qa]||(aa[qa]={}),f=m[b]||[],v=f[0]===Na&&f[1],k=f[0]===Na&&f[2],q=v&&aa.childNodes[v];q=++v&&q&&q[d]||(k=v=0)||r.pop();){if(1===q.nodeType&&++k&&q===a){m[b]=[Na,v,k];break}}else if(m&&(f=(a[qa]||(a[qa]={}))[b])&&f[0]===Na)k=f[1];else for(;(q=++v&&q&&q[d]||(k=v=0)||r.pop())&&((l?q.nodeName.toLowerCase()!==s:1!==q.nodeType)||!++k||(m&&((q[qa]||(q[qa]={}))[b]=[Na,k]),q!==a)););return k-=e,k===g||0===k%g&&0<=k/g}}},PSEUDO:function(b,d){var e,c=A.pseudos[b]||A.setFilters[b.toLowerCase()]||a.error("unsupported pseudo: "+
b);return c[qa]?c(d):1<c.length?(e=[b,b,"",d],A.setFilters.hasOwnProperty(b.toLowerCase())?g(function(b,a){for(var g,e=c(b,d),h=e.length;h--;)g=na.call(b,e[h]),b[g]=!(a[g]=e[h])}):function(b){return c(b,0,e)}):c}},pseudos:{not:g(function(b){var a=[],d=[],e=ea(b.replace(Fa,"$1"));return e[qa]?g(function(b,a,d,g){var c;d=e(b,null,g,[]);for(g=b.length;g--;)(c=d[g])&&(b[g]=!(a[g]=c))}):function(b,g,c){return a[0]=b,e(a,null,c,d),!d.pop()}}),has:g(function(b){return function(d){return 0<a(b,d).length}}),
contains:g(function(b){return function(a){return-1<(a.textContent||a.innerText||z(a)).indexOf(b)}}),lang:g(function(b){return eb.test(b||"")||a.error("unsupported lang: "+b),b=b.replace(cb,Ha).toLowerCase(),function(a){var d;do if(d=Q?a.lang:a.getAttribute("xml:lang")||a.getAttribute("lang"))return d=d.toLowerCase(),d===b||0===d.indexOf(b+"-");while((a=a.parentNode)&&1===a.nodeType);return!1}}),target:function(a){var d=b.location&&b.location.hash;return d&&d.slice(1)===a.id},root:function(b){return b===
M},focus:function(b){return b===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(b.type||b.href||~b.tabIndex)},enabled:function(b){return!1===b.disabled},disabled:function(b){return!0===b.disabled},checked:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&!!b.checked||"option"===a&&!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,!0===b.selected},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if(6>b.nodeType)return!1;return!0},parent:function(b){return!A.pseudos.empty(b)},
header:function(b){return gb.test(b.nodeName)},input:function(b){return fb.test(b.nodeName)},button:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&"button"===b.type||"button"===a},text:function(b){var a;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==(a=b.getAttribute("type"))||"text"===a.toLowerCase())},first:f(function(){return[0]}),last:f(function(b,a){return[a-1]}),eq:f(function(b,a,d){return[0>d?d+a:d]}),even:f(function(b,a){for(var d=0;a>d;d+=2)b.push(d);return b}),
odd:f(function(b,a){for(var d=1;a>d;d+=2)b.push(d);return b}),lt:f(function(b,a,d){for(a=0>d?d+a:d;0<=--a;)b.push(a);return b}),gt:f(function(b,a,d){for(d=0>d?d+a:d;++d<a;)b.push(d);return b})}};A.pseudos.nth=A.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[y]=l(y);for(y in{submit:!0,reset:!0})A.pseudos[y]=m(y);k.prototype=A.filters=A.pseudos;A.setFilters=new k;N=a.tokenize=function(b,d){var g,e,c,h,l,m,f;if(l=sa[b+" "])return d?0:l.slice(0);l=b;m=[];for(f=A.preFilter;l;){g&&
!(e=Qa.exec(l))||(e&&(l=l.slice(e[0].length)||l),m.push(c=[]));g=!1;(e=Za.exec(l))&&(g=e.shift(),c.push({value:g,type:e[0].replace(Fa," ")}),l=l.slice(g.length));for(h in A.filter)!(e=Oa[h].exec(l))||f[h]&&!(e=f[h](e))||(g=e.shift(),c.push({value:g,type:h,matches:e}),l=l.slice(g.length));if(!g)break}return d?l.length:l?a.error(b):sa(b,m).slice(0)};return ea=a.compile=function(b,a){var d,g=[],e=[],c=va[b+" "];if(!c){a||(a=N(b));for(d=a.length;d--;)c=p(a[d]),c[qa]?g.push(c):e.push(c);c=va(b,x(e,g));
c.selector=b}return c},ba=a.select=function(b,a,d,g){var e,c,h,l,m,f="function"==typeof b&&b,k=!g&&N(b=f.selector||b);if(d=d||[],1===k.length){if(c=k[0]=k[0].slice(0),2<c.length&&"ID"===(h=c[0]).type&&B.getById&&9===a.nodeType&&Q&&A.relative[c[1].type]){if(a=(A.find.ID(h.matches[0].replace(cb,Ha),a)||[])[0],!a)return d;f&&(a=a.parentNode);b=b.slice(c.shift().value.length)}for(e=Oa.needsContext.test(b)?0:c.length;e--&&(h=c[e],!A.relative[l=h.type]);)if((m=A.find[l])&&(g=m(h.matches[0].replace(cb,Ha),
Va.test(c[0].type)&&q(a.parentNode)||a))){if(c.splice(e,1),b=g.length&&v(c),!b)return za.apply(d,g),d;break}}return(f||ea(b,k))(g,a,!Q,d,Va.test(b)&&q(a.parentNode)||a),d},B.sortStable=qa.split("").sort(ka).join("")===qa,B.detectDuplicates=!!P,F(),B.sortDetached=e(function(b){return 1&b.compareDocumentPosition(H.createElement("div"))}),e(function(b){return b.innerHTML="<a href='#'></a>","#"===b.firstChild.getAttribute("href")})||c("type|href|height|width",function(b,a,d){return d?void 0:b.getAttribute(a,
"type"===a.toLowerCase()?1:2)}),B.attributes&&e(function(b){return b.innerHTML="<input/>",b.firstChild.setAttribute("value",""),""===b.firstChild.getAttribute("value")})||c("value",function(b,a,d){return d||"input"!==b.nodeName.toLowerCase()?void 0:b.defaultValue}),e(function(b){return null==b.getAttribute("disabled")})||c("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(b,a,d){var g;return d?void 0:!0===b[a]?a.toLowerCase():
(g=b.getAttributeNode(a))&&g.specified?g.value:null}),a}(a);p.find=Ia;p.expr=Ia.selectors;p.expr[":"]=p.expr.pseudos;p.unique=Ia.uniqueSort;p.text=Ia.getText;p.isXMLDoc=Ia.isXML;p.contains=Ia.contains;var Mb=p.expr.match.needsContext,kc=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Va=/^.[^:#\[\.,]*$/;p.filter=function(b,a,d){var g=a[0];return d&&(b=":not("+b+")"),1===a.length&&1===g.nodeType?p.find.matchesSelector(g,b)?[g]:[]:p.find.matches(b,p.grep(a,function(b){return 1===b.nodeType}))};p.fn.extend({find:function(b){var a,
d=this.length,g=[],e=this;if("string"!=typeof b)return this.pushStack(p(b).filter(function(){for(a=0;d>a;a++)if(p.contains(e[a],this))return!0}));for(a=0;d>a;a++)p.find(b,e[a],g);return g=this.pushStack(1<d?p.unique(g):g),g.selector=this.selector?this.selector+" "+b:b,g},filter:function(b){return this.pushStack(f(this,b||[],!1))},not:function(b){return this.pushStack(f(this,b||[],!0))},is:function(b){return!!f(this,"string"==typeof b&&Mb.test(b)?p(b):b||[],!1).length}});var db,kd=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;
(p.fn.init=function(b,a){var d,g;if(!b)return this;if("string"==typeof b){if(d="<"===b[0]&&">"===b[b.length-1]&&3<=b.length?[null,b,null]:kd.exec(b),!d||!d[1]&&a)return!a||a.jquery?(a||db).find(b):this.constructor(a).find(b);if(d[1]){if(a=a instanceof p?a[0]:a,p.merge(this,p.parseHTML(d[1],a&&a.nodeType?a.ownerDocument||a:M,!0)),kc.test(d[1])&&p.isPlainObject(a))for(d in a)p.isFunction(this[d])?this[d](a[d]):this.attr(d,a[d]);return this}return g=M.getElementById(d[2]),g&&g.parentNode&&(this.length=
1,this[0]=g),this.context=M,this.selector=b,this}return b.nodeType?(this.context=this[0]=b,this.length=1,this):p.isFunction(b)?"undefined"!=typeof db.ready?db.ready(b):b(p):(void 0!==b.selector&&(this.selector=b.selector,this.context=b.context),p.makeArray(b,this))}).prototype=p.fn;db=p(M);var ld=/^(?:parents|prev(?:Until|All))/,Jc={children:!0,contents:!0,next:!0,prev:!0};p.extend({dir:function(b,a,d){for(var g=[],e=void 0!==d;(b=b[a])&&9!==b.nodeType;)if(1===b.nodeType){if(e&&p(b).is(d))break;g.push(b)}return g},
sibling:function(b,a){for(var d=[];b;b=b.nextSibling)1===b.nodeType&&b!==a&&d.push(b);return d}});p.fn.extend({has:function(b){var a=p(b,this),d=a.length;return this.filter(function(){for(var b=0;d>b;b++)if(p.contains(this,a[b]))return!0})},closest:function(b,a){for(var d,g=0,e=this.length,c=[],h=Mb.test(b)||"string"!=typeof b?p(b,a||this.context):0;e>g;g++)for(d=this[g];d&&d!==a;d=d.parentNode)if(11>d.nodeType&&(h?-1<h.index(d):1===d.nodeType&&p.find.matchesSelector(d,b))){c.push(d);break}return this.pushStack(1<
c.length?p.unique(c):c)},index:function(b){return b?"string"==typeof b?da.call(p(b),this[0]):da.call(this,b.jquery?b[0]:b):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(b,a){return this.pushStack(p.unique(p.merge(this.get(),p(b,a))))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});p.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?b:null},parents:function(b){return p.dir(b,"parentNode")},parentsUntil:function(b,
a,d){return p.dir(b,"parentNode",d)},next:function(b){return e(b,"nextSibling")},prev:function(b){return e(b,"previousSibling")},nextAll:function(b){return p.dir(b,"nextSibling")},prevAll:function(b){return p.dir(b,"previousSibling")},nextUntil:function(b,a,d){return p.dir(b,"nextSibling",d)},prevUntil:function(b,a,d){return p.dir(b,"previousSibling",d)},siblings:function(b){return p.sibling((b.parentNode||{}).firstChild,b)},children:function(b){return p.sibling(b.firstChild)},contents:function(b){return b.contentDocument||
p.merge([],b.childNodes)}},function(b,a){p.fn[b]=function(d,g){var e=p.map(this,a,d);return"Until"!==b.slice(-5)&&(g=d),g&&"string"==typeof g&&(e=p.filter(g,e)),1<this.length&&(Jc[b]||p.unique(e),ld.test(b)&&e.reverse()),this.pushStack(e)}});var na=/\S+/g,bc={};p.Callbacks=function(b){b="string"==typeof b?bc[b]||h(b):p.extend({},b);var a,d,g,e,c,l,m=[],f=!b.once&&[],q=function(h){a=b.memory&&h;d=!0;l=e||0;e=0;c=m.length;for(g=!0;m&&c>l;l++)if(!1===m[l].apply(h[0],h[1])&&b.stopOnFalse){a=!1;break}g=
!1;m&&(f?f.length&&q(f.shift()):a?m=[]:k.disable())},k={add:function(){if(m){var d=m.length;!function lb(a){p.each(a,function(a,d){var g=p.type(d);"function"===g?b.unique&&k.has(d)||m.push(d):d&&d.length&&"string"!==g&&lb(d)})}(arguments);g?c=m.length:a&&(e=d,q(a))}return this},remove:function(){return m&&p.each(arguments,function(b,a){for(var d;-1<(d=p.inArray(a,m,d));)m.splice(d,1),g&&(c>=d&&c--,l>=d&&l--)}),this},has:function(b){return b?-1<p.inArray(b,m):!(!m||!m.length)},empty:function(){return m=
[],c=0,this},disable:function(){return m=f=a=void 0,this},disabled:function(){return!m},lock:function(){return f=void 0,a||k.disable(),this},locked:function(){return!f},fireWith:function(b,a){return!m||d&&!f||(a=a||[],a=[b,a.slice?a.slice():a],g?f.push(a):q(a)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k};p.extend({Deferred:function(b){var a=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),
"rejected"],["notify","progress",p.Callbacks("memory")]],d="pending",g={state:function(){return d},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var b=arguments;return p.Deferred(function(d){p.each(a,function(a,c){var h=p.isFunction(b[a])&&b[a];e[c[1]](function(){var b=h&&h.apply(this,arguments);b&&p.isFunction(b.promise)?b.promise().done(d.resolve).fail(d.reject).progress(d.notify):d[c[0]+"With"](this===g?d.promise():this,h?[b]:arguments)})});b=null}).promise()},
promise:function(b){return null!=b?p.extend(b,g):g}},e={};return g.pipe=g.then,p.each(a,function(b,c){var h=c[2],l=c[3];g[c[1]]=h.add;l&&h.add(function(){d=l},a[1^b][2].disable,a[2][2].lock);e[c[0]]=function(){return e[c[0]+"With"](this===e?g:this,arguments),this};e[c[0]+"With"]=h.fireWith}),g.promise(e),b&&b.call(e,e),e},when:function(b){var a=0,d=va.call(arguments),g=d.length,e=1!==g||b&&p.isFunction(b.promise)?g:0,c=1===e?b:p.Deferred(),h=function(b,a,d){return function(g){a[b]=this;d[b]=1<arguments.length?
va.call(arguments):g;d===l?c.notifyWith(a,d):--e||c.resolveWith(a,d)}},l,m,f;if(1<g)for(l=Array(g),m=Array(g),f=Array(g);g>a;a++)d[a]&&p.isFunction(d[a].promise)?d[a].promise().done(h(a,f,d)).fail(c.reject).progress(h(a,m,l)):--e;return e||c.resolveWith(f,d),c.promise()}});var eb;p.fn.ready=function(b){return p.ready.promise().done(b),this};p.extend({isReady:!1,readyWait:1,holdReady:function(b){b?p.readyWait++:p.ready(!0)},ready:function(b){(!0===b?--p.readyWait:p.isReady)||(p.isReady=!0,!0!==b&&
0<--p.readyWait||(eb.resolveWith(M,[p]),p.fn.triggerHandler&&(p(M).triggerHandler("ready"),p(M).off("ready"))))}});p.ready.promise=function(d){return eb||(eb=p.Deferred(),"complete"===M.readyState?setTimeout(p.ready):(M.addEventListener("DOMContentLoaded",b,!1),a.addEventListener("load",b,!1))),eb.promise(d)};p.ready.promise();var ra=p.access=function(b,a,d,g,e,c,h){var l=0,m=b.length,f=null==d;if("object"===p.type(d))for(l in e=!0,d)p.access(b,a,l,d[l],!0,c,h);else if(void 0!==g&&(e=!0,p.isFunction(g)||
(h=!0),f&&(h?(a.call(b,g),a=null):(f=a,a=function(b,a,d){return f.call(p(b),d)})),a))for(;m>l;l++)a(b[l],d,h?g:g.call(b[l],l,a(b[l],d)));return e?b:f?a.call(b):m?a(b[0],d):c};p.acceptData=function(b){return 1===b.nodeType||9===b.nodeType||!+b.nodeType};d.uid=1;d.accepts=p.acceptData;d.prototype={key:function(b){if(!d.accepts(b))return 0;var a={},g=b[this.expando];if(!g){g=d.uid++;try{a[this.expando]={value:g},Object.defineProperties(b,a)}catch(e){a[this.expando]=g,p.extend(b,a)}}return this.cache[g]||
(this.cache[g]={}),g},set:function(b,a,d){var g;b=this.key(b);var e=this.cache[b];if("string"==typeof a)e[a]=d;else if(p.isEmptyObject(e))p.extend(this.cache[b],a);else for(g in a)e[g]=a[g];return e},get:function(b,a){var d=this.cache[this.key(b)];return void 0===a?d:d[a]},access:function(b,a,d){var g;return void 0===a||a&&"string"==typeof a&&void 0===d?(g=this.get(b,a),void 0!==g?g:this.get(b,p.camelCase(a))):(this.set(b,a,d),void 0!==d?d:a)},remove:function(b,a){var d,g,e=this.key(b),c=this.cache[e];
if(void 0===a)this.cache[e]={};else for(p.isArray(a)?g=a.concat(a.map(p.camelCase)):(d=p.camelCase(a),a in c?g=[a,d]:(g=d,g=g in c?[g]:g.match(na)||[])),d=g.length;d--;)delete c[g[d]]},hasData:function(b){return!p.isEmptyObject(this.cache[b[this.expando]]||{})},discard:function(b){b[this.expando]&&delete this.cache[b[this.expando]]}};var F=new d,ia=new d,cd=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bd=/([A-Z])/g;p.extend({hasData:function(b){return ia.hasData(b)||F.hasData(b)},data:function(b,a,d){return ia.access(b,
a,d)},removeData:function(b,a){ia.remove(b,a)},_data:function(b,a,d){return F.access(b,a,d)},_removeData:function(b,a){F.remove(b,a)}});p.fn.extend({data:function(b,a){var d,e,c,h=this[0],l=h&&h.attributes;if(void 0===b){if(this.length&&(c=ia.get(h),1===h.nodeType&&!F.get(h,"hasDataAttrs"))){for(d=l.length;d--;)l[d]&&(e=l[d].name,0===e.indexOf("data-")&&(e=p.camelCase(e.slice(5)),g(h,e,c[e])));F.set(h,"hasDataAttrs",!0)}return c}return"object"==typeof b?this.each(function(){ia.set(this,b)}):ra(this,
function(a){var d,e=p.camelCase(b);if(h&&void 0===a){if((d=ia.get(h,b),void 0!==d)||(d=ia.get(h,e),void 0!==d)||(d=g(h,e,void 0),void 0!==d))return d}else this.each(function(){var d=ia.get(this,e);ia.set(this,e,a);-1!==b.indexOf("-")&&void 0!==d&&ia.set(this,b,a)})},null,a,1<arguments.length,null,!0)},removeData:function(b){return this.each(function(){ia.remove(this,b)})}});p.extend({queue:function(b,a,d){var g;return b?(a=(a||"fx")+"queue",g=F.get(b,a),d&&(!g||p.isArray(d)?g=F.access(b,a,p.makeArray(d)):
g.push(d)),g||[]):void 0},dequeue:function(b,a){a=a||"fx";var d=p.queue(b,a),g=d.length,e=d.shift(),c=p._queueHooks(b,a),h=function(){p.dequeue(b,a)};"inprogress"===e&&(e=d.shift(),g--);e&&("fx"===a&&d.unshift("inprogress"),delete c.stop,e.call(b,h,c));!g&&c&&c.empty.fire()},_queueHooks:function(b,a){var d=a+"queueHooks";return F.get(b,d)||F.access(b,d,{empty:p.Callbacks("once memory").add(function(){F.remove(b,[a+"queue",d])})})}});p.fn.extend({queue:function(b,a){var d=2;return"string"!=typeof b&&
(a=b,b="fx",d--),arguments.length<d?p.queue(this[0],b):void 0===a?this:this.each(function(){var d=p.queue(this,b,a);p._queueHooks(this,b);"fx"===b&&"inprogress"!==d[0]&&p.dequeue(this,b)})},dequeue:function(b){return this.each(function(){p.dequeue(this,b)})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,a){var d,g=1,e=p.Deferred(),c=this,h=this.length,l=function(){--g||e.resolveWith(c,[c])};"string"!=typeof b&&(a=b,b=void 0);for(b=b||"fx";h--;)(d=F.get(c[h],b+"queueHooks"))&&
d.empty&&(g++,d.empty.add(l));return l(),e.promise(a)}});var Nb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Qa=["Top","Right","Bottom","Left"],Za=function(b,a){return b=a||b,"none"===p.css(b,"display")||!p.contains(b.ownerDocument,b)},X=/^(?:checkbox|radio)$/i;!function(){var b=M.createDocumentFragment().appendChild(M.createElement("div")),a=M.createElement("input");a.setAttribute("type","radio");a.setAttribute("checked","checked");a.setAttribute("name","t");b.appendChild(a);T.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked;
b.innerHTML="<textarea>x</textarea>";T.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();T.focusinBubbles="onfocusin"in a;var ka=/^key/,Kc=/^(?:mouse|pointer|contextmenu)|click/,Ob=/^(?:focusinfocus|focusoutblur)$/,md=/^([^.]*)(?:\.(.+)|)$/;p.event={global:{},add:function(b,a,d,g,e){var c,h,l,m,f,q,k,v,r,s;if(f=F.get(b))for(d.handler&&(c=d,d=c.handler,e=c.selector),d.guid||(d.guid=p.guid++),(m=f.events)||(m=f.events={}),(h=f.handle)||(h=f.handle=function(a){return"undefined"!==typeof p&&
p.event.triggered!==a.type?p.event.dispatch.apply(b,arguments):void 0}),a=(a||"").match(na)||[""],f=a.length;f--;)l=md.exec(a[f])||[],r=s=l[1],l=(l[2]||"").split(".").sort(),r&&(k=p.event.special[r]||{},r=(e?k.delegateType:k.bindType)||r,k=p.event.special[r]||{},q=p.extend({type:r,origType:s,data:g,handler:d,guid:d.guid,selector:e,needsContext:e&&p.expr.match.needsContext.test(e),namespace:l.join(".")},c),(v=m[r])||(v=m[r]=[],v.delegateCount=0,k.setup&&!1!==k.setup.call(b,g,l,h)||b.addEventListener&&
b.addEventListener(r,h,!1)),k.add&&(k.add.call(b,q),q.handler.guid||(q.handler.guid=d.guid)),e?v.splice(v.delegateCount++,0,q):v.push(q),p.event.global[r]=!0)},remove:function(b,a,d,g,e){var c,h,l,m,f,q,k,v,r,s,u,w=F.hasData(b)&&F.get(b);if(w&&(m=w.events)){a=(a||"").match(na)||[""];for(f=a.length;f--;)if(l=md.exec(a[f])||[],r=u=l[1],s=(l[2]||"").split(".").sort(),r){k=p.event.special[r]||{};r=(g?k.delegateType:k.bindType)||r;v=m[r]||[];l=l[2]&&new RegExp("(^|\\.)"+s.join("\\.(?:.*\\.|)")+"(\\.|$)");
for(h=c=v.length;c--;)q=v[c],!e&&u!==q.origType||d&&d.guid!==q.guid||l&&!l.test(q.namespace)||g&&g!==q.selector&&("**"!==g||!q.selector)||(v.splice(c,1),q.selector&&v.delegateCount--,k.remove&&k.remove.call(b,q));h&&!v.length&&(k.teardown&&!1!==k.teardown.call(b,s,w.handle)||p.removeEvent(b,r,w.handle),delete m[r])}else for(r in m)p.event.remove(b,r+a[f],d,g,!0);p.isEmptyObject(m)&&(delete w.handle,F.remove(b,"events"))}},trigger:function(b,d,g,e){var c,h,l,m,f,q,k,v=[g||M],r=gc.call(b,"type")?b.type:
b;c=gc.call(b,"namespace")?b.namespace.split("."):[];if(h=l=g=g||M,3!==g.nodeType&&8!==g.nodeType&&!Ob.test(r+p.event.triggered)&&(0<=r.indexOf(".")&&(c=r.split("."),r=c.shift(),c.sort()),f=0>r.indexOf(":")&&"on"+r,b=b[p.expando]?b:new p.Event(r,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=c.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+c.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=g),d=null==d?[b]:p.makeArray(d,[b]),k=p.event.special[r]||{},e||!k.trigger||
!1!==k.trigger.apply(g,d))){if(!e&&!k.noBubble&&!p.isWindow(g)){m=k.delegateType||r;for(Ob.test(m+r)||(h=h.parentNode);h;h=h.parentNode)v.push(h),l=h;l===(g.ownerDocument||M)&&v.push(l.defaultView||l.parentWindow||a)}for(c=0;(h=v[c++])&&!b.isPropagationStopped();)b.type=1<c?m:k.bindType||r,(q=(F.get(h,"events")||{})[b.type]&&F.get(h,"handle"))&&q.apply(h,d),(q=f&&h[f])&&q.apply&&p.acceptData(h)&&(b.result=q.apply(h,d),!1===b.result&&b.preventDefault());return b.type=r,e||b.isDefaultPrevented()||k._default&&
!1!==k._default.apply(v.pop(),d)||!p.acceptData(g)||f&&p.isFunction(g[r])&&!p.isWindow(g)&&(l=g[f],l&&(g[f]=null),p.event.triggered=r,g[r](),p.event.triggered=void 0,l&&(g[f]=l)),b.result}},dispatch:function(b){b=p.event.fix(b);var a,d,g,e,c,h=[],l=va.call(arguments);a=(F.get(this,"events")||{})[b.type]||[];var m=p.event.special[b.type]||{};if(l[0]=b,b.delegateTarget=this,!m.preDispatch||!1!==m.preDispatch.call(this,b)){h=p.event.handlers.call(this,b,a);for(a=0;(e=h[a++])&&!b.isPropagationStopped();)for(b.currentTarget=
e.elem,d=0;(c=e.handlers[d++])&&!b.isImmediatePropagationStopped();)b.namespace_re&&!b.namespace_re.test(c.namespace)||(b.handleObj=c,b.data=c.data,g=((p.event.special[c.origType]||{}).handle||c.handler).apply(e.elem,l),void 0===g||!1!==(b.result=g)||(b.preventDefault(),b.stopPropagation()));return m.postDispatch&&m.postDispatch.call(this,b),b.result}},handlers:function(b,a){var d,g,e,c,h=[],l=a.delegateCount,m=b.target;if(l&&m.nodeType&&(!b.button||"click"!==b.type))for(;m!==this;m=m.parentNode||
this)if(!0!==m.disabled||"click"!==b.type){g=[];for(d=0;l>d;d++)c=a[d],e=c.selector+" ",void 0===g[e]&&(g[e]=c.needsContext?0<=p(e,this).index(m):p.find(e,this,null,[m]).length),g[e]&&g.push(c);g.length&&h.push({elem:m,handlers:g})}return l<a.length&&h.push({elem:this,handlers:a.slice(l)}),h},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(b,
a){return null==b.which&&(b.which=null!=a.charCode?a.charCode:a.keyCode),b}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b,a){var d,g,e,c=a.button;return null==b.pageX&&null!=a.clientX&&(d=b.target.ownerDocument||M,g=d.documentElement,e=d.body,b.pageX=a.clientX+(g&&g.scrollLeft||e&&e.scrollLeft||0)-(g&&g.clientLeft||e&&e.clientLeft||0),b.pageY=a.clientY+(g&&g.scrollTop||e&&e.scrollTop||0)-(g&&g.clientTop||e&&e.clientTop||
0)),b.which||void 0===c||(b.which=1&c?1:2&c?3:4&c?2:0),b}},fix:function(b){if(b[p.expando])return b;var a,d,g;a=b.type;var e=b,c=this.fixHooks[a];c||(this.fixHooks[a]=c=Kc.test(a)?this.mouseHooks:ka.test(a)?this.keyHooks:{});g=c.props?this.props.concat(c.props):this.props;b=new p.Event(e);for(a=g.length;a--;)d=g[a],b[d]=e[d];return b.target||(b.target=M),3===b.target.nodeType&&(b.target=b.target.parentNode),c.filter?c.filter(b,e):b},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==
v()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===v()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&p.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(b){return p.nodeName(b.target,"a")}},beforeunload:{postDispatch:function(b){void 0!==b.result&&b.originalEvent&&(b.originalEvent.returnValue=b.result)}}},simulate:function(b,a,d,g){b=p.extend(new p.Event,
d,{type:b,isSimulated:!0,originalEvent:{}});g?p.event.trigger(b,null,a):p.event.dispatch.call(a,b);b.isDefaultPrevented()&&d.preventDefault()}};p.removeEvent=function(b,a,d){b.removeEventListener&&b.removeEventListener(a,d,!1)};p.Event=function(b,a){return this instanceof p.Event?(b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||void 0===b.defaultPrevented&&!1===b.returnValue?l:m):this.type=b,a&&p.extend(this,a),this.timeStamp=b&&b.timeStamp||p.now(),void(this[p.expando]=
!0)):new p.Event(b,a)};p.Event.prototype={isDefaultPrevented:m,isPropagationStopped:m,isImmediatePropagationStopped:m,preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=l;b&&b.preventDefault&&b.preventDefault()},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=l;b&&b.stopPropagation&&b.stopPropagation()},stopImmediatePropagation:function(){var b=this.originalEvent;this.isImmediatePropagationStopped=l;b&&b.stopImmediatePropagation&&b.stopImmediatePropagation();
this.stopPropagation()}};p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(b,a){p.event.special[b]={delegateType:a,bindType:a,handle:function(b){var d,g=b.relatedTarget,e=b.handleObj;return(!g||g!==this&&!p.contains(this,g))&&(b.type=e.origType,d=e.handler.apply(this,arguments),b.type=a),d}}});T.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(b,a){var d=function(b){p.event.simulate(a,b.target,p.event.fix(b),!0)};p.event.special[a]=
{setup:function(){var g=this.ownerDocument||this,e=F.access(g,a);e||g.addEventListener(b,d,!0);F.access(g,a,(e||0)+1)},teardown:function(){var g=this.ownerDocument||this,e=F.access(g,a)-1;e?F.access(g,a,e):(g.removeEventListener(b,d,!0),F.remove(g,a))}}});p.fn.extend({on:function(b,a,d,g,e){var c,h;if("object"==typeof b){"string"!=typeof a&&(d=d||a,a=void 0);for(h in b)this.on(h,a,d,b[h],e);return this}if(null==d&&null==g?(g=a,d=a=void 0):null==g&&("string"==typeof a?(g=d,d=void 0):(g=d,d=a,a=void 0)),
!1===g)g=m;else if(!g)return this;return 1===e&&(c=g,g=function(b){return p().off(b),c.apply(this,arguments)},g.guid=c.guid||(c.guid=p.guid++)),this.each(function(){p.event.add(this,b,g,d,a)})},one:function(b,a,d,g){return this.on(b,a,d,g,1)},off:function(b,a,d){var g,e;if(b&&b.preventDefault&&b.handleObj)return g=b.handleObj,p(b.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if("object"==typeof b){for(e in b)this.off(e,a,b[e]);return this}return(!1===
a||"function"==typeof a)&&(d=a,a=void 0),!1===d&&(d=m),this.each(function(){p.event.remove(this,b,d,a)})},trigger:function(b,a){return this.each(function(){p.event.trigger(b,a,this)})},triggerHandler:function(b,a){var d=this[0];return d?p.event.trigger(b,a,d,!0):void 0}});var lc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Lc=/<([\w:]+)/,nd=/<|&#?\w+;/,Mc=/<(?:script|style|link)/i,re=/checked\s*(?:[^=]|=\s*.checked.)/i,od=/^$|\/(?:java|ecma)script/i,Fa=/^true\/(.*)/,Oa=
/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,xa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};xa.optgroup=xa.option;xa.tbody=xa.tfoot=xa.colgroup=xa.caption=xa.thead;xa.th=xa.td;p.extend({clone:function(b,a,d){var g,e,c,h,l=b.cloneNode(!0),m=p.contains(b.ownerDocument,b);if(!(T.noCloneChecked||1!==
b.nodeType&&11!==b.nodeType||p.isXMLDoc(b)))for(h=x(l),c=x(b),g=0,e=c.length;e>g;g++){var f=c[g],q=h[g],k=q.nodeName.toLowerCase();"input"===k&&X.test(f.type)?q.checked=f.checked:("input"===k||"textarea"===k)&&(q.defaultValue=f.defaultValue)}if(a)if(d)for(c=c||x(b),h=h||x(l),g=0,e=c.length;e>g;g++)w(c[g],h[g]);else w(b,l);return h=x(l,"script"),0<h.length&&u(h,!m&&x(b,"script")),l},buildFragment:function(b,a,d,g){for(var e,c,h,l,m=a.createDocumentFragment(),f=[],q=0,k=b.length;k>q;q++)if(e=b[q],e||
0===e)if("object"===p.type(e))p.merge(f,e.nodeType?[e]:e);else if(nd.test(e)){c=c||m.appendChild(a.createElement("div"));h=(Lc.exec(e)||["",""])[1].toLowerCase();h=xa[h]||xa._default;c.innerHTML=h[1]+e.replace(lc,"<$1></$2>")+h[2];for(h=h[0];h--;)c=c.lastChild;p.merge(f,c.childNodes);c=m.firstChild;c.textContent=""}else f.push(a.createTextNode(e));m.textContent="";for(q=0;e=f[q++];)if((!g||-1===p.inArray(e,g))&&(l=p.contains(e.ownerDocument,e),c=x(m.appendChild(e),"script"),l&&u(c),d))for(h=0;e=c[h++];)od.test(e.type||
"")&&d.push(e);return m},cleanData:function(b){for(var a,d,g,e,c=p.event.special,h=0;void 0!==(d=b[h]);h++){if(p.acceptData(d)&&(e=d[F.expando],e&&(a=F.cache[e]))){if(a.events)for(g in a.events)c[g]?p.event.remove(d,g):p.removeEvent(d,g,a.handle);F.cache[e]&&delete F.cache[e]}delete ia.cache[d[ia.expando]]}}});p.fn.extend({text:function(b){return ra(this,function(b){return void 0===b?p.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=
b)})},null,b,arguments.length)},append:function(){return this.domManip(arguments,function(b){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||q(this,b).appendChild(b)})},prepend:function(){return this.domManip(arguments,function(b){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var a=q(this,b);a.insertBefore(b,a.firstChild)}})},before:function(){return this.domManip(arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return this.domManip(arguments,
function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},remove:function(b,a){for(var d,g=b?p.filter(b,this):this,e=0;null!=(d=g[e]);e++)a||1!==d.nodeType||p.cleanData(x(d)),d.parentNode&&(a&&p.contains(d.ownerDocument,d)&&u(x(d,"script")),d.parentNode.removeChild(d));return this},empty:function(){for(var b,a=0;null!=(b=this[a]);a++)1===b.nodeType&&(p.cleanData(x(b,!1)),b.textContent="");return this},clone:function(b,a){return b=null==b?!1:b,a=null==a?b:a,this.map(function(){return p.clone(this,
b,a)})},html:function(b){return ra(this,function(b){var a=this[0]||{},d=0,g=this.length;if(void 0===b&&1===a.nodeType)return a.innerHTML;if("string"==typeof b&&!Mc.test(b)&&!xa[(Lc.exec(b)||["",""])[1].toLowerCase()]){b=b.replace(lc,"<$1></$2>");try{for(;g>d;d++)a=this[d]||{},1===a.nodeType&&(p.cleanData(x(a,!1)),a.innerHTML=b);a=0}catch(e){}}a&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(){var b=arguments[0];return this.domManip(arguments,function(a){b=this.parentNode;
p.cleanData(x(this));b&&b.replaceChild(a,this)}),b&&(b.length||b.nodeType)?this:this.remove()},detach:function(b){return this.remove(b,!0)},domManip:function(b,a){b=pa.apply([],b);var d,g,e,c,h=0,l=this.length,m=this,f=l-1,q=b[0],k=p.isFunction(q);if(k||1<l&&"string"==typeof q&&!T.checkClone&&re.test(q))return this.each(function(d){var g=m.eq(d);k&&(b[0]=q.call(this,d,g.html()));g.domManip(b,a)});if(l&&(d=p.buildFragment(b,this[0].ownerDocument,!1,this),g=d.firstChild,1===d.childNodes.length&&(d=
g),g)){g=p.map(x(d,"script"),r);for(e=g.length;l>h;h++)c=d,h!==f&&(c=p.clone(c,!0,!0),e&&p.merge(g,x(c,"script"))),a.call(this[h],c,h);if(e)for(d=g[g.length-1].ownerDocument,p.map(g,s),h=0;e>h;h++)c=g[h],od.test(c.type||"")&&!F.access(c,"globalEval")&&p.contains(d,c)&&(c.src?p._evalUrl&&p._evalUrl(c.src):p.globalEval(c.textContent.replace(Oa,"")))}return this}});p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,a){p.fn[b]=
function(b){for(var d=[],g=p(b),e=g.length-1,c=0;e>=c;c++)b=c===e?this:this.clone(!0),p(g[c])[a](b),Ka.apply(d,b.get());return this.pushStack(d)}});var cc,ua={},Jb=/^margin/,qb=new RegExp("^("+Nb+")(?!px)[a-z%]+$","i"),dc=function(b){return b.ownerDocument.defaultView.getComputedStyle(b,null)};!function(){var b,d,g=M.documentElement,e=M.createElement("div"),c=M.createElement("div");if(c.style){c.style.backgroundClip="content-box";c.cloneNode(!0).style.backgroundClip="";T.clearCloneStyle="content-box"===
c.style.backgroundClip;e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute";e.appendChild(c);var h=function(){c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";c.innerHTML="";g.appendChild(e);var h=a.getComputedStyle(c,null);b="1%"!==h.top;d="4px"===h.width;g.removeChild(e)};a.getComputedStyle&&p.extend(T,{pixelPosition:function(){return h(),
b},boxSizingReliable:function(){return null==d&&h(),d},reliableMarginRight:function(){var b,d=c.appendChild(M.createElement("div"));return d.style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",d.style.marginRight=d.style.width="0",c.style.width="1px",g.appendChild(e),b=!parseFloat(a.getComputedStyle(d,null).marginRight),g.removeChild(e),b}})}}();p.swap=function(b,a,d,g){var e,c={};for(e in a)c[e]=
b.style[e],b.style[e]=a[e];d=d.apply(b,g||[]);for(e in a)b.style[e]=c[e];return d};var se=/^(none|table(?!-c[ea]).+)/,ee=new RegExp("^("+Nb+")(.*)$","i"),te=new RegExp("^([+-])=("+Nb+")","i"),ue={position:"absolute",visibility:"hidden",display:"block"},pd={letterSpacing:"0",fontWeight:"400"},ed=["Webkit","O","Moz","ms"];p.extend({cssHooks:{opacity:{get:function(b,a){if(a){var d=A(b,"opacity");return""===d?"1":d}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,
opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(b,a,d,g){if(b&&3!==b.nodeType&&8!==b.nodeType&&b.style){var e,c,h,l=p.camelCase(a),m=b.style;return a=p.cssProps[l]||(p.cssProps[l]=Y(m,l)),h=p.cssHooks[a]||p.cssHooks[l],void 0===d?h&&"get"in h&&void 0!==(e=h.get(b,!1,g))?e:m[a]:(c=typeof d,"string"===c&&(e=te.exec(d))&&(d=(e[1]+1)*e[2]+parseFloat(p.css(b,a)),c="number"),null!=d&&d===d&&("number"!==c||p.cssNumber[l]||(d+="px"),T.clearCloneStyle||
""!==d||0!==a.indexOf("background")||(m[a]="inherit"),h&&"set"in h&&void 0===(d=h.set(b,d,g))||(m[a]=d)),void 0)}},css:function(b,a,d,g){var e,c,h,l=p.camelCase(a);return a=p.cssProps[l]||(p.cssProps[l]=Y(b.style,l)),h=p.cssHooks[a]||p.cssHooks[l],h&&"get"in h&&(e=h.get(b,!0,d)),void 0===e&&(e=A(b,a,g)),"normal"===e&&a in pd&&(e=pd[a]),""===d||d?(c=parseFloat(e),!0===d||p.isNumeric(c)?c||0:e):e}});p.each(["height","width"],function(b,a){p.cssHooks[a]={get:function(b,d,g){return d?se.test(p.css(b,
"display"))&&0===b.offsetWidth?p.swap(b,ue,function(){return ea(b,a,g)}):ea(b,a,g):void 0},set:function(b,d,g){var e=g&&dc(b);return ba(b,d,g?W(b,a,g,"border-box"===p.css(b,"boxSizing",!1,e),e):0)}}});p.cssHooks.marginRight=z(T.reliableMarginRight,function(b,a){return a?p.swap(b,{display:"inline-block"},A,[b,"marginRight"]):void 0});p.each({margin:"",padding:"",border:"Width"},function(b,a){p.cssHooks[b+a]={expand:function(d){var g=0,e={};for(d="string"==typeof d?d.split(" "):[d];4>g;g++)e[b+Qa[g]+
a]=d[g]||d[g-2]||d[0];return e}};Jb.test(b)||(p.cssHooks[b+a].set=ba)});p.fn.extend({css:function(b,a){return ra(this,function(b,a,d){var g,e={},c=0;if(p.isArray(a)){d=dc(b);for(g=a.length;g>c;c++)e[a[c]]=p.css(b,a[c],!1,d);return e}return void 0!==d?p.style(b,a,d):p.css(b,a)},b,a,1<arguments.length)},show:function(){return N(this,!0)},hide:function(){return N(this)},toggle:function(b){return"boolean"==typeof b?b?this.show():this.hide():this.each(function(){Za(this)?p(this).show():p(this).hide()})}});
p.Tween=O;O.prototype={constructor:O,init:function(b,a,d,g,e,c){this.elem=b;this.prop=d;this.easing=e||"swing";this.options=a;this.start=this.now=this.cur();this.end=g;this.unit=c||(p.cssNumber[d]?"":"px")},cur:function(){var b=O.propHooks[this.prop];return b&&b.get?b.get(this):O.propHooks._default.get(this)},run:function(b){var a,d=O.propHooks[this.prop];return this.pos=a=this.options.duration?p.easing[this.easing](b,this.options.duration*b,0,1,this.options.duration):b,this.now=(this.end-this.start)*
a+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),d&&d.set?d.set(this):O.propHooks._default.set(this),this}};O.prototype.init.prototype=O.prototype;O.propHooks={_default:{get:function(b){var a;return null==b.elem[b.prop]||b.elem.style&&null!=b.elem.style[b.prop]?(a=p.css(b.elem,b.prop,""),a&&"auto"!==a?a:0):b.elem[b.prop]},set:function(b){p.fx.step[b.prop]?p.fx.step[b.prop](b):b.elem.style&&(null!=b.elem.style[p.cssProps[b.prop]]||p.cssHooks[b.prop])?p.style(b.elem,b.prop,
b.now+b.unit):b.elem[b.prop]=b.now}}};O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}};p.easing={linear:function(b){return b},swing:function(b){return.5-Math.cos(b*Math.PI)/2}};p.fx=O.prototype.init;p.fx.step={};var $a,mc,qd=/^(?:toggle|show|hide)$/,rd=new RegExp("^(?:([+-])=|)("+Nb+")([a-z%]*)$","i"),ve=/queueHooks$/,ec=[function(b,a,d){var g,e,c,h,l,m,f,q=this,k={},v=b.style,r=b.nodeType&&Za(b),s=F.get(b,"fxshow");d.queue||
(h=p._queueHooks(b,"fx"),null==h.unqueued&&(h.unqueued=0,l=h.empty.fire,h.empty.fire=function(){h.unqueued||l()}),h.unqueued++,q.always(function(){q.always(function(){h.unqueued--;p.queue(b,"fx").length||h.empty.fire()})}));1===b.nodeType&&("height"in a||"width"in a)&&(d.overflow=[v.overflow,v.overflowX,v.overflowY],m=p.css(b,"display"),f="none"===m?F.get(b,"olddisplay")||B(b.nodeName):m,"inline"===f&&"none"===p.css(b,"float")&&(v.display="inline-block"));d.overflow&&(v.overflow="hidden",q.always(function(){v.overflow=
d.overflow[0];v.overflowX=d.overflow[1];v.overflowY=d.overflow[2]}));for(g in a)if(e=a[g],qd.exec(e)){if(delete a[g],c=c||"toggle"===e,e===(r?"hide":"show")){if("show"!==e||!s||void 0===s[g])continue;r=!0}k[g]=s&&s[g]||p.style(b,g)}else m=void 0;if(p.isEmptyObject(k))"inline"===("none"===m?B(b.nodeName):m)&&(v.display=m);else for(g in s?"hidden"in s&&(r=s.hidden):s=F.access(b,"fxshow",{}),c&&(s.hidden=!r),r?p(b).show():q.done(function(){p(b).hide()}),q.done(function(){var a;F.remove(b,"fxshow");for(a in k)p.style(b,
a,k[a])}),k)a=oa(r?s[g]:0,g,q),g in s||(s[g]=a.start,r&&(a.end=a.start,a.start="width"===g||"height"===g?1:0))}],Kb={"*":[function(b,a){var d=this.createTween(b,a),g=d.cur(),e=rd.exec(a),c=e&&e[3]||(p.cssNumber[b]?"":"px"),h=(p.cssNumber[b]||"px"!==c&&+g)&&rd.exec(p.css(d.elem,b)),l=1,m=20;if(h&&h[3]!==c){c=c||h[3];e=e||[];h=+g||1;do l=l||".5",h/=l,p.style(d.elem,b,h+c);while(l!==(l=d.cur()/g)&&1!==l&&--m)}return e&&(h=d.start=+h||+g||0,d.unit=c,d.end=e[1]?h+(e[1]+1)*e[2]:+e[2]),d}]};p.Animation=
p.extend(sa,{tweener:function(b,a){p.isFunction(b)?(a=b,b=["*"]):b=b.split(" ");for(var d,g=0,e=b.length;e>g;g++)d=b[g],Kb[d]=Kb[d]||[],Kb[d].unshift(a)},prefilter:function(b,a){a?ec.unshift(b):ec.push(b)}});p.speed=function(b,a,d){var g=b&&"object"==typeof b?p.extend({},b):{complete:d||!d&&a||p.isFunction(b)&&b,duration:b,easing:d&&a||a&&!p.isFunction(a)&&a};return g.duration=p.fx.off?0:"number"==typeof g.duration?g.duration:g.duration in p.fx.speeds?p.fx.speeds[g.duration]:p.fx.speeds._default,
(null==g.queue||!0===g.queue)&&(g.queue="fx"),g.old=g.complete,g.complete=function(){p.isFunction(g.old)&&g.old.call(this);g.queue&&p.dequeue(this,g.queue)},g};p.fn.extend({fadeTo:function(b,a,d,g){return this.filter(Za).css("opacity",0).show().end().animate({opacity:a},b,d,g)},animate:function(b,a,d,g){var e=p.isEmptyObject(b),c=p.speed(a,d,g);a=function(){var a=sa(this,p.extend({},b),c);(e||F.get(this,"finish"))&&a.stop(!0)};return a.finish=a,e||!1===c.queue?this.each(a):this.queue(c.queue,a)},
stop:function(b,a,d){var g=function(b){var a=b.stop;delete b.stop;a(d)};return"string"!=typeof b&&(d=a,a=b,b=void 0),a&&!1!==b&&this.queue(b||"fx",[]),this.each(function(){var a=!0,e=null!=b&&b+"queueHooks",c=p.timers,h=F.get(this);if(e)h[e]&&h[e].stop&&g(h[e]);else for(e in h)h[e]&&h[e].stop&&ve.test(e)&&g(h[e]);for(e=c.length;e--;)c[e].elem!==this||null!=b&&c[e].queue!==b||(c[e].anim.stop(d),a=!1,c.splice(e,1));!a&&d||p.dequeue(this,b)})},finish:function(b){return!1!==b&&(b=b||"fx"),this.each(function(){var a,
d=F.get(this),g=d[b+"queue"];a=d[b+"queueHooks"];var e=p.timers,c=g?g.length:0;d.finish=!0;p.queue(this,b,[]);a&&a.stop&&a.stop.call(this,!0);for(a=e.length;a--;)e[a].elem===this&&e[a].queue===b&&(e[a].anim.stop(!0),e.splice(a,1));for(a=0;c>a;a++)g[a]&&g[a].finish&&g[a].finish.call(this);delete d.finish})}});p.each(["toggle","show","hide"],function(b,a){var d=p.fn[a];p.fn[a]=function(b,g,e){return null==b||"boolean"==typeof b?d.apply(this,arguments):this.animate(fa(a,!0),b,g,e)}});p.each({slideDown:fa("show"),
slideUp:fa("hide"),slideToggle:fa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,a){p.fn[b]=function(b,d,g){return this.animate(a,b,d,g)}});p.timers=[];p.fx.tick=function(){var b,a=0,d=p.timers;for($a=p.now();a<d.length;a++)b=d[a],b()||d[a]!==b||d.splice(a--,1);d.length||p.fx.stop();$a=void 0};p.fx.timer=function(b){p.timers.push(b);b()?p.fx.start():p.timers.pop()};p.fx.interval=13;p.fx.start=function(){mc||(mc=setInterval(p.fx.tick,p.fx.interval))};
p.fx.stop=function(){clearInterval(mc);mc=null};p.fx.speeds={slow:600,fast:200,_default:400};p.fn.delay=function(b,a){return b=p.fx?p.fx.speeds[b]||b:b,a=a||"fx",this.queue(a,function(a,d){var g=setTimeout(a,b);d.stop=function(){clearTimeout(g)}})};(function(){var b=M.createElement("input"),a=M.createElement("select"),d=a.appendChild(M.createElement("option"));b.type="checkbox";T.checkOn=""!==b.value;T.optSelected=d.selected;a.disabled=!0;T.optDisabled=!d.disabled;b=M.createElement("input");b.value=
"t";b.type="radio";T.radioValue="t"===b.value})();var sd,Pb=p.expr.attrHandle;p.fn.extend({attr:function(b,a){return ra(this,p.attr,b,a,1<arguments.length)},removeAttr:function(b){return this.each(function(){p.removeAttr(this,b)})}});p.extend({attr:function(b,a,d){var g,e,c=b.nodeType;if(b&&3!==c&&8!==c&&2!==c)return"undefined"===typeof b.getAttribute?p.prop(b,a,d):(1===c&&p.isXMLDoc(b)||(a=a.toLowerCase(),g=p.attrHooks[a]||(p.expr.match.bool.test(a)?sd:void 0)),void 0===d?g&&"get"in g&&null!==(e=
g.get(b,a))?e:(e=p.find.attr(b,a),null==e?void 0:e):null!==d?g&&"set"in g&&void 0!==(e=g.set(b,d,a))?e:(b.setAttribute(a,d+""),d):void p.removeAttr(b,a))},removeAttr:function(b,a){var d,g,e=0,c=a&&a.match(na);if(c&&1===b.nodeType)for(;d=c[e++];)g=p.propFix[d]||d,p.expr.match.bool.test(d)&&(b[g]=!1),b.removeAttribute(d)},attrHooks:{type:{set:function(b,a){if(!T.radioValue&&"radio"===a&&p.nodeName(b,"input")){var d=b.value;return b.setAttribute("type",a),d&&(b.value=d),a}}}}});sd={set:function(b,a,
d){return!1===a?p.removeAttr(b,d):b.setAttribute(d,d),d}};p.each(p.expr.match.bool.source.match(/\w+/g),function(b,a){var d=Pb[a]||p.find.attr;Pb[a]=function(b,a,g){var e,c;return g||(c=Pb[a],Pb[a]=e,e=null!=d(b,a,g)?a.toLowerCase():null,Pb[a]=c),e}});var Nc=/^(?:input|select|textarea|button)$/i;p.fn.extend({prop:function(b,a){return ra(this,p.prop,b,a,1<arguments.length)},removeProp:function(b){return this.each(function(){delete this[p.propFix[b]||b]})}});p.extend({propFix:{"for":"htmlFor","class":"className"},
prop:function(b,a,d){var g,e,c,h=b.nodeType;if(b&&3!==h&&8!==h&&2!==h)return c=1!==h||!p.isXMLDoc(b),c&&(a=p.propFix[a]||a,e=p.propHooks[a]),void 0!==d?e&&"set"in e&&void 0!==(g=e.set(b,d,a))?g:b[a]=d:e&&"get"in e&&null!==(g=e.get(b,a))?g:b[a]},propHooks:{tabIndex:{get:function(b){return b.hasAttribute("tabindex")||Nc.test(b.nodeName)||b.href?b.tabIndex:-1}}}});T.optSelected||(p.propHooks.selected={get:function(b){b=b.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}});p.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){p.propFix[this.toLowerCase()]=this});var nc=/[\t\r\n\f]/g;p.fn.extend({addClass:function(b){var a,d,g,e,c;a="string"==typeof b&&b;var h=0,l=this.length;if(p.isFunction(b))return this.each(function(a){p(this).addClass(b.call(this,a,this.className))});if(a)for(a=(b||"").match(na)||[];l>h;h++)if(d=this[h],g=1===d.nodeType&&(d.className?(" "+d.className+" ").replace(nc," "):" ")){for(c=0;e=a[c++];)0>g.indexOf(" "+e+" ")&&(g+=e+" ");g=p.trim(g);d.className!==g&&(d.className=g)}return this},
removeClass:function(b){var a,d,g,e,c;a=0===arguments.length||"string"==typeof b&&b;var h=0,l=this.length;if(p.isFunction(b))return this.each(function(a){p(this).removeClass(b.call(this,a,this.className))});if(a)for(a=(b||"").match(na)||[];l>h;h++)if(d=this[h],g=1===d.nodeType&&(d.className?(" "+d.className+" ").replace(nc," "):"")){for(c=0;e=a[c++];)for(;0<=g.indexOf(" "+e+" ");)g=g.replace(" "+e+" "," ");g=b?p.trim(g):"";d.className!==g&&(d.className=g)}return this},toggleClass:function(b,a){var d=
typeof b;return"boolean"==typeof a&&"string"===d?a?this.addClass(b):this.removeClass(b):this.each(p.isFunction(b)?function(d){p(this).toggleClass(b.call(this,d,this.className,a),a)}:function(){if("string"===d)for(var a,g=0,e=p(this),c=b.match(na)||[];a=c[g++];)e.hasClass(a)?e.removeClass(a):e.addClass(a);else("undefined"===d||"boolean"===d)&&(this.className&&F.set(this,"__className__",this.className),this.className=this.className||!1===b?"":F.get(this,"__className__")||"")})},hasClass:function(b){b=
" "+b+" ";for(var a=0,d=this.length;d>a;a++)if(1===this[a].nodeType&&0<=(" "+this[a].className+" ").replace(nc," ").indexOf(b))return!0;return!1}});var oc=/\r/g;p.fn.extend({val:function(b){var a,d,g,e=this[0];if(arguments.length)return g=p.isFunction(b),this.each(function(d){var e;1===this.nodeType&&(e=g?b.call(this,d,p(this).val()):b,null==e?e="":"number"==typeof e?e+="":p.isArray(e)&&(e=p.map(e,function(b){return null==b?"":b+""})),a=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],
a&&"set"in a&&void 0!==a.set(this,e,"value")||(this.value=e))});if(e)return a=p.valHooks[e.type]||p.valHooks[e.nodeName.toLowerCase()],a&&"get"in a&&void 0!==(d=a.get(e,"value"))?d:(d=e.value,"string"==typeof d?d.replace(oc,""):null==d?"":d)}});p.extend({valHooks:{option:{get:function(b){var a=p.find.attr(b,"value");return null!=a?a:p.trim(p.text(b))}},select:{get:function(b){for(var a,d=b.options,g=b.selectedIndex,e="select-one"===b.type||0>g,c=e?null:[],h=e?g+1:d.length,l=0>g?h:e?g:0;h>l;l++)if(a=
d[l],!(!a.selected&&l!==g||(T.optDisabled?a.disabled:null!==a.getAttribute("disabled"))||a.parentNode.disabled&&p.nodeName(a.parentNode,"optgroup"))){if(b=p(a).val(),e)return b;c.push(b)}return c},set:function(b,a){for(var d,g,e=b.options,c=p.makeArray(a),h=e.length;h--;)g=e[h],(g.selected=0<=p.inArray(g.value,c))&&(d=!0);return d||(b.selectedIndex=-1),c}}}});p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(b,a){return p.isArray(a)?b.checked=0<=p.inArray(p(b).val(),a):void 0}};
T.checkOn||(p.valHooks[this].get=function(b){return null===b.getAttribute("value")?"on":b.value})});p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(b,a){p.fn[a]=function(b,d){return 0<arguments.length?this.on(a,null,b,d):this.trigger(a)}});p.fn.extend({hover:function(b,a){return this.mouseenter(b).mouseleave(a||b)},bind:function(b,
a,d){return this.on(b,null,a,d)},unbind:function(b,a){return this.off(b,null,a)},delegate:function(b,a,d,g){return this.on(a,b,d,g)},undelegate:function(b,a,d){return 1===arguments.length?this.off(b,"**"):this.off(a,b||"**",d)}});var Qb=p.now(),pc=/\?/;p.parseJSON=function(b){return JSON.parse(b+"")};p.parseXML=function(b){var a,d;if(!b||"string"!=typeof b)return null;try{d=new DOMParser,a=d.parseFromString(b,"text/xml")}catch(g){a=void 0}return(!a||a.getElementsByTagName("parsererror").length)&&
p.error("Invalid XML: "+b),a};var fb,ya,qc=/#.*$/,gb=/([?&])_=[^&]*/,Oc=/^(.*?):[ \t]*([^\r\n]*)$/gm,rc=/^(?:GET|HEAD)$/,sc=/^\/\//,Rb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Sb={},Lb={},yb="*/".concat("*");try{ya=location.href}catch(we){ya=M.createElement("a"),ya.href="",ya=ya.href}fb=Rb.exec(ya.toLowerCase())||[];p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ya,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(fb[1]),global:!0,
processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":yb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(b,a){return a?H(H(b,p.ajaxSettings),
a):H(p.ajaxSettings,b)},ajaxPrefilter:Ga(Sb),ajaxTransport:Ga(Lb),ajax:function(b,a){function d(b,a,h,m){var q,x,y,A,aa=a;if(2!==B){B=2;l&&clearTimeout(l);g=void 0;c=m||"";z.readyState=0<b?4:0;m=200<=b&&300>b||304===b;if(h){y=k;for(var Y=z,Ja,N,ea,ha,O=y.contents,W=y.dataTypes;"*"===W[0];)W.shift(),void 0===Ja&&(Ja=y.mimeType||Y.getResponseHeader("Content-Type"));if(Ja)for(N in O)if(O[N]&&O[N].test(Ja)){W.unshift(N);break}if(W[0]in h)ea=W[0];else{for(N in h){if(!W[0]||y.converters[N+" "+W[0]]){ea=
N;break}ha||(ha=N)}ea=ea||ha}y=ea?(ea!==W[0]&&W.unshift(ea),h[ea]):void 0}var P;a:{h=k;Ja=y;N=z;ea=m;var ba,F,H;y={};Y=h.dataTypes.slice();if(Y[1])for(ba in h.converters)y[ba.toLowerCase()]=h.converters[ba];for(ha=Y.shift();ha;)if(h.responseFields[ha]&&(N[h.responseFields[ha]]=Ja),!H&&ea&&h.dataFilter&&(Ja=h.dataFilter(Ja,h.dataType)),H=ha,ha=Y.shift())if("*"===ha)ha=H;else if("*"!==H&&H!==ha){if(ba=y[H+" "+ha]||y["* "+ha],!ba)for(P in y)if(F=P.split(" "),F[1]===ha&&(ba=y[H+" "+F[0]]||y["* "+F[0]])){!0===
ba?ba=y[P]:!0!==y[P]&&(ha=F[0],Y.unshift(F[1]));break}if(!0!==ba)if(ba&&h["throws"])Ja=ba(Ja);else try{Ja=ba(Ja)}catch(fa){P={state:"parsererror",error:ba?fa:"No conversion from "+H+" to "+ha};break a}}P={state:"success",data:Ja}}y=P;m?(k.ifModified&&(A=z.getResponseHeader("Last-Modified"),A&&(p.lastModified[e]=A),A=z.getResponseHeader("etag"),A&&(p.etag[e]=A)),204===b||"HEAD"===k.type?aa="nocontent":304===b?aa="notmodified":(aa=y.state,q=y.data,x=y.error,m=!x)):(x=aa,(b||!aa)&&(aa="error",0>b&&(b=
0)));z.status=b;z.statusText=(a||aa)+"";m?s.resolveWith(v,[q,aa,z]):s.rejectWith(v,[z,aa,x]);z.statusCode(w);w=void 0;f&&r.trigger(m?"ajaxSuccess":"ajaxError",[z,k,m?q:x]);u.fireWith(v,[z,aa]);f&&(r.trigger("ajaxComplete",[z,k]),--p.active||p.event.trigger("ajaxStop"))}}"object"==typeof b&&(a=b,b=void 0);a=a||{};var g,e,c,h,l,m,f,q,k=p.ajaxSetup({},a),v=k.context||k,r=k.context&&(v.nodeType||v.jquery)?p(v):p.event,s=p.Deferred(),u=p.Callbacks("once memory"),w=k.statusCode||{},x={},y={},B=0,A="canceled",
z={readyState:0,getResponseHeader:function(b){var a;if(2===B){if(!h)for(h={};a=Oc.exec(c);)h[a[1].toLowerCase()]=a[2];a=h[b.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return 2===B?c:null},setRequestHeader:function(b,a){var d=b.toLowerCase();return B||(b=y[d]=y[d]||b,x[b]=a),this},overrideMimeType:function(b){return B||(k.mimeType=b),this},statusCode:function(b){var a;if(b)if(2>B)for(a in b)w[a]=[w[a],b[a]];else z.always(b[z.status]);return this},abort:function(b){b=b||
A;return g&&g.abort(b),d(0,b),this}};if(s.promise(z).complete=u.add,z.success=z.done,z.error=z.fail,k.url=((b||k.url||ya)+"").replace(qc,"").replace(sc,fb[1]+"//"),k.type=a.method||a.type||k.method||k.type,k.dataTypes=p.trim(k.dataType||"*").toLowerCase().match(na)||[""],null==k.crossDomain&&(m=Rb.exec(k.url.toLowerCase()),k.crossDomain=!(!m||m[1]===fb[1]&&m[2]===fb[2]&&(m[3]||("http:"===m[1]?"80":"443"))===(fb[3]||("http:"===fb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=
p.param(k.data,k.traditional)),Da(Sb,k,a,z),2===B)return z;(f=k.global)&&0===p.active++&&p.event.trigger("ajaxStart");k.type=k.type.toUpperCase();k.hasContent=!rc.test(k.type);e=k.url;k.hasContent||(k.data&&(e=k.url+=(pc.test(e)?"&":"?")+k.data,delete k.data),!1===k.cache&&(k.url=gb.test(e)?e.replace(gb,"$1_="+Qb++):e+(pc.test(e)?"&":"?")+"_="+Qb++));k.ifModified&&(p.lastModified[e]&&z.setRequestHeader("If-Modified-Since",p.lastModified[e]),p.etag[e]&&z.setRequestHeader("If-None-Match",p.etag[e]));
(k.data&&k.hasContent&&!1!==k.contentType||a.contentType)&&z.setRequestHeader("Content-Type",k.contentType);z.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+yb+"; q=0.01":""):k.accepts["*"]);for(q in k.headers)z.setRequestHeader(q,k.headers[q]);if(k.beforeSend&&(!1===k.beforeSend.call(v,z,k)||2===B))return z.abort();A="abort";for(q in{success:1,error:1,complete:1})z[q](k[q]);if(g=Da(Lb,k,a,z)){z.readyState=1;f&&r.trigger("ajaxSend",
[z,k]);k.async&&0<k.timeout&&(l=setTimeout(function(){z.abort("timeout")},k.timeout));try{B=1,g.send(x,d)}catch(Y){if(!(2>B))throw Y;d(-1,Y)}}else d(-1,"No Transport");return z},getJSON:function(b,a,d){return p.get(b,a,d,"json")},getScript:function(b,a){return p.get(b,void 0,a,"script")}});p.each(["get","post"],function(b,a){p[a]=function(b,d,g,e){return p.isFunction(d)&&(e=e||g,g=d,d=void 0),p.ajax({url:b,type:a,dataType:e,data:d,success:g})}});p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(b,a){p.fn[a]=function(b){return this.on(a,b)}});p._evalUrl=function(b){return p.ajax({url:b,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};p.fn.extend({wrapAll:function(b){var a;return p.isFunction(b)?this.each(function(a){p(this).wrapAll(b.call(this,a))}):(this[0]&&(a=p(b,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&a.insertBefore(this[0]),a.map(function(){for(var b=this;b.firstElementChild;)b=b.firstElementChild;return b}).append(this)),this)},wrapInner:function(b){return this.each(p.isFunction(b)?
function(a){p(this).wrapInner(b.call(this,a))}:function(){var a=p(this),d=a.contents();d.length?d.wrapAll(b):a.append(b)})},wrap:function(b){var a=p.isFunction(b);return this.each(function(d){p(this).wrapAll(a?b.call(this,d):b)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()}});p.expr.filters.hidden=function(b){return 0>=b.offsetWidth&&0>=b.offsetHeight};p.expr.filters.visible=function(b){return!p.expr.filters.hidden(b)};
var td=/%20/g,fe=/\[\]$/,hb=/\r?\n/g,ud=/^(?:submit|button|image|reset|file)$/i,vd=/^(?:input|select|textarea|keygen)/i;p.param=function(b,a){var d,g=[],e=function(b,a){a=p.isFunction(a)?a():null==a?"":a;g[g.length]=encodeURIComponent(b)+"="+encodeURIComponent(a)};if(void 0===a&&(a=p.ajaxSettings&&p.ajaxSettings.traditional),p.isArray(b)||b.jquery&&!p.isPlainObject(b))p.each(b,function(){e(this.name,this.value)});else for(d in b)ja(d,b[d],a,e);return g.join("&").replace(td,"+")};p.fn.extend({serialize:function(){return p.param(this.serializeArray())},
serializeArray:function(){return this.map(function(){var b=p.prop(this,"elements");return b?p.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!p(this).is(":disabled")&&vd.test(this.nodeName)&&!ud.test(b)&&(this.checked||!X.test(b))}).map(function(b,a){var d=p(this).val();return null==d?null:p.isArray(d)?p.map(d,function(b){return{name:a.name,value:b.replace(hb,"\r\n")}}):{name:a.name,value:d.replace(hb,"\r\n")}}).get()}});p.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(b){}};
var tc=0,Tb={},xe={0:200,1223:204},zb=p.ajaxSettings.xhr();a.ActiveXObject&&p(a).on("unload",function(){for(var b in Tb)Tb[b]()});T.cors=!!zb&&"withCredentials"in zb;T.ajax=zb=!!zb;p.ajaxTransport(function(b){var a;return T.cors||zb&&!b.crossDomain?{send:function(d,g){var e,c=b.xhr(),h=++tc;if(c.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(e in b.xhrFields)c[e]=b.xhrFields[e];b.mimeType&&c.overrideMimeType&&c.overrideMimeType(b.mimeType);b.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]=
"XMLHttpRequest");for(e in d)c.setRequestHeader(e,d[e]);a=function(b){return function(){a&&(delete Tb[h],a=c.onload=c.onerror=null,"abort"===b?c.abort():"error"===b?g(c.status,c.statusText):g(xe[c.status]||c.status,c.statusText,"string"==typeof c.responseText?{text:c.responseText}:void 0,c.getAllResponseHeaders()))}};c.onload=a();c.onerror=a("error");a=Tb[h]=a("abort");try{c.send(b.hasContent&&b.data||null)}catch(l){if(a)throw l;}},abort:function(){a&&a()}}:void 0});p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(b){return p.globalEval(b),b}}});p.ajaxPrefilter("script",function(b){void 0===b.cache&&(b.cache=!1);b.crossDomain&&(b.type="GET")});p.ajaxTransport("script",function(b){if(b.crossDomain){var a,d;return{send:function(g,e){a=p("<script>").prop({async:!0,charset:b.scriptCharset,src:b.url}).on("load error",d=function(b){a.remove();d=null;b&&e("error"===b.type?404:200,b.type)});M.head.appendChild(a[0])},abort:function(){d&&d()}}}});
var wd=[],Pc=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=wd.pop()||p.expando+"_"+Qb++;return this[b]=!0,b}});p.ajaxPrefilter("json jsonp",function(b,d,g){var e,c,h,l=!1!==b.jsonp&&(Pc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pc.test(b.data)&&"data");return l||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=p.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,l?b[l]=b[l].replace(Pc,"$1"+
e):!1!==b.jsonp&&(b.url+=(pc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return h||p.error(e+" was not called"),h[0]},b.dataTypes[0]="json",c=a[e],a[e]=function(){h=arguments},g.always(function(){a[e]=c;b[e]&&(b.jsonpCallback=d.jsonpCallback,wd.push(e));h&&p.isFunction(c)&&c(h[0]);h=c=void 0}),"script"):void 0});p.parseHTML=function(b,a,d){if(!b||"string"!=typeof b)return null;"boolean"==typeof a&&(d=a,a=!1);a=a||M;var g=kc.exec(b);d=!d&&[];return g?[a.createElement(g[1])]:
(g=p.buildFragment([b],a,d),d&&d.length&&p(d).remove(),p.merge([],g.childNodes))};var Qc=p.fn.load;p.fn.load=function(b,a,d){if("string"!=typeof b&&Qc)return Qc.apply(this,arguments);var g,e,c,h=this,l=b.indexOf(" ");return 0<=l&&(g=p.trim(b.slice(l)),b=b.slice(0,l)),p.isFunction(a)?(d=a,a=void 0):a&&"object"==typeof a&&(e="POST"),0<h.length&&p.ajax({url:b,type:e,dataType:"html",data:a}).done(function(b){c=arguments;h.html(g?p("<div>").append(p.parseHTML(b)).find(g):b)}).complete(d&&function(b,a){h.each(d,
c||[b.responseText,a,b])}),this};p.expr.filters.animated=function(b){return p.grep(p.timers,function(a){return b===a.elem}).length};var Rc=a.document.documentElement;p.offset={setOffset:function(b,a,d){var g,e,c,h,l,m,f=p.css(b,"position"),q=p(b),k={};"static"===f&&(b.style.position="relative");l=q.offset();c=p.css(b,"top");m=p.css(b,"left");("absolute"===f||"fixed"===f)&&-1<(c+m).indexOf("auto")?(g=q.position(),h=g.top,e=g.left):(h=parseFloat(c)||0,e=parseFloat(m)||0);p.isFunction(a)&&(a=a.call(b,
d,l));null!=a.top&&(k.top=a.top-l.top+h);null!=a.left&&(k.left=a.left-l.left+e);"using"in a?a.using.call(b,k):q.css(k)}};p.fn.extend({offset:function(b){if(arguments.length)return void 0===b?this:this.each(function(a){p.offset.setOffset(this,b,a)});var a,d,g=this[0],e={top:0,left:0},c=g&&g.ownerDocument;if(c)return a=c.documentElement,p.contains(a,g)?("undefined"!==typeof g.getBoundingClientRect&&(e=g.getBoundingClientRect()),d=Q(c),{top:e.top+d.pageYOffset-a.clientTop,left:e.left+d.pageXOffset-a.clientLeft}):
e},position:function(){if(this[0]){var b,a,d=this[0],g={top:0,left:0};return"fixed"===p.css(d,"position")?a=d.getBoundingClientRect():(b=this.offsetParent(),a=this.offset(),p.nodeName(b[0],"html")||(g=b.offset()),g.top+=p.css(b[0],"borderTopWidth",!0),g.left+=p.css(b[0],"borderLeftWidth",!0)),{top:a.top-g.top-p.css(d,"marginTop",!0),left:a.left-g.left-p.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent||Rc;b&&!p.nodeName(b,"html")&&"static"===
p.css(b,"position");)b=b.offsetParent;return b||Rc})}});p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,d){var g="pageYOffset"===d;p.fn[b]=function(e){return ra(this,function(b,e,c){var h=Q(b);return void 0===c?h?h[d]:b[e]:void(h?h.scrollTo(g?a.pageXOffset:c,g?c:a.pageYOffset):b[e]=c)},b,e,arguments.length,null)}});p.each(["top","left"],function(b,a){p.cssHooks[a]=z(T.pixelPosition,function(b,d){return d?(d=A(b,a),qb.test(d)?p(b).position()[a]+"px":d):void 0})});p.each({Height:"height",
Width:"width"},function(b,a){p.each({padding:"inner"+b,content:a,"":"outer"+b},function(d,g){p.fn[g]=function(g,e){var c=arguments.length&&(d||"boolean"!=typeof g),h=d||(!0===g||!0===e?"margin":"border");return ra(this,function(a,d,g){var e;return p.isWindow(a)?a.document.documentElement["client"+b]:9===a.nodeType?(e=a.documentElement,Math.max(a.body["scroll"+b],e["scroll"+b],a.body["offset"+b],e["offset"+b],e["client"+b])):void 0===g?p.css(a,d,h):p.style(a,d,g,h)},a,c?g:void 0,c,null)}})});p.fn.size=
function(){return this.length};p.fn.andSelf=p.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return p});var xd=a.jQuery,Sc=a.$;return p.noConflict=function(b){return a.$===p&&(a.$=Sc),b&&a.jQuery===p&&(a.jQuery=xd),p},"undefined"===typeof k&&(a.jQuery=a.$=p),p});
(function(a,k){function c(b,d){var g,e;g=b.nodeName.toLowerCase();if("area"===g){g=b.parentNode;e=g.name;if(!b.href||!e||"map"!==g.nodeName.toLowerCase())return!1;g=a("img[usemap=#"+e+"]")[0];return!!g&&f(g)}return(/input|select|textarea|button|object/.test(g)?!b.disabled:"a"===g?b.href||d:d)&&f(b)}function f(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,h=/^ui-id-\d+$/;a.ui=a.ui||{};a.extend(a.ui,{version:"1.10.4",
keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});a.fn.extend({focus:function(b){return function(d,g){return"number"===typeof d?this.each(function(){var b=this;setTimeout(function(){a(b).focus();g&&g.call(b)},d)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;b=
a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?a(document):
b},zIndex:function(b){if(b!==k)return this.css("zIndex",b);if(this.length){b=a(this[0]);for(var d;b.length&&b[0]!==document;){d=b.css("position");if("absolute"===d||"relative"===d||"fixed"===d)if(d=parseInt(b.css("zIndex"),10),!isNaN(d)&&0!==d)return d;b=b.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){h.test(this.id)&&a(this).removeAttr("id")})}});a.extend(a.expr[":"],{data:a.expr.createPseudo?
a.expr.createPseudo(function(b){return function(d){return!!a.data(d,b)}}):function(b,d,g){return!!a.data(b,g[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),g=isNaN(d);return(g||0<=d)&&c(b,!g)}});a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,d){function g(b,d,g,c){a.each(e,function(){d-=parseFloat(a.css(b,"padding"+this))||0;g&&(d-=parseFloat(a.css(b,"border"+this+"Width"))||0);c&&(d-=parseFloat(a.css(b,"margin"+
this))||0)});return d}var e="Width"===d?["Left","Right"]:["Top","Bottom"],c=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(b){return b===k?h["inner"+d].call(this):this.each(function(){a(this).css(c,g(this,b)+"px")})};a.fn["outer"+d]=function(b,e){return"number"!==typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(c,g(this,b,!0,e)+"px")})}});a.fn.addBack||(a.fn.addBack=function(b){return this.add(null==
b?this.prevObject:this.prevObject.filter(b))});a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(d){return arguments.length?b.call(this,a.camelCase(d)):b.call(this)}}(a.fn.removeData));a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());a.support.selectstart="onselectstart"in document.createElement("div");a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",
function(b){b.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});a.extend(a.ui,{plugin:{add:function(b,d,g){var e;b=a.ui[b].prototype;for(e in g)b.plugins[e]=b.plugins[e]||[],b.plugins[e].push([d,g[e]])},call:function(b,a,g){var e=b.plugins[a];if(e&&b.element[0].parentNode&&11!==b.element[0].parentNode.nodeType)for(a=0;a<e.length;a++)b.options[e[a][0]]&&e[a][1].apply(b.element,g)}},hasScroll:function(b,d){if("hidden"===a(b).css("overflow"))return!1;var g=
d&&"left"===d?"scrollLeft":"scrollTop",e=!1;if(0<b[g])return!0;b[g]=1;e=0<b[g];b[g]=0;return e}})})(jQuery);
(function(a,k){var c=0,f=Array.prototype.slice,e=a.cleanData;a.cleanData=function(c){for(var b=0,d;null!=(d=c[b]);b++)try{a(d).triggerHandler("remove")}catch(g){}e(c)};a.widget=function(e,b,d){var g,c,m,f,q={},k=e.split(".")[0];e=e.split(".")[1];g=k+"-"+e;d||(d=b,b=a.Widget);a.expr[":"][g.toLowerCase()]=function(b){return!!a.data(b,g)};a[k]=a[k]||{};c=a[k][e];m=a[k][e]=function(b,a){if(!this._createWidget)return new m(b,a);arguments.length&&this._createWidget(b,a)};a.extend(m,c,{version:d.version,
_proto:a.extend({},d),_childConstructors:[]});f=new b;f.options=a.widget.extend({},f.options);a.each(d,function(d,g){a.isFunction(g)?q[d]=function(){var a=function(){return b.prototype[d].apply(this,arguments)},e=function(a){return b.prototype[d].apply(this,a)};return function(){var b=this._super,d=this._superApply,c;this._super=a;this._superApply=e;c=g.apply(this,arguments);this._super=b;this._superApply=d;return c}}():q[d]=g});m.prototype=a.widget.extend(f,{widgetEventPrefix:c?f.widgetEventPrefix||
e:e},q,{constructor:m,namespace:k,widgetName:e,widgetFullName:g});c?(a.each(c._childConstructors,function(b,d){var g=d.prototype;a.widget(g.namespace+"."+g.widgetName,m,d._proto)}),delete c._childConstructors):b._childConstructors.push(m);a.widget.bridge(e,m)};a.widget.extend=function(e){for(var b=f.call(arguments,1),d=0,g=b.length,c,m;d<g;d++)for(c in b[d])m=b[d][c],b[d].hasOwnProperty(c)&&m!==k&&(a.isPlainObject(m)?e[c]=a.isPlainObject(e[c])?a.widget.extend({},e[c],m):a.widget.extend({},m):e[c]=
m);return e};a.widget.bridge=function(e,b){var d=b.prototype.widgetFullName||e;a.fn[e]=function(g){var c="string"===typeof g,m=f.call(arguments,1),v=this;g=!c&&m.length?a.widget.extend.apply(null,[g].concat(m)):g;c?this.each(function(){var b,c=a.data(this,d);if(!c)return a.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+g+"'");if(!a.isFunction(c[g])||"_"===g.charAt(0))return a.error("no such method '"+g+"' for "+e+" widget instance");b=c[g].apply(c,m);if(b!==
c&&b!==k)return v=b&&b.jquery?v.pushStack(b.get()):b,!1}):this.each(function(){var e=a.data(this,d);e?e.option(g||{})._init():a.data(this,d,new b(g,this))});return v}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,b){b=a(b||this.defaultElement||this)[0];this.element=a(b);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},
this.options,this._getCreateOptions(),e);this.bindings=a();this.hoverable=a();this.focusable=a();b!==this&&(a.data(b,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===b&&this.destroy()}}),this.document=a(b.style?b.ownerDocument:b.document||b),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,
_init:a.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},
option:function(e,b){var d=e,g,c,m;if(0===arguments.length)return a.widget.extend({},this.options);if("string"===typeof e)if(d={},g=e.split("."),e=g.shift(),g.length){c=d[e]=a.widget.extend({},this.options[e]);for(m=0;m<g.length-1;m++)c[g[m]]=c[g[m]]||{},c=c[g[m]];e=g.pop();if(1===arguments.length)return c[e]===k?null:c[e];c[e]=b}else{if(1===arguments.length)return this.options[e]===k?null:this.options[e];d[e]=b}this._setOptions(d);return this},_setOptions:function(a){for(var b in a)this._setOption(b,
a[b]);return this},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,b,d){var g,c=this;"boolean"!==typeof e&&(d=b,b=e,e=!1);d?(b=g=a(b),this.bindings=this.bindings.add(b)):
(d=b,b=this.element,g=this.widget());a.each(d,function(d,f){function q(){if(e||!0!==c.options.disabled&&!a(this).hasClass("ui-state-disabled"))return("string"===typeof f?c[f]:f).apply(c,arguments)}"string"!==typeof f&&(q.guid=f.guid=f.guid||q.guid||a.guid++);var k=d.match(/^(\w+)\s*(.*)$/),s=k[1]+c.eventNamespace;(k=k[2])?g.delegate(k,s,q):b.bind(s,q)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var d=
this;return setTimeout(function(){return("string"===typeof a?d[a]:a).apply(d,arguments)},b||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e);this._on(e,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e);this._on(e,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},
_trigger:function(e,b,d){var g,c=this.options[e];d=d||{};b=a.Event(b);b.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase();b.target=this.element[0];if(e=b.originalEvent)for(g in e)g in b||(b[g]=e[g]);this.element.trigger(b,d);return!(a.isFunction(c)&&!1===c.apply(this.element[0],[b].concat(d))||b.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(e,b){a.Widget.prototype["_"+e]=function(d,g,c){"string"===typeof g&&(g={effect:g});var m,f=g?!0===g||"number"===
typeof g?b:g.effect||b:e;g=g||{};"number"===typeof g&&(g={duration:g});m=!a.isEmptyObject(g);g.complete=c;g.delay&&d.delay(g.delay);if(m&&a.effects&&a.effects.effect[f])d[e](g);else if(f!==e&&d[f])d[f](g.duration,g.easing,c);else d.queue(function(b){a(this)[e]();c&&c.call(d[0]);b()})}})})(jQuery);
(function(a,k){var c=!1;a(document).mouseup(function(){c=!1});a.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(a){return c._mouseDown(a)}).bind("click."+this.widgetName,function(e){if(!0===a.data(e.target,c.widgetName+".preventClickEvent"))return a.removeData(e.target,c.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(f){if(!c){this._mouseStarted&&this._mouseUp(f);this._mouseDownEvent=f;var e=this,h=1===f.which,b="string"===typeof this.options.cancel&&f.target.nodeName?a(f.target).closest(this.options.cancel).length:!1;if(!h||b||!this._mouseCapture(f))return!0;(this.mouseDelayMet=
!this.options.delay)||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)&&(this._mouseStarted=!1!==this._mouseStart(f),!this._mouseStarted))return f.preventDefault(),!0;!0===a.data(f.target,this.widgetName+".preventClickEvent")&&a.removeData(f.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(b){return e._mouseMove(b)};this._mouseUpDelegate=function(b){return e._mouseUp(b)};a(document).bind("mousemove."+
this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);f.preventDefault();return c=!0}},_mouseMove:function(c){if(a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button)return this._mouseUp(c);if(this._mouseStarted)return this._mouseDrag(c),c.preventDefault();this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,c))?this._mouseDrag(c):this._mouseUp(c));return!this._mouseStarted},_mouseUp:function(c){a(document).unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&a.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},
_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(a,k){function c(b,a,d){return[parseFloat(b[0])*(q.test(b[0])?a/100:1),parseFloat(b[1])*(q.test(b[1])?d/100:1)]}function f(b){var d=b[0];return 9===d.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(d)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:d.preventDefault?{width:0,height:0,offset:{top:d.pageY,left:d.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var e,h=Math.max,b=Math.abs,d=
Math.round,g=/left|center|right/,l=/top|center|bottom/,m=/[\+\-]\d+(\.[\d]+)?%?/,v=/^\w+/,q=/%$/,r=a.fn.position;a.position={scrollbarWidth:function(){if(e!==k)return e;var b,d,g=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");d=g.children()[0];a("body").append(g);b=d.offsetWidth;g.css("overflow","scroll");d=d.offsetWidth;b===d&&(d=g[0].clientWidth);g.remove();return e=b-d},getScrollInfo:function(b){var d=
b.isWindow||b.isDocument?"":b.element.css("overflow-x"),g=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),d="scroll"===d||"auto"===d&&b.width<b.element[0].scrollWidth;return{width:"scroll"===g||"auto"===g&&b.height<b.element[0].scrollHeight?a.position.scrollbarWidth():0,height:d?a.position.scrollbarWidth():0}},getWithinInfo:function(b){b=a(b||window);var d=a.isWindow(b[0]);return{element:b,isWindow:d,isDocument:!!b[0]&&9===b[0].nodeType,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),
scrollTop:b.scrollTop(),width:d?b.width():b.outerWidth(),height:d?b.height():b.outerHeight()}}};a.fn.position=function(e){if(!e||!e.of)return r.apply(this,arguments);e=a.extend({},e);var q,k,x,y,B,A,z=a(e.of),Y=a.position.getWithinInfo(e.within),ba=a.position.getScrollInfo(Y),W=(e.collision||"flip").split(" "),ea={};A=f(z);z[0].preventDefault&&(e.at="left top");k=A.width;x=A.height;y=A.offset;B=a.extend({},y);a.each(["my","at"],function(){var b=(e[this]||"").split(" "),a,d;1===b.length&&(b=g.test(b[0])?
b.concat(["center"]):l.test(b[0])?["center"].concat(b):["center","center"]);b[0]=g.test(b[0])?b[0]:"center";b[1]=l.test(b[1])?b[1]:"center";a=m.exec(b[0]);d=m.exec(b[1]);ea[this]=[a?a[0]:0,d?d[0]:0];e[this]=[v.exec(b[0])[0],v.exec(b[1])[0]]});1===W.length&&(W[1]=W[0]);"right"===e.at[0]?B.left+=k:"center"===e.at[0]&&(B.left+=k/2);"bottom"===e.at[1]?B.top+=x:"center"===e.at[1]&&(B.top+=x/2);q=c(ea.at,k,x);B.left+=q[0];B.top+=q[1];return this.each(function(){var g,l,m=a(this),f=m.outerWidth(),v=m.outerHeight(),
r=parseInt(a.css(this,"marginLeft"),10)||0,A=parseInt(a.css(this,"marginTop"),10)||0,Ga=f+r+(parseInt(a.css(this,"marginRight"),10)||0)+ba.width,Da=v+A+(parseInt(a.css(this,"marginBottom"),10)||0)+ba.height,H=a.extend({},B),ja=c(ea.my,m.outerWidth(),m.outerHeight());"right"===e.my[0]?H.left-=f:"center"===e.my[0]&&(H.left-=f/2);"bottom"===e.my[1]?H.top-=v:"center"===e.my[1]&&(H.top-=v/2);H.left+=ja[0];H.top+=ja[1];a.support.offsetFractions||(H.left=d(H.left),H.top=d(H.top));g={marginLeft:r,marginTop:A};
a.each(["left","top"],function(b,d){if(a.ui.position[W[b]])a.ui.position[W[b]][d](H,{targetWidth:k,targetHeight:x,elemWidth:f,elemHeight:v,collisionPosition:g,collisionWidth:Ga,collisionHeight:Da,offset:[q[0]+ja[0],q[1]+ja[1]],my:e.my,at:e.at,within:Y,elem:m})});e.using&&(l=function(a){var d=y.left-H.left,g=d+k-f,c=y.top-H.top,l=c+x-v,q={target:{element:z,left:y.left,top:y.top,width:k,height:x},element:{element:m,left:H.left,top:H.top,width:f,height:v},horizontal:0>g?"left":0<d?"right":"center",vertical:0>
l?"top":0<c?"bottom":"middle"};k<f&&b(d+g)<k&&(q.horizontal="center");x<v&&b(c+l)<x&&(q.vertical="middle");h(b(d),b(g))>h(b(c),b(l))?q.important="horizontal":q.important="vertical";e.using.call(this,a,q)});m.offset(a.extend(H,{using:l}))})};a.ui.position={fit:{left:function(b,a){var d=a.within,g=d.isWindow?d.scrollLeft:d.offset.left,e=d.width,c=b.left-a.collisionPosition.marginLeft,d=g-c,l=c+a.collisionWidth-e-g;a.collisionWidth>e?0<d&&0>=l?(g=b.left+d+a.collisionWidth-e-g,b.left+=d-g):b.left=0<l&&
0>=d?g:d>l?g+e-a.collisionWidth:g:b.left=0<d?b.left+d:0<l?b.left-l:h(b.left-c,b.left)},top:function(b,a){var d=a.within,g=d.isWindow?d.scrollTop:d.offset.top,e=a.within.height,c=b.top-a.collisionPosition.marginTop,d=g-c,l=c+a.collisionHeight-e-g;a.collisionHeight>e?0<d&&0>=l?(g=b.top+d+a.collisionHeight-e-g,b.top+=d-g):b.top=0<l&&0>=d?g:d>l?g+e-a.collisionHeight:g:b.top=0<d?b.top+d:0<l?b.top-l:h(b.top-c,b.top)}},flip:{left:function(a,d){var g=d.within,e=g.offset.left+g.scrollLeft,c=g.width,h=g.isWindow?
g.scrollLeft:g.offset.left,l=a.left-d.collisionPosition.marginLeft,g=l-h,m=l+d.collisionWidth-c-h,l="left"===d.my[0]?-d.elemWidth:"right"===d.my[0]?d.elemWidth:0,f="left"===d.at[0]?d.targetWidth:"right"===d.at[0]?-d.targetWidth:0,q=-2*d.offset[0];if(0>g){if(e=a.left+l+f+q+d.collisionWidth-c-e,0>e||e<b(g))a.left+=l+f+q}else 0<m&&(e=a.left-d.collisionPosition.marginLeft+l+f+q-h,0<e||b(e)<m)&&(a.left+=l+f+q)},top:function(a,d){var g=d.within,e=g.offset.top+g.scrollTop,c=g.height,h=g.isWindow?g.scrollTop:
g.offset.top,l=a.top-d.collisionPosition.marginTop,g=l-h,m=l+d.collisionHeight-c-h,l="top"===d.my[1]?-d.elemHeight:"bottom"===d.my[1]?d.elemHeight:0,f="top"===d.at[1]?d.targetHeight:"bottom"===d.at[1]?-d.targetHeight:0,q=-2*d.offset[1];0>g?(e=a.top+l+f+q+d.collisionHeight-c-e,a.top+l+f+q>g&&(0>e||e<b(g))&&(a.top+=l+f+q)):0<m&&(e=a.top-d.collisionPosition.marginTop+l+f+q-h,a.top+l+f+q>m&&(0<e||b(e)<m)&&(a.top+=l+f+q))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,
arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}};(function(){var b,d,g,e,c=document.getElementsByTagName("body")[0];g=document.createElement("div");b=document.createElement(c?"div":"body");d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};c&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(e in d)b.style[e]=d[e];b.appendChild(g);d=c||document.documentElement;d.insertBefore(b,d.firstChild);
g.style.cssText="position: absolute; left: 10.7432222px;";g=a(g).offset().left;a.support.offsetFractions=10<g&&11>g;b.innerHTML="";d.removeChild(b)})()})(jQuery);
(function(a,k){var c=0,f={},e={};f.height=f.paddingTop=f.paddingBottom=f.borderTopWidth=f.borderBottomWidth="hide";e.height=e.paddingTop=e.paddingBottom=e.borderTopWidth=e.borderBottomWidth="show";a.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var e=this.options;
this.prevShow=this.prevHide=a();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");e.collapsible||!1!==e.active&&null!=e.active||(e.active=0);this._processPanels();0>e.active&&(e.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():a(),content:this.active.length?this.active.next():a()}},_createIcons:function(){var e=this.options.icons;e&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+
e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&
this.removeAttribute("id")});this._destroyIcons();a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){"active"===a?this._activate(b):("event"===a&&
(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||!1!==this.options.active||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),"disabled"===a&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var b=a.ui.keyCode,d=this.headers.length,g=this.headers.index(e.target),c=!1;switch(e.keyCode){case b.RIGHT:case b.DOWN:c=this.headers[(g+
1)%d];break;case b.LEFT:case b.UP:c=this.headers[(g-1+d)%d];break;case b.SPACE:case b.ENTER:this._eventHandler(e);break;case b.HOME:c=this.headers[0];break;case b.END:c=this.headers[d-1]}c&&(a(e.target).attr("tabIndex",-1),a(c).attr("tabIndex",0),c.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===a.ui.keyCode.UP&&e.ctrlKey&&a(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels();!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=
!1,this.active=a()):!1===e.active?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=a()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},
_refresh:function(){var e,b=this.options,d=b.heightStyle,g=this.element.parent(),l=this.accordionId="ui-accordion-"+(this.element.attr("id")||++c);this.active=this._findActive(b.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(b){var d=a(this),g=d.attr("id"),e=d.next(),c=e.attr("id");g||(g=l+"-header-"+b,d.attr("id",g));c||(c=l+"-panel-"+
b,e.attr("id",c));d.attr("aria-controls",c);e.attr("aria-labelledby",g)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(b.event);"fill"===d?(e=g.height(),this.element.siblings(":visible").each(function(){var b=
a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(e-=b.outerHeight(!0))}),this.headers.each(function(){e-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,e-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===d&&(e=0,this.headers.next().each(function(){e=Math.max(e,a(this).css("height","").height())}).height(e))},_activate:function(e){e=this._findActive(e)[0];e!==this.active[0]&&(e=e||this.active[0],this._eventHandler({target:e,
currentTarget:e,preventDefault:a.noop}))},_findActive:function(e){return"number"===typeof e?this.headers.eq(e):a()},_setupEvents:function(e){var b={keydown:"_keydown"};e&&a.each(e.split(" "),function(a,g){b[g]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,b);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(e){var b=this.options,d=this.active,g=a(e.currentTarget),c=
g[0]===d[0],m=c&&b.collapsible,f=m?a():g.next(),q=d.next(),f={oldHeader:d,oldPanel:q,newHeader:m?a():g,newPanel:f};e.preventDefault();c&&!b.collapsible||!1===this._trigger("beforeActivate",e,f)||(b.active=m?!1:this.headers.index(g),this.active=c?a():g,this._toggle(f),d.removeClass("ui-accordion-header-active ui-state-active"),b.icons&&d.children(".ui-accordion-header-icon").removeClass(b.icons.activeHeader).addClass(b.icons.header),c||(g.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),
b.icons&&g.children(".ui-accordion-header-icon").removeClass(b.icons.header).addClass(b.icons.activeHeader),g.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var b=e.newPanel,d=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=b;this.prevHide=d;this.options.animate?this._animate(b,d,e):(d.hide(),b.show(),this._toggleComplete(e));d.attr({"aria-hidden":"true"});d.prev().attr("aria-selected","false");b.length&&d.length?d.prev().attr({tabIndex:-1,
"aria-expanded":"false"}):b.length&&this.headers.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1);b.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(a,b,d){var g,c,m,k=this,q=0,r=a.length&&(!b.length||a.index()<b.index()),s=this.options.animate||{},r=r&&s.down||s,u=function(){k._toggleComplete(d)};"number"===typeof r&&(m=r);"string"===typeof r&&(c=r);c=c||r.easing||s.easing;m=m||r.duration||s.duration;
if(!b.length)return a.animate(e,m,c,u);if(!a.length)return b.animate(f,m,c,u);g=a.show().outerHeight();b.animate(f,{duration:m,easing:c,step:function(b,a){a.now=Math.round(b)}});a.hide().animate(e,{duration:m,easing:c,complete:u,step:function(a,d){d.now=Math.round(a);"height"!==d.prop?q+=d.now:"content"!==k.options.heightStyle&&(d.now=Math.round(g-b.outerHeight()-q),q=0)}})},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");
b.length&&(b.parent()[0].className=b.parent()[0].className);this._trigger("activate",null,a)}})})(jQuery);
(function(a,k){a.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var c,f,e,h=this.element[0].nodeName.toLowerCase(),b="textarea"===h,h="input"===h;this.isMultiLine=b?!0:h?!1:this.element.prop("isContentEditable");this.valueMethod=
this.element[b||h?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(b){if(this.element.prop("readOnly"))f=e=c=!0;else{f=e=c=!1;var g=a.ui.keyCode;switch(b.keyCode){case g.PAGE_UP:c=!0;this._move("previousPage",b);break;case g.PAGE_DOWN:c=!0;this._move("nextPage",b);break;case g.UP:c=!0;this._keyEvent("previous",b);break;case g.DOWN:c=!0;this._keyEvent("next",b);break;case g.ENTER:case g.NUMPAD_ENTER:this.menu.active&&
(c=!0,b.preventDefault(),this.menu.select(b));break;case g.TAB:this.menu.active&&this.menu.select(b);break;case g.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(b),b.preventDefault());break;default:f=!0,this._searchTimeout(b)}}},keypress:function(b){if(c)c=!1,this.isMultiLine&&!this.menu.element.is(":visible")||b.preventDefault();else if(!f){var g=a.ui.keyCode;switch(b.keyCode){case g.PAGE_UP:this._move("previousPage",b);break;case g.PAGE_DOWN:this._move("nextPage",b);
break;case g.UP:this._keyEvent("previous",b);break;case g.DOWN:this._keyEvent("next",b)}}},input:function(b){e?(e=!1,b.preventDefault()):this._searchTimeout(b)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(b){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(b),this._change(b))}});this._initSource();this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,
{mousedown:function(b){b.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var g=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(d){d.target===b.element[0]||d.target===g||a.contains(g,d.target)||b.close()})})},menufocus:function(b,g){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type)))this.menu.blur(),this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)});
else{var e=g.item.data("ui-autocomplete-item");!1!==this._trigger("focus",b,{item:e})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(e.value):this.liveRegion.text(e.value)}},menuselect:function(b,a){var e=a.item.data("ui-autocomplete-item"),c=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=c,this._delay(function(){this.previous=c;this.selectedItem=e}));!1!==this._trigger("select",b,{item:e})&&this._value(e.value);this.term=this._value();
this.close(b);this.selectedItem=e}});this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,f){this._super(a,f);"source"===a&&this._initSource();
"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&f&&this.xhr&&this.xhr.abort()},_appendTo:function(){var c=this.options.appendTo;c&&(c=c.jquery||c.nodeType?a(c):this.document.find(c).eq(0));c||(c=this.element.closest(".ui-front"));c.length||(c=this.document[0].body);return c},_initSource:function(){var c,f,e=this;a.isArray(this.options.source)?(c=this.options.source,this.source=function(e,b){b(a.ui.autocomplete.filter(c,e.term))}):"string"===typeof this.options.source?
(f=this.options.source,this.source=function(c,b){e.xhr&&e.xhr.abort();e.xhr=a.ajax({url:f,data:c,dataType:"json",success:function(a){b(a)},error:function(){b([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,f){a=null!=a?a:this._value();this.term=this._value();if(a.length<this.options.minLength)return this.close(f);
if(!1!==this._trigger("search",f))return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},_response:function(){var c=++this.requestIndex;return a.proxy(function(a){c===this.requestIndex&&this.__response(a);this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&
a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:a.map(c,function(c){return"string"===typeof c?{label:c,
value:c}:a.extend({label:c.label||c.value,value:c.value||c.label},c)})},_suggest:function(c){var f=this.menu.element.empty();this._renderMenu(f,c);this.isNewMenu=!0;this.menu.refresh();f.show();this._resizeMenu();f.position(a.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,f){var e=this;a.each(f,function(a,b){e._renderItemData(c,
b)})},_renderItemData:function(a,f){return this._renderItem(a,f).data("ui-autocomplete-item",f)},_renderItem:function(c,f){return a("<li>").append(a("<a>").text(f.label)).appendTo(c)},_move:function(a,f){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a))this._value(this.term),this.menu.blur();else this.menu[a](f);else this.search(null,f)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,
arguments)},_keyEvent:function(a,f){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,f),f.preventDefault()}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(c,f){var e=new RegExp(a.ui.autocomplete.escapeRegex(f),"i");return a.grep(c,function(a){return e.test(a.label||a.value||a)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+
(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var f;this._superApply(arguments);this.options.disabled||this.cancelSearch||(f=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.text(f))}})})(jQuery);
(function(a,k){var c,f=function(){var e=a(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},e=function(e){var b=e.name,d=e.form,g=a([]);b&&(b=b.replace(/'/g,"\\'"),g=d?a(d).find("[name='"+b+"']"):a("[name='"+b+"']",e.ownerDocument).filter(function(){return!this.form}));return g};a.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+
this.eventNamespace).bind("reset"+this.eventNamespace,f);"boolean"!==typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var h=this,b=this.options,d="checkbox"===this.type||"radio"===this.type,g=d?"":"ui-state-active";null===b.label&&(b.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);
this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){b.disabled||this===c&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){b.disabled||a(this).removeClass(g)}).bind("click"+this.eventNamespace,function(a){b.disabled&&(a.preventDefault(),a.stopImmediatePropagation())});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});
d&&this.element.bind("change"+this.eventNamespace,function(){h.refresh()});"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(b.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(b.disabled)return!1;a(this).addClass("ui-state-active");h.buttonElement.attr("aria-pressed","true");var d=h.element[0];e(d).not(d).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",
"false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(b.disabled)return!1;a(this).addClass("ui-state-active");c=this;h.document.one("mouseup",function(){c=null})}).bind("mouseup"+this.eventNamespace,function(){if(b.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(d){if(b.disabled)return!1;d.keyCode!==a.ui.keyCode.SPACE&&d.keyCode!==a.ui.keyCode.ENTER||a(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+
" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()}));this._setOption("disabled",b.disabled);this._resetButton()},_determineButtonType:function(){var a,b;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";"checkbox"===this.type||"radio"===this.type?
(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),(a=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",a)):this.buttonElement=this.element},widget:function(){return this.buttonElement},
_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-active ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){this._super(a,
b);"disabled"===a?(this.element.prop("disabled",!!b),b&&this.buttonElement.removeClass("ui-state-focus")):this._resetButton()},refresh:function(){var c=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");c!==this.options.disabled&&this._setOption("disabled",c);"radio"===this.type?e(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",
"false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var e=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
b=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),d=this.options.icons,g=d.primary&&d.secondary,c=[];d.primary||d.secondary?(this.options.text&&c.push("ui-button-text-icon"+(g?"s":d.primary?"-primary":"-secondary")),d.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(c.push(g?"ui-button-icons-only":
"ui-button-icon-only"),this.hasTitle||e.attr("title",a.trim(b)))):c.push("ui-button-text-only");e.addClass(c.join(" "))}}});a.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b);this._super(a,b)},refresh:function(){var e=
"rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);
(function(a,k){function c(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";
this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",
firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,
onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};a.extend(this._defaults,this.regional[""]);this.dpDiv=f(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function f(b){return b.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){a(this).removeClass("ui-state-hover");
-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){a.datepicker._isDisabledDatepicker(h.inline?b.parent()[0]:h.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),
-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))})}function e(b,d){a.extend(b,d);for(var g in d)null==d[g]&&(b[g]=d[g]);return b}a.extend(a.ui,{datepicker:{version:"1.10.4"}});var h;a.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(b){e(this._defaults,b||{});return this},_attachDatepicker:function(b,
d){var g,e,c;g=b.nodeName.toLowerCase();e="div"===g||"span"===g;b.id||(this.uuid+=1,b.id="dp"+this.uuid);c=this._newInst(a(b),e);c.settings=a.extend({},d||{});"input"===g?this._connectDatepicker(b,c):e&&this._inlineDatepicker(b,c)},_newInst:function(b,d){return{id:b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:d,dpDiv:d?f(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(b,d){var g=a(b);d.append=a([]);d.trigger=a([]);g.hasClass(this.markerClassName)||(this._attachments(g,d),g.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(d),a.data(b,"datepicker",d),d.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,d){var g,e;g=this._get(d,"appendText");var c=this._get(d,"isRTL");d.append&&d.append.remove();g&&(d.append=a("<span class='"+this._appendClass+
"'>"+g+"</span>"),b[c?"before":"after"](d.append));b.unbind("focus",this._showDatepicker);d.trigger&&d.trigger.remove();g=this._get(d,"showOn");"focus"!==g&&"both"!==g||b.focus(this._showDatepicker);if("button"===g||"both"===g)g=this._get(d,"buttonText"),e=this._get(d,"buttonImage"),d.trigger=a(this._get(d,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:e,alt:g,title:g}):a("<button type='button'></button>").addClass(this._triggerClass).html(e?a("<img/>").attr({src:e,alt:g,title:g}):
g)),b[c?"before":"after"](d.trigger),d.trigger.click(function(){a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():(a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]&&a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0]));return!1})},_autoSize:function(b){if(this._get(b,"autoSize")&&!b.inline){var a,g,e,c,h=new Date(2009,11,20),f=this._get(b,"dateFormat");f.match(/[DM]/)&&(a=function(b){for(c=e=g=0;c<b.length;c++)b[c].length>g&&
(g=b[c].length,e=c);return e},h.setMonth(a(this._get(b,f.match(/MM/)?"monthNames":"monthNamesShort"))),h.setDate(a(this._get(b,f.match(/DD/)?"dayNames":"dayNamesShort"))+20-h.getDay()));b.input.attr("size",this._formatDate(b,h).length)}},_inlineDatepicker:function(b,d){var g=a(b);g.hasClass(this.markerClassName)||(g.addClass(this.markerClassName).append(d.dpDiv),a.data(b,"datepicker",d),this._setDate(d,this._getDefaultDate(d),!0),this._updateDatepicker(d),this._updateAlternate(d),d.settings.disabled&&
this._disableDatepicker(b),d.dpDiv.css("display","block"))},_dialogDatepicker:function(b,d,g,c,h){var f;(b=this._dialogInst)||(this.uuid+=1,b="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+b+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),b=this._dialogInst=this._newInst(this._dialogInput,!1),b.settings={},a.data(this._dialogInput[0],"datepicker",b));e(b.settings,c||{});d=d&&d.constructor===Date?
this._formatDate(b,d):d;this._dialogInput.val(d);(this._pos=h?h.length?h:[h.pageX,h.pageY]:null)||(d=document.documentElement.clientWidth,c=document.documentElement.clientHeight,h=document.documentElement.scrollLeft||document.body.scrollLeft,f=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[d/2-100+h,c/2-150+f]);this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");b.settings.onSelect=g;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);
a.blockUI&&a.blockUI(this.dpDiv);a.data(this._dialogInput[0],"datepicker",b);return this},_destroyDatepicker:function(b){var d,g=a(b),e=a.data(b,"datepicker");g.hasClass(this.markerClassName)&&(d=b.nodeName.toLowerCase(),a.removeData(b,"datepicker"),"input"===d?(e.append.remove(),e.trigger.remove(),g.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==d&&"span"!==d||g.removeClass(this.markerClassName).empty())},
_enableDatepicker:function(b){var d,g=a(b),e=a.data(b,"datepicker");if(g.hasClass(this.markerClassName)){d=b.nodeName.toLowerCase();if("input"===d)b.disabled=!1,e.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"===d||"span"===d)d=g.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1);this._disabledInputs=a.map(this._disabledInputs,
function(a){return a===b?null:a})}},_disableDatepicker:function(b){var d,g=a(b),e=a.data(b,"datepicker");if(g.hasClass(this.markerClassName)){d=b.nodeName.toLowerCase();if("input"===d)b.disabled=!0,e.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"===d||"span"===d)d=g.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0);this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a});this._disabledInputs[this._disabledInputs.length]=b}},_isDisabledDatepicker:function(b){if(!b)return!1;for(var a=0;a<this._disabledInputs.length;a++)if(this._disabledInputs[a]===b)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(d){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(b,d,g){var c,h,f,q,r=this._getInst(b);if(2===arguments.length&&"string"===
typeof d)return"defaults"===d?a.extend({},a.datepicker._defaults):r?"all"===d?a.extend({},r.settings):this._get(r,d):null;c=d||{};"string"===typeof d&&(c={},c[d]=g);r&&(this._curInst===r&&this._hideDatepicker(),h=this._getDateDatepicker(b,!0),f=this._getMinMaxDate(r,"min"),q=this._getMinMaxDate(r,"max"),e(r.settings,c),null!==f&&c.dateFormat!==k&&c.minDate===k&&(r.settings.minDate=this._formatDate(r,f)),null!==q&&c.dateFormat!==k&&c.maxDate===k&&(r.settings.maxDate=this._formatDate(r,q)),"disabled"in
c&&(c.disabled?this._disableDatepicker(b):this._enableDatepicker(b)),this._attachments(a(b),r),this._autoSize(r),this._setDate(r,h),this._updateAlternate(r),this._updateDatepicker(r))},_changeDatepicker:function(b,a,g){this._optionDatepicker(b,a,g)},_refreshDatepicker:function(b){(b=this._getInst(b))&&this._updateDatepicker(b)},_setDateDatepicker:function(b,a){var g=this._getInst(b);g&&(this._setDate(g,a),this._updateDatepicker(g),this._updateAlternate(g))},_getDateDatepicker:function(b,a){var g=
this._getInst(b);g&&!g.inline&&this._setDateFromField(g,a);return g?this._getDate(g):null},_doKeyDown:function(b){var d,g=a.datepicker._getInst(b.target);d=!0;var e=g.dpDiv.is(".ui-datepicker-rtl");g._keyEvent=!0;if(a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker();d=!1;break;case 13:return d=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",g.dpDiv),d[0]&&a.datepicker._selectDay(b.target,g.selectedMonth,g.selectedYear,d[0]),(b=a.datepicker._get(g,
"onSelect"))?(d=a.datepicker._formatDate(g),b.apply(g.input?g.input[0]:null,[d,g])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(g,"stepBigMonths"):-a.datepicker._get(g,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(g,"stepBigMonths"):+a.datepicker._get(g,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target);
d=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target);d=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,e?1:-1,"D");d=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(g,"stepBigMonths"):-a.datepicker._get(g,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D");d=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&
a.datepicker._adjustDate(b.target,e?-1:1,"D");d=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(g,"stepBigMonths"):+a.datepicker._get(g,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D");d=b.ctrlKey||b.metaKey;break;default:d=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):d=!1;d&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var d,g;d=a.datepicker._getInst(b.target);
if(a.datepicker._get(d,"constrainInput"))return d=a.datepicker._possibleChars(a.datepicker._get(d,"dateFormat")),g=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||" ">g||!d||-1<d.indexOf(g)},_doKeyUp:function(b){b=a.datepicker._getInst(b.target);if(b.input.val()!==b.lastVal)try{a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,a.datepicker._getFormatConfig(b))&&(a.datepicker._setDateFromField(b),a.datepicker._updateAlternate(b),a.datepicker._updateDatepicker(b))}catch(d){}return!0},
_showDatepicker:function(b){b=b.target||b;"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]);if(!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var d,g,c,h;d=a.datepicker._getInst(b);a.datepicker._curInst&&a.datepicker._curInst!==d&&(a.datepicker._curInst.dpDiv.stop(!0,!0),d&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0]));g=(g=a.datepicker._get(d,"beforeShow"))?g.apply(b,[b,d]):{};if(!1!==g&&(e(d.settings,g),d.lastVal=
null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(d),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),c=!1,a(b).parents().each(function(){c|="fixed"===a(this).css("position");return!c}),g={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,d.dpDiv.empty(),d.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),a.datepicker._updateDatepicker(d),g=a.datepicker._checkOffset(d,
g,c),d.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":c?"fixed":"absolute",display:"none",left:g.left+"px",top:g.top+"px"}),!d.inline)){g=a.datepicker._get(d,"showAnim");h=a.datepicker._get(d,"duration");d.dpDiv.zIndex(a(b).zIndex()+1);a.datepicker._datepickerShowing=!0;if(a.effects&&a.effects.effect[g])d.dpDiv.show(g,a.datepicker._get(d,"showOptions"),h);else d.dpDiv[g||"show"](g?h:null);a.datepicker._shouldFocusInput(d)&&d.input.focus();a.datepicker._curInst=d}}},_updateDatepicker:function(b){this.maxRows=
4;h=b;b.dpDiv.empty().append(this._generateHTML(b));this._attachHandlers(b);b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var d,g=this._getNumberOfMonths(b),e=g[1];b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<e&&b.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",17*e+"em");b.dpDiv[(1!==g[0]||1!==g[1]?"add":"remove")+"Class"]("ui-datepicker-multi");b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");b===a.datepicker._curInst&&
a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.focus();b.yearshtml&&(d=b.yearshtml,setTimeout(function(){d===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);d=b.yearshtml=null},0))},_shouldFocusInput:function(b){return b.input&&b.input.is(":visible")&&!b.input.is(":disabled")&&!b.input.is(":focus")},_checkOffset:function(b,d,g){var e=b.dpDiv.outerWidth(),c=b.dpDiv.outerHeight(),h=b.input?b.input.outerWidth():0,f=b.input?
b.input.outerHeight():0,k=document.documentElement.clientWidth+(g?0:a(document).scrollLeft()),s=document.documentElement.clientHeight+(g?0:a(document).scrollTop());d.left-=this._get(b,"isRTL")?e-h:0;d.left-=g&&d.left===b.input.offset().left?a(document).scrollLeft():0;d.top-=g&&d.top===b.input.offset().top+f?a(document).scrollTop():0;d.left-=Math.min(d.left,d.left+e>k&&k>e?Math.abs(d.left+e-k):0);d.top-=Math.min(d.top,d.top+c>s&&s>c?Math.abs(c+f):0);return d},_findPos:function(b){for(var d=this._getInst(b),
d=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[d?"previousSibling":"nextSibling"];b=a(b).offset();return[b.left,b.top]},_hideDatepicker:function(b){var d,g,e=this._curInst;if(e&&(!b||e===a.data(b,"datepicker"))&&this._datepickerShowing){b=this._get(e,"showAnim");d=this._get(e,"duration");g=function(){a.datepicker._tidyDialog(e)};if(a.effects&&(a.effects.effect[b]||a.effects[b]))e.dpDiv.hide(b,a.datepicker._get(e,"showOptions"),d,g);else e.dpDiv["slideDown"===
b?"slideUp":"fadeIn"===b?"fadeOut":"hide"](b?d:null,g);b||g();this._datepickerShowing=!1;(b=this._get(e,"onClose"))&&b.apply(e.input?e.input[0]:null,[e.input?e.input.val():"",e]);this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(b){b.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){b=
a(b.target);var d=a.datepicker._getInst(b[0]);(!(b[0].id===a.datepicker._mainDivId||0!==b.parents("#"+a.datepicker._mainDivId).length||b.hasClass(a.datepicker.markerClassName)||b.closest("."+a.datepicker._triggerClass).length||!a.datepicker._datepickerShowing||a.datepicker._inDialog&&a.blockUI)||b.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==d)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,d,g){b=a(b);var e=this._getInst(b[0]);this._isDisabledDatepicker(b[0])||(this._adjustInstDate(e,
d+("M"===g?this._get(e,"showCurrentAtPos"):0),g),this._updateDatepicker(e))},_gotoToday:function(b){var d=a(b),g=this._getInst(d[0]);this._get(g,"gotoCurrent")&&g.currentDay?(g.selectedDay=g.currentDay,g.drawMonth=g.selectedMonth=g.currentMonth,g.drawYear=g.selectedYear=g.currentYear):(b=new Date,g.selectedDay=b.getDate(),g.drawMonth=g.selectedMonth=b.getMonth(),g.drawYear=g.selectedYear=b.getFullYear());this._notifyChange(g);this._adjustDate(d)},_selectMonthYear:function(b,d,g){b=a(b);var e=this._getInst(b[0]);
e["selected"+("M"===g?"Month":"Year")]=e["draw"+("M"===g?"Month":"Year")]=parseInt(d.options[d.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(b)},_selectDay:function(b,d,g,e){var c;c=a(b);a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(c[0])||(c=this._getInst(c[0]),c.selectedDay=c.currentDay=a("a",e).html(),c.selectedMonth=c.currentMonth=d,c.selectedYear=c.currentYear=g,this._selectDate(b,this._formatDate(c,c.currentDay,c.currentMonth,c.currentYear)))},_clearDate:function(b){b=
a(b);this._selectDate(b,"")},_selectDate:function(b,d){var g;g=a(b);var e=this._getInst(g[0]);d=null!=d?d:this._formatDate(e);e.input&&e.input.val(d);this._updateAlternate(e);(g=this._get(e,"onSelect"))?g.apply(e.input?e.input[0]:null,[d,e]):e.input&&e.input.trigger("change");e.inline?this._updateDatepicker(e):(this._hideDatepicker(),this._lastInput=e.input[0],"object"!==typeof e.input[0]&&e.input.focus(),this._lastInput=null)},_updateAlternate:function(b){var d,g,e,c=this._get(b,"altField");c&&(d=
this._get(b,"altFormat")||this._get(b,"dateFormat"),g=this._getDate(b),e=this.formatDate(d,g,this._getFormatConfig(b)),a(c).each(function(){a(this).val(e)}))},noWeekends:function(b){b=b.getDay();return[0<b&&6>b,""]},iso8601Week:function(b){var a=new Date(b.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));b=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-a)/864E5)/7)+1},parseDate:function(b,d,g){if(null==b||null==d)throw"Invalid arguments";d="object"===typeof d?d.toString():
d+"";if(""===d)return null;var e,c,h,f=0;c=(g?g.shortYearCutoff:null)||this._defaults.shortYearCutoff;c="string"!==typeof c?c:(new Date).getFullYear()%100+parseInt(c,10);h=(g?g.dayNamesShort:null)||this._defaults.dayNamesShort;var k=(g?g.dayNames:null)||this._defaults.dayNames,s=(g?g.monthNamesShort:null)||this._defaults.monthNamesShort,u=(g?g.monthNames:null)||this._defaults.monthNames,w=g=-1,x=-1,y=-1,B=!1,A,z=function(a){(a=e+1<b.length&&b.charAt(e+1)===a)&&e++;return a},Y=function(b){var a=z(b);
b=new RegExp("^\\d{1,"+("@"===b?14:"!"===b?20:"y"===b&&a?4:"o"===b?3:2)+"}");b=d.substring(f).match(b);if(!b)throw"Missing number at position "+f;f+=b[0].length;return parseInt(b[0],10)},ba=function(b,g,e){var c=-1;b=a.map(z(b)?e:g,function(b,a){return[[a,b]]}).sort(function(b,a){return-(b[1].length-a[1].length)});a.each(b,function(b,a){var g=a[1];if(d.substr(f,g.length).toLowerCase()===g.toLowerCase())return c=a[0],f+=g.length,!1});if(-1!==c)return c+1;throw"Unknown name at position "+f;},W=function(){if(d.charAt(f)!==
b.charAt(e))throw"Unexpected literal at position "+f;f++};for(e=0;e<b.length;e++)if(B)"'"!==b.charAt(e)||z("'")?W():B=!1;else switch(b.charAt(e)){case "d":x=Y("d");break;case "D":ba("D",h,k);break;case "o":y=Y("o");break;case "m":w=Y("m");break;case "M":w=ba("M",s,u);break;case "y":g=Y("y");break;case "@":A=new Date(Y("@"));g=A.getFullYear();w=A.getMonth()+1;x=A.getDate();break;case "!":A=new Date((Y("!")-this._ticksTo1970)/1E4);g=A.getFullYear();w=A.getMonth()+1;x=A.getDate();break;case "'":z("'")?
W():B=!0;break;default:W()}if(f<d.length&&(h=d.substr(f),!/^\s+/.test(h)))throw"Extra/unparsed characters found in date: "+h;-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=c?0:-100));if(-1<y){w=1;x=y;do{c=this._getDaysInMonth(g,w-1);if(x<=c)break;w++;x-=c}while(1)}A=this._daylightSavingAdjust(new Date(g,w-1,x));if(A.getFullYear()!==g||A.getMonth()+1!==w||A.getDate()!==x)throw"Invalid date";return A},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",
RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(b,a,g){if(!a)return"";var e,c=(g?g.dayNamesShort:null)||this._defaults.dayNamesShort,h=(g?g.dayNames:null)||this._defaults.dayNames,f=(g?g.monthNamesShort:null)||this._defaults.monthNamesShort;g=(g?g.monthNames:null)||this._defaults.monthNames;
var k=function(a){(a=e+1<b.length&&b.charAt(e+1)===a)&&e++;return a},s=function(b,a,d){a=""+a;if(k(b))for(;a.length<d;)a="0"+a;return a},u=function(b,a,d,g){return k(b)?g[a]:d[a]},w="",x=!1;if(a)for(e=0;e<b.length;e++)if(x)"'"!==b.charAt(e)||k("'")?w+=b.charAt(e):x=!1;else switch(b.charAt(e)){case "d":w+=s("d",a.getDate(),2);break;case "D":w+=u("D",a.getDay(),c,h);break;case "o":w+=s("o",Math.round(((new Date(a.getFullYear(),a.getMonth(),a.getDate())).getTime()-(new Date(a.getFullYear(),0,0)).getTime())/
864E5),3);break;case "m":w+=s("m",a.getMonth()+1,2);break;case "M":w+=u("M",a.getMonth(),f,g);break;case "y":w+=k("y")?a.getFullYear():(10>a.getYear()%100?"0":"")+a.getYear()%100;break;case "@":w+=a.getTime();break;case "!":w+=1E4*a.getTime()+this._ticksTo1970;break;case "'":k("'")?w+="'":x=!0;break;default:w+=b.charAt(e)}return w},_possibleChars:function(b){var a,g="",e=!1,c=function(g){(g=a+1<b.length&&b.charAt(a+1)===g)&&a++;return g};for(a=0;a<b.length;a++)if(e)"'"!==b.charAt(a)||c("'")?g+=b.charAt(a):
e=!1;else switch(b.charAt(a)){case "d":case "m":case "y":case "@":g+="0123456789";break;case "D":case "M":return null;case "'":c("'")?g+="'":e=!0;break;default:g+=b.charAt(a)}return g},_get:function(b,a){return b.settings[a]!==k?b.settings[a]:this._defaults[a]},_setDateFromField:function(b,a){if(b.input.val()!==b.lastVal){var g=this._get(b,"dateFormat"),e=b.lastVal=b.input?b.input.val():null,c=this._getDefaultDate(b),h=c,f=this._getFormatConfig(b);try{h=this.parseDate(g,e,f)||c}catch(k){e=a?"":e}b.selectedDay=
h.getDate();b.drawMonth=b.selectedMonth=h.getMonth();b.drawYear=b.selectedYear=h.getFullYear();b.currentDay=e?h.getDate():0;b.currentMonth=e?h.getMonth():0;b.currentYear=e?h.getFullYear():0;this._adjustInstDate(b)}},_getDefaultDate:function(b){return this._restrictMinMax(b,this._determineDate(b,this._get(b,"defaultDate"),new Date))},_determineDate:function(b,d,g){var e=function(b){var a=new Date;a.setDate(a.getDate()+b);return a},c=function(d){try{return a.datepicker.parseDate(a.datepicker._get(b,
"dateFormat"),d,a.datepicker._getFormatConfig(b))}catch(g){}for(var e=(d.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,c=e.getFullYear(),h=e.getMonth(),e=e.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,f=l.exec(d);f;){switch(f[2]||"d"){case "d":case "D":e+=parseInt(f[1],10);break;case "w":case "W":e+=7*parseInt(f[1],10);break;case "m":case "M":h+=parseInt(f[1],10);e=Math.min(e,a.datepicker._getDaysInMonth(c,h));break;case "y":case "Y":c+=parseInt(f[1],10),e=Math.min(e,a.datepicker._getDaysInMonth(c,
h))}f=l.exec(d)}return new Date(c,h,e)};if(d=(d=null==d||""===d?g:"string"===typeof d?c(d):"number"===typeof d?isNaN(d)?g:e(d):new Date(d.getTime()))&&"Invalid Date"===d.toString()?g:d)d.setHours(0),d.setMinutes(0),d.setSeconds(0),d.setMilliseconds(0);return this._daylightSavingAdjust(d)},_daylightSavingAdjust:function(b){if(!b)return null;b.setHours(12<b.getHours()?b.getHours()+2:0);return b},_setDate:function(b,a,g){var e=!a,c=b.selectedMonth,h=b.selectedYear;a=this._restrictMinMax(b,this._determineDate(b,
a,new Date));b.selectedDay=b.currentDay=a.getDate();b.drawMonth=b.selectedMonth=b.currentMonth=a.getMonth();b.drawYear=b.selectedYear=b.currentYear=a.getFullYear();c===b.selectedMonth&&h===b.selectedYear||g||this._notifyChange(b);this._adjustInstDate(b);b.input&&b.input.val(e?"":this._formatDate(b))},_getDate:function(b){return!b.currentYear||b.input&&""===b.input.val()?null:this._daylightSavingAdjust(new Date(b.currentYear,b.currentMonth,b.currentDay))},_attachHandlers:function(b){var d=this._get(b,
"stepMonths"),g="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){a(this).bind(this.getAttribute("data-event"),{prev:function(){a.datepicker._adjustDate(g,-d,"M")},next:function(){a.datepicker._adjustDate(g,+d,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(g)},selectDay:function(){a.datepicker._selectDay(g,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return!1},selectMonth:function(){a.datepicker._selectMonthYear(g,
this,"M");return!1},selectYear:function(){a.datepicker._selectMonthYear(g,this,"Y");return!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(b){var a,g,e,c,h,f,k,s,u,w,x,y,B,A,z,Y,ba,W,ea,N,O,P,fa,oa,za,sa,Ga,Da=new Date,Da=this._daylightSavingAdjust(new Date(Da.getFullYear(),Da.getMonth(),Da.getDate())),H=this._get(b,"isRTL");f=this._get(b,"showButtonPanel");e=this._get(b,"hideIfNoPrevNext");h=this._get(b,"navigationAsDateFormat");var ja=this._getNumberOfMonths(b),Q=this._get(b,"showCurrentAtPos");
c=this._get(b,"stepMonths");var wa=1!==ja[0]||1!==ja[1],va=this._daylightSavingAdjust(b.currentDay?new Date(b.currentYear,b.currentMonth,b.currentDay):new Date(9999,9,9)),pa=this._getMinMaxDate(b,"min"),Ka=this._getMinMaxDate(b,"max"),Q=b.drawMonth-Q,da=b.drawYear;0>Q&&(Q+=12,da--);if(Ka)for(a=this._daylightSavingAdjust(new Date(Ka.getFullYear(),Ka.getMonth()-ja[0]*ja[1]+1,Ka.getDate())),a=pa&&a<pa?pa:a;this._daylightSavingAdjust(new Date(da,Q,1))>a;)Q--,0>Q&&(Q=11,da--);b.drawMonth=Q;b.drawYear=
da;a=this._get(b,"prevText");a=h?this.formatDate(a,this._daylightSavingAdjust(new Date(da,Q-c,1)),this._getFormatConfig(b)):a;a=this._canAdjustMonth(b,-1,da,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+a+"</span></a>":e?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+a+"</span></a>";g=
this._get(b,"nextText");g=h?this.formatDate(g,this._daylightSavingAdjust(new Date(da,Q+c,1)),this._getFormatConfig(b)):g;e=this._canAdjustMonth(b,1,da,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+g+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+g+"</span></a>":e?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+g+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+g+"</span></a>";c=this._get(b,
"currentText");g=this._get(b,"gotoCurrent")&&b.currentDay?va:Da;c=h?this.formatDate(c,g,this._getFormatConfig(b)):c;h=b.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(b,"closeText")+"</button>";f=f?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?h:"")+(this._isInRange(b,g)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
c+"</button>":"")+(H?"":h)+"</div>":"";h=parseInt(this._get(b,"firstDay"),10);h=isNaN(h)?0:h;c=this._get(b,"showWeek");g=this._get(b,"dayNames");k=this._get(b,"dayNamesMin");s=this._get(b,"monthNames");u=this._get(b,"monthNamesShort");w=this._get(b,"beforeShowDay");x=this._get(b,"showOtherMonths");y=this._get(b,"selectOtherMonths");B=this._getDefaultDate(b);A="";z;for(Y=0;Y<ja[0];Y++){ba="";this.maxRows=4;for(W=0;W<ja[1];W++){ea=this._daylightSavingAdjust(new Date(da,Q,b.selectedDay));z=" ui-corner-all";
N="";if(wa){N+="<div class='ui-datepicker-group";if(1<ja[1])switch(W){case 0:N+=" ui-datepicker-group-first";z=" ui-corner-"+(H?"right":"left");break;case ja[1]-1:N+=" ui-datepicker-group-last";z=" ui-corner-"+(H?"left":"right");break;default:N+=" ui-datepicker-group-middle",z=""}N+="'>"}N+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+z+"'>"+(/all|left/.test(z)&&0===Y?H?e:a:"")+(/all|right/.test(z)&&0===Y?H?a:e:"")+this._generateMonthYearHeader(b,Q,da,pa,Ka,0<Y||0<W,s,u)+
"</div><table class='ui-datepicker-calendar'><thead><tr>";O=c?"<th class='ui-datepicker-week-col'>"+this._get(b,"weekHeader")+"</th>":"";for(z=0;7>z;z++)P=(z+h)%7,O+="<th"+(5<=(z+h+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+g[P]+"'>"+k[P]+"</span></th>";N+=O+"</tr></thead><tbody>";O=this._getDaysInMonth(da,Q);da===b.selectedYear&&Q===b.selectedMonth&&(b.selectedDay=Math.min(b.selectedDay,O));z=(this._getFirstDayOfMonth(da,Q)-h+7)%7;O=Math.ceil((z+O)/7);this.maxRows=O=wa?this.maxRows>
O?this.maxRows:O:O;P=this._daylightSavingAdjust(new Date(da,Q,1-z));for(fa=0;fa<O;fa++){N+="<tr>";oa=c?"<td class='ui-datepicker-week-col'>"+this._get(b,"calculateWeek")(P)+"</td>":"";for(z=0;7>z;z++)za=w?w.apply(b.input?b.input[0]:null,[P]):[!0,""],Ga=(sa=P.getMonth()!==Q)&&!y||!za[0]||pa&&P<pa||Ka&&P>Ka,oa+="<td class='"+(5<=(z+h+6)%7?" ui-datepicker-week-end":"")+(sa?" ui-datepicker-other-month":"")+(P.getTime()===ea.getTime()&&Q===b.selectedMonth&&b._keyEvent||B.getTime()===P.getTime()&&B.getTime()===
ea.getTime()?" "+this._dayOverClass:"")+(Ga?" "+this._unselectableClass+" ui-state-disabled":"")+(sa&&!x?"":" "+za[1]+(P.getTime()===va.getTime()?" "+this._currentClass:"")+(P.getTime()===Da.getTime()?" ui-datepicker-today":""))+"'"+(sa&&!x||!za[2]?"":" title='"+za[2].replace(/'/g,"&#39;")+"'")+(Ga?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(sa&&!x?"&#xa0;":Ga?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+
(P.getTime()===Da.getTime()?" ui-state-highlight":"")+(P.getTime()===va.getTime()?" ui-state-active":"")+(sa?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);N+=oa+"</tr>"}Q++;11<Q&&(Q=0,da++);N+="</tbody></table>"+(wa?"</div>"+(0<ja[0]&&W===ja[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");ba+=N}A+=ba}b._keyEvent=!1;return A+f},_generateMonthYearHeader:function(b,a,g,e,c,h,f,k){var s,u,w,x=this._get(b,"changeMonth"),
y=this._get(b,"changeYear"),B=this._get(b,"showMonthAfterYear"),A="<div class='ui-datepicker-title'>",z="";if(h||!x)z+="<span class='ui-datepicker-month'>"+f[a]+"</span>";else{f=e&&e.getFullYear()===g;s=c&&c.getFullYear()===g;z+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(u=0;12>u;u++)(!f||u>=e.getMonth())&&(!s||u<=c.getMonth())&&(z+="<option value='"+u+"'"+(u===a?" selected='selected'":"")+">"+k[u]+"</option>");z+="</select>"}B||(A+=z+(!h&&x&&y?"":"&#xa0;"));
if(!b.yearshtml)if(b.yearshtml="",h||!y)A+="<span class='ui-datepicker-year'>"+g+"</span>";else{k=this._get(b,"yearRange").split(":");w=(new Date).getFullYear();f=function(b){b=b.match(/c[+\-].*/)?g+parseInt(b.substring(1),10):b.match(/[+\-].*/)?w+parseInt(b,10):parseInt(b,10);return isNaN(b)?w:b};a=f(k[0]);k=Math.max(a,f(k[1]||""));a=e?Math.max(a,e.getFullYear()):a;k=c?Math.min(k,c.getFullYear()):k;for(b.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";a<=
k;a++)b.yearshtml+="<option value='"+a+"'"+(a===g?" selected='selected'":"")+">"+a+"</option>";b.yearshtml+="</select>";A+=b.yearshtml;b.yearshtml=null}A+=this._get(b,"yearSuffix");B&&(A+=(!h&&x&&y?"":"&#xa0;")+z);return A+"</div>"},_adjustInstDate:function(b,a,g){var e=b.drawYear+("Y"===g?a:0),c=b.drawMonth+("M"===g?a:0);a=Math.min(b.selectedDay,this._getDaysInMonth(e,c))+("D"===g?a:0);e=this._restrictMinMax(b,this._daylightSavingAdjust(new Date(e,c,a)));b.selectedDay=e.getDate();b.drawMonth=b.selectedMonth=
e.getMonth();b.drawYear=b.selectedYear=e.getFullYear();"M"!==g&&"Y"!==g||this._notifyChange(b)},_restrictMinMax:function(b,a){var g=this._getMinMaxDate(b,"min"),e=this._getMinMaxDate(b,"max"),g=g&&a<g?g:a;return e&&g>e?e:g},_notifyChange:function(b){var a=this._get(b,"onChangeMonthYear");a&&a.apply(b.input?b.input[0]:null,[b.selectedYear,b.selectedMonth+1,b])},_getNumberOfMonths:function(b){b=this._get(b,"numberOfMonths");return null==b?[1,1]:"number"===typeof b?[1,b]:b},_getMinMaxDate:function(b,
a){return this._determineDate(b,this._get(b,a+"Date"),null)},_getDaysInMonth:function(b,a){return 32-this._daylightSavingAdjust(new Date(b,a,32)).getDate()},_getFirstDayOfMonth:function(b,a){return(new Date(b,a,1)).getDay()},_canAdjustMonth:function(b,a,g,e){var c=this._getNumberOfMonths(b);g=this._daylightSavingAdjust(new Date(g,e+(0>a?a:c[0]*c[1]),1));0>a&&g.setDate(this._getDaysInMonth(g.getFullYear(),g.getMonth()));return this._isInRange(b,g)},_isInRange:function(b,a){var g,e,c=this._getMinMaxDate(b,
"min"),h=this._getMinMaxDate(b,"max"),f=null,k=null;if(g=this._get(b,"yearRange"))g=g.split(":"),e=(new Date).getFullYear(),f=parseInt(g[0],10),k=parseInt(g[1],10),g[0].match(/[+\-].*/)&&(f+=e),g[1].match(/[+\-].*/)&&(k+=e);return(!c||a.getTime()>=c.getTime())&&(!h||a.getTime()<=h.getTime())&&(!f||a.getFullYear()>=f)&&(!k||a.getFullYear()<=k)},_getFormatConfig:function(b){var a=this._get(b,"shortYearCutoff"),a="string"!==typeof a?a:(new Date).getFullYear()%100+parseInt(a,10);return{shortYearCutoff:a,
dayNamesShort:this._get(b,"dayNamesShort"),dayNames:this._get(b,"dayNames"),monthNamesShort:this._get(b,"monthNamesShort"),monthNames:this._get(b,"monthNames")}},_formatDate:function(b,a,g,e){a||(b.currentDay=b.selectedDay,b.currentMonth=b.selectedMonth,b.currentYear=b.selectedYear);a=a?"object"===typeof a?a:this._daylightSavingAdjust(new Date(e,g,a)):this._daylightSavingAdjust(new Date(b.currentYear,b.currentMonth,b.currentDay));return this.formatDate(this._get(b,"dateFormat"),a,this._getFormatConfig(b))}});
a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0);0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var d=Array.prototype.slice.call(arguments,1);return"string"===typeof b&&("isDisabled"===b||"getDate"===b||"widget"===b)||"option"===b&&2===arguments.length&&"string"===typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(d)):
this.each(function(){"string"===typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(d)):a.datepicker._attachDatepicker(this,b)})};a.datepicker=new c;a.datepicker.initialized=!1;a.datepicker.uuid=(new Date).getTime();a.datepicker.version="1.10.4"})(jQuery);
(function(a,k){var c={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},f={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var c=a(this).css(e).offset().top;
0>c&&a(this).css("top",e.top-c)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};
this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&a.fn.draggable&&this._makeDraggable();this.options.resizable&&a.fn.resizable&&this._makeResizable();this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=
this.options.appendTo;return e&&(e.jquery||e.nodeType)?a(e):this.document.find(e||"body").eq(0)},_destroy:function(){var a,c=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);a=c.parent.children().eq(c.index);a.length&&a[0]!==this.element[0]?a.before(this.element):c.parent.append(this.element)},
widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(e){var c,b=this;if(this._isOpen&&!1!==this._trigger("beforeClose",e)){this._isOpen=!1;this._destroyOverlay();if(!this.opener.filter(":focusable").focus().length)try{(c=this.document[0].activeElement)&&"body"!==c.nodeName.toLowerCase()&&a(c).blur()}catch(d){}this._hide(this.uiDialog,this.options.hide,function(){b._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},
_moveToTop:function(a,c){var b=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;b&&!c&&this._trigger("focus",a);return b},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable();e._trigger("focus")}),this._trigger("open"))},_focusTabbable:function(){var a=
this.element.find("[autofocus]");a.length||(a=this.element.find(":tabbable"));a.length||(a=this.uiDialogButtonPane.find(":tabbable"));a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable"));a.length||(a=this.uiDialog);a.eq(0).focus()},_keepFocus:function(e){function c(){var b=this.document[0].activeElement;this.uiDialog[0]===b||a.contains(this.uiDialog[0],b)||this._focusTabbable()}e.preventDefault();c.call(this);this._delay(c)},_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+
this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===a.ui.keyCode.ESCAPE)e.preventDefault(),this.close(e);else if(e.keyCode===a.ui.keyCode.TAB){var c=this.uiDialog.find(":tabbable"),b=c.filter(":first"),c=c.filter(":last");e.target!==c[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==b[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||
(c.focus(1),e.preventDefault()):(b.focus(1),e.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(e){a(e.target).closest(".ui-dialog-titlebar-close")||
this.uiDialog.focus()}});this.uiDialogTitlebarClose=a("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault();this.close(a)}});e=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(e);this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(a){this.options.title||
a.html("&#160;");a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var e=this,c=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();a.isEmptyObject(c)||a.isArray(c)&&!c.length?this.uiDialog.removeClass("ui-dialog-buttons"):
(a.each(c,function(b,d){var g,c;d=a.isFunction(d)?{click:d,text:b}:d;d=a.extend({type:"button"},d);g=d.click;d.click=function(){g.apply(e.element[0],arguments)};c={icons:d.icons,text:d.showText};delete d.icons;delete d.showText;a("<button></button>",d).button(c).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(b){return{position:b.position,offset:b.offset}}var c=this,b=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",
handle:".ui-dialog-titlebar",containment:"document",start:function(b,g){a(this).addClass("ui-dialog-dragging");c._blockFrames();c._trigger("dragStart",b,e(g))},drag:function(b,a){c._trigger("drag",b,e(a))},stop:function(d,g){b.position=[g.position.left-c.document.scrollLeft(),g.position.top-c.document.scrollTop()];a(this).removeClass("ui-dialog-dragging");c._unblockFrames();c._trigger("dragStop",d,e(g))}})},_makeResizable:function(){function e(b){return{originalPosition:b.originalPosition,originalSize:b.originalSize,
position:b.position,size:b.size}}var c=this,b=this.options,d=b.resizable,g=this.uiDialog.css("position"),d="string"===typeof d?d:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:b.maxWidth,maxHeight:b.maxHeight,minWidth:b.minWidth,minHeight:this._minHeight(),handles:d,start:function(b,d){a(this).addClass("ui-dialog-resizing");c._blockFrames();c._trigger("resizeStart",b,e(d))},resize:function(b,a){c._trigger("resize",
b,e(a))},stop:function(d,g){b.height=a(this).height();b.width=a(this).width();a(this).removeClass("ui-dialog-resizing");c._unblockFrames();c._trigger("resizeStop",d,e(g))}}).css("position",g)},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show();this.uiDialog.position(this.options.position);a||this.uiDialog.hide()},_setOptions:function(e){var h=this,b=!1,d={};a.each(e,
function(a,e){h._setOption(a,e);a in c&&(b=!0);a in f&&(d[a]=e)});b&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",d)},_setOption:function(a,c){var b,d=this.uiDialog;"dialogClass"===a&&d.removeClass(this.options.dialogClass).addClass(c);"disabled"!==a&&(this._super(a,c),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+c}),"draggable"===
a&&((b=d.is(":data(ui-draggable)"))&&!c&&d.draggable("destroy"),!b&&c&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&((b=d.is(":data(ui-resizable)"))&&!c&&d.resizable("destroy"),b&&"string"===typeof c&&d.resizable("option","handles",c),b||!1===c||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,c,b,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});d.minWidth>
d.width&&(d.width=d.minWidth);a=this.uiDialog.css({height:"auto",width:d.width}).outerHeight();c=Math.max(0,d.minHeight-a);b="number"===typeof d.maxHeight?Math.max(0,d.maxHeight-a):"none";"auto"===d.height?this.element.css({minHeight:c,maxHeight:b,height:"auto"}):this.element.height(Math.max(0,d.height-a));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=
a(this);return a("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return a(e.target).closest(".ui-dialog").length?!0:!!a(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=this,c=this.widgetFullName;a.ui.dialog.overlayInstances||this._delay(function(){a.ui.dialog.overlayInstances&&
this.document.bind("focusin.dialog",function(b){e._allowInteraction(b)||(b.preventDefault(),a(".ui-dialog:visible:last .ui-dialog-content").data(c)._focusTabbable())})});this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});a.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(a.ui.dialog.overlayInstances--,a.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),
this.overlay.remove(),this.overlay=null)}});a.ui.dialog.overlayInstances=0;!1!==a.uiBackCompat&&a.widget("ui.dialog",a.ui.dialog,{_position:function(){var e=this.options.position,c=[],b=[0,0],d;if(e){if("string"===typeof e||"object"===typeof e&&"0"in e)c=e.split?e.split(" "):[e[0],e[1]],1===c.length&&(c[1]=c[0]),a.each(["left","top"],function(a,d){+c[a]===c[a]&&(b[a]=c[a],c[a]=d)}),e={my:c[0]+(0>b[0]?b[0]:"+"+b[0])+" "+c[1]+(0>b[1]?b[1]:"+"+b[1]),at:c.join(" ")};e=a.extend({},a.ui.dialog.prototype.options.position,
e)}else e=a.ui.dialog.prototype.options.position;(d=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.position(e);d||this.uiDialog.hide()}})})(jQuery);
(function(a,k){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||
/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(c){var f=this.options;if(this.helper||f.disabled||0<a(c.target).closest(".ui-resizable-handle").length)return!1;
this.handle=this._getHandle(c);if(!this.handle)return!1;a(!0===f.iframeFix?"iframe":f.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")});return!0},_mouseStart:function(c){var f=this.options;this.helper=this._createHelper(c);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();
a.ui.ddmanager&&(a.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=!1;a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},
parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt);this._setContainment();if(!1===this._trigger("start",c))return this._clear(),!1;this._cacheHelperProportions();a.ui.ddmanager&&!f.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,c);this._mouseDrag(c,!0);a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,c);return!0},
_mouseDrag:function(c,f){"fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset());this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!f){var e=this._uiHash();if(!1===this._trigger("drag",c,e))return this._mouseUp({}),!1;this.position=e.position}this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+
"px");a.ui.ddmanager&&a.ui.ddmanager.drag(this,c);return!1},_mouseStop:function(c){var f=this,e=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(e=a.ui.ddmanager.drop(this,c));this.dropped&&(e=this.dropped,this.dropped=!1);if("original"===this.options.helper&&!a.contains(this.element[0].ownerDocument,this.element[0]))return!1;"invalid"===this.options.revert&&!e||"valid"===this.options.revert&&e||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,e)?
a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==f._trigger("stop",c)&&f._clear()}):!1!==this._trigger("stop",c)&&this._clear();return!1},_mouseUp:function(c){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,c);return a.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(c){return this.options.handle?
!!a(c.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(c){var f=this.options;c=a.isFunction(f.helper)?a(f.helper.apply(this.element[0],[c])):"clone"===f.helper?this.element.clone().removeAttr("id"):this.element;c.parents("body").length||c.appendTo("parent"===f.appendTo?this.element[0].parentNode:f.appendTo);c[0]===this.element[0]||/(fixed|absolute)/.test(c.css("position"))||c.css("position","absolute");return c},_adjustOffsetFromHelper:function(c){"string"===
typeof c&&(c=c.split(" "));a.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){var c=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&
a.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();
return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,f,e;c=this.options;if(c.containment)if("window"===c.containment)this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top];else if("document"===c.containment)this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];else if(c.containment.constructor===Array)this.containment=c.containment;else{if("parent"===c.containment&&(c.containment=this.helper[0].parentNode),f=a(c.containment),e=f[0])c="hidden"!==f.css("overflow"),this.containment=[(parseInt(f.css("borderLeftWidth"),
10)||0)+(parseInt(f.css("paddingLeft"),10)||0),(parseInt(f.css("borderTopWidth"),10)||0)+(parseInt(f.css("paddingTop"),10)||0),(c?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(f.css("borderRightWidth"),10)||0)-(parseInt(f.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(c?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(f.css("borderBottomWidth"),10)||0)-(parseInt(f.css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top-this.margins.bottom],this.relative_container=f}else this.containment=null},_convertPositionTo:function(c,f){f||(f=this.position);var e="absolute"===c?1:-1,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;this.offset.scroll||(this.offset.scroll={top:h.scrollTop(),left:h.scrollLeft()});return{top:f.top+this.offset.relative.top*e+this.offset.parent.top*e-("fixed"===this.cssPosition?
-this.scrollParent.scrollTop():this.offset.scroll.top)*e,left:f.left+this.offset.relative.left*e+this.offset.parent.left*e-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*e}},_generatePosition:function(c){var f,e,h,b=this.options,d="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;h=c.pageX;e=c.pageY;this.offset.scroll||(this.offset.scroll={top:d.scrollTop(),
left:d.scrollLeft()});this.originalPosition&&(this.containment&&(this.relative_container?(f=this.relative_container.offset(),f=[this.containment[0]+f.left,this.containment[1]+f.top,this.containment[2]+f.left,this.containment[3]+f.top]):f=this.containment,c.pageX-this.offset.click.left<f[0]&&(h=f[0]+this.offset.click.left),c.pageY-this.offset.click.top<f[1]&&(e=f[1]+this.offset.click.top),c.pageX-this.offset.click.left>f[2]&&(h=f[2]+this.offset.click.left),c.pageY-this.offset.click.top>f[3]&&(e=f[3]+
this.offset.click.top)),b.grid&&(e=b.grid[1]?this.originalPageY+Math.round((e-this.originalPageY)/b.grid[1])*b.grid[1]:this.originalPageY,e=f?e-this.offset.click.top>=f[1]||e-this.offset.click.top>f[3]?e:e-this.offset.click.top>=f[1]?e-b.grid[1]:e+b.grid[1]:e,h=b.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/b.grid[0])*b.grid[0]:this.originalPageX,h=f?h-this.offset.click.left>=f[0]||h-this.offset.click.left>f[2]?h:h-this.offset.click.left>=f[0]?h-b.grid[0]:h+b.grid[0]:h));return{top:e-
this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=
!1},_trigger:function(c,f,e){e=e||this._uiHash();a.ui.plugin.call(this,c,[f,e]);"drag"===c&&(this.positionAbs=this._convertPositionTo("absolute"));return a.Widget.prototype._trigger.call(this,c,f,e)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(c,f){var e=a(this).data("ui-draggable"),h=e.options,b=a.extend({},f,{item:e.element});e.sortables=
[];a(h.connectToSortable).each(function(){var d=a.data(this,"ui-sortable");d&&!d.options.disabled&&(e.sortables.push({instance:d,shouldRevert:d.options.revert}),d.refreshPositions(),d._trigger("activate",c,b))})},stop:function(c,f){var e=a(this).data("ui-draggable"),h=a.extend({},f,{item:e.element});a.each(e.sortables,function(){this.instance.isOver?(this.instance.isOver=0,e.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),
this.instance._mouseStop(c),this.instance.options.helper=this.instance.options._helper,"original"===e.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",c,h))})},drag:function(c,f){var e=a(this).data("ui-draggable"),h=this;a.each(e.sortables,function(){var b=!1,d=this;this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&
(b=!0,a.each(e.sortables,function(){this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;this!==d&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(d.instance.element[0],this.instance.element[0])&&(b=!1);return b}));b?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(h).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=
this.instance.options.helper,this.instance.options.helper=function(){return f.helper[0]},c.target=this.instance.currentItem[0],this.instance._mouseCapture(c,!0),this.instance._mouseStart(c,!0,!0),this.instance.offset.click.top=e.offset.click.top,this.instance.offset.click.left=e.offset.click.left,this.instance.offset.parent.left-=e.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=e.offset.parent.top-this.instance.offset.parent.top,e._trigger("toSortable",c),e.dropped=
this.instance.element,e.currentItem=e.element,this.instance.fromOutside=e),this.instance.currentItem&&this.instance._mouseDrag(c)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",c,this.instance._uiHash(this.instance)),this.instance._mouseStop(c,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),
e._trigger("fromSortable",c),e.dropped=!1)})}});a.ui.plugin.add("draggable","cursor",{start:function(){var c=a("body"),f=a(this).data("ui-draggable").options;c.css("cursor")&&(f._cursor=c.css("cursor"));c.css("cursor",f.cursor)},stop:function(){var c=a(this).data("ui-draggable").options;c._cursor&&a("body").css("cursor",c._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(c,f){var e=a(f.helper),h=a(this).data("ui-draggable").options;e.css("opacity")&&(h._opacity=e.css("opacity"));e.css("opacity",
h.opacity)},stop:function(c,f){var e=a(this).data("ui-draggable").options;e._opacity&&a(f.helper).css("opacity",e._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var c=a(this).data("ui-draggable");c.scrollParent[0]!==document&&"HTML"!==c.scrollParent[0].tagName&&(c.overflowOffset=c.scrollParent.offset())},drag:function(c){var f=a(this).data("ui-draggable"),e=f.options,h=!1;f.scrollParent[0]!==document&&"HTML"!==f.scrollParent[0].tagName?(e.axis&&"x"===e.axis||(f.overflowOffset.top+
f.scrollParent[0].offsetHeight-c.pageY<e.scrollSensitivity?f.scrollParent[0].scrollTop=h=f.scrollParent[0].scrollTop+e.scrollSpeed:c.pageY-f.overflowOffset.top<e.scrollSensitivity&&(f.scrollParent[0].scrollTop=h=f.scrollParent[0].scrollTop-e.scrollSpeed)),e.axis&&"y"===e.axis||(f.overflowOffset.left+f.scrollParent[0].offsetWidth-c.pageX<e.scrollSensitivity?f.scrollParent[0].scrollLeft=h=f.scrollParent[0].scrollLeft+e.scrollSpeed:c.pageX-f.overflowOffset.left<e.scrollSensitivity&&(f.scrollParent[0].scrollLeft=
h=f.scrollParent[0].scrollLeft-e.scrollSpeed))):(e.axis&&"x"===e.axis||(c.pageY-a(document).scrollTop()<e.scrollSensitivity?h=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(c.pageY-a(document).scrollTop())<e.scrollSensitivity&&(h=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed))),e.axis&&"y"===e.axis||(c.pageX-a(document).scrollLeft()<e.scrollSensitivity?h=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(c.pageX-a(document).scrollLeft())<
e.scrollSensitivity&&(h=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))));!1!==h&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(f,c)}});a.ui.plugin.add("draggable","snap",{start:function(){var c=a(this).data("ui-draggable"),f=c.options;c.snapElements=[];a(f.snap.constructor!==String?f.snap.items||":data(ui-draggable)":f.snap).each(function(){var e=a(this),h=e.offset();this!==c.element[0]&&c.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),
top:h.top,left:h.left})})},drag:function(c,f){var e,h,b,d,g,l,m,k,q,r,s=a(this).data("ui-draggable"),u=s.options,w=u.snapTolerance,x=f.offset.left,y=x+s.helperProportions.width,B=f.offset.top,A=B+s.helperProportions.height;for(q=s.snapElements.length-1;0<=q;q--)g=s.snapElements[q].left,l=g+s.snapElements[q].width,m=s.snapElements[q].top,k=m+s.snapElements[q].height,y<g-w||x>l+w||A<m-w||B>k+w||!a.contains(s.snapElements[q].item.ownerDocument,s.snapElements[q].item)?(s.snapElements[q].snapping&&s.options.snap.release&&
s.options.snap.release.call(s.element,c,a.extend(s._uiHash(),{snapItem:s.snapElements[q].item})),s.snapElements[q].snapping=!1):("inner"!==u.snapMode&&(e=Math.abs(m-A)<=w,h=Math.abs(k-B)<=w,b=Math.abs(g-y)<=w,d=Math.abs(l-x)<=w,e&&(f.position.top=s._convertPositionTo("relative",{top:m-s.helperProportions.height,left:0}).top-s.margins.top),h&&(f.position.top=s._convertPositionTo("relative",{top:k,left:0}).top-s.margins.top),b&&(f.position.left=s._convertPositionTo("relative",{top:0,left:g-s.helperProportions.width}).left-
s.margins.left),d&&(f.position.left=s._convertPositionTo("relative",{top:0,left:l}).left-s.margins.left)),r=e||h||b||d,"outer"!==u.snapMode&&(e=Math.abs(m-B)<=w,h=Math.abs(k-A)<=w,b=Math.abs(g-x)<=w,d=Math.abs(l-y)<=w,e&&(f.position.top=s._convertPositionTo("relative",{top:m,left:0}).top-s.margins.top),h&&(f.position.top=s._convertPositionTo("relative",{top:k-s.helperProportions.height,left:0}).top-s.margins.top),b&&(f.position.left=s._convertPositionTo("relative",{top:0,left:g}).left-s.margins.left),
d&&(f.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left-s.margins.left)),!s.snapElements[q].snapping&&(e||h||b||d||r)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,c,a.extend(s._uiHash(),{snapItem:s.snapElements[q].item})),s.snapElements[q].snapping=e||h||b||d||r)}});a.ui.plugin.add("draggable","stack",{start:function(){var c,f=this.data("ui-draggable").options,f=a.makeArray(a(f.stack)).sort(function(e,c){return(parseInt(a(e).css("zIndex"),10)||
0)-(parseInt(a(c).css("zIndex"),10)||0)});f.length&&(c=parseInt(a(f[0]).css("zIndex"),10)||0,a(f).each(function(e){a(this).css("zIndex",c+e)}),this.css("zIndex",c+f.length))}});a.ui.plugin.add("draggable","zIndex",{start:function(c,f){var e=a(f.helper),h=a(this).data("ui-draggable").options;e.css("zIndex")&&(h._zIndex=e.css("zIndex"));e.css("zIndex",h.zIndex)},stop:function(c,f){var e=a(this).data("ui-draggable").options;e._zIndex&&a(f.helper).css("zIndex",e._zIndex)}})})(jQuery);
(function(a,k){a.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var c,f=this.options,e=f.accept;this.isover=!1;this.isout=!0;this.accept=a.isFunction(e)?e:function(a){return a.is(e)};this.proportions=function(){if(arguments.length)c=arguments[0];else return c?c:c={width:this.element[0].offsetWidth,
height:this.element[0].offsetHeight}};a.ui.ddmanager.droppables[f.scope]=a.ui.ddmanager.droppables[f.scope]||[];a.ui.ddmanager.droppables[f.scope].push(this);f.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var c=0,f=a.ui.ddmanager.droppables[this.options.scope];c<f.length;c++)f[c]===this&&f.splice(c,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(c,f){"accept"===c&&(this.accept=a.isFunction(f)?f:function(a){return a.is(f)});a.Widget.prototype._setOption.apply(this,
arguments)},_activate:function(c){var f=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);f&&this._trigger("activate",c,this.ui(f))},_deactivate:function(c){var f=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);f&&this._trigger("deactivate",c,this.ui(f))},_over:function(c){var f=a.ui.ddmanager.current;f&&(f.currentItem||f.element)[0]!==this.element[0]&&this.accept.call(this.element[0],f.currentItem||
f.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",c,this.ui(f)))},_out:function(c){var f=a.ui.ddmanager.current;f&&(f.currentItem||f.element)[0]!==this.element[0]&&this.accept.call(this.element[0],f.currentItem||f.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",c,this.ui(f)))},_drop:function(c,f){var e=f||a.ui.ddmanager.current,h=!1;if(!e||(e.currentItem||e.element)[0]===this.element[0])return!1;
this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"ui-droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope===e.options.scope&&b.accept.call(b.element[0],e.currentItem||e.element)&&a.ui.intersect(e,a.extend(b,{offset:b.element.offset()}),b.options.tolerance))return h=!0,!1});return h?!1:this.accept.call(this.element[0],e.currentItem||e.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&
this.element.removeClass(this.options.hoverClass),this._trigger("drop",c,this.ui(e)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});a.ui.intersect=function(a,f,e){if(!f.offset)return!1;var h=(a.positionAbs||a.position.absolute).left,b=(a.positionAbs||a.position.absolute).top,d=h+a.helperProportions.width,g=b+a.helperProportions.height,l=f.offset.left,m=f.offset.top,k=l+f.proportions().width,q=m+f.proportions().height;
switch(e){case "fit":return l<=h&&d<=k&&m<=b&&g<=q;case "intersect":return l<h+a.helperProportions.width/2&&d-a.helperProportions.width/2<k&&m<b+a.helperProportions.height/2&&g-a.helperProportions.height/2<q;case "pointer":e=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left;a=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top;h=f.proportions().height;if(m=a>m&&a<m+h)f=f.proportions().width,m=e>l&&e<l+f;return m;case "touch":return(b>=m&&b<=q||
g>=m&&g<=q||b<m&&g>q)&&(h>=l&&h<=k||d>=l&&d<=k||h<l&&d>k);default:return!1}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(c,f){var e,h,b=a.ui.ddmanager.droppables[c.options.scope]||[],d=f?f.type:null,g=(c.currentItem||c.element).find(":data(ui-droppable)").addBack();e=0;a:for(;e<b.length;e++)if(!(b[e].options.disabled||c&&!b[e].accept.call(b[e].element[0],c.currentItem||c.element))){for(h=0;h<g.length;h++)if(g[h]===b[e].element[0]){b[e].proportions().height=0;continue a}b[e].visible=
"none"!==b[e].element.css("display");b[e].visible&&("mousedown"===d&&b[e]._activate.call(b[e],f),b[e].offset=b[e].element.offset(),b[e].proportions({width:b[e].element[0].offsetWidth,height:b[e].element[0].offsetHeight}))}},drop:function(c,f){var e=!1;a.each((a.ui.ddmanager.droppables[c.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(c,this,this.options.tolerance)&&(e=this._drop.call(this,f)||e),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],
c.currentItem||c.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,f)))});return e},dragStart:function(c,f){c.element.parentsUntil("body").bind("scroll.droppable",function(){c.options.refreshPositions||a.ui.ddmanager.prepareOffsets(c,f)})},drag:function(c,f){c.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(c,f);a.each(a.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var e,h,b;b=a.ui.intersect(c,this,this.options.tolerance);
var d=!b&&this.isover?"isout":b&&!this.isover?"isover":null;d&&(this.options.greedy&&(h=this.options.scope,b=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===h}),b.length&&(e=a.data(b[0],"ui-droppable"),e.greedyChild="isover"===d)),e&&"isover"===d&&(e.isover=!1,e.isout=!0,e._out.call(e,f)),this[d]=!0,this["isout"===d?"isover":"isout"]=!1,this["isover"===d?"_over":"_out"].call(this,f),e&&"isout"===d&&(e.isout=!1,e.isover=!0,e._over.call(e,
f)))}})},dragStop:function(c,f){c.element.parentsUntil("body").unbind("scroll.droppable");c.options.refreshPositions||a.ui.ddmanager.prepareOffsets(c,f)}}})(jQuery);
(function(a,k){a.effects={effect:{}};(function(a,f){function e(b,a,d){var g=k[a.type]||{};if(null==b)return d||!a.def?null:a.def;b=g.floor?~~b:parseFloat(b);return isNaN(b)?a.def:g.mod?(b+g.mod)%g.mod:0>b?0:g.max<b?g.max:b}function h(b){var d=l(),e=d._rgba=[];b=b.toLowerCase();u(g,function(a,g){var c,h=g.re.exec(b);c=h&&g.parse(h);h=g.space||"rgba";if(c)return c=d[h](c),d[m[h].cache]=c[m[h].cache],e=d._rgba=c._rgba,!1});return e.length?("0,0,0,0"===e.join()&&a.extend(e,s.transparent),d):s[b]}function b(b,
a,d){d=(d+1)%1;return 1>6*d?b+(a-b)*d*6:1>2*d?a:2>3*d?b+(a-b)*(2/3-d)*6:b}var d=/^([\-+])=\s*(\d+\.?\d*)/,g=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(b){return[b[1],b[2],b[3],b[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(b){return[2.55*b[1],2.55*b[2],2.55*b[3],b[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(b){return[parseInt(b[1],
16),parseInt(b[2],16),parseInt(b[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(b){return[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(b){return[b[1],b[2]/100,b[3]/100,b[4]]}}],l=a.Color=function(b,d,g,e){return new a.Color.fn.parse(b,d,g,e)},m={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,
type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},k={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},q=l.support={},r=a("<p>")[0],s,u=a.each;r.style.cssText="background-color:rgba(1,1,1,.5)";q.rgba=-1<r.style.backgroundColor.indexOf("rgba");u(m,function(b,a){a.cache="_"+b;a.props.alpha={idx:3,type:"percent",def:1}});l.fn=a.extend(l.prototype,{parse:function(b,d,g,k){if(b===f)return this._rgba=[null,null,
null,null],this;if(b.jquery||b.nodeType)b=a(b).css(d),d=f;var q=this,r=a.type(b),v=this._rgba=[];d!==f&&(b=[b,d,g,k],r="array");if("string"===r)return this.parse(h(b)||s._default);if("array"===r)return u(m.rgba.props,function(a,d){v[d.idx]=e(b[d.idx],d)}),this;if("object"===r)return b instanceof l?u(m,function(a,d){b[d.cache]&&(q[d.cache]=b[d.cache].slice())}):u(m,function(d,g){var h=g.cache;u(g.props,function(a,d){if(!q[h]&&g.to){if("alpha"===a||null==b[a])return;q[h]=g.to(q._rgba)}q[h][d.idx]=e(b[a],
d,!0)});q[h]&&0>a.inArray(null,q[h].slice(0,3))&&(q[h][3]=1,g.from&&(q._rgba=g.from(q[h])))}),this},is:function(b){var a=l(b),d=!0,g=this;u(m,function(b,e){var c,h=a[e.cache];h&&(c=g[e.cache]||e.to&&e.to(g._rgba)||[],u(e.props,function(b,a){if(null!=h[a.idx])return d=h[a.idx]===c[a.idx]}));return d});return d},_space:function(){var b=[],a=this;u(m,function(d,g){a[g.cache]&&b.push(d)});return b.pop()},transition:function(b,a){var d=l(b),g=d._space(),c=m[g],h=0===this.alpha()?l("transparent"):this,
f=h[c.cache]||c.to(h._rgba),q=f.slice(),d=d[c.cache];u(c.props,function(b,g){var c=g.idx,h=f[c],l=d[c],m=k[g.type]||{};null!==l&&(null===h?q[c]=l:(m.mod&&(l-h>m.mod/2?h+=m.mod:h-l>m.mod/2&&(h-=m.mod)),q[c]=e((l-h)*a+h,g)))});return this[g](q)},blend:function(b){if(1===this._rgba[3])return this;var d=this._rgba.slice(),g=d.pop(),e=l(b)._rgba;return l(a.map(d,function(b,a){return(1-g)*e[a]+g*b}))},toRgbaString:function(){var b="rgba(",d=a.map(this._rgba,function(b,a){return null==b?2<a?1:0:b});1===
d[3]&&(d.pop(),b="rgb(");return b+d.join()+")"},toHslaString:function(){var b="hsla(",d=a.map(this.hsla(),function(b,a){null==b&&(b=2<a?1:0);a&&3>a&&(b=Math.round(100*b)+"%");return b});1===d[3]&&(d.pop(),b="hsl(");return b+d.join()+")"},toHexString:function(b){var d=this._rgba.slice(),g=d.pop();b&&d.push(~~(255*g));return"#"+a.map(d,function(b){b=(b||0).toString(16);return 1===b.length?"0"+b:b}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});l.fn.parse.prototype=
l.fn;m.hsla.to=function(b){if(null==b[0]||null==b[1]||null==b[2])return[null,null,null,b[3]];var a=b[0]/255,d=b[1]/255,g=b[2]/255;b=b[3];var e=Math.max(a,d,g),c=Math.min(a,d,g),h=e-c,l=e+c,f=.5*l,l=0===h?0:.5>=f?h/l:h/(2-l);return[Math.round(c===e?0:a===e?60*(d-g)/h+360:d===e?60*(g-a)/h+120:60*(a-d)/h+240)%360,l,f,null==b?1:b]};m.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var d=a[0]/360,g=a[1],e=a[2];a=a[3];g=.5>=e?e*(1+g):e+g-e*g;e=2*e-g;return[Math.round(255*
b(e,g,d+1/3)),Math.round(255*b(e,g,d)),Math.round(255*b(e,g,d-1/3)),a]};u(m,function(b,g){var h=g.props,m=g.cache,q=g.to,k=g.from;l.fn[b]=function(b){q&&!this[m]&&(this[m]=q(this._rgba));if(b===f)return this[m].slice();var d,g=a.type(b),r="array"===g||"object"===g?b:arguments,v=this[m].slice();u(h,function(b,a){var d=r["object"===g?b:a.idx];null==d&&(d=v[a.idx]);v[a.idx]=e(d,a)});return k?(d=l(k(v)),d[m]=v,d):l(v)};u(h,function(g,e){l.fn[g]||(l.fn[g]=function(h){var l=a.type(h),f="alpha"===g?this._hsla?
"hsla":"rgba":b,m=this[f](),q=m[e.idx];if("undefined"===l)return q;"function"===l&&(h=h.call(this,q),l=a.type(h));if(null==h&&e.empty)return this;"string"===l&&(l=d.exec(h))&&(h=q+parseFloat(l[2])*("+"===l[1]?1:-1));m[e.idx]=h;return this[f](m)})})});l.hook=function(b){b=b.split(" ");u(b,function(b,d){a.cssHooks[d]={set:function(b,g){var e,f="";if("transparent"!==g&&("string"!==a.type(g)||(e=h(g)))){g=l(e||g);if(!q.rgba&&1!==g._rgba[3]){for(e="backgroundColor"===d?b.parentNode:b;(""===f||"transparent"===
f)&&e&&e.style;)try{f=a.css(e,"backgroundColor"),e=e.parentNode}catch(m){}g=g.blend(f&&"transparent"!==f?f:"_default")}g=g.toRgbaString()}try{b.style[d]=g}catch(k){}}};a.fx.step[d]=function(b){b.colorInit||(b.start=l(b.elem,d),b.end=l(b.end),b.colorInit=!0);a.cssHooks[d].set(b.elem,b.start.transition(b.end,b.pos))}})};l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");a.cssHooks.borderColor=
{expand:function(b){var a={};u(["Top","Right","Bottom","Left"],function(d,g){a["border"+g+"Color"]=b});return a}};s=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){function c(e){var b,d=e.ownerDocument.defaultView?
e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,g={};if(d&&d.length&&d[0]&&d[d[0]])for(e=d.length;e--;)b=d[e],"string"===typeof d[b]&&(g[a.camelCase(b)]=d[b]);else for(b in d)"string"===typeof d[b]&&(g[b]=d[b]);return g}var f=["add","remove","toggle"],e={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,b){a.fx.step[b]=function(a){if("none"!==
a.end&&!a.setAttr||1===a.pos&&!a.setAttr)jQuery.style(a.elem,b,a.end),a.setAttr=!0}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a.effects.animateClass=function(h,b,d,g){var l=a.speed(b,d,g);return this.queue(function(){var b=a(this),d=b.attr("class")||"",g,k=l.children?b.find("*").addBack():b,k=k.map(function(){return{el:a(this),start:c(this)}});g=function(){a.each(f,function(a,d){if(h[d])b[d+"Class"](h[d])})};g();k=k.map(function(){this.end=
c(this.el[0]);var b=this.start,d=this.end,g={},h,l;for(h in d)l=d[h],b[h]===l||e[h]||!a.fx.step[h]&&isNaN(parseFloat(l))||(g[h]=l);this.diff=g;return this});b.attr("class",d);k=k.map(function(){var b=this,d=a.Deferred(),g=a.extend({},l,{queue:!1,complete:function(){d.resolve(b)}});this.el.animate(this.diff,g);return d.promise()});a.when.apply(a,k.get()).done(function(){g();a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})});l.complete.call(b[0])})})};a.fn.extend({addClass:function(e){return function(b,
d,g,c){return d?a.effects.animateClass.call(this,{add:b},d,g,c):e.apply(this,arguments)}}(a.fn.addClass),removeClass:function(e){return function(b,d,g,c){return 1<arguments.length?a.effects.animateClass.call(this,{remove:b},d,g,c):e.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(e){return function(b,d,g,c,f){return"boolean"===typeof d||d===k?g?a.effects.animateClass.call(this,d?{add:b}:{remove:b},g,c,f):e.apply(this,arguments):a.effects.animateClass.call(this,{toggle:b},d,g,c)}}(a.fn.toggleClass),
switchClass:function(e,b,d,g,c){return a.effects.animateClass.call(this,{add:b,remove:e},d,g,c)}})})();(function(){function c(e,c,b,d){a.isPlainObject(e)&&(c=e,e=e.effect);e={effect:e};null==c&&(c={});a.isFunction(c)&&(d=c,b=null,c={});if("number"===typeof c||a.fx.speeds[c])d=b,b=c,c={};a.isFunction(b)&&(d=b,b=null);c&&a.extend(e,c);b=b||c.duration;e.duration=a.fx.off?0:"number"===typeof b?b:b in a.fx.speeds?a.fx.speeds[b]:a.fx.speeds._default;e.complete=d||c.complete;return e}function f(e){return!e||
"number"===typeof e||a.fx.speeds[e]||"string"===typeof e&&!a.effects.effect[e]||a.isFunction(e)||"object"===typeof e&&!e.effect?!0:!1}a.extend(a.effects,{version:"1.10.4",save:function(a,c){for(var b=0;b<c.length;b++)null!==c[b]&&a.data("ui-effects-"+c[b],a[0].style[c[b]])},restore:function(a,c){var b,d;for(d=0;d<c.length;d++)null!==c[d]&&(b=a.data("ui-effects-"+c[d]),b===k&&(b=""),a.css(c[d],b))},setMode:function(a,c){"toggle"===c&&(c=a.is(":hidden")?"show":"hide");return c},getBaseline:function(a,
c){var b,d;switch(a[0]){case "top":b=0;break;case "middle":b=.5;break;case "bottom":b=1;break;default:b=a[0]/c.height}switch(a[1]){case "left":d=0;break;case "center":d=.5;break;case "right":d=1;break;default:d=a[1]/c.width}return{x:d,y:b}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var c={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},b=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",
margin:0,padding:0}),d={width:e.width(),height:e.height()},g=document.activeElement;try{g.id}catch(l){g=document.body}e.wrap(b);(e[0]===g||a.contains(e[0],g))&&a(g).focus();b=e.parent();"static"===e.css("position")?(b.css({position:"relative"}),e.css({position:"relative"})):(a.extend(c,{position:e.css("position"),zIndex:e.css("z-index")}),a.each(["top","left","bottom","right"],function(b,a){c[a]=e.css(a);isNaN(parseInt(c[a],10))&&(c[a]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",
bottom:"auto"}));e.css(d);return b.css(c).show()},removeWrapper:function(e){var c=document.activeElement;e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===c||a.contains(e[0],c))&&a(c).focus());return e},setTransition:function(e,c,b,d){d=d||{};a.each(c,function(a,c){var h=e.cssUnit(c);0<h[0]&&(d[c]=h[0]*b+h[1])});return d}});a.fn.extend({effect:function(){function e(b){function d(){a.isFunction(c)&&c.call(e[0]);a.isFunction(b)&&b()}var e=a(this),c=h.complete,f=h.mode;(e.is(":hidden")?
"hide"===f:"show"===f)?(e[f](),d()):g.call(e[0],h,d)}var h=c.apply(this,arguments),b=h.mode,d=h.queue,g=a.effects.effect[h.effect];return a.fx.off||!g?b?this[b](h.duration,h.complete):this.each(function(){h.complete&&h.complete.call(this)}):!1===d?this.each(e):this.queue(d||"fx",e)},show:function(a){return function(h){if(f(h))return a.apply(this,arguments);var b=c.apply(this,arguments);b.mode="show";return this.effect.call(this,b)}}(a.fn.show),hide:function(a){return function(h){if(f(h))return a.apply(this,
arguments);var b=c.apply(this,arguments);b.mode="hide";return this.effect.call(this,b)}}(a.fn.hide),toggle:function(a){return function(h){if(f(h)||"boolean"===typeof h)return a.apply(this,arguments);var b=c.apply(this,arguments);b.mode="toggle";return this.effect.call(this,b)}}(a.fn.toggle),cssUnit:function(e){var c=this.css(e),b=[];a.each(["em","px","%","pt"],function(a,g){0<c.indexOf(g)&&(b=[parseFloat(c),g])});return b}})})();(function(){var c={};a.each(["Quad","Cubic","Quart","Quint","Expo"],
function(a,e){c[e]=function(e){return Math.pow(e,a+2)}});a.extend(c,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var e,c=4;a<((e=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*e-2)/22-a,2)}});a.each(c,function(c,e){a.easing["easeIn"+c]=e;a.easing["easeOut"+c]=function(a){return 1-
e(1-a)};a.easing["easeInOut"+c]=function(a){return.5>a?e(2*a)/2:1-e(-2*a+2)/2}})})()})(jQuery);
(function(a,k){var c=/up|down|vertical/,f=/up|left|vertical|horizontal/;a.effects.effect.blind=function(e,h){var b=a(this),d="position top bottom left right height width".split(" "),g=a.effects.setMode(b,e.mode||"hide"),l=e.direction||"up",m=c.test(l),k=m?"height":"width",q=m?"top":"left",l=f.test(l),r={},s="show"===g,u,w,x;b.parent().is(".ui-effects-wrapper")?a.effects.save(b.parent(),d):a.effects.save(b,d);b.show();u=a.effects.createWrapper(b).css({overflow:"hidden"});w=u[k]();x=parseFloat(u.css(q))||
0;r[k]=s?w:0;l||(b.css(m?"bottom":"right",0).css(m?"top":"left","auto").css({position:"absolute"}),r[q]=s?x:w+x);s&&(u.css(k,0),l||u.css(q,x+w));u.animate(r,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===g&&b.hide();a.effects.restore(b,d);a.effects.removeWrapper(b);h()}})}})(jQuery);
(function(a,k){a.effects.effect.bounce=function(c,f){var e=a(this),h="position top bottom left right height width".split(" "),b=a.effects.setMode(e,c.mode||"effect"),d="hide"===b,g="show"===b,l=c.direction||"up",b=c.distance,m=c.times||5,k=2*m+(g||d?1:0),q=c.duration/k,r=c.easing,s="up"===l||"down"===l?"top":"left",l="up"===l||"left"===l,u,w,x=e.queue(),y=x.length;(g||d)&&h.push("opacity");a.effects.save(e,h);e.show();a.effects.createWrapper(e);b||(b=e["top"===s?"outerHeight":"outerWidth"]()/3);g&&
(w={opacity:1},w[s]=0,e.css("opacity",0).css(s,l?2*-b:2*b).animate(w,q,r));d&&(b/=Math.pow(2,m-1));w={};for(g=w[s]=0;g<m;g++)u={},u[s]=(l?"-=":"+=")+b,e.animate(u,q,r).animate(w,q,r),b=d?2*b:b/2;d&&(u={opacity:0},u[s]=(l?"-=":"+=")+b,e.animate(u,q,r));e.queue(function(){d&&e.hide();a.effects.restore(e,h);a.effects.removeWrapper(e);f()});1<y&&x.splice.apply(x,[1,0].concat(x.splice(y,k+1)));e.dequeue()}})(jQuery);
(function(a,k){a.effects.effect.clip=function(c,f){var e=a(this),h="position top bottom left right height width".split(" "),b="show"===a.effects.setMode(e,c.mode||"hide"),d="vertical"===(c.direction||"vertical"),g=d?"height":"width",d=d?"top":"left",l={},m,k;a.effects.save(e,h);e.show();m=a.effects.createWrapper(e).css({overflow:"hidden"});m="IMG"===e[0].tagName?m:e;k=m[g]();b&&(m.css(g,0),m.css(d,k/2));l[g]=b?k:0;l[d]=b?0:k/2;m.animate(l,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){b||
e.hide();a.effects.restore(e,h);a.effects.removeWrapper(e);f()}})}})(jQuery);
(function(a,k){a.effects.effect.drop=function(c,f){var e=a(this),h="position top bottom left right opacity height width".split(" "),b=a.effects.setMode(e,c.mode||"hide"),d="show"===b,g=c.direction||"left",l="up"===g||"down"===g?"top":"left",g="up"===g||"left"===g?"pos":"neg",m={opacity:d?1:0},k;a.effects.save(e,h);e.show();a.effects.createWrapper(e);k=c.distance||e["top"===l?"outerHeight":"outerWidth"](!0)/2;d&&e.css("opacity",0).css(l,"pos"===g?-k:k);m[l]=(d?"pos"===g?"+=":"-=":"pos"===g?"-=":"+=")+
k;e.animate(m,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){"hide"===b&&e.hide();a.effects.restore(e,h);a.effects.removeWrapper(e);f()}})}})(jQuery);
(function(a,k){a.effects.effect.explode=function(c,f){function e(){q.push(this);q.length===h*b&&(d.css({visibility:"visible"}),a(q).remove(),g||d.hide(),f())}var h=c.pieces?Math.round(Math.sqrt(c.pieces)):3,b=h,d=a(this),g="show"===a.effects.setMode(d,c.mode||"hide"),l=d.show().css("visibility","hidden").offset(),m=Math.ceil(d.outerWidth()/b),k=Math.ceil(d.outerHeight()/h),q=[],r,s,u,w,x,y;for(r=0;r<h;r++)for(w=l.top+r*k,y=r-(h-1)/2,s=0;s<b;s++)u=l.left+s*m,x=s-(b-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",
visibility:"visible",left:-s*m,top:-r*k}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:m,height:k,left:u+(g?x*m:0),top:w+(g?y*k:0),opacity:g?0:1}).animate({left:u+(g?0:x*m),top:w+(g?0:y*k),opacity:g?1:0},c.duration||500,c.easing,e)}})(jQuery);(function(a,k){a.effects.effect.fade=function(c,f){var e=a(this),h=a.effects.setMode(e,c.mode||"toggle");e.animate({opacity:h},{queue:!1,duration:c.duration,easing:c.easing,complete:f})}})(jQuery);
(function(a,k){a.effects.effect.fold=function(c,f){var e=a(this),h="position top bottom left right height width".split(" "),b=a.effects.setMode(e,c.mode||"hide"),d="show"===b,g="hide"===b,b=c.size||15,l=/([0-9]+)%/.exec(b),m=!!c.horizFirst,k=d!==m,q=k?["width","height"]:["height","width"],r=c.duration/2,s,u={},w={};a.effects.save(e,h);e.show();s=a.effects.createWrapper(e).css({overflow:"hidden"});k=k?[s.width(),s.height()]:[s.height(),s.width()];l&&(b=parseInt(l[1],10)/100*k[g?0:1]);d&&s.css(m?{height:0,
width:b}:{height:b,width:0});u[q[0]]=d?k[0]:b;w[q[1]]=d?k[1]:0;s.animate(u,r,c.easing).animate(w,r,c.easing,function(){g&&e.hide();a.effects.restore(e,h);a.effects.removeWrapper(e);f()})}})(jQuery);
(function(a,k){a.effects.effect.highlight=function(c,f){var e=a(this),h=["backgroundImage","backgroundColor","opacity"],b=a.effects.setMode(e,c.mode||"show"),d={backgroundColor:e.css("backgroundColor")};"hide"===b&&(d.opacity=0);a.effects.save(e,h);e.show().css({backgroundImage:"none",backgroundColor:c.color||"#ffff99"}).animate(d,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){"hide"===b&&e.hide();a.effects.restore(e,h);f()}})}})(jQuery);
(function(a,k){a.effects.effect.pulsate=function(c,f){var e=a(this),h=a.effects.setMode(e,c.mode||"show"),b="show"===h,d="hide"===h,h=2*(c.times||5)+(b||"hide"===h?1:0),g=c.duration/h,l=0,m=e.queue(),k=m.length;if(b||!e.is(":visible"))e.css("opacity",0).show(),l=1;for(b=1;b<h;b++)e.animate({opacity:l},g,c.easing),l=1-l;e.animate({opacity:l},g,c.easing);e.queue(function(){d&&e.hide();f()});1<k&&m.splice.apply(m,[1,0].concat(m.splice(k,h+1)));e.dequeue()}})(jQuery);
(function(a,k){a.effects.effect.puff=function(c,f){var e=a(this),h=a.effects.setMode(e,c.mode||"hide"),b="hide"===h,d=parseInt(c.percent,10)||150,g=d/100,l={height:e.height(),width:e.width(),outerHeight:e.outerHeight(),outerWidth:e.outerWidth()};a.extend(c,{effect:"scale",queue:!1,fade:!0,mode:h,complete:f,percent:b?d:100,from:b?l:{height:l.height*g,width:l.width*g,outerHeight:l.outerHeight*g,outerWidth:l.outerWidth*g}});e.effect(c)};a.effects.effect.scale=function(c,f){var e=a(this),h=a.extend(!0,
{},c),b=a.effects.setMode(e,c.mode||"effect"),d=parseInt(c.percent,10)||(0===parseInt(c.percent,10)?0:"hide"===b?0:100),g=c.direction||"both",l=c.origin,m={height:e.height(),width:e.width(),outerHeight:e.outerHeight(),outerWidth:e.outerWidth()},k="horizontal"!==g?d/100:1,d="vertical"!==g?d/100:1;h.effect="size";h.queue=!1;h.complete=f;"effect"!==b&&(h.origin=l||["middle","center"],h.restore=!0);h.from=c.from||("show"===b?{height:0,width:0,outerHeight:0,outerWidth:0}:m);h.to={height:m.height*k,width:m.width*
d,outerHeight:m.outerHeight*k,outerWidth:m.outerWidth*d};h.fade&&("show"===b&&(h.from.opacity=0,h.to.opacity=1),"hide"===b&&(h.from.opacity=1,h.to.opacity=0));e.effect(h)};a.effects.effect.size=function(c,f){var e,h,b,d,g,l,m=a(this),k="position top bottom left right width height overflow opacity".split(" ");g="position top bottom left right overflow opacity".split(" ");var q=["width","height","overflow"],r=["fontSize"],s=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth",
"borderRightWidth","paddingLeft","paddingRight"],w=a.effects.setMode(m,c.mode||"effect"),x=c.restore||"effect"!==w,y=c.scale||"both";l=c.origin||["middle","center"];var B=m.css("position"),A=x?k:g,z={height:0,width:0,outerHeight:0,outerWidth:0};"show"===w&&m.show();g={height:m.height(),width:m.width(),outerHeight:m.outerHeight(),outerWidth:m.outerWidth()};"toggle"===c.mode&&"show"===w?(m.from=c.to||z,m.to=c.from||g):(m.from=c.from||("show"===w?z:g),m.to=c.to||("hide"===w?z:g));b=m.from.height/g.height;
d=m.from.width/g.width;e=m.to.height/g.height;h=m.to.width/g.width;if("box"===y||"both"===y)b!==e&&(A=A.concat(s),m.from=a.effects.setTransition(m,s,b,m.from),m.to=a.effects.setTransition(m,s,e,m.to)),d!==h&&(A=A.concat(u),m.from=a.effects.setTransition(m,u,d,m.from),m.to=a.effects.setTransition(m,u,h,m.to));"content"!==y&&"both"!==y||b===e||(A=A.concat(r).concat(q),m.from=a.effects.setTransition(m,r,b,m.from),m.to=a.effects.setTransition(m,r,e,m.to));a.effects.save(m,A);m.show();a.effects.createWrapper(m);
m.css("overflow","hidden").css(m.from);l&&(l=a.effects.getBaseline(l,g),m.from.top=(g.outerHeight-m.outerHeight())*l.y,m.from.left=(g.outerWidth-m.outerWidth())*l.x,m.to.top=(g.outerHeight-m.to.outerHeight)*l.y,m.to.left=(g.outerWidth-m.to.outerWidth)*l.x);m.css(m.from);if("content"===y||"both"===y)s=s.concat(["marginTop","marginBottom"]).concat(r),u=u.concat(["marginLeft","marginRight"]),q=k.concat(s).concat(u),m.find("*[width]").each(function(){var g=a(this),l=g.height(),f=g.width(),m=g.outerHeight(),
k=g.outerWidth();x&&a.effects.save(g,q);g.from={height:l*b,width:f*d,outerHeight:m*b,outerWidth:k*d};g.to={height:l*e,width:f*h,outerHeight:l*e,outerWidth:f*h};b!==e&&(g.from=a.effects.setTransition(g,s,b,g.from),g.to=a.effects.setTransition(g,s,e,g.to));d!==h&&(g.from=a.effects.setTransition(g,u,d,g.from),g.to=a.effects.setTransition(g,u,h,g.to));g.css(g.from);g.animate(g.to,c.duration,c.easing,function(){x&&a.effects.restore(g,q)})});m.animate(m.to,{queue:!1,duration:c.duration,easing:c.easing,
complete:function(){0===m.to.opacity&&m.css("opacity",m.from.opacity);"hide"===w&&m.hide();a.effects.restore(m,A);x||("static"===B?m.css({position:"relative",top:m.to.top,left:m.to.left}):a.each(["top","left"],function(b,a){m.css(a,function(a,d){var g=parseInt(d,10),e=b?m.to.left:m.to.top;return"auto"===d?e+"px":g+e+"px"})}));a.effects.removeWrapper(m);f()}})}})(jQuery);
(function(a,k){a.effects.effect.shake=function(c,f){var e=a(this),h="position top bottom left right height width".split(" "),b=a.effects.setMode(e,c.mode||"effect"),d=c.direction||"left",g=c.distance||20,l=c.times||3,m=2*l+1,k=Math.round(c.duration/m),q="up"===d||"down"===d?"top":"left",r="up"===d||"left"===d,d={},s={},u={},w=e.queue(),x=w.length;a.effects.save(e,h);e.show();a.effects.createWrapper(e);d[q]=(r?"-=":"+=")+g;s[q]=(r?"+=":"-=")+2*g;u[q]=(r?"-=":"+=")+2*g;e.animate(d,k,c.easing);for(g=
1;g<l;g++)e.animate(s,k,c.easing).animate(u,k,c.easing);e.animate(s,k,c.easing).animate(d,k/2,c.easing).queue(function(){"hide"===b&&e.hide();a.effects.restore(e,h);a.effects.removeWrapper(e);f()});1<x&&w.splice.apply(w,[1,0].concat(w.splice(x,m+1)));e.dequeue()}})(jQuery);
(function(a,k){a.effects.effect.slide=function(c,f){var e=a(this),h="position top bottom left right width height".split(" "),b=a.effects.setMode(e,c.mode||"show"),d="show"===b,g=c.direction||"left",l="up"===g||"down"===g?"top":"left",g="up"===g||"left"===g,m,k={};a.effects.save(e,h);e.show();m=c.distance||e["top"===l?"outerHeight":"outerWidth"](!0);a.effects.createWrapper(e).css({overflow:"hidden"});d&&e.css(l,g?isNaN(m)?"-"+m:-m:m);k[l]=(d?g?"+=":"-=":g?"-=":"+=")+m;e.animate(k,{queue:!1,duration:c.duration,
easing:c.easing,complete:function(){"hide"===b&&e.hide();a.effects.restore(e,h);a.effects.removeWrapper(e);f()}})}})(jQuery);
(function(a,k){a.effects.effect.transfer=function(c,f){var e=a(this),h=a(c.to),b="fixed"===h.css("position"),d=a("body"),g=b?d.scrollTop():0,d=b?d.scrollLeft():0,l=h.offset(),h={top:l.top-g,left:l.left-d,height:h.innerHeight(),width:h.innerWidth()},l=e.offset(),m=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(c.className).css({top:l.top-g,left:l.left-d,height:e.innerHeight(),width:e.innerWidth(),position:b?"fixed":"absolute"}).animate(h,c.duration,c.easing,function(){m.remove();
f()})}})(jQuery);
(function(a,k){a.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,
a.proxy(function(a){this.options.disabled&&a.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(c){var f=a(c.target).closest(".ui-menu-item");!this.mouseHandled&&f.not(".ui-state-disabled").length&&(this.select(c),c.isPropagationStopped()||(this.mouseHandled=
!0),f.has(".ui-menu").length?this.expand(c):!this.element.is(":focus")&&a(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(c){var f=a(c.currentTarget);f.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(c,f)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,f){var e=this.active||
this.element.children(".ui-menu-item").eq(0);f||this.focus(a,e)},blur:function(c){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(c)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(c){a(c.target).closest(".ui-menu").length||this.collapseAll(c);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var c=a(this);c.data("ui-menu-submenu-carat")&&c.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(c){function f(b){return b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var e,h,b,d,g=!0;switch(c.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(c);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(c);break;case a.ui.keyCode.HOME:this._move("first","first",c);break;case a.ui.keyCode.END:this._move("last","last",c);break;case a.ui.keyCode.UP:this.previous(c);break;case a.ui.keyCode.DOWN:this.next(c);break;case a.ui.keyCode.LEFT:this.collapse(c);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(c);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(c);
break;case a.ui.keyCode.ESCAPE:this.collapse(c);break;default:g=!1,e=this.previousFilter||"",h=String.fromCharCode(c.keyCode),b=!1,clearTimeout(this.filterTimer),h===e?b=!0:h=e+h,d=new RegExp("^"+f(h),"i"),e=this.activeMenu.children(".ui-menu-item").filter(function(){return d.test(a(this).children("a").text())}),e=b&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e,e.length||(h=String.fromCharCode(c.keyCode),d=new RegExp("^"+f(h),"i"),e=this.activeMenu.children(".ui-menu-item").filter(function(){return d.test(a(this).children("a").text())})),
e.length?(this.focus(c,e),1<e.length?(this.previousFilter=h,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}g&&c.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var c,f=this.options.icons.submenu;c=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);
c.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=a(this),c=e.prev("a"),b=a("<span>").addClass("ui-menu-icon ui-icon "+f).data("ui-menu-submenu-carat",!0);c.attr("aria-haspopup","true").prepend(b);e.attr("aria-labelledby",c.attr("id"))});c=c.add(this.element);c.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,
role:this._itemRole()});c.children(":not(.ui-menu-item)").each(function(){var e=a(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")});c.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,f){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(f.submenu);
this._super(a,f)},focus:function(a,f){var e;this.blur(a,a&&"focus"===a.type);this._scrollIntoView(f);this.active=f.first();e=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",e.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);e=f.children(".ui-menu");e.length&&a&&/^mouse/.test(a.type)&&
this._startOpening(e);this.activeMenu=f.parent();this._trigger("focus",a,{item:f})},_scrollIntoView:function(c){var f,e,h;this._hasScroll()&&(f=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,e=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,f=c.offset().top-this.activeMenu.offset().top-f-e,e=this.activeMenu.scrollTop(),h=this.activeMenu.height(),c=c.height(),0>f?this.activeMenu.scrollTop(e+f):f+c>h&&this.activeMenu.scrollTop(e+f-h+c))},blur:function(a,f){f||clearTimeout(this.timer);
this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(c){var f=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(c.parents(".ui-menu")).hide().attr("aria-hidden","true");c.show().removeAttr("aria-hidden").attr("aria-expanded",
"true").position(f)},collapseAll:function(c,f){clearTimeout(this.timer);this.timer=this._delay(function(){var e=f?this.element:a(c&&c.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element);this._close(e);this.blur(c);this.activeMenu=e},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var f=
this.active&&this.active.parent().closest(".ui-menu-item",this.element);f&&f.length&&(this._close(),this.focus(a,f))},expand:function(a){var f=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();f&&f.length&&(this._open(f.parent()),this._delay(function(){this.focus(a,f)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&
!this.active.nextAll(".ui-menu-item").length},_move:function(a,f,e){var h;this.active&&(h="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0));h&&h.length&&this.active||(h=this.activeMenu.children(".ui-menu-item")[f]());this.focus(e,h)},nextPage:function(c){var f,e,h;this.active?this.isLastItem()||(this._hasScroll()?(e=this.active.offset().top,h=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){f=
a(this);return 0>f.offset().top-e-h}),this.focus(c,f)):this.focus(c,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(c)},previousPage:function(c){var f,e,h;this.active?this.isFirstItem()||(this._hasScroll()?(e=this.active.offset().top,h=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){f=a(this);return 0<f.offset().top-e+h}),this.focus(c,f)):this.focus(c,this.activeMenu.children(".ui-menu-item").first())):this.next(c)},_hasScroll:function(){return this.element.outerHeight()<
this.element.prop("scrollHeight")},select:function(c){this.active=this.active||a(c.target).closest(".ui-menu-item");var f={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(c,!0);this._trigger("select",c,f)}})})(jQuery);
(function(a,k){a.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove()},value:function(a){if(a===k)return this.options.value;this.options.value=this._constrainedValue(a);this._refreshValue()},_constrainedValue:function(a){a===k&&(a=this.options.value);this.indeterminate=!1===a;"number"!==typeof a&&(a=0);return this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var f=a.value;delete a.value;this._super(a);this.options.value=this._constrainedValue(f);this._refreshValue()},_setOption:function(a,f){"max"===
a&&(f=Math.max(this.min,f));this._super(a,f)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var c=this.options.value,f=this._percentage();this.valueDiv.toggle(this.indeterminate||c>this.min).toggleClass("ui-corner-right",c===this.options.max).width(f.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||
(this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":c}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==c&&(this.oldValue=c,this._trigger("change"));c===this.options.max&&this._trigger("complete")}})})(jQuery);
(function(a,k){function c(a){return parseInt(a,10)||0}function f(a){return!isNaN(parseInt(a,10))}a.widget("ui.resizable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,c,b,d,g,l=this,f=this.options;this.element.addClass("ui-resizable");
a.extend(this,{_aspectRatio:!!f.aspectRatio,aspectRatio:f.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:f.helper||f.ghost||f.animate?f.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=f.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");
if(this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},c=0;c<e.length;c++)b=a.trim(e[c]),g="ui-resizable-"+b,d=a("<div class='ui-resizable-handle "+g+"'></div>"),d.css({zIndex:f.zIndex}),"se"===b&&d.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[b]=".ui-resizable-"+b,this.element.append(d);this._renderAxis=function(b){var d,g,e;b=b||this.element;for(d in this.handles)this.handles[d].constructor===
String&&(this.handles[d]=a(this.handles[d],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(g=a(this.handles[d],this.element),e=/sw|ne|nw|se|n|s/.test(d)?g.outerHeight():g.outerWidth(),g=["padding",/ne|nw|n/.test(d)?"Top":/se|sw|s/.test(d)?"Bottom":/^e$/.test(d)?"Right":"Left"].join(""),b.css(g,e),this._proportionallyResize()),a(this.handles[d])};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){l.resizing||(this.className&&(d=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),l.axis=d&&d[1]?d[1]:"se")});f.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){f.disabled||(a(this).removeClass("ui-resizable-autohide"),l._handles.show())}).mouseleave(function(){f.disabled||l.resizing||(a(this).addClass("ui-resizable-autohide"),l._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
var e,c=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};this.elementIsWrapper&&(c(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove());this.originalElement.css("resize",this.originalResizeStyle);c(this.originalElement);
return this},_mouseCapture:function(e){var c,b,d=!1;for(c in this.handles)if(b=a(this.handles[c])[0],b===e.target||a.contains(b,e.target))d=!0;return!this.options.disabled&&d},_mouseStart:function(e){var h,b,d;d=this.options;h=this.element.position();var g=this.element;this.resizing=!0;/absolute/.test(g.css("position"))?g.css({position:"absolute",top:g.css("top"),left:g.css("left")}):g.is(".ui-draggable")&&g.css({position:"absolute",top:h.top,left:h.left});this._renderProxy();h=c(this.helper.css("left"));
b=c(this.helper.css("top"));d.containment&&(h+=a(d.containment).scrollLeft()||0,b+=a(d.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:h,top:b};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:g.width(),height:g.height()};this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()};this.originalPosition={left:h,top:b};this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-
g.height()};this.originalMousePosition={left:e.pageX,top:e.pageY};this.aspectRatio="number"===typeof d.aspectRatio?d.aspectRatio:this.originalSize.width/this.originalSize.height||1;d=a(".ui-resizable-"+this.axis).css("cursor");a("body").css("cursor","auto"===d?this.axis+"-resize":d);g.addClass("ui-resizable-resizing");this._propagate("start",e);return!0},_mouseDrag:function(e){var c,b=this.helper,d={};c=this.originalMousePosition;var g=this.position.top,l=this.position.left,f=this.size.width,k=this.size.height,
q=this._change[this.axis];if(!q)return!1;c=q.apply(this,[e,e.pageX-c.left||0,e.pageY-c.top||0]);this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey)c=this._updateRatio(c,e);c=this._respectSize(c,e);this._updateCache(c);this._propagate("resize",e);this.position.top!==g&&(d.top=this.position.top+"px");this.position.left!==l&&(d.left=this.position.left+"px");this.size.width!==f&&(d.width=this.size.width+"px");this.size.height!==k&&(d.height=this.size.height+"px");b.css(d);!this._helper&&
this._proportionallyResizeElements.length&&this._proportionallyResize();a.isEmptyObject(d)||this._trigger("resize",e,this.ui());return!1},_mouseStop:function(e){this.resizing=!1;var c,b,d,g=this.options;this._helper&&(c=this._proportionallyResizeElements,c=(b=c.length&&/textarea/i.test(c[0].nodeName))&&a.ui.hasScroll(c[0],"left")?0:this.sizeDiff.height,b=b?0:this.sizeDiff.width,b={width:this.helper.width()-b,height:this.helper.height()-c},c=parseInt(this.element.css("left"),10)+(this.position.left-
this.originalPosition.left)||null,d=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,g.animate||this.element.css(a.extend(b,{top:d,left:c})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!g.animate&&this._proportionallyResize());a("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",e);this._helper&&this.helper.remove();return!1},_updateVirtualBoundaries:function(a){var c,
b,d,g;g=this.options;g={minWidth:f(g.minWidth)?g.minWidth:0,maxWidth:f(g.maxWidth)?g.maxWidth:Infinity,minHeight:f(g.minHeight)?g.minHeight:0,maxHeight:f(g.maxHeight)?g.maxHeight:Infinity};if(this._aspectRatio||a)a=g.minHeight*this.aspectRatio,b=g.minWidth/this.aspectRatio,c=g.maxHeight*this.aspectRatio,d=g.maxWidth/this.aspectRatio,a>g.minWidth&&(g.minWidth=a),b>g.minHeight&&(g.minHeight=b),c<g.maxWidth&&(g.maxWidth=c),d<g.maxHeight&&(g.maxHeight=d);this._vBoundaries=g},_updateCache:function(a){this.offset=
this.helper.offset();f(a.left)&&(this.position.left=a.left);f(a.top)&&(this.position.top=a.top);f(a.height)&&(this.size.height=a.height);f(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var c=this.position,b=this.size,d=this.axis;f(a.height)?a.width=a.height*this.aspectRatio:f(a.width)&&(a.height=a.width/this.aspectRatio);"sw"===d&&(a.left=c.left+(b.width-a.width),a.top=null);"nw"===d&&(a.top=c.top+(b.height-a.height),a.left=c.left+(b.width-a.width));return a},_respectSize:function(a){var c=
this._vBoundaries,b=this.axis,d=f(a.width)&&c.maxWidth&&c.maxWidth<a.width,g=f(a.height)&&c.maxHeight&&c.maxHeight<a.height,l=f(a.width)&&c.minWidth&&c.minWidth>a.width,m=f(a.height)&&c.minHeight&&c.minHeight>a.height,k=this.originalPosition.left+this.originalSize.width,q=this.position.top+this.size.height,r=/sw|nw|w/.test(b),b=/nw|ne|n/.test(b);l&&(a.width=c.minWidth);m&&(a.height=c.minHeight);d&&(a.width=c.maxWidth);g&&(a.height=c.maxHeight);l&&r&&(a.left=k-c.minWidth);d&&r&&(a.left=k-c.maxWidth);
m&&b&&(a.top=q-c.minHeight);g&&b&&(a.top=q-c.maxHeight);a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null;return a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,c,b,d,g,l=this.helper||this.element;for(a=0;a<this._proportionallyResizeElements.length;a++){g=this._proportionallyResizeElements[a];if(!this.borderDif)for(this.borderDif=[],b=[g.css("borderTopWidth"),g.css("borderRightWidth"),g.css("borderBottomWidth"),g.css("borderLeftWidth")],
d=[g.css("paddingTop"),g.css("paddingRight"),g.css("paddingBottom"),g.css("paddingLeft")],c=0;c<b.length;c++)this.borderDif[c]=(parseInt(b[c],10)||0)+(parseInt(d[c],10)||0);g.css({height:l.height()-this.borderDif[0]-this.borderDif[2]||0,width:l.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,c){return{width:this.originalSize.width+c}},w:function(a,c){return{left:this.originalPosition.left+c,width:this.originalSize.width-c}},n:function(a,c,b){return{top:this.originalPosition.top+b,height:this.originalSize.height-b}},s:function(a,c,b){return{height:this.originalSize.height+
b}},se:function(e,c,b){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,c,b]))},sw:function(e,c,b){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,c,b]))},ne:function(e,c,b){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,c,b]))},nw:function(e,c,b){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,c,b]))}},_propagate:function(e,c){a.ui.plugin.call(this,e,[c,this.ui()]);
"resize"!==e&&this._trigger(e,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.ui.plugin.add("resizable","animate",{stop:function(e){var c=a(this).data("ui-resizable"),b=c.options,d=c._proportionallyResizeElements,g=d.length&&/textarea/i.test(d[0].nodeName),l=g&&a.ui.hasScroll(d[0],"left")?0:c.sizeDiff.height,g=
{width:c.size.width-(g?0:c.sizeDiff.width),height:c.size.height-l},l=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,f=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(g,f&&l?{top:f,left:l}:{}),{duration:b.animateDuration,easing:b.animateEasing,step:function(){var b={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),
10)};d&&d.length&&a(d[0]).css({width:b.width,height:b.height});c._updateCache(b);c._propagate("resize",e)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var e,h,b,d,g,l=a(this).data("ui-resizable"),f=l.element;b=l.options.containment;if(f=b instanceof a?b.get(0):/parent/.test(b)?f.parent().get(0):b)l.containerElement=a(f),/document/.test(b)||b===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:a(document),left:0,top:0,width:a(document).width(),
height:a(document).height()||document.body.parentNode.scrollHeight}):(e=a(f),h=[],a(["Top","Right","Left","Bottom"]).each(function(b,a){h[b]=c(e.css("padding"+a))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-h[3],width:e.innerWidth()-h[1]},b=l.containerOffset,d=l.containerSize.height,g=l.containerSize.width,g=a.ui.hasScroll(f,"left")?f.scrollWidth:g,d=a.ui.hasScroll(f)?f.scrollHeight:d,l.parentData={element:f,left:b.left,top:b.top,width:g,
height:d})},resize:function(e){var c,b,d,g,l=a(this).data("ui-resizable");c=l.options;b=l.containerOffset;d=l.position;e=l._aspectRatio||e.shiftKey;g={top:0,left:0};var f=l.containerElement;f[0]!==document&&/static/.test(f.css("position"))&&(g=b);d.left<(l._helper?b.left:0)&&(l.size.width+=l._helper?l.position.left-b.left:l.position.left-g.left,e&&(l.size.height=l.size.width/l.aspectRatio),l.position.left=c.helper?b.left:0);d.top<(l._helper?b.top:0)&&(l.size.height+=l._helper?l.position.top-b.top:
l.position.top,e&&(l.size.width=l.size.height*l.aspectRatio),l.position.top=l._helper?b.top:0);l.offset.left=l.parentData.left+l.position.left;l.offset.top=l.parentData.top+l.position.top;c=Math.abs(l.offset.left-g.left+l.sizeDiff.width);b=Math.abs((l._helper?l.offset.top-g.top:l.offset.top-b.top)+l.sizeDiff.height);d=l.containerElement.get(0)===l.element.parent().get(0);g=/relative|absolute/.test(l.containerElement.css("position"));d&&g&&(c-=Math.abs(l.parentData.left));c+l.size.width>=l.parentData.width&&
(l.size.width=l.parentData.width-c,e&&(l.size.height=l.size.width/l.aspectRatio));b+l.size.height>=l.parentData.height&&(l.size.height=l.parentData.height-b,e&&(l.size.width=l.size.height*l.aspectRatio))},stop:function(){var e=a(this).data("ui-resizable"),c=e.options,b=e.containerOffset,d=e.containerPosition,g=e.containerElement,l=a(e.helper),f=l.offset(),k=l.outerWidth()-e.sizeDiff.width,l=l.outerHeight()-e.sizeDiff.height;e._helper&&!c.animate&&/relative/.test(g.css("position"))&&a(this).css({left:f.left-
d.left-b.left,width:k,height:l});e._helper&&!c.animate&&/static/.test(g.css("position"))&&a(this).css({left:f.left-d.left-b.left,width:k,height:l})}});a.ui.plugin.add("resizable","alsoResize",{start:function(){var e=a(this).data("ui-resizable").options,c=function(b){a(b).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!==typeof e.alsoResize||e.alsoResize.parentNode?
c(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],c(e.alsoResize)):a.each(e.alsoResize,function(b){c(b)})},resize:function(e,c){var b=a(this).data("ui-resizable"),d=b.options,g=b.originalSize,l=b.originalPosition,f={height:b.size.height-g.height||0,width:b.size.width-g.width||0,top:b.position.top-l.top||0,left:b.position.left-l.left||0},k=function(b,d){a(b).each(function(){var b=a(this),g=a(this).data("ui-resizable-alsoresize"),e={},l=d&&d.length?d:b.parents(c.originalElement[0]).length?
["width","height"]:["width","height","top","left"];a.each(l,function(b,a){var d=(g[a]||0)+(f[a]||0);d&&0<=d&&(e[a]=d||null)});b.css(e)})};"object"!==typeof d.alsoResize||d.alsoResize.nodeType?k(d.alsoResize):a.each(d.alsoResize,function(b,a){k(b,a)})},stop:function(){a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable","ghost",{start:function(){var e=a(this).data("ui-resizable"),c=e.options,b=e.size;e.ghost=e.originalElement.clone();e.ghost.css({opacity:.25,display:"block",position:"relative",
height:b.height,width:b.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"===typeof c.ghost?c.ghost:"");e.ghost.appendTo(e.helper)},resize:function(){var e=a(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=a(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var e=a(this).data("ui-resizable"),
c=e.options,b=e.size,d=e.originalSize,g=e.originalPosition,l=e.axis,f="number"===typeof c.grid?[c.grid,c.grid]:c.grid,k=f[0]||1,q=f[1]||1,r=Math.round((b.width-d.width)/k)*k,b=Math.round((b.height-d.height)/q)*q,s=d.width+r,u=d.height+b,w=c.maxWidth&&c.maxWidth<s,x=c.maxHeight&&c.maxHeight<u,y=c.minWidth&&c.minWidth>s,B=c.minHeight&&c.minHeight>u;c.grid=f;y&&(s+=k);B&&(u+=q);w&&(s-=k);x&&(u-=q);/^(se|s|e)$/.test(l)?(e.size.width=s,e.size.height=u):/^(ne)$/.test(l)?(e.size.width=s,e.size.height=u,
e.position.top=g.top-b):/^(sw)$/.test(l)?(e.size.width=s,e.size.height=u,e.position.left=g.left-r):(0<u-q?(e.size.height=u,e.position.top=g.top-b):(e.size.height=q,e.position.top=g.top+d.height-q),0<s-k?(e.size.width=s,e.position.left=g.left-r):(e.size.width=k,e.position.left=g.left+d.width-k))}})})(jQuery);
(function(a,k){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var c,f=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){c=a(f.options.filter,f.element[0]);c.addClass("ui-selectee");c.each(function(){var e=a(this),c=e.offset();a.data(this,"selectable-item",{element:this,$element:e,
left:c.left,top:c.top,right:c.left+e.outerWidth(),bottom:c.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})};this.refresh();this.selectees=c.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");
this._mouseDestroy()},_mouseStart:function(c){var f=this,e=this.options;this.opos=[c.pageX,c.pageY];this.options.disabled||(this.selectees=a(e.filter,this.element[0]),this._trigger("start",c),a(e.appendTo).append(this.helper),this.helper.css({left:c.pageX,top:c.pageY,width:0,height:0}),e.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=a.data(this,"selectable-item");e.startselected=!0;c.metaKey||c.ctrlKey||(e.$element.removeClass("ui-selected"),e.selected=!1,
e.$element.addClass("ui-unselecting"),e.unselecting=!0,f._trigger("unselecting",c,{unselecting:e.element}))}),a(c.target).parents().addBack().each(function(){var e,b=a.data(this,"selectable-item");if(b)return e=!c.metaKey&&!c.ctrlKey||!b.$element.hasClass("ui-selected"),b.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),b.unselecting=!e,b.selecting=e,(b.selected=e)?f._trigger("selecting",c,{selecting:b.element}):f._trigger("unselecting",c,{unselecting:b.element}),
!1}))},_mouseDrag:function(c){this.dragged=!0;if(!this.options.disabled){var f,e=this,h=this.options,b=this.opos[0],d=this.opos[1],g=c.pageX,l=c.pageY;b>g&&(f=g,g=b,b=f);d>l&&(f=l,l=d,d=f);this.helper.css({left:b,top:d,width:g-b,height:l-d});this.selectees.each(function(){var f=a.data(this,"selectable-item"),k=!1;f&&f.element!==e.element[0]&&("touch"===h.tolerance?k=!(f.left>g||f.right<b||f.top>l||f.bottom<d):"fit"===h.tolerance&&(k=f.left>b&&f.right<g&&f.top>d&&f.bottom<l),k?(f.selected&&(f.$element.removeClass("ui-selected"),
f.selected=!1),f.unselecting&&(f.$element.removeClass("ui-unselecting"),f.unselecting=!1),f.selecting||(f.$element.addClass("ui-selecting"),f.selecting=!0,e._trigger("selecting",c,{selecting:f.element}))):(f.selecting&&((c.metaKey||c.ctrlKey)&&f.startselected?(f.$element.removeClass("ui-selecting"),f.selecting=!1,f.$element.addClass("ui-selected"),f.selected=!0):(f.$element.removeClass("ui-selecting"),f.selecting=!1,f.startselected&&(f.$element.addClass("ui-unselecting"),f.unselecting=!0),e._trigger("unselecting",
c,{unselecting:f.element}))),!f.selected||c.metaKey||c.ctrlKey||f.startselected||(f.$element.removeClass("ui-selected"),f.selected=!1,f.$element.addClass("ui-unselecting"),f.unselecting=!0,e._trigger("unselecting",c,{unselecting:f.element}))))});return!1}},_mouseStop:function(c){var f=this;this.dragged=!1;a(".ui-unselecting",this.element[0]).each(function(){var e=a.data(this,"selectable-item");e.$element.removeClass("ui-unselecting");e.unselecting=!1;e.startselected=!1;f._trigger("unselected",c,{unselected:e.element})});
a(".ui-selecting",this.element[0]).each(function(){var e=a.data(this,"selectable-item");e.$element.removeClass("ui-selecting").addClass("ui-selected");e.selecting=!1;e.selected=!0;e.startselected=!0;f._trigger("selected",c,{selected:e.element})});this._trigger("stop",c);this.helper.remove();return!1}})})(jQuery);
(function(a,k){a.widget("ui.slider",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();
this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var c,f;c=this.options;var e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),h=[];f=c.values&&c.values.length||1;e.length>f&&(e.slice(f).remove(),e=e.slice(0,f));for(c=e.length;c<f;c++)h.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=e.add(a(h.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var c=this.options,f="";c.range?(!0===c.range&&(c.values?c.values.length&&2!==c.values.length?c.values=[c.values[0],c.values[0]]:a.isArray(c.values)&&(c.values=c.values.slice(0)):c.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",
bottom:""}):(this.range=a("<div></div>").appendTo(this.element),f="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(f+("min"===c.range||"max"===c.range?" ui-slider-range-"+c.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a);this._on(a,this._handleEvents);this._hoverable(a);this._focusable(a)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");
this._mouseDestroy()},_mouseCapture:function(c){var f,e,h,b,d,g=this,l=this.options;if(l.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();f=this._normValueFromMouse({x:c.pageX,y:c.pageY});e=this._valueMax()-this._valueMin()+1;this.handles.each(function(d){var c=Math.abs(f-g.values(d));if(e>c||e===c&&(d===g._lastChangedValue||g.values(d)===l.min))e=c,h=a(this),b=d});if(!1===this._start(c,b))return!1;this._mouseSliding=
!0;this._handleIndex=b;h.addClass("ui-state-active").focus();d=h.offset();this._clickOffset=a(c.target).parents().addBack().is(".ui-slider-handle")?{left:c.pageX-d.left-h.width()/2,top:c.pageY-d.top-h.height()/2-(parseInt(h.css("borderTopWidth"),10)||0)-(parseInt(h.css("borderBottomWidth"),10)||0)+(parseInt(h.css("marginTop"),10)||0)}:{left:0,top:0};this.handles.hasClass("ui-state-hover")||this._slide(c,b,f);return this._animateOff=!0},_mouseStart:function(){return!0},_mouseDrag:function(a){var f=
this._normValueFromMouse({x:a.pageX,y:a.pageY});this._slide(a,this._handleIndex,f);return!1},_mouseStop:function(a){this.handles.removeClass("ui-state-active");this._mouseSliding=!1;this._stop(a,this._handleIndex);this._change(a,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var f;"horizontal"===this.orientation?(f=this.elementSize.width,
a=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(f=this.elementSize.height,a=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0));f=a/f;1<f&&(f=1);0>f&&(f=0);"vertical"===this.orientation&&(f=1-f);a=this._valueMax()-this._valueMin();f=this._valueMin()+f*a;return this._trimAlignValue(f)},_start:function(a,f){var e={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(e.value=this.values(f),e.values=this.values());
return this._trigger("start",a,e)},_slide:function(a,f,e){var h;this.options.values&&this.options.values.length?(h=this.values(f?0:1),2===this.options.values.length&&!0===this.options.range&&(0===f&&e>h||1===f&&e<h)&&(e=h),e!==this.values(f)&&(h=this.values(),h[f]=e,a=this._trigger("slide",a,{handle:this.handles[f],value:e,values:h}),this.values(f?0:1),!1!==a&&this.values(f,e))):e!==this.value()&&(a=this._trigger("slide",a,{handle:this.handles[f],value:e}),!1!==a&&this.value(e))},_stop:function(a,
f){var e={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(e.value=this.values(f),e.values=this.values());this._trigger("stop",a,e)},_change:function(a,f){if(!this._keySliding&&!this._mouseSliding){var e={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(e.value=this.values(f),e.values=this.values());this._lastChangedValue=f;this._trigger("change",a,e)}},value:function(a){if(arguments.length)this.options.value=
this._trimAlignValue(a),this._refreshValue(),this._change(null,0);else return this._value()},values:function(c,f){var e,h,b;if(1<arguments.length)this.options.values[c]=this._trimAlignValue(f),this._refreshValue(),this._change(null,c);else if(arguments.length)if(a.isArray(arguments[0])){e=this.options.values;h=arguments[0];for(b=0;b<e.length;b+=1)e[b]=this._trimAlignValue(h[b]),this._change(null,b);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(c):this.value();
else return this._values()},_setOption:function(c,f){var e,h=0;"range"===c&&!0===this.options.range&&("min"===f?(this.options.value=this._values(0),this.options.values=null):"max"===f&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null));a.isArray(this.options.values)&&(h=this.options.values.length);a.Widget.prototype._setOption.apply(this,arguments);switch(c){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(e=0;e<h;e+=1)this._change(null,e);this._animateOff=!1;break;case "min":case "max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(a){var f,
e;if(arguments.length)return f=this.options.values[a],this._trimAlignValue(f);if(this.options.values&&this.options.values.length){f=this.options.values.slice();for(e=0;e<f.length;e+=1)f[e]=this._trimAlignValue(f[e]);return f}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var f=0<this.options.step?this.options.step:1,e=(a-this._valueMin())%f;a-=e;2*Math.abs(e)>=f&&(a+=0<e?f:-f);return parseFloat(a.toFixed(5))},_valueMin:function(){return this.options.min},
_valueMax:function(){return this.options.max},_refreshValue:function(){var c,f,e,h,b,d=this.options.range,g=this.options,l=this,m=this._animateOff?!1:g.animate,k={};if(this.options.values&&this.options.values.length)this.handles.each(function(b){f=(l.values(b)-l._valueMin())/(l._valueMax()-l._valueMin())*100;k["horizontal"===l.orientation?"left":"bottom"]=f+"%";a(this).stop(1,1)[m?"animate":"css"](k,g.animate);if(!0===l.options.range)if("horizontal"===l.orientation){if(0===b)l.range.stop(1,1)[m?"animate":
"css"]({left:f+"%"},g.animate);if(1===b)l.range[m?"animate":"css"]({width:f-c+"%"},{queue:!1,duration:g.animate})}else{if(0===b)l.range.stop(1,1)[m?"animate":"css"]({bottom:f+"%"},g.animate);if(1===b)l.range[m?"animate":"css"]({height:f-c+"%"},{queue:!1,duration:g.animate})}c=f});else{e=this.value();h=this._valueMin();b=this._valueMax();f=b!==h?(e-h)/(b-h)*100:0;k["horizontal"===this.orientation?"left":"bottom"]=f+"%";this.handle.stop(1,1)[m?"animate":"css"](k,g.animate);if("min"===d&&"horizontal"===
this.orientation)this.range.stop(1,1)[m?"animate":"css"]({width:f+"%"},g.animate);if("max"===d&&"horizontal"===this.orientation)this.range[m?"animate":"css"]({width:100-f+"%"},{queue:!1,duration:g.animate});if("min"===d&&"vertical"===this.orientation)this.range.stop(1,1)[m?"animate":"css"]({height:f+"%"},g.animate);if("max"===d&&"vertical"===this.orientation)this.range[m?"animate":"css"]({height:100-f+"%"},{queue:!1,duration:g.animate})}},_handleEvents:{keydown:function(c){var f,e,h,b=a(c.target).data("ui-slider-handle-index");
switch(c.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(c.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(c.target).addClass("ui-state-active"),f=this._start(c,b),!1===f))return}h=this.options.step;f=this.options.values&&this.options.values.length?e=this.values(b):e=this.value();switch(c.keyCode){case a.ui.keyCode.HOME:e=this._valueMin();
break;case a.ui.keyCode.END:e=this._valueMax();break;case a.ui.keyCode.PAGE_UP:e=this._trimAlignValue(f+(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:e=this._trimAlignValue(f-(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(f===this._valueMax())return;e=this._trimAlignValue(f+h);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(f===this._valueMin())return;e=this._trimAlignValue(f-h)}this._slide(c,b,e)},click:function(a){a.preventDefault()},
keyup:function(c){var f=a(c.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(c,f),this._change(c,f),a(c.target).removeClass("ui-state-active"))}}})})(jQuery);
(function(a,k){function c(a,c,b){return a>c&&a<c+b}function f(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,
scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===a.axis||f(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");
this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,c){"disabled"===e?(this.options[e]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,c){var b=null,d=!1,g=this;if(this.reverting||this.options.disabled||"static"===this.options.type)return!1;this._refreshItems(e);a(e.target).parents().each(function(){if(a.data(this,
g.widgetName+"-item")===g)return b=a(this),!1});a.data(e.target,g.widgetName+"-item")===g&&(b=a(e.target));if(!b||this.options.handle&&!c&&(a(this.options.handle,b).find("*").addBack().each(function(){this===e.target&&(d=!0)}),!d))return!1;this.currentItem=b;this._removeCurrentsFromItems();return!0},_mouseStart:function(e,c,b){var d;c=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(e);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=
this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(e);this.originalPageX=e.pageX;this.originalPageY=e.pageY;c.cursorAt&&
this._adjustOffsetFromHelper(c.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();c.containment&&this._setContainment();c.cursor&&"auto"!==c.cursor&&(d=this.document.find("body"),this.storedCursor=d.css("cursor"),d.css("cursor",c.cursor),this.storedStylesheet=a("<style>*{ cursor: "+c.cursor+" !important; }</style>").appendTo(d));c.opacity&&(this.helper.css("opacity")&&
(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",c.opacity));c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex));this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",e,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!b)for(b=this.containers.length-1;0<=b;b--)this.containers[b]._trigger("activate",
e,this._uiHash(this));a.ui.ddmanager&&(a.ui.ddmanager.current=this);a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,e);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(e);return!0},_mouseDrag:function(e){var c,b,d,g;c=this.options;b=!1;this.position=this._generatePosition(e);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==
this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=b=this.scrollParent[0].scrollTop+c.scrollSpeed:e.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=b=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=b=this.scrollParent[0].scrollLeft+c.scrollSpeed:e.pageX-
this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=b=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(e.pageY-a(document).scrollTop()<c.scrollSensitivity?b=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(e.pageY-a(document).scrollTop())<c.scrollSensitivity&&(b=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),e.pageX-a(document).scrollLeft()<c.scrollSensitivity?b=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):
a(window).width()-(e.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(b=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),!1!==b&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,e));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(c=this.items.length-1;0<=c;c--)if(b=
this.items[c],d=b.item[0],(g=this._intersectsWithPointer(b))&&b.instance===this.currentContainer&&d!==this.currentItem[0]&&this.placeholder[1===g?"next":"prev"]()[0]!==d&&!a.contains(this.placeholder[0],d)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],d):1)){this.direction=1===g?"down":"up";if("pointer"===this.options.tolerance||this._intersectsWithSides(b))this._rearrange(e,b);else break;this._trigger("change",e,this._uiHash());break}this._contactContainers(e);a.ui.ddmanager&&
a.ui.ddmanager.drag(this,e);this._trigger("sort",e,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(e,c){if(e){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,e);if(this.options.revert){var b=this,d=this.placeholder.offset(),g=this.options.axis,l={};g&&"x"!==g||(l.left=d.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft));g&&"y"!==g||(l.top=d.top-this.offset.parent.top-this.margins.top+
(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop));this.reverting=!0;a(this.helper).animate(l,parseInt(this.options.revert,10)||500,function(){b._clear(e)})}else this._clear(e,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),
this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem));
return this},serialize:function(e){var c=this._getItemsAsjQuery(e&&e.connected),b=[];e=e||{};a(c).each(function(){var d=(a(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);d&&b.push((e.key||d[1]+"[]")+"="+(e.key&&e.expression?d[1]:d[2]))});!b.length&&e.key&&b.push(e.key+"=");return b.join("&")},toArray:function(e){var c=this._getItemsAsjQuery(e&&e.connected),b=[];e=e||{};c.each(function(){b.push(a(e.item||this).attr(e.attribute||"id")||"")});return b},_intersectsWith:function(a){var c=
this.positionAbs.left,b=c+this.helperProportions.width,d=this.positionAbs.top,g=d+this.helperProportions.height,l=a.left,f=l+a.width,k=a.top,q=k+a.height,r=this.offset.click.top,s=this.offset.click.left,s="y"===this.options.axis||c+s>l&&c+s<f,r=("x"===this.options.axis||d+r>k&&d+r<q)&&s;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?r:l<c+
this.helperProportions.width/2&&b-this.helperProportions.width/2<f&&k<d+this.helperProportions.height/2&&g-this.helperProportions.height/2<q},_intersectsWithPointer:function(a){var h="x"===this.options.axis||c(this.positionAbs.top+this.offset.click.top,a.top,a.height);a="y"===this.options.axis||c(this.positionAbs.left+this.offset.click.left,a.left,a.width);h=h&&a;a=this._getDragVerticalDirection();var b=this._getDragHorizontalDirection();return h?this.floating?b&&"right"===b||"down"===a?2:1:a&&("down"===
a?2:1):!1},_intersectsWithSides:function(a){var h=c(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=c(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var b=this._getDragVerticalDirection(),d=this._getDragHorizontalDirection();return this.floating&&d?"right"===d&&a||"left"===d&&!a:b&&("down"===b&&h||"up"===b&&!h)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=
this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?"right":"left")},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(e){function c(){l.push(this)}var b,d,g,l=[],f=[],k=this._connectWith();if(k&&e)for(e=k.length-1;0<=e;e--)for(d=a(k[e]),b=d.length-1;0<=b;b--)(g=a.data(d[b],this.widgetFullName))&&g!==this&&!g.options.disabled&&
f.push([a.isFunction(g.options.items)?g.options.items.call(g.element):a(g.options.items,g.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),g]);f.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(e=f.length-1;0<=e;e--)f[e][0].each(c);return a(l)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+
this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var b=0;b<e.length;b++)if(e[b]===a.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[];this.containers=[this];var c,b,d,g,l,f=this.items,k=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):a(this.options.items,this.element),this]];if((l=this._connectWith())&&this.ready)for(c=l.length-1;0<=c;c--)for(d=a(l[c]),b=d.length-1;0<=b;b--)(g=a.data(d[b],this.widgetFullName))&&
g!==this&&!g.options.disabled&&(k.push([a.isFunction(g.options.items)?g.options.items.call(g.element[0],e,{item:this.currentItem}):a(g.options.items,g.element),g]),this.containers.push(g));for(c=k.length-1;0<=c;c--)for(e=k[c][1],d=k[c][0],b=0,l=d.length;b<l;b++)g=a(d[b]),g.data(this.widgetName+"-item",e),f.push({item:g,instance:e,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,b,d;for(c=this.items.length-
1;0<=c;c--)b=this.items[c],b.instance!==this.currentContainer&&this.currentContainer&&b.item[0]!==this.currentItem[0]||(d=this.options.toleranceElement?a(this.options.toleranceElement,b.item):b.item,e||(b.width=d.outerWidth(),b.height=d.outerHeight()),d=d.offset(),b.left=d.left,b.top=d.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;0<=c;c--)d=this.containers[c].element.offset(),this.containers[c].containerCache.left=
d.left,this.containers[c].containerCache.top=d.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var c,b=e.options;b.placeholder&&b.placeholder.constructor!==String||(c=b.placeholder,b.placeholder={element:function(){var b=e.currentItem[0].nodeName.toLowerCase(),g=a("<"+b+">",e.document[0]).addClass(c||e.currentItem[0].className+
" ui-sortable-placeholder").removeClass("ui-sortable-helper");"tr"===b?e.currentItem.children().each(function(){a("<td>&#160;</td>",e.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(g)}):"img"===b&&g.attr("src",e.currentItem.attr("src"));c||g.css("visibility","hidden");return g},update:function(a,g){if(!c||b.forcePlaceholderSize)g.height()||g.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),g.width()||
g.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}});e.placeholder=a(b.placeholder.element.call(e.element,e.currentItem));e.currentItem.after(e.placeholder);b.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var h,b,d,g,l,m,k,q,r,s=b=null;for(h=this.containers.length-1;0<=h;h--)a.contains(this.currentItem[0],this.containers[h].element[0])||(this._intersectsWith(this.containers[h].containerCache)?
b&&a.contains(this.containers[h].element[0],b.element[0])||(b=this.containers[h],s=h):this.containers[h].containerCache.over&&(this.containers[h]._trigger("out",e,this._uiHash(this)),this.containers[h].containerCache.over=0));if(b)if(1===this.containers.length)this.containers[s].containerCache.over||(this.containers[s]._trigger("over",e,this._uiHash(this)),this.containers[s].containerCache.over=1);else{h=1E4;d=null;g=(r=b.floating||f(this.currentItem))?"left":"top";l=r?"width":"height";m=this.positionAbs[g]+
this.offset.click[g];for(b=this.items.length-1;0<=b;b--)!a.contains(this.containers[s].element[0],this.items[b].item[0])||this.items[b].item[0]===this.currentItem[0]||r&&!c(this.positionAbs.top+this.offset.click.top,this.items[b].top,this.items[b].height)||(k=this.items[b].item.offset()[g],q=!1,Math.abs(k-m)>Math.abs(k+this.items[b][l]-m)&&(q=!0,k+=this.items[b][l]),Math.abs(k-m)<h&&(h=Math.abs(k-m),d=this.items[b],this.direction=q?"up":"down"));(d||this.options.dropOnEmpty)&&this.currentContainer!==
this.containers[s]&&(d?this._rearrange(e,d,null,!0):this._rearrange(e,null,this.containers[s].element,!0),this._trigger("change",e,this._uiHash()),this.containers[s]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[s],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[s]._trigger("over",e,this._uiHash(this)),this.containers[s].containerCache.over=1)}},_createHelper:function(e){var c=this.options;e=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],
[e,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;e.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(e[0]);e[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});e[0].style.width&&!c.forceHelperSize||e.width(this.currentItem.width());
e[0].style.height&&!c.forceHelperSize||e.height(this.currentItem.height());return e},_adjustOffsetFromHelper:function(e){"string"===typeof e&&(e=e.split(" "));a.isArray(e)&&(e={left:+e[0],top:+e[1]||0});"left"in e&&(this.offset.click.left=e.left+this.margins.left);"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left);"top"in e&&(this.offset.click.top=e.top+this.margins.top);"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},
_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)e={top:0,left:0};return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),
10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,c,b;c=this.options;"parent"===c.containment&&(c.containment=this.helper[0].parentNode);if("document"===c.containment||"window"===c.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===c.containment?document:window).width()-this.helperProportions.width-
this.margins.left,(a("document"===c.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];/^(document|window|parent)$/.test(c.containment)||(e=a(c.containment)[0],c=a(c.containment).offset(),b="hidden"!==a(e).css("overflow"),this.containment=[c.left+(parseInt(a(e).css("borderLeftWidth"),10)||0)+(parseInt(a(e).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(e).css("borderTopWidth"),10)||0)+(parseInt(a(e).css("paddingTop"),
10)||0)-this.margins.top,c.left+(b?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(a(e).css("borderLeftWidth"),10)||0)-(parseInt(a(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(b?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(a(e).css("borderTopWidth"),10)||0)-(parseInt(a(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,c){c||(c=this.position);var b="absolute"===
e?1:-1,d="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(d[0].tagName);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():g?0:d.scrollTop())*b,left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():g?0:d.scrollLeft())*b}},_generatePosition:function(e){var c,
b,d=this.options;b=e.pageX;c=e.pageY;var g="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(g[0].tagName);"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(b=this.containment[0]+
this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(c=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(b=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(c=this.containment[3]+this.offset.click.top)),d.grid&&(c=this.originalPageY+Math.round((c-this.originalPageY)/d.grid[1])*d.grid[1],c=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?
c:c-this.offset.click.top>=this.containment[1]?c-d.grid[1]:c+d.grid[1]:c,b=this.originalPageX+Math.round((b-this.originalPageX)/d.grid[0])*d.grid[0],b=this.containment?b-this.offset.click.left>=this.containment[0]&&b-this.offset.click.left<=this.containment[2]?b:b-this.offset.click.left>=this.containment[0]?b-d.grid[0]:b+d.grid[0]:b));return{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:g.scrollTop()),left:b-
this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:g.scrollLeft())}},_rearrange:function(a,c,b,d){b?b[0].appendChild(this.placeholder[0]):c.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?c.item[0]:c.item[0].nextSibling);var g=this.counter=this.counter?++this.counter:1;this._delay(function(){g===this.counter&&this.refreshPositions(!d)})},_clear:function(a,c){function b(b,a,d){return function(g){d._trigger(b,
g,a._uiHash(a))}}this.reverting=!1;var d,g=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)if("auto"===this._storedCSS[d]||"static"===this._storedCSS[d])this._storedCSS[d]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&g.push(function(b){this._trigger("receive",b,this._uiHash(this.fromOutside))});
!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||c||g.push(function(b){this._trigger("update",b,this._uiHash())});this===this.currentContainer||c||(g.push(function(b){this._trigger("remove",b,this._uiHash())}),g.push(function(b){return function(a){b._trigger("receive",a,this._uiHash(this))}}.call(this,this.currentContainer)),g.push(function(b){return function(a){b._trigger("update",a,this._uiHash(this))}}.call(this,
this.currentContainer)));for(d=this.containers.length-1;0<=d;d--)c||g.push(b("deactivate",this,this.containers[d])),this.containers[d].containerCache.over&&(g.push(b("out",this,this.containers[d])),this.containers[d].containerCache.over=0);this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove());this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);
this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",a,this._uiHash());for(d=0;d<g.length;d++)g[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1}c||this._trigger("beforeStop",a,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!==this.currentItem[0]&&this.helper.remove();this.helper=null;if(!c){for(d=0;d<g.length;d++)g[d].call(this,a);this._trigger("stop",a,this._uiHash())}this.fromOutside=!1;return!0},
_trigger:function(){!1===a.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var c=e||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:e?e.element:null}}})})(jQuery);
(function(a){function k(a){return function(){var f=this.element.val();a.apply(this,arguments);this._refresh();f!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);
this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var c={},f=this.element;a.each(["min","max","step"],function(a,h){var b=f.attr(h);void 0!==b&&b.length&&(c[h]=b)});return c},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},
keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a))},mousewheel:function(a,f){if(f){if(!this.spinning&&!this._start(a))return!1;this._spin((0<f?1:-1)*this.options.step,a);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100);a.preventDefault()}},"mousedown .ui-spinner-button":function(c){function f(){this.element[0]!==
this.document[0].activeElement&&(this.element.focus(),this.previous=e,this._delay(function(){this.previous=e}))}var e;e=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();c.preventDefault();f.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;f.call(this)});!1!==this._start(c)&&this._repeat(null,a(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(c){if(a(c.currentTarget).hasClass("ui-state-active")){if(!1===
this._start(c))return!1;this._repeat(null,a(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(.5*a.height())&&0<a.height()&&
a.height(a.height());this.options.disabled&&this.disable()},_keydown:function(c){var f=this.options,e=a.ui.keyCode;switch(c.keyCode){case e.UP:return this._repeat(null,1,c),!0;case e.DOWN:return this._repeat(null,-1,c),!0;case e.PAGE_UP:return this._repeat(null,f.page,c),!0;case e.PAGE_DOWN:return this._repeat(null,-f.page,c),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+
this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){if(!this.spinning&&!1===this._trigger("start",a))return!1;this.counter||(this.counter=1);return this.spinning=!0},_repeat:function(a,f,e){a=a||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,f,e)},a);this._spin(f*this.options.step,e)},_spin:function(a,f){var e=this.value()||0;this.counter||
(this.counter=1);e=this._adjustValue(e+a*this._increment(this.counter));this.spinning&&!1===this._trigger("spin",f,{value:e})||(this._value(e),this.counter++)},_increment:function(c){var f=this.options.incremental;return f?a.isFunction(f)?f(c):Math.floor(c*c*c/5E4-c*c/500+17*c/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min)));return a},_precisionOf:function(a){a=a.toString();var f=a.indexOf(".");
return-1===f?0:a.length-f-1},_adjustValue:function(a){var f,e=this.options;f=null!==e.min?e.min:0;a=Math.round((a-f)/e.step)*e.step;a=parseFloat((f+a).toFixed(this._precision()));return null!==e.max&&a>e.max?e.max:null!==e.min&&a<e.min?e.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,f){if("culture"===a||"numberFormat"===a){var e=this._parse(this.element.val());this.options[a]=
f;this.element.val(this._format(e))}else"max"!==a&&"min"!==a&&"step"!==a||"string"!==typeof f||(f=this._parse(f)),"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(f.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(f.down)),this._super(a,f),"disabled"===a&&(f?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:k(function(a){this._super(a);
this._value(this.element.val())}),_parse:function(a){"string"===typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a);return""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},
_value:function(a,f){var e;""!==a&&(e=this._parse(a),null!==e&&(f||(e=this._adjustValue(e)),a=this._format(e)));this.element.val(a);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:k(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),
this._stop())},stepDown:k(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:k(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:k(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){if(!arguments.length)return this._parse(this.element.val());k(this._value).call(this,a)},widget:function(){return this.uiSpinner}})})(jQuery);
(function(a,k){function c(a){a=a.cloneNode(!1);return 1<a.hash.length&&decodeURIComponent(a.href.replace(e,""))===decodeURIComponent(location.href.replace(e,""))}var f=0,e=/#.*$/;a.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,b=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",
b.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()});this._processTabs();b.active=this._initialActive();a.isArray(b.disabled)&&(b.disabled=a.unique(b.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(b){return e.tabs.index(b)}))).sort());this.active=!1!==this.options.active&&
this.anchors.length?this._findActive(b.active):a();this._refresh();this.active.length&&this.load(b.active)},_initialActive:function(){var e=this.options.active,b=this.options.collapsible,d=location.hash.substring(1);null===e&&(d&&this.tabs.each(function(b,c){if(a(c).attr("aria-controls")===d)return e=b,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null===e||-1===e)&&(e=this.tabs.length?0:!1);!1!==e&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=b?!1:0));!b&&!1===e&&this.anchors.length&&
(e=0);return e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(e){var b=a(this.document[0].activeElement).closest("li"),d=this.tabs.index(b),g=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:g=!1;d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:e.preventDefault();
clearTimeout(this.activating);this._activate(d);return;case a.ui.keyCode.ENTER:e.preventDefault();clearTimeout(this.activating);this._activate(d===this.options.active?!1:d);return;default:return}e.preventDefault();clearTimeout(this.activating);d=this._focusNextTab(d,g);e.ctrlKey||(b.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(e){!this._handlePageNav(e)&&e.ctrlKey&&e.keyCode===
a.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){if(e.altKey&&e.keyCode===a.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(e.altKey&&e.keyCode===a.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(e,b){function d(){e>g&&(e=0);0>e&&(e=g);return e}for(var g=this.tabs.length-1;-1!==a.inArray(d(),this.options.disabled);)e=b?e+1:e-1;return e},_focusNextTab:function(a,
b){a=this._findNextTab(a,b);this.tabs.eq(a).focus();return a},_setOption:function(a,b){"active"===a?this._activate(b):"disabled"===a?this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||!1!==this.options.active||this._activate(0)),"event"===a&&this._setupEvents(b),"heightStyle"===a&&this._setupHeightStyle(b))},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+ ++f},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,
"\\$&"):""},refresh:function(){var e=this.options,b=this.tablist.children(":has(a[href])");e.disabled=a.map(b.filter(".ui-state-disabled"),function(a){return b.index(a)});this._processTabs();!1!==e.active&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=a());this._refresh()},
_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true",
"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=
a();this.anchors.each(function(b,d){var g,l,f,k=a(d).uniqueId().attr("id"),q=a(d).closest("li"),r=q.attr("aria-controls");c(d)?(g=d.hash,l=e.element.find(e._sanitizeSelector(g))):(f=e._tabId(q),g="#"+f,l=e.element.find(g),l.length||(l=e._createPanel(f),l.insertAfter(e.panels[b-1]||e.tablist)),l.attr("aria-live","polite"));l.length&&(e.panels=e.panels.add(l));r&&q.data("ui-tabs-aria-controls",r);q.attr({"aria-controls":g.substring(1),"aria-labelledby":k});l.attr("aria-labelledby",k)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role",
"tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return a("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){a.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var b=0,d;d=this.tabs[b];b++)!0===e||-1!==a.inArray(b,e)?a(d).addClass("ui-state-disabled").attr("aria-disabled","true"):a(d).removeClass("ui-state-disabled").removeAttr("aria-disabled");
this.options.disabled=e},_setupEvents:function(e){var b={click:function(b){b.preventDefault()}};e&&a.each(e.split(" "),function(a,g){b[g]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,b);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(e){var b,d=this.element.parent();"fill"===e?(b=d.height(),b-=this.element.outerHeight()-this.element.height(),
this.element.siblings(":visible").each(function(){var d=a(this),e=d.css("position");"absolute"!==e&&"fixed"!==e&&(b-=d.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){b-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,b-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===e&&(b=0,this.panels.each(function(){b=Math.max(b,a(this).height("").height())}).height(b))},_eventHandler:function(e){var b=this.options,d=this.active,
g=a(e.currentTarget).closest("li"),c=g[0]===d[0],f=c&&b.collapsible,k=f?a():this._getPanelForTab(g),q=d.length?this._getPanelForTab(d):a(),d={oldTab:d,oldPanel:q,newTab:f?a():g,newPanel:k};e.preventDefault();g.hasClass("ui-state-disabled")||g.hasClass("ui-tabs-loading")||this.running||c&&!b.collapsible||!1===this._trigger("beforeActivate",e,d)||(b.active=f?!1:this.tabs.index(g),this.active=c?a():g,this.xhr&&this.xhr.abort(),q.length||k.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),
k.length&&this.load(this.tabs.index(g),e),this._toggle(e,d))},_toggle:function(e,b){function d(){c.running=!1;c._trigger("activate",e,b)}function g(){b.newTab.closest("li").addClass("ui-tabs-active ui-state-active");f.length&&c.options.show?c._show(f,c.options.show,d):(f.show(),d())}var c=this,f=b.newPanel,k=b.oldPanel;this.running=!0;k.length&&this.options.hide?this._hide(k,this.options.hide,function(){b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");g()}):(b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
k.hide(),g());k.attr({"aria-expanded":"false","aria-hidden":"true"});b.oldTab.attr("aria-selected","false");f.length&&k.length?b.oldTab.attr("tabIndex",-1):f.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1);f.attr({"aria-expanded":"true","aria-hidden":"false"});b.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){e=this._findActive(e);e[0]!==this.active[0]&&(e.length||(e=this.active),e=e.find(".ui-tabs-anchor")[0],this._eventHandler({target:e,
currentTarget:e,preventDefault:a.noop}))},_findActive:function(e){return!1===e?a():this.tabs.eq(e)},_getIndex:function(a){"string"===typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']")));return a},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();
this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var e=a(this),b=e.data("ui-tabs-aria-controls");
b?e.attr("aria-controls",b).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var b=this.options.disabled;!1!==b&&(e===k?b=!1:(e=this._getIndex(e),b=a.isArray(b)?a.map(b,function(b){return b!==e?b:null}):a.map(this.tabs,function(b,a){return a!==e?a:null})),this._setupDisabled(b))},disable:function(e){var b=this.options.disabled;if(!0!==b){if(e===k)b=!0;else{e=this._getIndex(e);
if(-1!==a.inArray(e,b))return;b=a.isArray(b)?a.merge([e],b).sort():[e]}this._setupDisabled(b)}},load:function(e,b){e=this._getIndex(e);var d=this,g=this.tabs.eq(e),l=g.find(".ui-tabs-anchor"),f=this._getPanelForTab(g),k={tab:g,panel:f};c(l[0])||(this.xhr=a.ajax(this._ajaxSettings(l,b,k)))&&"canceled"!==this.xhr.statusText&&(g.addClass("ui-tabs-loading"),f.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){f.html(a);d._trigger("load",b,k)},1)}).complete(function(b,a){setTimeout(function(){"abort"===
a&&d.panels.stop(!1,!0);g.removeClass("ui-tabs-loading");f.removeAttr("aria-busy");b===d.xhr&&delete d.xhr},1)}))},_ajaxSettings:function(e,b,d){var g=this;return{url:e.attr("href"),beforeSend:function(e,c){return g._trigger("beforeLoad",b,a.extend({jqXHR:e,ajaxSettings:c},d))}}},_getPanelForTab:function(e){e=a(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+e))}})})(jQuery);
(function(a){function k(e,c){var b=(e.attr("aria-describedby")||"").split(/\s+/);b.push(c);e.data("ui-tooltip-id",c).attr("aria-describedby",a.trim(b.join(" ")))}function c(e){var c=e.data("ui-tooltip-id"),b=(e.attr("aria-describedby")||"").split(/\s+/),c=a.inArray(c,b);-1!==c&&b.splice(c,1);e.removeData("ui-tooltip-id");(b=a.trim(b.join(" ")))?e.attr("aria-describedby",b):e.removeAttr("aria-describedby")}var f=0;a.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var e=a(this).attr("title")||
"";return a("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable()},_setOption:function(e,c){var b=this;"disabled"===e?(this[c?"_disable":"_enable"](),this.options[e]=c):(this._super(e,c),"content"===e&&a.each(this.tooltips,function(a,
g){b._updateContent(g)}))},_disable:function(){var e=this;a.each(this.tooltips,function(c,b){var d=a.Event("blur");d.target=d.currentTarget=b[0];e.close(d,!0)});this.element.find(this.options.items).addBack().each(function(){var e=a(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=a(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var c=
this,b=a(e?e.target:this.element).closest(this.options.items);b.length&&!b.data("ui-tooltip-id")&&(b.attr("title")&&b.data("ui-tooltip-title",b.attr("title")),b.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&b.parents().each(function(){var b=a(this),g;b.data("ui-tooltip-open")&&(g=a.Event("blur"),g.target=g.currentTarget=this,c.close(g,!0));b.attr("title")&&(b.uniqueId(),c.parents[this.id]={element:this,title:b.attr("title")},b.attr("title",""))}),this._updateContent(b,e))},_updateContent:function(a,
c){var b;b=this.options.content;var d=this,g=c?c.type:null;if("string"===typeof b)return this._open(c,a,b);(b=b.call(a[0],function(b){a.data("ui-tooltip-open")&&d._delay(function(){c&&(c.type=g);this._open(c,a,b)})}))&&this._open(c,a,b)},_open:function(e,c,b){function d(b){f.of=b;g.is(":hidden")||g.position(f)}var g,l,f=a.extend({},this.options.position);b&&(g=this._find(c),g.length?g.find(".ui-tooltip-content").html(b):(c.is("[title]")&&(e&&"mouseover"===e.type?c.attr("title",""):c.removeAttr("title")),
g=this._tooltip(c),k(c,g.attr("id")),g.find(".ui-tooltip-content").html(b),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:d}),d(e)):g.position(a.extend({of:c},this.options.position)),g.hide(),this._show(g,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){g.is(":visible")&&(d(f.of),clearInterval(l))},a.fx.interval)),this._trigger("open",e,{tooltip:g}),b={keyup:function(b){b.keyCode===a.ui.keyCode.ESCAPE&&(b=a.Event(b),
b.currentTarget=c[0],this.close(b,!0))}},c[0]!==this.element[0]&&(b.remove=function(){this._removeTooltip(g)}),e&&"mouseover"!==e.type||(b.mouseleave="close"),e&&"focusin"!==e.type||(b.focusout="close"),this._on(!0,c,b)))},close:function(e){var h=this,b=a(e?e.currentTarget:this.element),d=this._find(b);this.closing||(clearInterval(this.delayedShow),b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title")),c(b),d.stop(!0),this._hide(d,this.options.hide,function(){h._removeTooltip(a(this))}),
b.removeData("ui-tooltip-open"),this._off(b,"mouseleave focusout keyup"),b[0]!==this.element[0]&&this._off(b,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&a.each(this.parents,function(b,d){a(d.element).attr("title",d.title);delete h.parents[b]}),this.closing=!0,this._trigger("close",e,{tooltip:d}),this.closing=!1)},_tooltip:function(e){var c="ui-tooltip-"+f++,b=a("<div>").attr({id:c,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||
""));a("<div>").addClass("ui-tooltip-content").appendTo(b);b.appendTo(this.document[0].body);this.tooltips[c]=e;return b},_find:function(e){return(e=e.data("ui-tooltip-id"))?a("#"+e):a()},_removeTooltip:function(a){a.remove();delete this.tooltips[a.attr("id")]},_destroy:function(){var e=this;a.each(this.tooltips,function(c,b){var d=a.Event("blur");d.target=d.currentTarget=b[0];e.close(d,!0);a("#"+c).remove();b.data("ui-tooltip-title")&&(b.attr("title",b.data("ui-tooltip-title")),b.removeData("ui-tooltip-title"))})}})})(jQuery);
RegExp.escape=function(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};
(function(a){a.csv={defaults:{separator:",",delimiter:'"',headers:!0},hooks:{castToScalar:function(a,c){if(isNaN(a))return a;if(/\./.test(a))return parseFloat(a);var f=parseInt(a);return isNaN(f)?null:f}},parsers:{parse:function(a,c){function f(){l=0;m="";if(c.start&&c.state.rowNum<c.start)g=[];else{if(void 0===c.onParseEntry)d.push(g);else{var b=c.onParseEntry(g,c.state);!1!==b&&d.push(b)}g=[];c.end&&c.state.rowNum>=c.end&&(v=!0)}c.state.rowNum++;c.state.colNum=1}function e(){if(void 0===c.onParseValue)g.push(m);
else{var b=c.onParseValue(m,c.state);!1!==b&&g.push(b)}m="";l=0;c.state.colNum++}var h=c.separator,b=c.delimiter;c.state.rowNum||(c.state.rowNum=1);c.state.colNum||(c.state.colNum=1);var d=[],g=[],l=0,m="",v=!1,q=RegExp.escape(h),r=RegExp.escape(b),s=/(D|S|\n|\r|[^DS\r\n]+)/,s=s.source,s=s.replace(/S/g,q),s=s.replace(/D/g,r),s=RegExp(s,"gm");a.replace(s,function(a){if(!v)switch(l){case 0:if(a===h){m+="";e();break}if(a===b){l=1;break}if("\n"===a){e();f();break}if(/^\r$/.test(a))break;m+=a;l=3;break;
case 1:if(a===b){l=2;break}m+=a;l=1;break;case 2:if(a===b){m+=a;l=1;break}if(a===h){e();break}if("\n"===a){e();f();break}if(/^\r$/.test(a))break;throw Error("CSVDataError: Illegal State [Row:"+c.state.rowNum+"][Col:"+c.state.colNum+"]");case 3:if(a===h){e();break}if("\n"===a){e();f();break}if(/^\r$/.test(a))break;if(a===b)throw Error("CSVDataError: Illegal Quote [Row:"+c.state.rowNum+"][Col:"+c.state.colNum+"]");throw Error("CSVDataError: Illegal Data [Row:"+c.state.rowNum+"][Col:"+c.state.colNum+
"]");default:throw Error("CSVDataError: Unknown State [Row:"+c.state.rowNum+"][Col:"+c.state.colNum+"]");}});0!==g.length&&(e(),f());return d},splitLines:function(a,c){function f(){d=0;if(c.start&&c.state.rowNum<c.start)g="";else{if(void 0===c.onParseEntry)b.push(g);else{var a=c.onParseEntry(g,c.state);!1!==a&&b.push(a)}g="";c.end&&c.state.rowNum>=c.end&&(l=!0)}c.state.rowNum++}var e=c.separator,h=c.delimiter;c.state.rowNum||(c.state.rowNum=1);var b=[],d=0,g="",l=!1,m=RegExp.escape(e),v=RegExp.escape(h),
q=/(D|S|\n|\r|[^DS\r\n]+)/,q=q.source,q=q.replace(/S/g,m),q=q.replace(/D/g,v),q=RegExp(q,"gm");a.replace(q,function(b){if(!l)switch(d){case 0:if(b===e){g+=b;d=0;break}if(b===h){g+=b;d=1;break}if("\n"===b){f();break}if(/^\r$/.test(b))break;g+=b;d=3;break;case 1:if(b===h){g+=b;d=2;break}g+=b;d=1;break;case 2:var a=g.substr(g.length-1);if(b===h&&a===h){g+=b;d=1;break}if(b===e){g+=b;d=0;break}if("\n"===b){f();break}if("\r"===b)break;throw Error("CSVDataError: Illegal state [Row:"+c.state.rowNum+"]");
case 3:if(b===e){g+=b;d=0;break}if("\n"===b){f();break}if("\r"===b)break;if(b===h)throw Error("CSVDataError: Illegal quote [Row:"+c.state.rowNum+"]");throw Error("CSVDataError: Illegal state [Row:"+c.state.rowNum+"]");default:throw Error("CSVDataError: Unknown state [Row:"+c.state.rowNum+"]");}});""!==g&&f();return b},parseEntry:function(a,c){function f(){if(void 0===c.onParseValue)b.push(g);else{var a=c.onParseValue(g,c.state);!1!==a&&b.push(a)}g="";d=0;c.state.colNum++}var e=c.separator,h=c.delimiter;
c.state.rowNum||(c.state.rowNum=1);c.state.colNum||(c.state.colNum=1);var b=[],d=0,g="";if(!c.match){var l=RegExp.escape(e),m=RegExp.escape(h),v=/(D|S|\n|\r|[^DS\r\n]+)/.source,v=v.replace(/S/g,l),v=v.replace(/D/g,m);c.match=RegExp(v,"gm")}a.replace(c.match,function(b){switch(d){case 0:if(b===e){g+="";f();break}if(b===h){d=1;break}if("\n"===b||"\r"===b)break;g+=b;d=3;break;case 1:if(b===h){d=2;break}g+=b;d=1;break;case 2:if(b===h){g+=b;d=1;break}if(b===e){f();break}if("\n"===b||"\r"===b)break;throw Error("CSVDataError: Illegal State [Row:"+
c.state.rowNum+"][Col:"+c.state.colNum+"]");case 3:if(b===e){f();break}if("\n"===b||"\r"===b)break;if(b===h)throw Error("CSVDataError: Illegal Quote [Row:"+c.state.rowNum+"][Col:"+c.state.colNum+"]");throw Error("CSVDataError: Illegal Data [Row:"+c.state.rowNum+"][Col:"+c.state.colNum+"]");default:throw Error("CSVDataError: Unknown State [Row:"+c.state.rowNum+"][Col:"+c.state.colNum+"]");}});f();return b}},toArray:function(k,c,f){c=void 0!==c?c:{};var e={};e.callback=void 0!==f&&"function"===typeof f?
f:!1;e.separator="separator"in c?c.separator:a.csv.defaults.separator;e.delimiter="delimiter"in c?c.delimiter:a.csv.defaults.delimiter;c={delimiter:e.delimiter,separator:e.separator,onParseEntry:c.onParseEntry,onParseValue:c.onParseValue,state:void 0!==c.state?c.state:{}};k=a.csv.parsers.parseEntry(k,c);if(e.callback)e.callback("",k);else return k},toArrays:function(k,c,f){c=void 0!==c?c:{};var e={};e.callback=void 0!==f&&"function"===typeof f?f:!1;e.separator="separator"in c?c.separator:a.csv.defaults.separator;
e.delimiter="delimiter"in c?c.delimiter:a.csv.defaults.delimiter;c={delimiter:e.delimiter,separator:e.separator,onParseEntry:c.onParseEntry,onParseValue:c.onParseValue,start:c.start,end:c.end,state:{rowNum:1,colNum:1}};f=a.csv.parsers.parse(k,c);if(e.callback)e.callback("",f);else return f},toObjects:function(k,c,f){c=void 0!==c?c:{};var e={};e.callback=void 0!==f&&"function"===typeof f?f:!1;e.separator="separator"in c?c.separator:a.csv.defaults.separator;e.delimiter="delimiter"in c?c.delimiter:a.csv.defaults.delimiter;
e.headers="headers"in c?c.headers:a.csv.defaults.headers;c.start="start"in c?c.start:1;e.headers&&c.start++;c.end&&e.headers&&c.end++;var h=[];f=[];c={delimiter:e.delimiter,separator:e.separator,onParseEntry:c.onParseEntry,onParseValue:c.onParseValue,start:c.start,end:c.end,state:{rowNum:1,colNum:1},match:!1};var h=a.csv.parsers.splitLines(k,{delimiter:e.delimiter,separator:e.separator,start:1,end:1,state:{rowNum:1,colNum:1}}),b=a.csv.toArray(h[0],c),h=a.csv.parsers.splitLines(k,c);c.state.colNum=
1;c.state.rowNum=b?2:1;k=0;for(var d=h.length;k<d;k++){var g=a.csv.toArray(h[k],c),l={},m;for(m in b)l[b[m]]=g[m];f.push(l);c.state.rowNum++}if(e.callback)e.callback("",f);else return f},fromArrays:function(k,c,f){c=void 0!==c?c:{};var e={};e.callback=void 0!==f&&"function"===typeof f?f:!1;e.separator="separator"in c?c.separator:a.csv.defaults.separator;e.delimiter="delimiter"in c?c.delimiter:a.csv.defaults.delimiter;e.escaper="escaper"in c?c.escaper:a.csv.defaults.escaper;e.experimental="experimental"in
c?c.experimental:!1;if(!e.experimental)throw Error("not implemented");c=[];for(i in k)c.push(k[i]);if(e.callback)e.callback("",c);else return c},fromObjects2CSV:function(k,c,f){c=void 0!==c?c:{};var e={};e.callback=void 0!==f&&"function"===typeof f?f:!1;e.separator="separator"in c?c.separator:a.csv.defaults.separator;e.delimiter="delimiter"in c?c.delimiter:a.csv.defaults.delimiter;e.experimental="experimental"in c?c.experimental:!1;if(!e.experimental)throw Error("not implemented");c=[];for(i in k)c.push(arrays[i]);
if(e.callback)e.callback("",c);else return c}};a.csvEntry2Array=a.csv.toArray;a.csv2Array=a.csv.toArrays;a.csv2Dictionary=a.csv.toObjects})(jQuery);
(function(a){function k(e){var c=e||window.event,b=[].slice.call(arguments,1),d=0,g=0,l=0;return e=a.event.fix(c),e.type="mousewheel",c.wheelDelta&&(d=c.wheelDelta/120),c.detail&&(d=-c.detail/3),l=d,void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(l=0,g=-1*d),void 0!==c.wheelDeltaY&&(l=c.wheelDeltaY/120),void 0!==c.wheelDeltaX&&(g=-1*c.wheelDeltaX/120),b.unshift(e,d,g,l),(a.event.dispatch||a.event.handle).apply(this,b)}var c=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var f=c.length;f;)a.event.fixHooks[c[--f]]=
a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],k,!1);else this.onmousewheel=k},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],k,!1);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);
(function(a,k){var c=0,f=a(document);a.widget("ech.multiselect",{options:{header:!0,height:175,minWidth:225,classes:"",checkAllText:"Check all",uncheckAllText:"Uncheck all",noneSelectedText:"Select options",selectedText:"# selected",selectedList:0,show:null,hide:null,autoOpen:!1,multiple:!0,position:{}},_create:function(){var e=this.element.hide(),h=this.options;this.speed=a.fx.speeds._default;this._isOpen=!1;this._namespaceID=this.eventNamespace||"multiselect"+c;e=(this.button=a('<button type="button"><span class="ui-icon ui-icon-triangle-1-s"></span></button>')).addClass("ui-multiselect ui-widget ui-state-default ui-corner-all").addClass(h.classes).attr({title:e.attr("title"),
"aria-haspopup":!0,tabIndex:e.attr("tabIndex")}).insertAfter(e);(this.buttonlabel=a("<span />")).html(h.noneSelectedText).appendTo(e);var e=(this.menu=a("<div />")).addClass("ui-multiselect-menu ui-widget ui-widget-content ui-corner-all").addClass(h.classes).appendTo(document.body),b=(this.header=a("<div />")).addClass("ui-widget-header ui-corner-all ui-multiselect-header ui-helper-clearfix").appendTo(e);(this.headerLinkContainer=a("<ul />")).addClass("ui-helper-reset").html(function(){return!0===
h.header?'<li><a class="ui-multiselect-all" href="#"><span class="ui-icon ui-icon-check"></span><span>'+h.checkAllText+'</span></a></li><li><a class="ui-multiselect-none" href="#"><span class="ui-icon ui-icon-closethick"></span><span>'+h.uncheckAllText+"</span></a></li>":"string"===typeof h.header?"<li>"+h.header+"</li>":""}).append('<li class="ui-multiselect-close"><a href="#" class="ui-multiselect-close"><span class="ui-icon ui-icon-circle-close"></span></a></li>').appendTo(b);(this.checkboxContainer=
a("<ul />")).addClass("ui-multiselect-checkboxes ui-helper-reset").appendTo(e);this._bindEvents();this.refresh(!0);h.multiple||e.addClass("ui-multiselect-single");c++},_init:function(){!1===this.options.header&&this.header.hide();this.options.multiple||this.headerLinkContainer.find(".ui-multiselect-all, .ui-multiselect-none").hide();this.options.autoOpen&&this.open();this.element.is(":disabled")&&this.disable()},refresh:function(e){var h=this.element,b=this.options,d=this.menu,g=this.checkboxContainer,
l=[],f="",k=h.attr("id")||c++;h.find("option").each(function(d){a(this);var g=this.parentNode,e=this.innerHTML,c=this.title,h=this.value;d="ui-multiselect-"+(this.id||k+"-option-"+d);var x=this.disabled,y=this.selected,B=["ui-corner-all"],A=(x?"ui-multiselect-disabled ":" ")+this.className,z;"OPTGROUP"===g.tagName&&(z=g.getAttribute("label"),-1===a.inArray(z,l)&&(f+='<li class="ui-multiselect-optgroup-label '+g.className+'"><a href="#">'+z+"</a></li>",l.push(z)));x&&B.push("ui-state-disabled");y&&
!b.multiple&&B.push("ui-state-active");f+='<li class="'+A+'">';f+='<label for="'+d+'" title="'+c+'" class="'+B.join(" ")+'">';f+='<input id="'+d+'" name="multiselect_'+k+'" type="'+(b.multiple?"checkbox":"radio")+'" value="'+h+'" title="'+e+'"';y&&(f+=' checked="checked"',f+=' aria-selected="true"');x&&(f+=' disabled="disabled"',f+=' aria-disabled="true"');f+=" /><span>"+e+"</span></label></li>"});g.html(f);this.labels=d.find("label");this.inputs=this.labels.children("input");this._setButtonWidth();
this._setMenuWidth();this.button[0].defaultValue=this.update();e||this._trigger("refresh")},update:function(){var e=this.options,c=this.inputs,b=c.filter(":checked"),d=b.length,e=0===d?e.noneSelectedText:a.isFunction(e.selectedText)?e.selectedText.call(this,d,c.length,b.get()):/\d/.test(e.selectedList)&&0<e.selectedList&&d<=e.selectedList?b.map(function(){return a(this).next().html()}).get().join(", "):e.selectedText.replace("#",d).replace("#",c.length);this._setButtonValue(e);return e},_setButtonValue:function(a){this.buttonlabel.text(a)},
_bindEvents:function(){function e(){c[c._isOpen?"close":"open"]();return!1}var c=this,b=this.button;b.find("span").bind("click.multiselect",e);b.bind({click:e,keypress:function(b){switch(b.which){case 27:case 38:case 37:c.close();break;case 39:case 40:c.open()}},mouseenter:function(){b.hasClass("ui-state-disabled")||a(this).addClass("ui-state-hover")},mouseleave:function(){a(this).removeClass("ui-state-hover")},focus:function(){b.hasClass("ui-state-disabled")||a(this).addClass("ui-state-focus")},
blur:function(){a(this).removeClass("ui-state-focus")}});this.header.delegate("a","click.multiselect",function(b){if(a(this).hasClass("ui-multiselect-close"))c.close();else c[a(this).hasClass("ui-multiselect-all")?"checkAll":"uncheckAll"]();b.preventDefault()});this.menu.delegate("li.ui-multiselect-optgroup-label a","click.multiselect",function(b){b.preventDefault();var g=a(this),e=g.parent().nextUntil("li.ui-multiselect-optgroup-label").find("input:visible:not(:disabled)"),f=e.get(),g=g.parent().text();
!1!==c._trigger("beforeoptgrouptoggle",b,{inputs:f,label:g})&&(c._toggleChecked(e.filter(":checked").length!==e.length,e),c._trigger("optgrouptoggle",b,{inputs:f,label:g,checked:f[0].checked}))}).delegate("label","mouseenter.multiselect",function(){a(this).hasClass("ui-state-disabled")||(c.labels.removeClass("ui-state-hover"),a(this).addClass("ui-state-hover").find("input").focus())}).delegate("label","keydown.multiselect",function(b){b.preventDefault();switch(b.which){case 9:case 27:c.close();break;
case 38:case 40:case 37:case 39:c._traverse(b.which,this);break;case 13:a(this).find("input")[0].click()}}).delegate('input[type="checkbox"], input[type="radio"]',"click.multiselect",function(b){var g=a(this),e=this.value,f=this.checked,k=c.element.find("option");this.disabled||!1===c._trigger("click",b,{value:e,text:this.title,checked:f})?b.preventDefault():(g.focus(),g.attr("aria-selected",f),k.each(function(){this.value===e?this.selected=f:c.options.multiple||(this.selected=!1)}),c.options.multiple||
(c.labels.removeClass("ui-state-active"),g.closest("label").toggleClass("ui-state-active",f),c.close()),c.element.trigger("change"),setTimeout(a.proxy(c.update,c),10))});f.bind("mousedown."+this._namespaceID,function(b){b=b.target;!c._isOpen||a.contains(c.menu[0],b)||a.contains(c.button[0],b)||b===c.button[0]||b===c.menu[0]||c.close()});a(this.element[0].form).bind("reset.multiselect",function(){setTimeout(a.proxy(c.refresh,c),10)})},_setButtonWidth:function(){var a=this.element.outerWidth(),c=this.options;
/\d/.test(c.minWidth)&&a<c.minWidth&&(a=c.minWidth);this.button.outerWidth(a)},_setMenuWidth:function(){this.menu.outerWidth(this.button.outerWidth())},_traverse:function(e,c){var b=a(c),d=38===e||37===e;$next=b.parent()[d?"prevAll":"nextAll"]("li:not(.ui-multiselect-disabled, .ui-multiselect-optgroup-label)")[d?"last":"first"]();$next.length?$next.find("label").trigger("mouseover"):(b=this.menu.find("ul").last(),this.menu.find("label")[d?"last":"first"]().trigger("mouseover"),b.scrollTop(d?b.height():
0))},_toggleState:function(a,c){return function(){this.disabled||(this[a]=c);c?this.setAttribute("aria-selected",!0):this.removeAttribute("aria-selected")}},_toggleChecked:function(e,c){var b=c&&c.length?c:this.inputs,d=this;b.each(this._toggleState("checked",e));b.eq(0).focus();this.update();var g=b.map(function(){return this.value}).get();this.element.find("option").each(function(){!this.disabled&&-1<a.inArray(this.value,g)&&d._toggleState("selected",e).call(this)});b.length&&this.element.trigger("change")},
_toggleDisabled:function(e){this.button.attr({disabled:e,"aria-disabled":e})[e?"addClass":"removeClass"]("ui-state-disabled");var c=this.menu.find("input"),c=e?c.filter(":enabled").data("ech-multiselect-disabled",!0):c.filter(function(){return!0===a.data(this,"ech-multiselect-disabled")}).removeData("ech-multiselect-disabled");c.attr({disabled:e,"arial-disabled":e}).parent()[e?"addClass":"removeClass"]("ui-state-disabled");this.element.attr({disabled:e,"aria-disabled":e})},open:function(e){e=this.button;
var c=this.menu,b=this.speed,d=this.options,g=[];if(!1!==this._trigger("beforeopen")&&!e.hasClass("ui-state-disabled")&&!this._isOpen){var l=c.find("ul").last(),f=d.show;a.isArray(d.show)&&(f=d.show[0],b=d.show[1]||this.speed);f&&(g=[f,b]);l.scrollTop(0).height(d.height);this.position();a.fn.show.apply(c,g);this.labels.filter(":not(.ui-state-disabled)").eq(0).trigger("mouseover").trigger("mouseenter").find("input").trigger("focus");e.addClass("ui-state-active");this._isOpen=!0;this._trigger("open")}},
close:function(){if(!1!==this._trigger("beforeclose")){var e=this.options,c=e.hide,b=this.speed,d=[];a.isArray(e.hide)&&(c=e.hide[0],b=e.hide[1]||this.speed);c&&(d=[c,b]);a.fn.hide.apply(this.menu,d);this.button.removeClass("ui-state-active").trigger("blur").trigger("mouseleave");this._isOpen=!1;this._trigger("close")}},enable:function(){this._toggleDisabled(!1)},disable:function(){this._toggleDisabled(!0)},checkAll:function(a){this._toggleChecked(!0);this._trigger("checkAll")},uncheckAll:function(){this._toggleChecked(!1);
this._trigger("uncheckAll")},getChecked:function(){return this.menu.find("input").filter(":checked")},destroy:function(){a.Widget.prototype.destroy.call(this);f.unbind(this._namespaceID);this.button.remove();this.menu.remove();this.element.show();return this},isOpen:function(){return this._isOpen},widget:function(){return this.menu},getButton:function(){return this.button},position:function(){var e=this.options;a.ui.position&&!a.isEmptyObject(e.position)?(e.position.of=e.position.of||this.button,
this.menu.show().position(e.position).hide()):(e=this.button.offset(),this.menu.css({top:e.top+this.button.outerHeight(),left:e.left}))},_setOption:function(e,c){var b=this.menu;switch(e){case "header":b.find("div.ui-multiselect-header")[c?"show":"hide"]();break;case "checkAllText":b.find("a.ui-multiselect-all span").eq(-1).text(c);break;case "uncheckAllText":b.find("a.ui-multiselect-none span").eq(-1).text(c);break;case "height":b.find("ul").last().height(parseInt(c,10));break;case "minWidth":this.options[e]=
parseInt(c,10);this._setButtonWidth();this._setMenuWidth();break;case "selectedText":case "selectedList":case "noneSelectedText":this.options[e]=c;this.update();break;case "classes":b.add(this.button).removeClass(this.options.classes).addClass(c);break;case "multiple":b.toggleClass("ui-multiselect-single",!c);this.options.multiple=c;this.element[0].multiple=c;this.refresh();break;case "position":this.position()}a.Widget.prototype._setOption.apply(this,arguments)}})})(jQuery);
(function(a){var k=/[\-\[\]{}()*+?.,\\\^$|#\s]/g;a.widget("ech.multiselectfilter",{options:{label:"Filter:",width:null,placeholder:"Enter keywords",autoReset:!1},_create:function(){var c=this.options,f=a(this.element),e=this.instance=f.data("ech-multiselect")||f.data("multiselect");this.header=e.menu.find(".ui-multiselect-header").addClass("ui-multiselect-hasfilter");c=this.wrapper=a('<div class="ui-multiselect-filter">'+(c.label.length?c.label:"")+'<input placeholder="'+c.placeholder+'" type="search"'+
(/\d/.test(c.width)?'style="width:'+c.width+'px"':"")+" /></div>").prependTo(this.header);this.inputs=e.menu.find('input[type="checkbox"], input[type="radio"]');this.input=c.find("input").bind({keydown:function(a){13===a.which&&a.preventDefault()},keyup:a.proxy(this._handler,this),click:a.proxy(this._handler,this)});this.updateCache();e._toggleChecked=function(c,b){var d=b&&b.length?b:this.labels.find("input"),g=this,d=d.not(e._isOpen?":disabled, :hidden":":disabled").each(this._toggleState("checked",
c));this.update();var l=d.map(function(){return this.value}).get();this.element.find("option").filter(function(){!this.disabled&&-1<a.inArray(this.value,l)&&g._toggleState("selected",c).call(this)});d.length&&this.element.trigger("change")};c=a(document).bind("multiselectrefresh",a.proxy(function(){this.updateCache();this._handler()},this));this.options.autoReset&&c.bind("multiselectclose",a.proxy(this._reset,this))},_handler:function(c){var f=a.trim(this.input[0].value.toLowerCase()),e=this.rows,
h=this.inputs,b=this.cache;if(f){e.hide();var d=new RegExp(f.replace(k,"\\$&"),"gi");this._trigger("filter",c,a.map(b,function(b,a){return-1!==b.search(d)?(e.eq(a).show(),h.get(a)):null}))}else e.show();this.instance.menu.find(".ui-multiselect-optgroup-label").each(function(){var b=a(this),d=b.nextUntil(".ui-multiselect-optgroup-label").filter(function(){return"none"!==a.css(this,"display")}).length;b[d?"show":"hide"]()})},_reset:function(){this.input.val("").trigger("keyup")},updateCache:function(){this.rows=
this.instance.menu.find(".ui-multiselect-checkboxes li:not(.ui-multiselect-optgroup-label)");this.cache=this.element.children().map(function(){var c=a(this);"optgroup"===this.tagName.toLowerCase()&&(c=c.children());return c.map(function(){return this.innerHTML.toLowerCase()}).get()}).get()},widget:function(){return this.wrapper},destroy:function(){a.Widget.prototype.destroy.call(this);this.input.val("").trigger("keyup");this.wrapper.remove()}})})(jQuery);
(function(a){function k(a,b){if(!(1<a.originalEvent.touches.length)){a.preventDefault();var d=a.originalEvent.changedTouches[0],g=document.createEvent("MouseEvents");g.initMouseEvent(b,!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(g)}}a.support.touch="ontouchend"in document;if(a.support.touch){var c=a.ui.mouse.prototype,f=c._mouseInit,e;c._touchStart=function(a){!e&&this._mouseCapture(a.originalEvent.changedTouches[0])&&(e=!0,this._touchMoved=!1,
k(a,"mouseover"),k(a,"mousemove"),k(a,"mousedown"))};c._touchMove=function(a){e&&(this._touchMoved=!0,k(a,"mousemove"))};c._touchEnd=function(a){e&&(k(a,"mouseup"),k(a,"mouseout"),this._touchMoved||k(a,"click"),e=!1)};c._mouseInit=function(){this.element.bind("touchstart",a.proxy(this,"_touchStart")).bind("touchmove",a.proxy(this,"_touchMove")).bind("touchend",a.proxy(this,"_touchEnd"));f.call(this)}}})(jQuery);
(function(a){a.fn.multiAccordion=function(){a(this).addClass("ui-accordion ui-accordion-icons ui-widget ui-helper-reset").find("h3").not(".ui-accordion-header").addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all ui-accordion-icons").hover(function(){a(this).toggleClass("ui-state-hover")}).prepend('<span class="ui-accordion-header-icon ui-icon ui-icon-triangle-1-e"></span>').click(function(){a(this).toggleClass("ui-accordion-header-active ui-state-active ui-state-default ui-corner-bottom").find("> .ui-icon").toggleClass("ui-icon-triangle-1-e ui-icon-triangle-1-s").end().next().toggleClass("ui-accordion-content-active").slideToggle("fast");return!1}).next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").css("display",
"block").hide()};a.fn.multiAccordionRefresh=function(){alert("biggie smalls")}})(jQuery);
$.widget("ui.iosMenu",{options:{backText:"Back",slideDuration:200,slideEasing:"linear"},_insertBackButtons:function(){this.element.find("li ul, li ol").prepend($('<li class="ui-menu-item ios-menu-back-link" role="presentation"> <a href="#menu-back" class="ui-corner-role" tabindex="-1" role="menuitem" aria-haspopup="true" > <span class="ui-menu-icon ui-icon ui-icon-carat-1-w"></span>'+this.options.backText+" </a></li>"));return this},_create:function(a){var k=this;k._insertBackButtons().element.addClass("ios-style").menu({position:{my:"left top",
at:"right top",of:k.element}});var c=$(k.element).data("ui-menu");c.select=function(a){c.active&&"#menu-back"==c.active.find("a").attr("href")?(c.focus(a,c.active),c.collapse(a)):c.active&&c.active.find("> ul").length?(c.focus(a,c.active),c.expand(a)):c._trigger("select",a,{item:c.active})};c.collapse=function(a){var c=this.active&&this.active.parents("li:not(.ui-menubar-item) ").first(),b=this,d;c&&c.length?(c.find("> a").addClass("ui-state-focus").removeClass("ui-state-active"),d=this.active.parent(),
d.attr("aria-hidden","true").attr("aria-expanded","false").animate({left:b.element.css("width")},k.options.slideDuration,k.options.slideEasing,function(){d.hide();b.focus(a,c)})):a&&a.which===$.ui.keyCode.ESCAPE&&b._trigger("close",a)};var f=c._open;c._open=function(a){f.call(this,a);a.animate({left:0,height:c.element[0].clientHeight-4,width:c.element[0].clientWidth},k.options.slideDuration,k.options.slideEasing)};c._startOpening=function(a){clearTimeout(this.timer);a.attr("aria-hidden")}},destroy:function(){var a=
this.element&&this.element.data("uiMenu");a&&a.destroy()}});
var Endian={BIG:0,LITTLE:1},ZipConstants={LOCSIG:67324752,LOCHDR:30,LOCVER:4,LOCNAM:26,EXTSIG:134695760,EXTHDR:16,CENSIG:33639248,CENHDR:46,CENVER:6,CENNAM:28,CENOFF:42,ENDSIG:101010256,ENDHDR:22,ENDTOT:10,ENDOFF:16,STORED:0,DEFLATED:8},Base64=function(a){for(var k=void 0,k=0<=navigator.userAgent.toLowerCase().indexOf(" chrome/")||0<=navigator.userAgent.toLowerCase().indexOf(" firefox/")||0<=navigator.userAgent.toLowerCase().indexOf(" gecko/")?function(){this.str="";this.length=0;this.append=function(b){this.str+=
b;this.length+=b.length};this.prepend=function(b){this.str=b+this.str;this.length+=b.length};this.toString=function(){return this.str}}:function(){this.parts=[];this.length=0;this.append=function(b){this.parts.push(b);this.length+=b.length};this.prepend=function(b){this.parts.unshift(b);this.length+=b.length};this.toString=function(){return this.parts.join("")}},k=new k,c,f,e,h,b,d,g=0;g<a.length;)c=a.charCodeAt(g++),f=a.charCodeAt(g++),e=a.charCodeAt(g++),h=c>>2,c=(c&3)<<4|f>>4,b=(f&15)<<2|e>>6,
d=e&63,isNaN(f)?b=d=64:isNaN(e)&&(d=64),k.append("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d));return k.toString()},BA=function(a,k){var c="",f=0,e=0,h=0;a&&(c=a||"",h=void 0!==k?k:h,f=a.length);var b="string"!=typeof a&&void 0!==a;return{position:function(b){if(b)e=
b;else return e},move:function(b){e+=b},bytesAvailable:function(){return f-e},length:function(){return f},endian:function(b){if(b)h=b;else return h},data:function(a){if(a)c=a||"",f=c.length,b="string"!=typeof a&&void 0!==a;else return c},readByte:function(){if(0===this.bytesAvailable())throw"readByte::End of stream!";return b?c[e++]&255:c.charCodeAt(e++)&255},readByteAt:function(a){if(a<f)return b?c[a]&255:c.charCodeAt(a)&255;throw"readByteAt::End of stream";},writeByte:function(a){b?e<f?c[e]=a&255:
c[c.length++]=a:e<f?c=c.substr(0,e)+String.fromCharCode(a&255)+c.substring(e+1):(c+=String.fromCharCode(a&255),f+=1);e++},readBytes:function(a,g){if(void 0===g){var h=e;e+=a;if(b){for(var f="",k=h;k<h+a;k++)f+=String.fromCharCode(c[k]);return f}return c.substr(h,a)}if(b){h="";for(f=a;f<a+g;f++)h+=String.fromCharCode(c[f]);return h}return c.substr(a,g)},readUnsignedInt:function(){if(4>this.bytesAvailable())throw"End of stream!";var a=0,a=0;h==Endian.BIG?(a=(e+=4)-4,a=b?(c[a]&255)<<24|(c[++a]&255)<<
16|(c[++a]&255)<<8|c[++a]&255:(c.charCodeAt(a)&255)<<24|(c.charCodeAt(++a)&255)<<16|(c.charCodeAt(++a)&255)<<8|c.charCodeAt(++a)&255):(a=e+=4,a=b?(c[--a]&255)<<24|(c[--a]&255)<<16|(c[--a]&255)<<8|c[--a]&255:(c.charCodeAt(--a)&255)<<24|(c.charCodeAt(--a)&255)<<16|(c.charCodeAt(--a)&255)<<8|c.charCodeAt(--a)&255);return a},readUnsignedShort:function(){if(2>this.bytesAvailable())throw"End of stream!";var a=0;if(h==Endian.BIG)return a=(e+=2)-2,b?(c[a]&255)<<8|c[++a]&255:(c.charCodeAt(a)&255)<<8|c.charCodeAt(++a)&
255;a=e+=2;return b?(c[--a]&255)<<8|c[--a]&255:(c.charCodeAt(--a)&255)<<8|c.charCodeAt(--a)&255},readShort:function(){if(2>this.bytesAvailable())throw"End of stream!";var a=0,a=0;h==Endian.BIG?(a=(e+=2)-2,a=b?(c[a]&255)<<8|c[++a]&255:(c.charCodeAt(a)&255)<<8|c.charCodeAt(++a)&255):(a=e+=2,a=b?(c[--a]&255)<<8|c[--a]&255:(c.charCodeAt(--a)&255)<<8|c.charCodeAt(--a)&255);return 32768<=a?a-65536:a},readUTFBytes:function(b){b=b||0;for(var a="",e=0;e<b;e++)a+=String.fromCharCode(this.readByte());return a}}},
Inflater=function(){function a(b){for(var a=m;v<b;){if(l==g.length())throw"available inflate data did not terminate";a|=g.readByteAt(l++)<<v;v+=8}m=a>>b;v-=b;return a&(1<<b)-1}function k(b,a,d){for(var g=[],e=0;e<=f;e++)b.count[e]=0;for(e=0;e<d;e++)b.count[a[e]]++;if(b.count[0]==d)return 0;for(var c=1,e=1;e<=f;e++)if(c<<=1,c-=b.count[e],0>c)return c;g[1]=0;for(e=1;e<f;e++)g[e+1]=g[e]+b.count[e];for(e=0;e<d;e++)0!==a[e]&&(b.symbol[g[a[e]]++]=e);return c}function c(b){for(var d=0,g=0,e=0,c=1;c<=f;c++){var d=
d|a(1),h=b.count[c];if(d<g+h)return b.symbol[e+(d-g)];e+=h;g+=h;g<<=1;d<<=1}return-9}var f=15,e=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],h=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],b=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],d=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],g=void 0,l=0,m=0,v=0,q=void 0,r=void 0;return{setInput:function(b){g=
b;g.endian(Endian.LITTLE);g.position(0)},inflate:function(f){var u=l=m=v=0;do{var w=a(1),x=a(2);if(0===x){x=f;v=m=0;if(l+4>g.length())throw"available inflate data did not terminate";var y=g[l++],y=y|g[l++]<<8;if(g[l++]!=(~y&255)||g[l++]!=(~y>>8&255))throw"stored block length did not match one's complement";if(l+y>g.length())throw"available inflate data did not terminate";for(;y--;)x[x.length]=g[l++]}else{if(3==x)throw"invalid block type (type == 3)";q={count:[],symbol:[]};r={count:[],symbol:[]};if(1==
x){x=[];for(y=0;144>y;y++)x[y]=8;for(;256>y;y++)x[y]=9;for(;280>y;y++)x[y]=7;for(;288>y;y++)x[y]=8;k(q,x,288);for(y=0;30>y;y++)x[y]=5;k(r,x,30)}else if(2==x){var u=[],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=a(5)+257,y=a(5)+1,A=a(4)+4;if(286<x||30<y)throw"dynamic block code description: too many length or distance codes";for(var z=0;z<A;z++)u[B[z]]=a(3);for(;19>z;z++)u[B[z]]=0;z=k(q,u,19);if(0!==z)throw"dynamic block code description: code lengths codes incomplete";for(z=0;z<x+y;)if(B=
c(q),16>B)u[z++]=B;else{A=0;if(16==B){if(0===z)throw"dynamic block code description: repeat lengths with no first length";A=u[z-1];B=3+a(2)}else B=17==B?3+a(3):11+a(7);if(z+B>x+y)throw"dynamic block code description: repeat more than specified lengths";for(;B--;)u[z++]=A}z=k(q,u,x);if(0>z||0<z&&1!=x-q.count[0])throw"dynamic block code description: invalid literal/length code lengths";z=k(r,u.slice(x),y);if(0>z||0<z&&1!=y-r.count[0])throw"dynamic block code description: invalid distance code lengths";
u=z}if(0!==u)break;a:{u=f;do{x=c(q);if(0>x){u=x;break a}if(256>x)u.position(u.length()),u.writeByte(x);else if(256<x){x-=257;if(29<=x)throw"invalid literal/length or distance code in fixed or dynamic block";y=e[x]+a(h[x]);x=c(r);if(0>x){u=x;break a}z=b[x]+a(d[x]);if(z>u.length())throw"distance is too far back in fixed or dynamic block";for(u.position(u.length());y--;)u.writeByte(u.readByteAt(u.length()-z))}}while(256!=x||1E4>=u.length());u=0}}if(0!==u)break}while(!w);return u}}},ZipEntry=function(a){var k=
0;return{name:function(){return a},time:function(a){if(a)a=new Date(time),k=(a.fullYear-1980&127)<<25|a.month+1<<21|a.day<<16|a.hours<<11|a.minutes<<5|a.seconds>>1;else return a=new Date((k>>25&127)+1980,(k>>21&15)-1,k>>16&31,k>>11&31,k>>5&63,(k&31)<<1),a.getTime()},size:0,compressedSize:0,crc:0,method:0,extra:void 0,comment:"",isDirectory:function(){return"/"==a.charAt(a.length-1)}}},ZipFile=function(a){function k(){var b=c.length()-ZipConstants.ENDHDR,a=Math.max(0,b-65535);for(b;b>=a;b--)if(c.position(b),
80==c.readByte()&&(c.position(b),101010256==c.readUnsignedInt()))return b;throw"findEND::Invalid zip";}var c=void 0,f=[],e={},h={},c=new BA(a.data(),Endian.LITTLE);(function(){var b=new BA;b.endian(Endian.LITTLE);b.data(c.readBytes(k(),ZipConstants.ENDHDR));b.position(ZipConstants.ENDTOT);f=Array(b.readUnsignedShort());b.position(ZipConstants.ENDOFF);c.position(b.readUnsignedInt());e={};h={};for(b=0;b<f.length;b++){var a=new BA(c.readBytes(ZipConstants.CENHDR),Endian.LITTLE);if(a.readUnsignedInt()!=
ZipConstants.CENSIG)throw"readEntries::Invalid CEN header (bad signature)";a.position(28);var g=a.readUnsignedShort();if(0===g)throw"missing entry name";var l=new ZipEntry(c.readUTFBytes(g)),g=a.readUnsignedShort();l.extra=new BA;0<g&&l.extra.data(c.readBytes(g));c.move(a.readUnsignedShort());a.position(6);l.version=a.readUnsignedShort();l.flag=a.readUnsignedShort();if(1==(l.flag&1))throw"readEntries::Encrypted ZIP entry not supported";l.method=a.readUnsignedShort();l.dostime=a.readUnsignedInt();
l.crc=a.readUnsignedInt();l.compressedSize=a.readUnsignedInt();l.size=a.readUnsignedInt();f[b]=l;e[l.name()]=l;a.position(42);h[l.name()]=a.readUnsignedInt()}})();return{entries:function(){return f},size:function(){return f.length},getEntry:function(b){return e[b]},getInput:function(b){c.position(h[b.name()]+30-2);var a=c.readShort();c.move(b.name().length+a);a=new BA;0<b.compressedSize&&a.data(c.readBytes(b.compressedSize));switch(b.method){case 0:return a;case 8:b=new BA;var g=new Inflater;g.setInput(a);
g.inflate(b);b.position(0);return b;default:throw"zipEntry::getInput::Invalid compression method";}}}},ZipLoader=function(a){function k(b){g="localfile.zip";m&&(b=new ZipFile(new BA(b,Endian.LITTLE)),(h[g]=b)&&l&&(v=c(b,l)))}function c(b,a){if(d.test(a)){var g=d.exec(a),e=g[2],g=new ZipFile(b.getInput(b.getEntry(g[1])));return c(g,e)}if(e=b.getEntry(a))return b.getInput(e);throw"Requested file was not found in the archive";}function f(b,a){null===b.canHaveChildren||b.canHaveChildren?b.appendChild(document.createTextNode(a)):
b.text=a}function e(b){if(239==b.charCodeAt(0)&&187==b.charCodeAt(1)&&191==b.charCodeAt(2)){b=b.substr(3);for(var a="",d=0,g=c1=c2=0;d<b.length;)g=b.charCodeAt(d),128>g?(a+=String.fromCharCode(g),d++):191<g&&224>g?(c2=b.charCodeAt(d+1),a+=String.fromCharCode((g&31)<<6|c2&63),d+=2):(c2=b.charCodeAt(d+1),c3=b.charCodeAt(d+2),a+=String.fromCharCode((g&15)<<12|(c2&63)<<6|c3&63),d+=3);return a}return b}var h={},b=/.*?.zip$/i,d=/(.*?.zip):\/\/(.*$)/i,g=a,l="",m=!0,v=void 0;g&&k(g);return{load:function(a){m=
!1;switch(!0){case d.test(a):var f=d.exec(a);g=f[1];l=f[2];(f=h[g])?f&&l&&(v=c(f,l)):(m=!0,k(a));break;case b.test(a):m=!0;g=a;k(a);break;default:k(a)}return v?(v.position(0),e(v.readBytes(0,v.length()))):""},loadImage:function(b){var a=this.load(b);if(a){var d="data:";switch((/[.]/.exec(b)&&/[^.]+$/.exec(b)[0]||"").toLowerCase()){case "gif":d+="image/gif;base64,";break;case "png":d+="image/png;base64,";break;case "jpg":case "jpeg":d+="image/jpeg;base64,"}d+=Base64(a)}return d},loadCSS:function(b){if(b=
e(this.load(b))){var a=document.getElementsByTagName("head")[0],d=document.createElement("style");d.type="text/css";d.media="screen";d.styleSheet?d.styleSheet.cssText=b:d.appendChild(document.createTextNode(b));a.appendChild(d)}},loadScript:function(b,a){var d=e(this.load(b));if(d){var g=window.document.createElement("script");g.setAttribute("type","text/javascript");g.setAttribute("charset",a);if(null!==navigator.userAgent.match(/MSIE/))eval(d);else{var c=document.getElementsByTagName("head")[0]||
document.documentElement;c.insertBefore(g,c.firstChild);f(g,d)}}}}};
(function(){function a(a){var c={opts:a,FRAMERATE:30,MAX_VIRTUAL_PIXELS:3E4,log:function(a){}};!0==c.opts.log&&"undefined"!=typeof console&&(c.log=function(a){console.log(a)});c.init=function(a){var h=0;c.UniqueId=function(){h++;return"canvg"+h};c.Definitions={};c.Styles={};c.Animations=[];c.Images=[];c.ctx=a;c.ViewPort=new function(){this.viewPorts=[];this.Clear=function(){this.viewPorts=[]};this.SetCurrent=function(b,a){this.viewPorts.push({width:b,height:a})};this.RemoveCurrent=function(){this.viewPorts.pop()};
this.Current=function(){return this.viewPorts[this.viewPorts.length-1]};this.width=function(){return this.Current().width};this.height=function(){return this.Current().height};this.ComputeSize=function(b){return null!=b&&"number"==typeof b?b:"x"==b?this.width():"y"==b?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}};c.init();c.ImagesLoaded=function(){for(var a=0;a<c.Images.length;a++)if(!c.Images[a].loaded)return!1;return!0};c.trim=function(a){return a.replace(/^\s+|\s+$/g,
"")};c.compressSpaces=function(a){return a.replace(/[\s\r\t\n]+/gm," ")};c.ajax=function(a){var c;return(c=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"))?(c.open("GET",a,!1),c.send(null),c.responseText):null};c.parseXml=function(a){if(window.DOMParser)return(new DOMParser).parseFromString(a,"text/xml");a=a.replace(/<!DOCTYPE svg[^>]*>/,"");var c=new ActiveXObject("Microsoft.XMLDOM");c.async="false";c.loadXML(a);return c};c.Property=function(a,c){this.name=a;this.value=
c};c.Property.prototype.getValue=function(){return this.value};c.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value};c.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var a=parseFloat(this.value);(this.value+"").match(/%$/)&&(a/=100);return a};c.Property.prototype.valueOrDefault=function(a){return this.hasValue()?this.value:a};c.Property.prototype.numValueOrDefault=function(a){return this.hasValue()?this.numValue():a};c.Property.prototype.addOpacity=
function(a){var h=this.value;if(null!=a.value&&""!=a.value&&"string"==typeof this.value){var b=new RGBColor(this.value);b.ok&&(h="rgba("+b.r+", "+b.g+", "+b.b+", "+a.numValue()+")")}return new c.Property(this.name,h)};c.Property.prototype.getDefinition=function(){var a=this.value.match(/#([^\)'"]+)/);a&&(a=a[1]);a||(a=this.value);return c.Definitions[a]};c.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")};c.Property.prototype.getFillStyleDefinition=function(a,h){var b=
this.getDefinition();if(null!=b&&b.createGradient)return b.createGradient(c.ctx,a,h);if(null!=b&&b.createPattern){if(b.getHrefAttribute().hasValue()){var d=b.attribute("patternTransform"),b=b.getHrefAttribute().getDefinition();d.hasValue()&&(b.attribute("patternTransform",!0).value=d.value)}return b.createPattern(c.ctx,a)}return null};c.Property.prototype.getDPI=function(a){return 96};c.Property.prototype.getEM=function(a){var h=12,b=new c.Property("fontSize",c.Font.Parse(c.ctx.font).fontSize);b.hasValue()&&
(h=b.toPixels(a));return h};c.Property.prototype.getUnits=function(){return(this.value+"").replace(/[0-9\.\-]/g,"")};c.Property.prototype.toPixels=function(a,h){if(!this.hasValue())return 0;var b=this.value+"";if(b.match(/em$/))return this.numValue()*this.getEM(a);if(b.match(/ex$/))return this.numValue()*this.getEM(a)/2;if(b.match(/px$/))return this.numValue();if(b.match(/pt$/))return this.numValue()*this.getDPI(a)*(1/72);if(b.match(/pc$/))return 15*this.numValue();if(b.match(/cm$/))return this.numValue()*
this.getDPI(a)/2.54;if(b.match(/mm$/))return this.numValue()*this.getDPI(a)/25.4;if(b.match(/in$/))return this.numValue()*this.getDPI(a);if(b.match(/%$/))return this.numValue()*c.ViewPort.ComputeSize(a);b=this.numValue();return h&&1>b?b*c.ViewPort.ComputeSize(a):b};c.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var a=this.value+"";if(a.match(/s$/))return 1E3*this.numValue();a.match(/ms$/);return this.numValue()};c.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;
var a=this.value+"";return a.match(/deg$/)?this.numValue()*(Math.PI/180):a.match(/grad$/)?this.numValue()*(Math.PI/200):a.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)};var f={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};c.Property.prototype.toTextBaseline=function(){return this.hasValue()?
f[this.value]:null};c.Font=new function(){this.Styles="normal|italic|oblique|inherit";this.Variants="normal|small-caps|inherit";this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";this.CreateFont=function(a,b,d,g,e,f){f=null!=f?this.Parse(f):this.CreateFont("","","","","",c.ctx.font);return{fontFamily:e||f.fontFamily,fontSize:g||f.fontSize,fontStyle:a||f.fontStyle,fontWeight:d||f.fontWeight,fontVariant:b||f.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,
this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var a=this;this.Parse=function(h){var b={};h=c.trim(c.compressSpaces(h||"")).split(" ");for(var d=!1,g=!1,l=!1,f=!1,k="",q=0;q<h.length;q++)g||-1==a.Styles.indexOf(h[q])?f||-1==a.Variants.indexOf(h[q])?l||-1==a.Weights.indexOf(h[q])?d?"inherit"!=h[q]&&(k+=h[q]):("inherit"!=h[q]&&(b.fontSize=h[q].split("/")[0]),g=f=l=d=!0):("inherit"!=h[q]&&(b.fontWeight=h[q]),g=f=l=!0):("inherit"!=h[q]&&(b.fontVariant=h[q]),g=f=!0):("inherit"!=h[q]&&(b.fontStyle=
h[q]),g=!0);""!=k&&(b.fontFamily=k);return b}};c.ToNumberArray=function(a){a=c.trim(c.compressSpaces((a||"").replace(/,/g," "))).split(" ");for(var h=0;h<a.length;h++)a[h]=parseFloat(a[h]);return a};c.Point=function(a,c){this.x=a;this.y=c};c.Point.prototype.angleTo=function(a){return Math.atan2(a.y-this.y,a.x-this.x)};c.Point.prototype.applyTransform=function(a){var c=this.x*a[1]+this.y*a[3]+a[5];this.x=this.x*a[0]+this.y*a[2]+a[4];this.y=c};c.CreatePoint=function(a){a=c.ToNumberArray(a);return new c.Point(a[0],
a[1])};c.CreatePath=function(a){a=c.ToNumberArray(a);for(var h=[],b=0;b<a.length;b+=2)h.push(new c.Point(a[b],a[b+1]));return h};c.BoundingBox=function(a,c,b,d){this.y2=this.x2=this.y1=this.x1=Number.NaN;this.x=function(){return this.x1};this.y=function(){return this.y1};this.width=function(){return this.x2-this.x1};this.height=function(){return this.y2-this.y1};this.addPoint=function(a,b){if(null!=a){if(isNaN(this.x1)||isNaN(this.x2))this.x2=this.x1=a;a<this.x1&&(this.x1=a);a>this.x2&&(this.x2=a)}if(null!=
b){if(isNaN(this.y1)||isNaN(this.y2))this.y2=this.y1=b;b<this.y1&&(this.y1=b);b>this.y2&&(this.y2=b)}};this.addX=function(a){this.addPoint(a,null)};this.addY=function(a){this.addPoint(null,a)};this.addBoundingBox=function(a){this.addPoint(a.x1,a.y1);this.addPoint(a.x2,a.y2)};this.addQuadraticCurve=function(a,b,d,e,c,h){d=a+2/3*(d-a);e=b+2/3*(e-b);this.addBezierCurve(a,b,d,d+1/3*(c-a),e,e+1/3*(h-b),c,h)};this.addBezierCurve=function(a,b,d,e,c,h,f,k){var w=[a,b],x=[d,e],y=[c,h],B=[f,k];this.addPoint(w[0],
w[1]);this.addPoint(B[0],B[1]);for(i=0;1>=i;i++)a=function(a){return Math.pow(1-a,3)*w[i]+3*Math.pow(1-a,2)*a*x[i]+3*(1-a)*Math.pow(a,2)*y[i]+Math.pow(a,3)*B[i]},b=6*w[i]-12*x[i]+6*y[i],d=-3*w[i]+9*x[i]-9*y[i]+3*B[i],e=3*x[i]-3*w[i],0==d?0!=b&&(b=-e/b,0<b&&1>b&&(0==i&&this.addX(a(b)),1==i&&this.addY(a(b)))):(e=Math.pow(b,2)-4*e*d,0>e||(c=(-b+Math.sqrt(e))/(2*d),0<c&&1>c&&(0==i&&this.addX(a(c)),1==i&&this.addY(a(c))),b=(-b-Math.sqrt(e))/(2*d),0<b&&1>b&&(0==i&&this.addX(a(b)),1==i&&this.addY(a(b)))))};
this.isPointInBox=function(a,b){return this.x1<=a&&a<=this.x2&&this.y1<=b&&b<=this.y2};this.addPoint(a,c);this.addPoint(b,d)};c.Transform=function(a){var h=this;this.Type={};this.Type.translate=function(a){this.p=c.CreatePoint(a);this.apply=function(a){a.translate(this.p.x||0,this.p.y||0)};this.unapply=function(a){a.translate(-1*this.p.x||0,-1*this.p.y||0)};this.applyToPoint=function(a){a.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}};this.Type.rotate=function(a){a=c.ToNumberArray(a);this.angle=
new c.Property("angle",a[0]);this.cx=a[1]||0;this.cy=a[2]||0;this.apply=function(a){a.translate(this.cx,this.cy);a.rotate(this.angle.toRadians());a.translate(-this.cx,-this.cy)};this.unapply=function(a){a.translate(this.cx,this.cy);a.rotate(-1*this.angle.toRadians());a.translate(-this.cx,-this.cy)};this.applyToPoint=function(a){var b=this.angle.toRadians();a.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]);a.applyTransform([Math.cos(b),Math.sin(b),-Math.sin(b),Math.cos(b),0,0]);a.applyTransform([1,
0,0,1,-this.p.x||0,-this.p.y||0])}};this.Type.scale=function(a){this.p=c.CreatePoint(a);this.apply=function(a){a.scale(this.p.x||1,this.p.y||this.p.x||1)};this.unapply=function(a){a.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)};this.applyToPoint=function(a){a.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}};this.Type.matrix=function(a){this.m=c.ToNumberArray(a);this.apply=function(a){a.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])};this.applyToPoint=function(a){a.applyTransform(this.m)}};
this.Type.SkewBase=function(a){this.base=h.Type.matrix;this.base(a);this.angle=new c.Property("angle",a)};this.Type.SkewBase.prototype=new this.Type.matrix;this.Type.skewX=function(a){this.base=h.Type.SkewBase;this.base(a);this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]};this.Type.skewX.prototype=new this.Type.SkewBase;this.Type.skewY=function(a){this.base=h.Type.SkewBase;this.base(a);this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]};this.Type.skewY.prototype=new this.Type.SkewBase;this.transforms=
[];this.apply=function(a){for(var b=0;b<this.transforms.length;b++)this.transforms[b].apply(a)};this.unapply=function(a){for(var b=this.transforms.length-1;0<=b;b--)this.transforms[b].unapply(a)};this.applyToPoint=function(a){for(var b=0;b<this.transforms.length;b++)this.transforms[b].applyToPoint(a)};a=c.trim(c.compressSpaces(a)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/);for(var b=0;b<a.length;b++){var d=c.trim(a[b].split("(")[0]),g=a[b].split("(")[1].replace(")",
""),g=new this.Type[d](g);g.type=d;this.transforms.push(g)}};c.AspectRatio=function(a,h,b,d,g,f,m,k,q,r){h=c.compressSpaces(h);h=h.replace(/^defer\s/,"");var s=h.split(" ")[0]||"xMidYMid";h=h.split(" ")[1]||"meet";var u=b/d,w=g/f,x=Math.min(u,w),y=Math.max(u,w);"meet"==h&&(d*=x,f*=x);"slice"==h&&(d*=y,f*=y);q=new c.Property("refX",q);r=new c.Property("refY",r);q.hasValue()&&r.hasValue()?a.translate(-x*q.toPixels("x"),-x*r.toPixels("y")):(s.match(/^xMid/)&&("meet"==h&&x==w||"slice"==h&&y==w)&&a.translate(b/
2-d/2,0),s.match(/YMid$/)&&("meet"==h&&x==u||"slice"==h&&y==u)&&a.translate(0,g/2-f/2),s.match(/^xMax/)&&("meet"==h&&x==w||"slice"==h&&y==w)&&a.translate(b-d,0),s.match(/YMax$/)&&("meet"==h&&x==u||"slice"==h&&y==u)&&a.translate(0,g-f));"none"==s?a.scale(u,w):"meet"==h?a.scale(x,x):"slice"==h&&a.scale(y,y);a.translate(null==m?0:-m,null==k?0:-k)};c.Element={};c.EmptyProperty=new c.Property("EMPTY","");c.Element.ElementBase=function(a){this.attributes={};this.styles={};this.children=[];this.attribute=
function(a,b){var d=this.attributes[a];if(null!=d)return d;!0==b&&(d=new c.Property(a,""),this.attributes[a]=d);return d||c.EmptyProperty};this.getHrefAttribute=function(){for(var a in this.attributes)if(a.match(/:href$/))return this.attributes[a];return c.EmptyProperty};this.style=function(a,b,d){var g=this.styles[a];if(null!=g)return g;var e=this.attribute(a);if(null!=e&&e.hasValue())return this.styles[a]=e;if(!0!=d&&(d=this.parent,null!=d&&(d=d.style(a),null!=d&&d.hasValue())))return d;!0==b&&
(g=new c.Property(a,""),this.styles[a]=g);return g||c.EmptyProperty};this.render=function(a){if("none"!=this.style("display").value&&"hidden"!=this.style("visibility").value){a.save();if(this.attribute("mask").hasValue()){var b=this.attribute("mask").getDefinition();null!=b&&b.apply(a,this)}else this.style("filter").hasValue()?(b=this.style("filter").getDefinition(),null!=b&&b.apply(a,this)):(this.setContext(a),this.renderChildren(a),this.clearContext(a));a.restore()}};this.setContext=function(a){};
this.clearContext=function(a){};this.renderChildren=function(a){for(var b=0;b<this.children.length;b++)this.children[b].render(a)};this.addChild=function(a,b){var d=a;b&&(d=c.CreateElement(a));d.parent=this;"title"!=d.type&&this.children.push(d)};if(null!=a&&1==a.nodeType){for(var h=0;h<a.childNodes.length;h++){var b=a.childNodes[h];1==b.nodeType&&this.addChild(b,!0);!this.captureTextNodes||3!=b.nodeType&&4!=b.nodeType||""!=c.trim(c.compressSpaces(b.nodeValue||b.text||""))&&this.addChild(new c.Element.tspan(b),
!1)}for(h=0;h<a.attributes.length;h++)b=a.attributes[h],this.attributes[b.nodeName]=new c.Property(b.nodeName,b.nodeValue);b=c.Styles[a.nodeName];if(null!=b)for(var d in b)this.styles[d]=b[d];if(this.attribute("class").hasValue())for(var h=c.compressSpaces(this.attribute("class").value).split(" "),g=0;g<h.length;g++){b=c.Styles["."+h[g]];if(null!=b)for(d in b)this.styles[d]=b[d];b=c.Styles[a.nodeName+"."+h[g]];if(null!=b)for(d in b)this.styles[d]=b[d]}if(this.attribute("id").hasValue()&&(b=c.Styles["#"+
this.attribute("id").value],null!=b))for(d in b)this.styles[d]=b[d];if(this.attribute("style").hasValue())for(b=this.attribute("style").value.split(";"),h=0;h<b.length;h++)""!=c.trim(b[h])&&(a=b[h].split(":"),d=c.trim(a[0]),a=c.trim(a[1]),this.styles[d]=new c.Property(d,a));this.attribute("id").hasValue()&&null==c.Definitions[this.attribute("id").value]&&(c.Definitions[this.attribute("id").value]=this)}};c.Element.RenderedElementBase=function(a){this.base=c.Element.ElementBase;this.base(a);this.setContext=
function(a){if(this.style("fill").isUrlDefinition()){var b=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=b&&(a.fillStyle=b)}else this.style("fill").hasValue()&&(b=this.style("fill"),"currentColor"==b.value&&(b.value=this.style("color").value),a.fillStyle="none"==b.value?"rgba(0,0,0,0)":b.value);this.style("fill-opacity").hasValue()&&(b=new c.Property("fill",a.fillStyle),b=b.addOpacity(this.style("fill-opacity")),a.fillStyle=b.value);this.style("stroke").isUrlDefinition()?
(b=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity")),null!=b&&(a.strokeStyle=b)):this.style("stroke").hasValue()&&(b=this.style("stroke"),"currentColor"==b.value&&(b.value=this.style("color").value),a.strokeStyle="none"==b.value?"rgba(0,0,0,0)":b.value);this.style("stroke-opacity").hasValue()&&(b=new c.Property("stroke",a.strokeStyle),b=b.addOpacity(this.style("stroke-opacity")),a.strokeStyle=b.value);this.style("stroke-width").hasValue()&&(b=this.style("stroke-width").toPixels(),
a.lineWidth=0==b?.001:b);this.style("stroke-linecap").hasValue()&&(a.lineCap=this.style("stroke-linecap").value);this.style("stroke-linejoin").hasValue()&&(a.lineJoin=this.style("stroke-linejoin").value);this.style("stroke-miterlimit").hasValue()&&(a.miterLimit=this.style("stroke-miterlimit").value);this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value&&(b=c.ToNumberArray(this.style("stroke-dasharray").value),"undefined"!=typeof a.setLineDash?a.setLineDash(b):"undefined"!=
typeof a.webkitLineDash?a.webkitLineDash=b:"undefined"==typeof a.mozDash||1==b.length&&0==b[0]||(a.mozDash=b),b=this.style("stroke-dashoffset").numValueOrDefault(1),"undefined"!=typeof a.lineDashOffset?a.lineDashOffset=b:"undefined"!=typeof a.webkitLineDashOffset?a.webkitLineDashOffset=b:"undefined"!=typeof a.mozDashOffset&&(a.mozDashOffset=b));"undefined"!=typeof a.font&&(a.font=c.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?
this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString());this.attribute("transform").hasValue()&&(new c.Transform(this.attribute("transform").value)).apply(a);this.style("clip-path",!1,!0).hasValue()&&(b=this.style("clip-path",!1,!0).getDefinition(),null!=b&&b.apply(a));this.style("opacity").hasValue()&&(a.globalAlpha=this.style("opacity").numValue())}};c.Element.RenderedElementBase.prototype=new c.Element.ElementBase;c.Element.PathElementBase=function(a){this.base=
c.Element.RenderedElementBase;this.base(a);this.path=function(a){null!=a&&a.beginPath();return new c.BoundingBox};this.renderChildren=function(a){this.path(a);c.Mouse.checkPath(this,a);""!=a.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?a.fill(this.style("fill-rule").value):a.fill());""!=a.strokeStyle&&a.stroke();var b=this.getMarkers();if(null!=b){if(this.style("marker-start").isUrlDefinition()){var d=this.style("marker-start").getDefinition();d.render(a,b[0][0],b[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var d=
this.style("marker-mid").getDefinition(),g=1;g<b.length-1;g++)d.render(a,b[g][0],b[g][1]);this.style("marker-end").isUrlDefinition()&&(d=this.style("marker-end").getDefinition(),d.render(a,b[b.length-1][0],b[b.length-1][1]))}};this.getBoundingBox=function(){return this.path()};this.getMarkers=function(){return null}};c.Element.PathElementBase.prototype=new c.Element.RenderedElementBase;c.Element.svg=function(a){this.base=c.Element.RenderedElementBase;this.base(a);this.baseClearContext=this.clearContext;
this.clearContext=function(a){this.baseClearContext(a);c.ViewPort.RemoveCurrent()};this.baseSetContext=this.setContext;this.setContext=function(a){a.strokeStyle="rgba(0,0,0,0)";a.lineCap="butt";a.lineJoin="miter";a.miterLimit=4;"undefined"!=typeof a.font&&"undefined"!=typeof window.getComputedStyle&&(a.font=window.getComputedStyle(a.canvas).getPropertyValue("font"));this.baseSetContext(a);this.attribute("x").hasValue()||(this.attribute("x",!0).value=0);this.attribute("y").hasValue()||(this.attribute("y",
!0).value=0);a.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var b=c.ViewPort.width(),d=c.ViewPort.height();this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%");this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%");if("undefined"==typeof this.root){var b=this.attribute("width").toPixels("x"),d=this.attribute("height").toPixels("y"),g=0,e=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(g=-this.attribute("refX").toPixels("x"),
e=-this.attribute("refY").toPixels("y"));"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(a.beginPath(),a.moveTo(g,e),a.lineTo(b,e),a.lineTo(b,d),a.lineTo(g,d),a.closePath(),a.clip())}c.ViewPort.SetCurrent(b,d);if(this.attribute("viewBox").hasValue()){var g=c.ToNumberArray(this.attribute("viewBox").value),e=g[0],f=g[1],b=g[2],d=g[3];c.AspectRatio(a,this.attribute("preserveAspectRatio").value,c.ViewPort.width(),b,c.ViewPort.height(),d,e,f,this.attribute("refX").value,this.attribute("refY").value);
c.ViewPort.RemoveCurrent();c.ViewPort.SetCurrent(g[2],g[3])}}};c.Element.svg.prototype=new c.Element.RenderedElementBase;c.Element.rect=function(a){this.base=c.Element.PathElementBase;this.base(a);this.path=function(a){var b=this.attribute("x").toPixels("x"),d=this.attribute("y").toPixels("y"),g=this.attribute("width").toPixels("x"),e=this.attribute("height").toPixels("y"),f=this.attribute("rx").toPixels("x"),k=this.attribute("ry").toPixels("y");this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&
(k=f);this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(f=k);f=Math.min(f,g/2);k=Math.min(k,e/2);null!=a&&(a.beginPath(),a.moveTo(b+f,d),a.lineTo(b+g-f,d),a.quadraticCurveTo(b+g,d,b+g,d+k),a.lineTo(b+g,d+e-k),a.quadraticCurveTo(b+g,d+e,b+g-f,d+e),a.lineTo(b+f,d+e),a.quadraticCurveTo(b,d+e,b,d+e-k),a.lineTo(b,d+k),a.quadraticCurveTo(b,d,b+f,d),a.closePath());return new c.BoundingBox(b,d,b+g,d+e)}};c.Element.rect.prototype=new c.Element.PathElementBase;c.Element.circle=function(a){this.base=
c.Element.PathElementBase;this.base(a);this.path=function(a){var b=this.attribute("cx").toPixels("x"),d=this.attribute("cy").toPixels("y"),g=this.attribute("r").toPixels();null!=a&&(a.beginPath(),a.arc(b,d,g,0,2*Math.PI,!0),a.closePath());return new c.BoundingBox(b-g,d-g,b+g,d+g)}};c.Element.circle.prototype=new c.Element.PathElementBase;c.Element.ellipse=function(a){this.base=c.Element.PathElementBase;this.base(a);this.path=function(a){var b=4*((Math.sqrt(2)-1)/3),d=this.attribute("rx").toPixels("x"),
g=this.attribute("ry").toPixels("y"),e=this.attribute("cx").toPixels("x"),f=this.attribute("cy").toPixels("y");null!=a&&(a.beginPath(),a.moveTo(e,f-g),a.bezierCurveTo(e+b*d,f-g,e+d,f-b*g,e+d,f),a.bezierCurveTo(e+d,f+b*g,e+b*d,f+g,e,f+g),a.bezierCurveTo(e-b*d,f+g,e-d,f+b*g,e-d,f),a.bezierCurveTo(e-d,f-b*g,e-b*d,f-g,e,f-g),a.closePath());return new c.BoundingBox(e-d,f-g,e+d,f+g)}};c.Element.ellipse.prototype=new c.Element.PathElementBase;c.Element.line=function(a){this.base=c.Element.PathElementBase;
this.base(a);this.getPoints=function(){return[new c.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new c.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]};this.path=function(a){var b=this.getPoints();null!=a&&(a.beginPath(),a.moveTo(b[0].x,b[0].y),a.lineTo(b[1].x,b[1].y));return new c.BoundingBox(b[0].x,b[0].y,b[1].x,b[1].y)};this.getMarkers=function(){var a=this.getPoints(),b=a[0].angleTo(a[1]);return[[a[0],b],[a[1],b]]}};c.Element.line.prototype=
new c.Element.PathElementBase;c.Element.polyline=function(a){this.base=c.Element.PathElementBase;this.base(a);this.points=c.CreatePath(this.attribute("points").value);this.path=function(a){var b=new c.BoundingBox(this.points[0].x,this.points[0].y);null!=a&&(a.beginPath(),a.moveTo(this.points[0].x,this.points[0].y));for(var d=1;d<this.points.length;d++)b.addPoint(this.points[d].x,this.points[d].y),null!=a&&a.lineTo(this.points[d].x,this.points[d].y);return b};this.getMarkers=function(){for(var a=[],
b=0;b<this.points.length-1;b++)a.push([this.points[b],this.points[b].angleTo(this.points[b+1])]);a.push([this.points[this.points.length-1],a[a.length-1][1]]);return a}};c.Element.polyline.prototype=new c.Element.PathElementBase;c.Element.polygon=function(a){this.base=c.Element.polyline;this.base(a);this.basePath=this.path;this.path=function(a){var b=this.basePath(a);null!=a&&(a.lineTo(this.points[0].x,this.points[0].y),a.closePath());return b}};c.Element.polygon.prototype=new c.Element.polyline;c.Element.path=
function(a){this.base=c.Element.PathElementBase;this.base(a);a=this.attribute("d").value;a=a.replace(/,/gm," ");a=a.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");a=a.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");a=a.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");a=a.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");a=a.replace(/([0-9])([+\-])/gm,"$1 $2");a=a.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");a=a.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,
"$1 $3 $4 ");a=c.compressSpaces(a);a=c.trim(a);this.PathParser=new function(a){this.tokens=a.split(" ");this.reset=function(){this.i=-1;this.previousCommand=this.command="";this.start=new c.Point(0,0);this.control=new c.Point(0,0);this.current=new c.Point(0,0);this.points=[];this.angles=[]};this.isEnd=function(){return this.i>=this.tokens.length-1};this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)};this.isRelativeCommand=function(){switch(this.command){case "m":case "l":case "h":case "v":case "c":case "s":case "q":case "t":case "a":case "z":return!0}return!1};
this.getToken=function(){this.i++;return this.tokens[this.i]};this.getScalar=function(){return parseFloat(this.getToken())};this.nextCommand=function(){this.previousCommand=this.command;this.command=this.getToken()};this.getPoint=function(){var a=new c.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(a)};this.getAsControlPoint=function(){return this.control=this.getPoint()};this.getAsCurrentPoint=function(){return this.current=this.getPoint()};this.getReflectedControlPoint=function(){return"c"!=
this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase()?this.current:new c.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)};this.makeAbsolute=function(a){this.isRelativeCommand()&&(a.x+=this.current.x,a.y+=this.current.y);return a};this.addMarker=function(a,d,g){null!=g&&0<this.angles.length&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-
1].angleTo(g));this.addMarkerAngle(a,null==d?null:d.angleTo(a))};this.addMarkerAngle=function(a,d){this.points.push(a);this.angles.push(d)};this.getMarkerPoints=function(){return this.points};this.getMarkerAngles=function(){for(var a=0;a<this.angles.length;a++)if(null==this.angles[a])for(var d=a+1;d<this.angles.length;d++)if(null!=this.angles[d]){this.angles[a]=this.angles[d];break}return this.angles}}(a);this.path=function(a){var b=this.PathParser;b.reset();var d=new c.BoundingBox;for(null!=a&&a.beginPath();!b.isEnd();)switch(b.nextCommand(),
b.command){case "M":case "m":var g=b.getAsCurrentPoint();b.addMarker(g);d.addPoint(g.x,g.y);null!=a&&a.moveTo(g.x,g.y);for(b.start=b.current;!b.isCommandOrEnd();)g=b.getAsCurrentPoint(),b.addMarker(g,b.start),d.addPoint(g.x,g.y),null!=a&&a.lineTo(g.x,g.y);break;case "L":case "l":for(;!b.isCommandOrEnd();){var e=b.current,g=b.getAsCurrentPoint();b.addMarker(g,e);d.addPoint(g.x,g.y);null!=a&&a.lineTo(g.x,g.y)}break;case "H":case "h":for(;!b.isCommandOrEnd();)g=new c.Point((b.isRelativeCommand()?b.current.x:
0)+b.getScalar(),b.current.y),b.addMarker(g,b.current),b.current=g,d.addPoint(b.current.x,b.current.y),null!=a&&a.lineTo(b.current.x,b.current.y);break;case "V":case "v":for(;!b.isCommandOrEnd();)g=new c.Point(b.current.x,(b.isRelativeCommand()?b.current.y:0)+b.getScalar()),b.addMarker(g,b.current),b.current=g,d.addPoint(b.current.x,b.current.y),null!=a&&a.lineTo(b.current.x,b.current.y);break;case "C":case "c":for(;!b.isCommandOrEnd();){var f=b.current,e=b.getPoint(),k=b.getAsControlPoint(),g=b.getAsCurrentPoint();
b.addMarker(g,k,e);d.addBezierCurve(f.x,f.y,e.x,e.y,k.x,k.y,g.x,g.y);null!=a&&a.bezierCurveTo(e.x,e.y,k.x,k.y,g.x,g.y)}break;case "S":case "s":for(;!b.isCommandOrEnd();)f=b.current,e=b.getReflectedControlPoint(),k=b.getAsControlPoint(),g=b.getAsCurrentPoint(),b.addMarker(g,k,e),d.addBezierCurve(f.x,f.y,e.x,e.y,k.x,k.y,g.x,g.y),null!=a&&a.bezierCurveTo(e.x,e.y,k.x,k.y,g.x,g.y);break;case "Q":case "q":for(;!b.isCommandOrEnd();)f=b.current,k=b.getAsControlPoint(),g=b.getAsCurrentPoint(),b.addMarker(g,
k,k),d.addQuadraticCurve(f.x,f.y,k.x,k.y,g.x,g.y),null!=a&&a.quadraticCurveTo(k.x,k.y,g.x,g.y);break;case "T":case "t":for(;!b.isCommandOrEnd();)f=b.current,k=b.getReflectedControlPoint(),b.control=k,g=b.getAsCurrentPoint(),b.addMarker(g,k,k),d.addQuadraticCurve(f.x,f.y,k.x,k.y,g.x,g.y),null!=a&&a.quadraticCurveTo(k.x,k.y,g.x,g.y);break;case "A":case "a":for(;!b.isCommandOrEnd();){var f=b.current,q=b.getScalar(),r=b.getScalar(),e=b.getScalar()*(Math.PI/180),s=b.getScalar(),k=b.getScalar(),g=b.getAsCurrentPoint(),
u=new c.Point(Math.cos(e)*(f.x-g.x)/2+Math.sin(e)*(f.y-g.y)/2,-Math.sin(e)*(f.x-g.x)/2+Math.cos(e)*(f.y-g.y)/2),w=Math.pow(u.x,2)/Math.pow(q,2)+Math.pow(u.y,2)/Math.pow(r,2);1<w&&(q*=Math.sqrt(w),r*=Math.sqrt(w));s=(s==k?-1:1)*Math.sqrt((Math.pow(q,2)*Math.pow(r,2)-Math.pow(q,2)*Math.pow(u.y,2)-Math.pow(r,2)*Math.pow(u.x,2))/(Math.pow(q,2)*Math.pow(u.y,2)+Math.pow(r,2)*Math.pow(u.x,2)));isNaN(s)&&(s=0);var x=new c.Point(s*q*u.y/r,s*-r*u.x/q),f=new c.Point((f.x+g.x)/2+Math.cos(e)*x.x-Math.sin(e)*x.y,
(f.y+g.y)/2+Math.sin(e)*x.x+Math.cos(e)*x.y),y=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))},B=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(y(a)*y(b))},A=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(B(a,b))},s=A([1,0],[(u.x-x.x)/q,(u.y-x.y)/r]),w=[(u.x-x.x)/q,(u.y-x.y)/r],x=[(-u.x-x.x)/q,(-u.y-x.y)/r],u=A(w,x);-1>=B(w,x)&&(u=Math.PI);1<=B(w,x)&&(u=0);w=1-k?1:-1;x=s+u/2*w;A=new c.Point(f.x+q*Math.cos(x),f.y+r*Math.sin(x));b.addMarkerAngle(A,x-w*Math.PI/2);b.addMarkerAngle(g,
x-w*Math.PI);d.addPoint(g.x,g.y);null!=a&&(B=q>r?q:r,g=q>r?1:q/r,q=q>r?r/q:1,a.translate(f.x,f.y),a.rotate(e),a.scale(g,q),a.arc(0,0,B,s,s+u,1-k),a.scale(1/g,1/q),a.rotate(-e),a.translate(-f.x,-f.y))}break;case "Z":case "z":null!=a&&a.closePath(),b.current=b.start}return d};this.getMarkers=function(){for(var a=this.PathParser.getMarkerPoints(),b=this.PathParser.getMarkerAngles(),d=[],g=0;g<a.length;g++)d.push([a[g],b[g]]);return d}};c.Element.path.prototype=new c.Element.PathElementBase;c.Element.pattern=
function(a){this.base=c.Element.ElementBase;this.base(a);this.createPattern=function(a,b){var d=this.attribute("width").toPixels("x",!0),g=this.attribute("height").toPixels("y",!0),e=new c.Element.svg;e.attributes.viewBox=new c.Property("viewBox",this.attribute("viewBox").value);e.attributes.width=new c.Property("width",d+"px");e.attributes.height=new c.Property("height",g+"px");e.attributes.transform=new c.Property("transform",this.attribute("patternTransform").value);e.children=this.children;var f=
document.createElement("canvas");f.width=d;f.height=g;d=f.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&d.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(g=-1;1>=g;g++)for(var k=-1;1>=k;k++)d.save(),d.translate(g*f.width,k*f.height),e.render(d),d.restore();return a.createPattern(f,"repeat")}};c.Element.pattern.prototype=new c.Element.ElementBase;c.Element.marker=function(a){this.base=c.Element.ElementBase;this.base(a);this.baseRender=
this.render;this.render=function(a,b,d){a.translate(b.x,b.y);"auto"==this.attribute("orient").valueOrDefault("auto")&&a.rotate(d);"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&a.scale(a.lineWidth,a.lineWidth);a.save();var g=new c.Element.svg;g.attributes.viewBox=new c.Property("viewBox",this.attribute("viewBox").value);g.attributes.refX=new c.Property("refX",this.attribute("refX").value);g.attributes.refY=new c.Property("refY",this.attribute("refY").value);g.attributes.width=
new c.Property("width",this.attribute("markerWidth").value);g.attributes.height=new c.Property("height",this.attribute("markerHeight").value);g.attributes.fill=new c.Property("fill",this.attribute("fill").valueOrDefault("black"));g.attributes.stroke=new c.Property("stroke",this.attribute("stroke").valueOrDefault("none"));g.children=this.children;g.render(a);a.restore();"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&a.scale(1/a.lineWidth,1/a.lineWidth);"auto"==this.attribute("orient").valueOrDefault("auto")&&
a.rotate(-d);a.translate(-b.x,-b.y)}};c.Element.marker.prototype=new c.Element.ElementBase;c.Element.defs=function(a){this.base=c.Element.ElementBase;this.base(a);this.render=function(a){}};c.Element.defs.prototype=new c.Element.ElementBase;c.Element.GradientBase=function(a){this.base=c.Element.ElementBase;this.base(a);this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox");this.stops=[];for(a=0;a<this.children.length;a++){var f=this.children[a];"stop"==f.type&&this.stops.push(f)}this.getGradient=
function(){};this.createGradient=function(a,d,g){var e=this;this.getHrefAttribute().hasValue()&&(e=this.getHrefAttribute().getDefinition());var f=function(a){return g.hasValue()?(new c.Property("color",a)).addOpacity(g).value:a};a=this.getGradient(a,d);if(null==a)return f(e.stops[e.stops.length-1].color);for(d=0;d<e.stops.length;d++)a.addColorStop(e.stops[d].offset,f(e.stops[d].color));return this.attribute("gradientTransform").hasValue()?(e=c.ViewPort.viewPorts[0],f=new c.Element.rect,f.attributes.x=
new c.Property("x",-c.MAX_VIRTUAL_PIXELS/3),f.attributes.y=new c.Property("y",-c.MAX_VIRTUAL_PIXELS/3),f.attributes.width=new c.Property("width",c.MAX_VIRTUAL_PIXELS),f.attributes.height=new c.Property("height",c.MAX_VIRTUAL_PIXELS),d=new c.Element.g,d.attributes.transform=new c.Property("transform",this.attribute("gradientTransform").value),d.children=[f],f=new c.Element.svg,f.attributes.x=new c.Property("x",0),f.attributes.y=new c.Property("y",0),f.attributes.width=new c.Property("width",e.width),
f.attributes.height=new c.Property("height",e.height),f.children=[d],d=document.createElement("canvas"),d.width=e.width,d.height=e.height,e=d.getContext("2d"),e.fillStyle=a,f.render(e),e.createPattern(d,"no-repeat")):a}};c.Element.GradientBase.prototype=new c.Element.ElementBase;c.Element.linearGradient=function(a){this.base=c.Element.GradientBase;this.base(a);this.getGradient=function(a,b){var d="objectBoundingBox"==this.gradientUnits?b.getBoundingBox():null;this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||
this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var g="objectBoundingBox"==this.gradientUnits?d.x()+d.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),e="objectBoundingBox"==this.gradientUnits?d.y()+d.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),c="objectBoundingBox"==this.gradientUnits?d.x()+d.width()*
this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),d="objectBoundingBox"==this.gradientUnits?d.y()+d.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return g==c&&e==d?null:a.createLinearGradient(g,e,c,d)}};c.Element.linearGradient.prototype=new c.Element.GradientBase;c.Element.radialGradient=function(a){this.base=c.Element.GradientBase;this.base(a);this.getGradient=function(a,b){var d=b.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",
!0).value="50%");this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%");this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var g="objectBoundingBox"==this.gradientUnits?d.x()+d.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),e="objectBoundingBox"==this.gradientUnits?d.y()+d.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),c=g,f=e;this.attribute("fx").hasValue()&&(c="objectBoundingBox"==this.gradientUnits?d.x()+
d.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x"));this.attribute("fy").hasValue()&&(f="objectBoundingBox"==this.gradientUnits?d.y()+d.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));d="objectBoundingBox"==this.gradientUnits?(d.width()+d.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return a.createRadialGradient(c,f,0,g,e,d)}};c.Element.radialGradient.prototype=new c.Element.GradientBase;c.Element.stop=function(a){this.base=
c.Element.ElementBase;this.base(a);this.offset=this.attribute("offset").numValue();0>this.offset&&(this.offset=0);1<this.offset&&(this.offset=1);a=this.style("stop-color");this.style("stop-opacity").hasValue()&&(a=a.addOpacity(this.style("stop-opacity")));this.color=a.value};c.Element.stop.prototype=new c.Element.ElementBase;c.Element.AnimateBase=function(a){this.base=c.Element.ElementBase;this.base(a);c.Animations.push(this);this.duration=0;this.begin=this.attribute("begin").toMilliseconds();this.maxDuration=
this.begin+this.attribute("dur").toMilliseconds();this.getProperty=function(){var a=this.attribute("attributeType").value,b=this.attribute("attributeName").value;return"CSS"==a?this.parent.style(b,!0):this.parent.attribute(b,!0)};this.initialValue=null;this.initialUnits="";this.removed=!1;this.calcValue=function(){return""};this.update=function(a){null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits());if(this.duration>this.maxDuration){if("indefinite"==
this.attribute("repeatCount").value||"indefinite"==this.attribute("repeatDur").value)this.duration=0;else if("freeze"==this.attribute("fill").valueOrDefault("remove")&&!this.frozen)this.frozen=!0,this.parent.animationFrozen=!0,this.parent.animationFrozenValue=this.getProperty().value;else if("remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed)return this.removed=!0,this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue,!0;return!1}this.duration+=
a;a=!1;this.begin<this.duration&&(a=this.calcValue(),this.attribute("type").hasValue()&&(a=this.attribute("type").value+"("+a+")"),this.getProperty().value=a,a=!0);return a};this.from=this.attribute("from");this.to=this.attribute("to");this.values=this.attribute("values");this.values.hasValue()&&(this.values.value=this.values.value.split(";"));this.progress=function(){var a={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var b=a.progress*(this.values.value.length-
1),d=Math.floor(b),g=Math.ceil(b);a.from=new c.Property("from",parseFloat(this.values.value[d]));a.to=new c.Property("to",parseFloat(this.values.value[g]));a.progress=(b-d)/(g-d)}else a.from=this.from,a.to=this.to;return a}};c.Element.AnimateBase.prototype=new c.Element.ElementBase;c.Element.animate=function(a){this.base=c.Element.AnimateBase;this.base(a);this.calcValue=function(){var a=this.progress();return a.from.numValue()+(a.to.numValue()-a.from.numValue())*a.progress+this.initialUnits}};c.Element.animate.prototype=
new c.Element.AnimateBase;c.Element.animateColor=function(a){this.base=c.Element.AnimateBase;this.base(a);this.calcValue=function(){var a=this.progress(),b=new RGBColor(a.from.value),d=new RGBColor(a.to.value);if(b.ok&&d.ok){var g=b.g+(d.g-b.g)*a.progress,c=b.b+(d.b-b.b)*a.progress;return"rgb("+parseInt(b.r+(d.r-b.r)*a.progress,10)+","+parseInt(g,10)+","+parseInt(c,10)+")"}return this.attribute("from").value}};c.Element.animateColor.prototype=new c.Element.AnimateBase;c.Element.animateTransform=function(a){this.base=
c.Element.AnimateBase;this.base(a);this.calcValue=function(){for(var a=this.progress(),b=c.ToNumberArray(a.from.value),d=c.ToNumberArray(a.to.value),g="",e=0;e<b.length;e++)g+=b[e]+(d[e]-b[e])*a.progress+" ";return g}};c.Element.animateTransform.prototype=new c.Element.animate;c.Element.font=function(a){this.base=c.Element.ElementBase;this.base(a);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.isArabic=this.isRTL=!1;this.missingGlyph=this.fontFace=null;this.glyphs=[];for(a=0;a<this.children.length;a++){var f=
this.children[a];"font-face"==f.type?(this.fontFace=f,f.style("font-family").hasValue()&&(c.Definitions[f.style("font-family").value]=this)):"missing-glyph"==f.type?this.missingGlyph=f:"glyph"==f.type&&(""!=f.arabicForm?(this.isArabic=this.isRTL=!0,"undefined"==typeof this.glyphs[f.unicode]&&(this.glyphs[f.unicode]=[]),this.glyphs[f.unicode][f.arabicForm]=f):this.glyphs[f.unicode]=f)}};c.Element.font.prototype=new c.Element.ElementBase;c.Element.fontface=function(a){this.base=c.Element.ElementBase;
this.base(a);this.ascent=this.attribute("ascent").value;this.descent=this.attribute("descent").value;this.unitsPerEm=this.attribute("units-per-em").numValue()};c.Element.fontface.prototype=new c.Element.ElementBase;c.Element.missingglyph=function(a){this.base=c.Element.path;this.base(a);this.horizAdvX=0};c.Element.missingglyph.prototype=new c.Element.path;c.Element.glyph=function(a){this.base=c.Element.path;this.base(a);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.unicode=this.attribute("unicode").value;
this.arabicForm=this.attribute("arabic-form").value};c.Element.glyph.prototype=new c.Element.path;c.Element.text=function(a){this.captureTextNodes=!0;this.base=c.Element.RenderedElementBase;this.base(a);this.baseSetContext=this.setContext;this.setContext=function(a){this.baseSetContext(a);var b=this.style("dominant-baseline").toTextBaseline();null==b&&(b=this.style("alignment-baseline").toTextBaseline());null!=b&&(a.textBaseline=b)};this.getBoundingBox=function(){var a=this.attribute("x").toPixels("x"),
b=this.attribute("y").toPixels("y"),d=this.parent.style("font-size").numValueOrDefault(c.Font.Parse(c.ctx.font).fontSize);return new c.BoundingBox(a,b-d,a+Math.floor(2*d/3)*this.children[0].getText().length,b)};this.renderChildren=function(a){this.x=this.attribute("x").toPixels("x");this.y=this.attribute("y").toPixels("y");this.x+=this.getAnchorDelta(a,this,0);for(var b=0;b<this.children.length;b++)this.renderChild(a,this,b)};this.getAnchorDelta=function(a,b,d){var g=this.style("text-anchor").valueOrDefault("start");
if("start"!=g){for(var c=0,e=d;e<b.children.length;e++){var f=b.children[e];if(e>d&&f.attribute("x").hasValue())break;c+=f.measureTextRecursive(a)}return-1*("end"==g?c:c/2)}return 0};this.renderChild=function(a,b,d){var g=b.children[d];g.attribute("x").hasValue()?(g.x=g.attribute("x").toPixels("x")+this.getAnchorDelta(a,b,d),g.attribute("dx").hasValue()&&(g.x+=g.attribute("dx").toPixels("x"))):(this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),g.attribute("dx").hasValue()&&
(this.x+=g.attribute("dx").toPixels("x")),g.x=this.x);this.x=g.x+g.measureText(a);g.attribute("y").hasValue()?(g.y=g.attribute("y").toPixels("y"),g.attribute("dy").hasValue()&&(g.y+=g.attribute("dy").toPixels("y"))):(this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),g.attribute("dy").hasValue()&&(this.y+=g.attribute("dy").toPixels("y")),g.y=this.y);this.y=g.y;g.render(a);for(d=0;d<g.children.length;d++)this.renderChild(a,g,d)}};c.Element.text.prototype=new c.Element.RenderedElementBase;
c.Element.TextElementBase=function(a){this.base=c.Element.RenderedElementBase;this.base(a);this.getGlyph=function(a,b,d){var g=b[d],c=null;if(a.isArabic){var e="isolated";(0==d||" "==b[d-1])&&d<b.length-2&&" "!=b[d+1]&&(e="terminal");0<d&&" "!=b[d-1]&&d<b.length-2&&" "!=b[d+1]&&(e="medial");0<d&&" "!=b[d-1]&&(d==b.length-1||" "==b[d+1])&&(e="initial");"undefined"!=typeof a.glyphs[g]&&(c=a.glyphs[g][e],null==c&&"glyph"==a.glyphs[g].type&&(c=a.glyphs[g]))}else c=a.glyphs[g];null==c&&(c=a.missingGlyph);
return c};this.renderChildren=function(a){var b=this.parent.style("font-family").getDefinition();if(null!=b){var d=this.parent.style("font-size").numValueOrDefault(c.Font.Parse(c.ctx.font).fontSize),g=this.parent.style("font-style").valueOrDefault(c.Font.Parse(c.ctx.font).fontStyle),e=this.getText();b.isRTL&&(e=e.split("").reverse().join(""));for(var f=c.ToNumberArray(this.parent.attribute("dx").value),k=0;k<e.length;k++){var q=this.getGlyph(b,e,k),r=d/b.fontFace.unitsPerEm;a.translate(this.x,this.y);
a.scale(r,-r);var s=a.lineWidth;a.lineWidth=a.lineWidth*b.fontFace.unitsPerEm/d;"italic"==g&&a.transform(1,0,.4,1,0,0);q.render(a);"italic"==g&&a.transform(1,0,-.4,1,0,0);a.lineWidth=s;a.scale(1/r,-1/r);a.translate(-this.x,-this.y);this.x+=d*(q.horizAdvX||b.horizAdvX)/b.fontFace.unitsPerEm;"undefined"==typeof f[k]||isNaN(f[k])||(this.x+=f[k])}}else""!=a.fillStyle&&a.fillText(c.compressSpaces(this.getText()),this.x,this.y),""!=a.strokeStyle&&a.strokeText(c.compressSpaces(this.getText()),this.x,this.y)};
this.getText=function(){};this.measureTextRecursive=function(a){for(var b=this.measureText(a),d=0;d<this.children.length;d++)b+=this.children[d].measureTextRecursive(a);return b};this.measureText=function(a){var b=this.parent.style("font-family").getDefinition();if(null!=b){a=this.parent.style("font-size").numValueOrDefault(c.Font.Parse(c.ctx.font).fontSize);var d=0,g=this.getText();b.isRTL&&(g=g.split("").reverse().join(""));for(var e=c.ToNumberArray(this.parent.attribute("dx").value),f=0;f<g.length;f++){var k=
this.getGlyph(b,g,f),d=d+(k.horizAdvX||b.horizAdvX)*a/b.fontFace.unitsPerEm;"undefined"==typeof e[f]||isNaN(e[f])||(d+=e[f])}return d}b=c.compressSpaces(this.getText());if(!a.measureText)return 10*b.length;a.save();this.setContext(a);b=a.measureText(b).width;a.restore();return b}};c.Element.TextElementBase.prototype=new c.Element.RenderedElementBase;c.Element.tspan=function(a){this.captureTextNodes=!0;this.base=c.Element.TextElementBase;this.base(a);this.text=a.nodeValue||a.text||"";this.getText=
function(){return this.text}};c.Element.tspan.prototype=new c.Element.TextElementBase;c.Element.tref=function(a){this.base=c.Element.TextElementBase;this.base(a);this.getText=function(){var a=this.getHrefAttribute().getDefinition();if(null!=a)return a.children[0].getText()}};c.Element.tref.prototype=new c.Element.TextElementBase;c.Element.a=function(a){this.base=c.Element.TextElementBase;this.base(a);this.hasText=!0;for(var f=0;f<a.childNodes.length;f++)3!=a.childNodes[f].nodeType&&(this.hasText=
!1);this.text=this.hasText?a.childNodes[0].nodeValue:"";this.getText=function(){return this.text};this.baseRenderChildren=this.renderChildren;this.renderChildren=function(a){if(this.hasText){this.baseRenderChildren(a);var d=new c.Property("fontSize",c.Font.Parse(c.ctx.font).fontSize);c.Mouse.checkBoundingBox(this,new c.BoundingBox(this.x,this.y-d.toPixels("y"),this.x+this.measureText(a),this.y))}else d=new c.Element.g,d.children=this.children,d.parent=this,d.render(a)};this.onclick=function(){window.open(this.getHrefAttribute().value)};
this.onmousemove=function(){c.ctx.canvas.style.cursor="pointer"}};c.Element.a.prototype=new c.Element.TextElementBase;c.Element.image=function(a){this.base=c.Element.RenderedElementBase;this.base(a);var f=this.getHrefAttribute().value,b=f.match(/\.svg$/);c.Images.push(this);this.loaded=!1;if(b)this.img=c.ajax(f),this.loaded=!0;else{this.img=document.createElement("img");!0==c.opts.useCORS&&(this.img.crossOrigin="Anonymous");var d=this;this.img.onload=function(){d.loaded=!0};this.img.onerror=function(){c.log('ERROR: image "'+
f+'" not found');d.loaded=!0};this.img.src=f}this.renderChildren=function(a){var d=this.attribute("x").toPixels("x"),e=this.attribute("y").toPixels("y"),f=this.attribute("width").toPixels("x"),h=this.attribute("height").toPixels("y");0!=f&&0!=h&&(a.save(),b?a.drawSvg(this.img,d,e,f,h):(a.translate(d,e),c.AspectRatio(a,this.attribute("preserveAspectRatio").value,f,this.img.width,h,this.img.height,0,0),a.drawImage(this.img,0,0)),a.restore())};this.getBoundingBox=function(){var a=this.attribute("x").toPixels("x"),
b=this.attribute("y").toPixels("y"),d=this.attribute("width").toPixels("x"),e=this.attribute("height").toPixels("y");return new c.BoundingBox(a,b,a+d,b+e)}};c.Element.image.prototype=new c.Element.RenderedElementBase;c.Element.g=function(a){this.base=c.Element.RenderedElementBase;this.base(a);this.getBoundingBox=function(){for(var a=new c.BoundingBox,b=0;b<this.children.length;b++)a.addBoundingBox(this.children[b].getBoundingBox());return a}};c.Element.g.prototype=new c.Element.RenderedElementBase;
c.Element.symbol=function(a){this.base=c.Element.RenderedElementBase;this.base(a);this.render=function(a){}};c.Element.symbol.prototype=new c.Element.RenderedElementBase;c.Element.style=function(a){this.base=c.Element.ElementBase;this.base(a);for(var f="",b=0;b<a.childNodes.length;b++)f+=a.childNodes[b].nodeValue;f=f.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");f=c.compressSpaces(f);a=f.split("}");for(b=0;b<a.length;b++)if(""!=c.trim(a[b]))for(var d=a[b].split("{"),
f=d[0].split(","),d=d[1].split(";"),g=0;g<f.length;g++){var l=c.trim(f[g]);if(""!=l){for(var k={},v=0;v<d.length;v++){var q=d[v].indexOf(":"),r=d[v].substr(0,q),q=d[v].substr(q+1,d[v].length-q);null!=r&&null!=q&&(k[c.trim(r)]=new c.Property(c.trim(r),c.trim(q)))}c.Styles[l]=k;if("@font-face"==l)for(l=k["font-family"].value.replace(/"/g,""),k=k.src.value.split(","),v=0;v<k.length;v++)if(0<k[v].indexOf('format("svg")'))for(r=k[v].indexOf("url"),q=k[v].indexOf(")",r),r=k[v].substr(r+5,q-r-6),r=c.parseXml(c.ajax(r)).getElementsByTagName("font"),
q=0;q<r.length;q++){var s=c.CreateElement(r[q]);c.Definitions[l]=s}}}};c.Element.style.prototype=new c.Element.ElementBase;c.Element.use=function(a){this.base=c.Element.RenderedElementBase;this.base(a);this.baseSetContext=this.setContext;this.setContext=function(a){this.baseSetContext(a);this.attribute("x").hasValue()&&a.translate(this.attribute("x").toPixels("x"),0);this.attribute("y").hasValue()&&a.translate(0,this.attribute("y").toPixels("y"))};var f=this.getHrefAttribute().getDefinition();this.path=
function(a){null!=f&&f.path(a)};this.getBoundingBox=function(){if(null!=f)return f.getBoundingBox()};this.renderChildren=function(a){if(null!=f){var d=f;"symbol"==f.type&&(d=new c.Element.svg,d.type="svg",d.attributes.viewBox=new c.Property("viewBox",f.attribute("viewBox").value),d.attributes.preserveAspectRatio=new c.Property("preserveAspectRatio",f.attribute("preserveAspectRatio").value),d.attributes.overflow=new c.Property("overflow",f.attribute("overflow").value),d.children=f.children);"svg"==
d.type&&(this.attribute("width").hasValue()&&(d.attributes.width=new c.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(d.attributes.height=new c.Property("height",this.attribute("height").value)));var g=d.parent;d.parent=null;d.render(a);d.parent=g}}};c.Element.use.prototype=new c.Element.RenderedElementBase;c.Element.mask=function(a){this.base=c.Element.ElementBase;this.base(a);this.apply=function(a,b){var d=this.attribute("x").toPixels("x"),g=this.attribute("y").toPixels("y"),
e=this.attribute("width").toPixels("x"),f=this.attribute("height").toPixels("y");if(0==e&&0==f){f=new c.BoundingBox;for(d=0;d<this.children.length;d++)f.addBoundingBox(this.children[d].getBoundingBox());d=Math.floor(f.x1);g=Math.floor(f.y1);e=Math.floor(f.width());f=Math.floor(f.height())}var k=b.attribute("mask").value;b.attribute("mask").value="";var q=document.createElement("canvas");q.width=d+e;q.height=g+f;var r=q.getContext("2d");this.renderChildren(r);var s=document.createElement("canvas");
s.width=d+e;s.height=g+f;var u=s.getContext("2d");b.render(u);u.globalCompositeOperation="destination-in";u.fillStyle=r.createPattern(q,"no-repeat");u.fillRect(0,0,d+e,g+f);a.fillStyle=u.createPattern(s,"no-repeat");a.fillRect(0,0,d+e,g+f);b.attribute("mask").value=k};this.render=function(a){}};c.Element.mask.prototype=new c.Element.ElementBase;c.Element.clipPath=function(a){this.base=c.Element.ElementBase;this.base(a);this.apply=function(a){for(var b=0;b<this.children.length;b++){var d=this.children[b];
if("undefined"!=typeof d.path){var g=null;d.attribute("transform").hasValue()&&(g=new c.Transform(d.attribute("transform").value),g.apply(a));d.path(a);a.clip();g&&g.unapply(a)}}};this.render=function(a){}};c.Element.clipPath.prototype=new c.Element.ElementBase;c.Element.filter=function(a){this.base=c.Element.ElementBase;this.base(a);this.apply=function(a,b){var d=b.getBoundingBox(),g=Math.floor(d.x1),c=Math.floor(d.y1),e=Math.floor(d.width()),d=Math.floor(d.height()),f=b.style("filter").value;b.style("filter").value=
"";for(var k=0,r=0,s=0;s<this.children.length;s++)var u=this.children[s].extraFilterDistance||0,k=Math.max(k,u),r=Math.max(r,u);u=document.createElement("canvas");u.width=e+2*k;u.height=d+2*r;var w=u.getContext("2d");w.translate(-g+k,-c+r);b.render(w);for(s=0;s<this.children.length;s++)this.children[s].apply(w,0,0,e+2*k,d+2*r);a.drawImage(u,0,0,e+2*k,d+2*r,g-k,c-r,e+2*k,d+2*r);b.style("filter",!0).value=f};this.render=function(a){}};c.Element.filter.prototype=new c.Element.ElementBase;c.Element.feMorphology=
function(a){this.base=c.Element.ElementBase;this.base(a);this.apply=function(a,b,d,g,c){}};c.Element.feMorphology.prototype=new c.Element.ElementBase;c.Element.feComposite=function(a){this.base=c.Element.ElementBase;this.base(a);this.apply=function(a,b,d,g,c){}};c.Element.feComposite.prototype=new c.Element.ElementBase;c.Element.feColorMatrix=function(a){function f(a,d){var c=b[a];return c*(0>c?d-255:d)}this.base=c.Element.ElementBase;this.base(a);var b=c.ToNumberArray(this.attribute("values").value);
switch(this.attribute("type").valueOrDefault("matrix")){case "saturate":a=b[0];b=[.213+.787*a,.715-.715*a,.072-.072*a,0,0,.213-.213*a,.715+.285*a,.072-.072*a,0,0,.213-.213*a,.715-.715*a,.072+.928*a,0,0,0,0,0,1,0,0,0,0,0,1];break;case "hueRotate":var d=b[0]*Math.PI/180;a=function(a,b,c){return a+Math.cos(d)*b+Math.sin(d)*c};b=[a(.213,.787,-.213),a(.715,-.715,-.715),a(.072,-.072,.928),0,0,a(.213,-.213,.143),a(.715,.285,.14),a(.072,-.072,-.283),0,0,a(.213,-.213,-.787),a(.715,-.715,.715),a(.072,.928,
.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case "luminanceToAlpha":b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}this.apply=function(a,b,d,c,e){var k=a.getImageData(0,0,c,e);for(d=0;d<e;d++)for(b=0;b<c;b++){var s=k.data[d*c*4+4*b+0],u=k.data[d*c*4+4*b+1],w=k.data[d*c*4+4*b+2],x=k.data[d*c*4+4*b+3],y=f(0,s)+f(1,u)+f(2,w)+f(3,x)+f(4,1);k.data[d*c*4+4*b+0]=y;y=f(5,s)+f(6,u)+f(7,w)+f(8,x)+f(9,1);k.data[d*c*4+4*b+1]=y;y=f(10,s)+f(11,u)+f(12,w)+f(13,x)+f(14,1);k.data[d*c*4+4*b+2]=y;s=f(15,
s)+f(16,u)+f(17,w)+f(18,x)+f(19,1);k.data[d*c*4+4*b+3]=s}a.clearRect(0,0,c,e);a.putImageData(k,0,0)}};c.Element.feColorMatrix.prototype=new c.Element.ElementBase;c.Element.feGaussianBlur=function(a){this.base=c.Element.ElementBase;this.base(a);this.extraFilterDistance=this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue());this.apply=function(a,b,d,g,e){"undefined"==typeof stackBlurCanvasRGBA?c.log("ERROR: StackBlur.js must be included for blur to work"):(a.canvas.id=c.UniqueId(),a.canvas.style.display=
"none",document.body.appendChild(a.canvas),stackBlurCanvasRGBA(a.canvas.id,b,d,g,e,this.blurRadius),document.body.removeChild(a.canvas))}};c.Element.feGaussianBlur.prototype=new c.Element.ElementBase;c.Element.title=function(a){};c.Element.title.prototype=new c.Element.ElementBase;c.Element.desc=function(a){};c.Element.desc.prototype=new c.Element.ElementBase;c.Element.MISSING=function(a){c.log("ERROR: Element '"+a.nodeName+"' not yet implemented.")};c.Element.MISSING.prototype=new c.Element.ElementBase;
c.CreateElement=function(a){var f=a.nodeName.replace(/^[^:]+:/,""),f=f.replace(/\-/g,""),b=null,b="undefined"!=typeof c.Element[f]?new c.Element[f](a):new c.Element.MISSING(a);b.type=a.nodeName;return b};c.load=function(a,f){c.loadXml(a,c.ajax(f))};c.loadXml=function(a,f){c.loadXmlDoc(a,c.parseXml(f))};c.loadXmlDoc=function(a,f){c.init(a);var b=function(b){for(var d=a.canvas;d;)b.x-=d.offsetLeft,b.y-=d.offsetTop,d=d.offsetParent;window.scrollX&&(b.x+=window.scrollX);window.scrollY&&(b.y+=window.scrollY);
return b};!0!=c.opts.ignoreMouse&&(a.canvas.onclick=function(a){a=b(new c.Point(null!=a?a.clientX:event.clientX,null!=a?a.clientY:event.clientY));c.Mouse.onclick(a.x,a.y)},a.canvas.onmousemove=function(a){a=b(new c.Point(null!=a?a.clientX:event.clientX,null!=a?a.clientY:event.clientY));c.Mouse.onmousemove(a.x,a.y)});var d=c.CreateElement(f.documentElement),g=d.root=!0,l=function(){c.ViewPort.Clear();a.canvas.parentNode&&c.ViewPort.SetCurrent(a.canvas.parentNode.clientWidth,a.canvas.parentNode.clientHeight);
!0!=c.opts.ignoreDimensions&&(d.style("width").hasValue()&&(a.canvas.width=d.style("width").toPixels("x"),a.canvas.style.width=a.canvas.width+"px"),d.style("height").hasValue()&&(a.canvas.height=d.style("height").toPixels("y"),a.canvas.style.height=a.canvas.height+"px"));var b=a.canvas.clientWidth||a.canvas.width,l=a.canvas.clientHeight||a.canvas.height;!0==c.opts.ignoreDimensions&&d.style("width").hasValue()&&d.style("height").hasValue()&&(b=d.style("width").toPixels("x"),l=d.style("height").toPixels("y"));
c.ViewPort.SetCurrent(b,l);null!=c.opts.offsetX&&(d.attribute("x",!0).value=c.opts.offsetX);null!=c.opts.offsetY&&(d.attribute("y",!0).value=c.opts.offsetY);if(null!=c.opts.scaleWidth||null!=c.opts.scaleHeight){var k=null,m=null,u=c.ToNumberArray(d.attribute("viewBox").value);null!=c.opts.scaleWidth&&(d.attribute("width").hasValue()?k=d.attribute("width").toPixels("x")/c.opts.scaleWidth:isNaN(u[2])||(k=u[2]/c.opts.scaleWidth));null!=c.opts.scaleHeight&&(d.attribute("height").hasValue()?m=d.attribute("height").toPixels("y")/
c.opts.scaleHeight:isNaN(u[3])||(m=u[3]/c.opts.scaleHeight));null==k&&(k=m);null==m&&(m=k);d.attribute("width",!0).value=c.opts.scaleWidth;d.attribute("height",!0).value=c.opts.scaleHeight;d.attribute("viewBox",!0).value="0 0 "+b*k+" "+l*m;d.attribute("preserveAspectRatio",!0).value="none"}!0!=c.opts.ignoreClear&&a.clearRect(0,0,b,l);d.render(a);g&&(g=!1,"function"==typeof c.opts.renderCallback&&c.opts.renderCallback(f))},k=!0;c.ImagesLoaded()&&(k=!1,l());c.intervalID=setInterval(function(){var a=
!1;k&&c.ImagesLoaded()&&(k=!1,a=!0);!0!=c.opts.ignoreMouse&&(a|=c.Mouse.hasEvents());if(!0!=c.opts.ignoreAnimation)for(var b=0;b<c.Animations.length;b++)a|=c.Animations[b].update(1E3/c.FRAMERATE);"function"==typeof c.opts.forceRedraw&&!0==c.opts.forceRedraw()&&(a=!0);a&&(l(),c.Mouse.runEvents())},1E3/c.FRAMERATE)};c.stop=function(){c.intervalID&&clearInterval(c.intervalID)};c.Mouse=new function(){this.events=[];this.hasEvents=function(){return 0!=this.events.length};this.onclick=function(a,c){this.events.push({type:"onclick",
x:a,y:c,run:function(a){if(a.onclick)a.onclick()}})};this.onmousemove=function(a,c){this.events.push({type:"onmousemove",x:a,y:c,run:function(a){if(a.onmousemove)a.onmousemove()}})};this.eventElements=[];this.checkPath=function(a,c){for(var b=0;b<this.events.length;b++){var d=this.events[b];c.isPointInPath&&c.isPointInPath(d.x,d.y)&&(this.eventElements[b]=a)}};this.checkBoundingBox=function(a,c){for(var b=0;b<this.events.length;b++){var d=this.events[b];c.isPointInBox(d.x,d.y)&&(this.eventElements[b]=
a)}};this.runEvents=function(){c.ctx.canvas.style.cursor="";for(var a=0;a<this.events.length;a++)for(var f=this.events[a],b=this.eventElements[a];b;)f.run(b),b=b.parent;this.events=[];this.eventElements=[]}};return c}this.canvg=function(k,c,f){if(null==k&&null==c&&null==f)for(c=document.querySelectorAll("svg"),k=0;k<c.length;k++){f=c[k];var e=document.createElement("canvas");e.width=f.clientWidth;e.height=f.clientHeight;f.parentNode.insertBefore(e,f);f.parentNode.removeChild(f);var h=document.createElement("div");
h.appendChild(f);canvg(e,h.innerHTML)}else{"string"==typeof k&&(k=document.getElementById(k));null!=k.svg&&k.svg.stop();f=a(f||{});if(1!=k.childNodes.length||"OBJECT"!=k.childNodes[0].nodeName)k.svg=f;k=k.getContext("2d");"undefined"!=typeof c.documentElement?f.loadXmlDoc(k,c):"<"==c.substr(0,1)?f.loadXml(k,c):f.load(k,c)}}})();
"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(a,k,c,f,e){canvg(this.canvas,a,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:k,offsetY:c,scaleWidth:f,scaleHeight:e})});
function RGBColor(a){this.ok=!1;"#"==a.charAt(0)&&(a=a.substr(1,6));a=a.replace(/ /g,"");a=a.toLowerCase();var k={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",
darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",
gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",
lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",
oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",
slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},c;for(c in k)a==c&&(a=k[c]);var f=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,
example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}];for(c=0;c<f.length;c++){var e=f[c].process,h=f[c].re.exec(a);h&&(channels=e(h),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=0>this.r||isNaN(this.r)?0:255<this.r?255:this.r;this.g=0>this.g||isNaN(this.g)?0:
255<this.g?255:this.g;this.b=0>this.b||isNaN(this.b)?0:255<this.b?255:this.b;this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"};this.toHex=function(){var a=this.r.toString(16),d=this.g.toString(16),g=this.b.toString(16);1==a.length&&(a="0"+a);1==d.length&&(d="0"+d);1==g.length&&(g="0"+g);return"#"+a+d+g};this.getHelpXML=function(){for(var a=[],d=0;d<f.length;d++)for(var g=f[d].example,c=0;c<g.length;c++)a[a.length]=g[c];for(var e in k)a[a.length]=e;g=document.createElement("ul");
g.setAttribute("id","rgbcolor-examples");for(d=0;d<a.length;d++)try{var h=document.createElement("li"),q=new RGBColor(a[d]),r=document.createElement("div");r.style.cssText="margin: 3px; border: 1px solid black; background:"+q.toHex()+"; color:"+q.toHex();r.appendChild(document.createTextNode("test"));var s=document.createTextNode(" "+a[d]+" -> "+q.toRGB()+" -> "+q.toHex());h.appendChild(r);h.appendChild(s);g.appendChild(h)}catch(u){}return g}}___JmolDate="$Date: 2014-05-07 15:54:44 -0500 (Wed, 07 May 2014) $";
___fullJmolProperties="src/org/jmol/viewer/Jmol.properties";___JmolVersion="14.1.15";
(function(a){function k(a){try{return a?new window.ActiveXObject("Microsoft.XMLHTTP"):new window.XMLHttpRequest}catch(f){}}a.ajaxSettings.xhr=void 0===window.ActiveXObject?k:function(){return(this.url==document.location||0==this.url.indexOf("http")||!this.isLocal)&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&k()||k(1)};a.extend(a.support,{iecors:!!window.XDomainRequest});a.support.iecors?a.ajaxTransport(function(a){return{send:function(f,e){var h=new window.XDomainRequest;h.onload=function(){e(200,
"OK",{text:h.responseText},{"Content-Type":h.contentType})};a.xhrFields&&(h.onerror=a.xhrFields.error,h.ontimeout=a.xhrFields.timeout);h.open(a.type,a.url);h.send(a.hasContent&&a.data||null)},abort:function(){xdr.abort()}}}):(a.ajaxSetup({accepts:{binary:"text/plain; charset=x-user-defined"},responseFields:{binary:"response"}}),a.ajaxTransport("binary",function(a){var f;return{send:function(e,h){var b=a.xhr();b.open(a.type,a.url,a.async);var d=!1;try{b.hasOwnProperty("responseType")&&(b.responseType=
"arraybuffer",d=!0)}catch(g){}try{!d&&b.overrideMimeType&&b.overrideMimeType("text/plain; charset=x-user-defined")}catch(l){}a.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(var k in e)b.setRequestHeader(k,e[k])}catch(v){}b.send(a.hasContent&&a.data||null);f=function(){var d=b.status,g="",e=b.getAllResponseHeaders(),l={};try{if(f&&4===b.readyState){f=void 0;try{l.text="string"===typeof b.responseText?b.responseText:null}catch(k){}try{l.binary=b.response}catch(m){}try{g=
b.statusText}catch(v){g=""}d||!a.isLocal||a.crossDomain?1223===d&&(d=204):d=l.text?200:404;h(d,g,l,e)}}catch(B){alert(B),h(-1,B)}};a.async?4===b.readyState?setTimeout(f):b.onreadystatechange=f:f()},abort:function(){}}}))})(jQuery);
(function(a,k,c,f){function e(c,b){function d(d){a(g).each(function(){self.Jmol&&(0<=b.indexOf("mouseup")||0<=b.indexOf("touchend"))&&Jmol._setMouseOwner(null);var g=a(this);this!==d.target&&!g.has(d.target).length&&g.triggerHandler(b,[d.target,d])})}b=b||c+f;var g=a(),e=c+"."+b+"-special-event";a.event.special[b]={setup:function(){g=g.add(this);1===g.length&&a(k).bind(e,d)},teardown:function(){self.Jmol&&Jmol._setMouseOwner(null);g=g.not(this);0===g.length&&a(k).unbind(e)},add:function(a){var b=
a.handler;a.handler=function(a,d){a.target=d;b.apply(this,arguments)}}}}a.map(c.split(" "),function(a){e(a)});e("focusin","focus"+f);e("focusout","blur"+f)})(jQuery,document,"click mousemove mouseup touchmove touchend","outjsmol");"undefined"==typeof jQuery&&alert("Note -- JSmoljQuery is required for JSmol, but it's not defined.");self.Jmol||(Jmol={});
Jmol._version||(Jmol=function(a){var k=function(a){return{header:a++,rear:a++,main:a++,image:a++,front:a++,fileOpener:a++,coverImage:a++,dialog:a++,menu:a+9E4,monitorZIndex:a+99999}},k={_version:"JSmol 14.1.14 Apr 27, 2014",_alertNoBinary:!0,_allowedJmolSize:[25,2048,300],_fileCache:null,_jarFile:null,_j2sPath:null,_use:null,_j2sLoadMonitorOpacity:90,_applets:{},_asynchronous:!0,_ajaxQueue:[],_getZOrders:k,_z:k(Jmol.z||9E3),_debugCode:!0,db:{_databasePrefixes:"$=:",_fileLoadScript:";if (_loadScript = '' && defaultLoadScript == '' && _filetype == 'Pdb') { select protein or nucleic;cartoons Only;color structure; select * };",
_nciLoadScript:";n = ({molecule=1}.length < {molecule=2}.length ? 2 : 1); select molecule=n;display selected;center selected;",_pubChemLoadScript:"",_DirectDatabaseCalls:{"cactus.nci.nih.gov":"%URL","www.rcsb.org":"%URL","pubchem.ncbi.nlm.nih.gov":"%URL","http://www.nmrdb.org/tools/jmol/predict.php":"%URL",$:"http://cactus.nci.nih.gov/chemical/structure/%FILENCI/file?format=sdf&get3d=True",$$:"http://cactus.nci.nih.gov/chemical/structure/%FILENCI/file?format=sdf","=":"http://www.rcsb.org/pdb/files/%FILE.pdb",
"==":"http://www.rcsb.org/pdb/files/ligand/%FILE.cif",":":"http://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/%FILE/SDF?record_type=3d"},_restQueryUrl:"http://www.rcsb.org/pdb/rest/search",_restQueryXml:"<orgPdbQuery><queryType>org.pdb.query.simple.AdvancedKeywordQuery</queryType><description>Text Search</description><keywords>QUERY</keywords></orgPdbQuery>",_restReportUrl:"http://www.pdb.org/pdb/rest/customReport?pdbids=IDLIST&customReportColumns=structureId,structureTitle"},_debugAlert:!1,_document:a,
_isXHTML:!1,_lastAppletID:null,_mousePageX:null,_mouseOwner:null,_serverUrl:"http://your.server.here/jsmol.php",_syncId:(""+Math.random()).substring(3),_touching:!1,_XhtmlElement:null,_XhtmlAppendChild:!1};a=a.location.href.toLowerCase();k._httpProto=0==a.indexOf("https")?"https://":"http://";k._isFile=0==a.indexOf("file:");k._ajaxTestSite=k._httpProto+"google.com";a=k._isFile||0==a.indexOf("http://localhost")||0==a.indexOf("http://127.");k._tracker="http://"==k._httpProto&&!a&&"http://chemapps.stolaf.edu/jmol/JmolTracker.htm?id=UA-45940799-1";
k._isChrome=0<=navigator.userAgent.toLowerCase().indexOf("chrome");k._isSafari=!k._isChrome&&0<=navigator.userAgent.toLowerCase().indexOf("safari");k._isMsie=void 0!==window.ActiveXObject;k._useDataURI=!k._isSafari&&!k._isMsie;for(var c in Jmol)k[c]=Jmol[c];return k}(document,Jmol));
(function(a,k){a.$=function(a,b){null==a&&alert(b+arguments.callee.caller.toString());return k(b?"#"+a._id+"_"+b:a)};a._$=function(a){return"string"==typeof a?k("#"+a):a};a.$ajax=function(b){a._ajaxCall=b.url;b.cache="NO"!=b.cache;0==b.url.indexOf("http://pubchem.ncbi.nlm.nih")&&(b.url="https://"+b.url.substring(7));return k.ajax(b)};a._getNCIInfo=function(b,d){"name"==d&&(d="names");url="http://cactus.nci.nih.gov/chemical/structure/"+b+"/"+d;return a._getFileData(url)};a.$appEvent=function(b,d,c,
e){b=a.$(b,d);b.off(c)&&e&&b.on(c,e)};a.$resize=function(a){return k(window).resize(a)};a.$after=function(a,b){return k(a).after(b)};a.$bind=function(a,b,d){return d?k(a).bind(b,d):k(a).unbind(b)};a.$closest=function(a,b){return k(a).closest(b)};a.$get=function(a,b){return k(a).get(b)};a.$documentOff=function(a,b){return k(document).off(a,"#"+b)};a.$documentOn=function(a,b,d){return k(document).on(a,"#"+b,d)};a.$getAncestorDiv=function(a,b){return k("div."+b+":has(#"+a+")")[0]};a.$supportsIECrossDomainScripting=
function(){return k.support.iecors};a.$attr=function(b,d,c){return a._$(b).attr(d,c)};a.$css=function(b,d){return a._$(b).css(d)};a.$find=function(b,d){return a._$(b).find(d)};a.$focus=function(b){return a._$(b).focus()};a.$html=function(b,d){return a._$(b).html(d)};a.$offset=function(b){return a._$(b).offset()};a.$windowOn=function(a,b){return k(window).on(a,b)};a.$prop=function(b,d,c){var e=a._$(b);return 3==arguments.length?e.prop(d,c):e.prop(d)};a.$remove=function(b){return a._$(b).remove()};
a.$scrollTo=function(b,d){var c=a._$(b);return c.scrollTop(0>d?c[0].scrollHeight:d)};a.$setEnabled=function(b,d){return a._$(b).attr("disabled",d?null:"disabled")};a.$setSize=function(b,d,c){return a._$(b).width(d).height(c)};a.$setVisible=function(b,d){var c=a._$(b);return d?c.show():c.hide()};a.$submit=function(b){return a._$(b).submit()};a.$val=function(b,d){var c=a._$(b);return 1==arguments.length?c.val():c.val(d)};a._clearVars=function(){delete jQuery;delete k;delete a;delete SwingController;
delete J;delete JM;delete JS;delete JSV;delete JU;delete JV;delete java;delete javajs;delete Clazz;delete c$};var c=document,f=window,e={};e.ua=navigator.userAgent.toLowerCase();var h;a:{h=["linux","unix","mac","win"];for(var b=h.length;b--;)if(-1!=e.ua.indexOf(h[b])){h=h[b];break a}h="unknown"}e.os=h;e.browser=function(){for(var a=e.ua,b="konqueror webkit omniweb opera webtv icab msie mozilla".split(" "),d=0;d<b.length;d++)if(0<=a.indexOf(b[d]))return b[d];return"unknown"};e.browserName=e.browser();
e.browserVersion=parseFloat(e.ua.substring(e.ua.indexOf(e.browserName)+e.browserName.length+1));e.supportsXhr2=function(){return k.support.cors||k.support.iecors};e.allowDestroy="msie"!=e.browserName;e.allowHTML5="msie"!=e.browserName||0>navigator.appVersion.indexOf("MSIE 8");e.getDefaultLanguage=function(){return navigator.language||navigator.userLanguage||"en-US"};e._webGLtest=0;e.supportsWebGL=function(){if(!a.featureDetection._webGLtest){var b;a.featureDetection._webGLtest=f.WebGLRenderingContext&&
((b=c.createElement("canvas")).getContext("webgl")||b.getContext("experimental-webgl"))?1:-1}return 0<a.featureDetection._webGLtest};e.supportsLocalization=function(){for(var a=c.getElementsByTagName("meta"),b=a.length;0<=--b;)if(0<=a[b].outerHTML.toLowerCase().indexOf("utf-8"))return!0;return!1};e.supportsJava=function(){a.featureDetection._javaEnabled||(a.featureDetection._javaEnabled=a._isMsie?navigator.javaEnabled()?1:-1:!navigator.javaEnabled()||navigator.mimeTypes&&!navigator.mimeTypes["application/x-java-applet"]?
-1:1);return 0<a.featureDetection._javaEnabled};e.compliantBrowser=function(){var a=!!c.getElementById,b=e.os;if("opera"==e.browserName&&7.54>=e.browserVersion&&"mac"==b||"webkit"==e.browserName&&125.12>e.browserVersion||"msie"==e.browserName&&"mac"==b||"konqueror"==e.browserName&&3.3>=e.browserVersion)a=!1;return a};e.isFullyCompliant=function(){return e.compliantBrowser()&&e.supportsJava()};e.useIEObject="win"==e.os&&"msie"==e.browserName&&5.5<=e.browserVersion;e.useHtml4Object="mozilla"==e.browserName&&
5<=e.browserVersion||"opera"==e.browserName&&8<=e.browserVersion||"webkit"==e.browserName;e.hasFileReader=f.File&&f.FileReader;a.featureDetection=e;a._ajax=function(b){if(!b.async)return a.$ajax(b).responseText;a._ajaxQueue.push(b);1==a._ajaxQueue.length&&a._ajaxDone()};a._ajaxDone=function(){var b=a._ajaxQueue.shift();b&&a.$ajax(b)};a._grabberOptions=[["$","NCI(small molecules)"],[":","PubChem(small molecules)"],["=","RCSB(macromolecules)"]];a._getGrabberOptions=function(b){if(0==a._grabberOptions.length)return"";
var d='<input type="text" id="ID_query" onfocus="jQuery(this).select()" onkeypress="if(13==event.which){Jmol._applets[\'ID\']._search();return false}" size="32" value="" />',c='<button id="ID_submit" onclick="Jmol._applets[\'ID\']._search()">Search</button></nobr>';1==a._grabberOptions.length?(d="<nobr>"+d+'<span style="display:none">',c="</span>"+c):d+="<br /><nobr>";for(var d=d+'<select id="ID_select">',e=0;e<a._grabberOptions.length;e++)var f=a._grabberOptions[e],d=d+('<option value="'+f[0]+'" '+
(0==e?"selected":"")+">"+f[1]+"</option>");d=(d+"</select>"+c).replace(/ID/g,b._id);return"<br />"+d};a._getScriptForDatabase=function(b){return"$"==b?a.db._nciLoadScript:":"==b?a.db._pubChemLoadScript:a.db._fileLoadScript};a._setInfo=function(a,b,d){var c=[],e="";if(0==d.indexOf("ERROR"))e=d;else switch(b){case "=":b=d.split("<dimStructure.structureId>");c=["<table>"];for(d=1;d<b.length;d++)c.push('<tr><td valign=top><a href="javascript:Jmol.search('+a._id+",'="+b[d].substring(0,4)+"')\">"+b[d].substring(0,
4)+"</a></td>"),c.push("<td>"+b[d].split("Title>")[1].split("</")[0]+"</td></tr>");c.push("</table>");e=b.length-1+" matches";break;case "$":case ":":break;default:return}a._infoHeader=e;a._info=c.join("");a._showInfo(!0)};a._loadSuccess=function(b,d){d&&(a._ajaxDone(),d(b))};a._loadError=function(b){a._ajaxDone();a.say("Error connecting to server: "+a._ajaxCall);null!=b&&b()};a._isDatabaseCall=function(b){return 0<=a.db._databasePrefixes.indexOf(b.substring(0,1))};a._getDirectDatabaseCall=function(b,
d){if(d&&!a.featureDetection.supportsXhr2())return b;var c=2,e,f=a.db._DirectDatabaseCalls[b.substring(0,c)];f||(f=a.db._DirectDatabaseCalls[e=b.substring(0,--c)]);f&&(":"==e?(e=b.toLowerCase(),isNaN(parseInt(b.substring(1)))?0==e.indexOf(":smiles:")?(f+="?POST?smiles="+b.substring(8),b="smiles"):0==e.indexOf(":cid:")?b="cid/"+b.substring(5):(0==e.indexOf(":name:")?b=b.substring(5):0==e.indexOf(":cas:")&&(b=b.substring(4)),b="name/"+encodeURIComponent(b.substring(c))):b="cid/"+b.substring(1)):b=encodeURIComponent(b.substring(c)),
0<=f.indexOf("FILENCI")?(b=b.replace(/\%2F/g,"/"),b=f.replace(/\%FILENCI/,b)):b=f.replace(/\%FILE/,b));return b};a._getRawDataFromServer=function(b,d,c,e,f,h){b="?call=getRawDataFromDatabase&database="+b+(0<=d.indexOf("?POST?")?"?POST?":"")+"&query="+encodeURIComponent(d)+(f?"&encoding=base64":"")+(h?"":"&script="+encodeURIComponent(a._getScriptForDatabase(b)));return a._contactServer(b,c,e)};a._checkFileName=function(b,d,c){a._isDatabaseCall(d)&&(c&&a._setQueryTerm(b,d),d=a._getDirectDatabaseCall(d,
!0),a._isDatabaseCall(d)&&(d=a._getDirectDatabaseCall(d,!1),c&&(c[0]=!0)));return d};a._checkCache=function(b,d,c){if(b._cacheFiles&&a._fileCache&&!d.endsWith(".js")){if(b=a._fileCache[d])return System.out.println("using "+b.length+" bytes of cached data for "+d),c(b),null;c=function(b,d){c(a._fileCache[b]=d)}}return c};a._loadFileData=function(b,d,c,e){var f=[];d=a._checkFileName(b,d,f);c=a._checkCache(b,d,c);f[0]?a._getRawDataFromServer("_",d,c,e):(b={type:"GET",dataType:"text",url:d,async:a._asynchronous,
success:function(b){a._loadSuccess(b,c)},error:function(){a._loadError(e)}},a._checkAjaxPost(b),a._ajax(b))};a._getInfoFromDatabase=function(b,d,c){if("===="==d){var e=a.db._restQueryXml.replace(/QUERY/,c),e={dataType:"text",type:"POST",contentType:"application/x-www-form-urlencoded",url:a.db._restQueryUrl,data:encodeURIComponent(e)+"&req=browser",success:function(e){a._ajaxDone();a._extractInfoFromRCSB(b,d,c,e)},error:function(){a._loadError(null)},async:a._asynchronous};return a._ajax(e)}c="?call=getInfoFromDatabase&database="+
d+"&query="+encodeURIComponent(c);return a._contactServer(c,function(c){a._setInfo(b,d,c)})};a._extractInfoFromRCSB=function(b,d,c,e){var f=e.length/5;if(0!=f&&4==c.length&&1!=f){c=c.toUpperCase();var h=e.indexOf(c);0<h&&0<="123456789".indexOf(c.substring(0,1))&&(e=c+","+e.substring(0,h)+e.substring(h+5));50<f&&(e=e.substring(0,250));e=e.replace(/\n/g,",");e=a._restReportUrl.replace(/IDLIST/,e);a._loadFileData(b,e,function(c){a._setInfo(b,d,c)})}};a._checkAjaxPost=function(a){var b=a.url.indexOf("?POST?");
0<b&&(a.data=a.url.substring(b+6),a.url=a.url.substring(0,b),a.type="POST",a.contentType="application/x-www-form-urlencoded")};a._contactServer=function(b,d,c){b={dataType:"text",type:"GET",url:a._serverUrl+b,success:function(b){a._loadSuccess(b,d)},error:function(){a._loadError(c)},async:d?a._asynchronous:!1};a._checkAjaxPost(b);return a._ajax(b)};a._setQueryTerm=function(b,d){if(d&&b._hasOptions&&"http://"!=d.substring(0,7)){if(a._isDatabaseCall(d)){var c=d.substring(0,1);d=d.substring(1);d.substring(0,
1)==c&&0<="=$".indexOf(c)&&(d=d.substring(1));var e=a._getElement(b,"select");if(e&&e.options)for(var f=0;f<e.options.length;f++)e[f].value==c&&(e[f].selected=!0)}a.$val(a.$(b,"query"),d)}};a._search=function(b,d,c){1<arguments.length||(d=null);a._setQueryTerm(b,d);d||(d=a.$val(a.$(b,"query")));0==d.indexOf("!")?b._script(d.substring(1)):(d&&(d=d.replace(/\"/g,"")),b._showInfo(!1),a._searchMol(b,d,c,!0))};a._searchMol=function(b,d,c,e){var f;a._isDatabaseCall(d)?(f=d.substring(0,1),d=d.substring(1)):
f=b._hasOptions?a.$val(a.$(b,"select")):"$";"="==f&&3==d.length&&(d="="+d);var h=f+d;if(d&&!(0>h.indexOf("?")&&h==b._thisJmolModel)){b._thisJmolModel=h;var k;e&&null!=b._viewSet&&null!=(k=a.View.__findView(b._viewSet,{chemID:h}))?a.View.__setView(k,b,!1):("$"==f||":"==f?b._jmolFileType="MOL":"="==f&&(b._jmolFileType="PDB"),b._searchDatabase(d,f,c))}};a._searchDatabase=function(b,d,c,e){b._showInfo(!1);return 0<=d.indexOf("?")?(a._getInfoFromDatabase(b,c,d.split("?")[0]),!0):a.db._DirectDatabaseCalls[c]?
(b._loadFile(c+d,e),!0):!1};a._syncBinaryOK="?";a._canSyncBinary=function(b){if(self.VBArray)return a._syncBinaryOK=!1;if("?"!=a._syncBinaryOK)return a._syncBinaryOK;a._syncBinaryOK=!0;try{var d=new window.XMLHttpRequest;d.open("text",a._ajaxTestSite,!1);d.hasOwnProperty("responseType")?d.responseType="arraybuffer":d.overrideMimeType&&d.overrideMimeType("text/plain; charset=x-user-defined")}catch(c){return System.out.println("JSmolCore.js: synchronous binary file transfer is requested but not available"),
a._alertNoBinary&&!b&&alert("JSmolCore.js: synchronous binary file transfer is requested but not available"),a._syncBinaryOK=!1}return!0};a._binaryTypes=".gz .jpg .png .zip .jmol .bin .smol .spartan .mrc .pse .map .omap".split(" ");a._isBinaryUrl=function(b){for(var d=a._binaryTypes.length;0<=--d;)if(0<=b.indexOf(a._binaryTypes[d]))return!0;return!1};a._getFileData=function(b,d){var c=a._isBinaryUrl(b)?"binary":"text",e=0<=b.indexOf("pdb.gz")&&0==b.indexOf("http://www.rcsb.org/pdb/files/"),f="binary"==
c&&!a._canSyncBinary(e);f&&e&&(b=b.replace(/pdb\.gz/,"pdb"),f=!1,c="text");e=0<=b.indexOf("?POST?");0==b.indexOf("file:/")&&0!=b.indexOf("file:///")&&(b="file://"+b.substring(5));var h=0>b.indexOf("://")||0==b.indexOf(document.location.protocol)&&0<=b.indexOf(document.location.host),k=a._isDirectCall(b),u=!h&&a.$supportsIECrossDomainScripting();if(!d||f)if(u||f||!h&&!k)return a._getRawDataFromServer("_",b,d,d,f,!0);b=b.replace(/file:\/\/\/\//,"file://");var w={dataType:c,async:!!d};e?(w.type="POST",
w.url=b.split("?POST?")[0],w.data=b.split("?POST?")[1]):(w.type="GET",w.url=b);d&&(w.success=function(){d(a._xhrReturn(w.xhr))},w.error=function(){d(xhr.statusText)});w.xhr=a.$ajax(w);if(!d)return a._xhrReturn(w.xhr)};a._xhrReturn=function(a){return!a.responseText||self.Clazz&&Clazz.instanceOf(a.response,self.ArrayBuffer)?a.response||a.statusText:a.responseText};a._isDirectCall=function(b){for(var d in a.db._DirectDatabaseCalls)if(0<=d.indexOf(".")&&0<=b.indexOf(d))return!0;return!1};a._cleanFileData=
function(a){return 0<=a.indexOf("\r")&&0<=a.indexOf("\n")?a.replace(/\r\n/g,"\n"):0<=a.indexOf("\r")?a.replace(/\r/g,"\n"):a};a._getFileType=function(a){var b=a.substring(0,1);if("$"==b||":"==b)return"MOL";if("="==b)return"="==a.substring(1,2)?"LCIF":"PDB";a=a.split(".").pop().toUpperCase();return a.substring(0,Math.min(a.length,3))};a._getZ=function(b,d){return b&&b._z&&b._z[d]||a._z[d]};a._incrZ=function(b,d){return b&&b._z&&++b._z[d]||++a._z[d]};a._loadFileAsynchronously=function(b,d,c,e){if(0!=
c.indexOf("?")){c=a._checkFileName(d,c);var f=function(d){a._setData(b,c,d,e)},f=a._checkCache(d,c,f);return null==f?null:a._getFileData(c,f)}if(!a.featureDetection.hasFileReader)return b.setData("Local file reading is not enabled in your browser",null,e);d._localReader||(f='<div id="ID" style="z-index:'+a._getZ(d,"fileOpener")+';position:absolute;background:#E0E0E0;left:10px;top:10px"><div style="margin:5px 5px 5px 5px;"><input type="file" id="ID_files" /><button id="ID_loadfile">load</button><button id="ID_cancel">cancel</button></div><div>',
a.$after("#"+d._id+"_appletdiv",f.replace(/ID/g,d._id+"_localReader")),d._localReader=a.$(d,"localReader"));a.$appEvent(d,"localReader_loadfile","click");a.$appEvent(d,"localReader_loadfile","click",function(){var c=a.$(d,"localReader_files")[0].files[0],f=new FileReader;f.onloadend=function(f){f.target.readyState==FileReader.DONE&&(a.$css(a.$(d,"localReader"),{display:"none"}),a._setData(b,c.name,f.target.result,e))};f.readAsArrayBuffer(c)});a.$appEvent(d,"localReader_cancel","click");a.$appEvent(d,
"localReader_cancel","click",function(){a.$css(a.$(d,"localReader"),{display:"none"});b.setData(null,e)});a.$css(a.$(d,"localReader"),{display:"block"})};a._setData=function(b,d,c,e){c=a._strToBytes(c);0<=d.indexOf(".jdx")&&a.Cache.put("cache://"+d,c);b.setData(d,c,e)};a._toBytes=function(a){if("string"==typeof a)return a.getBytes();a=new Uint8Array(a);for(var b=Clazz.newByteArray(a.length,0),d=a.length;0<=--d;)b[d]=a[d];return b};a._doAjax=function(b,d,c){b=b.toString();if(null!=c)return a._saveFile(b,
c);d&&(b+="?POST?"+d);d=a._getFileData(b);return a._processData(d,a._isBinaryUrl(b))};a._saveFile=function(b,d,c,e){if(a._localFileSaveFunction&&a._localFileSaveFunction(b,d))return"OK";b=b.substring(b.lastIndexOf("/")+1);c||(c=0<=b.indexOf(".pdf")?"application/pdf":0<=b.indexOf(".png")?"image/png":0<=b.indexOf(".jpg")?"image/jpg":"");var f="string"==typeof d;f||(d=(JU?JU:J.util).Base64.getBase64(d).toString());e||(e=f?"":"base64");(f=a._serverUrl)&&0<=f.indexOf("your.server")&&(f="");a._useDataURI||
!f?(e||(d=btoa(d)),e=document.createElement("a"),e.href="data:"+c+";base64,"+d,e.type=c||"text/plain",e.download=b,e.target="_blank",k("body").append(e),e.click(),e.remove()):(a._formdiv||(a.$after("body",'<div id="__jsmolformdiv__" style="display:none">\t\t\t\t\t\t<form id="__jsmolform__" method="post" target="_blank" action="">\t\t\t\t\t\t<input name="call" value="saveFile"/>\t\t\t\t\t\t<input id="__jsmolmimetype__" name="mimetype" value=""/>\t\t\t\t\t\t<input id="__jsmolencoding__" name="encoding" value=""/>\t\t\t\t\t\t<input id="__jsmolfilename__" name="filename" value=""/>\t\t\t\t\t\t<textarea id="__jsmoldata__" name="data"></textarea>\t\t\t\t\t\t</form>\t\t\t\t\t\t</div>'),
a._formdiv="__jsmolform__"),a.$attr(a._formdiv,"action",f+"?"+(new Date).getMilliseconds()),a.$val("__jsmoldata__",d),a.$val("__jsmolfilename__",b),a.$val("__jsmolmimetype__",c),a.$val("__jsmolencoding__",e),a.$submit("__jsmolform__"),a.$val("__jsmoldata__",""),a.$val("__jsmolfilename__",""));return"OK"};a._processData=function(b,d){"undefined"==typeof b&&(b="",d=!1);d&&(d=a._canSyncBinary());return d?a._strToBytes(b):JU.SB.newS(b)};a._strToBytes=function(b){if(Clazz.instanceOf(b,self.ArrayBuffer))return a._toBytes(b);
for(var d=Clazz.newByteArray(b.length,0),c=b.length;0<=--c;)d[c]=b.charCodeAt(c)&255;return d};a._setConsoleDiv=function(a){self.Clazz&&Clazz.setConsoleDiv(a)};a._setJmolParams=function(b,d,c){for(var e in d)0<=";progressbar;progresscolor;boxbgcolor;boxfgcolor;allowjavascript;boxmessage;\t\t\t\t\t\t\t\t\t;messagecallback;pickcallback;animframecallback;appletreadycallback;atommovedcallback;\t\t\t\t\t\t\t\t\t;echocallback;evalcallback;hovercallback;language;loadstructcallback;measurecallback;\t\t\t\t\t\t\t\t\t;minimizationcallback;resizecallback;scriptcallback;statusform;statustext;statustextarea;\t\t\t\t\t\t\t\t\t;synccallback;usecommandthread;syncid;appletid;startupscript;menufile;".indexOf(";"+
e.toLowerCase()+";")&&("language"!=e||a.featureDetection.supportsLocalization())&&(c?b.put(e,!0===d[e]?Boolean.TRUE:!1===d[e]?Boolean.FALSE:d[e]):b[e]=d[e])};a._registerApplet=function(b,d){return window[b]=a._applets[b]=a._applets[d]=a._applets[b+"__"+a._syncId+"__"]=d};a._readyCallback=function(b,d,c,e){b=b.split("_object")[0];c=c.booleanValue?c.booleanValue():c;a._track(a._applets[b])._readyCallback(b,d,c,e)};a._getWrapper=function(b,d){var c;if(d){var e="";b._coverImage&&(c=' onclick="Jmol.coverApplet(ID, false)" title="'+
b._coverTitle+'"',e='<image id="ID_coverclickgo" src="'+b._j2sPath+'/img/play_make_live.jpg" style="width:25px;height:25px;position:absolute;bottom:10px;left:10px;z-index:'+a._getZ(b,"coverImage")+';opacity:0.5;"'+c+" />",e='<div id="ID_coverdiv" style="background-color:red;z-index:'+a._getZ(b,"coverImage")+';width:100%;height:100%;display:inline;position:absolute;top:0px;left:0px"><image id="ID_coverimage" src="'+b._coverImage+'" style="width:100%;height:100%"'+c+"/>"+e+"</div>");c='...<div id="ID_appletinfotablediv" style="width:Wpx;height:Hpx;position:relative;font-size:14px;text-align:left">IMG......<div id="ID_appletdiv" style="z-index:'+
a._getZ(b,"header")+';width:100%;height:100%;position:absolute;top:0px;left:0px;">';var f=b._height,h=b._width;if("string"!==typeof f||0>f.indexOf("%"))f+="px";if("string"!==typeof h||0>h.indexOf("%"))h+="px";c=c.replace(/IMG/,e).replace(/Hpx/g,f).replace(/Wpx/g,h)}else c='......</div>......<div id="ID_2dappletdiv" style="position:absolute;width:100%;height:100%;overflow:hidden;display:none"></div>......<div id="ID_infotablediv" style="width:100%;height:100%;position:absolute;top:0px;left:0px">.........<div id="ID_infoheaderdiv" style="height:20px;width:100%;background:yellow;display:none"><span id="ID_infoheaderspan"></span><span id="ID_infocheckboxspan" style="position:absolute;text-align:right;right:1px;"><a href="javascript:Jmol.showInfo(ID,false)">[x]</a></span></div>.........<div id="ID_infodiv" style="position:absolute;top:20px;bottom:0px;width:100%;height:100%;overflow:auto"></div>......</div>...</div>';
return c.replace(/\.\.\./g,"").replace(/[\n\r]/g,"").replace(/ID/g,b._id)};a._documentWrite=function(b){if(a._document){if(a._isXHTML&&!a._XhtmlElement){var d=document.getElementsByTagName("script");a._XhtmlElement=d.item(d.length-1);a._XhtmlAppendChild=!1}a._XhtmlElement?a._domWrite(b):a._document.write(b)}return b};a._domWrite=function(b){for(var d=[0];d[0]<b.length;){var c=a._getDomElement(b,d);if(!c)break;a._XhtmlAppendChild?a._XhtmlElement.appendChild(c):a._XhtmlElement.parentNode.insertBefore(c,
_jmol.XhtmlElement)}};a._getDomElement=function(a,b){var d=document.createElement("span");d.innerHTML=a;b[0]=a.length;return d};a._setObject=function(b,d,c){b._id=d;b.__Info={};c.z&&c.zIndexBase&&(a._z=a._getZOrders(c.zIndexBase));for(var e in c)b.__Info[e]=c[e];(b._z=c.z)||c.zIndexBase&&(b._z=b.__Info.z=a._getZOrders(c.zIndexBase));b._width=c.width;b._height=c.height;b._noscript=!b._isJava&&c.noscript;b._console=c.console;b._cacheFiles=!!c.cacheFiles;b._viewSet=null==c.viewSet||b._isJava?null:"Set"+
c.viewSet;null!=b._viewSet&&(a.View.__init(b),b._currentView=null);!a._fileCache&&b._cacheFiles&&(a._fileCache={});b._console||(b._console=b._id+"_infodiv");"none"==b._console&&(b._console=null);b._color=c.color?c.color.replace(/0x/,"#"):"#FFFFFF";b._disableInitialConsole=c.disableInitialConsole;b._noMonitor=c.disableJ2SLoadMonitor;a._j2sPath&&(c.j2sPath=a._j2sPath);b._j2sPath=c.j2sPath;b._deferApplet=c.deferApplet;b._deferUncover=c.deferUncover;b._coverImage=!b._isJava&&c.coverImage;b._isCovered=
!!b._coverImage;b._coverScript=c.coverScript;b._coverTitle=c.coverTitle;b._coverTitle||(b._coverTitle=b._deferApplet?"activate 3D model":"3D model is loading...");b._containerWidth=b._width+(b._width==parseFloat(b._width)?"px":"");b._containerHeight=b._height+(b._height==parseFloat(b._height)?"px":"");b._info="";b._infoHeader=b._jmolType+' "'+b._id+'"';b._hasOptions=c.addSelectionOptions;b._defaultModel=c.defaultModel;b._readyScript=c.script?c.script:"";b._readyFunction=c.readyFunction;b._coverImage&&
!b._deferApplet&&(b._readyScript+=";javascript "+d+"._displayCoverImage(false)");b._src=c.src};a._addDefaultInfo=function(b,d){for(var c in d)"undefined"==typeof b[c]&&(b[c]=d[c]);a._use&&(b.use=a._use);0<=b.use.indexOf("SIGNED")&&(0>b.jarFile.indexOf("Signed")&&(b.jarFile=b.jarFile.replace(/Applet/,"AppletSigned")),b.use=b.use.replace(/SIGNED/,"JAVA"),b.isSigned=!0)};a._syncedApplets=[];a._syncedCommands=[];a._syncedReady=[];a._syncReady=!1;a._isJmolJSVSync=!1;a._setReady=function(b){a._syncedReady[b]=
1;for(var d=0,c=0;c<a._syncedApplets.length;c++){if(a._syncedApplets[c]==b._id)a._syncedApplets[c]=b,a._syncedReady[c]=1;else if(!a._syncedReady[c])continue;d++}d==a._syncedApplets.length&&a._setSyncReady()};a._setDestroy=function(b){a.featureDetection.allowDestroy&&a.$windowOn("beforeunload",function(){a._destroy(b)})};a._destroy=function(b){try{b._applet&&b._applet.destroy();b._applet=null;a._unsetMouse(b._canvas);b._canvas=null;for(var d=0,c=0;c<a._syncedApplets.length;c++)a._syncedApplets[c]==
b&&(a._syncedApplets[c]=null),a._syncedApplets[c]&&d++;0<d||a._clearVars()}catch(e){}};a._setSyncReady=function(){a._syncReady=!0;for(var b="",d=0;d<a._syncedApplets.length;d++)a._syncedCommands[d]&&(b+="Jmol.script(Jmol._syncedApplets["+d+"], Jmol._syncedCommands["+d+"]);");setTimeout(b,50)};a._mySyncCallback=function(b,d){app=a._applets[b];if(app._viewSet)a.View.updateFromSync(app,d);else{if(!a._syncReady||!a._isJmolJSVSync)return 1;for(var c=0;c<a._syncedApplets.length;c++)0<=d.indexOf(a._syncedApplets[c]._syncKeyword)&&
a._syncedApplets[c]._syncScript(d);return 0}};a._getElement=function(a,b){return document.getElementById(a._id+"_"+b)||{}};a._evalJSON=function(a,b){a+="";if(!a)return[];if("{"!=a.charAt(0))return 0<=a.indexOf(" | ")&&(a=a.replace(/\ \|\ /g,"\n")),a;var d=(new Function("return "+a))();return d?b&&void 0!=d[b]?d[b]:d:null};a._sortMessages=function(a){function b(a,d){return a[0]<d[0]?1:a[0]>d[0]?-1:0}if(!a||"object"!=typeof a)return[];for(var d=[],c=a.length-1;0<=c;c--)for(var e=0,f=a[c].length;e<f;e++)d[d.length]=
a[c][e];if(0!=d.length)return d=d.sort(b)};a._setMouseOwner=function(b,d){null==b||d?a._mouseOwner=b:a._mouseOwner==b&&(a._mouseOwner=null)};a._jsGetMouseModifiers=function(a){var b=0;switch(a.button){case 0:b=16;break;case 1:b=8;break;case 2:b=4}a.shiftKey&&(b+=1);a.altKey&&(b+=8);a.ctrlKey&&(b+=2);return b};a._jsGetXY=function(b,d){if(!b.applet._ready||a._touching&&0>d.type.indexOf("touch"))return!1;d.preventDefault();var c=a.$offset(b.id),e,f=d.originalEvent;a._mousePageX=d.pageX;a._mousePageY=
d.pageY;f.targetTouches&&f.targetTouches[0]?(e=f.targetTouches[0].pageX-c.left,c=f.targetTouches[0].pageY-c.top):f.changedTouches?(e=f.changedTouches[0].pageX-c.left,c=f.changedTouches[0].pageY-c.top):(e=d.pageX-c.left,c=d.pageY-c.top);return void 0==e?null:[Math.round(e),Math.round(c),a._jsGetMouseModifiers(d)]};a._gestureUpdate=function(b,d){d.stopPropagation();d.preventDefault();var c=d.originalEvent;switch(d.type){case "touchstart":a._touching=!0;break;case "touchend":a._touching=!1}if(!c.touches||
2!=c.touches.length)return!1;switch(d.type){case "touchstart":b._touches=[[],[]];break;case "touchmove":var e=a.$offset(b.id),f=b._touches[0],h=b._touches[1];f.push([c.touches[0].pageX-e.left,c.touches[0].pageY-e.top]);h.push([c.touches[1].pageX-e.left,c.touches[1].pageY-e.top]);c=f.length;3<c&&(f.shift(),h.shift());2<=c&&b.applet._processGesture(b._touches)}return!0};a._jsSetMouse=function(b){a.$bind(b,"mousedown touchstart",function(d){a._setMouseOwner(b,!0);d.stopPropagation();d.preventDefault();
b.isDragging=!0;if("touchstart"==d.type&&a._gestureUpdate(b,d))return!1;a._setConsoleDiv(b.applet._console);var c=a._jsGetXY(b,d);if(!c)return!1;2!=d.button&&a.Swing.hideMenus(b.applet);b.applet._processEvent(501,c);return!1});a.$bind(b,"mouseup touchend",function(d){a._setMouseOwner(null);d.stopPropagation();d.preventDefault();b.isDragging=!1;if("touchend"==d.type&&a._gestureUpdate(b,d))return!1;d=a._jsGetXY(b,d);if(!d)return!1;b.applet._processEvent(502,d);return!1});a.$bind(b,"mousemove touchmove",
function(d){d.stopPropagation();d.preventDefault();if("touchmove"==d.type&&a._gestureUpdate(b,d))return!1;d=a._jsGetXY(b,d);if(!d)return!1;b.isDragging||(d[2]=0);b.applet._processEvent(b.isDragging?506:503,d);return!1});a.$bind(b,"DOMMouseScroll mousewheel",function(d){d.stopPropagation();d.preventDefault();b.isDragging=!1;var c=d.originalEvent,c=c.detail?c.detail:("mac"==a.featureDetection.os?1:-1)*c.wheelDelta;d=a._jsGetMouseModifiers(d);b.applet._processEvent(-1,[0>c?-1:1,0,d]);return!1});a.$bind(b,
"contextmenu",function(){return!1});a.$bind(b,"mouseout",function(d){b.applet._applet&&b.applet._applet.viewer.startHoverWatcher(!1);b.isDragging=!1;d=a._jsGetXY(b,d);if(!d)return!1;b.applet._processEvent(502,d);b.applet._processEvent(505,d);return!1});a.$bind(b,"mouseenter",function(d){b.applet._applet&&b.applet._applet.viewer.startHoverWatcher(!0);if(0===d.buttons||0===d.which){b.isDragging=!1;d=a._jsGetXY(b,d);if(!d)return!1;b.applet._processEvent(504,d);b.applet._processEvent(502,d);return!1}});
b.applet._is2D&&a.$resize(function(){b.applet&&b.applet._resize()});a.$bind("body","mouseup touchend",function(){b.applet&&(b.isDragging=!1);a._setMouseOwner(null)})};a._jsUnsetMouse=function(b){b.applet=null;a.$bind(b,"mousedown touchstart mousemove touchmove mouseup touchend DOMMouseScroll mousewheel contextmenu mouseout mouseenter",null);a._setMouseOwner(null)};a.Swing={count:0,menuInitialized:0,menuCounter:0,htDialogs:{}};var d=a.Swing;SwingController=d;d.setDraggable=function(b){b=b.prototype;
b.setContainer||(b.setContainer=function(b){this.container=b;b.obj=this;this.ignoreMouse=this.isDragging=!1;var d=this;b.bind("mousedown touchstart",function(b){if(d.ignoreMouse)return d.ignoreMouse=!1,!0;a._setMouseOwner(d,!0);d.isDragging=!0;d.pageX=b.pageX;d.pageY=b.pageY;return!1});b.bind("mousemove touchmove",function(b){if(d.isDragging&&a._mouseOwner==d)return d.mouseMove(b),!1});b.bind("mouseup touchend",function(b){d.mouseUp(b);a._setMouseOwner(null)})},b.mouseUp=function(b){if(this.isDragging&&
a._mouseOwner==this)return this.pageX0+=b.pageX-this.pageX,this.pageY0+=b.pageY-this.pageY,this.isDragging=!1;a._setMouseOwner(null)},b.setPosition=function(){if(null===a._mousePageX){var b=a.$offset(this.applet._id+"_"+(this.applet._is2D?"canvas2d":"canvas"));a._mousePageX=b.left;a._mousePageY=b.top}this.pageX0=a._mousePageX;this.pageY0=a._mousePageY;this.container.css({top:a._mousePageY+"px",left:a._mousePageX+"px"})},b.mouseMove=function(b){this.isDragging&&a._mouseOwner==this&&this.container.css({top:this.pageY0+
(b.pageY-this.pageY)+"px",left:this.pageX0+(b.pageX-this.pageX)+"px"})},b.dragBind=function(b){this.container.unbind("mousemoveoutjsmol");this.container.unbind("touchmoveoutjsmol");this.container.unbind("mouseupoutjsmol");this.container.unbind("touchendoutjsmol");a._setMouseOwner(null);if(b){var d=this;this.container.bind("mousemoveoutjsmol touchmoveoutjsmol",function(a,b,c){d.mouseMove(c)});this.container.bind("mouseupoutjsmol touchendoutjsmol",function(a,b,c){d.mouseUp(c)})}})};d.JSDialog=function(){};
d.setDraggable(d.JSDialog);d.getScreenDimensions=function(a){a.width=k(window).width();a.height=k(window).height()};d.dispose=function(b){a.$remove(b.id+"_mover");delete d.htDialogs[b.id];b.container.obj.dragBind(!1)};d.register=function(a,b){a.id=b++ +d.count;d.htDialogs[a.id]=a};d.setDialog=function(b){a._setMouseOwner(null);a.$remove(b.id);var c=b.id+"_mover",e=a._$(c),f;e[0]?(e.html(b.html),f=e[0].jd):(a.$after("body","<div id='"+c+"' style='position:absolute;left:0px;top:0px;'>"+b.html+"</div>"),
f=new d.JSDialog,e=a._$(c),b.container=e,f.applet=b.manager.vwr.applet,f.setContainer(e),f.dialog=b,f.setPosition(),f.dragBind(!0),e[0].jd=f);a.$bind("#"+b.id+" .JButton","mousedown touchstart",function(){f.ignoreMouse=!0});a.$bind("#"+b.id+" .JComboBox","mousedown touchstart",function(){f.ignoreMouse=!0});a.$bind("#"+b.id+" .JCheckBox","mousedown touchstart",function(){f.ignoreMouse=!0});a.$bind("#"+b.id+" .JTextField","mousedown touchstart",function(){f.ignoreMouse=!0});a.$bind("#"+b.id+" .JTable",
"mousedown touchstart",function(){f.ignoreMouse=!0});a.$bind("#"+b.id+" .JScrollPane","mousedown touchstart",function(){f.ignoreMouse=!0});a.$bind("#"+b.id+" .JEditorPane","mousedown touchstart",function(){f.ignoreMouse=!0})};d.setSelected=function(b){a.$prop(b.id,"checked",!!b.selected)};d.setSelectedIndex=function(b){a.$prop(b.id,"selectedIndex",b.selectedIndex)};d.setText=function(b){a.$prop(b.id,"value",b.text)};d.setVisible=function(b){a.$setVisible(b.id,b.visible)};d.setEnabled=function(b){a.$setEnabled(b.id,
b.enabled)};d.click=function(b,c){var e=d.htDialogs[b.id];if(e){var f=e.toString();if(0<=f.indexOf("JCheck"))e.selected=b.checked;else if(0<=f.indexOf("JCombo"))e.selectedIndex=b.selectedIndex;else if(null!=e.text&&(e.text=b.value,c&&13!=(c.charCode||c.keyCode)))return}f=d.htDialogs[a.$getAncestorDiv(b.id,"JDialog").id];f.manager.actionPerformed(e?e.name:f.registryKey+"/"+b.id)};d.setFront=function(b){var d=b.manager.vwr.applet;b.zIndex!=a._getZ(d,"dialog")&&(b.zIndex=a._incrZ(d,"dialog"));b.container&&
((b.container[0]||b.container).style.zIndex=b.zIndex)};d.hideMenus=function(a){if(a=a._menus)for(var b in a)a[b].visible&&d.hideMenu(a[b])};d.windowClosing=function(b){b=d.htDialogs[a.$getAncestorDiv(b.id,"JDialog").id];b.registryKey?b.manager.processWindowClosing(b.registryKey):b.dispose()};a._track=function(b){if(a._tracker){try{var d='<iframe style="display:none" width="0" height="0" frameborder="0" tabindex="-1" src="'+(a._tracker+"&applet="+b._jmolType+"&version="+a._version+"&appver="+self.___JmolVersion+
"&url="+encodeURIComponent(document.location.href))+'"></iframe>';a.$after("body",d)}catch(c){}delete a._tracker}return b};a.getProfile=function(){window["j2s.doProfile"]=!0;if(self.Clazz&&self.JSON)return Clazz._profile||(Clazz._profile={}),Clazz.getProfile()};a._getInChIKey=function(a,b){0<=b.indexOf("MOL=")&&b.split("MOL=")[1].split('"')};a._getAttr=function(a,b){var d=a.indexOf(b+"=");return 0<=d&&0<=(d=a.indexOf('"',d))?a.substring(d+1,a.indexOf('"',d+1)):null};a.User={viewUpdatedCallback:null};
a.View={count:0,applets:{},sets:{}};(function(b){b.updateView=function(d,c){null!=d._viewSet&&(c.chemID||(d._searchQuery=null),c.data||(c.data="N/A"),c.type=d._viewType,null==(d._currentView=b.__findView(d._viewSet,c))&&(d._currentView=b.__createViewSet(d._viewSet,c.chemID,c.viewID||c.chemID)),d._currentView[c.type].data=c.data,d._currentView[c.type].smiles=d._getSmiles(),a.User.viewUpdatedCallback&&a.User.viewUpdatedCallback(d,"updateView"),b.__setView(d._currentView,d,!1))};b.updateFromSync=function(d,
c){d._updateMsg=c;var e=a._getAttr(c,"sourceID")||a._getAttr(c,"file");if(e){var f=b.__findView(d._viewSet,{viewID:e});if(null==f)return a.updateView(d,c);f!=d._currentView&&b.__setView(f,d,!0);var h=(e=a._getAttr(c,"atoms"))&&0<=c.indexOf("selectionhalos ON")?eval("["+e+"]"):[];setTimeout(function(){d._currentView==f&&b.updateAtomPick(d,h)},10);a.User.viewUpdatedCallback&&a.User.viewUpdatedCallback(d,"updateFromSync")}};b.updateAtomPick=function(b,d){var c=b._currentView;if(null!=c){for(var e in c)"info"!=
e&&c[e].applet!=b&&c[e].applet._updateAtomPick(d);a.User.viewUpdatedCallback&&a.User.viewUpdatedCallback(b,"updateAtomPick")}};b.dumpViews=function(a){var d=b.sets[a];if(d){var c="View set "+a+":\n";a=b.applets[a];for(var e in a)c+="\napplet "+a[e]._id+" currentView="+(a[e]._currentView?a[e]._currentView.info.viewID:null);for(e=d.length;0<=--e;){a=d[e];var c=c+("\n\n<b>view="+e+" viewID="+a.info.viewID+" chemID="+a.info.chemID+"</b>\n"),f,h;for(h in a)"info"!=h&&(c+="\nview="+e+" type="+h+" applet="+
((f=a[h]).applet?f.applet._id:null)+" SMILES="+f.smiles+"\n atomMap="+JSON.stringify(f.atomMap)+"\n data=\n"+f.data+"\n")}return c}};b.__init=function(a){var d=a._viewSet,c=b.applets;c[d]||(c[d]={});c[d][a._viewType]=a};b.__findView=function(a,d){var c=b.sets[a];null==c&&(c=b.sets[a]=[]);for(var e=c.length;0<=--e;){var f=c[e];if(d.viewID){if(f.info.viewID==d.viewID)return f}else{if(null!=d.chemID&&d.chemID==f.info.chemID)return f;for(var h in f)if("info"!=h&&(null!=d.data&&null!=f[h].data?d.data==
f[h].data:d.type==h))return f}}return null};b.__createViewSet=function(d,c,e){b.count++;c={info:{chemID:c,viewID:e||"model_"+b.count}};for(var f in a._applets)e=a._applets[f],e._viewSet==d&&(c[e._viewType]={applet:e,data:null});b.sets[d].push(c);return c};b.__setView=function(a,b,d){for(var c in a)if("info"!=c){var e=a[c],g=e.applet,f=d||null!=g&&"<modified>"==g._molData;if(null!=g&&(g!=b||f)){var h=null==e.data,k=null!=g._currentView;g._currentView=a;if(!(k&&a[c].data==e.data&&!h&!f)&&(g._loadModelFromView(a),
h))break}}}})(a.View);a.Cache={fileCache:{}};a.Cache.get=function(b){return a.Cache.fileCache[b]};a.Cache.put=function(b,d){a.Cache.fileCache[b]=d};a.Cache.setDragDrop=function(b){a.$appEvent(b,"appletdiv","dragover",function(a){a=a.originalEvent;a.stopPropagation();a.preventDefault();a.dataTransfer.dropEffect="copy"});a.$appEvent(b,"appletdiv","drop",function(d){d=d.originalEvent;d.stopPropagation();d.preventDefault();var c=d.dataTransfer.files[0];d=new FileReader;d.onloadend=function(d){if(d.target.readyState==
FileReader.DONE){var e="cache://DROP_"+c.name;d=a._toBytes(d.target.result);b._applet.viewer.cacheFileByName("cache://DROP_*",!1);"JSV"==b._viewType||e.endsWith(".jdx")?a.Cache.put(e,d):b._applet.viewer.cachePut(e,d);b._applet.viewer.openFileAsyncSpecial(e,1)}};d.readAsArrayBuffer(c)})}})(Jmol,jQuery);Jmol._debugCode=!1;
(function(a){a._coreFiles=[];a.__execLog=[];a.__execStack=[];a.__execTimer=0;a.__coreSet=[];a.__coreMore=[];a.__execDelayMS=100;a.showExecLog=function(){return a.__execLog.join("\n")};a.__addExec=function(k){var c="JSmol load "+k[0]._id+" "+k[3];self.console&&console.log(c+"...");a.__execLog.push(c);a.__execStack.push(k)};a.__addCoreFile=function(k,c,f){if(!(0<=a.__coreSet.join("").indexOf(k))){a.__coreSet.push(k);a.__coreSet.sort();k=a.__coreSet.join("");a._coreFiles=[c+"/core/core"+("jmol"==k?"":
k)+".z.js"];if(f&&(f=f.split(" ")))for(k=0;k<f.length;k++)0>a.__coreMore.join("").indexOf(f[k])&&a.__coreMore.push(c+"/core/core"+f[k]+".z.js");for(k=0;k<a.__coreMore.length;k++)a._coreFiles.push(a.__coreMore[k])}};a.__nextExecution=function(k){delete a.__execTimer;for(var c=a.__execStack,f;0<c.length&&"done"==(f=c[0])[4];)c.shift();0!=c.length&&(k?(f.push("done"),k="JSmol exec "+f[0]._id+" "+f[3]+" "+f[2],self.console&&console.log(k+" -- OK"),a.__execLog.push(k),f[1](f[0],f[2])):setTimeout("Jmol.__nextExecution(true)",
10))};a.__loadClazz=function(k){a.__clazzLoaded?a.__nextExecution():(a.__clazzLoaded=!0,LoadClazz(),k._noMonitor&&(Clazz._LoaderProgressMonitor.showStatus=function(){}),LoadClazz=null,Clazz._Loader.globalLoaded=function(){Clazz._LoaderProgressMonitor.showStatus("Application loaded.",!0);a._debugCode&&a.haveCore||(a.haveCore=!0,a.__nextExecution())},Clazz._Loader.packageClasspath("java",null,!0))};a.__loadClass=function(k,c){Clazz._Loader.loadClass(c,function(){a.__nextExecution()})};a._Canvas2D=function(k,
c,f,e){this._uniqueId=(""+Math.random()).substring(3);this._id=k;this._is2D=!0;this._isJava=!1;this._jmolType="Jmol._Canvas2D ("+f+")";switch(f){case "Jmol":this._platform="J.awtjs2d.Platform";break;case "JSV":this._isLayered=this._isJSV=!0,this._platform="JSV.awtjs2d.Platform"}if(e)return this;window[k]=this;this._createCanvas(k,c);if(!a._document||this._deferApplet)return this;this._init();return this};a._jsSetPrototype=function(k){k._init=function(){this._setupJS();this._showInfo(!0);this._disableInitialConsole&&
this._showInfo(!1)};k._createCanvas=function(c,f,e){a._setObject(this,c,f);e&&(this._GLmol=e,this._GLmol.applet=this,this._GLmol.id=this._id);e=a._getWrapper(this,!0);this._deferApplet||(a._document?(a._documentWrite(e),this._getCanvas(!1),e=""):(this._deferApplet=!0,e+='<script type="text/javascript">'+c+"._cover(false)\x3c/script>"));e+=a._getWrapper(this,!1);f.addSelectionOptions&&(e+=a._getGrabberOptions(this));a._debugAlert&&!a._document&&alert(e);this._code=a._documentWrite(e)};k._cover=function(c){if(c||
!this._deferApplet)this._displayCoverImage(c);else{var f=this._coverScript?this._coverScript:"";this._coverScript="";this._deferUncover&&(f+=";refresh;javascript "+this._id+"._displayCoverImage(false)");this._script(f,!0);this._deferUncover&&"activate 3D model"==this._coverTitle&&(a._getElement(this,"coverimage").title="3D model is loading...");this._start();this._deferUncover||this._displayCoverImage(c);this._init&&this._init()}};k._displayCoverImage=function(c){this._coverImage&&this._isCovered!=
c&&(this._isCovered=c,a._getElement(this,"coverdiv").style.display=c?"block":"none")};k._start=function(){this._deferApplet&&this._getCanvas(!1);this._defaultModel&&a._search(this,this._defaultModel);this._showInfo(!1)};k._getCanvas=function(a){this._is2D?this._createCanvas2d(a):this._GLmol.create()};k._createCanvas2d=function(c){var f=a.$(this,"appletdiv");if(c)try{f[0].removeChild(this._canvas),this._canvas.frontLayer&&f[0].removeChild(this._canvas.frontLayer),this._canvas.rearLayer&&f[0].removeChild(this._canvas.rearLayer),
this._canvas.imageLayer&&f[0].removeChild(this._canvas.imageLayer),a._jsUnsetMouse(this._mouseInterface)}catch(e){}c=Math.round(f.width());var h=Math.round(f.height()),b=document.createElement("canvas");b.applet=this;this._canvas=b;b.style.width="100%";b.style.height="100%";b.width=c;b.height=h;b.id=this._id+"_canvas2d";f.append(b);a._$(b.id).css({"z-index":a._getZ(this,"main")});if(this._isLayered){var d=document.createElement("div");b.imageLayer=d;d.id=this._id+"_imagelayer";f.append(d);a._$(d.id).css({zIndex:a._getZ(this,
"image"),position:"absolute",left:"0px",top:"0px",width:"0px",height:"0px",overflow:"hidden"});this._mouseInterface=this._getLayer("front",f,c,h,!1)}else this._mouseInterface=b;a._jsSetMouse(this._mouseInterface)};k._getLayer=function(c,f,e,h,b){var d=document.createElement("canvas");this._canvas[c+"Layer"]=d;d.style.width="100%";d.style.height="100%";d.id=this._id+"_"+c+"Layer";d.width=e;d.height=h;f.append(d);d.applet=this;a._$(d.id).css({background:b?"rgb(0,0,0,1)":"rgb(0,0,0,0.001)","z-index":a._getZ(this,
c),position:"absolute",left:"0px",top:"0px",overflow:"hidden"});return d};k._setupJS=function(){window["j2s.lib"]={base:this._j2sPath+"/",alias:".",console:this._console,monitorZIndex:a._getZ(this,"monitorZIndex")};0==a.__execStack.length&&a.__addExec([this,a.__loadClazz,null,"loadClazz"]);this._isJSV?(a.__addCoreFile("jsv",this._j2sPath,this.__Info.preloadCore),a._debugCode&&(a.__addExec([this,a.__loadClass,"JSV.appletjs.JSVApplet","load JSV"]),this._isPro&&a.__addExec([this,a.__loadClass,"JSV.appletjs.JSVAppletPro",
"load JSV(signed)"]))):(a.__addCoreFile("jmol",this._j2sPath,this.__Info.preloadCore),this._is2D||a.__addExec([this,a.__loadClass,"J.export.JSExporter","load JSExporter"]),a._debugCode&&a.__addExec([this,a.__loadClass,"J.appletjs.Jmol","load Jmol"]));a.__addExec([this,this.__startAppletJS,null,"start applet"]);this._isSigned=!0;this._ready=!1;this._applet=null;this._canScript=function(){return!0};this._savedOrientations=[];a.__execTimer&&clearTimeout(a.__execTimer);a.__execTimer=setTimeout(a.__nextExecution,
a.__execDelayMS)};k.__startAppletJS=function(c){var f=new java.util.Hashtable;a._setJmolParams(f,c.__Info,!0);f.put("appletReadyCallback","Jmol._readyCallback");f.put("applet",!0);f.put("name",c._id);f.put("syncId",a._syncId);c._color&&f.put("bgcolor",c._color);c._is2D?c._startupScript&&f.put("script",c._startupScript):f.put("script","set multipleBondSpacing 0.35;");a._syncedApplets.length&&f.put("synccallback","Jmol._mySyncCallback");f.put("signedApplet","true");f.put("platform",c._platform);c._is2D&&
f.put("display",c._id+"_canvas2d");f.put("documentBase",document.location.href);var e=c._j2sPath+"/";if(0>e.indexOf("://")){var h=document.location.href.split("#")[0].split("?")[0].split("/");h[h.length-1]=e;e=h.join("/")}f.put("codePath",e);a._registerApplet(c._id,c);c._applet=c._isJSV?c._isPro?new JSV.appletjs.JSVAppletPro(f):new JSV.appletjs.JSVApplet(f):new J.appletjs.Jmol(f);c._is2D||(c._GLmol.applet=c);c._jsSetScreenDimensions();a.__nextExecution()};k._jsSetScreenDimensions=function(){if(this._applet){var c=
a._getElement(this,this._is2D?"canvas2d":"canvas");this._applet.viewer.setScreenDimension(c.width,c.height)}};k._show=function(c){a.$setVisible(a.$(this,"appletdiv"),c);c&&a._repaint(this,!0)};k._canScript=function(){return!0};k._delay=function(a,f,e){this._delayID=setTimeout(function(){a.resumeEval(f,!1)},e)};k._createDomNode=function(a,f){a=this._id+"_"+a;var e=document.getElementById(a);e&&document.body.removeChild(e);if(f){0==f.indexOf("<?")&&(f=f.substring(f.indexOf("<",1)));if(0<=f.indexOf("/>")){for(var e=
f.split("/>"),h=e.length-1;0<=--h;)for(var b=e[h],d=b.lastIndexOf("<")+1,g=d,k=b.length,m="";++g<k;)if(0<=" \t\n\r".indexOf(b.charAt(g))){m=b.substring(d,g);e[h]=b+"></"+m+">";break}f=e.join("")}e=document.createElement("_xml");e.id=a;e.innerHTML=f;e.style.display="none";document.body.appendChild(e);return e}};k.equals=function(a){return this==a};k.clone=function(){return this};k.hashCode=function(){return parseInt(this._uniqueId)};k._processGesture=function(a){return this._applet.viewer.mouse.processTwoPointGesture(a)};
k._processEvent=function(a,f){this._applet.viewer.processMouseEvent(a,f[0],f[1],f[2],System.currentTimeMillis())};k._resize=function(){var c="__resizeTimeout_"+this._id;a[c]&&clearTimeout(a[c]);var f=this;a[c]=setTimeout(function(){a._repaint(f,!0);a[c]=null},100)};return k};a._repaint=function(k,c){if(k&&k._applet){var f=a.$(k,"appletdiv"),e=Math.round(f.width()),f=Math.round(f.height());!k._is2D||k._canvas.width==e&&k._canvas.height==f||(k._getCanvas(!0),k._applet.viewer.setDisplay(k._canvas));
k._applet.viewer.setScreenDimension(e,f);c?setTimeout(function(){k._applet&&k._applet.viewer.updateJS(0,0)}):k._applet.viewer.updateJS(0,0)}};a._getHiddenCanvas=function(a,c,f,e,h){c=a._id+"_"+c;(a=document.getElementById(c))&&h&&(a=null);a||(a=document.createElement("canvas"));a.width=a.style.width=f;a.height=a.style.height=e;a.id!=c&&(a.id=c);return a};a._loadImage=function(k,c,f,e,h){var b=c[1];if(null==h)return h=new Image,h.onload=function(){a._loadImage(k,c,null,e,h)},null!=f&&(f=J.io.Base64.getBase64(f).toString(),
f=b.substring(url.lastIndexOf("/")+1),0<=f.indexOf(".png")||f.indexOf(".jpg")),h.src=b,!0;f=h.width;var d=h.height,g="echo_"+c[0],l=a._getHiddenCanvas(k.vwr.applet,g,f,d,!0);l.imageWidth=f;l.imageHeight=d;l.id=g;l.image=h;a._setCanvasImage(l,f,d);e(l,b)};a._setCanvasImage=function(a,c,f){a.buf32=null;a.width=c;a.height=f;a.getContext("2d").drawImage(a.image,0,0,c,f)}})(Jmol);
(function(a,k){a._Applet=function(c,f,b){window[c]=this;this._jmolType="Jmol._Applet"+(f.isSigned?" (signed)":"");this._viewType="Jmol";this._isJava=!0;this._syncKeyword="Select:";if(b)return this;this._isSigned=f.isSigned;this._readyFunction=f.readyFunction;this._ready=!1;this._isJava=!0;this._isInfoVisible=!1;this._applet=null;this._memoryLimit=f.memoryLimit||512;this._canScript=function(){return!0};this._savedOrientations=[];this._initialize=function(b,c){var e=!1;a._jarFile&&(c=a._jarFile);if(this._jarFile){var k=
this._jarFile;0<=k.indexOf("/")?(alert("This web page URL is requesting that the applet used be "+k+". This is a possible security risk, particularly if the applet is signed, because signed applets can read and write files on your local machine or network."),"yes"==prompt("Do you want to use applet "+k+"? ","yes or no")?(b=k.substring(0,k.lastIndexOf("/")),c=k.substring(k.lastIndexOf("/")+1)):e=!0):c=k;this_isSigned=f.isSigned=0<=c.indexOf("Signed")}this._jarPath=f.jarPath=b||".";this._jarFile=f.jarFile=
"string"==typeof c?c:(c?"JmolAppletSigned":"JmolApplet")+"0.jar";e&&alert("The web page URL was ignored. Continuing using "+this._jarFile+' in directory "'+this._jarPath+'"');void 0==a.controls||a.controls._onloadResetForms()};this._create(c,f);return this};var c=a._Applet,f=a._Applet.prototype;c._get=function(e,f,b){b||(b=!1);f||(f={});a._addDefaultInfo(f,{color:"#FFFFFF",width:300,height:300,addSelectionOptions:!1,serverURL:"http://your.server.here/jsmol.php",defaultModel:"",script:null,src:null,
readyFunction:null,use:"HTML5",jarPath:"java",jarFile:"JmolApplet0.jar",isSigned:!1,j2sPath:"j2s",coverImage:null,coverTitle:"",coverCommand:"",deferApplet:!1,deferUncover:!1,disableJ2SLoadMonitor:!1,disableInitialConsole:!1,debug:!1});a._debugAlert=f.debug;a.featureDetection.allowHTML5||(f.use="JAVA");f.serverURL&&(a._serverUrl=f.serverURL);for(var d=!1,g=null,k=f.use.toUpperCase().split("#")[0].split(" "),m=0;m<k.length;m++){switch(k[m]){case "JAVA":d=!0;a.featureDetection.supportsJava()&&(g=new c(e,
f,b));break;case "WEBGL":g=c._getCanvas(e,f,b,!0);break;case "HTML5":g=c._getCanvas(e,f,b,!1);break;case "IMAGE":g=new a._Image(e,f,b)}if(null!=g)break}null==g&&(b||!d?g={_jmolType:"none"}:d&&(g=new c(e,f)));return b?g:a._registerApplet(e,g)};c._getCanvas=function(e,f,b,d){return d&&a.featureDetection.supportsWebGL()?(a._Canvas3D.prototype=a.GLmol.extendApplet(a._jsSetPrototype(new c(e,f,!0))),new a._Canvas3D(e,f,"Jmol",b)):d?null:(a._Canvas2D.prototype=a._jsSetPrototype(new c(e,f,!0)),new a._Canvas2D(e,
f,"Jmol",b))};c._noJavaMsg="Either you do not have Java applets enabled in your web<br />browser or your browser is blocking this applet.<br />\t\t\tCheck the warning message from your browser and/or enable Java applets in<br />\t\t\tyour web browser preferences, or install the Java Runtime Environment from <a href='http://www.java.com'>www.java.com</a>";c._setCommonMethods=function(a){a._showInfo=f._showInfo;a._search=f._search;a._getName=f._getName;a._readyCallback=f._readyCallback};c._createApplet=
function(e,f,b){e._initialize(f.jarPath,f.jarFile);var d=e._jarFile,g="";a._isFile&&(d=d.replace(/0\.jar/,".jar"),g=' jnlp_href="'+d.replace(/\.jar/,".jnlp")+'"');var l=0<=e._containerWidth.indexOf("px")?e._containerWidth:"100%",m=0<=e._containerHeight.indexOf("px")?e._containerHeight:"100%",l=' style="width:'+l+";height:"+m+'" ',g="name='"+e._id+"_object' id='"+e._id+"_object' \n"+l+g+"\n";b.codebase=e._jarPath;b.codePath=b.codebase+"/";0>b.codePath.indexOf("://")&&(m=k.location.href.split("#")[0].split("?")[0].split("/"),
m[m.length-1]=b.codePath,b.codePath=m.join("/"));b.archive=d;b.mayscript="true";b.java_arguments="-Xmx"+Math.round(f.memoryLimit||e._memoryLimit)+"m";b.permissions=e._isSigned?"all-permissions":"sandbox";b.documentLocation=k.location.href;b.documentBase=k.location.href.split("#")[0].split("?")[0];b.jarPath=f.jarPath;a._syncedApplets.length&&(b.synccallback="Jmol._mySyncCallback");e._startupScript&&(b.script=e._startupScript);var m="\n",v;for(v in b)b[v]&&(m+="  <param name='"+v+"' value='"+b[v]+"' />\n");
m=a.featureDetection.useIEObject||a.featureDetection.useHtml4Object?"<object "+g+(a.featureDetection.useIEObject?" classid='clsid:8AD9C840-044E-11D1-B3E9-00805F499D93' codebase='http://java.sun.com/update/1.6.0/jinstall-6u22-windows-i586.cab'>":" type='application/x-java-applet'>")+m+"<p style='background-color:yellow;"+l.split('"')[1]+";text-align:center;vertical-align:middle;'>\n"+c._noJavaMsg+"</p></object>\n":"<applet "+g+" code='"+b.code+"' codebase='"+e._jarPath+"' archive='"+d+"' mayscript='true'>\n"+
m+"<table bgcolor='yellow'><tr><td align='center' valign='middle' "+l+">\n"+c._noJavaMsg+"</td></tr></table></applet>\n";m=a._getWrapper(e,!0)+m+a._getWrapper(e,!1)+(f.addSelectionOptions?a._getGrabberOptions(e):"");a._debugAlert&&alert(m);e._code=a._documentWrite(m)};f._create=function(e,f){a._setObject(this,e,f);var b={syncId:a._syncId,progressbar:"true",progresscolor:"blue",boxbgcolor:this._color||"black",boxfgcolor:"white",boxmessage:"Downloading JmolApplet ...",script:this._color?'background "'+
this._color+'"':"",code:"JmolApplet.class"};a._setJmolParams(b,f);var d;f.inlineModel?(d=f.inlineModel,d=d.replace(/\r|\n|\r\n/g,0<=d.indexOf("|")?"\\/n":"|").replace(/'/g,"&#39;"),a._debugAlert&&alert("inline model:\n"+d)):d="";b.loadInline=d;b.appletReadyCallback="Jmol._readyCallback";a._syncedApplets.length&&(b.synccallback="Jmol._mySyncCallback");b.java_arguments="-Xmx"+Math.round(f.memoryLimit||this._memoryLimit)+"m";this._initialize(f.jarPath,f.jarFile);c._createApplet(this,f,b)};f._readyCallback=
function(c,f,b,d){b&&(a._setDestroy(this),this._ready=!0,c=this._readyScript,this._applet=d,this._defaultModel?a._search(this,this._defaultModel,c?";"+c:""):c?this._script(c):this._src&&this._script('load "'+this._src+'"'),this._showInfo(!0),this._showInfo(!1),a.Cache.setDragDrop(this),this._readyFunction&&this._readyFunction(this),a._setReady(this),(d=this._2dapplet)&&d._isEmbedded&&d._ready&&d.__Info.visible&&this._show2d(!0))};f._showInfo=function(c){c&&this._2dapplet&&this._2dapplet._show(!1);
a.$html(a.$(this,"infoheaderspan"),this._infoHeader);this._info&&a.$html(a.$(this,"infodiv"),this._info);if(!this._isInfoVisible!=!c){this._isInfoVisible=c;if(this._isJava){var f=c?2:"100%";a.$setSize(a.$(this,"appletdiv"),f,f)}a.$setVisible(a.$(this,"infotablediv"),c);a.$setVisible(a.$(this,"infoheaderdiv"),c);this._show(!c)}};f._show2d=function(a){this._2dapplet._show2d(a);this._2dapplet._isEmbedded&&(this._showInfo(!1),this._show(!a))};f._getAtomCorrelation=function(a){this._loadMolData(a,"atommap = compare({1.1} {2.1} 'MAP' 'H'); zap 2.1",
!0);a=jmol._evaluate("atommap");for(var c=jmol._evaluate("{*}.count"),b=[],d=[],g=0;g<a.length;g++){var f=a[g];b[f[0]+1]=f[1]-c+1;d[f[1]-c+1]=f[0]+1}return{fromJmol:b,toJmol:d}};f._show=function(c){var f=c?"100%":2;a.$setSize(a.$(this,"object"),f,f);this._isJava||a.$setVisible(a.$(this,"appletdiv"),c)};f._clearConsole=function(){this._console==this._id+"_infodiv"&&(this.info="");self.Clazz&&(a._setConsoleDiv(this._console),Clazz.Console.clear())};f._addScript=function(a){this._readyScript||(this.readyScript=
"");this._readyScript&&(this._readyScript+=";");this._readyScript+=a;return!0};f._script=function(c){if(!this._ready)return this._addScript(c);a._setConsoleDiv(this._console);this._applet.script(c)};f._syncScript=function(a){this._applet.syncScript(a)};f._scriptCheck=function(a){return this._ready&&this._applet.scriptCheck(a)};f._scriptWait=function(a,c){var b=this._scriptWaitAsArray(a),d="";if(!c)for(var g=b.length;0<=--g;)for(var f=0,k=b[g].length;f<k;f++)d+=b[g][f]+"\n";return d};f._scriptEcho=
function(a){a=this._scriptWaitAsArray(a);for(var c="",b=a.length;0<=--b;)for(var d=a[b].length;0<=--d;)"scriptEcho"==a[b][d][1]&&(c+=a[b][d][3]+"\n");return c.replace(/ \| /g,"\n")};f._scriptMessage=function(a){a=this._scriptWaitAsArray(a);for(var c="",b=a.length;0<=--b;)for(var d=a[b].length;0<=--d;)"scriptStatus"==a[b][d][1]&&(c+=a[b][d][3]+"\n");return c.replace(/ \| /g,"\n")};f._scriptWaitOutput=function(a){var c="";try{a&&(c+=this._applet.scriptWaitOutput(a))}catch(b){}return c};f._scriptWaitAsArray=
function(c){var f="";try{if(this._getStatus("scriptEcho,scriptMessage,scriptStatus,scriptError"),c&&(f+=this._applet.scriptWait(c),f=a._evalJSON(f,"jmolStatus"),"object"==typeof f))return f}catch(b){}return[[f]]};f._getStatus=function(c){return a._sortMessages(this._getPropertyAsArray("jmolStatus",c))};f._getPropertyAsArray=function(c,f){return a._evalJSON(this._getPropertyAsJSON(c,f),c)};f._getPropertyAsString=function(a,c){void 0==c&&(c="");return this._applet.getPropertyAsString(a,c)+""};f._getPropertyAsJSON=
function(a,c){void 0==c&&(c="");try{return this._applet.getPropertyAsJSON(a,c)+""}catch(b){return""}};f._getPropertyAsJavaObject=function(a,c){void 0==c&&(c="");return this._applet.getProperty(a,c)};f._evaluate=function(a){null!=a||(a="");return this._getPropertyAsArray("variableInfo",a)};f._evaluateDEPRECATED=function(a){a=""+this._getPropertyAsJavaObject("evaluate",a);var c=a.replace(/\-*\d+/,"");if(""==c&&!isNaN(parseInt(a)))return parseInt(a);c=a.replace(/\-*\d*\.\d*/,"");return""!=c||isNaN(parseFloat(a))?
a:parseFloat(a)};f._saveOrientation=function(a){return this._savedOrientations[a]=this._getPropertyAsArray("orientationInfo","info").moveTo};f._restoreOrientation=function(a){return(a=this._savedOrientations[a])&&""!=a?this._scriptWait(a):a.replace(/1\.0/,"0")};f._restoreOrientationDelayed=function(a,c){1>arguments.length&&(c=1);var b=this._savedOrientations[a];return b&&""!=b?this._scriptWait(b):b.replace(/1\.0/,c)};f._resizeApplet=function(c){function f(b,c){var e=""+b;return 0==e.length?c?"":a._allowedJmolSize[2]:
e.indexOf("%")==e.length-1?e:1>=(b=parseFloat(b))&&0<b?100*b+"%":(isNaN(b=Math.floor(b))?a._allowedJmolSize[2]:b<a._allowedJmolSize[0]?a._allowedJmolSize[0]:b>a._allowedJmolSize[1]?a._allowedJmolSize[1]:b)+(c?c:"")}var b;"object"==typeof c&&null!=c?(b=c[0]||c.width,c=c[1]||c.height):b=c;b=[f(b,"px"),f(c,"px")];c=a._getElement(this,"appletinfotablediv");c.style.width=b[0];c.style.height=b[1];this._containerWidth=b[0];this._containerHeight=b[1];this._is2D&&a._repaint(this,!0)};f._search=function(c,
f){a._search(this,c,f)};f._searchDatabase=function(c,f,b){if(this._2dapplet&&this._2dapplet._isEmbedded&&a.$(this,"2dappletdiv:visible")[0])return this._2dapplet._searchDatabase(c,f,b);this._showInfo(!1);0<=c.indexOf("?")?a._getInfoFromDatabase(this,f,c.split("?")[0]):(b||(b=a._getScriptForDatabase(f)),c=f+c,this._currentView=null,this._searchQuery=c,this._loadFile(c,b,c))};f._loadFile=function(c,f,b){this._showInfo(!1);f||(f="");this._thisJmolModel=""+Math.random();this._fileName=c;if(!this._scriptLoad(c,
f)){var d=this;a._loadFileData(this,c,function(a){d.__loadModel(a,f,b)},function(){d.__loadModel(null)})}};f._scriptLoad=function(a,c){c||(c="");var b=this._isJava||!this._noscript;b&&this._script("zap;set echo middle center;echo Retrieving data...");if(!this._isSigned||null!=this._viewSet)return!1;b?this._script('load async "'+a+'";'+c):this._applet.viewer.openFile(a);this._checkDeferred("");return!0};f.__loadModel=function(c,f,b){null!=c&&(null!=this._viewSet&&(f||(f=""),f+=";if ({*}.molecule.max > 1 || {*}.modelindex.max > 0){ delete molecule > 1 or modelindex > 0;x = getProperty('extractModel',{*});load inline @x};"),
!f&&this._noscript?this._applet.viewer.loadInline(c,"\x00"):this._loadMolData(c,f,!1),null!=this._viewSet&&a.View.updateView(this,{chemID:b,data:c}))};f._loadMolData=function(a,c,b){c||(c="");b=b?"append":"model";this._applet.scriptWait('load DATA "'+b+'"'+a+'\nEND "'+b+'" ;'+c)};f._loadModelFromView=function(c){this._currentView=c;var f=c.Jmol;null!=f.data?this.__loadModel(f.data,null,c.info.chemID):null!=c.info.chemID?a._searchMol(this,c.info.chemID,null,!1):(f=c.JME)&&f.applet._show2d(!1,this)};
f._updateView=function(){null!=this._viewSet&&this._applet&&(chemID=""+this._getPropertyAsJavaObject("variableInfo","script('show chemical inchiKey')"),chemID=36>chemID.length()?null:chemID.substring(36).split("\n")[0],a.View.updateView(this,{chemID:chemID,data:""+this._getPropertyAsJavaObject("evaluate","extractModel","{visible}")}))};f._atomPickedCallback=function(c,f){if(!(0>f)){var b=[f+1];a.View.updateAtomPick(this,b);this._updateAtomPick(b)}};f._updateAtomPick=function(a){this._script(0==a.length?
"select none":"select on visible and (@"+a.join(",@")+")")};f._isDeferred=function(){return!this._canvas&&this._cover&&this._isCovered&&this._deferApplet};f._checkDeferred=function(a){return this._isDeferred()?(this._coverScript=a,this._cover(!1),!0):!1};f._getSmiles=function(){return this._evaluate("{visible}.find('SMILES')")};f._getMol=function(){return this._evaluate("getProperty('ExtractModel',{visible})")};f._getMol2D=function(){return jmol._evaluate("script('select visible;show chemical sdf')")};
a.jmolSmiles=function(a){return a._getSmiles()}})(Jmol,document);
(function(a){var k=a.controls={_hasResetForms:!1,_scripts:[""],_checkboxMasters:{},_checkboxItems:{},_actions:{},_buttonCount:0,_checkboxCount:0,_radioGroupCount:0,_radioCount:0,_linkCount:0,_cmdCount:0,_menuCount:0,_previousOnloadHandler:null,_control:null,_element:null,_appletCssClass:null,_appletCssText:"",_buttonCssClass:null,_buttonCssText:"",_checkboxCssClass:null,_checkboxCssText:"",_radioCssClass:null,_radioCssText:"",_linkCssClass:null,_linkCssText:"",_menuCssClass:null,_menuCssText:""};
k._addScript=function(a,f){var e=k._scripts.length;k._scripts[e]=[a,f];return e};k._getIdForControl=function(a,f){return"string"==typeof a?a:f&&a._canScript&&!a._canScript(f)?null:a._id};k._radio=function(a,f,e,h,b,d,g,l){var m=k._getIdForControl(a,f);if(null==m)return null;++k._radioCount;void 0!=d&&null!=d||(d="jmolRadioGroup"+(k._radioGroupCount-1));if(!f)return"";void 0!=g&&null!=g||(g="jmolRadio"+(k._radioCount-1));void 0!=e&&null!=e||(e=f.substring(0,32));b||(b="");a="</span>";k._actions[g]=
k._addScript(m,f);f='<span id="span_'+g+'"'+(l?' title="'+l+'"':"")+"><input name='"+d+"' id='"+g+"' type='radio' onclick='Jmol.controls._click(this);return true;' onmouseover='Jmol.controls._mouseOver(this);return true;' onmouseout='Jmol.controls._mouseOut()' "+(h?"checked='true' ":"")+k._radioCssText+" />";0<=e.toLowerCase().indexOf("<td>")&&(f+=a,a="");return f+('<label for="'+g+'">'+e+"</label>"+a+b)};k._scriptExecute=function(c,f){var e=a._applets[f[0]],h=f[1];if("object"==typeof h)h[0](c,h,
e);else"function"==typeof h?h(e):a.script(e,h)};k.__checkScript=function(a,f){var e=0<=f.value.indexOf("JSCONSOLE ")||""===a._scriptCheck(f.value);f.style.color=e?"black":"red";return e};k.__getCmd=function(a,f){if(f._cmds&&f._cmds.length){var e=f._cmds[f._cmdpt=(f._cmdpt+f._cmds.length+a)%f._cmds.length];setTimeout(function(){f.value=e},10);f._cmdadd=1;f._cmddir=a}};k._commandKeyPress=function(c,f,e){c=13==c?13:window.event?window.event.keyCode:c?c.keyCode||c.which:0;var h=document.getElementById(f),
b=a._applets[e];switch(c){case 13:return f=h.value,k.__checkScript(b,h)&&(k._scriptExecute(h,[e,f]),1)&&(h._cmds||(h._cmds=[],h._cmddir=0,h._cmdpt=-1,h._cmdadd=0),f&&0==h._cmdadd?(++h._cmdpt,h._cmds.splice(h._cmdpt,0,f),h._cmdadd=0,h._cmddir=0):h._cmdadd=0,h.value=""),!1;case 27:return setTimeout(function(){h.value=""},20),!1;case 38:k.__getCmd(-1,h);break;case 40:k.__getCmd(1,h);break;default:h._cmdadd=0}setTimeout(function(){k.__checkScript(b,h)},20);return!0};k._click=function(a,f){k._element=
a;1==arguments.length&&(f=k._actions[a.id]);k._scriptExecute(a,k._scripts[f])};k._menuSelected=function(a){var f=a.value;if(void 0!=f)k._scriptExecute(a,k._scripts[f]);else{f=a.length;if("number"==typeof f)for(var e=0;e<f;++e)if(a[e].selected){k._click(a[e],a[e].value);return}alert("?Que? menu selected bug #8734")}};k._cbNotifyMaster=function(a){var f=!0,e=!0,h;for(h in a.chkGroup)a.chkGroup[h].checked?e=!1:f=!1;f&&(a.chkMaster.checked=!0);e&&(a.chkMaster.checked=!1);(f||e)&&k._checkboxItems[a.chkMaster.id]&&
k._cbNotifyMaster(k._checkboxItems[a.chkMaster.id])};k._cbNotifyGroup=function(a,f){for(var e in a.chkGroup){var h=a.chkGroup[e];h.checked!=f&&(h.checked=f,k._cbClick(h));k._checkboxMasters[h.id]&&k._cbNotifyGroup(k._checkboxMasters[h.id],f)}};k._cbSetCheckboxGroup=function(a,f,e){var h=a;"number"==typeof h&&(h="jmolCheckbox"+h);(a=document.getElementById(h))||alert("jmolSetCheckboxGroup: master checkbox not found: "+h);var b=k._checkboxMasters[h]={};b.chkMaster=a;b.chkGroup={};"string"==typeof f?
(f=e,h=1):h=0;for(a=h;a<f.length;a++)h=f[a],"number"==typeof h&&(h="jmolCheckbox"+h),(checkboxItem=document.getElementById(h))||alert("jmolSetCheckboxGroup: group checkbox not found: "+h),b.chkGroup[h]=checkboxItem,k._checkboxItems[h]=b};k._cbClick=function(a){k._control=a;var f=k._actions[a.id][0],e=k._actions[a.id][1];k._click(a,a.checked?f:e);k._checkboxMasters[a.id]&&k._cbNotifyGroup(k._checkboxMasters[a.id],a.checked);k._checkboxItems[a.id]&&k._cbNotifyMaster(k._checkboxItems[a.id])};k._cbOver=
function(a){var f=k._actions[a.id][0],e=k._actions[a.id][1];window.status=k._scripts[a.checked?e:f]};k._mouseOver=function(a,f){1==arguments.length&&(f=k._actions[a.id]);window.status=k._scripts[f]};k._mouseOut=function(){window.status=" ";return!0};k._onloadResetForms=function(){k._hasResetForms||(k._hasResetForms=!0,k._previousOnloadHandler=window.onload,window.onload=function(){if(0<k._buttonCount+k._checkboxCount+k._menuCount+k._radioCount+k._radioGroupCount)for(var a=document.forms,f=a.length;0<=
--f;)a[f].reset();k._previousOnloadHandler&&k._previousOnloadHandler()})};k._getButton=function(c,f,e,h,b){c=k._getIdForControl(c,f);if(null==c)return"";void 0!=h&&null!=h||(h="jmolButton"+k._buttonCount);void 0!=e&&null!=e||(e=f.substring(0,32));++k._buttonCount;k._actions[h]=k._addScript(c,f);f='<span id="span_'+h+'"'+(b?' title="'+b+'"':"")+"><input type='button' name='"+h+"' id='"+h+"' value='"+e+"' onclick='Jmol.controls._click(this)' onmouseover='Jmol.controls._mouseOver(this);return true' onmouseout='Jmol.controls._mouseOut()' "+
k._buttonCssText+" /></span>";a._debugAlert&&alert(f);return a._documentWrite(f)};k._getCheckbox=function(c,f,e,h,b,d,g){var l=k._getIdForControl(c,f);null!=l&&(l=k._getIdForControl(c,e));if(null==l)return"";void 0!=d&&null!=d||(d="jmolCheckbox"+k._checkboxCount);++k._checkboxCount;if(void 0==f||null==f||void 0==e||null==e)alert("jmolCheckbox requires two scripts");else if(void 0==h||null==h)alert("jmolCheckbox requires a label");else return k._actions[d]=[k._addScript(l,f),k._addScript(l,e)],c="</span>",
b='<span id="span_'+d+'"'+(g?' title="'+g+'"':"")+"><input type='checkbox' name='"+d+"' id='"+d+"' onclick='Jmol.controls._cbClick(this)' onmouseover='Jmol.controls._cbOver(this);return true' onmouseout='Jmol.controls._mouseOut()' "+(b?"checked='true' ":"")+k._checkboxCssText+" />",0<=h.toLowerCase().indexOf("<td>")&&(b+=c,c=""),b+='<label for="'+d+'">'+h+"</label>"+c,a._debugAlert&&alert(b),a._documentWrite(b)};k._getCommandInput=function(c,f,e,h,b){c=k._getIdForControl(c,"x");if(null==c)return"";
void 0!=h&&null!=h||(h="jmolCmd"+k._cmdCount);void 0!=f&&null!=f||(f="Execute");void 0!=e&&!isNaN(e)||(e=60);++k._cmdCount;f='<span id="span_'+h+'"'+(b?' title="'+b+'"':"")+"><input name='"+h+"' id='"+h+"' size='"+e+"' onkeydown='return Jmol.controls._commandKeyPress(event,\""+h+'","'+c+"\")' /><input  type='button' name='"+h+"Btn' id='"+h+"Btn' value = '"+f+"' onclick='Jmol.controls._commandKeyPress(13,\""+h+'","'+c+"\")' /></span>";a._debugAlert&&alert(f);return a._documentWrite(f)};k._getLink=
function(c,f,e,h,b){c=k._getIdForControl(c,f);if(null==c)return"";void 0!=h&&null!=h||(h="jmolLink"+k._linkCount);void 0!=e&&null!=e||(e=f.substring(0,32));++k._linkCount;f=k._addScript(c,f);e='<span id="span_'+h+'"'+(b?' title="'+b+'"':"")+"><a name='"+h+"' id='"+h+"' href='javascript:Jmol.controls._click(null,"+f+");' onmouseover='Jmol.controls._mouseOver(null,"+f+");return true;' onmouseout='Jmol.controls._mouseOut()' "+k._linkCssText+">"+e+"</a></span>";a._debugAlert&&alert(e);return a._documentWrite(e)};
k._getMenu=function(c,f,e,h,b){var d=k._getIdForControl(c,null);void 0!=h&&null!=h||(h="jmolMenu"+k._menuCount);++k._menuCount;d=typeof f;if(null!=d&&"object"==d&&f.length){var g=f.length;"number"!=typeof e||1==e?e=null:0>e&&(e=g);e='<span id="span_'+h+'"'+(b?' title="'+b+'"':"")+"><select name='"+h+"' id='"+h+"' onChange='Jmol.controls._menuSelected(this)'"+(e?" size='"+e+"' ":"")+k._menuCssText+">";for(h=0;h<g;++h){var l=f[h],d=typeof l,m=null,v=b=null;"object"==d&&null!=l?(m=l[0],b=l[1],v=l[2]):
m=b=l;d=k._getIdForControl(c,m);if(null==d)return"";null==b&&(b=m);"#optgroup"==m?e+="<optgroup label='"+b+"'>":"#optgroupEnd"==m?e+="</optgroup>":(d=k._addScript(d,m),e+="<option value='"+d+(v?"' selected='true'>":"'>")+b+"</option>")}e+="</select></span>";a._debugAlert&&alert(e);return a._documentWrite(e)}};k._getRadio=function(c,f,e,h,b,d,g,l){0==k._radioGroupCount&&++k._radioGroupCount;d||(d="jmolRadioGroup"+(k._radioGroupCount-1));c=k._radio(c,f,e,h,b,d,g?g:d+"_"+k._radioCount,l?l:0);if(null==
c)return"";a._debugAlert&&alert(c);return a._documentWrite(c)};k._getRadioGroup=function(c,f,e,h,b,d){var g=typeof f;if("object"==g&&null!=g&&f.length){void 0!=e&&null!=e||(e="&#xa0; ");var l=f.length;++k._radioGroupCount;h||(h="jmolRadioGroup"+(k._radioGroupCount-1));for(var m="<span id='"+(b?b:h)+"'>",v=0;v<l;++v){v==l-1&&(e="");var q=f[v],g=typeof q,r=null,m="object"==g?m+(r=k._radio(c,q[0],q[1],q[2],e,h,3<q.length?q[3]:(b?b:h)+"_"+v,4<q.length?q[4]:0,d)):m+(r=k._radio(c,q,null,null,e,h,(b?b:h)+
"_"+v,d));if(null==r)return""}m+="</span>";a._debugAlert&&alert(m);return a._documentWrite(m)}alert("invalid arrayOfRadioButtons")}})(Jmol);
(function(a){var k=function(a){a="&"+a+"=";return decodeURI(("&"+document.location.search.substring(1)+a).split(a)[1].split("&")[0])};a._j2sPath=k("_J2S");a._jarFile=k("_JAR");a._use=k("_USE");a.getVersion=function(){return a._jmolInfo.version};a.getApplet=function(c,f,e){return a._Applet._get(c,f,e)};a.getJMEApplet=function(c,f,e,h){return a._JMEApplet._get(c,f,e,h)};a.getJSVApplet=function(c,f,e){return a._JSVApplet._get(c,f,e)};a.loadFile=function(a,f,e){a._loadFile(f,e)};a.script=function(a,f){a._checkDeferred(f)||
a._script(f)};a.scriptCheck=function(a,f){return a&&a._scriptCheck&&a._ready&&a._scriptCheck(f)};a.scriptWait=function(a,f){return a._scriptWait(f)};a.scriptEcho=function(a,f){return a._scriptEcho(f)};a.scriptMessage=function(a,f){return a._scriptMessage(f)};a.scriptWaitOutput=function(a,f){return a._scriptWait(f)};a.scriptWaitAsArray=function(a,f){return a._scriptWaitAsArray(f)};a.search=function(a,f,e){a._search(f,e)};a.evaluateVar=function(a,f){return a._evaluate(f)};a.evaluate=function(a,f){return a._evaluateDEPRECATED(f)};
a.getAppletHtml=function(c,f){if(f){var e=a._document;a._document=null;c=a.getApplet(c,f);a._document=e}return c._code};a.getPropertyAsArray=function(a,f,e){return a._getPropertyAsArray(f,e)};a.getPropertyAsJavaObject=function(a,f,e){return a._getPropertyAsJavaObject(f,e)};a.getPropertyAsJSON=function(a,f,e){return a._getPropertyAsJSON(f,e)};a.getPropertyAsString=function(a,f,e){return a._getPropertyAsString(f,e)};a.getStatus=function(a,f){return a._getStatus(f)};a.resizeApplet=function(a,f){return a._resizeApplet(f)};
a.restoreOrientation=function(a,f){return a._restoreOrientation(f)};a.restoreOrientationDelayed=function(a,f,e){return a._restoreOrientationDelayed(f,e)};a.saveOrientation=function(a,f){return a._saveOrientation(f)};a.say=function(a){alert(a)};a.clearConsole=function(a){a._clearConsole()};a.getInfo=function(a){return a._info};a.setInfo=function(a,f,e){a._info=f;2<arguments.length&&a._showInfo(e)};a.showInfo=function(a,f){a._showInfo(f)};a.show2d=function(a,f){a._show2d(f)};a.jmolBr=function(){return a._documentWrite("<br />")};
a.jmolButton=function(c,f,e,h,b){return a.controls._getButton(c,f,e,h,b)};a.jmolCheckbox=function(c,f,e,h,b,d,g){return a.controls._getCheckbox(c,f,e,h,b,d,g)};a.jmolCommandInput=function(c,f,e,h,b){return a.controls._getCommandInput(c,f,e,h,b)};a.jmolHtml=function(c){return a._documentWrite(c)};a.jmolLink=function(c,f,e,h,b){return a.controls._getLink(c,f,e,h,b)};a.jmolMenu=function(c,f,e,h,b){return a.controls._getMenu(c,f,e,h,b)};a.jmolRadio=function(c,f,e,h,b,d,g,k){return a.controls._getRadio(c,
f,e,h,b,d,g,k)};a.jmolRadioGroup=function(c,f,e,h,b,d){return a.controls._getRadioGroup(c,f,e,h,b,d)};a.setCheckboxGroup=function(c,f){a.controls._cbSetCheckboxGroup(c,f,arguments)};a.setDocument=function(c){a._document=c};a.setXHTML=function(c){a._isXHTML=!0;a._XhtmlElement=null;a._XhtmlAppendChild=!1;c&&(a._XhtmlElement=document.getElementById(c),a._XhtmlAppendChild=!0)};a.setAppletCss=function(c,f){null!=c&&(a.controls._appletCssClass=c);a.controls._appletCssText=f?f+" ":c?'class="'+c+'" ':""};
a.setButtonCss=function(c,f){null!=c&&(a.controls._buttonCssClass=c);a.controls._buttonCssText=f?f+" ":c?'class="'+c+'" ':""};a.setCheckboxCss=function(c,f){null!=c&&(a.controls._checkboxCssClass=c);a.controls._checkboxCssText=f?f+" ":c?'class="'+c+'" ':""};a.setRadioCss=function(c,f){null!=c&&(a.controls._radioCssClass=c);a.controls._radioCssText=f?f+" ":c?'class="'+c+'" ':""};a.setLinkCss=function(c,f){null!=c&&(a.controls._linkCssClass=c);a.controls._linkCssText=f?f+" ":c?'class="'+c+'" ':""};
a.setMenuCss=function(c,f){null!=c&&(a.controls._menuCssClass=c);a.controls._menuCssText=f?f+" ":c?'class="'+c+'" ':""};a.setAppletSync=function(c,f,e){a._syncedApplets=c;a._syncedCommands=f;a._syncedReady={};a._isJmolJSVSync=e};a.setGrabberOptions=function(c){a._grabberOptions=c};a.setAppletHtml=function(c,f){c._code&&(a.$html(f,c._code),c._init&&!c._deferApplet&&c._init())};a.coverApplet=function(a,f){a._cover&&a._cover(f)};a.setFileCaching=function(c,f){c?c._cacheFiles=f:a.fileCache=f?{}:null};
a.updateView=function(a,f,e){a._updateView(f,e)};a.getChemicalInfo=function(c,f,e){f||(f="name");"string"!=typeof applet_or_Identifier&&(c=c._getSmiles());return a._getNCIInfo(c,f,e)};a.saveImage=function(a){switch(a._viewType){case "Jmol":a._script('write PNGJ "'+a._id+'.png"');break;case "JSV":a._script("write PDF");break;case "JME":a._script("print")}}})(Jmol);
LoadClazz=function(){window["j2s.clazzloaded"]||(window["j2s.clazzloaded"]=!1);window["j2s.clazzloaded"]||(window["j2s.clazzloaded"]=!0,window["j2s.object.native"]=!0,Clazz=function(){},function(a){a.__debuggingBH=!1;a._globals=["j2s.clazzloaded","j2s.object.native"];a.setGlobal=function(b,d){a._globals.push(b);window[b]=d};a.getGlobals=function(){return a._globals.sort().join("\n")};a._profile=window["j2s.doProfile"]&&self.JSON?{}:null;a.getProfile=function(){var b="";if(a._profile){var b=[],d;for(d in a._profile){var c=
""+a._profile[d];b.push("        ".substring(c.length)+c+"\t"+d)}b=b.sort().reverse().join("\r\n");a._profile={}}return b};a.addProfile=function(b,d,c){b=b.__CLASS_NAME__+" "+d+" "+JSON.stringify(c);a._profile[b]||(a._profile[b]=0);a._profile[b]++};NullObject=function(){};a._supportsNativeObject=window["j2s.object.native"];a._supportsNativeObject?(a._O=function(){},a._O.__CLASS_NAME__="Object",a._O.getClass=function(){return a._O}):a._O=Object;a.Console={};a.dateToString=Date.prototype.toString;a.getSignature=
function(a,d,c,e){return e?a[d]=c:a[d]};a.addProto=function(b,d,c){a.getSignature(b,d,c,!0)};var k=a._O.prototype;a.addProto(k,"equals",function(a){return this==a});a.addProto(k,"hashCode",function(){try{return this.toString().hashCode()}catch(a){var d=":",c;for(c in this)d+=c+":";return d.hashCode()}});a.addProto(k,"getClass",function(){return a.getClass(this)});a.addProto(k,"clone",function(){return a.clone(this)});a.clone=function(a){var d=new a.constructor,c;for(c in a)d[c]=a[c];return d};a.addProto(k,
"finalize",function(){});a.addProto(k,"notify",function(){});a.addProto(k,"notifyAll",function(){});a.addProto(k,"wait",function(){});a.addProto(k,"to$tring",Object.prototype.toString);a.addProto(k,"toString",function(){return null!=this.__CLASS_NAME__?"["+this.__CLASS_NAME__+" object]":this.to$tring.apply(this,arguments)});a._extendedObjectMethods="equals hashCode getClass clone finalize notify notifyAll wait to$tring toString".split(" ");a.extendJO=function(b,d){d&&(b.__CLASS_NAME__=b.prototype.__CLASS_NAME__=
d);if(a._supportsNativeObject)for(var c=0;c<a._extendedObjectMethods.length;c++){var e=a._extendedObjectMethods[c];a.getSignature(b.prototype,e,a._O.prototype[e],!0)}};a.extractClassName=function(a){a=a.substring(1,a.length-1);return 0<=a.indexOf("Array")?"Array":0<=a.indexOf("object ")?a.substring(7):a};a.getClassName=function(b,d){if(null==b)return"NullObject";if(b instanceof a.CastedNull)return b.clazzName;switch(typeof b){case "number":return"Number";case "boolean":return"Boolean";case "string":return"String";
case "function":if(null!=b.__CLASS_NAME__)return d?b.__CLASS_NAME__:"Class";var c=b.toString(),e=c.indexOf("function");if(0>e)return"["==c.charAt(0)?a.extractClassName(c):c.replace(/[^a-zA-Z0-9]/g,"");var e=e+8,f=c.indexOf("(",e);if(0>f)return"Object";c=c.substring(e,f);if(0<=c.indexOf("Array"))return"Array";c=c.replace(/^\s+/,"").replace(/\s+$/,"");return"anonymous"==c||""==c?"Function":c;case "object":if(null!=b.__CLASS_NAME__)return b.__CLASS_NAME__;if(null==b.constructor)return"Object";if(null==
b.constructor.__CLASS_NAME__){if(b instanceof Number)return"Number";if(b instanceof Boolean)return"Boolean";if(b instanceof Array)return"Array";c=b.toString();if("["==c.charAt(0))return a.extractClassName(c)}}return a.getClassName(b.constructor,!0)};a.getClass=function(b){if(null==b)return a._O;if("function"==typeof b)return b;var d=null;if(b instanceof a.CastedNull)d=b.clazzName;else{if("string"==typeof b)return String;if("object"==typeof b)if(null!=b.__CLASS_NAME__)d=b.__CLASS_NAME__;else return null==
b.constructor?a._O:b.constructor}return null!=d?a.evalType(d,!0):b.constructor};a.extendsProperties=function(b,d){for(var c in d)"b$"!=c&&"prototype"!=c&&"superClazz"!=c&&"__CLASS_NAME__"!=c&&"implementz"!=c&&!a.checkInnerFunction(d,c)&&(b[c]=d[c])};a.checkInnerFunction=function(b,d){for(var c=0;c<a.innerFunctionNames.length;c++)if(d==a.innerFunctionNames[c]&&a._innerFunctions[d]===b[d])return!0;return!1};a.implementsProperties=function(b,d){for(var c in d)"b$"!=c&&"prototype"!=c&&"superClazz"!=c&&
"__CLASS_NAME__"!=c&&"implementz"!=c&&("function"!=typeof d[c]||!a.checkInnerFunction(d,c))&&(b[c]=d[c],b.prototype[c]=d[c])};a.args4InheritClass=function(){};a.inheritArgs=new a.args4InheritClass;a.inheritClass=function(b,d,c){a.extendsProperties(b,d);a.isClassUnloaded(b)||(b.prototype=null!=c?c:d!==Number?new d(a.inheritArgs):new Number);b.superClazz=d;b.prototype.__CLASS_NAME__=b.__CLASS_NAME__};a.implementOf=function(b,d){if(2<=arguments.length){null==b.implementz&&(b.implementz=[]);var c=b.implementz;
if(2==arguments.length)if("function"==typeof d)c[c.length]=d,a.implementsProperties(b,d);else{if(d instanceof Array)for(var e=0;e<d.length;e++)c[c.length]=d[e],a.implementsProperties(b,d[e])}else for(e=1;e<arguments.length;e++)c[c.length]=arguments[e],a.implementsProperties(b,arguments[e])}};a.extendInterface=a.implementOf;a.equalsOrExtendsLevel=function(b,d){if(b===d)return 0;if(null!=b.implementz)for(var c=b.implementz,e=0;e<c.length;e++){var f=a.equalsOrExtendsLevel(c[e],d);if(0<=f)return f+1}return-1};
a.getInheritedLevel=function(b,d){if(b===d)return 0;var c="string"==typeof b,e="string"==typeof d;if(c&&("void"==b||"unknown"==b)||e&&("void"==d||"unknown"==d))return-1;if((c&&"NullObject"==b||NullObject===b)&&d!==Number&&d!==Boolean&&d!==NullObject)return 0;c&&(b=a.evalType(b));e&&(d=a.evalType(d));if(null==d||null==b)return-1;c=0;for(e=b;e!==d&&10>c;){if(null!=e.implementz)for(var f=e.implementz,h=0;h<f.length;h++){var k=a.equalsOrExtendsLevel(f[h],d);if(0<=k)return c+k+1}e=e.superClazz;if(null==
e)return d===Object||d===a._O?c+1.5:-1;c++}return c};a.instanceOf=function(b,d){if(null==b)return!1==d;if(null==d)return!1;if(b instanceof d)return!0;var c=a.getClassName(b);return 0<=a.getInheritedLevel(c,d)};a.superCall=function(b,d,c,e){var f=null,h=-1,k=b[c];if(null!=k)if(null!=k.claxxOwner)k.claxxOwner!==d&&(f=k);else if(null!=k.stacks||null!=k.lastClaxxRef&&null!=k.lastClaxxRef.prototype[c]&&null!=k.lastClaxxRef.prototype[c].stacks){var r=k.stacks;null==r&&(r=k.lastClaxxRef.prototype[c].stacks);
for(h=r.length-1;0<=h;h--)if(d===r[h]){0<h?(h--,f=r[h].prototype[c]):f=r[0].prototype[c]["\\unknown"];break}else if(0<a.getInheritedLevel(d,r[h])){f=r[h].prototype[c];break}}else f=k;if(null!=f)return 0==h&&"construct"==c&&(h=k.stacks,null!=h&&null==h[0].superClazz&&null!=h[0].con$truct&&h[0].con$truct.apply(b,[])),a.tracingCalling?(h=arguments.callee.caller,h===a.superConstructor&&(h=h.arguments.callee.caller),a.pu$hCalling(new a.callingStack(h,d)),f=f.apply(b,null==e?[]:e),a.p0pCalling(),f):f.apply(b,
null==e?[]:e);if("construct"!=c)throw a.alert(["j2slib","no class found",e.typeString]),new a.MethodNotFoundException(b,d,c,a.getParamsType(e).typeString);};a.superConstructor=function(b,d,c){a.superCall(b,d,"construct",c);null!=d.con$truct&&d.con$truct.apply(b,[])};a.CastedNull=function(b){this.clazzName=null!=b?b instanceof String?b:b instanceof Function?a.getClassName(b,!0):""+b:"Object";this.toString=function(){return null};this.valueOf=function(){return null}};a.castNullAs=function(b){return new a.CastedNull(b)};
a.MethodException=function(){};a.MethodNotFoundException=function(){this.toString=function(){return"MethodNotFoundException"}};a.getParamsType=function(b){var d=b.length;switch(d){case 0:var c=["void"];c.typeString="\\void";return c;case 1:if(c=b[0],null!=c&&"number"==typeof c)return c=["Number"],c.typeString="\\Number",c}c=[];c.hasCastedNull=!1;if(null!=b)for(var e=0;e<d;e++)c[e]=a.getClassName(b[e]),b[e]instanceof a.CastedNull&&(c.hasCastedNull=!0);c.typeString="\\"+c.join("\\");return c};a.searchAndExecuteMethod=
function(b,d,c,e){var f=b[c],h=a.getParamsType(e);a._profile&&a.addProfile(d,c,h);if(f.lastParams==h.typeString&&f.lastClaxxRef===d){if(h.hasCastedNull)for(d=[],h=0;h<e.length;h++)d[h]=e[h]instanceof a.CastedNull?null:e[h];else d=e;if(null!=f.lastMethod)return f.lastMethod.apply(b,d)}else{f.lastParams=h.typeString;f.lastClaxxRef=d;var k=f.stacks;null==k&&(k=d.prototype[c].stacks);for(var r=!1,s=k.length-1;-1<s;s--)if(r||k[s]===d){r=a.tryToSearchAndExecute(c,b,k[s].prototype[c],h,e,f);if(!(r instanceof
a.MethodException))return r;r=!0}if("construct"!=c)throw new a.MethodNotFoundException(b,d,c,h.typeString);}};a.tracingCalling=!1;a.tryToSearchAndExecute=function(b,d,c,e,f,h){var k=[],r=!0,s;for(s in c)if(92==s.charCodeAt(0)){var u=s.substring(1).split("\\");u.length==e.length&&(k[k.length]=u);r=!1}else if(r&&"funParams"==s&&null!=c.funParams){s=c.funParams;u=s.substring(1).split("\\");u.length==e.length&&(k[0]=u);break}if(0==k.length)return new a.MethodException;s=a.searchMethod(k,e);if(null!=s){k=
r?c:c["\\"+s];if(e.hasCastedNull)for(r=[],s=0;s<f.length;s++)r[s]=f[s]instanceof a.CastedNull?null:f[s];else r=f;if(a.tracingCalling){u=arguments.callee.caller;u=u=u.arguments.callee.caller;if(s="construct"==k.exName&&0<=a.getInheritedLevel(k.exClazz,Throwable)&&!a._initializingException){a._initializingException=!0;var w=u.arguments.callee.caller.arguments.callee.caller,x=w.arguments.callee,y=x.claxxReference;null==y&&(y=x.exClazz);null==y&&(y=x.claxxOwner);a.pu$hCalling(new a.callingStack(w,y))}if(w=
u!==a.instantialize&&u!==a.superCall)x=u.arguments.callee,y=x.claxxReference,null==y&&(y=x.exClazz),null==y&&(y=x.claxxOwner),a.pu$hCalling(new a.callingStack(u,y));h.lastMethod=k;k=k.apply(d,r);w&&a.p0pCalling();s&&a.p0pCalling();return k}h.lastMethod=k;return k.apply(d,r)}return new a.MethodException};a._initializingException=!1;a.searchMethod=function(b,d){for(var c=[],e=0;e<b.length;e++){for(var f=[],h=!0,k=0;k<b[e].length;k++)if(f[k]=a.getInheritedLevel(d[k],b[e][k]),0>f[k]){h=!1;break}h&&(f[d.length]=
e,c[c.length]=f)}if(0==c.length)return null;f=c[0];for(e=1;e<c.length;e++){h=!0;for(k=0;k<d.length;k++)if(f[k]<c[e][k]){h=!1;break}h&&(f=c[e])}return b[f[d.length]].join("\\")};a.generateDelegatingMethod=function(a,d){var c=function(){var a=arguments;return SAEM(this,a.callee.claxxReference,a.callee.methodName,a)};c.methodName=d;c.claxxReference=a;return c};SAEM=a.searchAndExecuteMethod;a.expExpandParameters=function(a,d){return"N"==d?"Number":"B"==d?"Boolean":"S"==d?"String":"O"==d?"Object":"A"==
d?"Array":"Unknown"};a.formatParameters=function(b){return null==b||0==b.length?"\\void":b.replace(/~([NABSO])/g,a.expExpandParameters).replace(/\s+/g,"").replace(/^|,/g,"\\").replace(/\$/g,"org.eclipse.s")};a.overrideMethod=function(b,d,c,e){a.assureInnerClass&&a.assureInnerClass(b,c);c.exName=d;e=a.formatParameters(e);c.funParams=e;c.claxxOwner=b;return a.getSignature(b.prototype,d,c,!0)};a.defineMethod=function(b,d,c,e){a.assureInnerClass&&a.assureInnerClass(b,c);c.exName=d;e=a.formatParameters(e);
var f=b.prototype,h=a.getSignature(f,d,c,!1);if(null==h||h.claxxOwner===b&&h.funParams==e)return c.funParams=e,c.claxxOwner=b,c.exClazz=b,a.getSignature(f,d,c,!0);var k=null,r=[];null==h.stacks?(k=h,null!=h.claxxOwner&&(r[0]=k.claxxOwner)):r=h.stacks;if(null==h.stacks||h.claxxReference!==b){h=a.getSignature(f,d,a.generateDelegatingMethod(b,d,h),!0);f=[];for(d=0;d<r.length;d++)f[d]=r[d];h.stacks=f}r=h.stacks;if(0==r.length)r[0]=b;else{f=!1;for(d=r.length-1;0<=d;d--)if(r[d]===b){f=!0;break}f||(r[r.length]=
b)}null!=k&&(k.claxxOwner===b?(h[k.funParams]=k,k.claxxOwner=null,k.funParams=null):null==k.claxxOwner&&(h["\\unknown"]=k));c.exClazz=b;h[e]=c;return h};a.makeConstructor=function(b,d,c){a.defineMethod(b,"construct",d,c);null!=b.con$truct&&(b.con$truct.index=b.con$truct.stacks.length)};a.overrideConstructor=function(b,d,c){a.overrideMethod(b,"construct",d,c);null!=b.con$truct&&(b.con$truct.index=b.con$truct.stacks.length)};a.allPackage={};a.allClasses={};a.lastPackageName=null;a.lastPackage=null;
a.unloadedClasses=[];a.isClassUnloaded=function(b){b=a.getClassName(b,!0);return null!=a.unloadedClasses[b]};a.declarePackage=function(b){if(a.lastPackageName==b)return a.lastPackage;if(null!=b&&0!=b.length){for(var d=b.split(/\./),c=a.allPackage,e=0;e<d.length;e++)null==c[d[e]]&&(c[d[e]]={__PKG_NAME__:null!=c.__PKG_NAME__?c.__PKG_NAME__+"."+d[e]:d[e]},0==e&&a.setGlobal(d[e],c[d[e]])),c=c[d[e]];a.lastPackageName=b;return a.lastPackage=c}};a.evalType=function(b,d){var c=b.lastIndexOf(".");if(-1!=c){var e=
b.substring(0,c),e=a.declarePackage(e),c=b.substring(c+1);return e[c]}return d?window[b]:"number"==b?Number:"object"==b?a._O:"string"==b?String:"boolean"==b?Boolean:"function"==b?Function:"void"==b||"undefined"==b||"unknown"==b?b:"NullObject"==b?NullObject:window[b]};a.defineType=function(b,d,c,e){var f=a.unloadedClasses[b];null!=f&&(d=f);f=b.lastIndexOf(".");if(-1!=f){var h=b.substring(0,f),h=a.declarePackage(h),f=b.substring(f+1);if(null!=h[f])return h[f];h[f]=d}else{if(null!=window[b])return window[b];
a.setGlobal(b,d)}a.decorateAsType(d,b,c,e);b=a._innerFunctions;d.defineMethod=b.defineMethod;d.defineStaticMethod=b.defineStaticMethod;d.makeConstructor=b.makeConstructor;return d};a.isSafari=-1!=navigator.userAgent.indexOf("Safari");a.isSafari4Plus=!1;if(a.isSafari){var k=navigator.userAgent,c=k.indexOf("Version/");-1!=c&&(k=k.substring(c+8),k=parseFloat(k),a.isSafari4Plus=4<=k)}a.instantialize=function(b,d){if(!(null!=d&&1==d.length&&null!=d[0]&&d[0]instanceof a.args4InheritClass)){b instanceof
Number&&(b.valueOf=function(){return this});if(a.isSafari4Plus){for(var c=[],e=0;e<d.length;e++)c[e]=d[e];d=c}c=b.construct;null!=c?null==b.con$truct?c.apply(b,d):null==b.getClass().superClazz?(b.con$truct.apply(b,[]),c.apply(b,d)):null!=c.claxxOwner&&c.claxxOwner===b.getClass()||null!=c.stacks&&c.stacks[c.stacks.length-1]==b.getClass()?c.apply(b,d):(null!=c.claxxOwner&&null==c.claxxOwner.superClazz&&null!=c.claxxOwner.con$truct?c.claxxOwner.con$truct.apply(b,[]):null!=c.stacks&&1==c.stacks.length&&
null==c.stacks[0].superClazz&&c.stacks[0].con$truct.apply(b,[]),c.apply(b,d),b.con$truct.apply(b,[])):null!=b.con$truct&&b.con$truct.apply(b,[])}};a.innerFunctionNames="equals hashCode getName getClassLoader getResource getResourceAsStream defineMethod defineStaticMethod makeConstructor".split(" ");a._innerFunctions={equals:function(a){return this===a},hashCode:function(){return this.getName().hashCode()},toString:function(){return"class "+this.getName()},getName:function(){return a.getClassName(this,
!0)},getClassLoader:function(){var b=this.__CLASS_NAME__,d=a._Loader.getClasspathFor(b),c=d.lastIndexOf(b.replace(/\./g,"/")),d=-1!=c?d.substring(0,c):a._Loader.getClasspathFor(b,!0),b=a._Loader.requireLoaderByBase(d);b.getResourceAsStream=a._innerFunctions.getResourceAsStream;b.getResource=a._innerFunctions.getResource;return b},getResource:function(a){return this.getResourceAsStream(a).url},getResourceAsStream:function(b){var d=null;if(null==b)return d;null!=java.io.InputStream?d=new java.io.InputStream:
(d=new a._O,d.__CLASS_NAME__="java.io.InputStream",d.close=NullObject);d.read=function(){return 0};b=b.replace(/\\/g,"/");var c=null,e=this.__CLASS_NAME__;2==arguments.length&&0!=b.indexOf("/")&&(b="/"+b);if(0==b.indexOf("/"))if(2==arguments.length?(c=arguments[1],null==c&&(c=a._Loader.binaryFolders[0])):null!=a._Loader&&(c=a._Loader.getClasspathFor(e,!0)),null==c||0==c.length)d.url=b.substring(1);else{var c=c.replace(/\\/g,"/"),f=c.length,f=c.charAt(f-1);"/"!=f&&(c+="/");d.url=c+b.substring(1)}else{if(null!=
this.base)c=this.base;else if(null!=a._Loader)if(c=a._Loader.getClasspathFor(e),f=c.lastIndexOf(e.replace(/\./g,"/")),-1!=f)c=c.substring(0,f);else if(f=-1,c.indexOf(".z.js")==c.length-5&&-1!=(f=c.lastIndexOf("/")))for(var c=c.substring(0,f+1),f=e.split(/\./),h=1;h<f.length;h++){for(var k="/",r=0;r<h;r++)k+=f[r]+"/";if(k.length>c.length)break;if(c.indexOf(k)==c.length-k.length){c=c.substring(0,c.length-k.length+1);break}}else c=a._Loader.getClasspathFor(e,!0);else f=a.binaryFolders,null!=f&&0!=f.length&&
(c=f[0]);if(null==c||0==c.length)c="j2s/";c=c.replace(/\\/g,"/");f=c.length;f=c.charAt(f-1);"/"!=f&&(c+="/");null!=this.base?d.url=c+b:(f=e.lastIndexOf("."),d.url=-1==f||null!=this.base?c+b:c+e.substring(0,f).replace(/\./g,"/")+"/"+b)}return d},defineMethod:function(b,d,c){a.defineMethod(this,b,d,c)},defineStaticMethod:function(b,d,c){a.defineMethod(this,b,d,c);this[b]=this.prototype[b]},makeConstructor:function(b,d){a.makeConstructor(this,b,d)}};a.decorateFunction=function(b,d,c){null!=a._Loader&&
a._Loader.checkInteractive();var e=null;null==d?(e=c,a.setGlobal(c,b)):null!=d.__PKG_NAME__?(e=d.__PKG_NAME__+"."+c,d[c]=b,d===java.lang&&a.setGlobal(c,b)):(e=d.__CLASS_NAME__+"."+c,d[c]=b);a.extendJO(b,e);d=a.innerFunctionNames;for(c=0;c<d.length;c++)b[d[c]]=a._innerFunctions[d[c]];null!=a._Loader&&(b=a._Loader.findClass(e),null!=b&&b.status==a._Node.STATUS_KNOWN&&window.setTimeout(function(b){return function(){a._Loader.updateNode(b)}}(b),1))};a.currentPath="";a.declareInterface=function(b,d,c){var e=
function(){};a.decorateFunction(e,b,d,"Clazz.declareInterface");null!=c&&a.implementOf(e,c);return e};a.decorateAsClass=function(b,d,c,e,f,h,k){var r=null;null!=d&&(r=d.__PKG_NAME__,null==r&&(r=d.__CLASS_NAME__));r=a.unloadedClasses[(null==r?"":r+".")+c];null!=r&&(b=r);a.decorateFunction(b,d,c,k+"...Clazz.decorateAsClass");null!=h?a.inheritClass(b,e,h):null!=e&&a.inheritClass(b,e);null!=f&&a.implementOf(b,f);return b};a.declareType=function(b,d,c,e,f){return a.decorateAsClass(function(){a.instantialize(this,
arguments)},b,d,c,e,f,"Clazz.declareType")};a.declareAnonymous=function(b,d,c,e,f){return a.decorateAsClass(function(){a.prepareCallback(this,arguments);a.instantialize(this,arguments)},b,d,c,e,f,"Clazz.declareAnonymous")};a.decorateAsType=function(b,d,c,e,f,h){a.extendJO(b,d);b.equals=a._innerFunctions.equals;b.getName=a._innerFunctions.getName;if(h)for(d=0;d<a.innerFunctionNames.length;d++)h=a.innerFunctionNames[d],b[h]=a._innerFunctions[h];null!=f?a.inheritClass(b,c,f):null!=c&&a.inheritClass(b,
c);null!=e&&a.implementOf(b,e);return b};a._ex_reg=function(a,d,c){c||(c="[^\\s]+");var e=a.indexOf(d);a=a.substring(0,e)+c+a.substring(e+d.length);return RegExp("^"+a+"$")};try{null.hello()}catch(f){/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)?(k=f.message.indexOf(":"),c=f.message.indexOf(":",k+2),a._NPEMsgFragment=f.message.substr(k+1,c-k-20),a._isNPEExceptionPredicate=function(b){return-1!=b.message.indexOf(a._NPEMsgFragment)}):-1!=navigator.userAgent.toLowerCase().indexOf("webkit")?(a._exceptionNPERegExp=
a._ex_reg(f.message,"hello"),a._isNPEExceptionPredicate=function(b){return a._exceptionNPERegExp.test(b.message)}):(a._exceptionNPERegExp=a._ex_reg(f.message,"$$o$$"),a._isNPEExceptionPredicate=function(b){return a._exceptionNPERegExp.test(b.message)})}a.exceptionOf=function(b,d){return b.__CLASS_NAME__?a.instanceOf(b,d):d==Error?(0<=(""+b).indexOf("Error")&&System.out.println(a.getStackTrace()),0<=(""+b).indexOf("Error")):d==Exception||d==Throwable||d==NullPointerException&&a._isNPEExceptionPredicate(b)};
a.getStackTrace=function(a){var d="\n";a||(a=25);for(var c=arguments.callee.caller,e=0;e<a&&c;e++)d+=e+" "+(c.exName?(c.claxxOwner?c.claxxOwner.__CLASS_NAME__+".":"")+c.exName:c.toString?c.toString().substring(0,c.toString().indexOf("{")):"<native method>")+"\n",c=c.caller;return d};Number.prototype._numberToString=Number.prototype.toString;a.declarePackage("java.io");a.declarePackage("java.lang.annotation");a.declarePackage("java.lang.instrument");a.declarePackage("java.lang.management");a.declarePackage("java.lang.reflect");
a.declarePackage("java.lang.ref");java.lang.ref.reflect=java.lang.reflect;a.declarePackage("java.util");a.declareInterface(java.io,"Closeable");a.declareInterface(java.io,"DataInput");a.declareInterface(java.io,"DataOutput");a.declareInterface(java.io,"Externalizable");a.declareInterface(java.io,"Flushable");a.declareInterface(java.io,"Serializable");a.declareInterface(java.lang,"Iterable");a.declareInterface(java.lang,"CharSequence");a.declareInterface(java.lang,"Cloneable");a.declareInterface(java.lang,
"Appendable");a.declareInterface(java.lang,"Comparable");a.declareInterface(java.lang,"Runnable");a.declareInterface(java.util,"Comparator");java.lang.ClassLoader={__CLASS_NAME__:"ClassLoader"};if(null!=window.Clazz&&null==window.Clazz.unloadClass){a.MethodNotFoundException=function(b,d,c,e){b="";null!=e&&(b=e.substring(1).replace(/\\/g,","));this.message=(null!=c&&"construct"!=c?"Method":"Constructor")+" "+a.getClassName(d,!0)+"."+c+"("+b+") is not found!";this.toString=function(){return"MethodNotFoundException:"+
this.message}};a.prepareCallback=function(b,d){var c=d[0];if(null!=b&&null!=c&&c!==window){var e=[];if(null!=b.b$)for(var f in b.b$)"length"!=f&&(e[f]=b.b$[f]);b.b$=e;var h=a.getClassName(c,!0);e[h.replace(/org\.eclipse\.swt\./,"$wt.")]=c;for(h=a.getClass(c);null!=h.superClazz;)h=h.superClazz,e[a.getClassName(h,!0).replace(/org\.eclipse\.swt\./,"$wt.")]=c;c=c.b$;if(null!=c&&c instanceof Array)for(f in c)"length"!=f&&(e[f]=c[f])}for(e=0;e<d.length-1;e++)d[e]=d[e+1];d.length--};a.innerTypeInstance=
function(b,d,c){null==b&&(b=arguments.callee.caller);var e=null;if(null==c&&null==d.$finals)if(3==arguments.length)e=new b(d);else if(4==arguments.length)e=d.__CLASS_NAME__==b.__CLASS_NAME__&&arguments[3]===a.inheritArgs?d:new b(d,arguments[3]);else if(5==arguments.length)e=new b(d,arguments[3],arguments[4]);else if(6==arguments.length)e=new b(d,arguments[3],arguments[4],arguments[5]);else if(7==arguments.length)e=new b(d,arguments[3],arguments[4],arguments[5],arguments[6]);else if(8==arguments.length)e=
new b(d,arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);else if(9==arguments.length)e=new b(d,arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);else if(10==arguments.length)e=new b(d,arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);else{for(var e=new b(d,a.inheritArgs),f=[],h=3;h<arguments.length;h++)f[h-3]=arguments[h];a.instantialize(e,f)}else{e=new b(d,a.inheritArgs);if(null!=c&&null==d.f$)e.f$=c;else if(null==
c&&null!=d.f$)e.f$=d.f$;else if(null!=c&&null!=d.f$){f={};for(h in d.f$)f[h]=d.f$[h];for(h in c)f[h]=c[h];e.f$=f}f=[];for(h=3;h<arguments.length;h++)f[h-3]=arguments[h];a.instantialize(e,f)}return e};a.cloneFinals=function(){for(var a={},d=arguments.length/2,c=0;c<d;c++)a[arguments[c+c]]=arguments[c+c+1];return a};a.isClassDefined=a.isDefinedClass=function(b){if(null!=b&&0!=b.length){if(a.allClasses[b])return!0;for(var d=b.split(/\./),c=null,e=0;e<d.length;e++)if(null==c){if(null==a.allPackage[d[0]])return!1;
c=a.allPackage[d[0]]}else{if(null==c[d[e]])return!1;c=c[d[e]]}if(null!=c)return a.allClasses[b]=!0}return!1};a.defineEnumConstant=function(b,d,c,e,f){var h=null,h=null!=f?new f:new b;a.superConstructor(h,b,[d,c]);null!=e&&0!=e.length&&h.construct.apply(h,e);b[d]=h;b.prototype[d]=h;null==b["$ values"]&&(b["$ values"]=[],b.values=function(){return this["$ values"]});b["$ values"].push(h);return h};a.floatToInt=function(a){return 0>a?Math.ceil(a):Math.floor(a)};a.floatToByte=a.floatToShort=a.floatToLong=
a.floatToInt;a.doubleToByte=a.doubleToShort=a.doubleToLong=a.doubleToInt=a.floatToInt;a.floatToChar=function(a){return String.fromCharCode(0>a?Math.ceil(a):Math.floor(a))};a.doubleToChar=a.floatToChar;self.Int32Array&&self.Int32Array!=Array?(a.haveInt32=!0,Int32Array.prototype.sort||(Int32Array.prototype.sort=Array.prototype.sort)):(Int32Array=function(a){a||(a=0);var d=Array(a);d.toString=function(){return"[object Int32Array]"};for(var c=0;c<a;c++)d[c]=0;return d},a.haveInt32=!1,Int32Array.prototype.sort=
Array.prototype.sort,Int32Array.prototype.int32Fake=function(){});self.Float64Array&&self.Float64Array!=Array?(a.haveFloat64=!0,Float64Array.prototype.sort||(Float64Array.prototype.sort=Array.prototype.sort)):(a.haveFloat64=!1,Float64Array=function(a){a||(a=0);for(var d=Array(a),c=0;c<a;c++)d[c]=0;return d},Float64Array.prototype.sort=Array.prototype.sort,Float64Array.prototype.float64Fake=function(){},Float64Array.prototype.toString=function(){return"[object Float64Array]"});a.newArray=function(){if(arguments[0]instanceof
Array)var b=arguments[0],d=arguments[1];else b=arguments,d=Array;if(1>=b.length)return[];var c=b[0];"string"==typeof c&&(c=c.charCodeAt(0));var e=b.length-1,f=b[e];if(2==b.length){if(null==f)return Array(c);if(!0===d&&a.haveInt32)return new Int32Array(c);if(!1===d&&a.haveFloat64)return new Float64Array(c);if(d==Array&&null==f)return Array(c);for(var b=!0===d?new Int32Array:!1===d?new Float64Array:Array(c),h=c;0<=--h;)b[h]=f;return b}for(var k=Array(e),h=0;h<e;h++)k[h]=b[h+1];b=Array(c);if(null==f||
0<=f||2<e)for(h=0;h<c;h++)b[h]=a.newArray(k,d);return b};a.newArray32=function(b,d){var c=b[0];"string"==typeof c&&(c=c.charCodeAt(0));var e=b.length-1,f=b[e];switch(b.length){case 0:case 1:return alert("ERROR IN newArray32 -- args length < 2"),[];case 2:if(0>f)return Array(c);try{return d?new Int32Array(c):new Float64Array(c)}catch(h){alert(c+" "+arguments.callee.caller.arguments.callee.caller+h)}}for(f=Array(e);0<=--e;)f[e]=b[e+1];for(var k=Array(c),e=0;e<c;e++)k[e]=a.newArray(f,d);return k};a.newInt32Array=
function(){return a.newArray32(arguments,!0)};a.newFloat64Array=function(){return a.newArray32(arguments,!1)};a.newFloatArray=a.newDoubleArray=a.newFloat64Array;a.newIntArray=a.newLongArray=a.newShortArray=a.newByteArray=a.newInt32Array;a.newCharArray=a.newBooleanArray=a.newArray;a.arrayIs=function(a,d){return a.constructor&&a.constructor!=Number&&0<=a.constructor.toString().indexOf(d)};a.isAS=function(b){return b&&"object"==typeof b&&a.arrayIs(b," Array")&&("string"==typeof b[0]||"undefined"==typeof b[0])};
a.isASS=function(b){return b&&"object"==typeof b&&a.isAS(b[0])};a.isAP=function(b){return b&&"J.util.Point3f"==a.getClassName(b[0])};a.isAI=function(b){return b&&"object"==typeof b&&(a.haveInt32?a.arrayIs(b,"Int32Array"):b.int32Fake?!0:!1)};a.isAII=function(b){return b&&"object"==typeof b&&a.isAI(b[0])};a.isAF=function(b){return b&&"object"==typeof b&&(a.haveFloat64?a.arrayIs(b,"Float64Array"):b.float64Fake?!0:!1)};a.isAFF=function(b){return b&&"object"==typeof b&&a.isAF(b[0])};a.isAFFF=function(b){return b&&
"object"==typeof b&&a.isAFF(b[0])};a.isAFloat=function(b){return b&&"object"==typeof b&&a.arrayIs(b," Array")&&a.instanceOf(b[0],Float)};a.makeFunction=function(a){return function(d){null==d&&(d=window.event);null!=a.setEvent&&a.setEvent(d);a.run();if(1==a.returnSet)return a.returnNumber;if(2==a.returnSet)return a.returnBoolean;if(3==a.returnSet)return a.returnObject}};a.defineStatics=function(a){for(var d=arguments.length,c=(d-1)/2;0<=--c;){var e=arguments[--d],f=arguments[--d];a[f]=a.prototype[f]=
e}};a.prepareFields=function(b,d){var c=[];if(null!=b.con$truct)for(var e=b.con$truct.stacks,f=0;f<e.length;f++)c[f]=e[f];a.addProto(b.prototype,"con$truct",b.con$truct=function(){var a=arguments.callee.stacks;if(null!=a)for(var b=0;b<a.length;b++)a[b].apply(this,[])});c[c.length]=d;b.con$truct.stacks=c;b.con$truct.index=0};a.registerSerializableFields=function(a){var d=arguments,c=d.length,e=[];if(null!=a.declared$Fields)for(var f=0;f<a.declared$Fields.length;f++)e[f]=a.declared$Fields[f];a.declared$Fields=
e;if(0<c&&1==c%2)for(e=a.declared$Fields,f=1;f<=(c-1)/2;f++){for(var h={name:d[f+f-1],type:d[f+f]},k=!1,r=0;r<e.length;r++)if(e[r].name==h.name){e[r].type=h.type;k=!0;break}k||(e[e.length]=h)}};a.getMixedCallerMethod=function(b){var d={};b=b.callee.caller;if(null==b||b!==a.tryToSearchAndExecute&&(b=b.arguments.callee.caller,null==b)||b!==a.tryToSearchAndExecute)return null;b=b.arguments.callee.caller;if(null==b||b!==a.searchAndExecuteMethod)return null;d.claxxRef=b.arguments[1];d.fxName=b.arguments[2];
d.paramTypes=a.getParamsType(b.arguments[3]);b=b.arguments.callee.caller;if(null==b)return null;b=b.arguments.callee.caller;if(null==b)return null;d.caller=b;return d};c$=null;a.cStack=[];a.pu$h=function(b){b&&a.cStack.push(b)};a.p0p=function(){return a.cStack.pop()};a.tracingCalling=!1;a._initializingException=!1;a.callingStack=function(a,d){this.caller=a;this.owner=d};a._callingStackTraces=[];a.pu$hCalling=function(b){a._callingStackTraces[a._callingStackTraces.length]=b};a.p0pCalling=function(){var b=
a._callingStackTraces.length;return 0<b?(b=a._callingStackTraces[b-1],a._callingStackTraces.length--,b):null};a.load=function(a,d,c,e){null!=e&&e();delete c$};java.lang.Object=a._O;a._O.getName=a._innerFunctions.getName;System={props:null,$props:{},arraycopy:function(a,d,c,e,f){if(a!==c)for(var h=0;h<f;h++)c[e+h]=a[d+h];else{for(var k=[],h=0;h<f;h++)k[h]=a[d+h];for(h=0;h<f;h++)c[e+h]=k[h]}},currentTimeMillis:function(){return(new Date).getTime()},gc:function(){},getProperties:function(){return System.props},
getProperty:function(a,d){if(System.props)return System.props.getProperty(a,d);var c=System.$props[a];return null!=c?c:1==arguments.length?null:null!=d?d:a},getSecurityManager:function(){return null},setProperties:function(a){System.props=a},setProperty:function(a,d){if(null==System.props)return System.$props[a]=d;System.props.setProperty(a,d)}};System.setProperty("line.separator",0<=navigator.userAgent.indexOf("Windows")?"\r\n":"\n");System.setProperty("os.name",navigator.userAgent);System.out=new a._O;
System.out.__CLASS_NAME__="java.io.PrintStream";System.out.print=function(){};System.out.printf=function(){};System.out.println=function(){};System.err=new a._O;System.err.__CLASS_NAME__="java.io.PrintStream";System.err.print=function(){};System.err.printf=function(){};System.err.println=function(){};a.popup=a.assert=a.log=a.error=window.alert;Thread=function(){};Thread.J2S_THREAD=Thread.prototype.J2S_THREAD=new Thread;Thread.currentThread=Thread.prototype.currentThread=function(){return this.J2S_THREAD};
a.intCast=function(a){var d=(a&4278190080)>>24,c=(a&16711680)>>16,e=(a&65280)>>8;a&=255;return 0!=(d&128)?-(((d&127)<<24)+(c<<16)+(e<<8)+a+1):(d<<24)+(c<<16)+(e<<8)+a};a.shortCast=function(){var a=(n&65280)>>8,d=n&255;return 0!=(a&128)?-(((a&127)<<8)+d+1):(a<<8)+b4};a.byteCast=function(a){return 0!=(a&128)?-((a&127)+1):a&255};a.charCast=function(a){return String.fromCharCode(a&255).charAt(0)};a.floatCast=function(a){return a};a.longMasks=[];a.longReverseMasks=[];a.longBits=[];k=[1];for(c=1;53>c;c++)k[c]=
k[c-1]+k[c-1];a.longBits=k;a.longMasks[52]=k[52];for(c=51;0<=c;c--)a.longMasks[c]=a.longMasks[c+1]+k[c];a.longReverseMasks[0]=k[0];for(c=1;52>c;c++)a.longReverseMasks[c]=a.longReverseMasks[c-1]+k[c];a.longLeftShift=function(b,d){if(0==d)return b;if(64<=d)return 0;if(52<d)return error("[Java2Script] Error : JavaScript does not support long shift!"),b;if(0!=(b&a.longMasks[d-1]))return error("[Java2Script] Error : Such shift operator results in wrong calculation!"),b;var c=b&a.longMasks[20+d];return 0!=
c?c*a.longBits[d]+(b&a.longReverseMasks[32-d])<<0:b<<d};a.intLeftShift=function(a,d){return a<<d&4294967295};a.longRightShift=function(b,d){return 0!=(b&a.longMasks[20])?Math.round((b&a.longMasks[20])/a.longBits[32-d])+(b&a.longReverseMasks[d])>>d:b>>d};a.intRightShift=function(a,d){return a>>d};a.long0RightShift=function(a,d){return a>>>d};a.int0RightShift=function(a,d){return a>>>d};a.declarePackage("java.lang.reflect");a.declarePackage("java.security");a.innerFunctionNames=a.innerFunctionNames.concat("getSuperclass isAssignableFrom getMethods getMethod getDeclaredMethods getDeclaredMethod getConstructor getModifiers isArray newInstance".split(" "));
a._innerFunctions.getSuperclass=function(){return this.superClazz};a._innerFunctions.isAssignableFrom=function(b){return 0<=a.getInheritedLevel(b,this)};a._innerFunctions.getConstructor=function(){return new java.lang.reflect.Constructor(this,[],[],java.lang.reflect.Modifier.PUBLIC)};a._innerFunctions.getDeclaredMethods=a._innerFunctions.getMethods=function(){var a=[],d=this.prototype,c;for(c in d)"function"==typeof d[c]&&null==d[c].__CLASS_NAME__&&(a[a.length]=new java.lang.reflect.Method(this,c,
[],java.lang.Void,[],java.lang.reflect.Modifier.PUBLIC));d=this;for(c in d)"function"==typeof d[c]&&null==d[c].__CLASS_NAME__&&(a[a.length]=new java.lang.reflect.Method(this,c,[],java.lang.Void,[],java.lang.reflect.Modifier.PUBLIC|java.lang.reflect.Modifier.STATIC));return a};a._innerFunctions.getDeclaredMethod=a._innerFunctions.getMethod=function(a){var d=this.prototype,c;for(c in d)if(a==c&&"function"==typeof d[c]&&null==d[c].__CLASS_NAME__)return new java.lang.reflect.Method(this,c,[],java.lang.Void,
[],java.lang.reflect.Modifier.PUBLIC);d=this;for(c in d)if(a==c&&"function"==typeof d[c]&&null==d[c].__CLASS_NAME__)return new java.lang.reflect.Method(this,c,[],java.lang.Void,[],java.lang.reflect.Modifier.PUBLIC|java.lang.reflect.Modifier.STATIC);return null};a._innerFunctions.getModifiers=function(){return java.lang.reflect.Modifier.PUBLIC};a._innerFunctions.isArray=function(){return!1};a._innerFunctions.newInstance=function(){return new this};k=a.innerFunctionNames;for(c=0;c<k.length;c++)a._O[k[c]]=
a._innerFunctions[k[c]],Array[k[c]]=a._innerFunctions[k[c]];Array.isArray=function(){return!0};a._4Name=function(b){if(a.isClassDefined(b))return a.evalType(b);if(null!=a._Loader)return a._Loader.setLoadingMode("xhr.sync"),a._Loader.loadClass(b),a.evalType(b);a.alert("[Java2Script] Error: No ClassLoader!")};a.cleanDelegateMethod=function(a){null!=a&&"function"==typeof a&&null!=a.lastMethod&&null!=a.lastParams&&null!=a.lastClaxxRef&&(a.lastMethod=null,a.lastParams=null,a.lastClaxxRef=null)};a.unloadClass=
function(b){var d=a.evalType(b);if(null!=d){a.unloadedClasses[b]=d;for(var c=b.split(/\./),e=null,f=0;f<c.length-1;f++)e=null==e?a.allPackage[c[0]]:e[c[f]];if(null==e){a.allPackage[c[0]]=null;window[c[0]]=null;for(var h in window)0==h.indexOf(b+"$")&&(a.unloadClass(h),window[h]=null)}else for(h in e[c[c.length-1]]=null,e)0==h.indexOf(c[c.length-1]+"$")&&(a.unloadClass(e.__PKG_NAME__+"."+h),e[h]=null);if(!0==a.allClasses[b])for(h in a.allClasses[b]=!1,a.allClasses)0==h.indexOf(b+"$")&&(a.allClasses[h]=
!1);for(var k in d)a.cleanDelegateMethod(d[k]);for(k in d.prototype)a.cleanDelegateMethod(d.prototype[k]);null!=a._Loader&&a._Loader.unloadClassExt(b);return!0}return!1}}a._Loader=function(){};a._Node=function(){a._Loader.initNode(this)};(function(a,d,c){d.initNode=function(a){a.parents=[];a.musts=[];a.optionals=[];a.declaration=null;a.name=null;a.path=null;a.status=0;a.random=.13412;a.optionalsLoaded=null};c.prototype.toString=function(){return this.name||this.path||"ClazzNode"};c.STATUS_UNKNOWN=
0;c.STATUS_KNOWN=1;c.STATUS_CONTENT_LOADED=2;c.STATUS_MUSTS_LOADED=3;c.STATUS_DECLARED=4;c.STATUS_OPTIONALS_LOADED=5;d.loaders=[];d.requireLoaderByBase=function(a){for(var b=0;b<d.loaders.length;b++)if(d.loaders[b].base==a)return d.loaders[b];b=new d;b.base=a;return d.loaders[d.loaders.length]=b};d.clazzTreeRoot=new c;d.loadedScripts={};d.inLoadingThreads=0;d.maxLoadingThreads=6;d.userAgent=navigator.userAgent.toLowerCase();d.isOpera=-1!=d.userAgent.indexOf("opera");d.isIE=-1!=d.userAgent.indexOf("msie")&&
!d.isOpera;d.isGecko=-1!=d.userAgent.indexOf("gecko");if(d.isOpera){d.maxLoadingThreads=1;var e=d.userAgent.indexOf("opera/");if(-1!=e){var f=9;try{f=parseFloat(d.userAgent.subString(e+6))}catch(h){}9.6<=f&&(d.maxLoadingThreads=6)}}null!=window.Clazz&&a.isClassDefined?d.isClassDefined=a.isClassDefined:(d.definedClasses={},d.isClassDefined=function(a){return!0==d.definedClasses[a]});d.isAsynchronousLoading=!0;d.isUsingXMLHttpRequest=!1;d.loadingTimeLag=-1;d.setLoadingMode=function(a,b){null!=a&&("string"==
typeof a?(a=a.toLowerCase(),0==a.length||-1!=a.indexOf("script")?(d.isUsingXMLHttpRequest=!1,d.isAsynchronousLoading=!0):(d.isUsingXMLHttpRequest=!0,d.isAsynchronousLoading=-1!=a.indexOf("async")?!0:!1),d.isAsynchronousLoading=!1):a==d.MODE_SCRIPT?(d.isUsingXMLHttpRequest=!1,d.isAsynchronousLoading=!0):(d.isUsingXMLHttpRequest=!0,d.isAsynchronousLoading=a==d.MODE_XHR_ASYNC?!0:!1));d.loadingTimeLag=d.isAsynchronousLoading&&0<=b?b:-1};d.MODE_SCRIPT=0;d.MODE_SCRIPT_ASYNC=0;d.MODE_XHR=3;d.MODE_XHR_SYNC=
3;d.MODE_XHR_ASYNC=1;d.unwrapArray=function(a){if(null==a||0==a.length)return a;for(var b=null,d=0;d<a.length;d++)if(null!=a[d]){if("$"==a[d].charAt(0))if("."==a[d].charAt(1)){if(null==b)continue;var c=b.lastIndexOf(".");-1!=c&&(b=b.substring(0,c),a[d]=b+a[d].substring(1))}else a[d]="org.eclipse.s"+a[d].substring(1);b=a[d]}return a};d.classQueue=[];d.classpathMap={};d.packageClasspath=function(a,b,c){var e=d.classpathMap,g=!0==c&&null!=e["@"+a];c&&null==e["@java"]&&0!=a.indexOf("java")&&d.assurePackageClasspath("java");
if(a instanceof Array)for(d.unwrapArray(a),e=0;e<a.length;e++)d.packageClasspath(a[e],b,c);else{if("java"==a||"java.*"==a){var f="@net.sf.j2s.ajax";null==e[f]&&null!=b&&(e[f]=b);f="@net.sf.j2s";null==e[f]&&null!=b&&(e[f]=b)}else"swt"==a?a="org.eclipse.swt":"ajax"==a?a="net.sf.j2s.ajax":"j2s"==a&&(a="net.sf.j2s");a.lastIndexOf(".*")==a.length-2&&(a=a.substring(0,a.length-2));null!=b&&(e["@"+a]=b);!0==c&&!0!=window[a+".registered"]&&!g&&(d.pkgRefCount++,"java"==a&&(a="core"),d.loadClass(a+".package",
function(){d.pkgRefCount--;0==d.pkgRefCount&&d.runtimeLoaded()},!0))}};d.pkgRefCount=0;d.jarClasspath=function(a,b){b instanceof Array||(b=[classes]);d.unwrapArray(b);for(var c=0;c<b.length;c++)d.classpathMap["#"+b[c]]=a;d.classpathMap["$"+a]=b};d.registerPackages=function(c,e){d.checkInteractive();for(var g=d.getClasspathFor(c+".*",!0),f=0;f<e.length;f++)null!=window.Clazz&&a.declarePackage(c+"."+e[f]),d.packageClasspath(c+"."+e[f],g)};d.multipleSites=function(a){var b=window["j2s.update.delta"];
if(null!=b&&b instanceof Array&&3<=b.length)for(var c=null,e=null,g=0;g<b.length/3;g++){var f=b[g+g+g];"$"!=f&&(c=f);f=b[g+g+g+1];"$"!=f&&(e=f);var f=b[g+g+g+2],h=c+"/"+f,k=a.indexOf(h);if(-1!=k&&k==a.length-h.length){a=a.substring(0,k)+e+"/"+f;break}}b=a.length;return 1<d.maxLoadingThreads&&(15<b&&"http://archive."==a.substring(0,15)||9<b&&"http://a."==a.substring(0,9))&&(c=a.lastIndexOf("/"),c<b-3)?(e=a.charCodeAt(c+1),g=a.charCodeAt(c+2),k=3*(b-c)+5*e+7*g,a.substring(0,7)+"aeiouy".split("")[k%
6]+a.substring(8)):a};d.getClasspathFor=function(a,b,c){var e=d.classpathMap["#"+a],g=null;if(null!=e){if(!b&&null==c)return d.multipleSites(e);var f=e.lastIndexOf(a.replace(/\./g,"/"));-1!=f?g=e.substring(0,f):(f=a.lastIndexOf("."),-1!=f&&(f=e.lastIndexOf(a.substring(0,f).replace(/\./g,"/")),-1!=f&&(g=e.substring(0,f))))}else for(f=a.lastIndexOf(".");-1!=f;){e=a.substring(0,f);g=d.classpathMap["@"+e];if(null!=g)break;f=a.lastIndexOf(".",f-2)}g=d.assureBase(g);if(b)return d.multipleSites(g);if(a.lastIndexOf(".*")==
a.length-2)return a=g+a.substring(0,f+1).replace(/\./g,"/"),d.multipleSites(a);null==c?c=".js":"."!=c.charAt(0)&&(c="."+c);a=g+a.replace(/\./g,"/")+c;return d.multipleSites(a)};d.assureBase=function(c){null==c&&(c=null!=window.Clazz&&null!=a.binaryFolders&&0!=a.binaryFolders.length?a.binaryFolders[0]:null!=d.binaryFolders&&0!=d.binaryFolders.length?d.binaryFolders[0]:"j2s");c.lastIndexOf("/")!=c.length-1&&(c+="/");return c};d.excludeClassMap={};d.ignore=function(){var a=null;1==arguments.length&&
arguments[0]instanceof Array&&(a=arguments[0]);if(null==a)for(var a=[],b=0;b<arguments.length;b++)a[a.length]=arguments[b];d.unwrapArray(a);for(b=0;b<a.length;b++)d.excludeClassMap["@"+a[b]]=!0};d.isClassExcluded=function(a){return!0==d.excludeClassMap["@"+a]};d.scriptLoading=function(){};d.scriptLoaded=function(){};d.scriptInited=function(){};d.scriptCompleted=function(){};d.classUnloaded=function(){};d.classReloaded=function(){};d.globalLoaded=function(){};d.keepOnLoading=!0;d.mapPath2ClassNode=
{};d.xhrOnload=function(c,e){if(400<=c.status||null==c.responseText||0==c.responseText.length){a.alert("xhronload error"+c.responseText);var g=d.failedScripts;null==g[e]?(g[e]=1,d.loadedScripts[e]=!1,d.loadScript(e,"xhrOnload 2nd try")):(a.alert("[Java2Script] ClazzLoader.xhrOnload Error in loading "+e+"!"),d.tryToLoadNext(e))}else d.evaluate(e,c.responseText)};d.evaluate=function(c,e){try{eval(e)}catch(g){var f="[Java2Script] Script error: "+g.message+" \n"+c+"\n\n"+e;alert(f);a.alert(f);throw g;
}d.scriptLoaded(c);d.tryToLoadNext(c)};d.emptyOnRSC=function(){};d.failedScripts={};d.failedHandles={};d.takeAnotherTry=!0;d.generateRemovingFunction=function(a){return function(){if("interactive"!=a.readyState){try{null!=a.parentNode&&a.parentNode.removeChild(a)}catch(b){}a=null}}};d.removeScriptNode=function(a){window["j2s.script.debugging"]||window.setTimeout(d.generateRemovingFunction(a),1)};d.generatingXHROnload=function(a,b){return function(){d.xhrOnload(a,b);b=a=null}};d.generatingXHRCallback=
function(a,b){return function(){if(4==a.readyState){0<d.inLoadingThreads&&d.inLoadingThreads--;var c=d.generatingXHROnload(a,b);isActiveX?(a.onreadystatechange=d.emptyOnRSC,window.setTimeout(c,0>d.loadingTimeLag?0:d.loadingTimeLag)):(a.onreadystatechange=null,0<=d.loadingTimeLag?window.setTimeout(c,d.loadingTimeLag):d.xhrOnload(a,b));b=a=null}}};d.loadingNextByPath=function(a){0<=d.loadingTimeLag?window.setTimeout(function(){d.tryToLoadNext(a)},d.loadingTimeLag):d.tryToLoadNext(a)};d.ieToLoadScriptAgain=
function(a,b){return window.setTimeout(function(){d.takeAnotherTry&&(d.failedScripts[a]=0,d.loadedScripts[a]=!1,0<d.inLoadingThreads&&d.inLoadingThreads--,d.loadScript(a,"ietoloadscriptAgain"))},b?500:15E3)};d.w3cFailedLoadingTest=function(a){return window.setTimeout(function(){a.onerror();a=a.timeoutHandle=null},500)};d.generatingW3CScriptOnCallback=function(c,e){return function(){e&&a.__debuggingBH&&a.alert("############ forError="+e+" path="+c+" ####"+(e?"NOT":"")+"LOADED###");d.isGecko&&null!=
this.timeoutHandle&&(window.clearTimeout(this.timeoutHandle),this.timeoutHandle=null);0<d.inLoadingThreads&&d.inLoadingThreads--;this.onerror=this.onload=null;if(e){var g=d.failedScripts;if(null==g[c]&&d.takeAnotherTry){g[c]=1;e||(d.innerLoadedScripts[this.src]=!1);d.loadedScripts[c]=!1;d.loadScript(c,"w3c script failed");d.removeScriptNode(this);return}e&&d.scriptLoaded(c)}else d.scriptLoaded(c);d.loadingNextByPath(c);d.removeScriptNode(this)}};d.generatingIEScriptOnCallback=function(c){return function(){var e=
d.failedHandles,g=d.failedScripts,f=""+this.readyState,h="loading"==f&&(0==this.src.indexOf("file:")||"file:"==window.location.protocol&&0!=this.src.indexOf("http"));if("loaded"!=f&&"complete"!=f){if(null==g[c]){e[c]=d.ieToLoadScriptAgain(c,h);return}if(1==g[c])return}null!=e[c]&&(window.clearTimeout(e[c]),e[c]=null);if((h||"loaded"==f)&&!d.innerLoadedScripts[this.src]){if(!h&&(null==g[c]||0==g[c])&&d.takeAnotherTry){0<d.inLoadingThreads&&d.inLoadingThreads--;g[c]=1;d.loadedScripts[c]=!1;d.loadScript(c,
"local or loaded failed");d.removeScriptNode(this);return}a.alert("[Java2Script] generatingIEScriptOnCallback Error in loading "+c+"!")}0<d.inLoadingThreads&&d.inLoadingThreads--;d.scriptLoaded(c);this.onreadystatechange=null;d.loadingNextByPath(c);d.removeScriptNode(this)}};a.transport=null;d.loadScript=function(c,e,g){a.currentPath=c;g=!0==g;if(d.loadedScripts[c]&&!g)d.tryToLoadNext(c);else{d.loadedScripts[c]=!0;for(var f=d.classQueue,h=0;h<f.length;h++)if(f[h]==c){for(var k=h;k<f.length-1;k++)f[h]=
f[h+1];f.length--;break}System.out.println("loading... "+c+(e?" -- required by "+e:""));if(d.isUsingXMLHttpRequest)if(d.scriptLoading(c),d.isAsynchronousLoading){if(!a.transport){if(window.XMLHttpRequest)a.transport=new XMLHttpRequest;else try{a.transport=new ActiveXObject("Msxml2.XMLHTTP")}catch(l){a.transport=new ActiveXObject("Microsoft.XMLHTTP")}if(null==a.transport){a.alert("[Java2Script] XMLHttpRequest not supported!");return}}g=a.transport;try{g.open("GET",c,d.isAsynchronousLoading)}catch(m){alert(m+
" "+c)}g.onreadystatechange=d.generatingXHRCallback(g,c);d.inLoadingThreads++;try{g.send(null)}catch(v){a.alert("[Java2Script] Loading file error: "+v.message),d.xhrOnload(g,c)}}else self.Jmol?g=Jmol._getFileData(c):(e=jQuery.ajax({type:"GET",dataType:"text",async:!1,url:c,cached:!0}),g=e.responseText,null==g&&e.state&&(g="alert('error loading file "+c+" state="+e.state()+"')")),d.evaluate(c,g);else(e=document.createElement("SCRIPT"),e.type="text/javascript",e.src=d.isChrome&&d.reloadingClasses[c]?
c+"?"+Math.floor(1E5*Math.random()):c,f=document.getElementsByTagName("HEAD")[0],g)?f.appendChild(e):(e.defer=!0,"undefined"!=typeof e.onreadystatechange&&d.isIE?(d.needOnloadCheck=!0,e.onreadystatechange=d.generatingIEScriptOnCallback(c)):(d.isGecko&&(0==c.indexOf("file:")||"file:"==window.location.protocol&&0!=c.indexOf("http"))&&(e.timeoutHandle=d.w3cFailedLoadingTest(e)),e.onload=d.generatingW3CScriptOnCallback(c,!1),e.onerror=d.generatingW3CScriptOnCallback(c,!0),d.isOpera&&(d.needOnloadCheck=
!0)),d.inLoadingThreads++,f.appendChild(e),d.scriptLoading(c))}};d.isResourceExisted=function(a,b,d){if(null!=a&&null!=document.getElementById(a))return!0;if(null!=b){var c=b;null!=d&&0==b.indexOf(d)&&(c=b.substring(d.length));if(b.lastIndexOf(".css")==b.length-4){var e=document.getElementsByTagName("LINK");for(b=0;b<e.length;b++){var g=e[b].href;d=g.lastIndexOf(c);if(-1!=d&&d==g.length-c.length)return!0}if(!0==window["css."+a])return!0}else if(b.lastIndexOf(".js")==b.length-4)for(a=document.getElementsByTagName("SCRIPT"),
b=0;b<a.length;b++)if(e=a[b].src,d=e.lastIndexOf(c),-1!=d&&d==e.length-c.length)return!0}return!1};d.queueBe4SWT=[];d.lockQueueBe4SWT=!0;d.isLoadingEntryClass=!0;d.besidesJavaPackage=!1;d.tryToLoadNext=function(a){if(d.lockQueueBe4SWT&&0!=d.pkgRefCount&&a.lastIndexOf("package.js")!=a.length-10&&!d.isOpera){var b=d.queueBe4SWT;b[b.length]=a}else{var e=d.mapPath2ClassNode["@"+a];if(null!=e){var f=d.classpathMap["$"+a];if(null!=f)for(a=0;a<f.length;a++){var h=f[a];if(h!=e.name)if(b=d.findClass(h),null!=
b)b.status<c.STATUS_CONTENT_LOADED&&(b.status=c.STATUS_CONTENT_LOADED,d.updateNode(b));else{b=new c;b.name=h;var k=d.classpathMap["#"+h];null==k&&(alert(h),error("Java2Script implementation error! Please report this bug!"));b.path=k;d.mappingPathNameNode(b.path,h,b);b.status=c.STATUS_CONTENT_LOADED;d.addChildClassNode(d.clazzTreeRoot,b,-1);d.updateNode(b)}}if(e instanceof Array)for(a=0;a<e.length;a++)e[a].status<c.STATUS_CONTENT_LOADED&&(e[a].status=c.STATUS_CONTENT_LOADED,d.updateNode(e[a]));else if(e.status<
c.STATUS_CONTENT_LOADED){b=!1;f=document.getElementsByTagName("SCRIPT");for(a=0;a<f.length;a++)if(d.isIE){if(null!=f[a].onreadystatechange&&f[a].onreadystatechange.path==e.path&&"interactive"==f[a].readyState){b=!0;break}}else if(null!=f[a].onload&&f[a].onload.path==e.path){b=!0;break}b||(e.status=c.STATUS_CONTENT_LOADED,d.updateNode(e))}if(d.keepOnLoading){e=!1;b=d.findNextMustClass(d.clazzTreeRoot,c.STATUS_KNOWN);if(null!=b)for(d.loadClassNode(b);d.inLoadingThreads<d.maxLoadingThreads;){a=d.findNextMustClass(d.clazzTreeRoot,
c.STATUS_KNOWN);if(null==a)break;d.loadClassNode(a)}else if(f=d.classQueue,0!=f.length){b=f[0];for(a=0;a<f.length-1;a++)f[a]=f[a+1];f.length--;!d.loadedScripts[b.path]||0!=f.length||!d.isLoadingEntryClass||null!=b.musts&&0!=b.musts.length||null!=b.optionals&&0!=b.optionals.length?(d.addChildClassNode(d.clazzTreeRoot,b,1),d.loadScript(b.path,b.requiredBy)):d.isLoadingEntryClass&&(d.isLoadingEntryClass=!1)}else if(b=d.findNextOptionalClass(c.STATUS_KNOWN),null!=b)for(d.loadClassNode(b);d.inLoadingThreads<
d.maxLoadingThreads;){a=d.findNextOptionalClass(c.STATUS_KNOWN);if(null==a)break;d.loadClassNode(a)}else e=!0;if(e&&0==d.inLoadingThreads){for(;null!=(b=d.findNextMustClass(d.clazzTreeRoot,c.STATUS_CONTENT_LOADED));)d.updateNode(b);for(a=null;null!=(b=d.findNextOptionalClass(c.STATUS_CONTENT_LOADED));)a===b&&(b.status=c.STATUS_OPTIONALS_LOADED),d.updateNode(b),a=b;for(;d.tracks=[],d.checkOptionalCycle(d.clazzTreeRoot););for(a=null;null!=(b=d.findNextMustClass(d.clazzTreeRoot,c.STATUS_DECLARED))&&
a!==b;)d.updateNode(b),a=b;for(a=null;null!=(b=d.findNextOptionalClass(c.STATUS_DECLARED))&&a!==b;)d.updateNode(b),a=b;for(e=[];null!=(b=d.findNextMustClass(d.clazzTreeRoot,c.STATUS_DECLARED));)e[e.length]=b,b.status=c.STATUS_OPTIONALS_LOADED;for(;null!=(b=d.findNextOptionalClass(c.STATUS_DECLARED));)e[e.length]=b,b.status=c.STATUS_OPTIONALS_LOADED;for(a=0;a<e.length;a++)d.destroyClassNode(e[a]);for(a=0;a<e.length;a++)b=e[a].optionalsLoaded,null!=b&&(e[a].optionalsLoaded=null,b());d.globalLoaded()}}}}};
d.tracks=[];d.checkOptionalCycle=function(a){for(var b=d.tracks,e=b.length,f=-1,h=0;h<b.length;h++)if(b[h]===a&&b[h].status>=c.STATUS_DECLARED){f=h;break}b[b.length]=a;if(-1!=f){for(h=f;h<b.length;h++){b[h].status=c.STATUS_OPTIONALS_LOADED;d.destroyClassNode(b[h]);for(a=0;a<b[h].parents.length;a++)d.updateNode(b[h].parents[a]);b[h].parents=[];a=b[h].optionalsLoaded;null!=a&&(b[h].optionalsLoaded=null,a())}b.length=0;return!0}for(h=0;h<a.musts.length;h++)if(a.musts[h].status==c.STATUS_DECLARED&&d.checkOptionalCycle(a.musts[h]))return!0;
for(h=0;h<a.optionals.length;h++)if(a.optionals[h].status==c.STATUS_DECLARED&&d.checkOptionalCycle(a.optionals[h]))return!0;b.length=e;return!1};d.updateNode=function(a){if(null==a.name||a.status>=c.STATUS_OPTIONALS_LOADED)d.destroyClassNode(a);else{var b=!1;if(null==a.musts||0==a.musts.length||null==a.declaration)b=!0;else for(var b=!0,e=a.musts.length,f=e-1;0<=f;f--){var h=a.musts[f];h.requiredBy=a;if(h.status<c.STATUS_DECLARED){if(d.isClassDefined(h.name)){var k=[];h.status=c.STATUS_OPTIONALS_LOADED;
d.destroyClassNode(h);if(null!=h.declaration&&null!=h.declaration.clazzList){for(var l=h.declaration.clazzList,m=0;m<l.length;m++){var v=d.findClass(l[m]);v.status!=c.STATUS_OPTIONALS_LOADED&&v!==h&&(v.status=h.status,v.declaration=null,d.destroyClassNode(v),null!=v.optionalsLoaded&&(k[k.length]=v))}h.declaration=null}null!=h.optionalsLoaded&&(k[k.length]=h);for(m=0;m<k.length;m++)h=k[m].optionalsLoaded,null!=h&&(k[m].optionalsLoaded=null,h())}else h.status==c.STATUS_CONTENT_LOADED&&d.updateNode(h),
h.status<c.STATUS_DECLARED&&(b=!1);a.musts.length!=e&&(f=e=a.musts.length,b=!0)}}if(b){if(a.status<c.STATUS_DECLARED&&(f=a.declaration,null!=f&&(!1==f.executed?(f(),f.executed=!0):f()),a.status=c.STATUS_DECLARED,null!=d.definedClasses&&(d.definedClasses[a.name]=!0),d.scriptInited(a.path),null!=a.declaration&&null!=a.declaration.clazzList))for(l=a.declaration.clazzList,m=0;m<l.length;m++)v=d.findClass(l[m]),v.status!=c.STATUS_DECLARED&&v!==a&&(v.status=c.STATUS_DECLARED,null!=d.definedClasses&&(d.definedClasses[v.name]=
!0),d.scriptInited(v.path));b=c.STATUS_DECLARED;if(!(null!=a.optionals&&0!=a.optionals.length||null!=a.musts&&0!=a.musts.length)||a.status>c.STATUS_KNOWN&&null==a.declaration)l=!0;else{l=!0;for(f=0;f<a.musts.length;f++)if(h=a.musts[f],h.status<c.STATUS_OPTIONALS_LOADED){l=!1;break}if(l)for(f=0;f<a.optionals.length;f++)if(h=a.optionals[f],h.status<c.STATUS_OPTIONALS_LOADED){l=!1;break}}if(l){b=c.STATUS_OPTIONALS_LOADED;a.status=b;d.scriptCompleted(a.path);h=a.optionalsLoaded;if(null!=h&&(a.optionalsLoaded=
null,h(),!d.keepOnLoading))return!1;d.destroyClassNode(a);if(null!=a.declaration&&null!=a.declaration.clazzList)for(l=a.declaration.clazzList,m=0;m<l.length;m++)if(v=d.findClass(l[m]),v.status!=b&&v!==a){v.status=b;v.declaration=null;d.scriptCompleted(v.path);h=v.optionalsLoaded;if(null!=h&&(v.optionalsLoaded=null,h(),!d.keepOnLoading))return!1;d.destroyClassNode(a)}}d.updateParents(a,b)}}};d.updateParents=function(a,b){if(null!=a.parents&&0!=a.parents.length){for(var e=0;e<a.parents.length;e++){var f=
a.parents[e];f.status>=b||d.updateNode(f)}b==c.STATUS_OPTIONALS_LOADED&&(a.parents=[])}};d.findNextMustClass=function(a,b){if(null!=a){if(null!=a.musts&&0!=a.musts.length)for(var e=0;e<a.musts.length;e++){var f=a.musts[e];if(!(f.status!=b||b==c.STATUS_KNOWN&&!0==d.loadedScripts[f.path]||b!=c.STATUS_DECLARED&&d.isClassDefined(f.name)))return f;f=d.findNextMustClass(f,b);if(null!=f)return f}if(!(a.status!=b||b==c.STATUS_KNOWN&&!0==d.loadedScripts[a.path]||b!=c.STATUS_DECLARED&&d.isClassDefined(a.name)))return a}return null};
d.usedRandoms={};d.usedRandoms["r0.13412"]=.13412;d.findNextOptionalClass=function(a){for(var b=0;;){var b=Math.random(),c="r"+b;if(d.usedRandoms[c]!=b){d.usedRandoms[c]=b;break}}d.clazzTreeRoot.random=b;return d.findNodeNextOptionalClass(d.clazzTreeRoot,a)};d.findNodeNextOptionalClass=function(a,b){var e=d.clazzTreeRoot.random;if(null!=a.musts&&0!=a.musts.length){var f=d.searchClassArray(a.musts,e,b);if(!(null==f||b==c.STATUS_KNOWN&&!0==d.loadedScripts[f.path]||b!=c.STATUS_DECLARED&&d.isClassDefined(f.name)))return f}return null==
a.optionals||0==a.optionals.length||(f=d.searchClassArray(a.optionals,e,b),null==f||b==c.STATUS_KNOWN&&!0==d.loadedScripts[f.path]||b!=c.STATUS_DECLARED&&d.isClassDefined(f.name))?a.status!=b||b==c.STATUS_KNOWN&&!0==d.loadedScripts[a.path]||b!=c.STATUS_DECLARED&&d.isClassDefined(a.name)?null:a:f};d.searchClassArray=function(a,b,e){for(var f=0;f<a.length;f++){var h=a[f];if(!(h.status!=e||e==c.STATUS_KNOWN&&!0==d.loadedScripts[h.path]||e!=c.STATUS_DECLARED&&d.isClassDefined(h.name))||h.random!=b&&(h.random=
b,h=d.findNodeNextOptionalClass(h,e),null!=h))return h}return null};d.innerLoadedScripts={};d.interactiveScript=null;d.needOnloadCheck=!1;d.checkInteractive=function(){if(d.needOnloadCheck){var a=d.interactiveScript;if(null==a||"interactive"!=a.readyState){d.interactiveScript=null;for(var a=document.getElementsByTagName("SCRIPT"),b=0;b<a.length;b++)"interactive"==a[b].readyState&&null!=a[b].onreadystatechange?(d.interactiveScript=a[b],d.innerLoadedScripts[a[b].src]=!0):d.isOpera&&"loaded"==a[b].readyState&&
null!=a[b].src&&0!=a[b].src.length&&(d.innerLoadedScripts[a[b].src]=!0)}}};d.load=function(a,b,e,f){d.checkInteractive();if(b instanceof Array){d.unwrapArray(b);for(var h=0;h<b.length;h++)d.load(a,b[h],e,f,b)}else{"$"==b.charAt(0)&&(b="org.eclipse.s"+b.substring(1));var k=d.mapPath2ClassNode["#"+b];if(null==k){var l=d.findClass(b),k=null!=l?l:new c;k.name=b;h=d.classpathMap["#"+b];null==h&&(h="unknown");k.path=h;d.mappingPathNameNode(k.path,b,k);k.status=c.STATUS_KNOWN;d.addChildClassNode(d.clazzTreeRoot,
k,-1)}if(null!=a&&0!=a.length)for(d.unwrapArray(a),h=0;h<a.length;h++)(l=a[h],null==l||0==l.length||d.isClassDefined(l)||d.isClassExcluded(l))||(l=d.findClass(l),null==l&&(l=new c,l.name=a[h],l.status=c.STATUS_KNOWN),l.requiredBy=k,d.addChildClassNode(k,l,1));5==arguments.length&&null!=f&&(f.status=k.status,f.clazzList=arguments[4]);k.declaration=f;null!=f&&(k.status=c.STATUS_CONTENT_LOADED);if(null!=e&&0!=e.length)for(d.unwrapArray(e),h=0;h<e.length;h++)(l=e[h],null==l||0==l.length||d.isClassDefined(l)||
d.isClassExcluded(l))||(l=d.findClass(l),null==l&&(l=new c,l.name=e[h],l.status=c.STATUS_KNOWN),d.addChildClassNode(k,l,-1))}};null!=window.Clazz&&(a.load=d.load);d.findClass=function(a){for(var b=0;;){var b=Math.random(),c="r"+b;if(d.usedRandoms[c]!=b){d.usedRandoms[c]=b;break}}d.clazzTreeRoot.random=b;return d.findClassUnderNode(a,d.clazzTreeRoot)};d.findClassUnderNode=function(a,b){var c=d.clazzTreeRoot.random;if(b.name==a)return b;for(var e=0;e<b.musts.length;e++){var f=b.musts[e];if(f.name==
a||f.random!=c&&(f.random=c,f=d.findClassUnderNode(a,f),null!=f))return f}for(e=0;e<b.optionals.length;e++)if(f=b.optionals[e],f.name==a||f.random!=c&&(f.random=c,f=d.findClassUnderNode(a,f),null!=f))return f;return null};d.mappingPathNameNode=function(a,b,c){var e=d.mapPath2ClassNode,f="@"+a;a=e[f];if(null!=a)if(a instanceof Array){for(var f=!1,g=0;g<a.length;g++)if(a[g].name==b){f=!0;break}f||(a[a.length]=c)}else g=[],g[0]=a,g[1]=c,e[f]=g;else e[f]=c;e["#"+b]=c};d.loadClassNode=function(a){var b=
a.name;if(!d.isClassDefined(b)&&!d.isClassExcluded(b)){var c=d.getClasspathFor(b);a.path=c;d.mappingPathNameNode(c,b,a);if(!d.loadedScripts[c])return d.loadScript(c,a.requiredBy),!0}return!1};d.runtimeKeyClass="java.lang.String";d.queueBe4KeyClazz=[];d.getJ2SLibBase=function(){var a=window["j2s.lib"];if(null!=a)return null==a.base&&(a.base="http://archive.java2script.org/"),a.base+("."==a.alias?"":(a.alias?a.alias:a.version?a.version:"1.0.0")+"/");for(var a=document.getElementsByTagName("SCRIPT"),
b=0;b<a.length;b++){var c=a[b].src,e=c.indexOf("j2slib.z.js");if(-1!=e)return c.substring(0,e);e=c.indexOf("j2slibcore.z.js");if(-1!=e)return c.substring(0,e);e=d.classpathMap["@java"];if(null!=e)return e;e=c.indexOf("java/lang/ClassLoader.js");if(-1!=e)return c.substring(0,e)}return null};d.J2SLibBase=null;d.fastGetJ2SLibBase=function(){null==d.J2SLibBase&&(d.J2SLibBase=d.getJ2SLibBase());return d.J2SLibBase};d.assurePackageClasspath=function(a){var b=window[a+".registered"];!1!=b&&!0!=b&&null==
d.classpathMap["@"+a]&&(window[a+".registered"]=!1,b=d.fastGetJ2SLibBase(),null==b&&(b="j2s"),d.packageClasspath(a,b,!0))};d.loadClass=function(e,f,h,k){if("boolean"==typeof f)return a.evalType(e);d.assurePackageClasspath("java");d.assurePackageClasspath("core");0!=e.indexOf("org.eclipse.swt")&&0!=e.indexOf("$wt")||d.assurePackageClasspath("org.eclipse.swt");0==e.indexOf("junit")&&d.assurePackageClasspath("junit");d.keepOnLoading=!0;if(!h&&(0!=d.pkgRefCount&&e.lastIndexOf(".package")!=e.length-8||
!d.isClassDefined(d.runtimeKeyClass)&&0!=e.indexOf("java.")))k=d.queueBe4KeyClazz,k[k.length]=[e,f];else if(d.isClassDefined(e)||d.isClassExcluded(e))null!=f&&d.isClassDefined(e)&&(e=d.findClass(e),null==e||e.status>=c.STATUS_OPTIONALS_LOADED)&&(k?window.setTimeout(f,25):f());else{var l=d.getClasspathFor(e),m=d.loadedScripts[l];k=d.classQueue;if(!m)for(h=k.length-1;0<=h;h--)if(k[h].path==l||k[h].name==e)m=!0;if(m){if(null!=f&&(m=d.findClass(e),null!=m))if(null==m.optionalsLoaded)m.optionalsLoaded=
f;else if(f!=m.optionalsLoaded){var v=m.optionalsLoaded;m.optionalsLoaded=function(){v();f()}}}else{m=null;null!=a.unloadedClasses[e]&&(m=d.findClass(e));null==m&&(m=new c);m.name=e;m.path=l;d.mappingPathNameNode(l,e,m);m.optionalsLoaded=f;m.status=c.STATUS_KNOWN;var B=!1;for(h=k.length-1;0<=h;h--)if(k[h].status!=c.STATUS_OPTIONALS_LOADED){B=!0;break}if(l.lastIndexOf("package.js")==l.length-10){l=!1;for(h=k.length-1;0<=h;h--){e=k[h].name;if(e.lastIndexOf("package.js")==e.length-10){k[h+1]=m;l=!0;
break}k[h+1]=k[h]}l||(k[0]=m)}else B&&(k[k.length]=m);B||(e=!1,null!=f&&(e=d.isLoadingEntryClass,d.isLoadingEntryClass=!0),d.addChildClassNode(d.clazzTreeRoot,m,1),d.loadScript(m.path),null!=f&&(d.isLoadingEntryClass=e))}}};d.loadJ2SApp=function(c,e,f){if(null!=c){var g=c;"$"==c.charAt(0)&&(g="org.eclipse.s"+c.substring(1));var h=-1;-1!=(h=g.indexOf("@"))&&(c=g.substring(h+1),d.setPrimaryFolder(c),g=g.substring(0,h),h=g.lastIndexOf("."),-1!=h&&(h=g.substring(0,h),d.packageClasspath(h,c)));null!=e&&
e instanceof Array||(e=[]);if(null==f){var k=g,l=e;f=function(){a.evalType(k).main(l)}}else f=f(g,e);d.loadClass(g,f)}};d.loadJUnit=function(c,e){d.loadJ2SApp(c,e,function(c){return function(){d.loadClass("junit.textui.TestRunner",function(){junit.textui.TestRunner.run(a.evalType(c))})}})};d.runtimeLoaded=function(){if(0==d.pkgRefCount&&d.isClassDefined(d.runtimeKeyClass)){for(var a=d.queueBe4KeyClazz,b=0;b<a.length;b++)d.loadClass(a[b][0],a[b][1]);d.queueBe4KeyClazz=[]}};d.loadZJar=function(a,b){var c=
b,e=b instanceof Array;e&&(c=b[b.length-1]);d.jarClasspath(a,e?b:[b]);b==d.runtimeKeyClass?d.loadClass(c,d.runtimeLoaded,!0):d.loadClass(c,null,!0)};d._nodeMap={};d._allNodes=[];d.addChildClassNode=function(a,b,c){var e=!1,f=null;1==c?(f=a.musts,b.requiredBy||(b.requiredBy=a),a.requires||(a.requires=[],a.requiresMap={}),a.requiresMap[b.name]||(a.requiresMap[b.name]=b,a.requires.push[b])):f=a.optionals;d._nodeMap[b.name]||(d._allNodes.push(b),d._nodeMap[b.name]=b);for(c=0;c<f.length;c++)if(f[c].name==
b.name){e=!0;break}if(!e){f[f.length]=b;if(0==b.name.indexOf("org.eclipse.swt")||0==b.name.indexOf("$wt"))window["swt.lazy.loading.callback"]=d.swtLazyLoading,d.assurePackageClasspath("org.eclipse.swt");d.isLoadingEntryClass&&0!=b.name.indexOf("java")&&0!=b.name.indexOf("net.sf.j2s.ajax")&&(d.besidesJavaPackage&&(d.isLoadingEntryClass=!1),d.besidesJavaPackage=!0)}e=!1;for(c=0;c<b.parents.length;c++)if(b.parents[c].name==a.name){e=!0;break}!e&&null!=a.name&&a!=d.clazzTreeRoot&&a!=b&&(b.parents[b.parents.length]=
a)};d.swtLazyLoading=function(){d.lockQueueBe4SWT=!1;for(var a=d.queueBe4SWT,b=0;b<a.length;b++)d.tryToLoadNext(a[b]);d.queueBe4SWT=[]};d.removeFromArray=function(a,b){if(null==b||null==a)return!1;for(var d=0,c=0;c<b.length;c++)b[c]!==a&&(d<c&&(b[d]=b[c]),d++);b.length=d;return!1};d.destroyClassNode=function(a){var b=a.parents;if(null!=b)for(var c=0;c<b.length;c++)d.removeFromArray(a,b[c].musts)||d.removeFromArray(a,b[c].optionals)};d.unloadClassExt=function(a){null!=d.definedClasses&&(d.definedClasses[a]=
!1);if(null!=d.classpathMap["#"+a]){var b=d.classpathMap["#"+a];d.classpathMap["#"+a]=null;for(var e=d.classpathMap["$"+b],f=!1,h=0;h<e.length;h++)if(e[h]==a){for(f=h;f<e.length-1;f++)e[f]=e[f+1];e.length--;f=!0;break}f&&(d.classpathMap["$"+b]=e)}b=d.findClass(a);null!=b&&(b.status=c.STATUS_KNOWN,d.loadedScripts[b.path]=!1);b=d.getClasspathFor(a);d.loadedScripts[b]=!1;d.innerLoadedScripts[b]&&(d.innerLoadedScripts[b]=!1);d.classUnloaded(a)};d.assureInnerClass=function(d,c){var e=d.__CLASS_NAME__;
if(a.unloadedClasses[e]&&-1==e.indexOf("$")){var f=[],e=e+"$",g;for(g in a.unloadedClasses)null!=a.unloadedClasses[g]&&0==g.indexOf(e)&&(f[f.length]=g);if(0!=f.length&&(f=""+c,g=f.indexOf(e),-1!=g)){var h=f.indexOf('"',g+e.length);-1!=h&&(e=f.substring(g,h),null!=a.unloadedClasses[e]&&(g=f.indexOf("{",h),-1!=g&&(g++,h=f.indexOf("("+e+",",g+3),-1!=h&&(h=f.lastIndexOf("}",h-1),-1!=h&&(f=f.substring(g,h),eval(f),a.unloadedClasses[e]=null)))))}}}})(a,a._Loader,a._Node);a._LoaderProgressMonitor=function(){};
var e=a._LoaderProgressMonitor;e.fadeOutTimer=null;e.fadeAlpha=0;e.monitorEl=null;e.lastScrollTop=0;e.bindingParent=null;e.DEFAULT_OPACITY=self.Jmol&&Jmol._j2sLoadMonitorOpacity?Jmol._j2sLoadMonitorOpacity:55;e.clearChildren=function(a){if(null!=a)for(var d=a.childNodes.length-1;0<=d;d--){var c=a.childNodes[d];if(null!=c){null!=c.childNodes&&0!=c.childNodes.length&&this.clearChildren(c);try{a.removeChild(c)}catch(e){}}}};e.setAlpha=function(a){null!=this.fadeOutTimer&&a==this.DEFAULT_OPACITY&&(window.clearTimeout(this.fadeOutTimer),
this.fadeOutTimer=null);this.fadeAlpha=a;navigator.userAgent.toLowerCase();this.monitorEl.style.filter="Alpha(Opacity="+a+")";this.monitorEl.style.opacity=a/100};e.hiddingOnMouseOver=function(){this.style.display="none"};e.attached=!1;e.cleanup=function(){e.monitorEl=null;e.bindingParent=null;e.attached=!1};e.createHandle=function(){var a=document.createElement("DIV");a.id="clazzloader-status";a.style.cssText="position:absolute;bottom:4px;left:4px;padding:2px 8px;z-index:"+(window["j2s.lib"].monitorZIndex||
1E4)+";background-color:#8e0000;color:yellow;font-family:Arial, sans-serif;font-size:10pt;white-space:nowrap;";a.onmouseover=this.hiddingOnMouseOver;this.monitorEl=a;null==this.bindingParent?document.body.appendChild(a):this.bindingParent.appendChild(a);return a};e.fadeOut=function(){"none"!=this.monitorEl.style.display&&(this.fadeAlpha==this.DEFAULT_OPACITY?(this.fadeOutTimer=window.setTimeout(function(){e.fadeOut()},750),this.fadeAlpha-=5):0<=this.fadeAlpha-10?(this.setAlpha(this.fadeAlpha-10),
this.fadeOutTimer=window.setTimeout(function(){e.fadeOut()},40)):this.monitorEl.style.display="none")};e.getFixedOffsetTop=function(){if(null!=this.bindingParent){var a=this.bindingParent;return a.scrollTop}var d=navigator.userAgent,a=document.body,c=a.parentNode,e=c.clientHeight,a=a.scrollTop+a.offsetTop,f=c.scrollTop+c.offsetTop;return-1==d.indexOf("Opera")&&document.all?0==e?a:f:-1!=d.indexOf("Gecko")?e==c.offsetHeight&&e==c.scrollHeight?a:f:a};e.showStatus=function(a,d){null==this.monitorEl&&
(this.createHandle(),this.attached||(this.attached=!0));this.clearChildren(this.monitorEl);this.monitorEl.appendChild(document.createTextNode(""+a));"none"==this.monitorEl.style.display&&(this.monitorEl.style.display="");this.setAlpha(this.DEFAULT_OPACITY);var c=this.getFixedOffsetTop();this.lastScrollTop!=c&&(this.lastScrollTop=c,this.monitorEl.style.bottom=this.lastScrollTop+4+"px");d&&this.fadeOut()};null!=window.ClazzLoader&&(ClazzLoader.scriptLoading=function(a){e.showStatus("Loading "+a+"...")},
ClazzLoader.scriptLoaded=function(a){e.showStatus(a+" loaded.",!0)},ClazzLoader.globalLoaded=function(){e.showStatus("Application loaded.",!0)},ClazzLoader.classUnloaded=function(a){e.showStatus("Class "+a+" is unloaded.",!0)},ClazzLoader.classReloaded=function(a){e.showStatus("Class "+a+" is reloaded.",!0)},k=navigator.userAgent.toLowerCase(),-1!=k.indexOf("msie")&&-1==k.indexOf("opera")&&ClazzLoader.setLoadingMode("script",5));var h=a.Console;h.maxTotalLines=1E4;h.setMaxTotalLines=function(a){h.maxTotalLines=
0>=a?999999:a};h.maxLatency=40;h.setMaxLatency=function(a){h.maxLatency=0>=a?40:a};h.pinning=!1;h.enablePinning=function(a){h.pinning=a};h.linesCount=0;h.metLineBreak=!1;h.splitNeedFixed=2!="\n".split(/\n/).length;h.splitIntoLineByR=function(a){for(var d=[],c=0,e=-1;;)if(c=a.indexOf("\r",e+1),-1!=c){if(d[d.length]=a.substring(e+1,c),e=c,e+1==a.length){d[d.length]="";break}}else{d[d.length]=a.substring(e+1);break}return d};h.splitIntoLines=function(a){var d=[];if(null==a)return d;for(var c=0,e=-1;;){var c=
a.indexOf("\n",e+1),f=null;-1!=c?(f=0<c&&"\r"==a.charAt(c-1)?a.substring(e+1,c-1):a.substring(e+1,c),e=c):f=a.substring(e+1);for(var f=h.splitIntoLineByR(f),k=0;k<f.length;k++)d[d.length]=f[k];if(-1==c)break;else if(e+1==a.length){d[d.length]="";break}}return d};h.createConsoleWindow=function(){var a=document.createElement("DIV");a.style.cssText="font-family:monospace, Arial, sans-serif;";document.body.appendChild(a);return a};h.consoleOutput=function(a,d){var c=window["j2s.lib"];(c=c&&c.console)&&
"string"==typeof c&&(c=document.getElementById(c));if(!c)return!1;if(h.linesCount>h.maxTotalLines){for(var e=0;e<h.linesCount-h.maxTotalLines;e++)null!=c&&0<c.childNodes.length&&c.removeChild(c.childNodes[0]);h.linesCount=h.maxTotalLines}var f=!1;a="undefined"==typeof a?"":null==a?"null":""+a;0<a.length&&(e=a.charAt(a.length-1),"\n"==e?(a=1<a.length?"\r"==a.charAt(a.length-2)?a.substring(0,a.length-2):a.substring(0,a.length-1):"",f=!0):"\r"==e&&(a=a.substring(0,a.length-1),f=!0));var k=null;a=a.replace(/\t/g,
h.c160);if(h.splitNeedFixed)try{k=h.splitIntoLines(a)}catch(q){window.popup(q.message)}else k=a.split(/\r\n|\r|\n/g);for(e=0;e<k.length;e++){var r=null;if(h.metLineBreak||0==h.linesCount||1>c.childNodes.length)r=document.createElement("DIV"),c.appendChild(r),r.style.whiteSpace="nowrap",h.linesCount++;else try{r=c.childNodes[c.childNodes.length-1]}catch(s){r=document.createElement("DIV"),c.appendChild(r),r.style.whiteSpace="nowrap",h.linesCount++}var u=document.createElement("SPAN");r.appendChild(u);
u.style.whiteSpace="nowrap";null!=d&&(u.style.color=d);0==k[e].length&&(k[e]=String.fromCharCode(160));u.appendChild(document.createTextNode(k[e]));h.pinning||(c.scrollTop+=100);h.metLineBreak=e!=k.length-1?!0:f}f=c.parentNode.className;!h.pinning&&null!=f&&-1!=f.indexOf("composite")&&(c.parentNode.scrollTop=c.parentNode.scrollHeight);h.lastOutputTime=(new Date).getTime()};h.clear=function(){try{h.metLineBreak=!0;var a=window["j2s.lib"],c=a&&a.console;if(c&&(c=document.getElementById(c))){for(var e=
c.childNodes,f=e.length-1;0<=f;f--)c.removeChild(e[f]);h.linesCount=0}}catch(k){}};a.alert=function(a){h.consoleOutput(a+"\r\n")};h.c160=String.fromCharCode(160);h.c160+=h.c160+h.c160+h.c160;System.out.print=function(a){h.consoleOutput(a)};System.out.println=function(a){h.consoleOutput("undefined"==typeof a?"\r\n":null==a?"null\r\n":a+"\r\n")};System.err.__CLASS_NAME__="java.io.PrintStream";System.err.print=function(a){h.consoleOutput(a,"red")};System.err.println=function(a){h.consoleOutput("undefined"==
typeof a?"\r\n":null==a?"null\r\n":a+"\r\n","red")};a.setConsoleDiv=function(a){window["j2s.lib"]&&(window["j2s.lib"].console=a)};a.binaryFolders=a._Loader.binaryFolders=[a._Loader.getJ2SLibBase()]}(Clazz))};
!function(){function a(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function k(a){return null!=a&&!isNaN(a)}function c(a){return{left:function(b,c,d,e){3>arguments.length&&(d=0);for(4>arguments.length&&(e=b.length);d<e;){var f=d+e>>>1;0>a(b[f],c)?d=f+1:e=f}return d},right:function(b,c,d,e){3>arguments.length&&(d=0);for(4>arguments.length&&(e=b.length);d<e;){var f=d+e>>>1;0<a(b[f],c)?e=f:d=f+1}return d}}}function f(a){return a.length}function e(a,b){try{for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],
enumerable:!1})}catch(d){a.prototype=b}}function h(){}function b(a){return Ub+a in this}function d(){var a=[];this.forEach(function(b){a.push(b)});return a}function g(){var a=0,b;for(b in this)b.charCodeAt(0)===yd&&++a;return a}function l(){for(var a in this)if(a.charCodeAt(0)===yd)return!1;return!0}function m(){}function v(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function q(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.substring(1);for(var c=0,d=Mf.length;c<d;++c){var e=
Mf[c]+b;if(e in a)return e}}function r(){}function s(){}function u(a){function b(){for(var d=c,e=-1,f=d.length,g;++e<f;)(g=d[e].on)&&g.apply(this,arguments);return a}var c=[],d=new h;b.on=function(b,e){var f=d.get(b),g;if(2>arguments.length)return f&&f.on;f&&(f.on=null,c=c.slice(0,g=c.indexOf(f)).concat(c.slice(g+1)),d.remove(b));e&&c.push(d.set(b,{on:e}));return a};return b}function w(){t.event.preventDefault()}function x(){for(var a=t.event,b;b=a.sourceEvent;)a=b;return a}function y(a){for(var b=
new s,c=0,d=arguments.length;++c<d;)b[arguments[c]]=u(b);b.of=function(c,d){return function(e){try{var f=e.sourceEvent=t.event;e.target=a;t.event=e;b[e.type].apply(c,d)}finally{t.event=f}}};return b}function B(a){zd(a,Z);return a}function A(a){return"function"===typeof a?a:function(){return ye(a,this)}}function z(a){return"function"===typeof a?a:function(){return ze(a,this)}}function Y(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,
b)}function f(){this.setAttributeNS(a.space,a.local,b)}function g(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function h(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}a=t.ns.qualify(a);return null==b?a.local?d:c:"function"===typeof b?a.local?h:g:a.local?f:e}function ba(a){return a.trim().replace(/\s+/g," ")}function W(a){return new RegExp("(?:^|\\s+)"+t.requote(a)+"(?:\\s+|$)","g")}
function ea(a,b){function c(){for(var d=-1;++d<e;)a[d](this,b)}function d(){for(var c=-1,f=b.apply(this,arguments);++c<e;)a[c](this,f)}a=a.trim().split(/^|\s+/).map(N);var e=a.length;return"function"===typeof b?d:c}function N(a){var b=W(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",ba(e+" "+a))):c.setAttribute("class",ba(e.replace(b," ")))}}function O(a,b,c){function d(){this.style.removeProperty(a)}
function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==b?d:"function"===typeof b?f:e}function P(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"===typeof b?e:d}function fa(a){return"function"===typeof a?a:(a=t.ns.qualify(a)).local?function(){return this.ownerDocument.createElementNS(a.space,
a.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,a)}}function oa(a){return function(){return Nf(this,a)}}function za(b){arguments.length||(b=a);return function(a,c){return a&&c?b(a.__data__,c.__data__):!a-!c}}function sa(a,b){for(var c=0,d=a.length;c<d;c++)for(var e=a[c],f=0,g=e.length,h;f<g;f++)(h=e[f])&&b(h,f,c);return a}function Ga(a){zd(a,rb);return a}function Da(a){var b,c;return function(d,e,f){d=a[f].update;var g=d.length;f!=c&&(c=f,b=0);for(e>=b&&(b=e+1);!(e=
d[b])&&++b<g;);return e}}function H(){var a=this.__transition__;a&&++a.active}function ja(a,b,c){function d(){var b=this[g];b&&(this.removeEventListener(a,b,b.$),delete this[g])}function e(){var f=k(b,Ab(arguments));d.call(this);this.addEventListener(a,this[g]=f,f.$=c);f._=b}function f(){var b=new RegExp("^__on([^.]+)"+t.requote(a)+"$"),c,d;for(d in this)if(c=d.match(b)){var e=this[d];this.removeEventListener(c[1],e,e.$);delete this[d]}}var g="__on"+a,h=a.indexOf("."),k=Q;0<h&&(a=a.substring(0,h));
var l=Ae.get(a);l&&(a=l,k=wa);return h?b?e:d:b?r:f}function Q(a,b){return function(c){var d=t.event;t.event=c;b[0]=this.__data__;try{a.apply(this,b)}finally{t.event=d}}}function wa(a,b){var c=Q(a,b);return function(a){var b=a.relatedTarget;b&&(b===this||b.compareDocumentPosition(this)&8)||c.call(this,a)}}function va(){var a=".dragsuppress-"+ ++zh,b="click"+a,c=t.select(Ra).on("touchmove"+a,w).on("dragstart"+a,w).on("selectstart"+a,w);if(Vc){var d=Bb.style,e=d[Vc];d[Vc]="none"}return function(f){c.on(a,
null);Vc&&(d[Vc]=e);if(f){var g=function(){c.on(b,null)};c.on(b,function(){w();g()},!0);setTimeout(g,0)}}}function pa(a,b){b.changedTouches&&(b=b.changedTouches[0]);var c=a.ownerSVGElement||a;if(c.createSVGPoint)return c=c.createSVGPoint(),c.x=b.clientX,c.y=b.clientY,c=c.matrixTransform(a.getScreenCTM().inverse()),[c.x,c.y];c=a.getBoundingClientRect();return[b.clientX-c.left-a.clientLeft,b.clientY-c.top-a.clientTop]}function Ka(){return t.event.changedTouches[0].identifier}function da(){return t.event.target}
function fc(){return Ra}function Ac(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function gc(a){return 1<a?0:-1>a?G:Math.acos(a)}function T(a){return 1<a?Ca:-1>a?-Ca:Math.asin(a)}function M(a){return((a=Math.exp(a))+1/a)/2}function p(a){return(a=Math.sin(a/2))*a}function wb(){}function xb(a,b,c){return new Bc(a,b,c)}function Bc(a,b,c){this.h=a;this.s=b;this.l=c}function Cc(a,b,c){function d(a){360<a?a-=360:0>a&&(a+=360);return 60>a?e+(f-e)*a/60:180>a?f:240>a?e+(f-e)*(240-a)/60:e}var e,
f;a=isNaN(a)?0:0>(a%=360)?a+360:a;b=isNaN(b)?0:0>b?0:1<b?1:b;c=0>c?0:1<c?1:c;f=.5>=c?c*(1+b):c+b-c*b;e=2*c-f;return ra(Math.round(255*d(a+120)),Math.round(255*d(a)),Math.round(255*d(a-120)))}function Ia(a,b,c){return new Mb(a,b,c)}function Mb(a,b,c){this.h=a;this.c=b;this.l=c}function kc(a,b,c){isNaN(a)&&(a=0);isNaN(b)&&(b=0);return Va(c,Math.cos(a*=I)*b,Math.sin(a)*b)}function Va(a,b,c){return new db(a,b,c)}function db(a,b,c){this.l=a;this.a=b;this.b=c}function kd(a,b,c){a=(a+16)/116;c=a-c/200;b=
Jc(a+b/500)*Of;a=Jc(a)*Pf;c=Jc(c)*Qf;return ra(bc(3.2404542*b-1.5371385*a-.4985314*c),bc(-.969266*b+1.8760108*a+.041556*c),bc(.0556434*b-.2040259*a+1.0572252*c))}function ld(a,b,c){return 0<a?Ia(Math.atan2(c,b)*ga,Math.sqrt(b*b+c*c),a):Ia(NaN,NaN,a)}function Jc(a){return.206893034<a?a*a*a:(a-4/29)/7.787037}function na(a){return.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function bc(a){return Math.round(255*(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function eb(a){return ra(a>>16,a>>8&255,a&255)+
""}function ra(a,b,c){return new F(a,b,c)}function F(a,b,c){this.r=a;this.g=b;this.b=c}function ia(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function cd(a,b,c){var d=0,e=0,f=0,g,h;if(g=/([a-z]+)\((.*)\)/i.exec(a))switch(h=g[2].split(","),g[1]){case "hsl":return c(parseFloat(h[0]),parseFloat(h[1])/100,parseFloat(h[2])/100);case "rgb":return b(Za(h[0]),Za(h[1]),Za(h[2]))}if(c=Bd.get(a))return b(c.r,c.g,c.b);null==a||"#"!==a.charAt(0)||isNaN(c=parseInt(a.substring(1),
16))||(4===a.length?(d=(c&3840)>>4,d|=d>>4,e=c&240,e|=e>>4,f=c&15,f|=f<<4):7===a.length&&(d=(c&16711680)>>16,e=(c&65280)>>8,f=c&255));return b(d,e,f)}function bd(a,b,c){var d=Math.min(a/=255,b/=255,c/=255),e=Math.max(a,b,c),f=e-d,g=(e+d)/2;f?(d=.5>g?f/(e+d):f/(2-e-d),a=60*(a==e?(b-c)/f+(b<c?6:0):b==e?(c-a)/f+2:(a-b)/f+4)):(a=NaN,d=0<g&&1>g?0:a);return xb(a,d,g)}function Nb(a,b,c){a=Qa(a);b=Qa(b);c=Qa(c);var d=na((.4124564*a+.3575761*b+.1804375*c)/Of),e=na((.2126729*a+.7151522*b+.072175*c)/Pf);a=na((.0193339*
a+.119192*b+.9503041*c)/Qf);return Va(116*e-16,500*(d-e),200*(e-a))}function Qa(a){return.04045>=(a/=255)?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Za(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function X(a){return"function"===typeof a?a:function(){return a}}function ka(a){return a}function Kc(a){return function(b,c,d){2===arguments.length&&"function"===typeof c&&(d=c,c=null);return Ob(b,c,a,d)}}function Ob(a,b,c,d){function e(){var a=k.status,b;if(!a&&k.responseText||
200<=a&&300>a||304===a){try{b=c.call(f,k)}catch(d){g.error.call(f,d);return}g.load.call(f,b)}else g.error.call(f,k)}var f={},g=t.dispatch("beforesend","progress","load","error"),h={},k=new XMLHttpRequest,l=null;!Ra.XDomainRequest||"withCredentials"in k||!/^(http(s)?:)?\/\//.test(a)||(k=new XDomainRequest);"onload"in k?k.onload=k.onerror=e:k.onreadystatechange=function(){3<k.readyState&&e()};k.onprogress=function(a){var b=t.event;t.event=a;try{g.progress.call(f,k)}finally{t.event=b}};f.header=function(a,
b){a=(a+"").toLowerCase();if(2>arguments.length)return h[a];null==b?delete h[a]:h[a]=b+"";return f};f.mimeType=function(a){if(!arguments.length)return b;b=null==a?null:a+"";return f};f.responseType=function(a){if(!arguments.length)return l;l=a;return f};f.response=function(a){c=a;return f};["get","post"].forEach(function(a){f[a]=function(){return f.send.apply(f,[a].concat(Ab(arguments)))}});f.send=function(c,d,e){2===arguments.length&&"function"===typeof d&&(e=d,d=null);k.open(c,a,!0);null==b||"accept"in
h||(h.accept=b+",*/*");if(k.setRequestHeader)for(var V in h)k.setRequestHeader(V,h[V]);null!=b&&k.overrideMimeType&&k.overrideMimeType(b);null!=l&&(k.responseType=l);if(null!=e)f.on("error",e).on("load",function(a){e(null,a)});g.beforesend.call(f,k);k.send(null==d?null:d);return f};f.abort=function(){k.abort();return f};t.rebind(f,g,"on");return null==d?f:f.get(md(d))}function md(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function lc(){var a=Lc(),a=nd()-a;24<a?(isFinite(a)&&(clearTimeout(Cd),
Cd=setTimeout(lc,a)),Dd=0):(Dd=1,Rf(lc))}function Lc(){var a=Date.now();for(sb=Ed;sb;)a>=sb.t&&(sb.f=sb.c(a-sb.t)),sb=sb.n;return a}function nd(){for(var a,b=Ed,c=Infinity;b;)b.f?b=a?a.n=b.n:Ed=b.n:(b.t<c&&(c=b.t),b=(a=b).n);Fd=a;return c}function Mc(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function re(a){var b=a.decimal,c=a.thousands,d=a.grouping,e=a.currency,f=d?function(a){for(var b=a.length,e=[],f=0,g=d[0];0<b&&0<g;)e.push(a.substring(b-=g,b+g)),g=d[f=(f+1)%d.length];return e.reverse().join(c)}:
ka;return function(a){a=Sf.exec(a);var c=a[1]||" ",d=a[2]||">",g=a[3]||"",C=a[4]||"",h=a[5],k=+a[6],V=a[7],l=a[8],R=a[9],m=1,p="",q="",r=!1;l&&(l=+l.substring(1));if(h||"0"===c&&"="===d)h=c="0",d="=",V&&(k-=Math.floor((k-1)/4));switch(R){case "n":V=!0;R="g";break;case "%":m=100;q="%";R="f";break;case "p":m=100;q="%";R="r";break;case "b":case "o":case "x":case "X":"#"===C&&(p="0"+R.toLowerCase());case "c":case "d":r=!0;l=0;break;case "s":m=-1,R="r"}"$"===C&&(p=e[0],q=e[1]);"r"!=R||l||(R="g");if(null!=
l)if("g"==R)l=Math.max(1,Math.min(21,l));else if("e"==R||"f"==R)l=Math.max(0,Math.min(20,l));var R=Bh.get(R)||od,s=h&&V;return function(a){var e=q;if(r&&a%1)return"";var C=0>a||0===a&&0>1/a?(a=-a,"-"):g;0>m?(e=t.formatPrefix(a,l),a=e.scale(a),e=e.symbol+q):a*=m;a=R(a,l);var U=a.lastIndexOf("."),Aa=0>U?a:a.substring(0,U);a=0>U?"":b+a.substring(U+1);!h&&V&&(Aa=f(Aa));var U=p.length+Aa.length+a.length+(s?0:C.length),Ba=U<k?Array(U=k-U+1).join(c):"";s&&(Aa=f(Ba+Aa));C+=p;a=Aa+a;return("<"===d?C+a+Ba:
">"===d?Ba+C+a:"^"===d?Ba.substring(0,U>>=1)+C+a+Ba.substring(U):C+(s?a:Ba+a))+e}}}function od(a){return a+""}function Fa(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function Oa(a,b,c){function d(b){var c=a(b),e=f(c,1);return b-c<e-b?c:e}function e(c){b(c=a(new Ea(c-1)),1);return c}function f(a,c){b(a=new Ea(+a),c);return a}function g(a,d,f){a=e(a);var C=[];if(1<f)for(;a<d;)c(a)%f||C.push(new Date(+a)),b(a,1);else for(;a<d;)C.push(new Date(+a)),b(a,1);return C}
a.floor=a;a.round=d;a.ceil=e;a.offset=f;a.range=g;var h=a.utc=xa(a);h.floor=h;h.round=xa(d);h.ceil=xa(e);h.offset=xa(f);h.range=function(a,b,c){try{Ea=Fa;var d=new Fa;d._=a;return g(d,b,c)}finally{Ea=Date}};return a}function xa(a){return function(b,c){try{Ea=Fa;var d=new Fa;d._=b;return a(d,c)._}finally{Ea=Date}}}function cc(a){function b(a){function d(b){for(var c=[],f=-1,g=0,C,h;++f<e;)if(37===a.charCodeAt(f)){c.push(a.substring(g,f));null!=(C=Tf[g=a.charAt(++f)])&&(g=a.charAt(++f));if(h=w[g])g=
h(b,null==C?"e"===g?" ":"0":C);c.push(g);g=f+1}c.push(a.substring(g,f));return c.join("")}var e=a.length;d.parse=function(b){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(d,a,b,0)!=b.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);b=null!=d.Z&&Ea!==Fa;var e=new (b?Fa:Ea);"j"in d?e.setFullYear(d.y,0,d.j):"w"in d&&("W"in d||"U"in d)?(e.setFullYear(d.y,0,1),e.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(e.getDay()+5)%7:d.w+7*d.U-(e.getDay()+6)%7)):e.setFullYear(d.y,d.m,d.d);e.setHours(d.H+Math.floor(d.Z/
100),d.M+d.Z%100,d.S,d.L);return b?e._:e};d.toString=function(){return a};return d}function c(a,b,d,e){for(var f,g=0,C=b.length,h=d.length;g<C;){if(e>=h)return-1;f=b.charCodeAt(g++);if(37===f){if(f=b.charAt(g++),f=x[f in Tf?b.charAt(g++):f],!f||0>(e=f(a,d,e)))return-1}else if(f!=d.charCodeAt(e++))return-1}return e}var d=a.dateTime,e=a.date,f=a.time,g=a.periods,h=a.days,k=a.shortDays,l=a.months,m=a.shortMonths;b.utc=function(a){function c(a){try{Ea=Fa;var b=new Ea;b._=a;return d(b)}finally{Ea=Date}}
var d=b(a);c.parse=function(a){try{Ea=Fa;var b=d.parse(a);return b&&b._}finally{Ea=Date}};c.toString=d.toString;return c};b.multi=b.utc.multi=Pb;var p=t.map(),q=Jb(h),r=qb(h),s=Jb(k),Ah=qb(k),v=Jb(l),La=qb(l),u=Jb(m),ca=qb(m);g.forEach(function(a,b){p.set(a.toLowerCase(),b)});var w={a:function(a){return k[a.getDay()]},A:function(a){return h[a.getDay()]},b:function(a){return m[a.getMonth()]},B:function(a){return l[a.getMonth()]},c:b(d),d:function(a,b){return ua(a.getDate(),b,2)},e:function(a,b){return ua(a.getDate(),
b,2)},H:function(a,b){return ua(a.getHours(),b,2)},I:function(a,b){return ua(a.getHours()%12||12,b,2)},j:function(a,b){return ua(1+E.dayOfYear(a),b,3)},L:function(a,b){return ua(a.getMilliseconds(),b,3)},m:function(a,b){return ua(a.getMonth()+1,b,2)},M:function(a,b){return ua(a.getMinutes(),b,2)},p:function(a){return g[+(12<=a.getHours())]},S:function(a,b){return ua(a.getSeconds(),b,2)},U:function(a,b){return ua(E.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return ua(E.mondayOfYear(a),
b,2)},x:b(e),X:b(f),y:function(a,b){return ua(a.getFullYear()%100,b,2)},Y:function(a,b){return ua(a.getFullYear()%1E4,b,4)},Z:Kb,"%":function(){return"%"}},x={a:function(a,b,c){s.lastIndex=0;return(b=s.exec(b.substring(c)))?(a.w=Ah.get(b[0].toLowerCase()),c+b[0].length):-1},A:function(a,b,c){q.lastIndex=0;return(b=q.exec(b.substring(c)))?(a.w=r.get(b[0].toLowerCase()),c+b[0].length):-1},b:function(a,b,c){u.lastIndex=0;return(b=u.exec(b.substring(c)))?(a.m=ca.get(b[0].toLowerCase()),c+b[0].length):
-1},B:function(a,b,c){v.lastIndex=0;return(b=v.exec(b.substring(c)))?(a.m=La.get(b[0].toLowerCase()),c+b[0].length):-1},c:function(a,b,d){return c(a,w.c.toString(),b,d)},d:$a,e:$a,H:qd,I:qd,j:mc,L:ec,m:ed,M:rd,p:function(a,b,c){b=p.get(b.substring(c,c+=2).toLowerCase());return null==b?-1:(a.p=b,c)},S:ve,U:se,w:dc,W:ee,x:function(a,b,d){return c(a,w.x.toString(),b,d)},X:function(a,b,d){return c(a,w.X.toString(),b,d)},y:ue,Y:te,Z:pd,"%":sd};return b}function ua(a,b,c){var d=0>a?"-":"";a=(d?-a:a)+"";
var e=a.length;return d+(e<c?Array(c-e+1).join(b)+a:a)}function Jb(a){return new RegExp("^(?:"+a.map(t.requote).join("|")+")","i")}function qb(a){for(var b=new h,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function dc(a,b,c){ma.lastIndex=0;return(b=ma.exec(b.substring(c,c+1)))?(a.w=+b[0],c+b[0].length):-1}function se(a,b,c){ma.lastIndex=0;return(b=ma.exec(b.substring(c)))?(a.U=+b[0],c+b[0].length):-1}function ee(a,b,c){ma.lastIndex=0;return(b=ma.exec(b.substring(c)))?(a.W=+b[0],c+
b[0].length):-1}function te(a,b,c){ma.lastIndex=0;return(b=ma.exec(b.substring(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}function ue(a,b,c){ma.lastIndex=0;if(b=ma.exec(b.substring(c,c+2))){var d=+b[0];a=(a.y=d+(68<d?1900:2E3),c+b[0].length)}else a=-1;return a}function pd(a,b,c){return/^[+-]\d{4}$/.test(b=b.substring(c,c+5))?(a.Z=-b,c+5):-1}function ed(a,b,c){ma.lastIndex=0;return(b=ma.exec(b.substring(c,c+2)))?(a.m=b[0]-1,c+b[0].length):-1}function $a(a,b,c){ma.lastIndex=0;return(b=ma.exec(b.substring(c,
c+2)))?(a.d=+b[0],c+b[0].length):-1}function mc(a,b,c){ma.lastIndex=0;return(b=ma.exec(b.substring(c,c+3)))?(a.j=+b[0],c+b[0].length):-1}function qd(a,b,c){ma.lastIndex=0;return(b=ma.exec(b.substring(c,c+2)))?(a.H=+b[0],c+b[0].length):-1}function rd(a,b,c){ma.lastIndex=0;return(b=ma.exec(b.substring(c,c+2)))?(a.M=+b[0],c+b[0].length):-1}function ve(a,b,c){ma.lastIndex=0;return(b=ma.exec(b.substring(c,c+2)))?(a.S=+b[0],c+b[0].length):-1}function ec(a,b,c){ma.lastIndex=0;return(b=ma.exec(b.substring(c,
c+3)))?(a.L=+b[0],c+b[0].length):-1}function Kb(a){var b=a.getTimezoneOffset();a=0<b?"-":"+";var c=~~(K(b)/60),b=K(b)%60;return a+ua(c,"0",2)+ua(b,"0",2)}function sd(a,b,c){Uf.lastIndex=0;return(a=Uf.exec(b.substring(c,c+1)))?c+a[0].length:-1}function Pb(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,d=a[c];!d[1](b);)d=a[++c];return d[0](b)}}function Nc(){}function nc(a,b,c){var d=c.s=a+b,e=d-a;c.t=a-(d-e)+(b-e)}function oc(a,b){if(a&&Vf.hasOwnProperty(a.type))Vf[a.type](a,
b)}function Qb(a,b,c){var d=-1;c=a.length-c;var e;for(b.lineStart();++d<c;)e=a[d],b.point(e[0],e[1],e[2]);b.lineEnd()}function pc(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)Qb(a[c],b,1);b.polygonEnd()}function fb(){function a(b,c){b*=I;c=c*I/2+G/4;var g=b-d,C=0<=g?1:-1,h=C*g,g=Math.cos(c),k=Math.sin(c),L=f*k,V=e*g+L*Math.cos(h),C=L*C*Math.sin(h);Xb.add(Math.atan2(C,V));d=b;e=g;f=k}var b,c,d,e,f;Sa.point=function(g,h){Sa.point=a;d=(b=g)*I;e=Math.cos(h=(c=h)*I/2+G/4);f=Math.sin(h)};Sa.lineEnd=
function(){a(b,c)}}function ya(a){var b=a[0];a=a[1];var c=Math.cos(a);return[c*Math.cos(b),c*Math.sin(b),Math.sin(a)]}function qc(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function gb(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Oc(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function rc(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function sc(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function Rb(a){return[Math.atan2(a[1],a[0]),T(a[2])]}function Sb(a,
b){return K(a[0]-b[0])<D&&K(a[1]-b[1])<D}function Lb(a,b){a*=I;var c=Math.cos(b*=I);yb(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function yb(a,b,c){++Xc;tb+=(a-tb)/Xc;ub+=(b-ub)/Xc;nb+=(c-nb)/Xc}function we(){function a(e,f){e*=I;var g=Math.cos(f*=I),C=g*Math.cos(e),g=g*Math.sin(e),h=Math.sin(f),k=Math.atan2(Math.sqrt((k=c*h-d*g)*k+(k=d*C-b*h)*k+(k=b*g-c*C)*k),b*C+c*g+d*h);uc+=k;Wa+=k*(b+(b=C));Xa+=k*(c+(c=g));Pa+=k*(d+(d=h));yb(b,c,d)}var b,c,d;ib.point=function(e,f){e*=I;var g=Math.cos(f*=I);b=g*
Math.cos(e);c=g*Math.sin(e);d=Math.sin(f);ib.point=a;yb(b,c,d)}}function td(){ib.point=Lb}function fe(){function a(b,c){b*=I;var g=Math.cos(c*=I),C=g*Math.cos(b),g=g*Math.sin(b),h=Math.sin(c),k=e*h-f*g,L=f*C-d*h,V=d*g-e*C,l=Math.sqrt(k*k+L*L+V*V),m=d*C+e*g+f*h,p=l&&-gc(m)/l,l=Math.atan2(l,m);Cb+=p*k;Db+=p*L;ob+=p*V;uc+=l;Wa+=l*(d+(d=C));Xa+=l*(e+(e=g));Pa+=l*(f+(f=h));yb(d,e,f)}var b,c,d,e,f;ib.point=function(g,h){b=g;c=h;ib.point=a;g*=I;var k=Math.cos(h*=I);d=k*Math.cos(g);e=k*Math.sin(g);f=Math.sin(h);
yb(d,e,f)};ib.lineEnd=function(){a(b,c);ib.lineEnd=td;ib.point=Lb}}function hb(){return!0}function ud(a,b,c,d,e){var f=[],g=[];a.forEach(function(a){if(!(0>=(b=a.length-1))){var b,c=a[0],d=a[b];if(Sb(c,d)){e.lineStart();for(d=0;d<b;++d)e.point((c=a[d])[0],c[1]);e.lineEnd()}else b=new tc(c,a,null,!0),c=new tc(c,null,b,!1),b.o=c,f.push(b),g.push(c),b=new tc(d,a,null,!1),c=new tc(d,null,b,!0),b.o=c,f.push(b),g.push(c)}});g.sort(b);vd(f);vd(g);if(f.length){a=0;b=c;for(c=g.length;a<c;++a)g[a].e=b=!b;b=
f[0];for(var h,k;;){for(var l=b,m=!0;l.v;)if((l=l.n)===b)return;h=l.z;e.lineStart();do{l.v=l.o.v=!0;if(l.e){if(m)for(a=0,c=h.length;a<c;++a)e.point((k=h[a])[0],k[1]);else d(l.x,l.n.x,1,e);l=l.n}else{if(m)for(h=l.p.z,a=h.length-1;0<=a;--a)e.point((k=h[a])[0],k[1]);else d(l.x,l.p.x,-1,e);l=l.p}l=l.o;h=l.z;m=!m}while(!l.v);e.lineEnd()}}}function vd(a){if(b=a.length){for(var b,c=0,d=a[0],e;++c<b;)d.n=e=a[c],e.p=d,d=e;d.n=e=a[0];e.p=d}}function tc(a,b,c,d){this.x=a;this.z=b;this.o=c;this.e=d;this.v=!1;
this.n=this.p=null}function Tb(a,b,c,d){return function(e,f){function g(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&f.point(b,c)}function h(a,b){var c=e(a,b);r.point(c[0],c[1])}function k(){v.point=h;r.lineStart()}function l(){v.point=g;r.lineEnd()}function m(a,b){x.push([a,b]);var c=e(a,b);u.point(c[0],c[1])}function p(){u.lineStart();x=[]}function q(){m(x[0][0],x[0][1]);u.lineEnd();var a=u.clean(),b=La.buffer(),c=b.length;x.pop();w.push(x);x=null;if(c)if(a&1){var a=b[0],c=a.length-1,b=-1,d;if(0<c){ca||
(f.polygonStart(),ca=!0);for(f.lineStart();++b<c;)f.point((d=a[b])[0],d[1]);f.lineEnd()}}else 1<c&&a&2&&b.push(b.pop().concat(b.shift())),Vb.push(b.filter(xe))}var r=b(f),s=e.invert(d[0],d[1]),v={point:g,lineStart:k,lineEnd:l,polygonStart:function(){v.point=m;v.lineStart=p;v.lineEnd=q;Vb=[];w=[]},polygonEnd:function(){v.point=g;v.lineStart=k;v.lineEnd=l;Vb=t.merge(Vb);var a,b=s;a=w;var d=b[0],e=b[1],C=[Math.sin(d),-Math.cos(d),0],h=0,L=0;Xb.reset();for(var R=0,U=a.length;R<U;++R){var m=a[R],la=m.length;
if(la)for(var p=m[0],Ba=p[0],b=p[1]/2+G/4,q=Math.sin(b),Ad=Math.cos(b),r=1;;){r===la&&(r=0);var b=m[r],Tc=b[0],Uc=b[1]/2+G/4,u=Math.sin(Uc),Uc=Math.cos(Uc),La=Tc-Ba,x=0<=La?1:-1,Wb=x*La,y=Wb>G,q=q*u;Xb.add(Math.atan2(q*x*Math.sin(Wb),Ad*Uc+q*Math.cos(Wb)));h+=y?La+x*Ta:La;y^Ba>=d^Tc>=d&&(p=gb(ya(p),ya(b)),sc(p),Ba=gb(C,p),sc(Ba),Ba=(y^0<=La?-1:1)*T(Ba[2]),e>Ba||e===Ba&&(p[0]||p[1]))&&(L+=y^0<=La?1:-1);if(!r++)break;Ba=Tc;q=u;Ad=Uc;p=b}}a=(h<-D||h<D&&0>Xb)^L&1;Vb.length?(ca||(f.polygonStart(),ca=!0),
ud(Vb,wd,a,c,f)):a&&(ca||(f.polygonStart(),ca=!0),f.lineStart(),c(null,null,1,f),f.lineEnd());ca&&(f.polygonEnd(),ca=!1);Vb=w=null},sphere:function(){f.polygonStart();f.lineStart();c(null,null,1,f);f.lineEnd();f.polygonEnd()}},Vb,La=zb(),u=b(La),ca=!1,w,x;return v}}function xe(a){return 1<a.length}function zb(){var a=[],b;return{lineStart:function(){a.push(b=[])},point:function(a,c){b.push([a,c])},lineEnd:r,buffer:function(){var c=a;a=[];b=null;return c},rejoin:function(){1<a.length&&a.push(a.pop().concat(a.shift()))}}}
function wd(a,b){return(0>(a=a.x)[0]?a[1]-Ca-D:Ca-a[1])-(0>(b=b.x)[0]?b[1]-Ca-D:Ca-b[1])}function Pc(a){function b(a,c){return Math.cos(a)*Math.cos(c)>e}function c(a,b,d){var f=ya(a),g=ya(b),C=[1,0,0],g=gb(f,g),h=qc(g,g),f=g[0],k=h-f*f;if(!k)return!d&&a;h=e*h/k;k=-e*f/k;f=gb(C,g);C=rc(C,h);g=rc(g,k);Oc(C,g);g=qc(C,f);h=qc(f,f);k=g*g-h*(qc(C,C)-1);if(!(0>k)){var L=Math.sqrt(k),k=rc(f,(-g-L)/h);Oc(k,C);k=Rb(k);if(!d)return k;d=a[0];var V=b[0];a=a[1];b=b[1];var l;V<d&&(l=d,d=V,V=l);var R=V-d,S=K(R-G)<
D,m=S||R<D;!S&&b<a&&(l=a,a=b,b=l);if(m?S?0<a+b^k[1]<(K(k[0]-d)<D?a:b):a<=k[1]&&k[1]<=b:R>G^(d<=k[0]&&k[0]<=V))return b=rc(f,(-g+L)/h),Oc(b,C),[k,Rb(b)]}}function d(b,c){var e=f?a:G-a,g=0;b<-e?g|=1:b>e&&(g|=2);c<-e?g|=4:c>e&&(g|=8);return g}var e=Math.cos(a),f=0<e,g=K(e)>D,h=ne(a,6*I);return Tb(b,function(a){var e,C,h,k,l;return{lineStart:function(){k=h=!1;l=1},point:function(U,m){var la=[U,m],p,q=b(U,m),r=f?q?0:d(U,m):q?d(U+(0>U?G:-G),m):0;!e&&(k=h=q)&&a.lineStart();q!==h&&(p=c(e,la),Sb(e,p)||Sb(la,
p))&&(la[0]+=D,la[1]+=D,q=b(la[0],la[1]));if(q!==h)l=0,q?(a.lineStart(),p=c(la,e),a.point(p[0],p[1])):(p=c(e,la),a.point(p[0],p[1]),a.lineEnd()),e=p;else if(g&&e&&f^q){var t;r&C||!(t=c(la,e,!0))||(l=0,f?(a.lineStart(),a.point(t[0][0],t[0][1]),a.point(t[1][0],t[1][1]),a.lineEnd()):(a.point(t[1][0],t[1][1]),a.lineEnd(),a.lineStart(),a.point(t[0][0],t[0][1])))}!q||e&&Sb(e,la)||a.point(la[0],la[1]);e=la;h=q;C=r},lineEnd:function(){h&&a.lineEnd();e=null},clean:function(){return l|(k&&h)<<1}}},h,f?[0,-a]:
[-G,a-G])}function Qc(a,b,c,d){return function(e){var f=e.a,g=e.b,h=f.x,f=f.y,k=0,l=1,m=g.x-h,g=g.y-f,p;p=a-h;if(m||!(0<p)){p/=m;if(0>m){if(p<k)return;p<l&&(l=p)}else if(0<m){if(p>l)return;p>k&&(k=p)}p=c-h;if(m||!(0>p)){p/=m;if(0>m){if(p>l)return;p>k&&(k=p)}else if(0<m){if(p<k)return;p<l&&(l=p)}p=b-f;if(g||!(0<p)){p/=g;if(0>g){if(p<k)return;p<l&&(l=p)}else if(0<g){if(p>l)return;p>k&&(k=p)}p=d-f;if(g||!(0>p)){p/=g;if(0>g){if(p>l)return;p>k&&(k=p)}else if(0<g){if(p<k)return;p<l&&(l=p)}0<k&&(e.a={x:h+
k*m,y:f+k*g});1>l&&(e.b={x:h+l*m,y:f+l*g});return e}}}}}}function Rc(a,b,c,d){function e(d,f){return K(d[0]-a)<D?0<f?0:3:K(d[0]-c)<D?0<f?2:1:K(d[1]-b)<D?0<f?1:0:0<f?3:2}function f(a,b){return g(a.x,b.x)}function g(a,b){var c=e(a,1),d=e(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(h){function k(f,h,l,S){var m=0,la=0;if(null==f||(m=e(f,l))!==(la=e(h,l))||0>g(f,h)^0<l){do S.point(0===m||3===m?a:c,1<m?d:b);while((m=(m+l+4)%4)!==la)}else S.point(h[0],
h[1])}function l(e,f){a<=e&&e<=c&&b<=f&&f<=d&&h.point(e,f)}function m(e,f){e=Math.max(-Gd,Math.min(Gd,e));f=Math.max(-Gd,Math.min(Gd,f));var g=a<=e&&e<=c&&b<=f&&f<=d;v&&u.push([e,f]);if(Be)w=e,ca=f,x=g,Be=!1,g&&(h.lineStart(),h.point(e,f));else if(g&&Ma)h.point(e,f);else{var k={a:{x:y,y:mb},b:{x:e,y:f}};r(k)?(Ma||(h.lineStart(),h.point(k.a.x,k.a.y)),h.point(k.b.x,k.b.y),g||h.lineEnd(),z=!1):g&&(h.lineStart(),h.point(e,f),z=!1)}y=e;mb=f;Ma=g}var p=h,q=zb(),r=Qc(a,b,c,d),s,v,u,La={point:l,lineStart:function(){La.point=
m;v&&v.push(u=[]);Be=!0;Ma=!1;y=mb=NaN},lineEnd:function(){s&&(m(w,ca),x&&Ma&&q.rejoin(),s.push(q.buffer()));La.point=l;Ma&&h.lineEnd()},polygonStart:function(){h=q;s=[];v=[];z=!0},polygonEnd:function(){h=p;s=t.merge(s);var b;b=[a,d];for(var c=0,e=v.length,g=b[1],L=0;L<e;++L)for(var V=1,l=v[L],U=l.length,m=l[0],Aa;V<U;++V)Aa=l[V],m[1]<=g?Aa[1]>g&&0<Ac(m,Aa,b)&&++c:Aa[1]<=g&&0>Ac(m,Aa,b)&&--c,m=Aa;b=0!==c;c=z&&b;e=s.length;if(c||e)h.polygonStart(),c&&(h.lineStart(),k(null,null,1,h),h.lineEnd()),e&&
ud(s,f,b,k,h),h.polygonEnd();s=v=u=null}},w,ca,x,y,mb,Ma,Be,z;return La}}function xd(a,b){function c(d,e){return d=a(d,e),b(d[0],d[1])}a.invert&&b.invert&&(c.invert=function(c,d){return c=b.invert(c,d),c&&a.invert(c[0],c[1])});return c}function Sc(a){var b=0,c=G/3,d=ke(a);a=d(b,c);a.parallels=function(a){return arguments.length?d(b=a[0]*G/180,c=a[1]*G/180):[b/G*180,c/G*180]};return a}function aa(a,b){function c(a,b){var d=Math.sqrt(f-2*e*Math.sin(b))/e;return[d*Math.sin(a*=e),g-d*Math.cos(a)]}var d=
Math.sin(a),e=(d+Math.sin(b))/2,f=1+d*(2*e-d),g=Math.sqrt(f)/e;c.invert=function(a,b){var c=g-b;return[Math.atan2(a,c)/e,T((f-(a*a+c*c)*e*e)/(2*e))]};return c}function Ja(){function a(b,c){Hd+=e*b-d*c;d=b;e=c}var b,c,d,e;Eb.point=function(f,g){Eb.point=a;b=d=f;c=e=g};Eb.lineEnd=function(){a(b,c)}}function ha(){function a(b,c){g.push("M",b,",",c,f)}function b(a,d){g.push("M",a,",",d);h.point=c}function c(a,b){g.push("L",a,",",b)}function d(){h.point=a}function e(){g.push("Z")}var f=Hb(4.5),g=[],h=
{point:a,lineStart:function(){h.point=b},lineEnd:d,polygonStart:function(){h.lineEnd=e},polygonEnd:function(){h.lineEnd=d;h.point=a},pointRadius:function(a){f=Hb(a);return h},result:function(){if(g.length){var a=g.join("");g=[];return a}}};return h}function Hb(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Ib(a,b){tb+=a;ub+=b;++nb}function ef(){function a(d,e){var f=d-b,g=e-c,f=Math.sqrt(f*f+g*g);Wa+=f*(b+d)/2;Xa+=f*(c+e)/2;Pa+=f;Ib(b=d,c=e)}var b,c;jb.point=
function(d,e){jb.point=a;Ib(b=d,c=e)}}function ff(){jb.point=Ib}function $g(){function a(b,c){var f=b-d,g=c-e,f=Math.sqrt(f*f+g*g);Wa+=f*(d+b)/2;Xa+=f*(e+c)/2;Pa+=f;f=e*b-d*c;Cb+=f*(d+b);Db+=f*(e+c);ob+=3*f;Ib(d=b,e=c)}var b,c,d,e;jb.point=function(f,g){jb.point=a;Ib(b=d=f,c=e=g)};jb.lineEnd=function(){a(b,c)}}function ah(a){function b(c,d){a.moveTo(c,d);a.arc(c,d,g,0,Ta)}function c(b,e){a.moveTo(b,e);h.point=d}function d(b,c){a.lineTo(b,c)}function e(){h.point=b}function f(){a.closePath()}var g=
4.5,h={point:b,lineStart:function(){h.point=c},lineEnd:e,polygonStart:function(){h.lineEnd=f},polygonEnd:function(){h.lineEnd=e;h.point=b},pointRadius:function(a){g=a;return h},result:r};return h}function gf(a){function b(a){return(h?d:c)(a)}function c(b){return jf(b,function(c,d){c=a(c,d);b.point(c[0],c[1])})}function d(b){function c(d,e){d=a(d,e);b.point(d[0],d[1])}function f(){t=NaN;x.point=g;b.lineStart()}function g(c,d){var f=ya([c,d]),k=a(c,d);e(t,s,r,v,u,w,t=k[0],s=k[1],r=c,v=f[0],u=f[1],w=
f[2],h,b);b.point(t,s)}function k(){x.point=c;b.lineEnd()}function L(){f();x.point=l;x.lineEnd=V}function l(a,b){g(R=a,b);m=t;S=s;p=v;Aa=u;q=w;x.point=g}function V(){e(t,s,r,v,u,w,m,S,R,p,Aa,q,h,b);x.lineEnd=k;k()}var R,m,S,p,Aa,q,r,t,s,v,u,w,x={point:c,lineStart:f,lineEnd:k,polygonStart:function(){b.polygonStart();x.lineStart=L},polygonEnd:function(){b.polygonEnd();x.lineStart=f}};return x}function e(b,c,d,h,k,L,l,V,R,m,p,la,q,r){var t=l-b,s=V-c,v=t*t+s*s;if(v>4*f&&q--){var u=h+m,w=k+p,x=L+la,y=
Math.sqrt(u*u+w*w+x*x),z=Math.asin(x/=y),B=K(K(x)-1)<D||K(d-R)<D?(d+R)/2:Math.atan2(w,u),A=a(B,z),z=A[0],A=A[1],E=z-b,H=A-c,F=s*E-t*H;if(F*F/v>f||.3<K((t*E+s*H)/v-.5)||h*m+k*p+L*la<g)e(b,c,d,h,k,L,z,A,B,u/=y,w/=y,x,q,r),r.point(z,A),e(z,A,B,u,w,x,l,V,R,m,p,la,q,r)}}var f=.5,g=Math.cos(30*I),h=16;b.precision=function(a){if(!arguments.length)return Math.sqrt(f);h=0<(f=a*a)&&16;return b};return b}function bh(a){var b=gf(function(b,c){return a([b*ga,c*ga])});return function(a){return Af(b(a))}}function hf(a){this.stream=
a}function jf(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function lb(a){return ke(function(){return a})()}function ke(a){function b(a){a=h(a[0]*I,a[1]*I);return[a[0]*l+w,x-a[1]*l]}function c(a){return(a=h.invert((a[0]-w)/l,(x-a[1])/l))&&[a[0]*ga,a[1]*ga]}function d(){h=xd(g=me(s,v,u),f);var a=f(q,r);w=m-a[0]*l;x=p+a[1]*l;return e()}function e(){Ma&&
(Ma.valid=!1,Ma=null);return b}var f,g,h,k=gf(function(a,b){a=f(a,b);return[a[0]*l+w,x-a[1]*l]}),l=150,m=480,p=250,q=0,r=0,s=0,v=0,u=0,w,x,ca=Wf,Wc=ka,y=null,mb=null,Ma;b.stream=function(a){Ma&&(Ma.valid=!1);Ma=Af(ca(g,k(Wc(a))));Ma.valid=!0;return Ma};b.clipAngle=function(a){if(!arguments.length)return y;ca=null==a?(y=a,Wf):Pc((y=+a)*I);return e()};b.clipExtent=function(a){if(!arguments.length)return mb;Wc=(mb=a)?Rc(a[0][0],a[0][1],a[1][0],a[1][1]):ka;return e()};b.scale=function(a){if(!arguments.length)return l;
l=+a;return d()};b.translate=function(a){if(!arguments.length)return[m,p];m=+a[0];p=+a[1];return d()};b.center=function(a){if(!arguments.length)return[q*ga,r*ga];q=a[0]%360*I;r=a[1]%360*I;return d()};b.rotate=function(a){if(!arguments.length)return[s*ga,v*ga,u*ga];s=a[0]%360*I;v=a[1]%360*I;u=2<a.length?a[2]%360*I:0;return d()};t.rebind(b,k,"precision");return function(){f=a.apply(this,arguments);b.invert=f.invert&&c;return d()}}function Af(a){return jf(a,function(b,c){a.point(b*I,c*I)})}function Dc(a,
b){return[a,b]}function Ef(a,b){return[a>G?a-Ta:a<-G?a+Ta:a,b]}function me(a,b,c){return a?b||c?xd(rf(a),uf(b,c)):rf(a):b||c?uf(b,c):Ef}function Ff(a){return function(b,c){return b+=a,[b>G?b-Ta:b<-G?b+Ta:b,c]}}function rf(a){var b=Ff(a);b.invert=Ff(-a);return b}function uf(a,b){function c(a,b){var C=Math.cos(b),h=Math.cos(a)*C,C=Math.sin(a)*C,k=Math.sin(b),L=k*d+h*e;return[Math.atan2(C*f-L*g,h*d-k*e),T(L*f+C*g)]}var d=Math.cos(a),e=Math.sin(a),f=Math.cos(b),g=Math.sin(b);c.invert=function(a,b){var c=
Math.cos(b),C=Math.cos(a)*c,c=Math.sin(a)*c,h=Math.sin(b),k=h*f-c*g;return[Math.atan2(c*f+h*g,C*d+k*e),T(k*d-C*e)]};return c}function ne(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,g,h){var k=g*b;if(null!=e){if(e=Gf(c,e),f=Gf(c,f),0<g?e<f:e>f)e+=g*Ta}else e=a+g*Ta,f=a-.5*k;for(var l;0<g?e>f:e<f;e-=k)h.point((l=Rb([c,-d*Math.cos(e),-d*Math.sin(e)]))[0],l[1])}}function Gf(a,b){var c=ya(b);c[0]-=a;sc(c);var d=gc(-c[1]);return((0>-c[2]?-d:d)+2*Math.PI-D)%(2*Math.PI)}function sf(a,b,c){var d=
t.range(a,b-D,c).concat(b);return function(a){return d.map(function(b){return[a,b]})}}function Hf(a,b,c){var d=t.range(a,b-D,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function je(a){return a.source}function le(a){return a.target}function rh(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),g=Math.cos(d),h=Math.sin(d),k=e*Math.cos(a),l=e*Math.sin(a),m=g*Math.cos(c),q=g*Math.sin(c),r=2*Math.asin(Math.sqrt(p(d-b)+e*g*p(c-a))),t=1/Math.sin(r);c=r?function(a){var b=Math.sin(a*=r)*
t,c=Math.sin(r-a)*t;a=c*k+b*m;var d=c*l+b*q,b=c*f+b*h;return[Math.atan2(d,a)*ga,Math.atan2(b,Math.sqrt(a*a+d*d))*ga]}:function(){return[a*ga,b*ga]};c.distance=r;return c}function Ec(a,b){function c(b,d){var e=Math.cos(b),f=Math.cos(d),e=a(e*f);return[e*f*Math.sin(b),e*Math.sin(d)]}c.invert=function(a,c){var d=Math.sqrt(a*a+c*c),e=b(d),f=Math.sin(e),e=Math.cos(e);return[Math.atan2(a*f,d*e),Math.asin(d&&c*f/d)]};return c}function nf(a,b){function c(a,b){0<f?b<-Ca+D&&(b=-Ca+D):b>Ca-D&&(b=Ca-D);var d=
f/Math.pow(Math.tan(G/4+b/2),e);return[d*Math.sin(e*a),f-d*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):Math.log(d/Math.cos(b))/Math.log(Math.tan(G/4+b/2)/Math.tan(G/4+a/2)),f=d*Math.pow(Math.tan(G/4+a/2),e)/e;if(!e)return gd;c.invert=function(a,b){var c=f-b,d=(0<e?1:0>e?-1:0)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/e,2*Math.atan(Math.pow(f/d,1/e))-Ca]};return c}function mf(a,b){function c(a,b){var d=f-b;return[d*Math.sin(e*a),f-d*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):(d-
Math.cos(b))/(b-a),f=d/e+a;if(K(e)<D)return Dc;c.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/e,f-(0<e?1:0>e?-1:0)*Math.sqrt(a*a+c*c)]};return c}function gd(a,b){return[a,Math.log(Math.tan(G/4+b/2))]}function of(a){var b=lb(a),c=b.scale,d=b.translate,e=b.clipExtent,f;b.scale=function(){var a=c.apply(b,arguments);return a===b?f?b.clipExtent(null):b:a};b.translate=function(){var a=d.apply(b,arguments);return a===b?f?b.clipExtent(null):b:a};b.clipExtent=function(a){var g=e.apply(b,arguments);
if(g===b){if(f=null==a){var h=G*c(),C=d();e([[C[0]-h,C[1]-h],[C[0]+h,C[1]+h]])}}else f&&(g=null);return g};return b.clipExtent(null)}function ie(a,b){return[Math.log(Math.tan(G/4+b/2)),-a]}function ic(a){return a[0]}function Fc(a){return a[1]}function pf(a){for(var b=a.length,c=[0,1],d=2,e=2;e<b;e++){for(;1<d&&0>=Ac(a[c[d-2]],a[c[d-1]],a[e]);)--d;c[d++]=e}return c.slice(0,d)}function qa(a,b){return a[0]-b[0]||a[1]-b[1]}function ge(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function Na(a,
b,c,d){var e=a[0],f=c[0],g=b[0]-e,h=d[0]-f;a=a[1];c=c[1];b=b[1]-a;d=d[1]-c;f=(h*(a-c)-d*(e-f))/(d*g-h*b);return[e+f*g,a+f*b]}function xf(a){var b=a[0];a=a[a.length-1];return!(b[0]-a[0]||b[1]-a[1])}function sh(){fd(this);this.edge=this.site=this.circle=null}function If(a){var b=Xf.pop()||new sh;b.site=a;return b}function oe(a){hc(a);vc.remove(a);Xf.push(a);fd(a)}function Jf(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var g=a.P;if(!g)return-Infinity;var c=g.site,g=c.x,c=c.y,h=c-b;if(!h)return g;
var k=g-d,l=1/f-1/h,m=k/h;return l?(-m+Math.sqrt(m*m-2*l*(k*k/(-2*h)-c+h/2+e-f/2)))/l+d:(d+g)/2}function wf(a){this.site=a;this.edges=[]}function vf(a,b){return b.angle-a.angle}function th(){fd(this);this.x=this.y=this.arc=this.site=this.cy=null}function jc(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,b=a.site,e=c.site;if(d!==e){var c=b.x,f=b.y,g=d.x-c,h=d.y-f,d=e.x-c,e=e.y-f,k=2*(g*e-h*d);if(!(k>=-De)){var l=g*g+h*h,m=d*d+e*e,h=(e*l-h*m)/k,g=(g*m-d*l)/k,e=g+f,f=Yf.pop()||new th;f.arc=a;f.site=b;f.x=
h+c;f.y=e+Math.sqrt(h*h+g*g);f.cy=e;a.circle=f;a=null;for(b=Yc._;b;)if(f.y<b.y||f.y===b.y&&f.x<=b.x)if(b.L)b=b.L;else{a=b.P;break}else if(b.R)b=b.R;else{a=b;break}Yc.insert(a,f);a||(Ee=f)}}}}function hc(a){var b=a.circle;b&&(b.P||(Ee=b.N),Yc.remove(b),Yf.push(b),fd(b),a.circle=null)}function uh(a,b){var c=a.b;if(c)return!0;var d=a.a,c=b[0][0],e=b[1][0],f=b[0][1],g=b[1][1],h=a.l,k=a.r,l=h.x,h=h.y,m=k.x,k=k.y,p=(l+m)/2,q;if(k===h){if(p<c||p>=e)return;if(l>m){if(!d)d={x:p,y:f};else if(d.y>=g)return;
c={x:p,y:g}}else{if(!d)d={x:p,y:g};else if(d.y<f)return;c={x:p,y:f}}}else if(q=(l-m)/(k-h),p=(h+k)/2-q*p,-1>q||1<q)if(l>m){if(!d)d={x:(f-p)/q,y:f};else if(d.y>=g)return;c={x:(g-p)/q,y:g}}else{if(!d)d={x:(g-p)/q,y:g};else if(d.y<f)return;c={x:(f-p)/q,y:f}}else if(h<k){if(!d)d={x:c,y:q*c+p};else if(d.x>=e)return;c={x:e,y:q*e+p}}else{if(!d)d={x:e,y:q*e+p};else if(d.x<c)return;c={x:c,y:q*c+p}}a.a=d;a.b=c;return!0}function qf(a,b){this.l=a;this.r=b;this.a=this.b=null}function Gc(a,b,c,d){var e=new qf(a,
b);wc.push(e);c&&hd(e,a,b,c);d&&hd(e,b,a,d);Yb[a.i].edges.push(new id(e,a,b));Yb[b.i].edges.push(new id(e,b,a));return e}function ph(a,b,c){a=new qf(a,null);a.a=b;a.b=c;wc.push(a);return a}function hd(a,b,c,d){a.a||a.b?a.l===c?a.b=d:a.a=d:(a.a=d,a.l=b,a.r=c)}function id(a,b,c){var d=a.a,e=a.b;this.edge=a;this.site=b;this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function pe(){this._=null}function fd(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function Hc(a,
b){var c=b.R,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.R=c.L;b.R&&(b.R.U=b);c.L=b}function Ic(a,b){var c=b.L,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.L=c.R;b.L&&(b.L.U=b);c.R=b}function Kf(a){for(;a.L;)a=a.L;return a}function qe(a,b){var c=a.sort(vh).pop(),d,e,f;wc=[];Yb=Array(a.length);vc=new pe;for(Yc=new pe;;)if(f=Ee,c&&(!f||c.y<f.y||c.y===f.y&&c.x<f.x)){if(c.x!==d||c.y!==e){Yb[c.i]=new wf(c);d=c;for(var g=d.x,h=d.y,k=f=e=void 0,l=void 0,m=vc._;m;)if(k=Jf(m,h)-g,k>D)m=m.L;else{var l=
g,p,q=m;p=h;var r=q.N;r?p=Jf(r,p):(q=q.site,p=q.y===p?q.x:Infinity);l-=p;if(l>D){if(!m.R){e=m;break}m=m.R}else{k>-D?(e=m.P,f=m):l>-D?(e=m,f=m.N):e=f=m;break}}g=If(d);vc.insert(e,g);if(e||f)if(e===f)hc(e),f=If(e.site),vc.insert(g,f),g.edge=f.edge=Gc(e.site,g.site),jc(e),jc(f);else if(f){hc(e);hc(f);h=e.site;m=h.x;l=h.y;p=d.x-m;var q=d.y-l,k=f.site,r=k.x-m,t=k.y-l,s=2*(p*t-q*r),v=p*p+q*q,u=r*r+t*t,m={x:(t*v-q*u)/s+m,y:(p*u-r*v)/s+l};hd(f.edge,h,k,m);g.edge=Gc(h,d,null,m);f.edge=Gc(d,k,null,m);jc(e);
jc(f)}else g.edge=Gc(e.site,g.site);d=c.x;e=c.y}c=a.pop()}else if(f){k=f.arc;f=k.circle;h=f.x;m=f.cy;f={x:h,y:m};p=k.P;l=k.N;g=[k];oe(k);for(k=p;k.circle&&K(h-k.circle.x)<D&&K(m-k.circle.cy)<D;)p=k.P,g.unshift(k),oe(k),k=p;g.unshift(k);hc(k);for(p=l;p.circle&&K(h-p.circle.x)<D&&K(m-p.circle.cy)<D;)l=p.N,g.push(p),oe(p),p=l;g.push(p);hc(p);h=g.length;for(m=1;m<h;++m)p=g[m],k=g[m-1],hd(p.edge,k.site,p.site,f);k=g[0];p=g[h-1];p.edge=Gc(k.site,p.site,null,f);jc(k);jc(p)}else break;if(b){c=wc;d=Qc(b[0][0],
b[0][1],b[1][0],b[1][1]);for(e=c.length;e--;)if(f=c[e],!uh(f,b)||!d(f)||K(f.a.x-f.b.x)<D&&K(f.a.y-f.b.y)<D)f.a=f.b=null,c.splice(e,1);c=b[0][0];d=b[1][0];e=b[0][1];f=b[1][1];m=Yb;for(l=m.length;l--;)if((p=m[l])&&p.prepare())for(r=p.edges,t=r.length,q=0;q<t;)if(s=r[q].end(),h=s.x,k=s.y,v=r[++q%t].start(),g=v.x,v=v.y,K(h-g)>D||K(k-v)>D)r.splice(q,0,new id(ph(p.site,s,K(h-c)<D&&f-k>D?{x:c,y:K(g-c)<D?v:f}:K(k-f)<D&&d-h>D?{x:K(v-f)<D?g:d,y:f}:K(h-d)<D&&k-e>D?{x:d,y:K(g-d)<D?v:e}:K(k-e)<D&&h-c>D?{x:K(v-
e)<D?g:c,y:e}:null),p.site,null)),++t}c={cells:Yb,edges:wc};vc=Yc=wc=Yb=null;return c}function vh(a,b){return b.y-a.y||b.x-a.x}function wh(a){return a.x}function xh(a){return a.y}function Lf(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function bb(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=.5*(c+e),h=.5*(d+f);b=b.nodes;b[0]&&bb(a,b[0],c,d,g,h);b[1]&&bb(a,b[1],g,d,e,h);b[2]&&bb(a,b[2],c,h,g,f);b[3]&&bb(a,b[3],g,h,e,f)}}function he(a,b){a=t.rgb(a);b=t.rgb(b);var c=a.r,d=a.g,e=a.b,f=b.r-c,g=b.g-d,h=
b.b-e;return function(a){return"#"+ia(Math.round(c+f*a))+ia(Math.round(d+g*a))+ia(Math.round(e+h*a))}}function tf(a,b){var c={},d={},e;for(e in a)e in b?c[e]=Ha(a[e],b[e]):d[e]=a[e];for(e in b)e in a||(d[e]=b[e]);return function(a){for(e in c)d[e]=c[e](a);return d}}function ab(a,b){b-=a=+a;return function(c){return a+b*c}}function cb(a,b){var c=Fe.lastIndex=Ge.lastIndex=0,d,e,f,g=-1,h=[],k=[];a+="";for(b+="";(d=Fe.exec(a))&&(e=Ge.exec(b));)(f=e.index)>c&&(f=b.substring(c,f),h[g]?h[g]+=f:h[++g]=f),
(d=d[0])===(e=e[0])?h[g]?h[g]+=e:h[++g]=e:(h[++g]=null,k.push({i:g,x:ab(d,e)})),c=Ge.lastIndex;c<b.length&&(f=b.substring(c),h[g]?h[g]+=f:h[++g]=f);return 2>h.length?k[0]?(b=k[0].x,function(a){return b(a)+""}):function(){return b}:(b=k.length,function(a){for(var c=0,d;c<b;++c)h[(d=k[c]).i]=d.x(a);return h.join("")})}function Ha(a,b){for(var c=t.interpolators.length,d;0<=--c&&!(d=t.interpolators[c](a,b)););return d}function jd(a,b){var c=[],d=[],e=a.length,f=b.length,g=Math.min(a.length,b.length),
h;for(h=0;h<g;++h)c.push(Ha(a[h],b[h]));for(;h<e;++h)d[h]=a[h];for(;h<f;++h)d[h]=b[h];return function(a){for(h=0;h<g;++h)d[h]=c[h](a);return d}}function ch(a){return function(b){return 0>=b?0:1<=b?1:a(b)}}function kf(a){return function(b){return 1-a(1-b)}}function lf(a){return function(b){return.5*(.5>b?a(2*b):2-a(2-2*b))}}function dh(a){return a*a}function eh(a){return a*a*a}function fh(a){if(0>=a)return 0;if(1<=a)return 1;var b=a*a,c=b*a;return 4*(.5>a?c:3*(a-b)+c-.75)}function gh(a){return 1-Math.cos(a*
Ca)}function hh(a){return Math.pow(2,10*(a-1))}function ih(a){return 1-Math.sqrt(1-a*a)}function jh(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function yf(a,b){b-=a;return function(c){return Math.round(a+b*c)}}function zf(a){var b=[a.a,a.b],c=[a.c,a.d],d=Bf(b),e=b[0]*c[0]+b[1]*c[1],f=-e;c[0]+=f*b[0];c[1]+=f*b[1];f=Bf(c)||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1);this.rotate=(d?Math.atan2(b[1],
b[0]):Math.atan2(-c[0],c[1]))*ga;this.translate=[a.e,a.f];this.scale=[d,f];this.skew=f?Math.atan2(e,f)*ga:0}function Bf(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);b&&(a[0]/=b,a[1]/=b);return b}function Cf(a,b){var c=[],d=[],e,f=t.transform(a),g=t.transform(b),h=f.translate,k=g.translate,l=f.rotate,m=g.rotate,p=f.skew,q=g.skew,f=f.scale,g=g.scale;h[0]!=k[0]||h[1]!=k[1]?(c.push("translate(",null,",",null,")"),d.push({i:1,x:ab(h[0],k[0])},{i:3,x:ab(h[1],k[1])})):k[0]||k[1]?c.push("translate("+k+")"):c.push("");
l!=m?(180<l-m?m+=360:180<m-l&&(l+=360),d.push({i:c.push(c.pop()+"rotate(",null,")")-2,x:ab(l,m)})):m&&c.push(c.pop()+"rotate("+m+")");p!=q?d.push({i:c.push(c.pop()+"skewX(",null,")")-2,x:ab(p,q)}):q&&c.push(c.pop()+"skewX("+q+")");f[0]!=g[0]||f[1]!=g[1]?(e=c.push(c.pop()+"scale(",null,",",null,")"),d.push({i:e-4,x:ab(f[0],g[0])},{i:e-2,x:ab(f[1],g[1])})):1==g[0]&&1==g[1]||c.push(c.pop()+"scale("+g+")");e=d.length;return function(a){for(var b=-1,f;++b<e;)c[(f=d[b]).i]=f.x(a);return c.join("")}}function kh(a,
b){b=b-(a=+a)?1/(b-a):0;return function(c){return(c-a)*b}}function lh(a,b){b=b-(a=+a)?1/(b-a):0;return function(c){return Math.max(0,Math.min(1,(c-a)*b))}}function mh(a){var b=a.source;a=a.target;var c,d=a;if(b===d)c=b;else{c=Df(b);for(var d=Df(d),e=c.pop(),f=d.pop(),g=null;e===f;)g=e,e=c.pop(),f=d.pop();c=g}for(d=[b];b!==c;)b=b.parent,d.push(b);for(b=d.length;a!==c;)d.splice(b,0,a),a=a.parent;return d}function Df(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;b.push(a);return b}function nh(a){a.fixed|=
2}function oh(a){a.fixed&=-7}function qh(a){a.fixed|=4;a.px=a.x;a.py=a.y}function Ch(a){a.fixed&=-5}function Zf(a,b,c){var d=0,e=0;a.charge=0;if(!a.leaf)for(var f=a.nodes,g=f.length,h=-1,k;++h<g;)k=f[h],null!=k&&(Zf(k,b,c),a.charge+=k.charge,d+=k.charge*k.cx,e+=k.charge*k.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5),b*=c[a.point.index],a.charge+=a.pointCharge=b,d+=b*a.point.x,e+=b*a.point.y);a.cx=d/a.charge;a.cy=e/a.charge}function Zc(a,b){t.rebind(a,b,"sort","children",
"value");a.nodes=a;a.links=Dh;return a}function $c(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;0<=--d;)c.push(e[d])}function pb(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(g=a.children)&&(f=g.length))for(var e=-1,f,g;++e<f;)c.push(g[e]);for(;null!=(a=d.pop());)b(a)}function Eh(a){return a.children}function Fh(a){return a.value}function Gh(a,b){return b.value-a.value}function Dh(a){return t.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,
target:b}})}))}function Hh(a){return a.x}function Ih(a){return a.y}function Jh(a,b,c){a.y0=b;a.y=c}function He(a){return t.range(a.length)}function Ie(a){var b=-1;a=a[0].length;for(var c=[];++b<a;)c[b]=0;return c}function Kh(a){for(var b=1,c=0,d=a[0][1],e,f=a.length;b<f;++b)(e=a[b][1])>d&&(c=b,d=e);return c}function Lh(a){return a.reduce(Mh,0)}function Mh(a,b){return a+b[1]}function Nh(a,b){return $f(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function $f(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=
[];++c<=b;)f[c]=e*c+d;return f}function Oh(a){return[t.min(a),t.max(a)]}function Ph(a,b){return a.value-b.value}function Je(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b}function ag(a,b){a._pack_next=b;b._pack_prev=a}function bg(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return.999*e*e>c*c+d*d}function cg(a){function b(a){d=Math.min(a.x-a.r,d);e=Math.max(a.x+a.r,e);f=Math.min(a.y-a.r,f);g=Math.max(a.y+a.r,g)}if((c=a.children)&&(r=c.length)){var c,d=Infinity,e=-Infinity,
f=Infinity,g=-Infinity,h,k,l,m,p,q,r;c.forEach(Qh);h=c[0];h.x=-h.r;h.y=0;b(h);if(1<r&&(k=c[1],k.x=k.r,k.y=0,b(k),2<r))for(l=c[2],dg(h,k,l),b(l),Je(h,l),h._pack_prev=l,Je(l,k),k=h._pack_next,m=3;m<r;m++){dg(h,k,l=c[m]);var t=0,s=1,v=1;for(p=k._pack_next;p!==k;p=p._pack_next,s++)if(bg(p,l)){t=1;break}if(1==t)for(q=h._pack_prev;q!==p._pack_prev&&!bg(q,l);q=q._pack_prev,v++);t?(s<v||s==v&&k.r<h.r?ag(h,k=p):ag(h=q,k),m--):(Je(h,l),k=l,b(l))}h=(d+e)/2;k=(f+g)/2;for(m=p=0;m<r;m++)l=c[m],l.x-=h,l.y-=k,p=
Math.max(p,l.r+Math.sqrt(l.x*l.x+l.y*l.y));a.r=p;c.forEach(Rh)}}function Qh(a){a._pack_next=a._pack_prev=a}function Rh(a){delete a._pack_next;delete a._pack_prev}function eg(a,b,c,d){var e=a.children;a.x=b+=d*a.x;a.y=c+=d*a.y;a.r*=d;if(e){a=-1;for(var f=e.length;++a<f;)eg(e[a],b,c,d)}}function dg(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f,g=g*g,d=d*d;b=.5+(d-g)/(2*h);g=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+b*e+g*f;c.y=a.y+b*f-g*e}else c.x=
a.x+d,c.y=a.y}function fg(a,b){return a.parent==b.parent?1:2}function Ke(a){var b=a.children;return b.length?b[0]:a.t}function Le(a){var b=a.children,c;return(c=b.length)?b[c-1]:a.t}function Sh(a){return 1+t.max(a,function(a){return a.y})}function Th(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function gg(a){var b=a.children;return b&&b.length?gg(b[0]):a}function hg(a){var b=a.children,c;return b&&(c=b.length)?hg(b[c-1]):a}function Me(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function ig(a,
b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];0>e&&(c+=e/2,e=0);0>f&&(d+=f/2,f=0);return{x:c,y:d,dx:e,dy:f}}function xc(a){var b=a[0];a=a[a.length-1];return b<a?[b,a]:[a,b]}function Id(a){return a.rangeExtent?a.rangeExtent():xc(a.range())}function Uh(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function Jd(a,b){var c=0,d=a.length-1,e=a[c],f=a[d],g;f<e&&(g=c,c=d,d=g,g=e,e=f,f=g);a[c]=b.floor(e);a[d]=b.ceil(f);return a}function jg(a){return a?{floor:function(b){return Math.floor(b/
a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:Vh}function Wh(a,b,c,d){var e=[],f=[],g=0,h=Math.min(a.length,b.length)-1;for(a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++g<=h;)e.push(c(a[g-1],a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=t.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function kg(a,b,c,d){function e(){var k=2<Math.min(a.length,b.length)?Wh:Uh,l=d?lh:kh;g=k(a,b,l,c);h=k(b,a,l,Ha);return f}function f(a){return g(a)}var g,h;f.invert=function(a){return h(a)};f.domain=
function(b){if(!arguments.length)return a;a=b.map(Number);return e()};f.range=function(a){if(!arguments.length)return b;b=a;return e()};f.rangeRound=function(a){return f.range(a).interpolate(yf)};f.clamp=function(a){if(!arguments.length)return d;d=a;return e()};f.interpolate=function(a){if(!arguments.length)return c;c=a;return e()};f.ticks=function(b){return t.range.apply(t,Fb(a,b))};f.tickFormat=function(b,c){return Ne(a,b,c)};f.nice=function(b){Jd(a,jg(Fb(a,b)[2]));return e()};f.copy=function(){return kg(a,
b,c,d)};return e()}function Oe(a,b){return t.rebind(a,b,"range","rangeRound","interpolate","clamp")}function Fb(a,b){null==b&&(b=10);var c=xc(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),d=b/d*e;.15>=d?e*=10:.35>=d?e*=5:.75>=d&&(e*=2);c[0]=Math.ceil(c[0]/e)*e;c[1]=Math.floor(c[1]/e)*e+.5*e;c[2]=e;return c}function Ne(a,b,c){a=Fb(a,b);if(c){b=Sf.exec(c);b.shift();if("s"===b[8]){var d=t.formatPrefix(Math.max(K(a[0]),K(a[1])));b[7]||(b[7]="."+Kd(d.scale(a[2])));b[8]="f";c=t.format(b.join(""));
return function(a){return c(d.scale(a))+d.symbol}}b[7]||(b[7]="."+Xh(b[8],a));c=b.join("")}else c=",."+Kd(a[2])+"f";return t.format(c)}function Kd(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function Xh(a,b){var c=Kd(b[2]);return a in Yh?Math.abs(c-Kd(Math.max(K(b[0]),K(b[1]))))+ +("e"!==a):c-2*("%"===a)}function lg(a,b,c,d){function e(a){return(c?Math.log(0>a?0:a):-Math.log(0<a?0:-a))/Math.log(b)}function f(a){return c?Math.pow(b,a):-Math.pow(b,-a)}function g(b){return a(e(b))}g.invert=function(b){return f(a.invert(b))};
g.domain=function(b){if(!arguments.length)return d;c=0<=b[0];a.domain((d=b.map(Number)).map(e));return g};g.base=function(c){if(!arguments.length)return b;b=+c;a.domain(d.map(e));return g};g.nice=function(){var b=Jd(d.map(e),c?Math:Zh);a.domain(b);d=b.map(f);return g};g.ticks=function(){var a=xc(d),g=[],h=a[0],a=a[1],k=Math.floor(e(h)),C=Math.ceil(e(a)),l=b%1?2:b;if(isFinite(C-k)){if(c){for(;k<C;k++)for(var m=1;m<l;m++)g.push(f(k)*m);g.push(f(k))}else for(g.push(f(k));k++<C;)for(m=l-1;0<m;m--)g.push(f(k)*
m);for(k=0;g[k]<h;k++);for(C=g.length;g[C-1]>a;C--);g=g.slice(k,C)}return g};g.tickFormat=function(a,b){if(!arguments.length)return mg;2>arguments.length?b=mg:"function"!==typeof b&&(b=t.format(b));var d=Math.max(.1,a/g.ticks().length),h=c?(k=1E-12,Math.ceil):(k=-1E-12,Math.floor),k;return function(a){return a/f(h(e(a)+k))<=d?b(a):""}};g.copy=function(){return lg(a.copy(),b,c,d)};return Oe(g,a)}function ng(a,b,c){function d(b){return a(e(b))}var e=Ld(b),f=Ld(1/b);d.invert=function(b){return f(a.invert(b))};
d.domain=function(b){if(!arguments.length)return c;a.domain((c=b.map(Number)).map(e));return d};d.ticks=function(a){return t.range.apply(t,Fb(c,a))};d.tickFormat=function(a,b){return Ne(c,a,b)};d.nice=function(a){return d.domain(Jd(c,jg(Fb(c,a)[2])))};d.exponent=function(g){if(!arguments.length)return b;e=Ld(b=g);f=Ld(1/b);a.domain(c.map(e));return d};d.copy=function(){return ng(a.copy(),b,c)};return Oe(d,a)}function Ld(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function og(a,
b){function c(d){return f[((e.get(d)||("range"===b.t?e.set(d,a.push(d)):NaN))-1)%f.length]}function d(b,c){return t.range(a.length).map(function(a){return b+c*a})}var e,f,g;c.domain=function(d){if(!arguments.length)return a;a=[];e=new h;for(var f=-1,g=d.length,k;++f<g;)e.has(k=d[f])||e.set(k,a.push(k));return c[b.t].apply(c,b.a)};c.range=function(a){if(!arguments.length)return f;f=a;g=0;b={t:"range",a:arguments};return c};c.rangePoints=function(e,h){2>arguments.length&&(h=0);var k=e[0],l=e[1],m=(l-
k)/(Math.max(1,a.length-1)+h);f=d(2>a.length?(k+l)/2:k+m*h/2,m);g=0;b={t:"rangePoints",a:arguments};return c};c.rangeBands=function(e,h,k){2>arguments.length&&(h=0);3>arguments.length&&(k=h);var l=e[1]<e[0],m=e[l-0],p=(e[1-l]-m)/(a.length-h+2*k);f=d(m+p*k,p);l&&f.reverse();g=p*(1-h);b={t:"rangeBands",a:arguments};return c};c.rangeRoundBands=function(e,h,k){2>arguments.length&&(h=0);3>arguments.length&&(k=h);var l=e[1]<e[0],m=e[l-0],p=e[1-l],U=Math.floor((p-m)/(a.length-h+2*k));f=d(m+Math.round((p-
m-(a.length-h)*U)/2),U);l&&f.reverse();g=Math.round(U*(1-h));b={t:"rangeRoundBands",a:arguments};return c};c.rangeBand=function(){return g};c.rangeExtent=function(){return xc(b.a[0])};c.copy=function(){return og(a,b)};return c.domain(a)}function pg(b,c){function d(){var a=0,g=c.length;for(f=[];++a<g;)f[a-1]=t.quantile(b,a/g);return e}function e(a){if(!isNaN(a=+a))return c[t.bisect(f,a)]}var f;e.domain=function(c){if(!arguments.length)return b;b=c.filter(k).sort(a);return d()};e.range=function(a){if(!arguments.length)return c;
c=a;return d()};e.quantiles=function(){return f};e.invertExtent=function(a){a=c.indexOf(a);return 0>a?[NaN,NaN]:[0<a?f[a-1]:b[0],a<f.length?f[a]:b[b.length-1]]};e.copy=function(){return pg(b,c)};return d()}function qg(a,b,c){function d(b){return c[Math.max(0,Math.min(g,Math.floor(f*(b-a))))]}function e(){f=c.length/(b-a);g=c.length-1;return d}var f,g;d.domain=function(c){if(!arguments.length)return[a,b];a=+c[0];b=+c[c.length-1];return e()};d.range=function(a){if(!arguments.length)return c;c=a;return e()};
d.invertExtent=function(b){b=c.indexOf(b);b=0>b?NaN:b/f+a;return[b,b+1/f]};d.copy=function(){return qg(a,b,c)};return e()}function rg(a,b){function c(d){if(d<=d)return b[t.bisect(a,d)]}c.domain=function(b){if(!arguments.length)return a;a=b;return c};c.range=function(a){if(!arguments.length)return b;b=a;return c};c.invertExtent=function(c){c=b.indexOf(c);return[a[c-1],a[c]]};c.copy=function(){return rg(a,b)};return c}function sg(a){function b(a){return+a}b.invert=b;b.domain=b.range=function(c){if(!arguments.length)return a;
a=c.map(b);return b};b.ticks=function(b){return t.range.apply(t,Fb(a,b))};b.tickFormat=function(b,c){return Ne(a,b,c)};b.copy=function(){return sg(a)};return b}function $h(a){return a.innerRadius}function ai(a){return a.outerRadius}function tg(a){return a.startAngle}function ug(a){return a.endAngle}function vg(a){function b(g){function k(){l.push("M",f(a(m),h))}for(var l=[],m=[],L=-1,p=g.length,q,r=X(c),Aa=X(d);++L<p;)e.call(this,q=g[L],L)?m.push([+r.call(this,q,L),+Aa.call(this,q,L)]):m.length&&
(k(),m=[]);m.length&&k();return l.length?l.join(""):null}var c=ic,d=Fc,e=hb,f=Ua,g=f.key,h=.7;b.x=function(a){if(!arguments.length)return c;c=a;return b};b.y=function(a){if(!arguments.length)return d;d=a;return b};b.defined=function(a){if(!arguments.length)return e;e=a;return b};b.interpolate=function(a){if(!arguments.length)return g;g="function"===typeof a?f=a:(f=Pe.get(a)||Ua).key;return b};b.tension=function(a){if(!arguments.length)return h;h=a;return b};return b}function Ua(a){return a.join("L")}
function Qe(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function Re(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function Md(a,b){if(1>b.length||a.length!=b.length&&a.length!=b.length+2)return Ua(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,k=1;c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],k=2);if(1<b.length)for(h=b[1],f=a[k],k++,d+=
"C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1],e=2;e<b.length;e++,k++)f=a[k],h=b[e],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];c&&(c=a[k],d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+c[0]+","+c[1]);return d}function Se(a,b){for(var c=[],d=(1-b)/2,e,f=a[0],g=a[1],h=1,k=a.length;++h<k;)e=f,f=g,g=a[h],c.push([d*(g[0]-e[0]),d*(g[1]-e[1])]);return c}function wg(a){if(3>a.length)return Ua(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,
f,f,d[1]],e=[e,",",f,"L",Ya(Gb,g),",",Ya(Gb,h)];for(a.push(a[c-1]);++b<=c;)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),Te(e,g,h);a.pop();e.push("L",d);return e.join("")}function Ya(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Te(a,b,c){a.push("C",Ya(xg,b),",",Ya(xg,c),",",Ya(yg,b),",",Ya(yg,c),",",Ya(Gb,b),",",Ya(Gb,c))}function Ue(a,b){return(b[1]-a[1])/(b[0]-a[0])}function zg(a){for(var b,c=-1,d=a.length,e,f;++c<d;)b=a[c],e=b[0],f=b[1]+Zb,b[0]=e*Math.cos(f),b[1]=e*Math.sin(f);
return a}function Ag(a){function b(k){function L(){q.push("M",h(a(t),p),m,l(a(r.reverse()),p),"Z")}for(var q=[],r=[],t=[],s=-1,yh=k.length,v,u=X(c),w=X(e),x=c===d?function(){return z}:X(d),y=e===f?function(){return A}:X(f),z,A;++s<yh;)g.call(this,v=k[s],s)?(r.push([z=+u.call(this,v,s),A=+w.call(this,v,s)]),t.push([+x.call(this,v,s),+y.call(this,v,s)])):r.length&&(L(),r=[],t=[]);r.length&&L();return q.length?q.join(""):null}var c=ic,d=ic,e=0,f=Fc,g=hb,h=Ua,k=h.key,l=h,m="L",p=.7;b.x=function(a){if(!arguments.length)return d;
c=d=a;return b};b.x0=function(a){if(!arguments.length)return c;c=a;return b};b.x1=function(a){if(!arguments.length)return d;d=a;return b};b.y=function(a){if(!arguments.length)return f;e=f=a;return b};b.y0=function(a){if(!arguments.length)return e;e=a;return b};b.y1=function(a){if(!arguments.length)return f;f=a;return b};b.defined=function(a){if(!arguments.length)return g;g=a;return b};b.interpolate=function(a){if(!arguments.length)return k;k="function"===typeof a?h=a:(h=Pe.get(a)||Ua).key;l=h.reverse||
h;m=h.closed?"M":"L";return b};b.tension=function(a){if(!arguments.length)return p;p=a;return b};return b}function bi(a){return a.radius}function Bg(a){return[a.x,a.y]}function ci(a){return function(){var b=a.apply(this,arguments),c=b[0],b=b[1]+Zb;return[c*Math.cos(b),c*Math.sin(b)]}}function di(){return 64}function ei(){return"circle"}function Cg(a){a=Math.sqrt(a/G);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function ad(a,b){zd(a,ta);a.id=b;return a}function Ve(a,b,c,
d){var e=a.id;return sa(a,"function"===typeof c?function(a,f,g){a.__transition__[e].tween.set(b,d(c.call(a,a.__data__,f,g)))}:(c=d(c),function(a){a.__transition__[e].tween.set(b,c)}))}function fi(a){null==a&&(a="");return function(){this.textContent=a}}function Nd(a,b,c,d){var e=a.__transition__||(a.__transition__={active:0,count:0}),f=e[c];if(!f){var g=d.time,f=e[c]={tween:new h,time:g,ease:d.ease,delay:d.delay,duration:d.duration};++e.count;t.timer(function(d){function h(d){if(e.active>c)return l();
e.active=c;f.event&&f.event.start.call(a,m,b);f.tween.forEach(function(c,d){(d=d.call(a,m,b))&&s.push(d)});t.timer(function(){r.c=k(d||1)?hb:k;return 1},0,g)}function k(d){if(e.active!==c)return l();d/=q;for(var g=p(d),h=s.length;0<h;)s[--h].call(a,g);if(1<=d)return f.event&&f.event.end.call(a,m,b),l()}function l(){--e.count?delete e[c]:delete a.__transition__;return 1}var m=a.__data__,p=f.ease,R=f.delay,q=f.duration,r=sb,s=[];r.t=R+g;if(R<=d)return h(d-R);r.c=h},0,g)}}function Dg(a,b){a.attr("transform",
function(a){return"translate("+b(a)+",0)"})}function Eg(a,b){a.attr("transform",function(a){return"translate(0,"+b(a)+")"})}function We(a){return a.toISOString()}function Xe(a,b,c){function d(b){return a(b)}function e(a,c){var d=(a[1]-a[0])/c,f=t.bisect(Od,d);return f==Od.length?[b.year,Fb(a.map(function(a){return a/31536E6}),c)[2]]:f?b[d/Od[f-1]<Od[f]/d?f-1:f]:[gi,Fb(a,c)[2]]}d.invert=function(b){return $b(a.invert(b))};d.domain=function(b){if(!arguments.length)return a.domain().map($b);a.domain(b);
return d};d.nice=function(a,b){function c(d){return!isNaN(d)&&!a.range(d,$b(+d+1),b).length}var f=d.domain(),g=xc(f);if(g=null==a?e(g,10):"number"===typeof a&&e(g,a))a=g[0],b=g[1];return d.domain(Jd(f,1<b?{floor:function(b){for(;c(b=a.floor(b));)b=$b(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=$b(+b+1);return b}}:a))};d.ticks=function(a,b){var c=xc(d.domain()),f=null==a?e(c,10):"number"===typeof a?e(c,a):!a.range&&[{range:a},b];f&&(a=f[0],b=f[1]);return a.range(c[0],$b(+c[1]+1),1>b?1:b)};
d.tickFormat=function(){return c};d.copy=function(){return Xe(a.copy(),b,c)};return Oe(d,a)}function $b(a){return new Date(a)}function hi(a){return JSON.parse(a.responseText)}function ii(a){var b=kb.createRange();b.selectNode(kb.body);return b.createContextualFragment(a.responseText)}var t={version:"3.4.8"};Date.now||(Date.now=function(){return+new Date});var Fg=[].slice,Ab=function(a){return Fg.call(a)},kb=document,Bb=kb.documentElement,Ra=window;try{Ab(Bb.childNodes)[0].nodeType}catch(Ii){Ab=function(a){for(var b=
a.length,c=Array(b);b--;)c[b]=a[b];return c}}try{kb.createElement("div").style.setProperty("opacity",0,"")}catch(Ji){var Pd=Ra.Element.prototype,ji=Pd.setAttribute,ki=Pd.setAttributeNS,Gg=Ra.CSSStyleDeclaration.prototype,li=Gg.setProperty;Pd.setAttribute=function(a,b){ji.call(this,a,b+"")};Pd.setAttributeNS=function(a,b,c){ki.call(this,a,b,c+"")};Gg.setProperty=function(a,b,c){li.call(this,a,b+"",c)}}t.ascending=a;t.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN};t.min=function(a,b){var c=
-1,d=a.length,e,f;if(1===arguments.length){for(;++c<d&&!(null!=(e=a[c])&&e<=e);)e=void 0;for(;++c<d;)null!=(f=a[c])&&e>f&&(e=f)}else{for(;++c<d&&!(null!=(e=b.call(a,a[c],c))&&e<=e);)e=void 0;for(;++c<d;)null!=(f=b.call(a,a[c],c))&&e>f&&(e=f)}return e};t.max=function(a,b){var c=-1,d=a.length,e,f;if(1===arguments.length){for(;++c<d&&!(null!=(e=a[c])&&e<=e);)e=void 0;for(;++c<d;)null!=(f=a[c])&&f>e&&(e=f)}else{for(;++c<d&&!(null!=(e=b.call(a,a[c],c))&&e<=e);)e=void 0;for(;++c<d;)null!=(f=b.call(a,a[c],
c))&&f>e&&(e=f)}return e};t.extent=function(a,b){var c=-1,d=a.length,e,f,g;if(1===arguments.length){for(;++c<d&&!(null!=(e=g=a[c])&&e<=e);)e=g=void 0;for(;++c<d;)null!=(f=a[c])&&(e>f&&(e=f),g<f&&(g=f))}else{for(;++c<d&&!(null!=(e=g=b.call(a,a[c],c))&&e<=e);)e=void 0;for(;++c<d;)null!=(f=b.call(a,a[c],c))&&(e>f&&(e=f),g<f&&(g=f))}return[e,g]};t.sum=function(a,b){var c=0,d=a.length,e,f=-1;if(1===arguments.length)for(;++f<d;)isNaN(e=+a[f])||(c+=e);else for(;++f<d;)isNaN(e=+b.call(a,a[f],f))||(c+=e);
return c};t.mean=function(a,b){var c=0,d=a.length,e,f=-1,g=d;if(1===arguments.length)for(;++f<d;)k(e=a[f])?c+=e:--g;else for(;++f<d;)k(e=b.call(a,a[f],f))?c+=e:--g;return g?c/g:void 0};t.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1];return(c-=d)?e+c*(a[d]-e):e};t.median=function(b,c){1<arguments.length&&(b=b.map(c));b=b.filter(k);return b.length?t.quantile(b.sort(a),.5):void 0};var Hg=c(a);t.bisectLeft=Hg.left;t.bisect=t.bisectRight=Hg.right;t.bisector=function(b){return c(1===
b.length?function(c,d){return a(b(c),d)}:b)};t.shuffle=function(a){for(var b=a.length,c,d;b;)d=Math.random()*b--|0,c=a[b],a[b]=a[d],a[d]=c;return a};t.permute=function(a,b){for(var c=b.length,d=Array(c);c--;)d[c]=a[b[c]];return d};t.pairs=function(a){for(var b=0,c=a.length-1,d=a[0],e=Array(0>c?0:c);b<c;)e[b]=[d,d=a[++b]];return e};t.zip=function(){if(!(e=arguments.length))return[];for(var a=-1,b=t.min(arguments,f),c=Array(b);++a<b;)for(var d=-1,e,g=c[a]=Array(e);++d<e;)g[d]=arguments[d][a];return c};
t.transpose=function(a){return t.zip.apply(t,a)};t.keys=function(a){var b=[],c;for(c in a)b.push(c);return b};t.values=function(a){var b=[],c;for(c in a)b.push(a[c]);return b};t.entries=function(a){var b=[],c;for(c in a)b.push({key:c,value:a[c]});return b};t.merge=function(a){var b=a.length,c;c=-1;for(var d=0,e,f;++c<b;)d+=a[c].length;for(e=Array(d);0<=--b;)for(f=a[b],c=f.length;0<=--c;)e[--d]=f[c];return e};var K=Math.abs;t.range=function(a,b,c){3>arguments.length&&(c=1,2>arguments.length&&(b=a,
a=0));if(Infinity===(b-a)/c)throw Error("infinite range");var d=[],e;e=K(c);for(var f=1;e*f%1;)f*=10;e=f;var f=-1,g;a*=e;b*=e;c*=e;if(0>c)for(;(g=a+c*++f)>b;)d.push(g/e);else for(;(g=a+c*++f)<b;)d.push(g/e);return d};t.map=function(a){var b=new h;if(a instanceof h)a.forEach(function(a,c){b.set(a,c)});else for(var c in a)b.set(c,a[c]);return b};e(h,{has:b,get:function(a){return this[Ub+a]},set:function(a,b){return this[Ub+a]=b},remove:function(a){a=Ub+a;return a in this&&delete this[a]},keys:d,values:function(){var a=
[];this.forEach(function(b,c){a.push(c)});return a},entries:function(){var a=[];this.forEach(function(b,c){a.push({key:b,value:c})});return a},size:g,empty:l,forEach:function(a){for(var b in this)b.charCodeAt(0)===yd&&a.call(this,b.substring(1),this[b])}});var Ub="\x00",yd=Ub.charCodeAt(0);t.nest=function(){function a(b,e,k){if(k>=d.length)return g?g.call(c,e):f?e.sort(f):e;for(var l=-1,m=e.length,p=d[k++],L,q,r=new h,U;++l<m;)(U=r.get(L=p(q=e[l])))?U.push(q):r.set(L,[q]);b?(q=b(),e=function(c,d){q.set(c,
a(b,d,k))}):(q={},e=function(c,d){q[c]=a(b,d,k)});r.forEach(e);return q}function b(a,c){if(c>=d.length)return a;var f=[],g=e[c++];a.forEach(function(a,d){f.push({key:a,values:b(d,c)})});return g?f.sort(function(a,b){return g(a.key,b.key)}):f}var c={},d=[],e=[],f,g;c.map=function(b,c){return a(c,b,0)};c.entries=function(c){return b(a(t.map,c,0),0)};c.key=function(a){d.push(a);return c};c.sortKeys=function(a){e[d.length-1]=a;return c};c.sortValues=function(a){f=a;return c};c.rollup=function(a){g=a;
return c};return c};t.set=function(a){var b=new m;if(a)for(var c=0,d=a.length;c<d;++c)b.add(a[c]);return b};e(m,{has:b,add:function(a){this[Ub+a]=!0;return a},remove:function(a){a=Ub+a;return a in this&&delete this[a]},values:d,size:g,empty:l,forEach:function(a){for(var b in this)b.charCodeAt(0)===yd&&a.call(this,b.substring(1))}});t.behavior={};t.rebind=function(a,b){for(var c=1,d=arguments.length,e;++c<d;)a[e=arguments[c]]=v(a,b,b[e]);return a};var Mf="webkit ms moz Moz o O".split(" ");t.dispatch=
function(){for(var a=new s,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=u(a);return a};s.prototype.on=function(a,b){var c=a.indexOf("."),d="";0<=c&&(d=a.substring(c+1),a=a.substring(0,c));if(a)return 2>arguments.length?this[a].on(d):this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)if(this.hasOwnProperty(a))this[a].on(d,null);return this}};t.event=null;t.requote=function(a){return a.replace(mi,"\\$&")};var mi=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,zd={}.__proto__?function(a,b){a.__proto__=
b}:function(a,b){for(var c in b)a[c]=b[c]},ye=function(a,b){return b.querySelector(a)},ze=function(a,b){return b.querySelectorAll(a)},ni=Bb[q(Bb,"matchesSelector")],Nf=function(a,b){return ni.call(a,b)};"function"===typeof Sizzle&&(ye=function(a,b){return Sizzle(a,b)[0]||null},ze=Sizzle,Nf=Sizzle.matchesSelector);t.selection=function(){return Ig};var Z=t.selection.prototype=[];Z.select=function(a){var b=[],c,d,e,f;a=A(a);for(var g=-1,h=this.length;++g<h;){b.push(c=[]);c.parentNode=(e=this[g]).parentNode;
for(var k=-1,l=e.length;++k<l;)(f=e[k])?(c.push(d=a.call(f,f.__data__,k,g)),d&&"__data__"in f&&(d.__data__=f.__data__)):c.push(null)}return B(b)};Z.selectAll=function(a){var b=[],c,d;a=z(a);for(var e=-1,f=this.length;++e<f;)for(var g=this[e],h=-1,k=g.length;++h<k;)if(d=g[h])b.push(c=Ab(a.call(d,d.__data__,h,e))),c.parentNode=d;return B(b)};var Ye={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};
t.ns={prefix:Ye,qualify:function(a){var b=a.indexOf(":"),c=a;0<=b&&(c=a.substring(0,b),a=a.substring(b+1));return Ye.hasOwnProperty(c)?{space:Ye[c],local:a}:a}};Z.attr=function(a,b){if(2>arguments.length){if("string"===typeof a){var c=this.node();a=t.ns.qualify(a);return a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(Y(b,a[b]));return this}return this.each(Y(a,b))};Z.classed=function(a,b){if(2>arguments.length){if("string"===typeof a){var c=this.node(),d=(a=a.trim().split(/^|\s+/)).length,
e=-1;if(b=c.classList)for(;++e<d;){if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<d;)if(!W(a[e]).test(b))return!1;return!0}for(b in a)this.each(ea(b,a[b]));return this}return this.each(ea(a,b))};Z.style=function(a,b,c){var d=arguments.length;if(3>d){if("string"!==typeof a){2>d&&(b="");for(c in a)this.each(O(c,a[c],b));return this}if(2>d)return Ra.getComputedStyle(this.node(),null).getPropertyValue(a);c=""}return this.each(O(a,b,c))};Z.property=function(a,b){if(2>arguments.length){if("string"===
typeof a)return this.node()[a];for(b in a)this.each(P(b,a[b]));return this}return this.each(P(a,b))};Z.text=function(a){return arguments.length?this.each("function"===typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent};Z.html=function(a){return arguments.length?this.each("function"===typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=
""}:function(){this.innerHTML=a}):this.node().innerHTML};Z.append=function(a){a=fa(a);return this.select(function(){return this.appendChild(a.apply(this,arguments))})};Z.insert=function(a,b){a=fa(a);b=A(b);return this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})};Z.remove=function(){return this.each(function(){var a=this.parentNode;a&&a.removeChild(this)})};Z.data=function(a,b){function c(a,d){var e,f=a.length,g=d.length,C=Math.min(f,g),p=Array(g),
q=Array(g),V=Array(f),r,R;if(b){var C=new h,S=new h,U=[],t;for(e=-1;++e<f;)t=b.call(r=a[e],r.__data__,e),C.has(t)?V[e]=r:C.set(t,r),U.push(t);for(e=-1;++e<g;)t=b.call(d,R=d[e],e),(r=C.get(t))?(p[e]=r,r.__data__=R):S.has(t)||(q[e]={__data__:R}),S.set(t,R),C.remove(t);for(e=-1;++e<f;)C.has(U[e])&&(V[e]=a[e])}else{for(e=-1;++e<C;)r=a[e],R=d[e],r?(r.__data__=R,p[e]=r):q[e]={__data__:R};for(;e<g;++e)q[e]={__data__:d[e]};for(;e<f;++e)V[e]=a[e]}q.update=p;q.parentNode=p.parentNode=V.parentNode=a.parentNode;
k.push(q);l.push(p);m.push(V)}var d=-1,e=this.length,f,g;if(!arguments.length){for(a=Array(e=(f=this[0]).length);++d<e;)if(g=f[d])a[d]=g.__data__;return a}var k=Ga([]),l=B([]),m=B([]);if("function"===typeof a)for(;++d<e;)c(f=this[d],a.call(f,f.parentNode.__data__,d));else for(;++d<e;)c(f=this[d],a);l.enter=function(){return k};l.exit=function(){return m};return l};Z.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};Z.filter=function(a){var b=[],c,d,e;
"function"!==typeof a&&(a=oa(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]);c.parentNode=(d=this[f]).parentNode;for(var h=0,k=d.length;h<k;h++)(e=d[h])&&a.call(e,e.__data__,h,f)&&c.push(e)}return B(b)};Z.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c=this[a],d=c.length-1,e=c[d],f;0<=--d;)if(f=c[d])e&&e!==f.nextSibling&&e.parentNode.insertBefore(f,e),e=f;return this};Z.sort=function(a){a=za.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()};
Z.each=function(a){return sa(this,function(b,c,d){a.call(b,b.__data__,c,d)})};Z.call=function(a){var b=Ab(arguments);a.apply(b[0]=this,b);return this};Z.empty=function(){return!this.node()};Z.node=function(){for(var a=0,b=this.length;a<b;a++)for(var c=this[a],d=0,e=c.length;d<e;d++){var f=c[d];if(f)return f}return null};Z.size=function(){var a=0;this.each(function(){++a});return a};var rb=[];t.selection.enter=Ga;t.selection.enter.prototype=rb;rb.append=Z.append;rb.empty=Z.empty;rb.node=Z.node;rb.call=
Z.call;rb.size=Z.size;rb.select=function(a){for(var b=[],c,d,e,f,g,h=-1,k=this.length;++h<k;){e=(f=this[h]).update;b.push(c=[]);c.parentNode=f.parentNode;for(var l=-1,m=f.length;++l<m;)(g=f[l])?(c.push(e[l]=d=a.call(f.parentNode,g.__data__,l,h)),d.__data__=g.__data__):c.push(null)}return B(b)};rb.insert=function(a,b){2>arguments.length&&(b=Da(this));return Z.insert.call(this,a,b)};Z.transition=function(){for(var a=ac||++Jg,b=[],c,d,e=Qd||{time:Date.now(),ease:fh,delay:0,duration:250},f=-1,g=this.length;++f<
g;){b.push(c=[]);for(var h=this[f],k=-1,l=h.length;++k<l;)(d=h[k])&&Nd(d,k,a,e),c.push(d)}return ad(b,a)};Z.interrupt=function(){return this.each(H)};t.select=function(a){a=["string"===typeof a?ye(a,kb):a];a.parentNode=Bb;return B([a])};t.selectAll=function(a){a=Ab("string"===typeof a?ze(a,kb):a);a.parentNode=Bb;return B([a])};var Ig=t.select(Bb);Z.on=function(a,b,c){var d=arguments.length;if(3>d){if("string"!==typeof a){2>d&&(b=!1);for(c in a)this.each(ja(c,a[c],b));return this}if(2>d)return(d=this.node()["__on"+
a])&&d._;c=!1}return this.each(ja(a,b,c))};var Ae=t.map({mouseenter:"mouseover",mouseleave:"mouseout"});Ae.forEach(function(a){"on"+a in kb&&Ae.remove(a)});var Vc="onselectstart"in kb?null:q(Bb.style,"userSelect"),zh=0;t.mouse=function(a){return pa(a,x())};t.touches=function(a,b){2>arguments.length&&(b=x().touches);return b?Ab(b).map(function(b){var c=pa(a,b);c.identifier=b.identifier;return c}):[]};t.behavior.drag=function(){function a(){this.on("mousedown.drag",e).on("touchstart.drag",f)}function b(a,
e,f,g,h){return function(){var b=t.event.target,k=this.parentNode,l=c.of(this,arguments),C=0,m=a(),p=".drag"+(null==m?"":"-"+m),L,q=t.select(f()).on(g+p,function(){var a=e(k,m),b,c;a&&(b=a[0]-S[0],c=a[1]-S[1],C=C|b|c,S=a,l({type:"drag",x:a[0]+L[0],y:a[1]+L[1],dx:b,dy:c}))}).on(h+p,function(){e(k,m)&&(q.on(g+p,null).on(h+p,null),r(C&&t.event.target===b),l({type:"dragend"}))}),r=va(),S=e(k,m);d?(L=d.apply(this,arguments),L=[L.x-S[0],L.y-S[1]]):L=[0,0];l({type:"dragstart"})}}var c=y(a,"drag","dragstart",
"dragend"),d=null,e=b(r,t.mouse,fc,"mousemove","mouseup"),f=b(Ka,t.touch,da,"touchmove","touchend");a.origin=function(b){if(!arguments.length)return d;d=b;return a};return t.rebind(a,c,"on")};var G=Math.PI,Ta=2*G,Ca=G/2,D=1E-6,De=D*D,I=G/180,ga=180/G,Rd=Math.SQRT2;t.interpolateZoom=function(a,b){function c(a){var b=a*t;if(r){a=M(q);var g=f/(2*m),l,C=Rd*b+q;l=((C=Math.exp(2*C))-1)/(C+1);l*=a;var p=q,C=((p=Math.exp(p))-1/p)/2,g=g*(l-C);return[d+g*h,e+g*k,f*a/M(Rd*b+q)]}return[d+a*h,e+a*k,f*Math.exp(Rd*
b)]}var d=a[0],e=a[1],f=a[2],g=b[2],h=b[0]-d,k=b[1]-e,l=h*h+k*k,m=Math.sqrt(l),p=(g*g-f*f+4*l)/(4*f*m),l=(g*g-f*f-4*l)/(4*g*m),q=Math.log(Math.sqrt(p*p+1)-p),r=Math.log(Math.sqrt(l*l+1)-l)-q,t=(r||Math.log(g/f))/Rd;c.duration=1E3*t;return c};t.behavior.zoom=function(){function a(b){b.on(Wb,k).on(oi+".zoom",m).on(ca,p).on("dblclick.zoom",q).on(mb,l)}function b(a){return[(a[0]-r.x)/r.k,(a[1]-r.y)/r.k]}function c(a){r.k=Math.max(x[0],Math.min(x[1],a))}function d(a,b){b=[b[0]*r.k+r.x,b[1]*r.k+r.y];r.x+=
a[0]-b[0];r.y+=a[1]-b[1]}function e(){D&&D.domain(Ce.range().map(function(a){return(a-r.x)/r.k}).map(Ce.invert));F&&F.domain(E.range().map(function(a){return(a-r.y)/r.k}).map(E.invert))}function f(a){a({type:"zoomstart"})}function g(a){e();a({type:"zoom",scale:r.k,translate:[r.x,r.y]})}function h(a){a({type:"zoomend"})}function k(){var a=this,c=t.event.target,e=B.of(a,arguments),l=0,C=t.select(Ra).on(ca,function(){l=1;d(t.mouse(a),m);g(e)}).on(Wc,function(){C.on(ca,Ra===a?p:null).on(Wc,null);q(l&&
t.event.target===c);h(e)}),m=b(t.mouse(a)),q=va();H.call(a);f(e)}function l(){function a(){var c=t.touches(p);v=r.k;c.forEach(function(a){a.identifier in U&&(U[a.identifier]=b(a))});return c}function e(){var b=t.event.target;t.select(b).on(Ba,C).on(x,m);ca.push(b);for(var b=t.event.changedTouches,f=0,h=b.length;f<h;++f)U[b[f].identifier]=null;h=a();f=Date.now();1===h.length?(500>f-A&&(b=h[0],h=U[b.identifier],c(2*r.k),d(b,h),w(),g(q)),A=f):1<h.length&&(b=h[0],h=h[1],f=b[0]-h[0],b=b[1]-h[1],s=f*f+
b*b)}function C(){for(var a=t.touches(p),b,e,f,h,k=0,l=a.length;k<l;++k,h=null)if(f=a[k],h=U[f.identifier]){if(e)break;b=f;e=h}if(h){var m=(m=f[0]-b[0])*m+(m=f[1]-b[1])*m,a=s&&Math.sqrt(m/s);b=[(b[0]+f[0])/2,(b[1]+f[1])/2];e=[(e[0]+h[0])/2,(e[1]+h[1])/2];c(a*v)}A=null;d(b,e);g(q)}function m(){if(t.event.touches.length){for(var b=t.event.changedTouches,c=0,d=b.length;c<d;++c)delete U[b[c].identifier];for(var e in U)return void a()}t.selectAll(ca).on(u,null);Tc.on(Wb,k).on(mb,l);Ad();h(q)}var p=this,
q=B.of(p,arguments),U={},s=0,v,u=".zoom-"+t.event.changedTouches[0].identifier,Ba="touchmove"+u,x="touchend"+u,ca=[],Tc=t.select(p).on(Wb,null).on(mb,e),Ad=va();H.call(p);e();f(q)}function m(){var a=B.of(this,arguments);z?clearTimeout(z):(H.call(this),f(a));z=setTimeout(function(){z=null;h(a)},50);w();var e=v||t.mouse(this);s||(s=b(e));c(Math.pow(2,.002*Sd())*r.k);d(e,s);g(a)}function p(){s=null}function q(){var a=B.of(this,arguments),e=t.mouse(this),k=b(e),l=Math.log(r.k)/Math.LN2;f(a);c(Math.pow(2,
t.event.shiftKey?Math.ceil(l)-1:Math.floor(l)+1));d(e,k);g(a);h(a)}var r={x:0,y:0,k:1},s,v,u=[960,500],x=Kg,Wb="mousedown.zoom",ca="mousemove.zoom",Wc="mouseup.zoom",z,mb="touchstart.zoom",A,B=y(a,"zoomstart","zoom","zoomend"),Ce,D,E,F;a.event=function(a){a.each(function(){var a=B.of(this,arguments),b=r;ac?t.select(this).transition().each("start.zoom",function(){r=this.__chart__||{x:0,y:0,k:1};f(a)}).tween("zoom:zoom",function(){var c=u[0],d=c/2,e=u[1]/2,f=t.interpolateZoom([(d-r.x)/r.k,(e-r.y)/r.k,
c/r.k],[(d-b.x)/b.k,(e-b.y)/b.k,c/b.k]);return function(b){b=f(b);var h=c/b[2];this.__chart__=r={x:d-b[0]*h,y:e-b[1]*h,k:h};g(a)}}).each("end.zoom",function(){h(a)}):(this.__chart__=r,f(a),g(a),h(a))})};a.translate=function(b){if(!arguments.length)return[r.x,r.y];r={x:+b[0],y:+b[1],k:r.k};e();return a};a.scale=function(b){if(!arguments.length)return r.k;r={x:r.x,y:r.y,k:+b};e();return a};a.scaleExtent=function(b){if(!arguments.length)return x;x=null==b?Kg:[+b[0],+b[1]];return a};a.center=function(b){if(!arguments.length)return v;
v=b&&[+b[0],+b[1]];return a};a.size=function(b){if(!arguments.length)return u;u=b&&[+b[0],+b[1]];return a};a.x=function(b){if(!arguments.length)return D;D=b;Ce=b.copy();r={x:0,y:0,k:1};return a};a.y=function(b){if(!arguments.length)return F;F=b;E=b.copy();r={x:0,y:0,k:1};return a};return t.rebind(a,B,"on")};var Kg=[0,Infinity],Sd,oi="onwheel"in kb?(Sd=function(){return-t.event.deltaY*(t.event.deltaMode?120:1)},"wheel"):"onmousewheel"in kb?(Sd=function(){return t.event.wheelDelta},"mousewheel"):(Sd=
function(){return-t.event.detail},"MozMousePixelScroll");wb.prototype.toString=function(){return this.rgb()+""};t.hsl=function(a,b,c){return 1===arguments.length?a instanceof Bc?xb(a.h,a.s,a.l):cd(""+a,bd,xb):xb(+a,+b,+c)};var Ze=Bc.prototype=new wb;Ze.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);return xb(this.h,this.s,this.l/a)};Ze.darker=function(a){a=Math.pow(.7,arguments.length?a:1);return xb(this.h,this.s,a*this.l)};Ze.rgb=function(){return Cc(this.h,this.s,this.l)};t.hcl=function(a,
b,c){return 1===arguments.length?a instanceof Mb?Ia(a.h,a.c,a.l):a instanceof db?ld(a.l,a.a,a.b):ld((a=Nb((a=t.rgb(a)).r,a.g,a.b)).l,a.a,a.b):Ia(+a,+b,+c)};var $e=Mb.prototype=new wb;$e.brighter=function(a){return Ia(this.h,this.c,Math.min(100,this.l+Td*(arguments.length?a:1)))};$e.darker=function(a){return Ia(this.h,this.c,Math.max(0,this.l-Td*(arguments.length?a:1)))};$e.rgb=function(){return kc(this.h,this.c,this.l).rgb()};t.lab=function(a,b,c){return 1===arguments.length?a instanceof db?Va(a.l,
a.a,a.b):a instanceof Mb?kc(a.l,a.c,a.h):Nb((a=t.rgb(a)).r,a.g,a.b):Va(+a,+b,+c)};var Td=18,Of=.95047,Pf=1,Qf=1.08883,af=db.prototype=new wb;af.brighter=function(a){return Va(Math.min(100,this.l+Td*(arguments.length?a:1)),this.a,this.b)};af.darker=function(a){return Va(Math.max(0,this.l-Td*(arguments.length?a:1)),this.a,this.b)};af.rgb=function(){return kd(this.l,this.a,this.b)};t.rgb=function(a,b,c){return 1===arguments.length?a instanceof F?ra(a.r,a.g,a.b):cd(""+a,ra,Cc):ra(~~a,~~b,~~c)};var Ud=
F.prototype=new wb;Ud.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b;if(!b&&!c&&!d)return ra(30,30,30);b&&30>b&&(b=30);c&&30>c&&(c=30);d&&30>d&&(d=30);return ra(Math.min(255,~~(b/a)),Math.min(255,~~(c/a)),Math.min(255,~~(d/a)))};Ud.darker=function(a){a=Math.pow(.7,arguments.length?a:1);return ra(~~(a*this.r),~~(a*this.g),~~(a*this.b))};Ud.hsl=function(){return bd(this.r,this.g,this.b)};Ud.toString=function(){return"#"+ia(this.r)+ia(this.g)+ia(this.b)};var Bd=
t.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,
violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Bd.forEach(function(a,b){Bd.set(a,ra(b>>16,b>>8&255,b&255))});t.functor=X;t.xhr=Kc(ka);t.dsv=function(a,b){function c(a,f,g){3>arguments.length&&(g=f,f=null);var h=Ob(a,b,null==f?d:e(f),g);h.row=function(a){return arguments.length?h.response(null==(f=a)?d:e(a)):f};return h}function d(a){return c.parse(a.responseText)}function e(a){return function(b){return c.parse(b.responseText,a)}}function f(b){return b.map(g).join(a)}
function g(a){return h.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var h=new RegExp('["'+a+"\n]"),k=a.charCodeAt(0);c.parse=function(a,b){var d;return c.parseRows(a,function(a,c){if(d)return d(a,c-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");d=b?function(a,c){return b(e(a),c)}:e})};c.parseRows=function(a,b){function c(){if(h>=g)return e;if(m)return m=!1,d;var b=h;if(34===a.charCodeAt(b)){for(var f=b;f++<g;)if(34===a.charCodeAt(f)){if(34!==
a.charCodeAt(f+1))break;++f}h=f+2;var l=a.charCodeAt(f+1);13===l?(m=!0,10===a.charCodeAt(f+2)&&++h):10===l&&(m=!0);return a.substring(b+1,f).replace(/""/g,'"')}for(;h<g;){l=a.charCodeAt(h++);f=1;if(10===l)m=!0;else if(13===l)m=!0,10===a.charCodeAt(h)&&(++h,++f);else if(l!==k)continue;return a.substring(b,h-f)}return a.substring(b)}for(var d={},e={},f=[],g=a.length,h=0,l=0,C,m;(C=c())!==e;){for(var p=[];C!==d&&C!==e;)p.push(C),C=c();b&&!(p=b(p,l++))||f.push(p)}return f};c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);
var d=new m,e=[];b.forEach(function(a){for(var b in a)d.has(b)||e.push(d.add(b))});return[e.map(g).join(a)].concat(b.map(function(b){return e.map(function(a){return g(b[a])}).join(a)})).join("\n")};c.formatRows=function(a){return a.map(f).join("\n")};return c};t.csv=t.dsv(",","text/csv");t.tsv=t.dsv(" ","text/tab-separated-values");t.touch=function(a,b,c){3>arguments.length&&(c=b,b=x().changedTouches);if(b)for(var d=0,e=b.length,f;d<e;++d)if((f=b[d]).identifier===c)return pa(a,f)};var Ed,Fd,Dd,Cd,
sb,Rf=Ra[q(Ra,"requestAnimationFrame")]||function(a){setTimeout(a,17)};t.timer=function(a,b,c){var d=arguments.length;2>d&&(b=0);3>d&&(c=Date.now());d={c:a,t:c+b,f:!1,n:null};Fd?Fd.n=d:Ed=d;Fd=d;Dd||(Cd=clearTimeout(Cd),Dd=1,Rf(lc))};t.timer.flush=function(){Lc();nd()};t.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var pi="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,b){var c=Math.pow(10,3*K(8-b));return{scale:8<b?function(a){return a/c}:function(a){return a*
c},symbol:a}});t.formatPrefix=function(a,b){var c=0;a&&(0>a&&(a*=-1),b&&(a=t.round(a,Mc(a,b))),c=1+Math.floor(1E-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((c-1)/3))));return pi[8+c/3]};var Sf=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Bh=t.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},
g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=t.round(a,Mc(a,b))).toFixed(Math.max(0,Math.min(20,Mc(a*(1+1E-15),b))))}}),E=t.time={},Ea=Date;Fa.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},
getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){vb.setUTCDate.apply(this._,arguments)},setDay:function(){vb.setUTCDay.apply(this._,arguments)},setFullYear:function(){vb.setUTCFullYear.apply(this._,arguments)},setHours:function(){vb.setUTCHours.apply(this._,
arguments)},setMilliseconds:function(){vb.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){vb.setUTCMinutes.apply(this._,arguments)},setMonth:function(){vb.setUTCMonth.apply(this._,arguments)},setSeconds:function(){vb.setUTCSeconds.apply(this._,arguments)},setTime:function(){vb.setTime.apply(this._,arguments)}};var vb=Date.prototype;E.year=Oa(function(a){a=E.day(a);a.setMonth(0,1);return a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()});E.years=
E.year.range;E.years.utc=E.year.utc.range;E.day=Oa(function(a){var b=new Ea(2E3,0);b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());return b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1});E.days=E.day.range;E.days.utc=E.day.utc.range;E.dayOfYear=function(a){var b=E.year(a);return Math.floor((a-b-6E4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(a,b){b=7-b;var c=E[a]=
Oa(function(a){(a=E.day(a)).setDate(a.getDate()-(a.getDay()+b)%7);return a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=E.year(a).getDay();return Math.floor((E.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});E[a+"s"]=c.range;E[a+"s"].utc=c.utc.range;E[a+"OfYear"]=function(a){var c=E.year(a).getDay();return Math.floor((E.dayOfYear(a)+(c+b)%7)/7)}});E.week=E.sunday;E.weeks=E.sunday.range;E.weeks.utc=E.sunday.utc.range;E.weekOfYear=E.sundayOfYear;var Tf={"-":"",_:" ",0:"0"},ma=/^\s*\d+/,
Uf=/^%/;t.locale=function(a){return{numberFormat:re(a),timeFormat:cc(a)}};var Lg=t.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
t.format=Lg.numberFormat;t.geo={};Nc.prototype={s:0,t:0,add:function(a){nc(a,this.t,Vd);nc(Vd.s,this.s,this);this.s?this.t+=Vd.t:this.s=Vd.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Vd=new Nc;t.geo.stream=function(a,b){if(a&&Mg.hasOwnProperty(a.type))Mg[a.type](a,b);else oc(a,b)};var Mg={Feature:function(a,b){oc(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)oc(c[d].geometry,b)}},Vf={Sphere:function(a,b){b.sphere()},Point:function(a,
b){a=a.coordinates;b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){Qb(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)Qb(c[d],b,0)},Polygon:function(a,b){pc(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)pc(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)oc(c[d],
b)}};t.geo.area=function(a){yc=0;t.geo.stream(a,Sa);return yc};var yc,Xb=new Nc,Sa={sphere:function(){yc+=4*G},point:r,lineStart:r,lineEnd:r,polygonStart:function(){Xb.reset();Sa.lineStart=fb},polygonEnd:function(){var a=2*Xb;yc+=0>a?4*G+a:a;Sa.lineStart=Sa.lineEnd=Sa.point=r}};t.geo.bounds=function(){function a(b,c){ca.push(y=[m=b,q=b]);c<p&&(p=c);c>r&&(r=c)}function b(c,d){var e=ya([c*I,d*I]);if(w){var f=gb(w,e),f=gb([f[1],-f[0],0],f);sc(f);var f=Rb(f),g=c-s,k=0<g?1:-1,l=f[0]*ga*k,g=180<K(g);g^
(k*s<l&&l<k*c)?(f=f[1]*ga,f>r&&(r=f)):(l=(l+360)%360-180,g^(k*s<l&&l<k*c))?(f=-f[1]*ga,f<p&&(p=f)):(d<p&&(p=d),d>r&&(r=d));g?c<s?h(m,c)>h(m,q)&&(q=c):h(c,q)>h(m,q)&&(m=c):q>=m?(c<m&&(m=c),c>q&&(q=c)):c>s?h(m,c)>h(m,q)&&(q=c):h(c,q)>h(m,q)&&(m=c)}else a(c,d);w=e;s=c}function c(){z.point=b}function d(){y[0]=m;y[1]=q;z.point=a;w=null}function e(a,c){if(w){var d=a-s;x+=180<K(d)?d+(0<d?360:-360):d}else v=a,u=c;Sa.point(a,c);b(a,c)}function f(){Sa.lineStart()}function g(){e(v,u);Sa.lineEnd();K(x)>D&&(m=
-(q=180));y[0]=m;y[1]=q;w=null}function h(a,b){return 0>(b-=a)?b+360:b}function k(a,b){return a[0]-b[0]}function l(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var m,p,q,r,s,v,u,w,x,ca,y,z={point:a,lineStart:c,lineEnd:d,polygonStart:function(){z.point=e;z.lineStart=f;z.lineEnd=g;x=0;Sa.polygonStart()},polygonEnd:function(){Sa.polygonEnd();z.point=a;z.lineStart=c;z.lineEnd=d;0>Xb?(m=-(q=180),p=-(r=90)):x>D?r=90:x<-D&&(p=-90);y[0]=m;y[1]=q}};return function(a){r=q=-(m=p=Infinity);ca=[];t.geo.stream(a,
z);if(a=ca.length){ca.sort(k);for(var b=1,c=ca[0],d,e=[c];b<a;++b)d=ca[b],l(d[0],c)||l(d[1],c)?(h(c[0],d[1])>h(c[0],c[1])&&(c[1]=d[1]),h(d[0],c[1])>h(c[0],c[1])&&(c[0]=d[0])):e.push(c=d);var f=-Infinity,g;a=e.length-1;b=0;for(c=e[a];b<=a;c=d,++b)d=e[b],(g=h(c[1],d[0]))>f&&(f=g,m=d[0],q=c[1])}ca=y=null;return Infinity===m||Infinity===p?[[NaN,NaN],[NaN,NaN]]:[[m,p],[q,r]]}}();t.geo.centroid=function(a){Xc=uc=tb=ub=nb=Wa=Xa=Pa=Cb=Db=ob=0;t.geo.stream(a,ib);a=Cb;var b=Db,c=ob,d=a*a+b*b+c*c;return d<De&&
(a=Wa,b=Xa,c=Pa,uc<D&&(a=tb,b=ub,c=nb),d=a*a+b*b+c*c,d<De)?[NaN,NaN]:[Math.atan2(b,a)*ga,T(c/Math.sqrt(d))*ga]};var Xc,uc,tb,ub,nb,Wa,Xa,Pa,Cb,Db,ob,ib={sphere:r,point:Lb,lineStart:we,lineEnd:td,polygonStart:function(){ib.lineStart=fe},polygonEnd:function(){ib.lineStart=we}},Wf=Tb(hb,function(a){var b=NaN,c=NaN,d=NaN,e;return{lineStart:function(){a.lineStart();e=1},point:function(f,g){var h=0<f?G:-G,k=K(f-b);if(K(k-G)<D)a.point(b,c=0<(c+g)/2?Ca:-Ca),a.point(d,c),a.lineEnd(),a.lineStart(),a.point(h,
c),a.point(f,c),e=0;else if(d!==h&&k>=G){K(b-d)<D&&(b-=d*D);K(f-h)<D&&(f-=h*D);var k=b,l=c,m=f,p,q,r=Math.sin(k-m);c=K(r)>D?Math.atan((Math.sin(l)*(q=Math.cos(g))*Math.sin(m)-Math.sin(g)*(p=Math.cos(l))*Math.sin(k))/(p*q*r)):(l+g)/2;a.point(d,c);a.lineEnd();a.lineStart();a.point(h,c);e=0}a.point(b=f,c=g);d=h},lineEnd:function(){a.lineEnd();b=c=NaN},clean:function(){return 2-e}}},function(a,b,c,d){null==a?(c*=Ca,d.point(-G,c),d.point(0,c),d.point(G,c),d.point(G,0),d.point(G,-c),d.point(0,-c),d.point(-G,
-c),d.point(-G,0),d.point(-G,c)):K(a[0]-b[0])>D?(a=a[0]<b[0]?G:-G,c=c*a/2,d.point(-a,c),d.point(0,c),d.point(a,c)):d.point(b[0],b[1])},[-G,-G/2]),Gd=1E9;t.geo.clipExtent=function(){var a,b,c,d,e,f,g={stream:function(a){e&&(e.valid=!1);e=f(a);e.valid=!0;return e},extent:function(h){if(!arguments.length)return[[a,b],[c,d]];f=Rc(a=+h[0][0],b=+h[0][1],c=+h[1][0],d=+h[1][1]);e&&(e.valid=!1,e=null);return g}};return g.extent([[0,0],[960,500]])};(t.geo.conicEqualArea=function(){return Sc(aa)}).raw=aa;t.geo.albers=
function(){return t.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};t.geo.albersUsa=function(){function a(b){var c=b[0];b=b[1];e=null;(g(c,b),e)||(h(c,b),e)||k(c,b);return e}var b=t.geo.albers(),c=t.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=t.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),e,f={point:function(a,b){e=[a,b]}},g,h,k;a.invert=function(a){var e=b.scale(),f=b.translate(),g=(a[0]-f[0])/
e,e=(a[1]-f[1])/e;return(.12<=e&&.234>e&&-.425<=g&&-.214>g?c:.166<=e&&.234>e&&-.214<=g&&-.115>g?d:b).invert(a)};a.stream=function(a){var e=b.stream(a),f=c.stream(a),g=d.stream(a);return{point:function(a,b){e.point(a,b);f.point(a,b);g.point(a,b)},sphere:function(){e.sphere();f.sphere();g.sphere()},lineStart:function(){e.lineStart();f.lineStart();g.lineStart()},lineEnd:function(){e.lineEnd();f.lineEnd();g.lineEnd()},polygonStart:function(){e.polygonStart();f.polygonStart();g.polygonStart()},polygonEnd:function(){e.polygonEnd();
f.polygonEnd();g.polygonEnd()}}};a.precision=function(e){if(!arguments.length)return b.precision();b.precision(e);c.precision(e);d.precision(e);return a};a.scale=function(e){if(!arguments.length)return b.scale();b.scale(e);c.scale(.35*e);d.scale(e);return a.translate(b.translate())};a.translate=function(e){if(!arguments.length)return b.translate();var l=b.scale(),m=+e[0],p=+e[1];g=b.translate(e).clipExtent([[m-.455*l,p-.238*l],[m+.455*l,p+.238*l]]).stream(f).point;h=c.translate([m-.307*l,p+.201*l]).clipExtent([[m-
.425*l+D,p+.12*l+D],[m-.214*l-D,p+.234*l-D]]).stream(f).point;k=d.translate([m-.205*l,p+.212*l]).clipExtent([[m-.214*l+D,p+.166*l+D],[m-.115*l-D,p+.234*l-D]]).stream(f).point;return a};return a.scale(1070)};var Wd,Hd,Eb={point:r,lineStart:r,lineEnd:r,polygonStart:function(){Hd=0;Eb.lineStart=Ja},polygonEnd:function(){Eb.lineStart=Eb.lineEnd=Eb.point=r;Wd+=K(Hd/2)}},Xd,Yd,Zd,$d,qi={point:function(a,b){a<Xd&&(Xd=a);a>Zd&&(Zd=a);b<Yd&&(Yd=b);b>$d&&($d=b)},lineStart:r,lineEnd:r,polygonStart:r,polygonEnd:r},
jb={point:Ib,lineStart:ef,lineEnd:ff,polygonStart:function(){jb.lineStart=$g},polygonEnd:function(){jb.point=Ib;jb.lineStart=ef;jb.lineEnd=ff}};t.geo.path=function(){function a(b){b&&("function"===typeof c&&g.pointRadius(+c.apply(this,arguments)),h&&h.valid||(h=f(g)),t.geo.stream(b,h));return g.result()}function b(){h=null;return a}var c=4.5,d,e,f,g,h;a.area=function(a){Wd=0;t.geo.stream(a,f(Eb));return Wd};a.centroid=function(a){tb=ub=nb=Wa=Xa=Pa=Cb=Db=ob=0;t.geo.stream(a,f(jb));return ob?[Cb/ob,
Db/ob]:Pa?[Wa/Pa,Xa/Pa]:nb?[tb/nb,ub/nb]:[NaN,NaN]};a.bounds=function(a){Zd=$d=-(Xd=Yd=Infinity);t.geo.stream(a,f(qi));return[[Xd,Yd],[Zd,$d]]};a.projection=function(a){if(!arguments.length)return d;f=(d=a)?a.stream||bh(a):ka;return b()};a.context=function(a){if(!arguments.length)return e;g=null==(e=a)?new ha:new ah(a);"function"!==typeof c&&g.pointRadius(c);return b()};a.pointRadius=function(b){if(!arguments.length)return c;c="function"===typeof b?b:(g.pointRadius(+b),+b);return a};return a.projection(t.geo.albersUsa()).context(null)};
t.geo.transform=function(a){return{stream:function(b){b=new hf(b);for(var c in a)b[c]=a[c];return b}}};hf.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};t.geo.projection=lb;t.geo.projectionMutator=ke;(t.geo.equirectangular=function(){return lb(Dc)}).raw=Dc.invert=
Dc;t.geo.rotation=function(a){function b(c){c=a(c[0]*I,c[1]*I);return c[0]*=ga,c[1]*=ga,c}a=me(a[0]%360*I,a[1]*I,2<a.length?a[2]*I:0);b.invert=function(b){b=a.invert(b[0]*I,b[1]*I);return b[0]*=ga,b[1]*=ga,b};return b};Ef.invert=Dc;t.geo.circle=function(){function a(){var c="function"===typeof b?b.apply(this,arguments):b,d=me(-c[0]*I,-c[1]*I,0).invert,f=[];e(null,null,1,{point:function(a,b){f.push(a=d(a,b));a[0]*=ga;a[1]*=ga}});return{type:"Polygon",coordinates:[f]}}var b=[0,0],c,d=6,e;a.origin=function(c){if(!arguments.length)return b;
b=c;return a};a.angle=function(b){if(!arguments.length)return c;e=ne((c=+b)*I,d*I);return a};a.precision=function(b){if(!arguments.length)return d;e=ne(c*I,(d=+b)*I);return a};return a.angle(90)};t.geo.distance=function(a,b){var c=(b[0]-a[0])*I,d=a[1]*I,e=b[1]*I,f=Math.sin(c),c=Math.cos(c),g=Math.sin(d),d=Math.cos(d),h=Math.sin(e),e=Math.cos(e),k;return Math.atan2(Math.sqrt((k=e*f)*k+(k=d*h-g*e*c)*k),g*h+d*e*c)};t.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}
function b(){return t.range(Math.ceil(f/q)*q,e,q).map(u).concat(t.range(Math.ceil(l/r)*r,k,r).map(w)).concat(t.range(Math.ceil(d/m)*m,c,m).filter(function(a){return K(a%q)>D}).map(s)).concat(t.range(Math.ceil(h/p)*p,g,p).filter(function(a){return K(a%r)>D}).map(v))}var c,d,e,f,g,h,k,l,m=10,p=m,q=90,r=360,s,v,u,w,x=2.5;a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})};a.outline=function(){return{type:"Polygon",coordinates:[u(f).concat(w(k).slice(1),u(e).reverse().slice(1),
w(l).reverse().slice(1))]}};a.extent=function(b){return arguments.length?a.majorExtent(b).minorExtent(b):a.minorExtent()};a.majorExtent=function(b){if(!arguments.length)return[[f,l],[e,k]];f=+b[0][0];e=+b[1][0];l=+b[0][1];k=+b[1][1];f>e&&(b=f,f=e,e=b);l>k&&(b=l,l=k,k=b);return a.precision(x)};a.minorExtent=function(b){if(!arguments.length)return[[d,h],[c,g]];d=+b[0][0];c=+b[1][0];h=+b[0][1];g=+b[1][1];d>c&&(b=d,d=c,c=b);h>g&&(b=h,h=g,g=b);return a.precision(x)};a.step=function(b){return arguments.length?
a.majorStep(b).minorStep(b):a.minorStep()};a.majorStep=function(b){if(!arguments.length)return[q,r];q=+b[0];r=+b[1];return a};a.minorStep=function(b){if(!arguments.length)return[m,p];m=+b[0];p=+b[1];return a};a.precision=function(b){if(!arguments.length)return x;x=+b;s=sf(h,g,90);v=Hf(d,c,x);u=sf(l,k,90);w=Hf(f,e,x);return a};return a.majorExtent([[-180,-90+D],[180,90-D]]).minorExtent([[-180,-80-D],[180,80+D]])};t.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[c||b.apply(this,
arguments),e||d.apply(this,arguments)]}}var b=je,c,d=le,e;a.distance=function(){return t.geo.distance(c||b.apply(this,arguments),e||d.apply(this,arguments))};a.source=function(d){if(!arguments.length)return b;b=d;c="function"===typeof d?null:d;return a};a.target=function(b){if(!arguments.length)return d;d=b;e="function"===typeof b?null:b;return a};a.precision=function(){return arguments.length?a:0};return a};t.geo.interpolate=function(a,b){return rh(a[0]*I,a[1]*I,b[0]*I,b[1]*I)};t.geo.length=function(a){ae=
0;t.geo.stream(a,zc);return ae};var ae,zc={sphere:r,point:r,lineStart:function(){function a(e,f){var g=Math.sin(f*=I),h=Math.cos(f),k=K((e*=I)-b),l=Math.cos(k);ae+=Math.atan2(Math.sqrt((k=h*Math.sin(k))*k+(k=d*g-c*h*l)*k),c*g+d*h*l);b=e;c=g;d=h}var b,c,d;zc.point=function(e,f){b=e*I;c=Math.sin(f*=I);d=Math.cos(f);zc.point=a};zc.lineEnd=function(){zc.point=zc.lineEnd=r}},lineEnd:r,polygonStart:r,polygonEnd:r},Ng=Ec(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(t.geo.azimuthalEqualArea=
function(){return lb(Ng)}).raw=Ng;var Og=Ec(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},ka);(t.geo.azimuthalEquidistant=function(){return lb(Og)}).raw=Og;(t.geo.conicConformal=function(){return Sc(nf)}).raw=nf;(t.geo.conicEquidistant=function(){return Sc(mf)}).raw=mf;var Pg=Ec(function(a){return 1/a},Math.atan);(t.geo.gnomonic=function(){return lb(Pg)}).raw=Pg;gd.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-Ca]};(t.geo.mercator=function(){return of(gd)}).raw=gd;var Qg=Ec(function(){return 1},
Math.asin);(t.geo.orthographic=function(){return lb(Qg)}).raw=Qg;var Rg=Ec(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(t.geo.stereographic=function(){return lb(Rg)}).raw=Rg;ie.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-Ca]};(t.geo.transverseMercator=function(){var a=of(ie),b=a.center,c=a.rotate;a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[-a[1],a[0]])};a.rotate=function(a){return a?c([a[0],a[1],2<a.length?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])};return a.rotate([0,
0])}).raw=ie;t.geom={};t.geom.hull=function(a){function b(a){if(3>a.length)return[];var e=X(c),f=X(d),g,h=a.length,k=[],l=[];for(g=0;g<h;g++)k.push([+e.call(this,a[g],g),+f.call(this,a[g],g),g]);k.sort(qa);for(g=0;g<h;g++)l.push([k[g][0],-k[g][1]]);var e=pf(k),l=pf(l),f=l[0]===e[0],h=l[l.length-1]===e[e.length-1],m=[];for(g=e.length-1;0<=g;--g)m.push(a[k[e[g]][2]]);for(g=+f;g<l.length-h;++g)m.push(a[k[l[g]][2]]);return m}var c=ic,d=Fc;if(arguments.length)return b(a);b.x=function(a){return arguments.length?
(c=a,b):c};b.y=function(a){return arguments.length?(d=a,b):d};return b};t.geom.polygon=function(a){zd(a,be);return a};var be=t.geom.polygon.prototype=[];be.area=function(){for(var a=-1,b=this.length,c,d=this[b-1],e=0;++a<b;)c=d,d=this[a],e+=c[1]*d[0]-c[0]*d[1];return.5*e};be.centroid=function(a){var b=-1,c=this.length,d=0,e=0,f,g=this[c-1],h;for(arguments.length||(a=-1/(6*this.area()));++b<c;)f=g,g=this[b],h=f[0]*g[1]-g[0]*f[1],d+=(f[0]+g[0])*h,e+=(f[1]+g[1])*h;return[d*a,e*a]};be.clip=function(a){for(var b,
c=xf(a),d=-1,e=this.length-xf(this),f,g,h=this[e-1],k,l,m;++d<e;){b=a.slice();a.length=0;k=this[d];l=b[(g=b.length-c)-1];for(f=-1;++f<g;)m=b[f],ge(m,h,k)?(ge(l,h,k)||a.push(Na(l,m,h,k)),a.push(m)):ge(l,h,k)&&a.push(Na(l,m,h,k)),l=m;c&&a.push(a[0]);h=k}return a};var wc,Yb,vc,Xf=[],Ee,Yc,Yf=[];wf.prototype.prepare=function(){for(var a=this.edges,b=a.length,c;b--;)c=a[b].edge,c.b&&c.a||a.splice(b,1);a.sort(vf);return a.length};id.prototype={start:function(){return this.edge.l===this.site?this.edge.a:
this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};pe.prototype={insert:function(a,b){var c,d,e;if(a){b.P=a;if(b.N=a.N)a.N.P=b;a.N=b;if(a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=Kf(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);b.L=b.R=null;b.U=c;b.C=!0;for(a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R)&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(Hc(this,c),a=c,c=a.U),c.C=!1,d.C=!0,Ic(this,d)):(e=d.L)&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.L&&
(Ic(this,c),a=c,c=a.U),c.C=!1,d.C=!0,Hc(this,d)),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var b=a.U,c=a.L,d=a.R,e,f;e=c?d?Kf(d):c:d;b?b.L===a?b.L=e:b.R=e:this._=e;c&&d?(f=e.C,e.C=a.C,e.L=c,c.U=e,e!==d?(b=e.U,e.U=a.U,a=e.R,b.L=a,e.R=d,d.U=e):(e.U=b,b=e,a=e.R)):(f=a.C,a=e);a&&(a.U=b);if(!f)if(a&&a.C)a.C=!1;else{do{if(a===this._)break;if(a===b.L){if(a=b.R,a.C&&(a.C=!1,b.C=!0,Hc(this,b),a=b.R),a.L&&a.L.C||a.R&&a.R.C){a.R&&a.R.C||(a.L.C=!1,a.C=!0,Ic(this,a),
a=b.R);a.C=b.C;b.C=a.R.C=!1;Hc(this,b);a=this._;break}}else if(a=b.L,a.C&&(a.C=!1,b.C=!0,Ic(this,b),a=b.L),a.L&&a.L.C||a.R&&a.R.C){a.L&&a.L.C||(a.R.C=!1,a.C=!0,Hc(this,a),a=b.L);a.C=b.C;b.C=a.L.C=!1;Ic(this,b);a=this._;break}a.C=!0;a=b;b=b.U}while(!a.C);a&&(a.C=!1)}}};t.geom.voronoi=function(a){function b(a){var d=Array(a.length),e=h[0][0],f=h[0][1],g=h[1][0],k=h[1][1];qe(c(a),h).cells.forEach(function(b,c){var h=b.edges,l=b.site;(d[c]=h.length?h.map(function(a){a=a.start();return[a.x,a.y]}):l.x>=
e&&l.x<=g&&l.y>=f&&l.y<=k?[[e,k],[g,k],[g,f],[e,f]]:[]).point=a[c]});return d}function c(a){return a.map(function(a,b){return{x:Math.round(f(a,b)/D)*D,y:Math.round(g(a,b)/D)*D,i:b}})}var d=ic,e=Fc,f=d,g=e,h=ce;if(a)return b(a);b.links=function(a){return qe(c(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})};b.triangles=function(a){var b=[];qe(c(a)).cells.forEach(function(c,d){for(var e=c.site,f=c.edges.sort(vf),g=-1,h=f.length,k,l=f[h-1].edge,
l=l.l===e?l.r:l.l;++g<h;)k=l,l=f[g].edge,l=l.l===e?l.r:l.l,d<k.i&&d<l.i&&0>(e.x-l.x)*(k.y-e.y)-(e.x-k.x)*(l.y-e.y)&&b.push([a[d],a[k.i],a[l.i]])});return b};b.x=function(a){return arguments.length?(f=X(d=a),b):d};b.y=function(a){return arguments.length?(g=X(e=a),b):e};b.clipExtent=function(a){if(!arguments.length)return h===ce?null:h;h=null==a?ce:a;return b};b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):h===ce?null:h&&h[1]};return b};var ce=[[-1E6,-1E6],[1E6,1E6]];t.geom.delaunay=
function(a){return t.geom.voronoi().triangles(a)};t.geom.quadtree=function(a,b,c,d,e){function f(a){function l(a,b,c,d,e,f,g,h){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var k=a.x,p=a.y;if(null!=k){if(!(.01>K(k-c)+K(p-d))){var C=a.point;a.x=a.y=a.point=null;m(a,C,k,p,e,f,g,h)}m(a,b,c,d,e,f,g,h)}else a.x=c,a.y=d,a.point=b}else m(a,b,c,d,e,f,g,h)}function m(a,b,c,d,e,f,g,h){var k=.5*(e+g),p=.5*(f+h),C=c>=k,q=d>=p,r=(q<<1)+C;a.leaf=!1;a=a.nodes[r]||(a.nodes[r]=Lf());C?e=k:g=k;q?f=p:h=p;l(a,b,c,d,e,f,g,h)}var p,
C=X(g),q=X(h),r,t,s,v,u,S,w,x;if(null!=b)u=b,S=c,w=d,x=e;else if(w=x=-(u=S=Infinity),r=[],t=[],v=a.length,k)for(s=0;s<v;++s)p=a[s],p.x<u&&(u=p.x),p.y<S&&(S=p.y),p.x>w&&(w=p.x),p.y>x&&(x=p.y),r.push(p.x),t.push(p.y);else for(s=0;s<v;++s){var y=+C(p=a[s],s);p=+q(p,s);y<u&&(u=y);p<S&&(S=p);y>w&&(w=y);p>x&&(x=p);r.push(y);t.push(p)}y=w-u;p=x-S;y>p?x=S+y:w=u+p;var z=Lf();z.add=function(a){l(z,a,+C(a,++s),+q(a,s),u,S,w,x)};z.visit=function(a){bb(a,z,u,S,w,x)};s=-1;if(null==b){for(;++s<v;)l(z,a[s],r[s],
t[s],u,S,w,x);--s}else a.forEach(z.add);r=t=a=p=null;return z}var g=ic,h=Fc,k;if(k=arguments.length)return g=wh,h=xh,3===k&&(e=c,d=b,c=b=0),f(a);f.x=function(a){return arguments.length?(g=a,f):g};f.y=function(a){return arguments.length?(h=a,f):h};f.extent=function(a){if(!arguments.length)return null==b?null:[[b,c],[d,e]];null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]);return f};f.size=function(a){if(!arguments.length)return null==b?null:[d-b,e-c];null==a?b=c=d=e=null:(b=c=0,d=+a[0],
e=+a[1]);return f};return f};t.interpolateRgb=he;t.interpolateObject=tf;t.interpolateNumber=ab;t.interpolateString=cb;var Fe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ge=new RegExp(Fe.source,"g");t.interpolate=Ha;t.interpolators=[function(a,b){var c=typeof b;return("string"===c?Bd.has(b)||/^(#|rgb\(|hsl\()/.test(b)?he:cb:b instanceof wb?he:Array.isArray(b)?jd:"object"===c&&isNaN(b)?tf:ab)(a,b)}];t.interpolateArray=jd;var Sg=function(){return ka},ri=t.map({linear:Sg,poly:function(a){return function(b){return Math.pow(b,
a)}},quad:function(){return dh},cubic:function(){return eh},sin:function(){return gh},exp:function(){return hh},circle:function(){return ih},elastic:function(a,b){var c;2>arguments.length&&(b=.45);arguments.length?c=b/Ta*Math.asin(1/a):(a=1,c=b/4);return function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*Ta/b)}},back:function(a){a||(a=1.70158);return function(b){return b*b*((a+1)*b-a)}},bounce:function(){return jh}}),si=t.map({"in":ka,out:kf,"in-out":lf,"out-in":function(a){return lf(kf(a))}});
t.ease=function(a){var b=a.indexOf("-"),c=0<=b?a.substring(0,b):a,b=0<=b?a.substring(b+1):"in",c=ri.get(c)||Sg,b=si.get(b)||ka;return ch(b(c.apply(null,Fg.call(arguments,1))))};t.interpolateHcl=function(a,b){a=t.hcl(a);b=t.hcl(b);var c=a.h,d=a.c,e=a.l,f=b.h-c,g=b.c-d,h=b.l-e;isNaN(g)&&(g=0,d=isNaN(d)?b.c:d);isNaN(f)?(f=0,c=isNaN(c)?b.h:c):180<f?f-=360:-180>f&&(f+=360);return function(a){return kc(c+f*a,d+g*a,e+h*a)+""}};t.interpolateHsl=function(a,b){a=t.hsl(a);b=t.hsl(b);var c=a.h,d=a.s,e=a.l,f=
b.h-c,g=b.s-d,h=b.l-e;isNaN(g)&&(g=0,d=isNaN(d)?b.s:d);isNaN(f)?(f=0,c=isNaN(c)?b.h:c):180<f?f-=360:-180>f&&(f+=360);return function(a){return Cc(c+f*a,d+g*a,e+h*a)+""}};t.interpolateLab=function(a,b){a=t.lab(a);b=t.lab(b);var c=a.l,d=a.a,e=a.b,f=b.l-c,g=b.a-d,h=b.b-e;return function(a){return kd(c+f*a,d+g*a,e+h*a)+""}};t.interpolateRound=yf;t.transform=function(a){var b=kb.createElementNS(t.ns.prefix.svg,"g");return(t.transform=function(a){if(null!=a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new zf(c?
c.matrix:ti)})(a)};zf.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ti={a:1,b:0,c:0,d:1,e:0,f:0};t.interpolateTransform=Cf;t.layout={};t.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<d;)b.push(mh(a[c]));return b}};t.layout.chord=function(){function a(){var c={},p=[],q=t.range(g),C=[],r,s,v,u,w;d=[];e=[];r=0;for(u=-1;++u<g;){s=0;for(w=-1;++w<g;)s+=f[u][w];p.push(s);C.push(t.range(g));
r+=s}k&&q.sort(function(a,b){return k(p[a],p[b])});l&&C.forEach(function(a,b){a.sort(function(a,c){return l(f[b][a],f[b][c])})});r=(Ta-h*g)/r;s=0;for(u=-1;++u<g;){v=s;for(w=-1;++w<g;){var x=q[u],V=C[x][w],y=f[x][V],z=s,A=s+=y*r;c[x+"-"+V]={index:x,subindex:V,startAngle:z,endAngle:A,value:y}}e[x]={index:x,startAngle:v,endAngle:s,value:(s-v)/r};s+=h}for(u=-1;++u<g;)for(w=u-1;++w<g;)q=c[u+"-"+w],C=c[w+"-"+u],(q.value||C.value)&&d.push(q.value<C.value?{source:C,target:q}:{source:q,target:C});m&&b()}function b(){d.sort(function(a,
b){return m((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c={},d,e,f,g,h=0,k,l,m;c.matrix=function(a){if(!arguments.length)return f;g=(f=a)&&f.length;d=e=null;return c};c.padding=function(a){if(!arguments.length)return h;h=a;d=e=null;return c};c.sortGroups=function(a){if(!arguments.length)return k;k=a;d=e=null;return c};c.sortSubgroups=function(a){if(!arguments.length)return l;l=a;d=null;return c};c.sortChords=function(a){if(!arguments.length)return m;m=a;d&&b();return c};
c.chords=function(){d||a();return d};c.groups=function(){e||a();return e};return c};t.layout.force=function(){function a(b){return function(a,c,d,e){if(a.point!==b){d=a.cx-b.x;var f=a.cy-b.y;c=e-c;e=d*d+f*f;if(c*c/r<e)return e<p&&(c=a.charge/e,b.px-=d*c,b.py-=f*c),!0;a.point&&e&&e<p&&(c=a.pointCharge/e,b.px-=d*c,b.py-=f*c)}return!a.charge}}function b(a){a.px=t.event.x;a.py=t.event.y;c.resume()}var c={},d=t.dispatch("start","tick","end"),e=[1,1],f,g,h=.9,k=ui,l=vi,m=-30,p=wi,q=.1,r=.64,s=[],v=[],u,
w,x;c.tick=function(){if(.005>(g*=.99))return d.end({type:"end",alpha:g=0}),!0;var b=s.length,c=v.length,f,k,l,p,r,S,L;for(f=0;f<c;++f)if(k=v[f],l=k.source,p=k.target,S=p.x-l.x,L=p.y-l.y,r=S*S+L*L)r=g*w[f]*((r=Math.sqrt(r))-u[f])/r,S*=r,L*=r,p.x-=S*(r=l.weight/(p.weight+l.weight)),p.y-=L*r,l.x+=S*(r=1-r),l.y+=L*r;if(r=g*q)if(S=e[0]/2,L=e[1]/2,f=-1,r)for(;++f<b;)k=s[f],k.x+=(S-k.x)*r,k.y+=(L-k.y)*r;if(m)for(Zf(c=t.geom.quadtree(s),g,x),f=-1;++f<b;)(k=s[f]).fixed||c.visit(a(k));for(f=-1;++f<b;)k=s[f],
k.fixed?(k.x=k.px,k.y=k.py):(k.x-=(k.px-(k.px=k.x))*h,k.y-=(k.py-(k.py=k.y))*h);d.tick({type:"tick",alpha:g})};c.nodes=function(a){if(!arguments.length)return s;s=a;return c};c.links=function(a){if(!arguments.length)return v;v=a;return c};c.size=function(a){if(!arguments.length)return e;e=a;return c};c.linkDistance=function(a){if(!arguments.length)return k;k="function"===typeof a?a:+a;return c};c.distance=c.linkDistance;c.linkStrength=function(a){if(!arguments.length)return l;l="function"===typeof a?
a:+a;return c};c.friction=function(a){if(!arguments.length)return h;h=+a;return c};c.charge=function(a){if(!arguments.length)return m;m="function"===typeof a?a:+a;return c};c.chargeDistance=function(a){if(!arguments.length)return Math.sqrt(p);p=a*a;return c};c.gravity=function(a){if(!arguments.length)return q;q=+a;return c};c.theta=function(a){if(!arguments.length)return Math.sqrt(r);r=a*a;return c};c.alpha=function(a){if(!arguments.length)return g;a=+a;g?g=0<a?a:0:0<a&&(d.start({type:"start",alpha:g=
a}),t.timer(c.tick));return c};c.start=function(){function a(c,e){if(!p){p=Array(d);for(g=0;g<d;++g)p[g]=[];for(g=0;g<h;++g){var f=v[g];p[f.source.index].push(f.target);p[f.target.index].push(f.source)}}for(var f=p[b],g=-1,h=f.length,k;++g<h;)if(!isNaN(k=f[g][c]))return k;return Math.random()*e}var b,d=s.length,f=v.length,g=e[0],h=e[1],p,q;for(b=0;b<d;++b)(q=s[b]).index=b,q.weight=0;for(b=0;b<f;++b)q=v[b],"number"==typeof q.source&&(q.source=s[q.source]),"number"==typeof q.target&&(q.target=s[q.target]),
++q.source.weight,++q.target.weight;for(b=0;b<d;++b)q=s[b],isNaN(q.x)&&(q.x=a("x",g)),isNaN(q.y)&&(q.y=a("y",h)),isNaN(q.px)&&(q.px=q.x),isNaN(q.py)&&(q.py=q.y);u=[];if("function"===typeof k)for(b=0;b<f;++b)u[b]=+k.call(this,v[b],b);else for(b=0;b<f;++b)u[b]=k;w=[];if("function"===typeof l)for(b=0;b<f;++b)w[b]=+l.call(this,v[b],b);else for(b=0;b<f;++b)w[b]=l;x=[];if("function"===typeof m)for(b=0;b<d;++b)x[b]=+m.call(this,s[b],b);else for(b=0;b<d;++b)x[b]=m;return c.resume()};c.resume=function(){return c.alpha(.1)};
c.stop=function(){return c.alpha(0)};c.drag=function(){f||(f=t.behavior.drag().origin(ka).on("dragstart.force",nh).on("drag.force",b).on("dragend.force",oh));if(!arguments.length)return f;this.on("mouseover.force",qh).on("mouseout.force",Ch).call(f)};return t.rebind(c,d,"on")};var ui=20,vi=1,wi=Infinity;t.layout.hierarchy=function(){function a(e){var f=[e],g=[],h;for(e.depth=0;null!=(h=f.pop());)if(g.push(h),(l=c.call(a,h,h.depth))&&(k=l.length)){for(var k,l,m;0<=--k;)f.push(m=l[k]),m.parent=h,m.depth=
h.depth+1;d&&(h.value=0);h.children=l}else d&&(h.value=+d.call(a,h,h.depth)||0),delete h.children;pb(e,function(a){var c,e;b&&(c=a.children)&&c.sort(b);d&&(e=a.parent)&&(e.value+=a.value)});return g}var b=Gh,c=Eh,d=Fh;a.sort=function(c){if(!arguments.length)return b;b=c;return a};a.children=function(b){if(!arguments.length)return c;c=b;return a};a.value=function(b){if(!arguments.length)return d;d=b;return a};a.revalue=function(b){d&&($c(b,function(a){a.children&&(a.value=0)}),pb(b,function(b){var c;
b.children||(b.value=+d.call(a,b,b.depth)||0);if(c=b.parent)c.value+=b.value}));return b};return a};t.layout.partition=function(){function a(b,c,d,e){var f=b.children;b.x=c;b.y=b.depth*e;b.dx=d;b.dy=e;if(f&&(h=f.length)){var g=-1,h,k;for(d=b.value?d/b.value:0;++g<h;)a(k=f[g],c,b=k.value*d,e),c+=b}}function b(a){a=a.children;var c=0;if(a&&(e=a.length))for(var d=-1,e;++d<e;)c=Math.max(c,b(a[d]));return 1+c}function c(f,g){var h=d.call(this,f,g);a(h[0],0,e[0],e[1]/b(h[0]));return h}var d=t.layout.hierarchy(),
e=[1,1];c.size=function(a){if(!arguments.length)return e;e=a;return c};return Zc(c,d)};t.layout.pie=function(){function a(f){var g=f.map(function(c,d){return+b.call(a,c,d)}),h=+("function"===typeof d?d.apply(this,arguments):d),k=(("function"===typeof e?e.apply(this,arguments):e)-h)/t.sum(g),l=t.range(f.length);null!=c&&l.sort(c===Tg?function(a,b){return g[b]-g[a]}:function(a,b){return c(f[a],f[b])});var m=[];l.forEach(function(a){var b;m[a]={data:f[a],value:b=g[a],startAngle:h,endAngle:h+=b*k}});
return m}var b=Number,c=Tg,d=0,e=Ta;a.value=function(c){if(!arguments.length)return b;b=c;return a};a.sort=function(b){if(!arguments.length)return c;c=b;return a};a.startAngle=function(b){if(!arguments.length)return d;d=b;return a};a.endAngle=function(b){if(!arguments.length)return e;e=b;return a};return a};var Tg={};t.layout.stack=function(){function a(h,k){var l=h.map(function(c,d){return b.call(a,c,d)}),m=l.map(function(b){return b.map(function(b,c){return[f.call(a,b,c),g.call(a,b,c)]})}),p=c.call(a,
m,k),l=t.permute(l,p),m=t.permute(m,p),p=d.call(a,m,k),q=l.length,r=l[0].length,s,v,u;for(v=0;v<r;++v)for(e.call(a,l[0][v],u=p[v],m[0][v][1]),s=1;s<q;++s)e.call(a,l[s][v],u+=m[s-1][v][1],m[s][v][1]);return h}var b=ka,c=He,d=Ie,e=Jh,f=Hh,g=Ih;a.values=function(c){if(!arguments.length)return b;b=c;return a};a.order=function(b){if(!arguments.length)return c;c="function"===typeof b?b:xi.get(b)||He;return a};a.offset=function(b){if(!arguments.length)return d;d="function"===typeof b?b:yi.get(b)||Ie;return a};
a.x=function(b){if(!arguments.length)return f;f=b;return a};a.y=function(b){if(!arguments.length)return g;g=b;return a};a.out=function(b){if(!arguments.length)return e;e=b;return a};return a};var xi=t.map({"inside-out":function(a){var b=a.length,c,d=a.map(Kh),e=a.map(Lh),f=t.range(b).sort(function(a,b){return d[a]-d[b]}),g=0,h=0,k=[],l=[];for(a=0;a<b;++a)c=f[a],g<h?(g+=e[c],k.push(c)):(h+=e[c],l.push(c));return l.reverse().concat(k)},reverse:function(a){return t.range(a.length).reverse()},"default":He}),
yi=t.map({silhouette:function(a){var b=a.length,c=a[0].length,d=[],e=0,f,g,h,k=[];for(g=0;g<c;++g){for(h=f=0;f<b;f++)h+=a[f][g][1];h>e&&(e=h);d.push(h)}for(g=0;g<c;++g)k[g]=(e-d[g])/2;return k},wiggle:function(a){var b=a.length,c=a[0],d=c.length,e,f,g,h,k,l,m,p,q,r=[];r[0]=p=q=0;for(f=1;f<d;++f){for(h=e=0;e<b;++e)h+=a[e][f][1];k=e=0;for(m=c[f][0]-c[f-1][0];e<b;++e){g=0;for(l=(a[e][f][1]-a[e][f-1][1])/(2*m);g<e;++g)l+=(a[g][f][1]-a[g][f-1][1])/m;k+=l*a[e][f][1]}r[f]=p-=h?k/h*m:0;p<q&&(q=p)}for(f=0;f<
d;++f)r[f]-=q;return r},expand:function(a){var b=a.length,c=a[0].length,d=1/b,e,f,g,h=[];for(f=0;f<c;++f){for(g=e=0;e<b;e++)g+=a[e][f][1];if(g)for(e=0;e<b;e++)a[e][f][1]/=g;else for(e=0;e<b;e++)a[e][f][1]=d}for(f=0;f<c;++f)h[f]=0;return h},zero:Ie});t.layout.histogram=function(){function a(f,g){var h=[],k=f.map(c,this),l=d.call(this,k,g),m=e.call(this,l,k,g),p;g=-1;for(var q=k.length,r=m.length-1,C=b?1:1/q;++g<r;)p=h[g]=[],p.dx=m[g+1]-(p.x=m[g]),p.y=0;if(0<r)for(g=-1;++g<q;)p=k[g],p>=l[0]&&p<=l[1]&&
(p=h[t.bisect(m,p,1,r)-1],p.y+=C,p.push(f[g]));return h}var b=!0,c=Number,d=Oh,e=Nh;a.value=function(b){if(!arguments.length)return c;c=b;return a};a.range=function(b){if(!arguments.length)return d;d=X(b);return a};a.bins=function(b){if(!arguments.length)return e;e="number"===typeof b?function(a){return $f(a,b)}:X(b);return a};a.frequency=function(c){if(!arguments.length)return b;b=!!c;return a};return a};t.layout.pack=function(){function a(f,g){var h=b.call(this,f,g),k=h[0],l=d[0],m=d[1],p=null==
e?Math.sqrt:"function"===typeof e?e:function(){return e};k.x=k.y=0;pb(k,function(a){a.r=+p(a.value)});pb(k,cg);if(c){var q=c*(e?1:Math.max(2*k.r/l,2*k.r/m))/2;pb(k,function(a){a.r+=q});pb(k,cg);pb(k,function(a){a.r-=q})}eg(k,l/2,m/2,e?1:1/Math.max(2*k.r/l,2*k.r/m));return h}var b=t.layout.hierarchy().sort(Ph),c=0,d=[1,1],e;a.size=function(b){if(!arguments.length)return d;d=b;return a};a.radius=function(b){if(!arguments.length)return e;e=null==b||"function"===typeof b?b:+b;return a};a.padding=function(b){if(!arguments.length)return c;
c=+b;return a};return Zc(a,b)};t.layout.tree=function(){function a(l,m){var p=f.call(this,l,m),q=p[0],r=b(q);pb(r,c);r.parent.m=-r.z;$c(r,d);if(k)$c(q,e);else{var C=q,s=q,t=q;$c(q,function(a){a.x<C.x&&(C=a);a.x>s.x&&(s=a);a.depth>t.depth&&(t=a)});var v=g(C,s)/2-C.x,u=h[0]/(s.x+g(s,C)/2+v),w=h[1]/(t.depth||1);$c(q,function(a){a.x=(a.x+v)*u;a.y=a.depth*w})}return p}function b(a){a={A:null,children:[a]};for(var c=[a],d;null!=(d=c.pop());)for(var e=d.children,f,g=0,h=e.length;g<h;++g)c.push((e[g]=f={_:e[g],
parent:d,children:(f=e[g].children)&&f.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:g}).a=f);return a.children[0]}function c(a){var b=a.children,d=a.parent.children,e=a.i?d[a.i-1]:null;if(b.length){for(var f=0,h=0,k=a.children,l=k.length,m;0<=--l;)m=k[l],m.z+=f,m.m+=f,f+=m.s+(h+=m.c);b=(b[0].z+b[b.length-1].z)/2;e?(a.z=e.z+g(a._,e._),a.m=a.z-b):a.z=b}else e&&(a.z=e.z+g(a._,e._));b=a.parent;d=a.parent.A||d[0];if(e){h=f=a;k=f.parent.children[0];l=f.m;m=h.m;for(var p=e.m,q=k.m,r;e=Le(e),f=Ke(f),
e&&f;){k=Ke(k);h=Le(h);h.a=a;r=e.z+p-f.z-l+g(e._,f._);if(0<r){var C=e.a.parent===a.parent?e.a:d,s=a,t=r,v=t/(s.i-C.i);s.c-=v;s.s+=t;C.c+=v;s.z+=t;s.m+=t;l+=r;m+=r}p+=e.m;l+=f.m;q+=k.m;m+=h.m}e&&!Le(h)&&(h.t=e,h.m+=p-m);f&&!Ke(k)&&(k.t=f,k.m+=l-q,d=a)}b.A=d}function d(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function e(a){a.x*=h[0];a.y=a.depth*h[1]}var f=t.layout.hierarchy().sort(null).value(null),g=fg,h=[1,1],k=null;a.separation=function(b){if(!arguments.length)return g;g=b;return a};a.size=function(b){if(!arguments.length)return k?
null:h;k=null==(h=b)?e:null;return a};a.nodeSize=function(b){if(!arguments.length)return k?h:null;k=null==(h=b)?null:e;return a};return Zc(a,f)};t.layout.cluster=function(){function a(f,g){var h=b.call(this,f,g),k=h[0],l,m=0;pb(k,function(a){var b=a.children;b&&b.length?(a.x=Th(b),a.y=Sh(b)):(a.x=l?m+=c(a,l):0,a.y=0,l=a)});var p=gg(k),q=hg(k),r=p.x-c(p,q)/2,C=q.x+c(q,p)/2;pb(k,e?function(a){a.x=(a.x-k.x)*d[0];a.y=(k.y-a.y)*d[1]}:function(a){a.x=(a.x-r)/(C-r)*d[0];a.y=(1-(k.y?a.y/k.y:1))*d[1]});return h}
var b=t.layout.hierarchy().sort(null).value(null),c=fg,d=[1,1],e=!1;a.separation=function(b){if(!arguments.length)return c;c=b;return a};a.size=function(b){if(!arguments.length)return e?null:d;e=null==(d=b);return a};a.nodeSize=function(b){if(!arguments.length)return e?d:null;e=null!=(d=b);return a};return Zc(a,b)};t.layout.treemap=function(){function a(b,c){for(var d=-1,e=b.length,f,g;++d<e;)g=(f=b[d]).value*(0>c?0:c),f.area=isNaN(g)||0>=g?0:g}function b(c){var e=c.children;if(e&&e.length){var f=
l(c),g=[],h=e.slice(),k=Infinity,m,p="slice"===q?f.dx:"dice"===q?f.dy:"slice-dice"===q?c.depth&1?f.dy:f.dx:Math.min(f.dx,f.dy);a(h,f.dx*f.dy/c.value);for(g.area=0;0<(c=h.length);){g.push(c=h[c-1]);g.area+=c.area;if(!(c="squarify"!==q)){m=p;c=g.area;for(var s=void 0,t=0,v=Infinity,u=-1,w=g.length;++u<w;)if(s=g[u].area)s<v&&(v=s),s>t&&(t=s);c*=c;m*=m;c=(m=c?Math.max(m*t*r/c,c/(m*v*r)):Infinity)<=k}c?(h.pop(),k=m):(g.area-=g.pop().area,d(g,p,f,!1),p=Math.min(f.dx,f.dy),g.length=g.area=0,k=Infinity)}g.length&&
(d(g,p,f,!0),g.length=g.area=0);e.forEach(b)}}function c(b){var e=b.children;if(e&&e.length){var f=l(b),g=e.slice(),h=[];a(g,f.dx*f.dy/b.value);for(h.area=0;b=g.pop();)h.push(b),h.area+=b.area,null!=b.z&&(d(h,b.z?f.dx:f.dy,f,!g.length),h.length=h.area=0);e.forEach(c)}}function d(a,b,c,e){var f=-1,h=a.length,k=c.x,l=c.y,m=b?g(a.area/b):0,p;if(b==c.dx){if(e||m>c.dy)m=c.dy;for(;++f<h;)p=a[f],p.x=k,p.y=l,p.dy=m,k+=p.dx=Math.min(c.x+c.dx-k,m?g(p.area/m):0);p.z=!0;p.dx+=c.x+c.dx-k;c.y+=m;c.dy-=m}else{if(e||
m>c.dx)m=c.dx;for(;++f<h;)p=a[f],p.x=k,p.y=l,p.dx=m,l+=p.dy=Math.min(c.y+c.dy-l,m?g(p.area/m):0);p.z=!1;p.dy+=c.y+c.dy-l;c.x+=m;c.dx-=m}}function e(d){d=p||f(d);var g=d[0];g.x=0;g.y=0;g.dx=h[0];g.dy=h[1];p&&f.revalue(g);a([g],g.dx*g.dy/g.value);(p?c:b)(g);m&&(p=d);return d}var f=t.layout.hierarchy(),g=Math.round,h=[1,1],k=null,l=Me,m=!1,p,q="squarify",r=.5*(1+Math.sqrt(5));e.size=function(a){if(!arguments.length)return h;h=a;return e};e.padding=function(a){function b(c){var d=a.call(e,c,c.depth);
return null==d?Me(c):ig(c,"number"===typeof d?[d,d,d,d]:d)}function c(b){return ig(b,a)}if(!arguments.length)return k;var d;l=null==(k=a)?Me:"function"===(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c;return e};e.round=function(a){if(!arguments.length)return g!=Number;g=a?Math.round:Number;return e};e.sticky=function(a){if(!arguments.length)return m;m=a;p=null;return e};e.ratio=function(a){if(!arguments.length)return r;r=a;return e};e.mode=function(a){if(!arguments.length)return q;q=a+"";return e};
return Zc(e,f)};t.random={normal:function(a,b){var c=arguments.length;2>c&&(b=1);1>c&&(a=0);return function(){var c,d;do c=2*Math.random()-1,d=2*Math.random()-1,d=c*c+d*d;while(!d||1<d);return a+b*c*Math.sqrt(-2*Math.log(d)/d)}},logNormal:function(){var a=t.random.normal.apply(t,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=t.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++)b+=Math.random();return b}}};
t.scale={};var Vh={floor:ka,ceil:ka};t.scale.linear=function(){return kg([0,1],[0,1],Ha,!1)};var Yh={s:1,g:1,p:1,r:1,e:1};t.scale.log=function(){return lg(t.scale.linear().domain([0,1]),10,!0,[1,10])};var mg=t.format(".0e"),Zh={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};t.scale.pow=function(){return ng(t.scale.linear(),1,[0,1])};t.scale.sqrt=function(){return t.scale.pow().exponent(.5)};t.scale.ordinal=function(){return og([],{t:"range",a:[[]]})};t.scale.category10=
function(){return t.scale.ordinal().range(zi)};t.scale.category20=function(){return t.scale.ordinal().range(Ai)};t.scale.category20b=function(){return t.scale.ordinal().range(Bi)};t.scale.category20c=function(){return t.scale.ordinal().range(Ci)};var zi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(eb),Ai=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,
1556175,10410725].map(eb),Bi=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(eb),Ci=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(eb);t.scale.quantile=function(){return pg([],[])};t.scale.quantize=function(){return qg(0,1,[0,1])};t.scale.threshold=
function(){return rg([.5],[0,1])};t.scale.identity=function(){return sg([0,1])};t.svg={};t.svg.arc=function(){function a(){var f=b.apply(this,arguments),g=c.apply(this,arguments),h=d.apply(this,arguments)+Zb,k=e.apply(this,arguments)+Zb,l=(k<h&&(l=h,h=k,k=l),k-h),m=l<G?"0":"1",p=Math.cos(h),h=Math.sin(h),q=Math.cos(k),k=Math.sin(k);return l>=Di?f?"M0,"+g+"A"+g+","+g+" 0 1,1 0,"+-g+"A"+g+","+g+" 0 1,1 0,"+g+"M0,"+f+"A"+f+","+f+" 0 1,0 0,"+-f+"A"+f+","+f+" 0 1,0 0,"+f+"Z":"M0,"+g+"A"+g+","+g+" 0 1,1 0,"+
-g+"A"+g+","+g+" 0 1,1 0,"+g+"Z":f?"M"+g*p+","+g*h+"A"+g+","+g+" 0 "+m+",1 "+g*q+","+g*k+"L"+f*q+","+f*k+"A"+f+","+f+" 0 "+m+",0 "+f*p+","+f*h+"Z":"M"+g*p+","+g*h+"A"+g+","+g+" 0 "+m+",1 "+g*q+","+g*k+"L0,0Z"}var b=$h,c=ai,d=tg,e=ug;a.innerRadius=function(c){if(!arguments.length)return b;b=X(c);return a};a.outerRadius=function(b){if(!arguments.length)return c;c=X(b);return a};a.startAngle=function(b){if(!arguments.length)return d;d=X(b);return a};a.endAngle=function(b){if(!arguments.length)return e;
e=X(b);return a};a.centroid=function(){var a=(b.apply(this,arguments)+c.apply(this,arguments))/2,f=(d.apply(this,arguments)+e.apply(this,arguments))/2+Zb;return[Math.cos(f)*a,Math.sin(f)*a]};return a};var Zb=-Ca,Di=Ta-D;t.svg.line=function(){return vg(ka)};var Pe=t.map({linear:Ua,"linear-closed":function(a){return Ua(a)+"Z"},step:function(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);1<c&&e.push("H",d[0]);return e.join("")},"step-before":Qe,"step-after":Re,
basis:wg,"basis-open":function(a){if(4>a.length)return Ua(a);for(var b=[],c=-1,d=a.length,e,f=[0],g=[0];3>++c;)e=a[c],f.push(e[0]),g.push(e[1]);b.push(Ya(Gb,f)+","+Ya(Gb,g));for(--c;++c<d;)e=a[c],f.shift(),f.push(e[0]),g.shift(),g.push(e[1]),Te(b,f,g);return b.join("")},"basis-closed":function(a){for(var b,c=-1,d=a.length,e=d+4,f,g=[],h=[];4>++c;)f=a[c%d],g.push(f[0]),h.push(f[1]);b=[Ya(Gb,g),",",Ya(Gb,h)];for(--c;++c<e;)f=a[c%d],g.shift(),g.push(f[0]),h.shift(),h.push(f[1]),Te(b,g,h);return b.join("")},
bundle:function(a,b){var c=a.length-1;if(c)for(var d=a[0][0],e=a[0][1],f=a[c][0]-d,g=a[c][1]-e,h=-1,k,l;++h<=c;)k=a[h],l=h/c,k[0]=b*k[0]+(1-b)*(d+l*f),k[1]=b*k[1]+(1-b)*(e+l*g);return wg(a)},cardinal:function(a,b){return 3>a.length?Ua(a):a[0]+Md(a,Se(a,b))},"cardinal-open":function(a,b){return 4>a.length?Ua(a):a[1]+Md(a.slice(1,a.length-1),Se(a,b))},"cardinal-closed":function(a,b){return 3>a.length?Ua(a):a[0]+Md((a.push(a[0]),a),Se([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(3>a.length)a=
Ua(a);else{var b=a[0],c=[],d,e,f,g;d=0;e=a.length-1;var h=[];f=a[1];for(g=h[0]=Ue(a[0],f);++d<e;)h[d]=(g+(g=Ue(f,f=a[d+1])))/2;h[d]=g;for(var k=-1,l=a.length-1;++k<l;)d=Ue(a[k],a[k+1]),K(d)<D?h[k]=h[k+1]=0:(e=h[k]/d,f=h[k+1]/d,g=e*e+f*f,9<g&&(g=3*d/Math.sqrt(g),h[k]=g*e,h[k+1]=g*f));for(k=-1;++k<=l;)g=(a[Math.min(l,k+1)][0]-a[Math.max(0,k-1)][0])/(6*(1+h[k]*h[k])),c.push([g||0,h[k]*g||0]);a=b+Md(a,c)}return a}});Pe.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});var xg=[0,2/3,1/3,0],yg=
[0,1/3,2/3,0],Gb=[0,1/6,2/3,1/6];t.svg.line.radial=function(){var a=vg(zg);a.radius=a.x;delete a.x;a.angle=a.y;delete a.y;return a};Qe.reverse=Re;Re.reverse=Qe;t.svg.area=function(){return Ag(ka)};t.svg.area.radial=function(){var a=Ag(zg);a.radius=a.x;delete a.x;a.innerRadius=a.x0;delete a.x0;a.outerRadius=a.x1;delete a.x1;a.angle=a.y;delete a.y;a.startAngle=a.y0;delete a.y0;a.endAngle=a.y1;delete a.y1;return a};t.svg.chord=function(){function a(f,g){var h=b(this,d,f,g),k=b(this,e,f,g);return"M"+
h.p0+c(h.r,h.p1,h.a1-h.a0)+(h.a0==k.a0&&h.a1==k.a1?"Q 0,0 "+h.p0:"Q 0,0 "+k.p0+c(k.r,k.p1,k.a1-k.a0)+("Q 0,0 "+h.p0))+"Z"}function b(a,c,d,e){var k=c.call(a,d,e);c=f.call(a,k,e);d=g.call(a,k,e)+Zb;a=h.call(a,k,e)+Zb;return{r:c,a0:d,a1:a,p0:[c*Math.cos(d),c*Math.sin(d)],p1:[c*Math.cos(a),c*Math.sin(a)]}}function c(a,b,d){return"A"+a+","+a+" 0 "+ +(d>G)+",1 "+b}var d=je,e=le,f=bi,g=tg,h=ug;a.radius=function(b){if(!arguments.length)return f;f=X(b);return a};a.source=function(b){if(!arguments.length)return d;
d=X(b);return a};a.target=function(b){if(!arguments.length)return e;e=X(b);return a};a.startAngle=function(b){if(!arguments.length)return g;g=X(b);return a};a.endAngle=function(b){if(!arguments.length)return h;h=X(b);return a};return a};t.svg.diagonal=function(){function a(e,f){var g=b.call(this,e,f),h=c.call(this,e,f),k=(g.y+h.y)/2,g=[g,{x:g.x,y:k},{x:h.x,y:k},h],g=g.map(d);return"M"+g[0]+"C"+g[1]+" "+g[2]+" "+g[3]}var b=je,c=le,d=Bg;a.source=function(c){if(!arguments.length)return b;b=X(c);return a};
a.target=function(b){if(!arguments.length)return c;c=X(b);return a};a.projection=function(b){if(!arguments.length)return d;d=b;return a};return a};t.svg.diagonal.radial=function(){var a=t.svg.diagonal(),b=Bg,c=a.projection;a.projection=function(a){return arguments.length?c(ci(b=a)):b};return a};t.svg.symbol=function(){function a(d,e){return(Ug.get(b.call(this,d,e))||Cg)(c.call(this,d,e))}var b=ei,c=di;a.type=function(c){if(!arguments.length)return b;b=X(c);return a};a.size=function(b){if(!arguments.length)return c;
c=X(b);return a};return a};var Ug=t.map({circle:Cg,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*Vg));var b=a*Vg;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/de);var b=a*de/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){a=
Math.sqrt(a/de);var b=a*de/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});t.svg.symbolTypes=Ug.keys();var de=Math.sqrt(3),Vg=Math.tan(30*I),ta=[],Jg=0,ac,Qd;ta.call=Z.call;ta.empty=Z.empty;ta.node=Z.node;ta.size=Z.size;t.transition=function(a){return arguments.length?ac?a.transition():a:Ig.transition()};t.transition.prototype=ta;ta.select=function(a){var b=this.id,c=[],d,e,f;a=A(a);for(var g=-1,h=this.length;++g<h;){c.push(d=[]);for(var k=this[g],l=-1,m=k.length;++l<m;)(f=k[l])&&(e=a.call(f,f.__data__,
l,g))?("__data__"in f&&(e.__data__=f.__data__),Nd(e,l,b,f.__transition__[b]),d.push(e)):d.push(null)}return ad(c,b)};ta.selectAll=function(a){var b=this.id,c=[],d,e,f,g;a=z(a);for(var h=-1,k=this.length;++h<k;)for(var l=this[h],m=-1,p=l.length;++m<p;)if(d=l[m]){g=d.__transition__[b];e=a.call(d,d.__data__,m,h);c.push(d=[]);for(var q=-1,r=e.length;++q<r;)(f=e[q])&&Nd(f,q,b,g),d.push(f)}return ad(c,b)};ta.filter=function(a){var b=[],c,d,e;"function"!==typeof a&&(a=oa(a));for(var f=0,g=this.length;f<
g;f++){b.push(c=[]);d=this[f];for(var h=0,k=d.length;h<k;h++)(e=d[h])&&a.call(e,e.__data__,h,f)&&c.push(e)}return ad(b,this.id)};ta.tween=function(a,b){var c=this.id;return 2>arguments.length?this.node().__transition__[c].tween.get(a):sa(this,null==b?function(b){b.__transition__[c].tween.remove(a)}:function(d){d.__transition__[c].tween.set(a,b)})};ta.attr=function(a,b){function c(){this.removeAttribute(h)}function d(){this.removeAttributeNS(h.space,h.local)}function e(a){return null==a?c:(a+="",function(){var b=
this.getAttribute(h),c;return b!==a&&(c=g(b,a),function(a){this.setAttribute(h,c(a))})})}function f(a){return null==a?d:(a+="",function(){var b=this.getAttributeNS(h.space,h.local),c;return b!==a&&(c=g(b,a),function(a){this.setAttributeNS(h.space,h.local,c(a))})})}if(2>arguments.length){for(b in a)this.attr(b,a[b]);return this}var g="transform"==a?Cf:Ha,h=t.ns.qualify(a);return Ve(this,"attr."+a,b,h.local?f:e)};ta.attrTween=function(a,b){function c(a,d){var f=b.call(this,a,d,this.getAttribute(e));
return f&&function(a){this.setAttribute(e,f(a))}}function d(a,c){var f=b.call(this,a,c,this.getAttributeNS(e.space,e.local));return f&&function(a){this.setAttributeNS(e.space,e.local,f(a))}}var e=t.ns.qualify(a);return this.tween("attr."+a,e.local?d:c)};ta.style=function(a,b,c){function d(){this.style.removeProperty(a)}var e=arguments.length;if(3>e){if("string"!==typeof a){2>e&&(b="");for(c in a)this.style(c,a[c],b);return this}c=""}return Ve(this,"style."+a,b,function(b){return null==b?d:(b+="",
function(){var d=Ra.getComputedStyle(this,null).getPropertyValue(a),e;return d!==b&&(e=Ha(d,b),function(b){this.style.setProperty(a,e(b),c)})})})};ta.styleTween=function(a,b,c){3>arguments.length&&(c="");return this.tween("style."+a,function(d,e){var f=b.call(this,d,e,Ra.getComputedStyle(this,null).getPropertyValue(a));return f&&function(b){this.style.setProperty(a,f(b),c)}})};ta.text=function(a){return Ve(this,"text",a,fi)};ta.remove=function(){return this.each("end.transition",function(){var a;
2>this.__transition__.count&&(a=this.parentNode)&&a.removeChild(this)})};ta.ease=function(a){var b=this.id;if(1>arguments.length)return this.node().__transition__[b].ease;"function"!==typeof a&&(a=t.ease.apply(t,arguments));return sa(this,function(c){c.__transition__[b].ease=a})};ta.delay=function(a){var b=this.id;return 1>arguments.length?this.node().__transition__[b].delay:sa(this,"function"===typeof a?function(c,d,e){c.__transition__[b].delay=+a.call(c,c.__data__,d,e)}:(a=+a,function(c){c.__transition__[b].delay=
a}))};ta.duration=function(a){var b=this.id;return 1>arguments.length?this.node().__transition__[b].duration:sa(this,"function"===typeof a?function(c,d,e){c.__transition__[b].duration=Math.max(1,a.call(c,c.__data__,d,e))}:(a=Math.max(1,a),function(c){c.__transition__[b].duration=a}))};ta.each=function(a,b){var c=this.id;if(2>arguments.length){var d=Qd,e=ac;ac=c;sa(this,function(b,d,e){Qd=b.__transition__[c];a.call(b,b.__data__,d,e)});Qd=d;ac=e}else sa(this,function(d){d=d.__transition__[c];(d.event||
(d.event=t.dispatch("start","end"))).on(a,b)});return this};ta.transition=function(){for(var a=this.id,b=++Jg,c=[],d,e,f,g,h=0,k=this.length;h<k;h++){c.push(d=[]);e=this[h];for(var l=0,m=e.length;l<m;l++){if(f=e[l])g=Object.create(f.__transition__[a]),g.delay+=g.duration,Nd(f,l,b,g);d.push(f)}}return ad(c,b)};t.svg.axis=function(){function a(l){l.each(function(){var a=t.select(this),l=this.__chart__||b,m=this.__chart__=b.copy(),p=null==h?m.ticks?m.ticks.apply(m,g):m.domain():h,q=null==k?m.tickFormat?
m.tickFormat.apply(m,g):ka:k,r=a.selectAll(".tick").data(p,m),p=r.enter().insert("g",".domain").attr("class","tick").style("opacity",D),s=t.transition(r.exit()).style("opacity",D).remove(),v=t.transition(r.order()).style("opacity",1),u,w=Id(m),a=a.selectAll(".domain").data([0]),a=(a.enter().append("path").attr("class","domain"),t.transition(a));p.append("line");p.append("text");var x=p.select("line"),C=v.select("line"),q=r.select("text").text(q),r=p.select("text"),y=v.select("text");switch(c){case "bottom":u=
Dg;x.attr("y2",d);r.attr("y",Math.max(d,0)+f);C.attr("x2",0).attr("y2",d);y.attr("x",0).attr("y",Math.max(d,0)+f);q.attr("dy",".71em").style("text-anchor","middle");a.attr("d","M"+w[0]+","+e+"V0H"+w[1]+"V"+e);break;case "top":u=Dg;x.attr("y2",-d);r.attr("y",-(Math.max(d,0)+f));C.attr("x2",0).attr("y2",-d);y.attr("x",0).attr("y",-(Math.max(d,0)+f));q.attr("dy","0em").style("text-anchor","middle");a.attr("d","M"+w[0]+","+-e+"V0H"+w[1]+"V"+-e);break;case "left":u=Eg;x.attr("x2",-d);r.attr("x",-(Math.max(d,
0)+f));C.attr("x2",-d).attr("y2",0);y.attr("x",-(Math.max(d,0)+f)).attr("y",0);q.attr("dy",".32em").style("text-anchor","end");a.attr("d","M"+-e+","+w[0]+"H0V"+w[1]+"H"+-e);break;case "right":u=Eg,x.attr("x2",d),r.attr("x",Math.max(d,0)+f),C.attr("x2",d).attr("y2",0),y.attr("x",Math.max(d,0)+f).attr("y",0),q.attr("dy",".32em").style("text-anchor","start"),a.attr("d","M"+e+","+w[0]+"H0V"+w[1]+"H"+e)}if(m.rangeBand)var z=m,A=z.rangeBand()/2,l=m=function(a){return z(a)+A};else l.rangeBand?l=m:s.call(u,
m);p.call(u,l);v.call(u,m)})}var b=t.scale.linear(),c=Wg,d=6,e=6,f=3,g=[10],h=null,k;a.scale=function(c){if(!arguments.length)return b;b=c;return a};a.orient=function(b){if(!arguments.length)return c;c=b in Ei?b+"":Wg;return a};a.ticks=function(){if(!arguments.length)return g;g=arguments;return a};a.tickValues=function(b){if(!arguments.length)return h;h=b;return a};a.tickFormat=function(b){if(!arguments.length)return k;k=b;return a};a.tickSize=function(b){var c=arguments.length;if(!c)return d;d=+b;
e=+arguments[c-1];return a};a.innerTickSize=function(b){if(!arguments.length)return d;d=+b;return a};a.outerTickSize=function(b){if(!arguments.length)return e;e=+b;return a};a.tickPadding=function(b){if(!arguments.length)return f;f=+b;return a};a.tickSubdivide=function(){return arguments.length&&a};return a};var Wg="bottom",Ei={top:1,right:1,bottom:1,left:1};t.svg.brush=function(){function a(f){f.each(function(){var f=t.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color",
"rgba(0,0,0,0)").on("mousedown.brush",e).on("touchstart.brush",e),k=f.selectAll(".background").data([0]);k.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");f.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var l=f.selectAll(".resize").data(s,ka);l.exit().remove();l.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Fi[a]}).append("rect").attr("x",
function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");l.style("display",a.empty()?"none":null);f=t.transition(f);k=t.transition(k);g&&(l=Id(g),k.attr("x",l[0]).attr("width",l[1]-l[0]),c(f));h&&(l=Id(h),k.attr("y",l[0]).attr("height",l[1]-l[0]),d(f));b(f)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+k[+/e$/.test(a)]+","+l[+/^s/.test(a)]+")"})}function c(a){a.select(".extent").attr("x",
k[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",k[1]-k[0])}function d(a){a.select(".extent").attr("y",l[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function e(){function s(){var a=t.mouse(x),e=!1;K&&(a[0]+=K[0],a[1]+=K[1]);F||(t.event.altKey?(I||(I=[(k[0]+k[1])/2,(l[0]+l[1])/2]),G[0]=k[+(a[0]<I[0])],G[1]=l[+(a[1]<I[1])]):I=null);D&&v(a,g,0)&&(c(A),e=!0);E&&v(a,h,1)&&(d(A),e=!0);e&&(b(A),z({type:"brush",mode:F?"move":"resize"}))}function v(a,b,c){var d=Id(b);b=d[0];
var e=d[1],d=G[c],f=c?l:k,g=f[1]-f[0];F&&(b-=d,e-=g+d);a=(c?r:q)?Math.max(b,Math.min(e,a[c])):a[c];F?b=(a+=d)+g:(I&&(d=Math.max(b,Math.min(e,2*I[c]-a))),d<a?(b=a,a=d):b=d);if(f[0]!=a||f[1]!=b)return c?p=null:m=null,f[0]=a,f[1]=b,!0}function u(){s();A.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);t.select("body").style("cursor",null);N.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",
null).on("keyup.brush",null);H();z({type:"brushend"})}var x=this,y=t.select(t.event.target),z=f.of(x,arguments),A=t.select(x),B=y.datum(),D=!/^(n|s)$/.test(B)&&g,E=!/^(e|w)$/.test(B)&&h,F=y.classed("extent"),H=va(),I,G=t.mouse(x),K,N=t.select(Ra).on("keydown.brush",function(){32==t.event.keyCode&&(F||(I=null,G[0]-=k[1],G[1]-=l[1],F=2),w())}).on("keyup.brush",function(){32==t.event.keyCode&&2==F&&(G[0]+=k[1],G[1]+=l[1],F=0,w())});if(t.event.changedTouches)N.on("touchmove.brush",s).on("touchend.brush",
u);else N.on("mousemove.brush",s).on("mouseup.brush",u);A.interrupt().selectAll("*").interrupt();if(F)G[0]=k[0]-G[0],G[1]=l[0]-G[1];else if(B){var M=+/w$/.test(B),B=+/^n/.test(B);K=[k[1-M]-G[0],l[1-B]-G[1]];G[0]=k[M];G[1]=l[B]}else t.event.altKey&&(I=G.slice());A.style("pointer-events","none").selectAll(".resize").style("display",null);t.select("body").style("cursor",y.style("cursor"));z({type:"brushstart"});s()}var f=y(a,"brushstart","brush","brushend"),g=null,h=null,k=[0,0],l=[0,0],m,p,q=!0,r=!0,
s=bf[0];a.event=function(a){a.each(function(){var a=f.of(this,arguments),b={x:k,y:l,i:m,j:p},c=this.__chart__||b;this.__chart__=b;ac?t.select(this).transition().each("start.brush",function(){m=c.i;p=c.j;k=c.x;l=c.y;a({type:"brushstart"})}).tween("brush:brush",function(){var c=jd(k,b.x),d=jd(l,b.y);m=p=null;return function(e){k=b.x=c(e);l=b.y=d(e);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){m=b.i;p=b.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),
a({type:"brush",mode:"resize"}),a({type:"brushend"}))})};a.x=function(b){if(!arguments.length)return g;g=b;s=bf[!g<<1|!h];return a};a.y=function(b){if(!arguments.length)return h;h=b;s=bf[!g<<1|!h];return a};a.clamp=function(b){if(!arguments.length)return g&&h?[q,r]:g?q:h?r:null;g&&h?(q=!!b[0],r=!!b[1]):g?q=!!b:h&&(r=!!b);return a};a.extent=function(b){var c,d,e,f,q;if(!arguments.length)return g&&(m?(c=m[0],d=m[1]):(c=k[0],d=k[1],g.invert&&(c=g.invert(c),d=g.invert(d)),d<c&&(q=c,c=d,d=q))),h&&(p?(e=
p[0],f=p[1]):(e=l[0],f=l[1],h.invert&&(e=h.invert(e),f=h.invert(f)),f<e&&(q=e,e=f,f=q))),g&&h?[[c,e],[d,f]]:g?[c,d]:h&&[e,f];g&&(c=b[0],d=b[1],h&&(c=c[0],d=d[0]),m=[c,d],g.invert&&(c=g(c),d=g(d)),d<c&&(q=c,c=d,d=q),c!=k[0]||d!=k[1])&&(k=[c,d]);h&&(e=b[0],f=b[1],g&&(e=e[1],f=f[1]),p=[e,f],h.invert&&(e=h(e),f=h(f)),f<e&&(q=e,e=f,f=q),e!=l[0]||f!=l[1])&&(l=[e,f]);return a};a.clear=function(){a.empty()||(k=[0,0],l=[0,0],m=p=null);return a};a.empty=function(){return!!g&&k[0]==k[1]||!!h&&l[0]==l[1]};return t.rebind(a,
f,"on")};var Fi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},bf=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],cf=E.format=Lg.timeFormat,Xg=cf.utc,Yg=Xg("%Y-%m-%dT%H:%M:%S.%LZ");cf.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?We:Yg;We.parse=function(a){a=new Date(a);return isNaN(a)?null:a};We.toString=Yg.toString;E.second=Oa(function(a){return new Ea(1E3*Math.floor(a/1E3))},function(a,
b){a.setTime(a.getTime()+1E3*Math.floor(b))},function(a){return a.getSeconds()});E.seconds=E.second.range;E.seconds.utc=E.second.utc.range;E.minute=Oa(function(a){return new Ea(6E4*Math.floor(a/6E4))},function(a,b){a.setTime(a.getTime()+6E4*Math.floor(b))},function(a){return a.getMinutes()});E.minutes=E.minute.range;E.minutes.utc=E.minute.utc.range;E.hour=Oa(function(a){var b=a.getTimezoneOffset()/60;return new Ea(36E5*(Math.floor(a/36E5-b)+b))},function(a,b){a.setTime(a.getTime()+36E5*Math.floor(b))},
function(a){return a.getHours()});E.hours=E.hour.range;E.hours.utc=E.hour.utc.range;E.month=Oa(function(a){a=E.day(a);a.setDate(1);return a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});E.months=E.month.range;E.months.utc=E.month.utc.range;var Od=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],df=[[E.second,1],[E.second,5],[E.second,15],[E.second,30],[E.minute,1],[E.minute,5],[E.minute,15],[E.minute,30],[E.hour,1],
[E.hour,3],[E.hour,6],[E.hour,12],[E.day,1],[E.day,2],[E.week,1],[E.month,1],[E.month,3],[E.year,1]],Gi=cf.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",hb]]),gi={range:function(a,b,c){return t.range(Math.ceil(a/c)*
c,+b,c).map($b)},floor:ka,ceil:ka};df.year=E.year;E.scale=function(){return Xe(t.scale.linear(),df,Gi)};var Zg=df.map(function(a){return[a[0].utc,a[1]]}),Hi=Xg.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],
["%Y",hb]]);Zg.year=E.year.utc;E.scale.utc=function(){return Xe(t.scale.linear(),Zg,Hi)};t.text=Kc(function(a){return a.responseText});t.json=function(a,b){return Ob(a,"application/json",hi,b)};t.html=function(a,b){return Ob(a,"text/html",ii,b)};t.xml=Kc(function(a){return a.responseXML});"function"===typeof define&&define.amd?define(t):"object"===typeof module&&module.exports?module.exports=t:this.d3=t}();
(function(a){a.fn.farbtastic=function(k){a.farbtastic(this,k);return this};a.farbtastic=function(k,c){k=a(k).get(0);return k.farbtastic||(k.farbtastic=new a._farbtastic(k,c))};a._farbtastic=function(k,c){var f=this;a(k).html('<div class="farbtastic"><div class="color"></div><div class="wheel"></div><div class="overlay"></div><div class="h-marker marker"></div><div class="sl-marker marker"></div></div>');var e=a(".farbtastic",k);f.wheel=a(".wheel",k).get(0);f.radius=84;f.square=100;f.width=194;navigator.appVersion.match(/MSIE [0-6]\./)&&
a("*",e).each(function(){if("none"!=this.currentStyle.backgroundImage){var c=this.currentStyle.backgroundImage,c=this.currentStyle.backgroundImage.substring(5,c.length-2);a(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+c+"')"})}});f.linkTo=function(c){"object"==typeof f.callback&&a(f.callback).unbind("keyup",f.updateValue);f.color=null;if("function"==typeof c)f.callback=c;else if("object"==typeof c||"string"==typeof c)f.callback=
a(c),f.callback.bind("keyup",f.updateValue),f.callback.get(0).value&&f.setColor(f.callback.get(0).value);return this};f.updateValue=function(a){this.value&&this.value!=f.color&&f.setColor(this.value)};f.setColor=function(a){var b=f.unpack(a);f.color!=a&&b&&(f.color=a,f.rgb=b,f.hsl=f.RGBToHSL(f.rgb),f.updateDisplay());return this};f.setHSL=function(a){f.hsl=a;f.rgb=f.HSLToRGB(a);f.color=f.pack(f.rgb);f.updateDisplay();return this};f.widgetCoords=function(c){var b,d,e=c.target||c.srcElement,k=f.wheel;
if("undefined"!=typeof c.offsetX){var m={x:c.offsetX,y:c.offsetY};for(c=e;c;)c.mouseX=m.x,c.mouseY=m.y,m.x+=c.offsetLeft,m.y+=c.offsetTop,c=c.offsetParent;c=k;for(m=k=0;c;){if("undefined"!=typeof c.mouseX){b=c.mouseX-k;d=c.mouseY-m;break}k+=c.offsetLeft;m+=c.offsetTop;c=c.offsetParent}for(c=e;c;)c.mouseX=void 0,c.mouseY=void 0,c=c.offsetParent}else m=f.absolutePosition(k),b=(c.pageX||0*(c.clientX+a("html").get(0).scrollLeft))-m.x,d=(c.pageY||0*(c.clientY+a("html").get(0).scrollTop))-m.y;return{x:b-
f.width/2,y:d-f.width/2}};f.mousedown=function(c){document.dragging||(a(document).bind("mousemove",f.mousemove).bind("mouseup",f.mouseup),document.dragging=!0);var b=f.widgetCoords(c);f.circleDrag=2*Math.max(Math.abs(b.x),Math.abs(b.y))>f.square;f.mousemove(c);return!1};f.mousemove=function(a){var b=f.widgetCoords(a);f.circleDrag?(a=Math.atan2(b.x,-b.y)/6.28,0>a&&(a+=1),f.setHSL([a,f.hsl[1],f.hsl[2]])):(a=Math.max(0,Math.min(1,-(b.x/f.square)+.5)),b=Math.max(0,Math.min(1,-(b.y/f.square)+.5)),f.setHSL([f.hsl[0],
a,b]));return!1};f.mouseup=function(){a(document).unbind("mousemove",f.mousemove);a(document).unbind("mouseup",f.mouseup);document.dragging=!1};f.updateDisplay=function(){var c=6.28*f.hsl[0];a(".h-marker",e).css({left:Math.round(Math.sin(c)*f.radius+f.width/2)+"px",top:Math.round(-Math.cos(c)*f.radius+f.width/2)+"px"});a(".sl-marker",e).css({left:Math.round(f.square*(.5-f.hsl[1])+f.width/2)+"px",top:Math.round(f.square*(.5-f.hsl[2])+f.width/2)+"px"});a(".color",e).css("backgroundColor",f.pack(f.HSLToRGB([f.hsl[0],
1,.5])));"object"==typeof f.callback?(a(f.callback).css({backgroundColor:f.color,color:.5<f.hsl[2]?"#000":"#fff"}),a(f.callback).each(function(){if(this.value&&this.value!=f.color){var a;a=f.color;var c={"#000000":"Black","#000080":"Navy Blue","#00008b":"Web Dark Blue","#0000c8":"Dark Blue","#0000cd":"Medium Blue","#0000ff":"Blue","#000741":"Stratos","#001b1c":"Swamp","#002387":"Resolution Blue","#002900":"Deep Fir","#002e20":"Burnham","#002fa7":"International Klein Blue","#003153":"Prussian Blue",
"#003366":"Midnight Blue","#003399":"Smalt","#003532":"Deep Teal","#003e40":"Cyprus","#004620":"Kaitoke Green","#0047ab":"Cobalt","#004816":"Crusoe","#004950":"Sherpa Blue","#0056a7":"Endeavour","#00581a":"Camarone","#006400":"Dark Green","#0066cc":"Science Blue","#0066ff":"Blue Ribbon","#00755e":"Tropical Rain Forest","#0076a3":"Allports","#007ba7":"Deep Cerulean","#007ec7":"Lochmara","#007fff":"Azure Radiance","#008000":"Web Green","#008080":"Teal","#008b8b":"Dark Cyan","#0095b6":"Bondi Blue","#009dc4":"Pacific Blue",
"#00a693":"Persian Green","#00a86b":"Jade","#00bfbf":"PyMOL teal","#00bfff":"Deep Sky Blue","#00cc99":"Caribbean Green","#00cccc":"Robin's Egg Blue","#00ced1":"Dark Turquoise","#00fa9a":"Medium Spring Green","#00ff00":"Green","#00ff7f":"Spring Green","#00ffff":"Cyan/Aqua","#010d1a":"Blue Charcoal","#011635":"Midnight","#011d13":"Holly","#012731":"Daintree","#01361c":"Cardin Green","#01371a":"County Green","#013e62":"Astronaut Blue","#013f6a":"Regal Blue","#014b43":"Aqua Deep","#015e85":"Orient","#016162":"Blue Stone",
"#016d39":"Fun Green","#01796f":"Pine Green","#017987":"Blue Lagoon","#01826b":"Deep Sea","#01a368":"Green Haze","#022d15":"English Holly","#02402c":"Sherwood Green","#02478e":"Congress Blue","#024e46":"Evening Sea","#026395":"Bahama Blue","#02866f":"Observatory","#02a4d3":"Cerulean","#03163c":"Tangaroa","#032b52":"Green Vogue","#036a6e":"Mosque","#041004":"Midnight Moss","#041322":"Black Pearl","#042e4c":"Blue Whale","#044022":"Zuccini","#044259":"Teal Blue","#051040":"Deep Cove","#051657":"Gulf Blue",
"#055989":"Venice Blue","#056f57":"Watercourse","#062a78":"Catalina Blue","#063537":"Tiber","#069b81":"Gossamer","#06a189":"Niagara","#073a50":"Tarawera","#080110":"Jaguar","#081910":"Black Bean","#082567":"Deep Sapphire","#088370":"Elf Green","#08e8de":"Bright Turquoise","#092256":"Downriver","#09230f":"Palm Green","#09255d":"Madison","#093624":"Bottle Green","#095859":"Deep Sea Green","#097f4b":"Salem","#0a001c":"Black Russian","#0a480d":"Dark Fern","#0a6906":"Japanese Laurel","#0a6f75":"Atoll",
"#0b0b0b":"Cod Gray","#0b0f08":"Marshland","#0b1107":"Gordons Green","#0b1304":"Black Forest","#0b6207":"San Felix","#0bda51":"Malachite","#0c0b1d":"Ebony","#0c0d0f":"Woodsmoke","#0c1911":"Racing Green","#0c7a79":"Surfie Green","#0c8990":"Blue Chill","#0d0332":"Black Rock","#0d1117":"Bunker","#0d1c19":"Aztec","#0d2e1c":"Bush","#0e0e18":"Cinder","#0e2a30":"Firefly","#0f2d9e":"Torea Bay","#10121d":"Vulcan","#101405":"Green Waterloo","#105852":"Eden","#110c6c":"Arapawa","#120a8f":"Ultramarine","#123447":"Elephant",
"#126b40":"Jewel","#130000":"Diesel","#130a06":"Asphalt","#13264d":"Blue Zodiac","#134f19":"Parsley","#140600":"Nero","#1450aa":"Tory Blue","#151f4c":"Bunting","#1560bd":"Denim","#15736b":"Genoa","#161928":"Mirage","#161d10":"Hunter Green","#162a40":"Big Stone","#163222":"Celtic","#16322c":"Timber Green","#163531":"Gable Green","#171f04":"Pine Tree","#175579":"Chathams Blue","#182d09":"Deep Forest Green","#18587a":"Blumine","#191919":"Gray10","#191970":"Web Midnight Blue","#191999":"Density","#19330e":"Palm Leaf",
"#193751":"Nile Blue","#1959a8":"Fun Blue","#199999":"Deep Teal","#1a1a68":"Lucky Point","#1ab385":"Mountain Meadow","#1b0245":"Tolopea","#1b1035":"Haiti","#1b127b":"Deep Koamaru","#1b1404":"Acadia","#1b2f11":"Seaweed","#1b3162":"Biscay","#1b659d":"Matisse","#1c1208":"Crowshead","#1c1e13":"Rangoon Green","#1c39bb":"Persian Blue","#1c402e":"Everglade","#1c7c7d":"Elm","#1d6142":"Green Pea","#1e0f04":"Creole","#1e1609":"Karaka","#1e1708":"El Paso","#1e385b":"Cello","#1e433c":"Te Papa Green","#1e90ff":"Dodger Blue",
"#1e9ab0":"Eastern Blue","#1f120f":"Night Rider","#1fc2c2":"Java","#20208d":"Jacksons Purple","#202e54":"Cloud Burst","#204852":"Blue Dianne","#20b2aa":"Light Sea Green","#211a0e":"Eternity","#220878":"Deep Blue","#228b22":"Forest Green","#233418":"Mallard","#240a40":"Violet","#240c02":"Kilamanjaro","#242a1d":"Log Cabin","#242e16":"Black Olive","#24500f":"Green House","#251607":"Graphite","#251706":"Cannon Black","#251f4f":"Port Gore","#25272c":"Shark","#25311c":"Green Kelp","#2596d1":"Curious Blue",
"#260368":"Paua","#26056a":"ParisM","#261105":"Wood Bark","#261414":"Gondola","#262335":"Steel Gray","#26283b":"Ebony Clay","#273a81":"Bay of Many","#27504b":"Plantation","#278a5b":"Eucalyptus","#281e15":"Oil","#283a77":"Astronaut","#286acd":"Mariner","#290c5e":"Violent Violet","#292130":"Bastille","#292319":"Zeus","#292937":"Charade","#297b9a":"Jelly Bean","#29ab87":"Jungle Green","#2a0359":"Cherry Pie","#2a140e":"Coffee Bean","#2a2630":"Baltic Sea","#2a380b":"Turtle Green","#2a52be":"Cerulean Blue",
"#2b0202":"Sepia Black","#2b194f":"Valhalla","#2b3228":"Heavy Metal","#2c0e8c":"Blue Gem","#2c1632":"Revolver","#2c2133":"Bleached Cedar","#2c8c84":"Lochinvar","#2d2510":"Mikado","#2d383a":"Outer Space","#2d569b":"St Tropaz","#2e0329":"Jacaranda","#2e1905":"Jacko Bean","#2e3222":"Rangitoto","#2e3f62":"Rhino","#2e8b57":"Sea Green","#2ebfd4":"Scooter","#2f270e":"Onion","#2f3cb3":"Governor Bay","#2f4f4f":"Dark Slate Gray","#2f519e":"Sapphire","#2f5a57":"Spectra","#2f6168":"Casal","#300529":"Melanzane",
"#301f1e":"Cocoa Brown","#302a0f":"Woodrush","#304b6a":"San Juan","#30d5c8":"Turquoise","#311c17":"Eclipse","#314459":"Pickled Bluewood","#315ba1":"Azure","#31728d":"Calypso","#317d82":"Paradiso","#32127a":"Persian Indigo","#32293a":"Blackcurrant","#323232":"Mine Shaft","#325d52":"Stromboli","#327c14":"Bilbao","#327da0":"Astral","#32cd32":"Lime Green","#33036b":"Christalle","#33292f":"Thunder","#333333":"Gray20","#337fcc":"PyMOL skyblue","#339933":"Forest","#33cc99":"Shamrock","#33ff33":"tv_green",
"#341515":"Tamarind","#350036":"Mardi Gras","#350e42":"Valentino","#350e57":"Jagger","#353542":"Tuna","#354e8c":"Chambray","#363050":"Martinique","#363534":"Tuatara","#363c0d":"Waiouru","#36747d":"Ming","#368716":"La Palma","#370202":"Chocolate","#371d09":"Clinker","#37290e":"Brown Tumbleweed","#373021":"Birch","#377475":"Oracle","#380474":"Blue Diamond","#381a51":"Grape","#383533":"Dune","#384555":"Oxford Blue","#384910":"Clover","#394851":"Limed Spruce","#396413":"Dell","#3a0020":"Toledo","#3a2010":"Sambuca",
"#3a2a6a":"Jacarta","#3a686c":"William","#3a6a47":"Killarney","#3ab09e":"Keppel","#3b000b":"Temptress","#3b0910":"Aubergine","#3b1f1f":"Jon","#3b2820":"Treehouse","#3b7a57":"Amazon","#3b91b4":"Boston Blue","#3c0878":"Windsor","#3c1206":"Rebel","#3c1f76":"Meteorite","#3c2005":"Dark Ebony","#3c3910":"Camouflage","#3c4151":"Bright Gray","#3c4443":"Cape Cod","#3c493a":"Lunar Green","#3cb371":"Medium Sea Green","#3d0c02":"Bean","#3d2b1f":"Bistre","#3d7d52":"Goblin","#3e0480":"Kingfisher Daisy","#3e1c14":"Cedar",
"#3e2b23":"English Walnut","#3e2c1c":"Black Marlin","#3e3a44":"Ship Gray","#3eabbf":"Pelorous","#3f2109":"Bronze","#3f2500":"Cola","#3f3002":"Madras","#3f307f":"Minsk","#3f3fa5":"PyMOL Deep Blue","#3f4c3a":"Cabbage Pont","#3f583b":"Tom Thumb","#3f5d53":"Mineral Green","#3fc1aa":"Puerto Rico","#3fff00":"Harlequin","#3fffbf":"Green Cyan","#401801":"Brown Pod","#40291d":"Cork","#403b38":"Masala","#403d19":"Thatch Green","#405169":"Fiord","#40826d":"Viridian","#40a860":"Chateau Green","#40e0d0":"Web Turquoise",
"#410056":"Ripe Plum","#411f10":"Paco","#412010":"Deep Oak","#413c37":"Merlin","#414257":"Gun Powder","#414c7d":"East Bay","#4169e1":"Royal Blue","#41aa78":"Ocean Green","#420303":"Burnt Maroon","#423921":"Lisbon Brown","#427977":"Faded Jade","#431560":"Scarlet Gum","#433120":"Iroko","#433e37":"Armadillo","#434c59":"River Bed","#436a0d":"Green Leaf","#44012d":"Barossa","#441d00":"Morocco Brown","#444954":"Mako","#454936":"Kelp","#456cac":"San Marino","#45b1e8":"Picton Blue","#460b41":"Loulou","#462425":"Crater Brown",
"#465945":"Gray Asparagus","#4682b4":"Steel Blue","#480404":"Rustic Red","#480607":"Bulgarian Rose","#480656":"Clairvoyant","#481c1c":"Cocoa Bean","#483131":"Woody Brown","#483c32":"Taupe","#483d8b":"Dark Slate Blue","#48d1cc":"Medium Turquoise","#49170c":"Van Cleef","#492615":"Brown Derby","#49371b":"Metallic Bronze","#495400":"Verdun Green","#496679":"Blue Bayoux","#497183":"Bismark","#4a2a04":"Bracken","#4a3004":"Deep Bronze","#4a3c30":"Mondo","#4a4244":"Tundora","#4a444b":"Gravel","#4a4e5a":"Trout",
"#4b0082":"Pigment Indigo","#4b5d52":"Nandor","#4c3024":"Saddle","#4c4c4c":"Gray30","#4c4cff":"tv_blue","#4c4f56":"Abbey","#4d0135":"Blackberry","#4d0a18":"Cab Sav","#4d1e01":"Indian Tan","#4d282d":"Cowboy","#4d282e":"Livid Brown","#4d3833":"Rock","#4d3d14":"Punga","#4d400f":"Bronzetone","#4d5328":"Woodland","#4e0606":"Mahogany","#4e2a5a":"Bossanova","#4e3b41":"Matterhorn","#4e420c":"Bronze Olive","#4e4562":"Mulled Wine","#4e6649":"Axolotl","#4e7f9e":"Wedgewood","#4eabd1":"Shakespeare","#4f1c70":"Honey Flower",
"#4f2398":"Daisy Bush","#4f69c6":"Indigo","#4f7942":"Fern Green","#4f9d5d":"Fruit Salad","#4fa83d":"Apple","#504351":"Mortar","#507096":"Kashmir Blue","#507672":"Cutty Sark","#50c878":"Emerald","#514649":"Emperor","#516e3d":"Chalet Green","#517c66":"Como","#51808f":"Smalt Blue","#52001f":"Castro","#520c17":"Maroon Oak","#523c94":"Gigas","#533455":"Voodoo","#534491":"Victoria","#53824b":"Hippie Green","#541012":"Heath","#544333":"Judge Gray","#54534d":"Fuscous Gray","#549019":"Vida Loca","#55280c":"Cioccolato",
"#555b10":"Saratoga","#556b2f":"Dark Olive Green","#556d56":"Finlandia","#5590d9":"Havelock Blue","#56b4be":"Fountain Blue","#578363":"Spring Leaves","#583401":"Saddle Brown","#585562":"Scarpa Flow","#587156":"Cactus","#589aaf":"Hippie Blue","#591d35":"Wine Berry","#592804":"Brown Bramble","#593737":"Congo Brown","#594433":"Millbrook","#5a6e9c":"Waikawa Gray","#5a87a0":"Horizon","#5b3013":"Jambalaya","#5c0120":"Bordeaux","#5c0536":"Mulberry Wood","#5c2e01":"Carnaby Tan","#5c5d75":"Comet","#5d1e0f":"Redwood",
"#5d4c51":"Don Juan","#5d5c58":"Chicago","#5d5e37":"Verdigris","#5d7747":"Dingley","#5da19f":"Breaker Bay","#5e483e":"Kabul","#5e5d3b":"Hemlock","#5f3d26":"Irish Coffee","#5f5f6e":"Mid Gray","#5f6672":"Shuttle Gray","#5f9ea0":"Web Cadet Blue","#5fa777":"Aqua Forest","#5fb3ac":"Tradewind","#604913":"Horses Neck","#605b73":"Smoky","#606e68":"Corduroy","#6093d1":"Danube","#612718":"Espresso","#614051":"Eggplant","#615d30":"Costa Del Sol","#61845f":"Glade Green","#622f30":"Buccaneer","#623f2d":"Quincy",
"#624e9a":"Butterfly Bush","#625119":"West Coast","#626649":"Finch","#639a8f":"Patina","#63b76c":"Fern","#6456b7":"Blue Violet","#646077":"Dolphin","#646463":"Storm Dust","#646a54":"Siam","#646e75":"Nevada","#6495ed":"Cornflower Blue","#64ccdb":"Viking","#65000b":"Rosewood","#651a14":"Cherrywood","#652dc1":"Purple Heart","#657220":"Fern Frond","#65745d":"Willow Grove","#65869f":"Hoki","#660045":"Pompadour","#660099":"Purple","#66023c":"Tyrian Purple","#661010":"Dark Tan","#666666":"Gray40","#66b2b2":"Light Teal",
"#66b58f":"Silver Tree","#66cdaa":"Medium Aquamarine","#66ff00":"Bright Green","#66ff66":"Screamin'Green","#67032d":"Black Rose","#675fa6":"Scampi","#676662":"Ironside Gray","#678975":"Viridian Green","#67a712":"Christi","#683600":"Nutmeg Wood Finish","#685558":"Zambezi","#685e6e":"Salt Box","#692545":"Tawny Port","#692d54":"Finn","#695f62":"Scorpion","#696969":"Dim Gray","#697e9a":"Lynch","#6a442e":"Spice","#6a5acd":"Slate Blue","#6a5d1b":"Himalaya","#6a6051":"Soya Bean","#6b2a14":"Hairy Heath",
"#6b3fa0":"Royal Purple","#6b4e31":"Shingle Fawn","#6b5755":"Dorado","#6b8ba2":"Bermuda Gray","#6b8e23":"Olive Drab","#6c3082":"Eminence","#6cdae7":"Turquoise Blue","#6d0101":"Lonestar","#6d5e54":"Pine Cone","#6d6c6c":"Dove Gray","#6d9292":"Juniper","#6d92a1":"Gothic","#6e0902":"Red Oxide","#6e1d14":"Moccaccino","#6e4826":"Pickled Bean","#6e4b26":"Dallas","#6e6d57":"Kokoda","#6e7783":"Pale Sky","#6f440c":"Cafe Royale","#6f6a61":"Flint","#6f8e63":"Highland","#6f9d02":"Limeade","#6fd0c5":"Downy","#701c1c":"Persian Plum",
"#704214":"Sepia","#704a07":"Antique Bronze","#704f50":"Ferra","#706555":"Coffee","#708090":"Slate Gray","#711a00":"Cedar Wood Finish","#71291d":"Metallic Copper","#714693":"Affair","#714ab2":"Studio","#715d47":"Tobacco Brown","#716338":"Yellow Metal","#716b56":"Peat","#716e10":"Olivetone","#717486":"Storm Gray","#718080":"Sirocco","#71d9e2":"Aquamarine Blue","#72010f":"Venetian Red","#724a2f":"Old Copper","#726d4e":"Go Ben","#727b89":"Raven","#731e8f":"Seance","#734a12":"Raw Umber","#736c9f":"Kimberly",
"#736d58":"Crocodile","#737829":"Crete","#738678":"Xanadu","#74640d":"Spicy Mustard","#747d63":"Limed Ash","#747d83":"Rolling Stone","#748881":"Blue Smoke","#749378":"Laurel","#74c365":"Mantis","#755a57":"Russett","#7563a8":"Deluge","#76395d":"Cosmic","#7666c6":"Blue Marguerite","#76bd17":"Lima","#76d7ea":"Sky Blue","#770f05":"Dark Burgundy","#771f1f":"Crown of Thorns","#773f1a":"Walnut","#776f61":"Pablo","#778120":"Pacifika","#778899":"Light Slate Gray","#779e86":"Oxley","#77dd77":"Pastel Green",
"#780109":"Japanese Maple","#782d19":"Mocha","#782f16":"Peanut","#78866b":"Camouflage Green","#788a25":"Wasabi","#788bba":"Ship Cove","#78a39c":"Sea Nymph","#795d4c":"Roman Coffee","#796878":"Old Lavender","#796989":"Rum","#796a78":"Fedora","#796d62":"Sandstone","#79deec":"Spray","#7a013a":"Siren","#7a58c1":"Fuchsia Blue","#7a7a7a":"Boulder","#7a89b8":"Wild Blue Yonder","#7ac488":"De York","#7b3801":"Red Beech","#7b3f00":"Cinnamon","#7b6608":"Yukon Gold","#7b68ee":"Medium Slate Blue","#7b7874":"Tapa",
"#7b7c94":"Waterloo","#7b8265":"Flax Smoke","#7b9f80":"Amulet","#7ba05b":"Asparagus","#7c1c05":"Kenyan Copper","#7c7631":"Pesto","#7c778a":"Topaz","#7c7b7a":"Concord","#7c7b82":"Jumbo","#7c881a":"Trendy Green","#7ca1a6":"Gumbo","#7cb0a1":"Acapulco","#7cb7bb":"Neptune","#7cfc00":"Lawn Green","#7d2c14":"Pueblo","#7da98d":"Bay Leaf","#7dc8f7":"Malibu","#7dd8c6":"Bermuda","#7e3a15":"Copper Canyon","#7f00ff":"Purple Blue","#7f1734":"Claret","#7f3a02":"Peru Tan","#7f626d":"Falcon","#7f7589":"Mobster","#7f76d3":"Moody Blue",
"#7f7f7f":"Gray50","#7f7fff":"Slate","#7fff00":"Chartreuse","#7fff7f":"PyMOL lime","#7fffd4":"Aquamarine","#7fffff":"PyMOL aquamarine","#800000":"Maroon","#800080":"Web Purple","#800b47":"Rose Bud Cherry","#801818":"Falu Red","#80341f":"Red Robin","#803790":"Vivid Violet","#80461b":"Russet","#807e79":"Friar Gray","#808000":"Olive","#808080":"Gray","#80b3ae":"Gulf Stream","#80b3c4":"Glacier","#80ccea":"Seagull","#81422c":"Nutmeg","#816e71":"Spicy Pink","#817377":"Empress","#819885":"Spanish Green",
"#826f65":"Sand Dune","#828685":"Gunsmoke","#828f72":"Battleship Gray","#831923":"Merlot","#837050":"Shadow","#83aa5d":"Chelsea Cucumber","#83d0c6":"Monte Carlo","#843179":"Plum","#84a0a0":"Granny Smith","#84bf00":"Split Pea","#8581d9":"Chetwode Blue","#858470":"Bandicoot","#859faf":"Bali Hai","#85c4cc":"Half Baked","#860111":"Red Devil","#863c3c":"Lotus","#86483c":"Ironstone","#864d1e":"Bull Shot","#86560a":"Rusty Nail","#868974":"Bitter","#86949f":"Regent Gray","#871550":"Disco","#87756e":"Americano",
"#877c7b":"Hurricane","#878d91":"Oslo Gray","#87ab39":"Sushi","#87ceeb":"Web Sky Blue","#87cefa":"Light Sky Blue","#885342":"Spicy Mix","#886221":"Kumera","#888387":"Suva Gray","#888d65":"Avocado","#893456":"Camelot","#893843":"Solid Pink","#894367":"Cannon Pink","#897d6d":"Makara","#8a2be2":"Web Blue Violet","#8a3324":"Burnt Umber","#8a73d6":"TrueV","#8a8360":"Clay Creek","#8a8389":"Monsoon","#8a8f8a":"Stack","#8ab9f1":"Jordy Blue","#8b0000":"Dark Red","#8b008b":"Dark Magenta","#8b00ff":"Electric Violet",
"#8b0723":"Monarch","#8b4513":"Web Saddle Brown","#8b6b0b":"Corn Harvest","#8b8470":"Olive Haze","#8b847e":"Schooner","#8b8680":"Natural Gray","#8b9c90":"Mantle","#8b9fee":"Portage","#8ba690":"Envy","#8ba9a5":"Cascade","#8be6d8":"Riptide","#8c055e":"Cardinal Pink","#8c3f99":"Violet Purple","#8c472f":"Mule Fawn","#8c5738":"Potters Clay","#8c6495":"Trendy Pink","#8cb266":"Smudge","#8d0226":"Paprika","#8d381c":"PyMOL chocolate","#8d3d38":"Sanguine Brown","#8d3f3f":"Tosca","#8d7662":"Cement","#8d8974":"Granite Green",
"#8d90a1":"Manatee","#8da8cc":"Polo Blue","#8e0000":"Red Berry","#8e4d1e":"Rope","#8e6f70":"Opium","#8e775e":"Domino","#8e8190":"Mamba","#8eabc1":"Nepal","#8f021c":"Pohutukawa","#8f3e33":"El Salva","#8f4b0e":"Korma","#8f8176":"Squirrel","#8fbc8f":"Dark Sea Green","#8fd6b4":"Vista Blue","#900020":"Burgundy","#901e1e":"Old Brick","#907874":"Hemp","#907b71":"Almond Frost","#908d39":"Sycamore","#90ee90":"Light Green","#92000a":"Sangria","#924321":"Cumin","#926f5b":"Beaver","#928573":"Stonewall","#928590":"Venus",
"#9370d8":"Medium Purple","#9370db":"Medium Purple","#93ccea":"Cornflower","#93dfb8":"Algae Green","#9400d3":"Dark Violet","#944747":"Copper Rust","#948771":"Arrowtown","#950015":"Scarlett","#956387":"Strikemaster","#959396":"Mountain Mist","#960018":"Carmine","#964b00":"Brown","#967059":"Leather","#9678b6":"Purple Mountain's Majesty","#967bb6":"Lavender Purple","#96a8a1":"Pewter","#96bbab":"Summer Green","#97605d":"Au Chico","#9771b5":"Wisteria","#97cd2d":"Atlantis","#983d61":"Vin Rouge","#9874d3":"Lilac Bush",
"#98777b":"Bazaar","#98811b":"Hacienda","#988d77":"Pale Oyster","#98fb98":"Pale Green","#98ff98":"Mint Green","#990066":"Fresh Eggplant","#991199":"Violet Eggplant","#991613":"Tamarillo","#991999":"Deep Purple","#991b07":"Totem Pole","#9932cc":"Dark Orchid","#993333":"Ruby","#996666":"Copper Rose","#9966cc":"Amethyst","#997a8d":"Mountbatten Pink","#999919":"Deep Olive","#999999":"Gray60","#9999cc":"Blue Bell","#9a3820":"Prairie Sand","#9a6e61":"Toast","#9a9577":"Gurkha","#9ab973":"Olivine","#9ac2b8":"Shadow Green",
"#9acd32":"Web Yellow Green","#9b4703":"Oregon","#9b9e8f":"Lemon Grass","#9c3336":"Stiletto","#9d5616":"Hawaiian Tan","#9dacb7":"Gull Gray","#9dc209":"Pistachio","#9de093":"Granny Smith Apple","#9de5ff":"Anakiwa","#9e5302":"Chelsea Gem","#9e5b40":"Sepia Skin","#9ea587":"Sage","#9ea91f":"Citron","#9eb1cd":"Rock Blue","#9edee0":"Morning Glory","#9f381d":"Cognac","#9f821c":"Reef Gold","#9f9f9c":"Star Dust","#9fa0b1":"Santas Gray","#9fd7d3":"Sinbad","#9fdd8c":"Feijoa","#a02712":"Tabasco","#a0522d":"Sienna",
"#a1750d":"Buttered Rum","#a1adb5":"Hit Gray","#a1c50a":"Citrus","#a1dad7":"Aqua Island","#a1e9de":"Water Leaf","#a2006d":"Flirt","#a23b6c":"Rouge","#a26645":"Cape Palliser","#a2aab3":"Gray Chateau","#a2aeab":"Edward","#a3807b":"Pharlap","#a397b4":"Amethyst Smoke","#a3e3ed":"Blizzard Blue","#a4a49d":"Delta","#a4a6d3":"Wistful","#a4af6e":"Green Smoke","#a50b5e":"Jazzberry Jam","#a52a2a":"Web Brown","#a5512b":"PyMOL brown","#a59b91":"Zorba","#a5cb0c":"Bahia","#a5e5a5":"PyMOL palegreen","#a62f20":"Roof Terracotta",
"#a65529":"Paarl","#a68b5b":"Barley Corn","#a69279":"Donkey Brown","#a6a29a":"Dawn","#a72525":"Mexican Red","#a7882c":"Luxor Gold","#a85307":"Rich Gold","#a86515":"Reno Sand","#a86b6b":"Coral Tree","#a8989b":"Dusty Gray","#a899e6":"Dull Lavender","#a8a589":"Tallow","#a8ae9c":"Bud","#a8af8e":"Locust","#a8bd9f":"Norway","#a8e3bd":"Chinook","#a9a491":"Gray Olive","#a9a9a9":"Dark Gray","#a9acb6":"Aluminium","#a9b2c3":"Cadet Blue","#a9b497":"Schist","#a9bdbf":"Tower Gray","#a9bef2":"Perano","#a9c6c2":"Opal",
"#aa375a":"Night Shadz","#aa4203":"Fire","#aa8b5b":"Muesli","#aa8d6f":"Sandal","#aaa5a9":"Shady Lady","#aaa9cd":"Logan","#aaabb7":"Spun Pearl","#aad6e6":"Regent St Blue","#aaf0d1":"Magic Mint","#ab0563":"Lipstick","#ab3472":"Royal Heath","#ab917a":"Sandrift","#aba0d9":"Cold Purple","#aba196":"Bronco","#ac8a56":"Limed Oak","#ac91ce":"East Side","#ac9e22":"Lemon Ginger","#aca494":"Napa","#aca586":"Hillary","#aca59f":"Cloudy","#acacac":"Silver Chalice","#acb78e":"Swamp Green","#accbb1":"Spring Rain",
"#acdd4d":"Conifer","#ace1af":"Celadon","#ad781b":"Mandalay","#adbed1":"Casper","#add8e6":"Light Blue","#addfad":"Moss Green","#ade6c4":"Padua","#adff2f":"Green Yellow","#ae4560":"Hippie Pink","#ae6020":"Desert","#ae809e":"Bouquet","#af4035":"Medium Carmine","#af4d43":"Apple Blossom","#af593e":"Brown Rust","#af8751":"Driftwood","#af8f2c":"Alpine","#af9f1c":"Lucky","#afa09e":"Martini","#afb1b8":"Bombay","#afbdd9":"Pigeon Post","#afeeee":"Pale Turquoise","#b04c6a":"Cadillac","#b05d54":"Matrix","#b05e81":"Tapestry",
"#b06608":"Mai Tai","#b09a95":"Del Rio","#b0c4de":"Light Steel Blue","#b0e0e6":"Powder Blue","#b0e313":"Inch Worm","#b10000":"Bright Red","#b12121":"PyMOL firebrick","#b14a0b":"Vesuvius","#b1610b":"Pumpkin Skin","#b16d52":"Santa Fe","#b19461":"Teak","#b1e2c1":"Fringy Flower","#b1f4e7":"Ice Cold","#b20931":"Shiraz","#b22222":"Fire Brick","#b24c66":"Raspberry","#b27f7f":"Dirty Violet","#b2a1ea":"Biloba Flower","#b2b2b2":"Gray70","#b32d29":"Tall Poppy","#b35213":"Fiery Orange","#b38007":"Hot Toddy",
"#b3af95":"Taupe Gray","#b3c110":"La Rioja","#b43332":"Well Read","#b44668":"Blush","#b4cfd3":"Jungle Mist","#b57281":"Turkish Rose","#b57edc":"Lavender","#b5a27f":"Mongoose","#b5b35c":"Olive Green","#b5d2ce":"Jet Stream","#b5ecdf":"Cruise","#b6316c":"Hibiscus","#b69d98":"Thatch","#b6b095":"Heathered Gray","#b6baa4":"Eagle","#b6d1ea":"Spindle","#b6d3bf":"Gum Leaf","#b7410e":"Rust","#b78c4c":"Sand","#b78e5c":"Muddy Waters","#b7a214":"Sahara","#b7a458":"Husk","#b7b1b1":"Nobel","#b7c3d0":"Heather","#b7f0be":"Madang",
"#b81104":"Milano Red","#b87333":"Copper","#b8860b":"Dark Goldenrod","#b8b56a":"Gimblet","#b8c1b1":"Green Spring","#b8c25d":"Celery","#b8e0f9":"Sail","#b94e48":"Chestnut","#b95140":"Crail","#b98d28":"Marigold","#b9c46a":"Wild Willow","#b9c8ac":"Rainee","#ba0101":"Guardsman Red","#ba450c":"Rock Spray","#ba55d3":"Medium Orchid","#ba6f1e":"Bourbon","#ba7f03":"Pirate Gold","#ba8c84":"PyMOL darksalmon","#bab1a2":"Nomad","#bac7c9":"Submarine","#baeef9":"Charlotte","#bb3385":"Medium Red Violet","#bb8983":"Brandy Rose",
"#bbd009":"Rio Grande","#bbd7c1":"Surf","#bc8f8f":"Rosy Brown","#bcc9c2":"Powder Ash","#bd5e2e":"Tuscany","#bd978e":"Quicksand","#bdb1a8":"Silk","#bdb2a1":"Malta","#bdb3c7":"Chatelle","#bdb76b":"Dark Khaki","#bdbbd7":"Lavender Gray","#bdbdc6":"French Gray","#bdc8b3":"Clay Ash","#bdc9ce":"Loblolly","#bdedfd":"French Pass","#bea6c3":"London Hue","#beb5b7":"Pink Swan","#bede0d":"Fuego","#bf00bf":"PyMOL purple","#bf5500":"Rose of Sharon","#bfb8b0":"Tide","#bfbed8":"Blue Haze","#bfbfff":"PyMOL lightblue",
"#bfc1c2":"Silver Sand","#bfc921":"Key Lime Pie","#bfdbe2":"Ziggurat","#bfff00":"Lime","#bfff3f":"Limon","#c02b18":"Thunderbird","#c04737":"Mojo","#c08081":"Old Rose","#c0c0c0":"Silver","#c0d3b9":"Pale Leaf","#c0d8b6":"Pixie Green","#c1440e":"Tia Maria","#c154c1":"Fuchsia Pink","#c1a004":"Buddha Gold","#c1b7a4":"Bison Hide","#c1bab0":"Tea","#c1becd":"Gray Suit","#c1d7b0":"Sprout","#c1f07c":"Sulu","#c26b03":"Indochine","#c2955d":"Twine","#c2bdb6":"Cotton Seed","#c2cac4":"Pumice","#c2e8e5":"Jagged Ice",
"#c32148":"Maroon Flush","#c3b091":"Indian Khaki","#c3bfc1":"Pale Slate","#c3c3bd":"Gray Nickel","#c3cde6":"Periwinkle Gray","#c3d1d1":"Tiara","#c3ddf9":"Tropical Blue","#c41e3a":"Cardinal","#c45655":"Fuzzy Wuzzy Brown","#c45719":"Orange Roughy","#c4b200":"PyMOL olive","#c4c4bc":"Mist Gray","#c4d0b0":"Coriander","#c4f4eb":"Mint Tulip","#c54b8c":"Mulberry","#c59922":"Nugget","#c5994b":"Tussock","#c5dbca":"Sea Mist","#c5e17a":"Yellow Green","#c62d42":"Brick Red","#c6726b":"Contessa","#c69191":"Oriental Pink",
"#c6a84b":"Roti","#c6c3b5":"Ash","#c6c8bd":"Kangaroo","#c6e610":"Las Palmas","#c7031e":"Monza","#c71585":"Red Violet","#c7bca2":"Coral Reef","#c7c1ff":"Melrose","#c7c4bf":"Cloud","#c7c9d5":"Ghost","#c7cd90":"Pine Glade","#c7dde5":"Botticelli","#c88a65":"Antique Brass","#c8a2c8":"Lilac","#c8a528":"Hokey Pokey","#c8aabf":"Lily","#c8b568":"Laser","#c8e3d7":"Edgewater","#c96323":"Piper","#c99415":"Pizza","#c9a0dc":"Light Wisteria","#c9b29b":"Rodeo Dust","#c9b35b":"Sundance","#c9b93b":"Earls Green","#c9c0bb":"Silver Rust",
"#c9d9d2":"Conch","#c9ffa2":"Reef","#c9ffe5":"Aero Blue","#ca3435":"Flush Mahogany","#cabb48":"Turmeric","#cadcd4":"Paris White","#cae00d":"Bitter Lemon","#cae6da":"Skeptic","#cb8fa9":"Viola","#cbcab6":"Foggy Gray","#cbd3b0":"Green Mist","#cbdbd6":"Nebula","#cc3333":"Persian Red","#cc5500":"Burnt Orange","#cc7722":"Ochre","#cc8899":"Puce","#cccaa8":"Thistle Green","#cccccc":"Gray80","#ccccff":"Periwinkle","#ccff00":"Electric Lime","#ccffff":"Pale Cyan","#cd5700":"Tenn","#cd5c5c":"Chestnut Rose","#cd8429":"Brandy Punch",
"#cd853f":"Peru","#cdf4ff":"Onahau","#ceb98f":"Sorrell Brown","#cebaba":"Cold Turkey","#cec291":"Yuma","#cec7a7":"Chino","#cfa39d":"Eunry","#cfb53b":"Old Gold","#cfdccf":"Tasman","#cfe5d2":"Surf Crest","#cff9f3":"Humming Bird","#cffaf4":"Scandal","#d05f04":"Red Stage","#d06da1":"Hopbush","#d07d12":"Meteor","#d0bef8":"Perfume","#d0c0e5":"Prelude","#d0f0c0":"Tea Green","#d18f1b":"Geebung","#d1bea8":"Vanilla","#d1c6b4":"Soft Amber","#d1d2ca":"Celeste","#d1d2dd":"Mischka","#d1e231":"Pear","#d2691e":"Hot Cinnamon",
"#d27d46":"Raw Sienna","#d29eaa":"Careys Pink","#d2b48c":"Tan","#d2da97":"Deco","#d2f6de":"Blue Romance","#d2f8b0":"Gossip","#d3cbba":"Sisal","#d3cdc5":"Swirl","#d3d3d3":"Light Gray","#d47494":"Charm","#d4b6af":"Clam Shell","#d4bf8d":"Straw","#d4c4a8":"Akaroa","#d4cd16":"Bird Flower","#d4d7d9":"Iron","#d4dfe2":"Geyser","#d4e2fc":"Hawkes Blue","#d54600":"Grenadier","#d591a4":"Can Can","#d59a6f":"Whiskey","#d5d195":"Winter Hazel","#d5f6e3":"Granny Apple","#d69188":"My Pink","#d6c562":"Tacha","#d6cef6":"Moon Raker",
"#d6d6d1":"Quill Gray","#d6ffdb":"Snowy Mint","#d7837f":"New York Pink","#d7c498":"Pavlova","#d7d0ff":"Fog","#d8337f":"Warm Pink","#d84437":"Valencia","#d87093":"Pale Violet Red","#d87c63":"Japonica","#d8bfd8":"Thistle","#d8c2d5":"Maverick","#d8d8ff":"Blue White","#d8fcfa":"Foam","#d94972":"Cabaret","#d99376":"Burning Sand","#d9b99b":"Cameo","#d9d6cf":"Timberwolf","#d9dcc1":"Tana","#d9e4f5":"Link Water","#d9f7ff":"Mabel","#da3287":"Cerise","#da5b38":"Flame Pea","#da6304":"Bamboo","#da6a41":"Red Damask",
"#da70d6":"Orchid","#da8a67":"Copperfield","#daa520":"Golden Grass","#daecd6":"Zanah","#daf4f0":"Iceberg","#dafaff":"Oyster Bay","#db5079":"Cranberry","#db9690":"Petite Orchid","#db995e":"Di Serria","#dbdbdb":"Alto","#dbfff8":"Frosted Mint","#dc143c":"Crimson","#dc4333":"Punch","#dcb20c":"Galliano","#dcb4bc":"Blossom","#dcd747":"Wattle","#dcd9d2":"Westar","#dcdcdc":"Gainsboro","#dcddcc":"Moon Mist","#dcedb4":"Caper","#dcf0ea":"Swans Down","#dda0dd":"Web Plum","#ddd6d5":"Swiss Coffee","#ddf9f1":"White Ice",
"#de3163":"Cerise Red","#de6360":"Roman","#dea681":"Tumbleweed","#deb887":"Burly Wood","#deba13":"Gold Tips","#dec196":"Brandy","#decbc6":"Wafer","#ded4a4":"Sapling","#ded717":"Barberry","#dee5c0":"Beryl Green","#def5ff":"Pattens Blue","#df73ff":"Heliotrope","#dfbe6f":"Apache","#dfcd6f":"Chenin","#dfcfdb":"Lola","#dfecda":"Willow Brook","#dfff00":"Chartreuse Yellow","#e0b0ff":"Mauve","#e0b646":"Anzac","#e0b974":"Harvest Gold","#e0c095":"Calico","#e0ffff":"Baby Blue","#e16865":"Sunglo","#e1bc64":"Equator",
"#e1c0c8":"Pink Flare","#e1e6d6":"Periglacial Blue","#e1ead4":"Kidnapper","#e1f6e8":"Tara","#e25465":"Mandy","#e2725b":"Terracotta","#e28913":"Golden Bell","#e292c0":"Shocking","#e29418":"Dixie","#e29cd2":"Light Orchid","#e2d8ed":"Snuff","#e2ebed":"Mystic","#e2f3ec":"Apple Green","#e30b5c":"Razzmatazz","#e32636":"Alizarin Crimson","#e34234":"Cinnabar","#e3bebe":"Cavern Pink","#e3f5e1":"Peppermint","#e3f988":"Mindaro","#e47698":"Deep Blush","#e49b0f":"Gamboge","#e4c2d5":"Melanie","#e4cfde":"Twilight",
"#e4d1c0":"Bone","#e4d422":"Sunflower","#e4d5b7":"Grain Brown","#e4d69b":"Zombie","#e4f6e7":"Frostee","#e4ffd1":"Snow Flurry","#e52b50":"Amaranth","#e5841b":"Zest","#e5ccc9":"Dust Storm","#e5d7bd":"Stark White","#e5d8af":"Hampton","#e5e0e1":"Bon Jour","#e5e5e5":"Mercury","#e5f9f6":"Polar","#e64e03":"Trinidad","#e6be8a":"Gold Sand","#e6bea5":"Cashmere","#e6d7b9":"Double Spanish White","#e6e4d4":"Satin Linen","#e6e6fa":"Web Lavender","#e6f2ea":"Harp","#e6f8f3":"Off Green","#e6ffe9":"Hint of Green",
"#e6ffff":"Tranquil","#e77200":"Mango Tango","#e7730a":"Christine","#e79f8c":"Tonys Pink","#e79fc4":"Kobi","#e7bcb4":"Rose Fog","#e7bf05":"Corn","#e7cd8c":"Putty","#e7ece6":"Gray Nurse","#e7f8ff":"Lily White","#e7feff":"Bubbles","#e89928":"Fire Bush","#e8b9b3":"Shilo","#e8e0d5":"Pearl Bush","#e8ebe0":"Green White","#e8f1d4":"Chrome White","#e8f2eb":"Gin","#e8f5f2":"Aqua Squeeze","#e96e00":"Clementine","#e97451":"Burnt Sienna","#e97c07":"Tahiti Gold","#e9967a":"Dark Salmon","#e9cecd":"Oyster Pink",
"#e9d75a":"Confetti","#e9e3e3":"Ebb","#e9f8ed":"Ottoman","#e9fffd":"Clear Day","#ea88a8":"Carissma","#eaae69":"Porsche","#eab33b":"Tulip Tree","#eac674":"Rob Roy","#eadab8":"Raffia","#eae8d4":"White Rock","#eaf6ee":"Panache","#eaf6ff":"Solitude","#eaf9f5":"Aqua Spring","#eafffe":"Dew","#eb9373":"Apricot","#ebc2af":"Zinnwaldite","#eca927":"Fuel Yellow","#ecc54e":"Ronchi","#ecc7ee":"French Lilac","#eccdb9":"Just Right","#ece090":"Wild Rice","#ecebbd":"Fall Green","#ecebce":"Aths Special","#ecf245":"Starship",
"#ed0a3f":"Red Ribbon","#ed7a1c":"Tango","#ed9121":"Carrot Orange","#ed989e":"Sea Pink","#edb381":"Tacao","#edc9af":"Desert Sand","#edcdab":"Pancho","#eddcb1":"Chamois","#edea99":"Primrose","#edf5dd":"Frost","#edf5f5":"Aqua Haze","#edf6ff":"Zumthor","#edf9f1":"Narvik","#edfc84":"Honeysuckle","#ee82ee":"Lavender Magenta","#eec1be":"Beauty Bush","#eed794":"Chalky","#eed9c4":"Almond","#eedc82":"Flax","#eededa":"Bizarre","#eee3ad":"Double Colonial White","#eee8aa":"Pale Goldenrod","#eeeee8":"Cararra",
"#eeef78":"Manz","#eef0c8":"Tahuna Sands","#eef0f3":"Athens Gray","#eef3c3":"Tusk","#eef4de":"Loafer","#eef6f7":"Catskill White","#eefdff":"Twilight Blue","#eeff9a":"Jonquil","#eeffe2":"Rice Flower","#ef863f":"Jaffa","#efefef":"Gallery","#eff2f3":"Porcelain","#f08080":"Light Coral","#f091a9":"Mauvelous","#f0d52d":"Golden Dream","#f0db7d":"Golden Sand","#f0dc82":"Buff","#f0e2ec":"Prim","#f0e68c":"Khaki","#f0eefd":"Selago","#f0eeff":"Titan White","#f0f8ff":"Alice Blue","#f0fcea":"Feta","#f0fff0":"Honeydew",
"#f0ffff":"Web Azure","#f18200":"Gold Drop","#f19bab":"Wewak","#f1e788":"Sahara Sand","#f1e9d2":"Parchment","#f1e9ff":"Blue Chalk","#f1eec1":"Mint Julep","#f1f1f1":"Seashell","#f1f7f2":"Saltpan","#f1ffad":"Tidal","#f1ffc8":"Chiffon","#f2552a":"Flamingo","#f28500":"Tangerine","#f2c3b2":"Mandys Pink","#f2f2f2":"Concrete","#f2fafa":"Black Squeeze","#f34723":"Pomegranate","#f3ad16":"Buttercup","#f3d69d":"New Orleans","#f3d9df":"Vanilla Ice","#f3e7bb":"Sidecar","#f3e9e5":"Dawn Pink","#f3edcf":"Wheatfield",
"#f3fb62":"Canary","#f3fbd4":"Orinoco","#f3ffd8":"Carla","#f400a1":"Hollywood Cerise","#f4a460":"Sandybrown","#f4c430":"Saffron","#f4d81c":"Ripe Lemon","#f4ebd3":"Janna","#f4f2ee":"Pampas","#f4f4f4":"Wild Sand","#f4f8ff":"Zircon","#f57584":"Froly","#f5c85c":"Cream Can","#f5c999":"Manhattan","#f5d5a0":"Maize","#f5deb3":"Wheat","#f5e7a2":"Sandwisp","#f5e7e2":"Pot Pourri","#f5e9d3":"Albescent White","#f5edef":"Soft Peach","#f5f3e5":"Ecru White","#f5f5dc":"Beige","#f5f5f5":"White Smoke","#f5fb3d":"Golden Fizz",
"#f5ffbe":"Australian Mint","#f5fffa":"Mint Cream","#f64a8a":"French Rose","#f653a6":"Brilliant Rose","#f6a4c9":"Illusion","#f6f0e6":"Merino","#f6f7f7":"Black Haze","#f6ffdc":"Spring Sun","#f7468a":"Violet Red","#f77703":"Chilean Fire","#f77fbe":"Persian Pink","#f7b668":"Rajah","#f7c8da":"Azalea","#f7dbe6":"We Peep","#f7f2e1":"Quarter Spanish White","#f7f5fa":"Whisper","#f7faf7":"Snow Drift","#f8b853":"Casablanca","#f8c3df":"Chantilly","#f8d9e9":"Cherub","#f8db9d":"Marzipan","#f8dd5c":"Energy Yellow",
"#f8e4bf":"Givry","#f8f0e8":"White Linen","#f8f4ff":"Magnolia","#f8f6f1":"Spring Wood","#f8f7dc":"Coconut Cream","#f8f7fc":"White Lilac","#f8f8f7":"Desert Storm","#f8f8ff":"Ghost White","#f8f99c":"Texas","#f8facd":"Corn Field","#f8fdd3":"Mimosa","#f95a61":"Carnation","#f9bf58":"Saffron Mango","#f9e0ed":"Carousel Pink","#f9e4bc":"Dairy Cream","#f9e663":"Portica","#f9e6f4":"Underage Pink","#f9eaf3":"Amour","#f9f8e4":"Rum Swizzle","#f9ff8b":"Dolly","#f9fff6":"Sugar Cane","#fa7814":"Ecstasy","#fa8072":"Web Salmon",
"#fa9d5a":"Tan Hide","#fad3a2":"Corvette","#fadfad":"Peach Yellow","#fae600":"Turbo","#faeab9":"Astra","#faebd7":"Antique White","#faeccc":"Champagne","#faf0e6":"Linen","#faf3f0":"Fantasy","#faf7d6":"Citrine White","#fafad2":"Light Goldenrod Yellow","#fafafa":"Alabaster","#fafde4":"Hint of Yellow","#faffa4":"Milan","#fb607f":"Brink Pink","#fb8989":"Geraldine","#fba0e3":"Lavender Rose","#fba129":"Sea Buckthorn","#fbac13":"Sun","#fbaed2":"Lavender Pink","#fbb2a3":"Rose Bud","#fbbeda":"Cupid","#fbcce7":"Classic Rose",
"#fbceb1":"Apricot Peach","#fbe7b2":"Banana Mania","#fbe870":"Marigold Yellow","#fbe96c":"Festival","#fbea8c":"Sweet Corn","#fbec5d":"Candy Corn","#fbf9f9":"Hint of Red","#fbffba":"Shalimar","#fc0fc0":"Shocking Pink","#fc80a5":"Tickle Me Pink","#fc9c1d":"Tree Poppy","#fcc01e":"Lightning Yellow","#fcd1a5":"PyMOL wheat","#fcd667":"Goldenrod","#fcd917":"Candlelight","#fcda98":"Cherokee","#fcf4d0":"Double Pearl Lusta","#fcf4dc":"Pearl Lusta","#fcf8f7":"Vista White","#fcfbf3":"Bianca","#fcfeda":"Moon Glow",
"#fcffe7":"China Ivory","#fcfff9":"Ceramic","#fd0e35":"Torch Red","#fd5b78":"Wild Watermelon","#fd7b33":"Crusta","#fd7c07":"Sorbus","#fd9fa2":"Sweet Pink","#fdd5b1":"Light Apricot","#fdd7e4":"Pig Pink","#fde1dc":"Cinderella","#fde295":"Golden Glow","#fde910":"Lemon","#fdf5e6":"Old Lace","#fdf6d3":"Half Colonial White","#fdf7ad":"Drover","#fdfeb8":"Pale Prim","#fdffd5":"Cumulus","#fe28a2":"Persian Rose","#fe4c40":"Sunset Orange","#fe6f5e":"Bittersweet","#fe9d04":"California","#fea904":"Yellow Sea",
"#febaad":"Melon","#fed33c":"Bright Sun","#fed85d":"Dandelion","#fedb8d":"Salomie","#fee5ac":"Cape Honey","#feebf3":"Remy","#feefce":"Oasis","#fef0ec":"Bridesmaid","#fef2c7":"Beeswax","#fef3d8":"Bleach White","#fef4cc":"Pipi","#fef4db":"Half Spanish White","#fef4f8":"Wisp Pink","#fef5f1":"Provincial Pink","#fef7de":"Half Dutch White","#fef8e2":"Solitaire","#fef8ff":"White Pointer","#fef9e3":"Off Yellow","#fefced":"Orange White","#ff0000":"Red","#ff007f":"Rose","#ff00cc":"Purple Pizzazz","#ff00ff":"Magenta/Fuchsia",
"#ff1493":"Deep Pink","#ff2400":"Scarlet","#ff3333":"tv_red","#ff3399":"Wild Strawberry","#ff33cc":"Razzle Dazzle Rose","#ff355e":"Radical Red","#ff3f34":"Red Orange","#ff4040":"Coral Red","#ff4500":"Orange Red","#ff4d00":"Vermilion","#ff4f00":"International Orange","#ff6037":"Outrageous Orange","#ff6347":"Tomato","#ff6600":"Blaze Orange","#ff66ff":"Pink Flamingo","#ff681f":"Orange","#ff69b4":"Hot Pink","#ff6b53":"Persimmon","#ff6b6b":"Deep Salmon","#ff6fff":"Blush Pink","#ff7034":"Burning Orange",
"#ff7518":"Pumpkin","#ff7d07":"Flamenco","#ff7f00":"Flush Orange","#ff7f50":"Coral","#ff7fff":"PyMOL violet","#ff8c00":"Dark Orange","#ff8c26":"tv_orange","#ff8c69":"Salmon","#ff9000":"Pizazz","#ff910f":"West Side","#ff91a4":"Pink Salmon","#ff9933":"Neon Carrot","#ff9966":"Atomic Tangerine","#ff9980":"Vivid Tangerine","#ff9999":"PyMOL salmon","#ff9e2c":"Sunshade","#ffa000":"Orange Peel","#ffa07a":"Light Salmon","#ffa194":"Mona Lisa","#ffa500":"Web Orange","#ffa5d8":"PyMOL pink","#ffa6c9":"Carnation Pink",
"#ffab81":"Hit Pink","#ffae42":"Yellow Orange","#ffb0ac":"Cornflower Lilac","#ffb1b3":"Sundown","#ffb233":"Bright Orange","#ffb31f":"My Sin","#ffb555":"Texas Rose","#ffb6c1":"Light Pink","#ffb7d5":"Cotton Candy","#ffb97b":"Macaroni and Cheese","#ffba00":"Selective Yellow","#ffbd5f":"Koromiko","#ffbf00":"Amber","#ffbfdd":"PyMOL lightpink","#ffc0a8":"Wax Flower","#ffc0cb":"Pink","#ffc3c0":"Your Pink","#ffc901":"Supernova","#ffcba4":"Flesh","#ffcc33":"Sunglow","#ffcc5c":"Golden Tainoi","#ffcc7f":"Light Orange",
"#ffcc99":"Peach Orange","#ffcd8c":"Chardonnay","#ffd1dc":"Pastel Pink","#ffd2b7":"Romantic","#ffd38c":"Grandis","#ffd700":"Gold","#ffd800":"Schoolbus Yellow","#ffd8d9":"Cosmos","#ffdab9":"Peach Puff","#ffdb58":"Mustard","#ffdcd6":"Peach Schnapps","#ffdd5e":"PyMOL Yellow Orange","#ffddaf":"Caramel","#ffddcd":"Tuft Bush","#ffddcf":"Watusi","#ffddf4":"Pink Lace","#ffdead":"Navajo White","#ffdeb3":"Frangipani","#ffe1df":"Pippin","#ffe1f2":"Pale Rose","#ffe2c5":"Negroni","#ffe4b5":"Moccasin","#ffe4c4":"Bisque",
"#ffe4e1":"Misty Rose","#ffe5a0":"Cream Brulee","#ffe5b4":"Peach","#ffe6c7":"Tequila","#ffe772":"Kournikova","#ffeac8":"Sandy Beach","#ffead4":"Karry","#ffebcd":"Blanched Almond","#ffec13":"Broom","#ffedbc":"Colonial White","#ffeed8":"Derby","#ffefa1":"Vis Vis","#ffefc1":"Egg White","#ffefd5":"Papaya Whip","#ffefec":"Fair Pink","#fff0db":"Peach Cream","#fff0f5":"Lavender Blush","#fff14f":"Gorse","#fff1b5":"Buttermilk","#fff1d8":"Pink Lady","#fff1ee":"Forget Me Not","#fff1f9":"Tutu","#fff39d":"Picasso",
"#fff3f1":"Chardon","#fff46e":"Paris Daisy","#fff4ce":"Barley White","#fff4dd":"Egg Sour","#fff4e0":"Sazerac","#fff4e8":"Serenade","#fff4f3":"Chablis","#fff5ee":"Seashell Peach","#fff5f3":"Sauvignon","#fff6d4":"Milk Punch","#fff6df":"Varden","#fff6f5":"Rose White","#fff8d1":"Baja White","#fff8dc":"Corn Silk","#fff9e2":"Gin Fizz","#fff9e6":"Early Dawn","#fffacd":"Lemon Chiffon","#fffaf0":"Floral White","#fffaf4":"Bridal Heath","#fffafa":"Snow","#fffbdc":"Scotch Mist","#fffbf9":"Soapstone","#fffc99":"Witch Haze",
"#fffcea":"Buttery White","#fffcee":"Island Spice","#fffdd0":"Cream","#fffde6":"Chilean Heath","#fffde8":"Travertine","#fffdf3":"Orchid White","#fffdf4":"Quarter Pearl Lusta","#fffee1":"Half and Half","#fffeec":"Apricot White","#fffef0":"Rice Cake","#fffef6":"Black White","#fffefd":"Romance","#ffff00":"Yellow","#ffff33":"tv_yellow","#ffff66":"Laser Lemon","#ffff7f":"Pale Yellow","#ffff99":"Pale Canary","#ffffb4":"Portafino","#ffffe0":"Light Yellow","#fffff0":"Ivory","#ffffff":"White"};if(a){var e=
a.match(/#[\dABCDEFabcdef]{6,6}$/);a=null!=e&&7===e[0].length?"undefined"!=typeof c[a.toLowerCase()]?c[a.toLowerCase()]:e[0]:!1}else a=!1;this.value=a}})):"function"==typeof f.callback&&f.callback.call(f,f.color)};f.absolutePosition=function(a){var b={x:a.offsetLeft,y:a.offsetTop};a.offsetParent&&(a=f.absolutePosition(a.offsetParent),b.x+=a.x,b.y+=a.y);return b};f.pack=function(a){var b=Math.round(255*a[0]),c=Math.round(255*a[1]);a=Math.round(255*a[2]);return"#"+(16>b?"0":"")+b.toString(16)+(16>c?
"0":"")+c.toString(16)+(16>a?"0":"")+a.toString(16)};f.unpack=function(a){if(7==a.length)return[parseInt("0x"+a.substring(1,3))/255,parseInt("0x"+a.substring(3,5))/255,parseInt("0x"+a.substring(5,7))/255];if(4==a.length)return[parseInt("0x"+a.substring(1,2))/15,parseInt("0x"+a.substring(2,3))/15,parseInt("0x"+a.substring(3,4))/15]};f.HSLToRGB=function(a){var b,c=a[0];b=a[1];a=a[2];b=.5>=a?a*(b+1):a+b-a*b;a=2*a-b;return[this.hueToRGB(a,b,c+.33333),this.hueToRGB(a,b,c),this.hueToRGB(a,b,c-.33333)]};
f.hueToRGB=function(a,b,c){c=0>c?c+1:1<c?c-1:c;return 1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(.66666-c)*6:a};f.RGBToHSL=function(a){var b,c,e,f,k=a[0],v=a[1],q=a[2];b=Math.min(k,Math.min(v,q));a=Math.max(k,Math.max(v,q));c=a-b;f=(b+a)/2;e=0;0<f&&1>f&&(e=c/(.5>f?2*f:2-2*f));b=0;0<c&&(a==k&&a!=v&&(b+=(v-q)/c),a==v&&a!=q&&(b+=2+(q-k)/c),a==q&&a!=k&&(b+=4+(k-v)/c),b/=6);return[b,e,f]};a("*",e).mousedown(f.mousedown);f.setColor("#000000");c&&f.linkTo(c)}})(jQuery);
var rvDataSets=[],rvViews=[],FullBasePairSet,AgreeFunction=function(){},drag=!1,localStorageAvailable=!1,onebuttonmode,CurrPrivacyCookie,PanelDivide=.5,TopDivide=.215,OpenStateOnLoad=!1,UserName="Guest",OnionColors="#000000 #ff0000 #008000 #0000ff #800080 #ff8c00 #ff8c00 #ff8c00 #ff8c00".split(" "),DomainColors="#ffd4a2 #a999fb #3aa7ff #cc99cc #f0ff00 #ff99cc #0ba34a #8ec640 #B27643 #325d3d".split(" "),HelixColors=["#000000","#ed1c24","#00a651","#1c75bc","#662d91"],ShapeColors=["#808080","#0000ff",
"#008000","#ffd700","#ff0000"],BinaryColors=["#858585","#FF0DE7"],RainBowColors="#00008f #00009f #0000af #0000bf #0000cf #0000df #0000ef #0000ff #0010ff #0020ff #0030ff #0040ff #0050ff #0060ff #0070ff #0080ff #008fff #009fff #00afff #00bfff #00cfff #00dfff #00efff #00ffff #10ffef #20ffdf #30ffcf #40ffbf #50ffaf #60ff9f #70ff8f #80ff80 #8fff70 #9fff60 #afff50 #bfff40 #cfff30 #dfff20 #efff10 #ffff00 #ffef00 #ffdf00 #ffcf00 #ffbf00 #ffaf00 #ff9f00 #ff8f00 #ff8000 #ff7000 #ff6000 #ff5000 #ff4000 #ff3000 #ff2000 #ff1000 #ff0000 #ef0000 #df0000 #cf0000 #bf0000 #af0000 #9f0000 #8f0000 #800000".split(" "),
SupportedColors={black:"#000000",navyblue:"#000080",webdarkblue:"#00008b",darkblue:"#0000c8",mediumblue:"#0000cd",blue:"#0000ff",stratos:"#000741",swamp:"#001b1c",resolutionblue:"#002387",deepfir:"#002900",burnham:"#002e20",internationalkleinblue:"#002fa7",prussianblue:"#003153",midnightblue:"#003366",smalt:"#003399",deepteal:"#003532",cyprus:"#003e40",kaitokegreen:"#004620",cobalt:"#0047ab",crusoe:"#004816",sherpablue:"#004950",endeavour:"#0056a7",camarone:"#00581a",darkgreen:"#006400",scienceblue:"#0066cc",
blueribbon:"#0066ff",tropicalrainforest:"#00755e",allports:"#0076a3",deepcerulean:"#007ba7",lochmara:"#007ec7",azureradiance:"#007fff",webgreen:"#008000",teal:"#008080",darkcyan:"#008b8b",bondiblue:"#0095b6",pacificblue:"#009dc4",persiangreen:"#00a693",jade:"#00a86b",pymolteal:"#00bfbf",deepskyblue:"#00bfff",caribbeangreen:"#00cc99","robin'seggblue":"#00cccc",darkturquoise:"#00ced1",mediumspringgreen:"#00fa9a",green:"#00ff00",springgreen:"#00ff7f",aqua:"#00ffff",cyan:"#00ffff",bluecharcoal:"#010d1a",
midnight:"#011635",holly:"#011d13",daintree:"#012731",cardingreen:"#01361c",countygreen:"#01371a",astronautblue:"#013e62",regalblue:"#013f6a",aquadeep:"#014b43",orient:"#015e85",bluestone:"#016162",fungreen:"#016d39",pinegreen:"#01796f",bluelagoon:"#017987",deepsea:"#01826b",greenhaze:"#01a368",englishholly:"#022d15",sherwoodgreen:"#02402c",congressblue:"#02478e",eveningsea:"#024e46",bahamablue:"#026395",observatory:"#02866f",cerulean:"#02a4d3",tangaroa:"#03163c",greenvogue:"#032b52",mosque:"#036a6e",
midnightmoss:"#041004",blackpearl:"#041322",bluewhale:"#042e4c",zuccini:"#044022",tealblue:"#044259",deepcove:"#051040",gulfblue:"#051657",veniceblue:"#055989",watercourse:"#056f57",catalinablue:"#062a78",tiber:"#063537",gossamer:"#069b81",niagara:"#06a189",tarawera:"#073a50",jaguar:"#080110",blackbean:"#081910",deepsapphire:"#082567",elfgreen:"#088370",brightturquoise:"#08e8de",downriver:"#092256",palmgreen:"#09230f",madison:"#09255d",bottlegreen:"#093624",deepseagreen:"#095859",salem:"#097f4b",
blackrussian:"#0a001c",darkfern:"#0a480d",japaneselaurel:"#0a6906",atoll:"#0a6f75",codgray:"#0b0b0b",marshland:"#0b0f08",gordonsgreen:"#0b1107",blackforest:"#0b1304",sanfelix:"#0b6207",malachite:"#0bda51",ebony:"#0c0b1d",woodsmoke:"#0c0d0f",racinggreen:"#0c1911",surfiegreen:"#0c7a79",bluechill:"#0c8990",blackrock:"#0d0332",bunker:"#0d1117",aztec:"#0d1c19",bush:"#0d2e1c",cinder:"#0e0e18",firefly:"#0e2a30",toreabay:"#0f2d9e",vulcan:"#10121d",greenwaterloo:"#101405",eden:"#105852",arapawa:"#110c6c",
ultramarine:"#120a8f",elephant:"#123447",jewel:"#126b40",diesel:"#130000",asphalt:"#130a06",bluezodiac:"#13264d",parsley:"#134f19",nero:"#140600",toryblue:"#1450aa",bunting:"#151f4c",denim:"#1560bd",genoa:"#15736b",mirage:"#161928",huntergreen:"#161d10",bigstone:"#162a40",celtic:"#163222",timbergreen:"#16322c",gablegreen:"#163531",pinetree:"#171f04",chathamsblue:"#175579",deepforestgreen:"#182d09",blumine:"#18587a",gray10:"#191919",webmidnightblue:"#191970",density:"#191999",palmleaf:"#19330e",nileblue:"#193751",
funblue:"#1959a8",deepteal:"#199999",luckypoint:"#1a1a68",mountainmeadow:"#1ab385",tolopea:"#1b0245",haiti:"#1b1035",deepkoamaru:"#1b127b",acadia:"#1b1404",seaweed:"#1b2f11",biscay:"#1b3162",matisse:"#1b659d",crowshead:"#1c1208",rangoongreen:"#1c1e13",persianblue:"#1c39bb",everglade:"#1c402e",elm:"#1c7c7d",greenpea:"#1d6142",creole:"#1e0f04",karaka:"#1e1609",elpaso:"#1e1708",cello:"#1e385b",tepapagreen:"#1e433c",dodgerblue:"#1e90ff",easternblue:"#1e9ab0",nightrider:"#1f120f",java:"#1fc2c2",jacksonspurple:"#20208d",
cloudburst:"#202e54",bluedianne:"#204852",lightseagreen:"#20b2aa",eternity:"#211a0e",deepblue:"#220878",forestgreen:"#228b22",mallard:"#233418",violet:"#240a40",kilamanjaro:"#240c02",logcabin:"#242a1d",blackolive:"#242e16",greenhouse:"#24500f",graphite:"#251607",cannonblack:"#251706",portgore:"#251f4f",shark:"#25272c",greenkelp:"#25311c",curiousblue:"#2596d1",paua:"#260368",parism:"#26056a",woodbark:"#261105",gondola:"#261414",steelgray:"#262335",ebonyclay:"#26283b",bayofmany:"#273a81",plantation:"#27504b",
eucalyptus:"#278a5b",oil:"#281e15",astronaut:"#283a77",mariner:"#286acd",violentviolet:"#290c5e",bastille:"#292130",zeus:"#292319",charade:"#292937",jellybean:"#297b9a",junglegreen:"#29ab87",cherrypie:"#2a0359",coffeebean:"#2a140e",balticsea:"#2a2630",turtlegreen:"#2a380b",ceruleanblue:"#2a52be",sepiablack:"#2b0202",valhalla:"#2b194f",heavymetal:"#2b3228",bluegem:"#2c0e8c",revolver:"#2c1632",bleachedcedar:"#2c2133",lochinvar:"#2c8c84",mikado:"#2d2510",outerspace:"#2d383a",sttropaz:"#2d569b",jacaranda:"#2e0329",
jackobean:"#2e1905",rangitoto:"#2e3222",rhino:"#2e3f62",seagreen:"#2e8b57",scooter:"#2ebfd4",onion:"#2f270e",governorbay:"#2f3cb3",darkslategray:"#2f4f4f",sapphire:"#2f519e",spectra:"#2f5a57",casal:"#2f6168",melanzane:"#300529",cocoabrown:"#301f1e",woodrush:"#302a0f",sanjuan:"#304b6a",turquoise:"#30d5c8",eclipse:"#311c17",pickledbluewood:"#314459",azure:"#315ba1",calypso:"#31728d",paradiso:"#317d82",persianindigo:"#32127a",blackcurrant:"#32293a",mineshaft:"#323232",stromboli:"#325d52",bilbao:"#327c14",
astral:"#327da0",limegreen:"#32cd32",christalle:"#33036b",thunder:"#33292f",gray20:"#333333",pymolskyblue:"#337fcc",forest:"#339933",shamrock:"#33cc99",tv_green:"#33ff33",tamarind:"#341515",mardigras:"#350036",valentino:"#350e42",jagger:"#350e57",tuna:"#353542",chambray:"#354e8c",martinique:"#363050",tuatara:"#363534",waiouru:"#363c0d",ming:"#36747d",lapalma:"#368716",chocolate:"#370202",clinker:"#371d09",browntumbleweed:"#37290e",birch:"#373021",oracle:"#377475",bluediamond:"#380474",grape:"#381a51",
dune:"#383533",oxfordblue:"#384555",clover:"#384910",limedspruce:"#394851",dell:"#396413",toledo:"#3a0020",sambuca:"#3a2010",jacarta:"#3a2a6a",william:"#3a686c",killarney:"#3a6a47",keppel:"#3ab09e",temptress:"#3b000b",aubergine:"#3b0910",jon:"#3b1f1f",treehouse:"#3b2820",amazon:"#3b7a57",bostonblue:"#3b91b4",windsor:"#3c0878",rebel:"#3c1206",meteorite:"#3c1f76",darkebony:"#3c2005",camouflage:"#3c3910",brightgray:"#3c4151",capecod:"#3c4443",lunargreen:"#3c493a",mediumseagreen:"#3cb371",bean:"#3d0c02",
bistre:"#3d2b1f",goblin:"#3d7d52",kingfisherdaisy:"#3e0480",cedar:"#3e1c14",englishwalnut:"#3e2b23",blackmarlin:"#3e2c1c",shipgray:"#3e3a44",pelorous:"#3eabbf",bronze:"#3f2109",cola:"#3f2500",madras:"#3f3002",minsk:"#3f307f",pymoldeepblue:"#3f3fa5",cabbagepont:"#3f4c3a",tomthumb:"#3f583b",mineralgreen:"#3f5d53",puertorico:"#3fc1aa",harlequin:"#3fff00",greencyan:"#3fffbf",brownpod:"#401801",cork:"#40291d",masala:"#403b38",thatchgreen:"#403d19",fiord:"#405169",viridian:"#40826d",chateaugreen:"#40a860",
webturquoise:"#40e0d0",ripeplum:"#410056",paco:"#411f10",deepoak:"#412010",merlin:"#413c37",gunpowder:"#414257",eastbay:"#414c7d",royalblue:"#4169e1",oceangreen:"#41aa78",burntmaroon:"#420303",lisbonbrown:"#423921",fadedjade:"#427977",scarletgum:"#431560",iroko:"#433120",armadillo:"#433e37",riverbed:"#434c59",greenleaf:"#436a0d",barossa:"#44012d",moroccobrown:"#441d00",mako:"#444954",kelp:"#454936",sanmarino:"#456cac",pictonblue:"#45b1e8",loulou:"#460b41",craterbrown:"#462425",grayasparagus:"#465945",
steelblue:"#4682b4",rusticred:"#480404",bulgarianrose:"#480607",clairvoyant:"#480656",cocoabean:"#481c1c",woodybrown:"#483131",taupe:"#483c32",darkslateblue:"#483d8b",mediumturquoise:"#48d1cc",vancleef:"#49170c",brownderby:"#492615",metallicbronze:"#49371b",verdungreen:"#495400",bluebayoux:"#496679",bismark:"#497183",bracken:"#4a2a04",deepbronze:"#4a3004",mondo:"#4a3c30",tundora:"#4a4244",gravel:"#4a444b",trout:"#4a4e5a",pigmentindigo:"#4b0082",nandor:"#4b5d52",saddle:"#4c3024",gray30:"#4c4c4c",tv_blue:"#4c4cff",
abbey:"#4c4f56",blackberry:"#4d0135",cabsav:"#4d0a18",indiantan:"#4d1e01",cowboy:"#4d282d",lividbrown:"#4d282e",rock:"#4d3833",punga:"#4d3d14",bronzetone:"#4d400f",woodland:"#4d5328",mahogany:"#4e0606",bossanova:"#4e2a5a",matterhorn:"#4e3b41",bronzeolive:"#4e420c",mulledwine:"#4e4562",axolotl:"#4e6649",wedgewood:"#4e7f9e",shakespeare:"#4eabd1",honeyflower:"#4f1c70",daisybush:"#4f2398",indigo:"#4f69c6",ferngreen:"#4f7942",fruitsalad:"#4f9d5d",apple:"#4fa83d",mortar:"#504351",kashmirblue:"#507096",
cuttysark:"#507672",emerald:"#50c878",emperor:"#514649",chaletgreen:"#516e3d",como:"#517c66",smaltblue:"#51808f",castro:"#52001f",maroonoak:"#520c17",gigas:"#523c94",voodoo:"#533455",victoria:"#534491",hippiegreen:"#53824b",heath:"#541012",judgegray:"#544333",fuscousgray:"#54534d",vidaloca:"#549019",cioccolato:"#55280c",saratoga:"#555b10",darkolivegreen:"#556b2f",finlandia:"#556d56",havelockblue:"#5590d9",fountainblue:"#56b4be",springleaves:"#578363",saddlebrown:"#583401",scarpaflow:"#585562",cactus:"#587156",
hippieblue:"#589aaf",wineberry:"#591d35",brownbramble:"#592804",congobrown:"#593737",millbrook:"#594433",waikawagray:"#5a6e9c",horizon:"#5a87a0",jambalaya:"#5b3013",bordeaux:"#5c0120",mulberrywood:"#5c0536",carnabytan:"#5c2e01",comet:"#5c5d75",redwood:"#5d1e0f",donjuan:"#5d4c51",chicago:"#5d5c58",verdigris:"#5d5e37",dingley:"#5d7747",breakerbay:"#5da19f",kabul:"#5e483e",hemlock:"#5e5d3b",irishcoffee:"#5f3d26",midgray:"#5f5f6e",shuttlegray:"#5f6672",webcadetblue:"#5f9ea0",aquaforest:"#5fa777",tradewind:"#5fb3ac",
horsesneck:"#604913",smoky:"#605b73",corduroy:"#606e68",danube:"#6093d1",espresso:"#612718",eggplant:"#614051",costadelsol:"#615d30",gladegreen:"#61845f",buccaneer:"#622f30",quincy:"#623f2d",butterflybush:"#624e9a",westcoast:"#625119",finch:"#626649",patina:"#639a8f",fern:"#63b76c",blueviolet:"#6456b7",dolphin:"#646077",stormdust:"#646463",siam:"#646a54",nevada:"#646e75",cornflowerblue:"#6495ed",viking:"#64ccdb",rosewood:"#65000b",cherrywood:"#651a14",purpleheart:"#652dc1",fernfrond:"#657220",willowgrove:"#65745d",
hoki:"#65869f",pompadour:"#660045",purple:"#660099",tyrianpurple:"#66023c",darktan:"#661010",gray40:"#666666",lightteal:"#66b2b2",silvertree:"#66b58f",mediumaquamarine:"#66cdaa",brightgreen:"#66ff00","screamin'green":"#66ff66",blackrose:"#67032d",scampi:"#675fa6",ironsidegray:"#676662",viridiangreen:"#678975",christi:"#67a712",nutmegwoodfinish:"#683600",zambezi:"#685558",saltbox:"#685e6e",tawnyport:"#692545",finn:"#692d54",scorpion:"#695f62",dimgray:"#696969",lynch:"#697e9a",spice:"#6a442e",slateblue:"#6a5acd",
himalaya:"#6a5d1b",soyabean:"#6a6051",hairyheath:"#6b2a14",royalpurple:"#6b3fa0",shinglefawn:"#6b4e31",dorado:"#6b5755",bermudagray:"#6b8ba2",olivedrab:"#6b8e23",eminence:"#6c3082",turquoiseblue:"#6cdae7",lonestar:"#6d0101",pinecone:"#6d5e54",dovegray:"#6d6c6c",juniper:"#6d9292",gothic:"#6d92a1",redoxide:"#6e0902",moccaccino:"#6e1d14",pickledbean:"#6e4826",dallas:"#6e4b26",kokoda:"#6e6d57",palesky:"#6e7783",caferoyale:"#6f440c",flint:"#6f6a61",highland:"#6f8e63",limeade:"#6f9d02",downy:"#6fd0c5",
persianplum:"#701c1c",sepia:"#704214",antiquebronze:"#704a07",ferra:"#704f50",coffee:"#706555",slategray:"#708090",cedarwoodfinish:"#711a00",metalliccopper:"#71291d",affair:"#714693",studio:"#714ab2",tobaccobrown:"#715d47",yellowmetal:"#716338",peat:"#716b56",olivetone:"#716e10",stormgray:"#717486",sirocco:"#718080",aquamarineblue:"#71d9e2",venetianred:"#72010f",oldcopper:"#724a2f",goben:"#726d4e",raven:"#727b89",seance:"#731e8f",rawumber:"#734a12",kimberly:"#736c9f",crocodile:"#736d58",crete:"#737829",
xanadu:"#738678",spicymustard:"#74640d",limedash:"#747d63",rollingstone:"#747d83",bluesmoke:"#748881",laurel:"#749378",mantis:"#74c365",russett:"#755a57",deluge:"#7563a8",cosmic:"#76395d",bluemarguerite:"#7666c6",lima:"#76bd17",skyblue:"#76d7ea",darkburgundy:"#770f05",crownofthorns:"#771f1f",walnut:"#773f1a",pablo:"#776f61",pacifika:"#778120",lightslategray:"#778899",oxley:"#779e86",pastelgreen:"#77dd77",japanesemaple:"#780109",mocha:"#782d19",peanut:"#782f16",camouflagegreen:"#78866b",wasabi:"#788a25",
shipcove:"#788bba",seanymph:"#78a39c",romancoffee:"#795d4c",oldlavender:"#796878",rum:"#796989",fedora:"#796a78",sandstone:"#796d62",spray:"#79deec",siren:"#7a013a",fuchsiablue:"#7a58c1",boulder:"#7a7a7a",wildblueyonder:"#7a89b8",deyork:"#7ac488",redbeech:"#7b3801",cinnamon:"#7b3f00",yukongold:"#7b6608",mediumslateblue:"#7b68ee",tapa:"#7b7874",waterloo:"#7b7c94",flaxsmoke:"#7b8265",amulet:"#7b9f80",asparagus:"#7ba05b",kenyancopper:"#7c1c05",pesto:"#7c7631",topaz:"#7c778a",concord:"#7c7b7a",jumbo:"#7c7b82",
trendygreen:"#7c881a",gumbo:"#7ca1a6",acapulco:"#7cb0a1",neptune:"#7cb7bb",lawngreen:"#7cfc00",pueblo:"#7d2c14",bayleaf:"#7da98d",malibu:"#7dc8f7",bermuda:"#7dd8c6",coppercanyon:"#7e3a15",purpleblue:"#7f00ff",claret:"#7f1734",perutan:"#7f3a02",falcon:"#7f626d",mobster:"#7f7589",moodyblue:"#7f76d3",gray50:"#7f7f7f",slate:"#7f7fff",chartreuse:"#7fff00",pymollime:"#7fff7f",aquamarine:"#7fffd4",pymolaquamarine:"#7fffff",maroon:"#800000",webpurple:"#800080",rosebudcherry:"#800b47",falured:"#801818",redrobin:"#80341f",
vividviolet:"#803790",russet:"#80461b",friargray:"#807e79",olive:"#808000",gray:"#808080",gulfstream:"#80b3ae",glacier:"#80b3c4",seagull:"#80ccea",nutmeg:"#81422c",spicypink:"#816e71",empress:"#817377",spanishgreen:"#819885",sanddune:"#826f65",gunsmoke:"#828685",battleshipgray:"#828f72",merlot:"#831923",shadow:"#837050",chelseacucumber:"#83aa5d",montecarlo:"#83d0c6",plum:"#843179",grannysmith:"#84a0a0",splitpea:"#84bf00",chetwodeblue:"#8581d9",bandicoot:"#858470",balihai:"#859faf",halfbaked:"#85c4cc",
reddevil:"#860111",lotus:"#863c3c",ironstone:"#86483c",bullshot:"#864d1e",rustynail:"#86560a",bitter:"#868974",regentgray:"#86949f",disco:"#871550",americano:"#87756e",hurricane:"#877c7b",oslogray:"#878d91",sushi:"#87ab39",webskyblue:"#87ceeb",lightskyblue:"#87cefa",spicymix:"#885342",kumera:"#886221",suvagray:"#888387",avocado:"#888d65",camelot:"#893456",solidpink:"#893843",cannonpink:"#894367",makara:"#897d6d",webblueviolet:"#8a2be2",burntumber:"#8a3324",truev:"#8a73d6",claycreek:"#8a8360",monsoon:"#8a8389",
stack:"#8a8f8a",jordyblue:"#8ab9f1",darkred:"#8b0000",darkmagenta:"#8b008b",electricviolet:"#8b00ff",monarch:"#8b0723",websaddlebrown:"#8b4513",cornharvest:"#8b6b0b",olivehaze:"#8b8470",schooner:"#8b847e",naturalgray:"#8b8680",mantle:"#8b9c90",portage:"#8b9fee",envy:"#8ba690",cascade:"#8ba9a5",riptide:"#8be6d8",cardinalpink:"#8c055e",violetpurple:"#8c3f99",mulefawn:"#8c472f",pottersclay:"#8c5738",trendypink:"#8c6495",smudge:"#8cb266",paprika:"#8d0226",pymolchocolate:"#8d381c",sanguinebrown:"#8d3d38",
tosca:"#8d3f3f",cement:"#8d7662",granitegreen:"#8d8974",manatee:"#8d90a1",poloblue:"#8da8cc",redberry:"#8e0000",rope:"#8e4d1e",opium:"#8e6f70",domino:"#8e775e",mamba:"#8e8190",nepal:"#8eabc1",pohutukawa:"#8f021c",elsalva:"#8f3e33",korma:"#8f4b0e",squirrel:"#8f8176",darkseagreen:"#8fbc8f",vistablue:"#8fd6b4",burgundy:"#900020",oldbrick:"#901e1e",hemp:"#907874",almondfrost:"#907b71",sycamore:"#908d39",lightgreen:"#90ee90",sangria:"#92000a",cumin:"#924321",beaver:"#926f5b",stonewall:"#928573",venus:"#928590",
mediumpurple:"#9370d8",mediumpurple:"#9370db",cornflower:"#93ccea",algaegreen:"#93dfb8",darkviolet:"#9400d3",copperrust:"#944747",arrowtown:"#948771",scarlett:"#950015",strikemaster:"#956387",mountainmist:"#959396",carmine:"#960018",brown:"#964b00",leather:"#967059","purplemountain'smajesty":"#9678b6",lavenderpurple:"#967bb6",pewter:"#96a8a1",summergreen:"#96bbab",auchico:"#97605d",wisteria:"#9771b5",atlantis:"#97cd2d",vinrouge:"#983d61",lilacbush:"#9874d3",bazaar:"#98777b",hacienda:"#98811b",paleoyster:"#988d77",
palegreen:"#98fb98",mintgreen:"#98ff98",fresheggplant:"#990066",violeteggplant:"#991199",tamarillo:"#991613",deeppurple:"#991999",totempole:"#991b07",darkorchid:"#9932cc",ruby:"#993333",copperrose:"#996666",amethyst:"#9966cc",mountbattenpink:"#997a8d",deepolive:"#999919",gray60:"#999999",bluebell:"#9999cc",prairiesand:"#9a3820",toast:"#9a6e61",gurkha:"#9a9577",olivine:"#9ab973",shadowgreen:"#9ac2b8",webyellowgreen:"#9acd32",oregon:"#9b4703",lemongrass:"#9b9e8f",stiletto:"#9c3336",hawaiiantan:"#9d5616",
gullgray:"#9dacb7",pistachio:"#9dc209",grannysmithapple:"#9de093",anakiwa:"#9de5ff",chelseagem:"#9e5302",sepiaskin:"#9e5b40",sage:"#9ea587",citron:"#9ea91f",rockblue:"#9eb1cd",morningglory:"#9edee0",cognac:"#9f381d",reefgold:"#9f821c",stardust:"#9f9f9c",santasgray:"#9fa0b1",sinbad:"#9fd7d3",feijoa:"#9fdd8c",tabasco:"#a02712",sienna:"#a0522d",butteredrum:"#a1750d",hitgray:"#a1adb5",citrus:"#a1c50a",aquaisland:"#a1dad7",waterleaf:"#a1e9de",flirt:"#a2006d",rouge:"#a23b6c",capepalliser:"#a26645",graychateau:"#a2aab3",
edward:"#a2aeab",pharlap:"#a3807b",amethystsmoke:"#a397b4",blizzardblue:"#a3e3ed",delta:"#a4a49d",wistful:"#a4a6d3",greensmoke:"#a4af6e",jazzberryjam:"#a50b5e",webbrown:"#a52a2a",pymolbrown:"#a5512b",zorba:"#a59b91",bahia:"#a5cb0c",pymolpalegreen:"#a5e5a5",roofterracotta:"#a62f20",paarl:"#a65529",barleycorn:"#a68b5b",donkeybrown:"#a69279",dawn:"#a6a29a",mexicanred:"#a72525",luxorgold:"#a7882c",richgold:"#a85307",renosand:"#a86515",coraltree:"#a86b6b",dustygray:"#a8989b",dulllavender:"#a899e6",tallow:"#a8a589",
bud:"#a8ae9c",locust:"#a8af8e",norway:"#a8bd9f",chinook:"#a8e3bd",grayolive:"#a9a491",darkgray:"#a9a9a9",aluminium:"#a9acb6",cadetblue:"#a9b2c3",schist:"#a9b497",towergray:"#a9bdbf",perano:"#a9bef2",opal:"#a9c6c2",nightshadz:"#aa375a",fire:"#aa4203",muesli:"#aa8b5b",sandal:"#aa8d6f",shadylady:"#aaa5a9",logan:"#aaa9cd",spunpearl:"#aaabb7",regentstblue:"#aad6e6",magicmint:"#aaf0d1",lipstick:"#ab0563",royalheath:"#ab3472",sandrift:"#ab917a",coldpurple:"#aba0d9",bronco:"#aba196",limedoak:"#ac8a56",eastside:"#ac91ce",
lemonginger:"#ac9e22",napa:"#aca494",hillary:"#aca586",cloudy:"#aca59f",silverchalice:"#acacac",swampgreen:"#acb78e",springrain:"#accbb1",conifer:"#acdd4d",celadon:"#ace1af",mandalay:"#ad781b",casper:"#adbed1",lightblue:"#add8e6",mossgreen:"#addfad",padua:"#ade6c4",greenyellow:"#adff2f",hippiepink:"#ae4560",desert:"#ae6020",bouquet:"#ae809e",mediumcarmine:"#af4035",appleblossom:"#af4d43",brownrust:"#af593e",driftwood:"#af8751",alpine:"#af8f2c",lucky:"#af9f1c",martini:"#afa09e",bombay:"#afb1b8",pigeonpost:"#afbdd9",
paleturquoise:"#afeeee",cadillac:"#b04c6a",matrix:"#b05d54",tapestry:"#b05e81",maitai:"#b06608",delrio:"#b09a95",lightsteelblue:"#b0c4de",powderblue:"#b0e0e6",inchworm:"#b0e313",brightred:"#b10000",pymolfirebrick:"#b12121",vesuvius:"#b14a0b",pumpkinskin:"#b1610b",santafe:"#b16d52",teak:"#b19461",fringyflower:"#b1e2c1",icecold:"#b1f4e7",shiraz:"#b20931",firebrick:"#b22222",raspberry:"#b24c66",dirtyviolet:"#b27f7f",bilobaflower:"#b2a1ea",gray70:"#b2b2b2",tallpoppy:"#b32d29",fieryorange:"#b35213",hottoddy:"#b38007",
taupegray:"#b3af95",larioja:"#b3c110",wellread:"#b43332",blush:"#b44668",junglemist:"#b4cfd3",turkishrose:"#b57281",lavender:"#b57edc",mongoose:"#b5a27f",olivegreen:"#b5b35c",jetstream:"#b5d2ce",cruise:"#b5ecdf",hibiscus:"#b6316c",thatch:"#b69d98",heatheredgray:"#b6b095",eagle:"#b6baa4",spindle:"#b6d1ea",gumleaf:"#b6d3bf",rust:"#b7410e",sand:"#b78c4c",muddywaters:"#b78e5c",sahara:"#b7a214",husk:"#b7a458",nobel:"#b7b1b1",heather:"#b7c3d0",madang:"#b7f0be",milanored:"#b81104",copper:"#b87333",darkgoldenrod:"#b8860b",
gimblet:"#b8b56a",greenspring:"#b8c1b1",celery:"#b8c25d",sail:"#b8e0f9",chestnut:"#b94e48",crail:"#b95140",marigold:"#b98d28",wildwillow:"#b9c46a",rainee:"#b9c8ac",guardsmanred:"#ba0101",rockspray:"#ba450c",mediumorchid:"#ba55d3",bourbon:"#ba6f1e",pirategold:"#ba7f03",pymoldarksalmon:"#ba8c84",nomad:"#bab1a2",submarine:"#bac7c9",charlotte:"#baeef9",mediumredviolet:"#bb3385",brandyrose:"#bb8983",riogrande:"#bbd009",surf:"#bbd7c1",rosybrown:"#bc8f8f",powderash:"#bcc9c2",tuscany:"#bd5e2e",quicksand:"#bd978e",
silk:"#bdb1a8",malta:"#bdb2a1",chatelle:"#bdb3c7",darkkhaki:"#bdb76b",lavendergray:"#bdbbd7",frenchgray:"#bdbdc6",clayash:"#bdc8b3",loblolly:"#bdc9ce",frenchpass:"#bdedfd",londonhue:"#bea6c3",pinkswan:"#beb5b7",fuego:"#bede0d",pymolpurple:"#bf00bf",roseofsharon:"#bf5500",tide:"#bfb8b0",bluehaze:"#bfbed8",pymollightblue:"#bfbfff",silversand:"#bfc1c2",keylimepie:"#bfc921",ziggurat:"#bfdbe2",lime:"#bfff00",limon:"#bfff3f",thunderbird:"#c02b18",mojo:"#c04737",oldrose:"#c08081",silver:"#c0c0c0",paleleaf:"#c0d3b9",
pixiegreen:"#c0d8b6",tiamaria:"#c1440e",fuchsiapink:"#c154c1",buddhagold:"#c1a004",bisonhide:"#c1b7a4",tea:"#c1bab0",graysuit:"#c1becd",sprout:"#c1d7b0",sulu:"#c1f07c",indochine:"#c26b03",twine:"#c2955d",cottonseed:"#c2bdb6",pumice:"#c2cac4",jaggedice:"#c2e8e5",maroonflush:"#c32148",indiankhaki:"#c3b091",paleslate:"#c3bfc1",graynickel:"#c3c3bd",periwinklegray:"#c3cde6",tiara:"#c3d1d1",tropicalblue:"#c3ddf9",cardinal:"#c41e3a",fuzzywuzzybrown:"#c45655",orangeroughy:"#c45719",pymololive:"#c4b200",mistgray:"#c4c4bc",
coriander:"#c4d0b0",minttulip:"#c4f4eb",mulberry:"#c54b8c",nugget:"#c59922",tussock:"#c5994b",seamist:"#c5dbca",yellowgreen:"#c5e17a",brickred:"#c62d42",contessa:"#c6726b",orientalpink:"#c69191",roti:"#c6a84b",ash:"#c6c3b5",kangaroo:"#c6c8bd",laspalmas:"#c6e610",monza:"#c7031e",redviolet:"#c71585",coralreef:"#c7bca2",melrose:"#c7c1ff",cloud:"#c7c4bf",ghost:"#c7c9d5",pineglade:"#c7cd90",botticelli:"#c7dde5",antiquebrass:"#c88a65",lilac:"#c8a2c8",hokeypokey:"#c8a528",lily:"#c8aabf",laser:"#c8b568",
edgewater:"#c8e3d7",piper:"#c96323",pizza:"#c99415",lightwisteria:"#c9a0dc",rodeodust:"#c9b29b",sundance:"#c9b35b",earlsgreen:"#c9b93b",silverrust:"#c9c0bb",conch:"#c9d9d2",reef:"#c9ffa2",aeroblue:"#c9ffe5",flushmahogany:"#ca3435",turmeric:"#cabb48",pariswhite:"#cadcd4",bitterlemon:"#cae00d",skeptic:"#cae6da",viola:"#cb8fa9",foggygray:"#cbcab6",greenmist:"#cbd3b0",nebula:"#cbdbd6",persianred:"#cc3333",burntorange:"#cc5500",ochre:"#cc7722",puce:"#cc8899",thistlegreen:"#cccaa8",gray80:"#cccccc",periwinkle:"#ccccff",
electriclime:"#ccff00",palecyan:"#ccffff",tenn:"#cd5700",chestnutrose:"#cd5c5c",brandypunch:"#cd8429",peru:"#cd853f",onahau:"#cdf4ff",sorrellbrown:"#ceb98f",coldturkey:"#cebaba",yuma:"#cec291",chino:"#cec7a7",eunry:"#cfa39d",oldgold:"#cfb53b",tasman:"#cfdccf",surfcrest:"#cfe5d2",hummingbird:"#cff9f3",scandal:"#cffaf4",redstage:"#d05f04",hopbush:"#d06da1",meteor:"#d07d12",perfume:"#d0bef8",prelude:"#d0c0e5",teagreen:"#d0f0c0",geebung:"#d18f1b",vanilla:"#d1bea8",softamber:"#d1c6b4",celeste:"#d1d2ca",
mischka:"#d1d2dd",pear:"#d1e231",hotcinnamon:"#d2691e",rawsienna:"#d27d46",careyspink:"#d29eaa",tan:"#d2b48c",deco:"#d2da97",blueromance:"#d2f6de",gossip:"#d2f8b0",sisal:"#d3cbba",swirl:"#d3cdc5",lightgray:"#d3d3d3",charm:"#d47494",clamshell:"#d4b6af",straw:"#d4bf8d",akaroa:"#d4c4a8",birdflower:"#d4cd16",iron:"#d4d7d9",geyser:"#d4dfe2",hawkesblue:"#d4e2fc",grenadier:"#d54600",cancan:"#d591a4",whiskey:"#d59a6f",winterhazel:"#d5d195",grannyapple:"#d5f6e3",mypink:"#d69188",tacha:"#d6c562",moonraker:"#d6cef6",
quillgray:"#d6d6d1",snowymint:"#d6ffdb",newyorkpink:"#d7837f",pavlova:"#d7c498",fog:"#d7d0ff",warmpink:"#d8337f",valencia:"#d84437",palevioletred:"#d87093",japonica:"#d87c63",thistle:"#d8bfd8",maverick:"#d8c2d5",bluewhite:"#d8d8ff",foam:"#d8fcfa",cabaret:"#d94972",burningsand:"#d99376",cameo:"#d9b99b",timberwolf:"#d9d6cf",tana:"#d9dcc1",linkwater:"#d9e4f5",mabel:"#d9f7ff",cerise:"#da3287",flamepea:"#da5b38",bamboo:"#da6304",reddamask:"#da6a41",orchid:"#da70d6",copperfield:"#da8a67",goldengrass:"#daa520",
zanah:"#daecd6",iceberg:"#daf4f0",oysterbay:"#dafaff",cranberry:"#db5079",petiteorchid:"#db9690",diserria:"#db995e",alto:"#dbdbdb",frostedmint:"#dbfff8",crimson:"#dc143c",punch:"#dc4333",galliano:"#dcb20c",blossom:"#dcb4bc",wattle:"#dcd747",westar:"#dcd9d2",gainsboro:"#dcdcdc",moonmist:"#dcddcc",caper:"#dcedb4",swansdown:"#dcf0ea",webplum:"#dda0dd",swisscoffee:"#ddd6d5",whiteice:"#ddf9f1",cerisered:"#de3163",roman:"#de6360",tumbleweed:"#dea681",burlywood:"#deb887",goldtips:"#deba13",brandy:"#dec196",
wafer:"#decbc6",sapling:"#ded4a4",barberry:"#ded717",berylgreen:"#dee5c0",pattensblue:"#def5ff",heliotrope:"#df73ff",apache:"#dfbe6f",chenin:"#dfcd6f",lola:"#dfcfdb",willowbrook:"#dfecda",chartreuseyellow:"#dfff00",mauve:"#e0b0ff",anzac:"#e0b646",harvestgold:"#e0b974",calico:"#e0c095",babyblue:"#e0ffff",sunglo:"#e16865",equator:"#e1bc64",pinkflare:"#e1c0c8",periglacialblue:"#e1e6d6",kidnapper:"#e1ead4",tara:"#e1f6e8",mandy:"#e25465",terracotta:"#e2725b",goldenbell:"#e28913",shocking:"#e292c0",dixie:"#e29418",
lightorchid:"#e29cd2",snuff:"#e2d8ed",mystic:"#e2ebed",applegreen:"#e2f3ec",razzmatazz:"#e30b5c",alizarincrimson:"#e32636",cinnabar:"#e34234",cavernpink:"#e3bebe",peppermint:"#e3f5e1",mindaro:"#e3f988",deepblush:"#e47698",gamboge:"#e49b0f",melanie:"#e4c2d5",twilight:"#e4cfde",bone:"#e4d1c0",sunflower:"#e4d422",grainbrown:"#e4d5b7",zombie:"#e4d69b",frostee:"#e4f6e7",snowflurry:"#e4ffd1",amaranth:"#e52b50",zest:"#e5841b",duststorm:"#e5ccc9",starkwhite:"#e5d7bd",hampton:"#e5d8af",bonjour:"#e5e0e1",mercury:"#e5e5e5",
polar:"#e5f9f6",trinidad:"#e64e03",goldsand:"#e6be8a",cashmere:"#e6bea5",doublespanishwhite:"#e6d7b9",satinlinen:"#e6e4d4",weblavender:"#e6e6fa",harp:"#e6f2ea",offgreen:"#e6f8f3",hintofgreen:"#e6ffe9",tranquil:"#e6ffff",mangotango:"#e77200",christine:"#e7730a",tonyspink:"#e79f8c",kobi:"#e79fc4",rosefog:"#e7bcb4",corn:"#e7bf05",putty:"#e7cd8c",graynurse:"#e7ece6",lilywhite:"#e7f8ff",bubbles:"#e7feff",firebush:"#e89928",shilo:"#e8b9b3",pearlbush:"#e8e0d5",greenwhite:"#e8ebe0",chromewhite:"#e8f1d4",
gin:"#e8f2eb",aquasqueeze:"#e8f5f2",clementine:"#e96e00",burntsienna:"#e97451",tahitigold:"#e97c07",darksalmon:"#e9967a",oysterpink:"#e9cecd",confetti:"#e9d75a",ebb:"#e9e3e3",ottoman:"#e9f8ed",clearday:"#e9fffd",carissma:"#ea88a8",porsche:"#eaae69",tuliptree:"#eab33b",robroy:"#eac674",raffia:"#eadab8",whiterock:"#eae8d4",panache:"#eaf6ee",solitude:"#eaf6ff",aquaspring:"#eaf9f5",dew:"#eafffe",apricot:"#eb9373",zinnwaldite:"#ebc2af",fuelyellow:"#eca927",ronchi:"#ecc54e",frenchlilac:"#ecc7ee",justright:"#eccdb9",
wildrice:"#ece090",fallgreen:"#ecebbd",athsspecial:"#ecebce",starship:"#ecf245",redribbon:"#ed0a3f",tango:"#ed7a1c",carrotorange:"#ed9121",seapink:"#ed989e",tacao:"#edb381",desertsand:"#edc9af",pancho:"#edcdab",chamois:"#eddcb1",primrose:"#edea99",frost:"#edf5dd",aquahaze:"#edf5f5",zumthor:"#edf6ff",narvik:"#edf9f1",honeysuckle:"#edfc84",lavendermagenta:"#ee82ee",beautybush:"#eec1be",chalky:"#eed794",almond:"#eed9c4",flax:"#eedc82",bizarre:"#eededa",doublecolonialwhite:"#eee3ad",palegoldenrod:"#eee8aa",
cararra:"#eeeee8",manz:"#eeef78",tahunasands:"#eef0c8",athensgray:"#eef0f3",tusk:"#eef3c3",loafer:"#eef4de",catskillwhite:"#eef6f7",twilightblue:"#eefdff",jonquil:"#eeff9a",riceflower:"#eeffe2",jaffa:"#ef863f",gallery:"#efefef",porcelain:"#eff2f3",lightcoral:"#f08080",mauvelous:"#f091a9",goldendream:"#f0d52d",goldensand:"#f0db7d",buff:"#f0dc82",prim:"#f0e2ec",khaki:"#f0e68c",selago:"#f0eefd",titanwhite:"#f0eeff",aliceblue:"#f0f8ff",feta:"#f0fcea",honeydew:"#f0fff0",webazure:"#f0ffff",golddrop:"#f18200",
wewak:"#f19bab",saharasand:"#f1e788",parchment:"#f1e9d2",bluechalk:"#f1e9ff",mintjulep:"#f1eec1",seashell:"#f1f1f1",saltpan:"#f1f7f2",tidal:"#f1ffad",chiffon:"#f1ffc8",flamingo:"#f2552a",tangerine:"#f28500",mandyspink:"#f2c3b2",concrete:"#f2f2f2",blacksqueeze:"#f2fafa",pomegranate:"#f34723",buttercup:"#f3ad16",neworleans:"#f3d69d",vanillaice:"#f3d9df",sidecar:"#f3e7bb",dawnpink:"#f3e9e5",wheatfield:"#f3edcf",canary:"#f3fb62",orinoco:"#f3fbd4",carla:"#f3ffd8",hollywoodcerise:"#f400a1",sandybrown:"#f4a460",
saffron:"#f4c430",ripelemon:"#f4d81c",janna:"#f4ebd3",pampas:"#f4f2ee",wildsand:"#f4f4f4",zircon:"#f4f8ff",froly:"#f57584",creamcan:"#f5c85c",manhattan:"#f5c999",maize:"#f5d5a0",wheat:"#f5deb3",sandwisp:"#f5e7a2",potpourri:"#f5e7e2",albescentwhite:"#f5e9d3",softpeach:"#f5edef",ecruwhite:"#f5f3e5",beige:"#f5f5dc",whitesmoke:"#f5f5f5",goldenfizz:"#f5fb3d",australianmint:"#f5ffbe",mintcream:"#f5fffa",frenchrose:"#f64a8a",brilliantrose:"#f653a6",illusion:"#f6a4c9",merino:"#f6f0e6",blackhaze:"#f6f7f7",
springsun:"#f6ffdc",violetred:"#f7468a",chileanfire:"#f77703",persianpink:"#f77fbe",rajah:"#f7b668",azalea:"#f7c8da",wepeep:"#f7dbe6",quarterspanishwhite:"#f7f2e1",whisper:"#f7f5fa",snowdrift:"#f7faf7",casablanca:"#f8b853",chantilly:"#f8c3df",cherub:"#f8d9e9",marzipan:"#f8db9d",energyyellow:"#f8dd5c",givry:"#f8e4bf",whitelinen:"#f8f0e8",magnolia:"#f8f4ff",springwood:"#f8f6f1",coconutcream:"#f8f7dc",whitelilac:"#f8f7fc",desertstorm:"#f8f8f7",ghostwhite:"#f8f8ff",texas:"#f8f99c",cornfield:"#f8facd",
mimosa:"#f8fdd3",carnation:"#f95a61",saffronmango:"#f9bf58",carouselpink:"#f9e0ed",dairycream:"#f9e4bc",portica:"#f9e663",underagepink:"#f9e6f4",amour:"#f9eaf3",rumswizzle:"#f9f8e4",dolly:"#f9ff8b",sugarcane:"#f9fff6",ecstasy:"#fa7814",websalmon:"#fa8072",tanhide:"#fa9d5a",corvette:"#fad3a2",peachyellow:"#fadfad",turbo:"#fae600",astra:"#faeab9",antiquewhite:"#faebd7",champagne:"#faeccc",linen:"#faf0e6",fantasy:"#faf3f0",citrinewhite:"#faf7d6",lightgoldenrodyellow:"#fafad2",alabaster:"#fafafa",hintofyellow:"#fafde4",
milan:"#faffa4",brinkpink:"#fb607f",geraldine:"#fb8989",lavenderrose:"#fba0e3",seabuckthorn:"#fba129",sun:"#fbac13",lavenderpink:"#fbaed2",rosebud:"#fbb2a3",cupid:"#fbbeda",classicrose:"#fbcce7",apricotpeach:"#fbceb1",bananamania:"#fbe7b2",marigoldyellow:"#fbe870",festival:"#fbe96c",sweetcorn:"#fbea8c",candycorn:"#fbec5d",hintofred:"#fbf9f9",shalimar:"#fbffba",shockingpink:"#fc0fc0",ticklemepink:"#fc80a5",treepoppy:"#fc9c1d",lightningyellow:"#fcc01e",pymolwheat:"#fcd1a5",goldenrod:"#fcd667",candlelight:"#fcd917",
cherokee:"#fcda98",doublepearllusta:"#fcf4d0",pearllusta:"#fcf4dc",vistawhite:"#fcf8f7",bianca:"#fcfbf3",moonglow:"#fcfeda",chinaivory:"#fcffe7",ceramic:"#fcfff9",torchred:"#fd0e35",wildwatermelon:"#fd5b78",crusta:"#fd7b33",sorbus:"#fd7c07",sweetpink:"#fd9fa2",lightapricot:"#fdd5b1",pigpink:"#fdd7e4",cinderella:"#fde1dc",goldenglow:"#fde295",lemon:"#fde910",oldlace:"#fdf5e6",halfcolonialwhite:"#fdf6d3",drover:"#fdf7ad",paleprim:"#fdfeb8",cumulus:"#fdffd5",persianrose:"#fe28a2",sunsetorange:"#fe4c40",
bittersweet:"#fe6f5e",california:"#fe9d04",yellowsea:"#fea904",melon:"#febaad",brightsun:"#fed33c",dandelion:"#fed85d",salomie:"#fedb8d",capehoney:"#fee5ac",remy:"#feebf3",oasis:"#feefce",bridesmaid:"#fef0ec",beeswax:"#fef2c7",bleachwhite:"#fef3d8",pipi:"#fef4cc",halfspanishwhite:"#fef4db",wisppink:"#fef4f8",provincialpink:"#fef5f1",halfdutchwhite:"#fef7de",solitaire:"#fef8e2",whitepointer:"#fef8ff",offyellow:"#fef9e3",orangewhite:"#fefced",red:"#ff0000",rose:"#ff007f",purplepizzazz:"#ff00cc",fuchsia:"#ff00ff",
magenta:"#ff00ff",deeppink:"#ff1493",scarlet:"#ff2400",tv_red:"#ff3333",wildstrawberry:"#ff3399",razzledazzlerose:"#ff33cc",radicalred:"#ff355e",redorange:"#ff3f34",coralred:"#ff4040",orangered:"#ff4500",vermilion:"#ff4d00",internationalorange:"#ff4f00",outrageousorange:"#ff6037",tomato:"#ff6347",blazeorange:"#ff6600",pinkflamingo:"#ff66ff",orange:"#ff681f",hotpink:"#ff69b4",persimmon:"#ff6b53",deepsalmon:"#ff6b6b",blushpink:"#ff6fff",burningorange:"#ff7034",pumpkin:"#ff7518",flamenco:"#ff7d07",flushorange:"#ff7f00",
coral:"#ff7f50",pymolviolet:"#ff7fff",darkorange:"#ff8c00",tv_orange:"#ff8c26",salmon:"#ff8c69",pizazz:"#ff9000",westside:"#ff910f",pinksalmon:"#ff91a4",neoncarrot:"#ff9933",atomictangerine:"#ff9966",vividtangerine:"#ff9980",pymolsalmon:"#ff9999",sunshade:"#ff9e2c",orangepeel:"#ffa000",lightsalmon:"#ffa07a",monalisa:"#ffa194",weborange:"#ffa500",pymolpink:"#ffa5d8",carnationpink:"#ffa6c9",hitpink:"#ffab81",yelloworange:"#ffae42",cornflowerlilac:"#ffb0ac",sundown:"#ffb1b3",brightorange:"#ffb233",mysin:"#ffb31f",
texasrose:"#ffb555",lightpink:"#ffb6c1",cottoncandy:"#ffb7d5",macaroniandcheese:"#ffb97b",selectiveyellow:"#ffba00",koromiko:"#ffbd5f",amber:"#ffbf00",pymollightpink:"#ffbfdd",waxflower:"#ffc0a8",pink:"#ffc0cb",yourpink:"#ffc3c0",supernova:"#ffc901",flesh:"#ffcba4",sunglow:"#ffcc33",goldentainoi:"#ffcc5c",lightorange:"#ffcc7f",peachorange:"#ffcc99",chardonnay:"#ffcd8c",pastelpink:"#ffd1dc",romantic:"#ffd2b7",grandis:"#ffd38c",gold:"#ffd700",schoolbusyellow:"#ffd800",cosmos:"#ffd8d9",peachpuff:"#ffdab9",
mustard:"#ffdb58",peachschnapps:"#ffdcd6",pymolyelloworange:"#ffdd5e",caramel:"#ffddaf",tuftbush:"#ffddcd",watusi:"#ffddcf",pinklace:"#ffddf4",navajowhite:"#ffdead",frangipani:"#ffdeb3",pippin:"#ffe1df",palerose:"#ffe1f2",negroni:"#ffe2c5",moccasin:"#ffe4b5",bisque:"#ffe4c4",mistyrose:"#ffe4e1",creambrulee:"#ffe5a0",peach:"#ffe5b4",tequila:"#ffe6c7",kournikova:"#ffe772",sandybeach:"#ffeac8",karry:"#ffead4",blanchedalmond:"#ffebcd",broom:"#ffec13",colonialwhite:"#ffedbc",derby:"#ffeed8",visvis:"#ffefa1",
eggwhite:"#ffefc1",papayawhip:"#ffefd5",fairpink:"#ffefec",peachcream:"#fff0db",lavenderblush:"#fff0f5",gorse:"#fff14f",buttermilk:"#fff1b5",pinklady:"#fff1d8",forgetmenot:"#fff1ee",tutu:"#fff1f9",picasso:"#fff39d",chardon:"#fff3f1",parisdaisy:"#fff46e",barleywhite:"#fff4ce",eggsour:"#fff4dd",sazerac:"#fff4e0",serenade:"#fff4e8",chablis:"#fff4f3",seashellpeach:"#fff5ee",sauvignon:"#fff5f3",milkpunch:"#fff6d4",varden:"#fff6df",rosewhite:"#fff6f5",bajawhite:"#fff8d1",cornsilk:"#fff8dc",ginfizz:"#fff9e2",
earlydawn:"#fff9e6",lemonchiffon:"#fffacd",floralwhite:"#fffaf0",bridalheath:"#fffaf4",snow:"#fffafa",scotchmist:"#fffbdc",soapstone:"#fffbf9",witchhaze:"#fffc99",butterywhite:"#fffcea",islandspice:"#fffcee",cream:"#fffdd0",chileanheath:"#fffde6",travertine:"#fffde8",orchidwhite:"#fffdf3",quarterpearllusta:"#fffdf4",halfandhalf:"#fffee1",apricotwhite:"#fffeec",ricecake:"#fffef0",blackwhite:"#fffef6",romance:"#fffefd",yellow:"#ffff00",tv_yellow:"#ffff33",laserlemon:"#ffff66",paleyellow:"#ffff7f",palecanary:"#ffff99",
portafino:"#ffffb4",lightyellow:"#ffffe0",ivory:"#fffff0",white:"#ffffff"},canvas2DSupported=!!window.CanvasRenderingContext2D;
function RvLayer(a,k,c,f,e,h,b){this.LayerName=a;this.CanvasName=k;null==document.getElementById(k)&&("selected"===this.Type?$("#canvasDiv").append($('<canvas id="'+k+'" style="z-index:'+(rvDataSets[0].LastLayer+1+800)+';"></canvas>')):$("#canvasDiv").append($('<canvas id="'+k+'" style="z-index:'+(rvDataSets[0].LastLayer+1)+';"></canvas>')));this.Canvas=document.getElementById(k);this.Canvas.getContext&&(this.CanvasContext=this.Canvas.getContext("2d"));this.Data=c;this.dataLayerColors=[];this.Filled=
f;this.ScaleFactor=e;this.LinearGradients=[];this.Type=h;this.zIndex=rvDataSets[0].LastLayer+1;this.Visible=!0;this.Linked=this.Selected=!1;this.ColorLayer=[];this.ColorGradientMode="Matched";this.DataLabel="None";this.Color=b?b:"#0000FF";"lines"===this.Type&&(this.ColorLayer="gray_lines",this.ColorGradientMode="Matched");this.updateZIndex=function(a){this.Canvas.style.zIndex="selected"===this.Type?a+800:a;this.zIndex=a};this.toJSON=function(){return{LayerName:this.LayerName,CanvasName:this.CanvasName,
Data:this.Data,dataLayerColors:this.dataLayerColors,Filled:this.Filled,ScaleFactor:this.ScaleFactor,LinearGradients:this.LinearGradients,Type:this.Type,zIndex:this.zIndex,Visible:this.Visible,Selected:this.Selected,Linked:this.Linked,ColorLayer:this.ColorLayer,ColorGradientMode:this.ColorGradientMode,DataLabel:this.DataLabel,Color:this.Color,ColorLayer:this.ColorLayer,ColorGradientMode:this.ColorGradientMode}};this.fromJSON=function(a){var b=new RvLayer(a.LayerName,a.CanvasName,a.Data,a.Filled,a.ScaleFactor,
a.Type,a.Color);b.dataLayerColors=a.dataLayerColors;b.LinearGradients=a.LinearGradients;b.zIndex=a.zIndex;b.Visible=a.Visible;b.Selected=a.Selected;b.Linked=a.Linked;b.ColorLayer=a.ColorLayer;b.ColorGradientMode=a.ColorGradientMode;b.DataLabel=a.DataLabel;b.ColorLayer=a.ColorLayer;b.ColorGradientMode=a.ColorGradientMode;return b};this.clearCanvas=function(){canvas2DSupported&&(this.CanvasContext.setTransform(1,0,0,1,0,0),this.CanvasContext.clearRect(0,0,rvViews[0].width,rvViews[0].height),this.CanvasContext.setTransform(rvViews[0].scale,
0,0,rvViews[0].scale,rvViews[0].x,rvViews[0].y))};this.addLinearGradient=function(a){this.LinearGradients.push(a)};this.deleteLayer=function(){$(this.Canvas).remove()};this.clearData=function(){this.dataLayerColors=[];this.Data=[];for(var a=0;a<rvDataSets[0].Residues.length;a++)this.dataLayerColors[a]=void 0,this.Data[a]=void 0};this.setVisibility=function(a){switch(a){case "hidden":$(this.Canvas).css("visibility","hidden");this.Visible=!1;break;case "visible":$(this.Canvas).css("visibility","visible");
this.Visible=!0;break;default:alert("this shouldn't happen")}};this.clearAll=function(){switch(this.Type){case "circles":this.DataLabel="None";$("[name="+this.LayerName+"]").find(".layerContent").find("span[name=DataLabel]").text(this.DataLabel);this.clearData();drawNavLine();rvDataSets[0].clearCanvas(this.LayerName);update3Dcolors();break;case "residues":this.DataLabel="None";$("[name="+this.LayerName+"]").find(".layerContent").find("span[name=DataLabel]").text(this.DataLabel);this.clearData();clearColor(!1);
drawNavLine();update3Dcolors();break;case "lines":this.DataLabel="None",$("[name="+this.LayerName+"]").find(".layerContent").find("span[name=DataLabel]").text(this.DataLabel),drawNavLine(),refreshBasePairs("clear_lines")}}}function RvSelection(a,k,c,f){this.Name=a;this.zIndex=rvDataSets[0].Selections.length;this.Residues=k?k:[];this.Residues_rProtein=f?f:[];this.Color=c?c:"#940B06";this.Selected=!1}
function rvDataSet(a){function k(a){if(void 0!==rvDataSets[0].Residues&&"circles"===a.Type){a.clearCanvas();for(var b=rvDataSets[0].SpeciesEntry.Circle_Radius,c=rvDataSets[0].Residues.length-1;0<=c;c--)void 0!=a.dataLayerColors[c]&&"#858585"!=a.dataLayerColors[c]&&(a.CanvasContext.beginPath(),a.CanvasContext.arc(rvDataSets[0].Residues[c].X,rvDataSets[0].Residues[c].Y,a.ScaleFactor*b,0,2*Math.PI,!1),a.CanvasContext.closePath(),a.CanvasContext.strokeStyle=a.dataLayerColors[c],a.CanvasContext.stroke(),
a.Filled&&(a.CanvasContext.fillStyle=a.dataLayerColors[c],a.CanvasContext.fill()))}}function c(a,b){if(canvas2DSupported&&(a.CanvasContext.textAlign="left",void 0!=rvDataSets[0].rvTextLabels)){watermark(!1);for(var c=0;c<rvDataSets[0].rvTextLabels.length;c++)a.CanvasContext.font=.7*rvDataSets[0].rvTextLabels[c].FontSize+'pt "Myriad Pro", Calibri, Arial',a.CanvasContext.fillStyle=rvDataSets[0].rvTextLabels[c].Fill,a.CanvasContext.fillText(rvDataSets[0].rvTextLabels[c].LabelText,rvDataSets[0].rvTextLabels[c].X,
rvDataSets[0].rvTextLabels[c].Y);a.CanvasContext.strokeStyle="rgba(35,31,32,32)";a.CanvasContext.lineWidth=.5;for(c=0;c<rvDataSets[0].rvLineLabels.length;c++)a.CanvasContext.beginPath(),a.CanvasContext.moveTo(rvDataSets[0].rvLineLabels[c].X1,rvDataSets[0].rvLineLabels[c].Y1),a.CanvasContext.lineTo(rvDataSets[0].rvLineLabels[c].X2,rvDataSets[0].rvLineLabels[c].Y2),a.CanvasContext.closePath(),a.CanvasContext.stroke()}}function f(a,b,c,e){if("residues"===a.Type)if(a.clearCanvas(),rvDataSets[0].Residues&&
0<rvDataSets[0].Residues.length){if(b&&c)for(e=0;e<rvDataSets[0].Residues.length;e++)c[b[e]]?(rvDataSets[0].Residues[e].color=c[b[e]],a.dataLayerColors[e]=c[b[e]]):e in b&&(rvDataSets[0].Residues[e].color="#000000",a.dataLayerColors[e]="#000000");else for(e=0;e<rvDataSets[0].Residues.length;e++)rvDataSets[0].Residues[e].color=a.dataLayerColors[e];a.CanvasContext.strokeStyle="#000000";a.CanvasContext.textBaseline="middle";a.CanvasContext.textAlign="center";for(e=rvDataSets[0].Residues.length-1;0<=
e;e--)a.CanvasContext.fillStyle=a.dataLayerColors[e]||"#000000",a.CanvasContext.font=rvDataSets[0].Residues[e]["font-weight"]+" "+rvDataSets[0].SpeciesEntry.Font_Size_Canvas+'pt "Myriad Pro", Calibri, Arial',a.CanvasContext.fillText(rvDataSets[0].Residues[e].resName,rvDataSets[0].Residues[e].X,rvDataSets[0].Residues[e].Y)}else welcomeScreen()}function e(a,b){var c=[];b?c[0]=b:$(".checkBoxDIV-S").find(".visibilityCheckImg[value=visible]").parent().parent().each(function(a){c.push($(this).attr("name"))});
var e=rvDataSets[0].SpeciesEntry.Circle_Radius;a.clearCanvas();a.Data=[];a.dataLayerColors=[];if(rvDataSets[0].Residues&&0<rvDataSets[0].Residues.length){for(var f=rvDataSets[0].Residues.length-1;0<=f;f--)a.Data[f]=!1,a.dataLayerColors[f]="#858585";for(f=c.length-1;0<=f;f--)for(var h=rvDataSets[0].getSelection(c[f]),k=h.Residues.length-1;0<=k;k--)a.CanvasContext.beginPath(),a.CanvasContext.arc(h.Residues[k].X,h.Residues[k].Y,a.ScaleFactor*e,0,2*Math.PI,!1),a.CanvasContext.closePath(),a.CanvasContext.strokeStyle=
h.Color,a.CanvasContext.lineWidth=.5,a.CanvasContext.stroke(),a.Data[h.Residues[k].map_Index-1]=!0,a.dataLayerColors[h.Residues[k].map_Index-1]=h.Color;"selected"==rvDataSets[0].getLinkedLayer().Type&&update3Dcolors()}}function h(a,b,c,e){if("circles"===a.Type){if(e||(a.clearCanvas(),a.dataLayerColors=[]),e=rvDataSets[0].SpeciesEntry.Circle_Radius,void 0!=rvDataSets[0].Residues)for(var f=rvDataSets[0].Residues.length-1;0<=f;f--)b&&c&&void 0!=c[b[f]]&&"#858585"!=c[b[f]]?(a.CanvasContext.beginPath(),
a.CanvasContext.arc(rvDataSets[0].Residues[f].X,rvDataSets[0].Residues[f].Y,a.ScaleFactor*e,0,2*Math.PI,!1),a.CanvasContext.closePath(),a.CanvasContext.strokeStyle=c[b[f]],a.CanvasContext.stroke(),a.Filled&&(a.CanvasContext.fillStyle=c[b[f]],a.CanvasContext.fill()),a.dataLayerColors[f]=c[b[f]]):b||c||!a.dataLayerColors[f]||"#858585"==a.dataLayerColors[f]||(a.CanvasContext.beginPath(),a.CanvasContext.arc(rvDataSets[0].Residues[f].X,rvDataSets[0].Residues[f].Y,a.ScaleFactor*e,0,2*Math.PI,!1),a.CanvasContext.closePath(),
a.CanvasContext.strokeStyle=a.dataLayerColors[f],a.CanvasContext.stroke(),a.Filled&&(a.CanvasContext.fillStyle=a.dataLayerColors[f],a.CanvasContext.fill()))}else return!1}function b(a,b){var c,e,f=$('input[name="za"][value=on]').is(":checked");a.clearCanvas();b?a.ColorLayer=b:b=a.ColorLayer;a.Data=rvDataSets[0].BasePairs;if(void 0!=a.Data||a.Data==[]){if("Matched"==a.ColorGradientMode)var h=[0,1];else"Opposite"==a.ColorGradientMode?h=[1,0]:alert("how did we get here?");for(var k=0;k<a.Data.length;k++){var s=
a.Data[k].resIndex1,u=a.Data[k].resIndex2;if(f){e=Math.sqrt((rvDataSets[0].Residues[s].X-rvDataSets[0].Residues[u].X)*(rvDataSets[0].Residues[s].X-rvDataSets[0].Residues[u].X)+(rvDataSets[0].Residues[s].Y-rvDataSets[0].Residues[u].Y)*(rvDataSets[0].Residues[s].Y-rvDataSets[0].Residues[u].Y));if(150-23*rvViews[0].scale>e){a.Data[k].color="rgba(35,31,32,"+a.Data[k].opacity+")";continue}if((0>rvDataSets[0].Residues[s].X*rvViews[0].scale+rvViews[0].x||rvDataSets[0].Residues[s].X*rvViews[0].scale+rvViews[0].x>
rvViews[0].clientWidth||0>rvDataSets[0].Residues[s].Y*rvViews[0].scale+rvViews[0].y||rvDataSets[0].Residues[s].Y*rvViews[0].scale+rvViews[0].y>rvViews[0].clientHeight)&&(0>rvDataSets[0].Residues[u].X*rvViews[0].scale+rvViews[0].x||rvDataSets[0].Residues[u].X*rvViews[0].scale+rvViews[0].x>rvViews[0].clientWidth||0>rvDataSets[0].Residues[u].Y*rvViews[0].scale+rvViews[0].y||rvDataSets[0].Residues[u].Y*rvViews[0].scale+rvViews[0].y>rvViews[0].clientHeight)){a.Data[k].color="rgba(35,31,32,"+a.Data[k].opacity+
")";continue}}if(0<=s&&0<=u){switch(b.Type){case void 0:if("gray_lines"==b){var w=rvDataSets[0].HighlightLayer.CanvasContext.createLinearGradient(rvDataSets[0].Residues[s].X,rvDataSets[0].Residues[s].Y,rvDataSets[0].Residues[u].X,rvDataSets[0].Residues[u].Y);c=colorNameToHex("#231F20");e=colorNameToHex("#231F20");w.addColorStop(h[0],"rgba("+h2d(c.slice(1,3))+","+h2d(c.slice(3,5))+","+h2d(c.slice(5))+","+a.Data[k].opacity+")");w.addColorStop(h[1],"rgba("+h2d(e.slice(1,3))+","+h2d(e.slice(3,5))+","+
h2d(e.slice(5))+","+a.Data[k].opacity+")");a.Data[k].color=w;a.Data[k].color_hex=c}else"manual_coloring"==b?(w=rvDataSets[0].HighlightLayer.CanvasContext.createLinearGradient(rvDataSets[0].Residues[s].X,rvDataSets[0].Residues[s].Y,rvDataSets[0].Residues[u].X,rvDataSets[0].Residues[u].Y),c=a.Data[k].color_hex,e=a.Data[k].color_hex,w.addColorStop(h[0],"rgba("+h2d(c.slice(1,3))+","+h2d(c.slice(3,5))+","+h2d(c.slice(5))+","+a.Data[k].opacity+")"),w.addColorStop(h[1],"rgba("+h2d(e.slice(1,3))+","+h2d(e.slice(3,
5))+","+h2d(e.slice(5))+","+a.Data[k].opacity+")"),a.Data[k].color=w,a.Data[k].color_hex=c):alert("Invalid color mode");break;case "residues":w=b.CanvasContext.createLinearGradient(rvDataSets[0].Residues[s].X,rvDataSets[0].Residues[s].Y,rvDataSets[0].Residues[u].X,rvDataSets[0].Residues[u].Y);rvDataSets[0].Residues[s].color&&rvDataSets[0].Residues[u].color&&(c=colorNameToHex(rvDataSets[0].Residues[s].color),e=colorNameToHex(rvDataSets[0].Residues[u].color),w.addColorStop(h[0],"rgba("+h2d(c.slice(1,
3))+","+h2d(c.slice(3,5))+","+h2d(c.slice(5))+","+a.Data[k].opacity+")"),w.addColorStop(h[1],"rgba("+h2d(e.slice(1,3))+","+h2d(e.slice(3,5))+","+h2d(e.slice(5))+","+a.Data[k].opacity+")"));a.Data[k].color=w;a.Data[k].color_hex=c;break;case "circles":w=b.CanvasContext.createLinearGradient(rvDataSets[0].Residues[s].X,rvDataSets[0].Residues[s].Y,rvDataSets[0].Residues[u].X,rvDataSets[0].Residues[u].Y);b.dataLayerColors[s]&&b.dataLayerColors[u]&&(c=colorNameToHex(b.dataLayerColors[s]),e=colorNameToHex(b.dataLayerColors[u]),
w.addColorStop(h[0],"rgba("+h2d(c.slice(1,3))+","+h2d(c.slice(3,5))+","+h2d(c.slice(5))+","+a.Data[k].opacity+")"),w.addColorStop(h[1],"rgba("+h2d(e.slice(1,3))+","+h2d(e.slice(3,5))+","+h2d(e.slice(5))+","+a.Data[k].opacity+")"));a.Data[k].color=w;a.Data[k].color_hex=c;break;case "selected":w=b.CanvasContext.createLinearGradient(rvDataSets[0].Residues[s].X,rvDataSets[0].Residues[s].Y,rvDataSets[0].Residues[u].X,rvDataSets[0].Residues[u].Y);if(b.Data[s]||b.Data[u])c=colorNameToHex(b.dataLayerColors[s]),
e=colorNameToHex(b.dataLayerColors[u]),w.addColorStop(h[0],"rgba("+h2d(c.slice(1,3))+","+h2d(c.slice(3,5))+","+h2d(c.slice(5))+","+a.Data[k].opacity+")"),w.addColorStop(h[1],"rgba("+h2d(e.slice(1,3))+","+h2d(e.slice(3,5))+","+h2d(e.slice(5))+","+a.Data[k].opacity+")");a.Data[k].color=w;a.Data[k].color_hex=c;break;default:alert("this shouldn't be happening right now.")}a.CanvasContext.beginPath();a.CanvasContext.moveTo(rvDataSets[0].Residues[s].X,rvDataSets[0].Residues[s].Y);a.CanvasContext.lineTo(rvDataSets[0].Residues[u].X,
rvDataSets[0].Residues[u].Y);a.CanvasContext.strokeStyle=a.Data[k].color;a.CanvasContext.lineWidth=a.Data[k].lineWidth;a.CanvasContext.stroke();a.CanvasContext.closePath();f&&10<rvViews[0].scale&&(e=rvDataSets[0].Residues[s].X-(rvDataSets[0].Residues[s].X-rvDataSets[0].Residues[u].X)/2,s=rvDataSets[0].Residues[s].Y-(rvDataSets[0].Residues[s].Y-rvDataSets[0].Residues[u].Y)/2,a.CanvasContext.save(),a.CanvasContext.lineWidth=.5,a.CanvasContext.fillStyle="white",a.CanvasContext.fillRect(e-2.4,s-.8,4.7,
1.7),a.CanvasContext.strokeRect(e-2.3,s-.7,4.5,1.5),a.CanvasContext.restore(),a.CanvasContext.save(),a.CanvasContext.font=".5px Arial",a.CanvasContext.fillText(a.Data[k].bp_type,e-2,s+.5),a.CanvasContext.restore())}}}}this.Name=a;this.Layers=[];this.HighlightLayer=[];this.Residues=[];this.ResidueList=[];this.SequenceList="";this.rvTextLabels=[];this.rvLineLabels=[];this.BasePairs=[];this.CustomData=[];this.SpeciesEntry=[];this.Selections=[];this.LastLayer=-1;this.LayerTypes="circles lines labels residues contour selected".split(" ");
this.ConservationTable=[];this.DataDescriptions=[];this.ExtraPyMOLScript="";this.ColorProteins=[];this.toJSON=function(){return{DataSetName:this.Name,Layers:this.Layers,Residues:this.Residues,ResidueList:this.ResidueList,rvTextLabels:this.rvTextLabels,rvLineLabels:this.rvLineLabels,BasePairs:this.BasePairs,CustomData:this.CustomData,SpeciesEntry:this.SpeciesEntry,Selections:this.Selections,LastLayer:this.LastLayer,LayerTypes:this.LayerTypes,ConservationTable:this.ConservationTable,DataDescriptions:this.DataDescriptions}};
this.fromJSON=function(b){b=JSON.parse(b);var c=new rvDataSet(a);c.Residues=b.Residues;c.ResidueList=b.ResidueList;c.rvTextLabels=b.rvTextLabels;c.rvLineLabels=b.rvLineLabels;c.BasePairs=b.BasePairs;c.CustomData=b.CustomData;c.SpeciesEntry=b.SpeciesEntry;c.Selections=b.Selections;c.LastLayer=b.LastLayer;c.ConservationTable=b.ConservationTable;c.DataDescriptions=b.DataDescriptions;c.addHighlightLayer("HighlightLayer","HighlightLayer",[],!1,1.176,"highlight");$.each(b.Layers,function(a,b){c.Layers[a]=
c.HighlightLayer.fromJSON(b)});return c};this.addLayers=function(a){this.Layers=a;this.LastLayer=this.Layers.length-1};this.addLayer=function(a,b,c,e,f,h,k){a=new RvLayer(a,b,c,e,f,h,k);this.Layers[this.Layers.length]=a;this.LastLayer=this.Layers.length-1};this.addHighlightLayer=function(a,b,c,e,f,h){this.HighlightLayer=new RvLayer(a,b,c,e,f,h)};this.addResidues=function(a){this.Residues=a;var b=[],c;for(c=0;c<a.length;c++)b[c]=a[c].ChainID+"_"+a[c].resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,
"");this.ResidueList=b;b="";for(c=0;c<a.length;c++)b=b.concat(a[c].resName);this.SequenceList=b};this.addLabels=function(a,b,c){void 0!==a&&(this.rvTextLabels=a);void 0!==b&&(this.rvLineLabels=b);void 0!==c&&(this.rvExtraLabels=c)};this.addBasePairs=function(a){this.BasePairs=a};this.addCustomData=function(a){this.CustomData=a};this.addSpeciesEntry=function(a){this.SpeciesEntry=a;this.SpeciesEntry.Molecule_Names=this.SpeciesEntry.Molecule_Names.split(":");this.SpeciesEntry.Molecule_Names_rProtein=
this.SpeciesEntry.Molecule_Names_rProtein.split(":")};this.addSelection=function(a,b,c){a||(a="Selection_"+(this.Selections.length+1));this.Selections.unshift(new RvSelection(a,b,c))};this.sort=function(){this.Layers.sort(function(a,b){return Number(a.zIndex)-Number(b.zIndex)});$.each(this.Layers,function(a,b){this.updateZIndex(a)})};this.SelectionsSort=function(){this.Selections.sort(function(a,b){return Number(a.zIndex)-Number(b.zIndex)});$.each(this.Selections,function(a,b){this.zIndex=a})};this.clearCanvas=
function(a){0<=$.inArray(a,this.LayerTypes)?$.each(this.Layers,function(b,c){c.Type===a&&c.clearCanvas()}):$.each(this.Layers,function(b,c){c.LayerName===a&&c.clearCanvas()})};this.refreshResiduesExpanded=function(a){0<=$.inArray(a,this.LayerTypes)?$.each(this.Layers,function(b,c){c.Type===a&&k(c)}):$.each(this.Layers,function(b,c){c.LayerName===a&&k(c)})};this.drawLabels=function(a,b){this.clearCanvas(a);0<=$.inArray(a,this.LayerTypes)?$.each(this.Layers,function(e,f){f.Type===a&&c(f,b)}):$.each(this.Layers,
function(e,f){f.LayerName===a&&c(f,b)})};this.clearData=function(a){0<=$.inArray(a,this.LayerTypes)?$.each(this.Layers,function(b,c){c.Type===a&&c.clearData()}):$.each(this.Layers,function(b,c){c.LayerName===a&&c.clearData()})};this.drawResidues=function(a,b,c,e){0<=$.inArray(a,this.LayerTypes)?$.each(this.Layers,function(h,k){k.Type===a&&f(k,b,c,e)}):$.each(this.Layers,function(h,k){k.LayerName===a&&f(k,b,c,e)})};this.drawSelection=function(a,b){0<=$.inArray(a,this.LayerTypes)?$.each(this.Layers,
function(c,f){f.Type===a&&e(f,b)}):$.each(this.Layers,function(c,f){f.LayerName===a&&e(f,b)})};this.drawDataCircles=function(a,b,c,e){0<=$.inArray(a,this.LayerTypes)?$.each(this.Layers,function(f,k){k.Type===a&&h(k,b,c,e)}):$.each(this.Layers,function(f,k){k.LayerName===a&&h(k,b,c,e)})};this.drawBasePairs=function(a,c){0<=$.inArray(a,this.LayerTypes)?$.each(this.Layers,function(e,f){f.Type===a&&b(f,c)}):$.each(this.Layers,function(e,f){f.LayerName===a&&b(f,c)})};this.getLayer=function(a){var b=!1;
$.each(this.Layers,function(c,e){if(e.LayerName===a)return b=e,!1});return b};this.getLayerByType=function(a){$.isArray(a)||(a=[a]);var b=[];$.each(this.Layers,function(c,e){0<=$.inArray(e.Type,a)&&b.push(e)});return 0<b.length?b:!1};this.getSelectedLayer=function(){var a=!1;$.each(this.Layers,function(b,c){if(c.Selected)return a=c,!1});return a};this.getLinkedLayer=function(){var a=!1;$.each(this.Layers,function(b,c){if(c.Linked)return a=c,!1});return a};this.linkLayer=function(a){$.each(this.Layers,
function(b,c){c.Linked=c.LayerName===a?!0:!1})};this.selectLayer=function(a){$.each(this.Layers,function(b,c){c.Selected=c.LayerName===a?!0:!1})};this.isUniqueLayer=function(a){var b=!0;$.each(this.Layers,function(c,e){if(e.LayerName===a)return b=!1});return b};this.deleteLayer=function(a){$.each(this.Layers,function(b,c){if(c.LayerName===a)return c.deleteLayer(),rvDataSets[0].Layers.splice(b,1),!1});$.each(this.Layers,function(b,c){c.LayerName===a&&c.updateZIndex(b)});this.LastLayer=this.Layers.length-
1};this.getSelection=function(a){var b=!1;$.each(this.Selections,function(c,e){if(e.Name===a)return b=e,!1});return b};this.deleteSelection=function(a){$.each(this.Selections,function(b,c){if(c.Name===a)return rvDataSets[0].Selections.splice(b,1),!1})};this.isUniqueSelection=function(a){var b=!0;$.each(this.Selections,function(c,e){if(e.Name===a)return b=!1});return b}}
function rvView(a,k,c){this.x=a;this.y=k;this.scale=c;this.lastX=[];this.lastY=[];this.startX=[];this.startY=[];this.width=[];this.height=[];this.clientWidth=[];this.clientHeight=[];this.slideValue=20;this.zoom=function(a,c){$("#slider").slider("value")+c<=$("#slider").slider("option","max")&$("#slider").slider("value")+c>=$("#slider").slider("option","min")&&(zoom(a.clientX-$("#menu").outerWidth(),a.clientY-$("#topMenu").outerHeight(),Math.pow(1.1,c),this),$("#slider").slider("value",$("#slider").slider("value")+
c),this.slideValue=$("#slider").slider("value")+c)};this.drag=function(a){var c=rvDataSets[0].getSelection($("input:radio[name=selectedRadioS]").filter(":checked").parent().parent().attr("name"));rvDataSets[0].HighlightLayer.CanvasContext.strokeStyle=c.Color;rvDataSets[0].HighlightLayer.CanvasContext.strokeRect(this.startX,this.startY,(a.clientX-$("#menu").outerWidth()-this.x)/this.scale-this.startX,(a.clientY-$("#topMenu").outerHeight()-this.y)/this.scale-this.startY)};this.restore=function(){$("#slider").slider("value",
this.slideValue);rvDataSets[0].drawResidues("residues");rvDataSets[0].drawSelection("selected");rvDataSets[0].refreshResiduesExpanded("circles");rvDataSets[0].drawLabels("labels");rvDataSets[0].drawBasePairs("lines")};this.toJSON=function(){return{x:this.x,y:this.y,scale:this.scale,lastX:this.lastX,lastY:this.lastY,startX:this.startX,startY:this.startY,width:this.width,height:this.height,clientWidth:this.clientWidth,clientHeight:this.clientHeight,slideValue:this.slideValue}};this.fromJSON=function(a){a=
JSON.parse(a);var c=new rvView(a.x,a.y,a.scale);c.lastX=a.lastX;c.lastY=a.lastY;c.startX=a.startX;c.startY=a.startY;c.width=a.width;c.height=a.height;c.clientWidth=a.clientWidth;c.clientHeight=a.clientHeight;c.slideValue=a.slideValue;return c}}
var JmolInfo={addSelectionOptions:!1,color:"#FFFFFF",debug:!1,defaultModel:"",height:"100%",j2sPath:"./jmol/j2s",isSigned:!0,jarFile:"JmolAppletSigned0.jar",jarPath:"./jmol/java",memoryLimit:1024,readyFunction:null,script:null,serverURL:"./jmol/jsmol.php",src:null,use:"Java HTML5",width:"100%"};
function loadSpecies(a,k,c){$.getJSON("getData.php",{FullTable:"DataDescriptions"},function(a){rvDataSets[0].DataDescriptions=a});rvDataSets[0].Name=a;rvDataSets[0].ColorProteins=[];$.each(rvDataSets[0].Layers,function(a,c){c.clearAll()});rvDataSets[0].ConservationTable=[];$(".dataBubble").remove();if("None"!=a)$.getJSON("getData.php",{Residues:a},function(e){var f=rvDataSets[0].getLayerByType("residues");rvDataSets[0].clearData("residues");$.each(e,function(a,b){e[a].color="#000000";e[a].selected=
0;e[a]["font-weight"]="normal";f[0].Data[a]=e[a].Domains_Color});rvDataSets[0].addResidues(e);f[0].DataLabel="Domains";$("[name="+f[0].LayerName+"]").find(".layerContent").find("span[name=DataLabel]").text(f[0].DataLabel);var b=["Domains_Color"],d=$.grep(rvDataSets[0].DataDescriptions,function(a){return a.ColName===b[0]}),d=d[0]?"Domains: "+d[0].Description:"Data Description is missing.";$(".miniLayerName[name="+f[0].LayerName+"]").attr("title",d);$.getJSON("getData.php",{SpeciesTable:a},function(b){rvDataSets[0].addSpeciesEntry(b[0]);
c||clearSelection(!0);initLabels(a);$.getJSON("getData.php",{FullTable:rvDataSets[0].SpeciesEntry.ConservationTable},function(a){rvDataSets[0].ConservationTable=a});$("#TemplateLink").attr("href","./Templates/"+a+"_UserDataTemplate.csv");populateDomainHelixMenu();b=document.getElementById("ProtList");var d=rvDataSets[0].SpeciesEntry.ProteinMenu.split(";");b.options.length=0;rvDataSets[0].SpeciesEntry.SubunitProtChains=[];rvDataSets[0].SpeciesEntry.SubunitProtChains[0]=[];rvDataSets[0].SpeciesEntry.SubunitProtChains[1]=
[];rvDataSets[0].SpeciesEntry.SubunitProtChains[2]=[];if(""!=d[0]){for(var e=0;e<d.length;e++){var k=d[e].split(":"),q=["All_Proteins"],r=$.grep(rvDataSets[0].DataDescriptions,function(a){return a.ColName===q[0]}),r=r[0]?"All_Proteins: "+r[0].Description:"Data Description is missing.";b.options[e]=new Option(k[0],k[1]);rvDataSets[0].SpeciesEntry.SubunitProtChains[0][e]=k[0];rvDataSets[0].SpeciesEntry.SubunitProtChains[1][e]=k[2];rvDataSets[0].SpeciesEntry.SubunitProtChains[2][e]=k[1]}$("#ProteinBubbles").append($('<h3 class="dataBubble ui-helper-reset ui-corner-all ui-state-default ui-corner-bottom" style="text-align:center;padding:0.2em">').text("Protein Contacts").attr("name",
"All_Proteins").attr("title",r))}rvDataSets[0].SpeciesEntry.SubunitProtChains=rvDataSets[0].SpeciesEntry.SubunitProtChains;$("#ProtList").multiselect("refresh");d=rvDataSets[0].SpeciesEntry.AlnMenu.split(";");if(""!=d[0])for(b=0;b<d.length;b++)e=d[b].split(":"),q=e[1].match(/[^\'\\,]+/),r=$.grep(rvDataSets[0].DataDescriptions,function(a){return a.ColName===q[0]}),r=r[0]?e[0]+": "+r[0].Description:"Data Description is missing.",$("#AlnBubbles").append($('<h3 class="dataBubble ui-helper-reset ui-corner-all ui-state-default ui-corner-bottom" style="text-align:center;padding:0.2em">').text(e[0]).attr("name",
e[1]).attr("title",r));d=rvDataSets[0].SpeciesEntry.StructDataMenu.split(";");if(""!=d[0])for(b=0;b<d.length;b++)e=d[b].split(":"),q=e[1].match(/[^\'\\,]+/),r=$.grep(rvDataSets[0].DataDescriptions,function(a){return a.ColName===q[0]}),r=q[0]&&r[0]?e[0]+": "+r[0].Description:'""'==q[0]?"None: This clears circles and makes letters black.":"Data Description is missing.",$("#StructDataBubbles").append($('<h3 class="dataBubble ui-helper-reset ui-corner-all ui-state-default ui-corner-bottom" style="text-align:center;padding:0.2em">').text(e[0]).attr("name",
e[1]).attr("title",r));r=document.getElementById("PrimaryInteractionList");b=rvDataSets[0].SpeciesEntry.InterActionMenu.split(";");r.options.length=0;r.options[0]=new Option("None","clear_lines",!0,!0);r.options[0].setAttribute("selected","selected");if(""!=b[0])for(d=0;d<b.length;d++)e=b[d].split(":"),r.options[d+1]=new Option(e[0],e[1]);$("#PrimaryInteractionList").multiselect("refresh");$("#StructDataDiv").sortable({update:function(a,b){},items:".dataBubble"});$("#AlnDiv").sortable({update:function(a,
b){},items:".dataBubble"});$("#ProtDiv").sortable({update:function(a,b){},items:".dataBubble"});ProcessBubble($("#StructDataBubbles").find(".dataBubble:contains('Domains')"),f[0]);rvDataSets[0].drawLabels("labels");drawNavLine();null!=myJmol&&(Jmol.script(myJmol,"script states/"+rvDataSets[0].SpeciesEntry.Jmol_Script),Jmol.script(myJmol,"display "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1"),updateModel());c&&c.resolve()});k&&k.resolve()});else{rvDataSets[0].addResidues([]);rvDataSets[0].SpeciesEntry=
[];rvDataSets[0].SpeciesEntry.Species_Abr=[];rvDataSets[0].SpeciesEntry.PDB_chains=[];rvDataSets[0].SpeciesEntry.Molecule_Names=[];rvDataSets[0].SpeciesEntry.TextLabels=[];rvDataSets[0].SpeciesEntry.LineLabels=[];rvDataSets[0].SpeciesEntry.SubunitProtChains=[];rvDataSets[0].SpeciesEntry.MapType="None";initLabels(a);var f=document.getElementById("ProtList");f.options.length=0;f.options[0]=new Option("None","clear_data");f=document.getElementById("PrimaryInteractionList");f.options.length=0;f.options[0]=
new Option("None","clear_lines");rvDataSets[0].SpeciesEntry.Jmol_Script="blank_state.spt";null!=myJmol&&Jmol.script(myJmol,"script states/"+rvDataSets[0].SpeciesEntry.Jmol_Script);welcomeScreen();k&&k.resolve()}document.getElementById("ProtList").selectedIndex=0;document.getElementById("PrimaryInteractionList").selectedIndex=0;rvDataSets[0].BasePairs=[]}
function InitLayers(){$("#LayerPanel").prepend($("<div id='tipBar'>").attr({name:"TopLayerBar"}).html("C&nbspV&nbsp&nbsp&nbspS&nbsp&nbsp&nbsp&nbspL&nbsp&nbsp&nbsp&nbspLayerName&nbsp&nbsp"));$("[name=TopLayerBar]").append($('<button id="newLayer" class="toolBarBtn2" title="Create a new layer"></button>'));$("[name=TopLayerBar]").append($('<button id="clearLayer" class="toolBarBtn2" title="Clear the selected layer"></button>'));$("[name=TopLayerBar]").append($('<button id="deleteLayer" class="toolBarBtn2" title="Delete the selected layer"></button>'));
$("#newLayer").button({text:!1,icons:{primary:"ui-icon-document"}});$("#newLayer").click(function(){$("#dialog-addLayer").dialog("open")});$("#clearLayer").button({text:!1,icons:{primary:"ui-icon-cancel"}});$("#clearLayer").click(function(){rvDataSets[0].getSelectedLayer().clearAll();drawNavLine()});$("#deleteLayer").button({text:!1,icons:{primary:"ui-icon-trash"}});$("#deleteLayer").click(function(a){$("#dialog-confirm-delete p").text("The "+rvDataSets[0].getSelectedLayer().LayerName+" layer will be permanently deleted and cannot be recovered.");
$("#dialog-confirm-delete").dialog("open")});$(".toolBarBtn2").css("height",$("#openLayerBtn").css("height"));$("#LayerPanel").sortable({update:function(a,k){$("#LayerPanel .layerContent").each(function(a,f){rvDataSets[0].getLayer($(this).parent().attr("name")).updateZIndex(rvDataSets[0].LastLayer-a)});rvDataSets[0].sort();RefreshLayerMenu()},items:".oneLayerGroup",axis:"y"});$("#LayerPanel").disableSelection();$("#LayerPreferenceDialog").dialog({autoOpen:!1,show:{effect:"blind",duration:300},modal:!0,
height:600,width:400,position:{my:"center",at:"center",of:$("#canvasDiv")},buttons:{Save:function(){var a=changeCurrentLayerName(),k=changeLayerColor();a&&k&&$("#LayerPreferenceDialog").dialog("close")},Cancel:function(){$(this).dialog("close")}},open:function(a){$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}});$("#dialog-addLayer").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{"Create New Layer":function(){var a=
$("#newLayerName").val().match(/[A-z][\w-_:\.]*/);null!==a&&a[0].length===$("#newLayerName").val().length&&16>=$("#newLayerName").val().length?rvDataSets[0].isUniqueLayer($("#newLayerName").val())?(rvDataSets[0].addLayer($("#newLayerName").val(),$("#newLayerName").val(),[],!0,1,"circles",$("#layerColor2").val()),resizeElements(),LayerMenu(rvDataSets[0].getLayer($("#newLayerName").val()),1E3+(rvDataSets[0].LastLayer+1)),$(".oneLayerGroup[name="+$("#newLayerName").val()+"]").find(".selectLayerRadioBtn").prop("checked",
!0),$(".oneLayerGroup[name="+$("#newLayerName").val()+"]").find(".selectLayerRadioBtn").trigger("change"),RefreshLayerMenu(),$.farbtastic("#layerColorPicker2").setColor(colorNameToHex($("#layerColor2").val())),$(this).dialog("close")):$("#dialog-unique-layer-error").dialog("open"):$("#dialog-name-error").dialog("open")},Cancel:function(){$(this).dialog("close")}},open:function(){$("#newLayerName").val("Layer_"+(rvDataSets[0].Layers.length+1));$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility",
"visible")}});$("#newLayerName").button().addClass("ui-textfield").keydown(function(a){13==a.keyCode&&$("#dialog-addLayer").dialog("option","buttons")["Create New Layer"].apply($("#dialog-addLayer"))});$("#layerColor2").button().addClass("ui-textfield").keydown(function(a){13==a.keyCode&&$("#dialog-addLayer").dialog("option","buttons")["Create New Layer"].apply($("#dialog-addLayer"))});$("#layerColor").button().addClass("ui-textfield").keydown(function(a){13==a.keyCode&&changeLayerColor()});$("#layerNameInput").button().addClass("ui-textfield").keydown(function(a){13==
a.keyCode&&changeCurrentLayerName()});$("#MiniLayer").sortable({update:function(a,k){var c=$(k.item[0]).attr("name");if(c===$(".miniLayerName:first").attr("name")){var f=$(".miniLayerName[name="+$(k.item[0]).attr("name")+"]").next().attr("name");$("#LayerPanel").find("[name="+c+"]").insertBefore($("#LayerPanel").find("[name="+f+"]"))}else f=$(".miniLayerName[name="+$(k.item[0]).attr("name")+"]").prev().attr("name"),$("#LayerPanel").find("[name="+c+"]").insertAfter($("#LayerPanel").find("[name="+f+
"]"));$("#LayerPanel .layerContent").each(function(a,c){rvDataSets[0].getLayer($(this).parent().attr("name")).updateZIndex(rvDataSets[0].LastLayer-a)});rvDataSets[0].sort();RefreshLayerMenu()},start:function(a,k){$("#LinkSection").addClass("highlightBorder")},stop:function(a,k){$("#LinkSection").removeClass("highlightBorder")},items:".miniLayerName",axis:"y"});$("#MiniLayer").disableSelection();$("#dialog-confirm-delete").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{"Delete the Layer":function(a){a=
rvDataSets[0].getSelectedLayer();if("residues"!==a.Type){rvDataSets[0].deleteLayer(a.LayerName);$("[name="+a.LayerName+"]").remove();rvDataSets[0].sort();var k=rvDataSets[0].getLayerByType("residues"),c=rvDataSets[0].getLayerByType("circles"),f=rvDataSets[0].getLayerByType("selected");1<=k.length?($(".oneLayerGroup[name='"+k[0].LayerName+"']").find(".selectLayerRadioBtn").prop("checked",!0),$(".oneLayerGroup[name='"+k[0].LayerName+"']").find(".selectLayerRadioBtn").trigger("change")):1<=c.length?
($(".oneLayerGroup[name='"+c[0].LayerName+"']").find(".selectLayerRadioBtn").prop("checked",!0),$(".oneLayerGroup[name='"+c[0].LayerName+"']").find(".selectLayerRadioBtn").trigger("change")):1<=f.length?($(".oneLayerGroup[name='"+f[0].LayerName+"']").find(".selectLayerRadioBtn").prop("checked",!0),$(".oneLayerGroup[name='"+f[0].LayerName+"']").find(".selectLayerRadioBtn").trigger("change")):($(".oneLayerGroup[name='"+rvDataSets[0].Layers[0].LayerName+"']").find(".selectLayerRadioBtn").prop("checked",
!0),$(".oneLayerGroup[name='"+rvDataSets[0].Layers[0].LayerName+"']").find(".selectLayerRadioBtn").trigger("change"));a.Linked&&(1<=k.length?($(".oneLayerGroup[name='"+k[0].LayerName+"']").find(".mappingRadioBtn").prop("checked",!0),$(".oneLayerGroup[name='"+k[0].LayerName+"']").find(".mappingRadioBtn").trigger("change")):1<=c.length?($(".oneLayerGroup[name='"+c[0].LayerName+"']").find(".mappingRadioBtn").prop("checked",!0),$(".oneLayerGroup[name='"+c[0].LayerName+"']").find(".mappingRadioBtn").trigger("change")):
1<=f.length?($(".oneLayerGroup[name='"+f[0].LayerName+"']").find(".mappingRadioBtn").prop("checked",!0),$(".oneLayerGroup[name='"+f[0].LayerName+"']").find(".mappingRadioBtn").trigger("change")):!1==$(".oneLayerGroup[name='"+rvDataSets[0].Layers[0].LayerName+"']").find(".mappingRadioBtn").prop("disabled")&&($(".oneLayerGroup[name='"+rvDataSets[0].Layers[0].LayerName+"']").find(".mappingRadioBtn").prop("checked",!0),$(".oneLayerGroup[name='"+rvDataSets[0].Layers[0].LayerName+"']").find(".mappingRadioBtn").trigger("change")));
RefreshLayerMenu()}else alert("You are not allowed to delete the residues layer");$(this).dialog("close")},Cancel:function(){$(this).dialog("close")}},open:function(a){$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}})}
function changeLayerColor(){var a,k,c;if((a=$("#layerColor").val().match(/#[\dABCDEFabcdef]{6,6}$/))&&7===a[0].length)a=a[0];else{k=colorNameToHex($("#layerColor").val());if(!1===k)return $("#dialog-invalid-color-error").dialog("open"),!1;a=$("#layerColor").val();c=$.farbtastic("#layerColorPicker");c.setColor(k)}$($dblClickedLayer).parent().find(".colorBox").css("background",a);rvDataSets[0].getLayer($dblClickedLayerName).Color=a;drawNavLine();return!0}
function changeCurrentLayerName(){if(""!=$("#layerNameInput").val()&&$("#layerNameInput").val()!==$($dblClickedLayer).parent().attr("name")){var a=$("#layerNameInput").val().match(/[A-z][\w-_:\.]*/);if(null!==a&&a[0].length===$("#layerNameInput").val().length&&16>=$("#layerNameInput").val().length){if(rvDataSets[0].isUniqueLayer($("#layerNameInput").val()))return $("#MiniLayer").find("[name="+$($dblClickedLayer).parent().attr("name")+"]").attr("name",$("#layerNameInput").val()).text($("#layerNameInput").val()),
$($dblClickedLayer).parent().attr("name",$("#layerNameInput").val()),$($dblClickedLayer).html($("#layerNameInput").val()).prepend('<span class="ui-accordion-header-icon ui-icon ui-icon-triangle-1-e"></span>'),a=rvDataSets[0].getLayer($dblClickedLayerName),a.LayerName=$("#layerNameInput").val(),a.Linked&&$("#LinkSection").find(".miniLayerName").attr("name",$("#layerNameInput").val()).text($("#layerNameInput").val()),RefreshLayerMenu(),!0;$("#dialog-unique-layer-error").dialog("open");return!1}$("#dialog-name-error").dialog("open");
return!1}return!0}
function LayerMenu(a,k,c){var f=a.LayerName;$("[name=TopLayerBar]").after($("<div>").addClass("oneLayerGroup").attr({name:f}));var e=$(".oneLayerGroup[name="+f+"]")[0];$(e).append($("<div>").addClass("colorBox"));var h=rvDataSets[0].getLayer(f);c?($(e).find(".colorBox").css("background",c),h.Color=c):$(e).find(".colorBox").css("background",h.Color);$(e).append($("<div>").addClass("checkBoxDIV").css({"float":"left","padding-top":5,"margin-left":5,width:20}).append($("<img class='visibilityCheckImg' value='visible' title='visibility' src='./images/visible.png'/>").css({width:"24px",height:"auto",
"margin-top":3}).click(function(){var a=this.getAttribute("value");"visible"==a?(this.setAttribute("value","invisible"),this.setAttribute("src","images/invisible.png"),a=rvDataSets[0].getLayer(this.parentNode.parentNode.getAttribute("name")),a.setVisibility("hidden")):"invisible"==a&&(this.setAttribute("value","visible"),this.setAttribute("src","images/visible.png"),a=rvDataSets[0].getLayer(this.parentNode.parentNode.getAttribute("name")),a.setVisibility("visible"))})));$(e).append($("<div>").addClass("radioDIV").css({"float":"left",
"padding-top":5,"padding-left":5,width:20}).append($("<input />").attr({type:"radio",name:"selectedRadioL",title:"select layer"}).addClass("selectLayerRadioBtn").change(function(a){rvDataSets[0].selectLayer($(a.currentTarget).parent().parent().attr("name"));drawNavLine()})));$(e).append($("<div>").addClass("radioDIV2").css({"float":"left","padding-top":5,"padding-left":5,width:20}).append($("<input />").attr({type:"radio",name:"mappingRadioL",title:"select which layer to map into 3D",disabled:"disabled"}).addClass("mappingRadioBtn").change(function(a){rvDataSets[0].linkLayer($(a.currentTarget).parent().parent().attr("name"));
a=rvDataSets[0].getLinkedLayer();$("#LinkSection").find(".miniLayerName").attr("name",a.LayerName);$("#LinkSection").find(".miniLayerName").text(a.LayerName);$("#LinkSection").find(".miniLayerName").attr("title",$("#MiniLayer .miniLayerName[name="+a.LayerName+"]").attr("title"));update3Dcolors()})));$(e).append($("<h3>").addClass("layerName").css({"margin-left":83}).append(f).dblclick(function(){$dblClickedLayerName=this.innerHTML.substring(this.innerHTML.lastIndexOf("</span>")+7);$dblClickedLayer=
this;document.getElementById("layerNameInput").value="";document.getElementById("layerNameInput").placeholder=$dblClickedLayerName;$.farbtastic("#layerColor").setColor(rgb2hex($($dblClickedLayer).parent().find(".colorBox").css("background-color")));$("#LayerPreferenceDialog").dialog("open")})).append($("<div>").addClass("layerContent").css({"margin-left":83}));$("#LayerPanel div").first().next().find(".layerContent").first().append($("<div>").html("<b>Layer Type:</b> "+a.Type).append($("<br>")));
switch(a.Type){case "circles":$("#LayerPanel div").first().next().find(".layerContent").first().append($("<div>").html("<b>Loaded Data: </b><span name='DataLabel'>"+a.DataLabel+"</span>").append($("<br>")).append($("<br>")));$("#LayerPanel div").first().next().find(".layerContent").append($('<div id="pr-'+k+'">').text("Draw Circles as:").append($("<br>")));$("#LayerPanel div").first().next().find(".layerContent").first().find("div").last().append($('<input type="radio" name="filled'+k+'" id="pr-'+
k+'-1" value="filled" checked="checked"> <label for="pr-'+k+'-1 ">filled</label>'));$("#LayerPanel div").first().next().find(".layerContent").first().find("div").last().append($('<input type="radio" name="filled'+k+'" id="pr-'+k+'-2" value="unfilled"> <label for="pr-'+k+'-2">unfilled</label>'));a.Filled?$('input[name="filled'+k+'"][value=filled]').prop("checked",!0):$('input[name="filled'+k+'"][value=unfilled]').prop("checked",!0);$('input[name="filled'+k+'"]').change(function(b){"filled"===$(this).attr("value")?
a.Filled=!0:a.Filled=!1;rvDataSets[0].refreshResiduesExpanded($(b.currentTarget).parent().parent().parent().attr("name"))});$("#LayerPanel div").first().next().find(".layerContent").first().append($('<div id="prs-'+k+'">').text("Circle Size:").append($("<br>")));$("#LayerPanel div").first().next().find(".layerContent").first().find("div").last().append($('<input type="radio" name="size'+k+'" id="prs-'+k+'-1" value="regular" checked="checked"> <label for="prs-'+k+'-1 ">regular</label>'));$("#LayerPanel div").first().next().find(".layerContent").first().find("div").last().append($('<input type="radio" name="size'+
k+'" id="prs-'+k+'-2" value="large"> <label for="prs-'+k+'-2">large</label>'));1>=a.ScaleFactor?$('input[name="size'+k+'"][value=regular]').prop("checked",!0):$('input[name="size'+k+'"][value=large]').prop("checked",!0);$("#LayerPanel div").first().next().find(".radioDIV2").find("input").prop("disabled",!1);$('input[name="size'+k+'"]').change(function(b){"regular"===$(this).attr("value")?a.ScaleFactor=1:a.ScaleFactor=1.2;rvDataSets[0].refreshResiduesExpanded($(b.currentTarget).parent().parent().parent().attr("name"))});
$("#MiniOpenLayerBtn").after($('<h3 class="miniLayerName ui-helper-reset ui-corner-all ui-state-default ui-corner-bottom ">').text(f).attr("name",f).droppable({drop:function(a,b){ProcessBubbleDrop(a,b)}}));break;case "lines":$("#LayerPanel div").first().next().find(".layerContent").first().append($("<div>").html("<b>Loaded Data: </b><span name='DataLabel'>"+a.DataLabel+"</span>").append($("<br>")).append($("<br>")));$("#LayerPanel div").first().next().find(".layerContent").append($('<div name="llm">').text("Color lines like:").append($("<br>")));
$("#LayerPanel div").first().next().find(".layerContent").first().find("div").last().append($('<select multiple="multiple"></select>'));$("#LayerPanel div").first().next().find(".layerContent").find("[name='llm']").find("select").multiselect({minWidth:160,multiple:!1,header:"Select a layer",noneSelectedText:"Select an Option",selectedList:1});$("#LayerPanel div").first().next().find(".layerContent").find("[name='llm']").find("select").multiselect().multiselectfilter();var b=$("#LayerPanel div").first().next().find(".layerContent").find("[name='llm']").find("select")[0];
b.options[0]=new Option("All Gray","gray_lines");b.options[0].setAttribute("selected","selected");c=rvDataSets[0].getLayerByType("residues");f=rvDataSets[0].getLayerByType("circles");e=rvDataSets[0].getLayerByType("selected");$.each(c,function(a,c){b.options[b.options.length]=new Option(c.LayerName,c.LayerName)});$.each(f,function(a,c){b.options[b.options.length]=new Option(c.LayerName,c.LayerName)});$.each(e,function(a,c){b.options[b.options.length]=new Option(c.LayerName,c.LayerName)});$("#LayerPanel div").first().next().find(".layerContent").find("[name='llm']").find("select").multiselect("refresh");
$("#LayerPanel div").first().next().find(".layerContent").find("[name='llm']").find("select").change(function(a){var b=$(a.currentTarget).parent().find("select").multiselect("getChecked").map(function(){return this.value});"gray_lines"===b[0]?(rvDataSets[0].drawBasePairs("lines","gray_lines"),$(a.currentTarget).parent().parent().find(":radio").attr("disabled","disabled")):"manual_coloring"===b[0]?(rvDataSets[0].drawBasePairs("lines","manual_coloring"),$(a.currentTarget).parent().parent().find(":radio").attr("disabled",
"disabled")):(rvDataSets[0].drawBasePairs("lines",rvDataSets[0].getLayer(b[0])),$(a.currentTarget).parent().parent().find(":radio").removeAttr("disabled"))});$("#LayerPanel div").first().next().find(".layerContent").first().append($("<br>"));$("#LayerPanel div").first().next().find(".layerContent").first().append($('<div id="llmg-'+k+'">').text("Line Gradient Direction:").append($("<br>")));$("#LayerPanel div").first().next().find(".layerContent").first().find("div").last().append($('<input type="radio" name="color_lines_gradient'+
k+'" id="llmg-'+k+'-1" value="Matched" checked="checked"> <label for="llmg-'+k+'-1 ">Matched</label>'));$("#LayerPanel div").first().next().find(".layerContent").first().find("div").last().append($('<input type="radio" name="color_lines_gradient'+k+'" id="llmg-'+k+'-2" value="Opposite"> <label for="llmg-'+k+'-2">Opposite</label>'));$('[name="color_lines_gradient'+k+'"]').attr("disabled","disabled");$('input[name="color_lines_gradient'+k+'"]').change(function(a){rvDataSets[0].getLayer($('input[name="color_lines_gradient'+
k+'"]:checked').parent().parent().parent().find("h3").text()).ColorGradientMode=$(a.currentTarget).parent().parent().find("input:checked").val();rvDataSets[0].drawBasePairs("lines")});break;case "residues":$("#LayerPanel div").first().next().find(".layerContent").first().append($("<div>").html("<b>Loaded Data: </b><span name='DataLabel'>"+a.DataLabel+"</span>").append($("<br>")).append($("<br>")));$("#LayerPanel div").first().next().find(".selectLayerRadioBtn").attr("checked","checked");rvDataSets[0].selectLayer($("#LayerPanel div").first().next().attr("name"));
rvDataSets[0].linkLayer($("#LayerPanel div").first().next().attr("name"));$("#LayerPanel div").first().next().find(".radioDIV2").find("input").prop("disabled",!1);$("#LayerPanel div").first().next().find(".radioDIV2").find("input").prop("checked",!0);$("#MiniOpenLayerBtn").after($('<h3 class="miniLayerName ui-helper-reset ui-corner-all ui-state-default ui-corner-bottom ">').text(f).attr("name",f).droppable({drop:function(a,b){ProcessBubbleDrop(a,b)}}));break;case "selected":$("#LayerPanel div").first().next().find(".radioDIV2").find("input").prop("disabled",
!1)}$("#LayerPanel div").first().next().find(".visibilityCheckImg").attr("value","visible")}
function RefreshLayerMenu(){$("#LayerPanel").multiAccordion();var a=rvDataSets[0].getLayerByType("lines");$.each(a,function(k,c){var f=$(".oneLayerGroup[name="+a[0].LayerName+"]").find(".layerContent").find("div[name=llm]").find("select")[0];f.options.length=0;f.options[0]=new Option("All Gray","gray_lines");f.options[0].setAttribute("selected","selected");f.options[1]=new Option("Manual Coloring","manual_coloring");var e=rvDataSets[0].getLayerByType(["residues","circles","selected"]);$.each(e.reverse(),
function(a,b){f.options[f.options.length]=new Option(b.LayerName,b.LayerName)});$(".oneLayerGroup[name="+a[0].LayerName+"]").find(".layerContent").find("div[name=llm]").find("select").multiselect("refresh")})}
function ProcessBubbleDrop(a,k){if($(k.draggable[0]).hasClass("dataBubble")){var c=rvDataSets[0].getLayer($(a.target).attr("name"));c.DataLabel=$(k.draggable[0]).text();$("[name="+c.LayerName+"]").find(".layerContent").find("span[name=DataLabel]").text(c.DataLabel);var f=$(k.draggable[0]).attr("name").match(/[^\'\\,]+/),e=$.grep(rvDataSets[0].DataDescriptions,function(a){return a.ColName===f[0]});e[0]?($("#MiniLayer .miniLayerName[name="+c.LayerName+"]").attr("title",c.DataLabel+": "+e[0].Description),
$("#LinkSection .miniLayerName[name="+c.LayerName+"]").attr("title",c.DataLabel+": "+e[0].Description),$(k.draggable[0]).parent().parent().find(".ManualLink").attr("href","./Documentation/"+e[0].HelpLink+".html")):($(".miniLayerName[name="+c.LayerName+"]").attr("title","Data Description is missing."),$(k.draggable[0]).parent().parent().find(".ManualLink").attr("href","./Documentation"));ProcessBubble($(k.draggable[0]),c);$(".oneLayerGroup[name='"+c.LayerName+"']").find(".selectLayerRadioBtn").prop("checked",
!0);$(".oneLayerGroup[name='"+c.LayerName+"']").find(".selectLayerRadioBtn").trigger("change");$(".oneLayerGroup[name='"+c.LayerName+"']").find(".mappingRadioBtn").prop("checked",!0);$(".oneLayerGroup[name='"+c.LayerName+"']").find(".mappingRadioBtn").trigger("change")}}
function InitSelections(){$("#SelectionPanel").prepend($("<div id='topBarS'>").attr({name:"TopSelectionBar"}).html("C&nbspV&nbsp&nbsp&nbspS&nbsp&nbsp&nbsp&nbspL&nbsp&nbspSelectionName&nbsp"));$("[name=TopSelectionBar]").append($('<button id="newSelection" class="toolBarBtn2" title="Create a new selection"></button>'));$("[name=TopSelectionBar]").append($('<button id="clearSelection" class="toolBarBtn2" title="Clear the selected selection"></button>'));$("[name=TopSelectionBar]").append($('<button id="deleteSelection" class="toolBarBtn2" title="Delete the selected selection"></button>'));
$("#newSelection").button({text:!1,icons:{primary:"ui-icon-document"}});$("#newSelection").click(function(){$("#dialog-addSelection").dialog("open")});$("#clearSelection").button({text:!1,icons:{primary:"ui-icon-cancel"}});$("#clearSelection").click(function(){clearSelection()});$("#deleteSelection").button({text:!1,icons:{primary:"ui-icon-trash"}});$("#deleteSelection").click(function(a){$("#dialog-confirm-delete-S p").text("The "+$("input:radio[name=selectedRadioS]").filter(":checked").parent().parent().attr("name")+
" selection will be permanently deleted and cannot be recovered.");$("#dialog-confirm-delete-S").dialog("open")});$("#dialog-addSelection").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{"Create New Selection":function(){$("#newSelectionName").val().match(/[A-z][\w-_:\.]*/)[0].length===$("#newSelectionName").val().length&&16>=$("#newSelectionName").val().length?rvDataSets[0].isUniqueSelection($("#newSelectionName").val())?(rvDataSets[0].addSelection($("#newSelectionName").val(),
[],$("#selectionColor2").val()),SelectionMenu(rvDataSets[0].getSelection($("#newSelectionName").val())),RefreshSelectionMenu(),$(".oneSelectionGroup[name="+$("#newSelectionName").val()+"]").find(".selectSelectionRadioBtn").prop("checked",!0),$(".oneSelectionGroup[name="+$("#newSelectionName").val()+"]").find(".selectSelectionRadioBtn").trigger("change"),$(this).dialog("close")):$("#dialog-unique-selection-error").dialog("open"):$("#dialog-name-error").dialog("open")},Cancel:function(){$(this).dialog("close")}},
open:function(){$("#myJmol_object").css("visibility","hidden");$("#newSelectionName").val("Selection_"+(rvDataSets[0].Selections.length+1))},close:function(){$("#myJmol_object").css("visibility","visible")}});$("#dialog-addSelection p").append("Not done yet.<br><br>Please enter a name for the new Selection.");$("#dialog-confirm-delete-S").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{"Delete the Selection":function(a){rvDataSets[0].deleteSelection($("input:radio[name=selectedRadioS]").filter(":checked").parent().parent().attr("name"));
$("[name="+$("input:radio[name=selectedRadioS]").filter(":checked").parent().parent().attr("name")+"]").remove();$(".oneSelectionGroup[name='"+rvDataSets[0].Selections[0].Name+"']").find(".selectSelectionRadioBtn").prop("checked",!0);$(".oneSelectionGroup[name='"+rvDataSets[0].Selections[0].Name+"']").find(".selectSelectionRadioBtn").trigger("change");rvDataSets[0].drawSelection("selected");$(this).dialog("close")},Cancel:function(){$(this).dialog("close")}},open:function(a){$("#myJmol_object").css("visibility",
"hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}});$("#newSelectionName").button().addClass("ui-textfield").keydown(function(a){13==a.keyCode&&$("#dialog-addSelection").dialog("option","buttons")["Create New Selection"].apply($("#dialog-addSelection"))});$("#selectionNameInput").button().addClass("ui-textfield").keydown(function(a){13==a.keyCode&&changeCurrentSelectionName()});$("#selectionColorPicker").farbtastic("#selectionColor");$("#selectionColorPicker2").farbtastic("#selectionColor2");
$("#SelectionPanel").multiAccordion();$("#SelectionPanel").sortable({update:function(a,k){$("#SelectionPanel .selectionContent").each(function(a,f){var e=rvDataSets[0].getSelection($(this).parent().attr("name"));e.ZIndex=rvDataSets[0].Selections.length-a;rvDataSets[0].drawSelection("selected");console.log($(this).parent().attr("name")+": "+e.ZIndex)});rvDataSets[0].SelectionsSort()},items:".oneSelectionGroup",axis:"y"});$("#SelectionPanel").disableSelection();$("#SelectionPreferenceDialog").dialog({autoOpen:!1,
show:{effect:"blind",duration:300},modal:!0,height:600,width:400,position:{my:"center",at:"center",of:$("#canvasDiv")},open:function(a){$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}});$("#openSelectionBtn").click(function(){$("#PanelTabs").tabs("option","active",1);$("#LayerDialog").dialog("open");return!1});$("#openSelectionBtn").button({text:!1,icons:{primary:"ui-icon-tag"}});$(".toolBarBtn2").css("height",$("#openLayerBtn").css("height"))}
function SelectionMenu(a,k,c){k=a.Name;$("[name=TopSelectionBar]").after($("<div>").addClass("oneSelectionGroup").attr({name:k}));var f=$(".oneSelectionGroup[name="+k+"]")[0];$(f).append($("<div>").addClass("colorBox"));c?($(f).find(".colorBox").css("background",c),a.Color=c):$(f).find(".colorBox").css("background",a.Color);$(f).append($("<div>").addClass("checkBoxDIV-S").css({"float":"left","padding-top":5,"margin-left":5,width:20}).append($("<img class='visibilityCheckImg' value='visible' title='visibility' src='./images/visible.png'/>").css({width:"24px",
height:"auto","margin-top":3}).click(function(){var a=this.getAttribute("value");"visible"==a?(this.setAttribute("value","invisible"),this.setAttribute("src","images/invisible.png"),rvDataSets[0].drawSelection("selected")):"invisible"==a&&(this.setAttribute("value","visible"),this.setAttribute("src","images/visible.png"),rvDataSets[0].drawSelection("selected"))})));$(f).append($("<div>").addClass("radioDIV").css({"float":"left","padding-top":5,"padding-left":5,width:20}).append($("<input />").attr({type:"radio",
name:"selectedRadioS",title:"select Selection"}).addClass("selectSelectionRadioBtn").change(function(a){var c=$(a.currentTarget).parent().parent().attr("name");$.each(rvDataSets[0].Selections,function(a,d){d.Selected=d.Name===c?!0:!1})})));$(f).append($("<div>").addClass("radioDIV2").css({"float":"left","padding-top":5,"padding-left":5,width:20}).append($("<input />").attr({type:"radio",name:"mappingRadioS",title:"select which selection to map into 3D",disabled:"disabled"}).addClass("mappingRadioBtn").change(function(a){})));
$(f).append($("<h3>").addClass("selectionName").css({"margin-left":83}).append(k).dblclick(function(){$("#SelectionPreferenceDialog").dialog("open");$dblClickedSelectionName=this.innerHTML.substring(this.innerHTML.lastIndexOf("</span>")+7);$dblClickedSelection=this;document.getElementById("selectionNameInput").value="";document.getElementById("selectionNameInput").placeholder=$dblClickedSelectionName;$.farbtastic("#selectionColor").setColor(rgb2hex($($dblClickedSelection).parent().find(".colorBox").css("background-color")))})).append($("<div>").addClass("selectionContent").css({"margin-left":83}));
$("#SelectionPanel div").first().next().find(".selectionContent").first().append($('<div name="selectDiv">'));$("#SelectionPanel div").first().next().find(".selectionContent").append($("<div>").text("Auto Draw Circles:").append($("<br>")));$("#SelectionPanel div").first().next().find(".selectionContent").first().find("div").last().append($('<label><input type="radio" name="autodraw" value="on" checked="checked">On</label>'));$("#SelectionPanel div").first().next().find(".selectionContent").first().find("div").last().append($('<label><input type="radio" name="autodraw" value="off">Off</label>'));
$("#SelectionPanel div").first().next().find(".visibilityCheckImg").attr("value","visible")}function RefreshSelectionMenu(){$("#SelectionPanel").multiAccordion()}function changeSelectionColor(){$($dblClickedSelection).parent().find(".colorBox").css("background",$("#selectionColor").val());rvDataSets[0].getSelection($dblClickedSelectionName).Color=$("#selectionColor").val();rvDataSets[0].drawSelection("selected")}
function changeCurrentSelectionName(){$("#selectionNameInput").val()!==$($dblClickedSelection).parent().attr("name")&&($("#selectionNameInput").val().match(/[A-z][\w-_:\.]*/)[0].length===$("#selectionNameInput").val().length&&16>=$("#selectionNameInput").val().length?rvDataSets[0].isUniqueSelection($("#selectionNameInput").val())?($($dblClickedSelection).parent().attr("name",$("#selectionNameInput").val()),$($dblClickedSelection).html($("#selectionNameInput").val()).prepend('<span class="ui-accordion-header-icon ui-icon ui-icon-triangle-1-e"></span>'),
rvDataSets[0].getSelection($dblClickedSelectionName).Name=$("#selectionNameInput").val(),RefreshSelectionMenu(),$(this).dialog("close")):$("#dialog-unique-selection-error").dialog("open"):$("#dialog-name-error").dialog("open"))}
function initLabels(a){rvDataSets[0].addLabels([],[]);"None"!=a?$.getJSON("getData.php",{TextLabels:rvDataSets[0].SpeciesEntry.TextLabels},function(a){$.getJSON("getData.php",{LineLabels:rvDataSets[0].SpeciesEntry.LineLabels},function(c){rvDataSets[0].clearCanvas("labels");rvDataSets[0].addLabels(a,c);rvDataSets[0].drawLabels("labels")})}):(rvDataSets[0].clearCanvas("labels"),rvDataSets[0].addLabels([],[]))}
function zoom(a,k,c,f){void 0==f&&(f=rvViews[0]);f.x=(f.x-a)*c+a;f.y=(f.y-k)*c+k;f.scale*=c;rvDataSets[0].drawResidues("residues");rvDataSets[0].drawSelection("selected");rvDataSets[0].refreshResiduesExpanded("circles");rvDataSets[0].drawLabels("labels");rvDataSets[0].drawBasePairs("lines")}
function pan(a,k){rvViews[0].x+=a;rvViews[0].y+=k;rvDataSets[0].drawResidues("residues");rvDataSets[0].drawSelection("selected");rvDataSets[0].refreshResiduesExpanded("circles");rvDataSets[0].drawLabels("labels");rvDataSets[0].drawBasePairs("lines")}
function resizeElements(a){var k=$(window).width(),c=$(window).height();$(".toolBarBtn").css("height",.04*c);$(".toolBarBtn").css("width",.04*c);$("#toolBar").css("width",1.1*$(".toolBarBtn").first().outerHeight()+4);var f=$("#toolBar").outerWidth();$("#toolBar").css("left",k-f);$("#menu").css("height",.9*c);$("#menu").css("width",.16*k);var e=$("#menu").outerWidth();$("#topMenu").css("left",e);$("#topMenu").css("top",0);if($('input[name="nl"][value=on]').is(":checked")){$("#topMenu").show();$("#topMenu").outerHeight(TopDivide*
c);$("#topMenu").css("width",k-e-f);var h=$("#topMenu").outerHeight()}else $("#topMenu").hide(),$("#topMenu").outerHeight(0),$("#topMenu").css("width",0);var h=$("#topMenu").outerHeight(),b=$('input[name="jp"][value=on]').is(":checked")?(k-e-f)*PanelDivide:k-e-f,k=k-e-f-b,f=c-h;$("#SiteInfo").css("width",e);$("#ExportData").css("width",e);$("#MainMenu").css("width",.65*e);$("#MainMenu").css("height",.9*c-parseFloat($("#SiteInfo").css("height"))-parseFloat($("#ExportData").css("height")));$("#MainMenu").css("top",
parseFloat($("#SiteInfo").css("height")));$("#LinkSection").css("width",.35*e);$("#LinkSection").css("height",parseFloat($("#LinkSection .ui-widget-header3").css("height"))+parseFloat($(".miniLayerName").first().css("height"))+13);$("#LinkSection").css("top",.9*c-parseFloat($("#ExportData").css("height"))-parseFloat($("#LinkSection").css("height")));$("#MiniLayer").css("width",.35*e);$("#MiniLayer").css("height",.9*c-parseFloat($("#SiteInfo").css("height"))-parseFloat($("#ExportData").css("height"))-
parseFloat($("#LinkSection").css("height")));$("#MiniLayer").css("top",parseFloat($("#SiteInfo").css("height")));$("#SideBarAccordian").accordion("refresh");$("#canvasDiv").css("height",f);$("#canvasDiv").css("width",b);$("#canvasDiv").css("left",e-1);$("#canvasDiv").css("top",h-1);$("canvas").attr({width:b-2,height:f-2});$("canvas").css("top",0);$("canvas").css("left",0);$("#navigator").css("left",e);$("#navigator").css("top",h+parseFloat($("#canvaslabel").css("height")));$("#jmolDiv").css("height",
f);$("#jmolDiv").css("width",k+1);$("#jmolDiv").css("left",e+parseFloat($("#canvasDiv").css("width"))-1);$("#jmolDiv").css("top",h-1);$("#LayerDialog").dialog("option","height",f-2);$("#LayerDialog").dialog("widget").position({my:"right top",at:"right top",of:$("#canvasDiv")});$("#ColorDialog").dialog("option","height",.75*f-2);$("#ColorDialog").dialog("widget").position({my:"right top",at:"right top",of:$("#canvasDiv")});$("#LogoDiv").css("width",e);$("#LogoDiv").css("height",.1*c);$("#LogoDiv").css("top",
$("#menu").css("height"));rvViews[0].width=rvDataSets[0].HighlightLayer.Canvas.width;rvViews[0].height=rvDataSets[0].HighlightLayer.Canvas.height;rvViews[0].clientWidth=rvDataSets[0].HighlightLayer.Canvas.clientWidth;rvViews[0].clientHeight=rvDataSets[0].HighlightLayer.Canvas.clientHeight;!0!==a&&(rvDataSets[0].drawResidues("residues"),rvDataSets[0].drawSelection("selected"),rvDataSets[0].refreshResiduesExpanded("circles"),rvDataSets[0].drawLabels("labels"),rvDataSets[0].drawBasePairs("lines"));drawNavLine()}
function resetView(){rvViews[0].x=20;rvViews[0].y=20;rvViews[0].scale=1.2;rvDataSets[0].drawResidues("residues");rvDataSets[0].drawSelection("selected");rvDataSets[0].refreshResiduesExpanded("circles");rvDataSets[0].drawLabels("labels");rvDataSets[0].drawBasePairs("lines");$("#slider").slider("value",20)}function dragHandle(a){pan(a.clientX-rvViews[0].lastX,a.clientY-rvViews[0].lastY);rvViews[0].lastX=a.clientX;rvViews[0].lastY=a.clientY}
function getSelectedLine(a){var k=(a.clientX-rvViews[0].x-$("#menu").width())/rvViews[0].scale;a=(a.clientY-rvViews[0].y-$("#topMenu").height())/rvViews[0].scale;var c=$('input[name="za"][value=on]').is(":checked");if(void 0!=rvDataSets[0].BasePairs)for(var f=0;f<rvDataSets[0].BasePairs.length;f++){var e=rvDataSets[0].BasePairs[f].resIndex1,h=rvDataSets[0].BasePairs[f].resIndex2,b=Math.sqrt((k-rvDataSets[0].Residues[e].X)*(k-rvDataSets[0].Residues[e].X)+(a-rvDataSets[0].Residues[e].Y)*(a-rvDataSets[0].Residues[e].Y)),
d=Math.sqrt((k-rvDataSets[0].Residues[h].X)*(k-rvDataSets[0].Residues[h].X)+(a-rvDataSets[0].Residues[h].Y)*(a-rvDataSets[0].Residues[h].Y)),g=Math.sqrt((rvDataSets[0].Residues[e].X-rvDataSets[0].Residues[h].X)*(rvDataSets[0].Residues[e].X-rvDataSets[0].Residues[h].X)+(rvDataSets[0].Residues[e].Y-rvDataSets[0].Residues[h].Y)*(rvDataSets[0].Residues[e].Y-rvDataSets[0].Residues[h].Y));if(c){g=Math.sqrt((rvDataSets[0].Residues[e].X-rvDataSets[0].Residues[h].X)*(rvDataSets[0].Residues[e].X-rvDataSets[0].Residues[h].X)+
(rvDataSets[0].Residues[e].Y-rvDataSets[0].Residues[h].Y)*(rvDataSets[0].Residues[e].Y-rvDataSets[0].Residues[h].Y));if(150-23*rvViews[0].scale>g)continue;if((0>rvDataSets[0].Residues[e].X*rvViews[0].scale+rvViews[0].x||rvDataSets[0].Residues[e].X*rvViews[0].scale+rvViews[0].x>rvViews[0].clientWidth||0>rvDataSets[0].Residues[e].Y*rvViews[0].scale+rvViews[0].y||rvDataSets[0].Residues[e].Y*rvViews[0].scale+rvViews[0].y>rvViews[0].clientHeight)&&(0>rvDataSets[0].Residues[h].X*rvViews[0].scale+rvViews[0].x||
rvDataSets[0].Residues[h].X*rvViews[0].scale+rvViews[0].x>rvViews[0].clientWidth||0>rvDataSets[0].Residues[h].Y*rvViews[0].scale+rvViews[0].y||rvDataSets[0].Residues[h].Y*rvViews[0].scale+rvViews[0].y>rvViews[0].clientHeight))continue}if(.03>b+d-g)return f}return-1}
function getSelected(a){var k=(a.clientX-rvViews[0].x-$("#menu").width())/rvViews[0].scale;a=(a.clientY-rvViews[0].y-$("#topMenu").height())/rvViews[0].scale;if(void 0!=rvDataSets[0].Residues)for(var c=0;c<rvDataSets[0].Residues.length;c++){var f=rvDataSets[0].Residues[c];if(2>(k>f.X?k-f.X:f.X-k)+(a>f.Y?a-f.Y:f.Y-a))return c}return-1}
function expandSelection(a,k){k||(k="Main");for(var c=rvDataSets[0].getSelection(k),f=0;f<a.length;f++){var e=a[f];if(!e)break;var h=e.split(":");if(1<h.length){var b=h[1].indexOf("-");if(-1!=b){var d=rvDataSets[0].SpeciesEntry.PDB_chains[rvDataSets[0].SpeciesEntry.Molecule_Names.indexOf(h[0])];if(d&&(e=d+"_"+h[1].substring(1,b),h=d+"_"+h[1].substring(b+1,h[1].length-1),e&&h))for(e=rvDataSets[0].ResidueList.indexOf(e),h=rvDataSets[0].ResidueList.indexOf(h);e<=h;e++)c.Residues.push(rvDataSets[0].Residues[e])}else if(d=
rvDataSets[0].SpeciesEntry.PDB_chains[rvDataSets[0].SpeciesEntry.Molecule_Names.indexOf(h[0])])e=d+"_"+h[1],e=rvDataSets[0].ResidueList.indexOf(e),0<=e&&c.Residues.push(rvDataSets[0].Residues[e]);else return d=rvDataSets[0].SpeciesEntry.PDB_chains_rProtein[rvDataSets[0].SpeciesEntry.Molecule_Names_rProtein.indexOf(h[0])],e=d+"_"+h[1],c.Residues_rProtein.push(e),e}else if(""!=h[0])if(-1<h[0].search(/\d/))if(b=h[0].indexOf("-"),-1!=b){if(d=rvDataSets[0].SpeciesEntry.PDB_chains[0],e=d+"_"+h[0].substring(0,
b),h=d+"_"+h[0].substring(b+1,h[0].length),e&&h)for(e=rvDataSets[0].ResidueList.indexOf(e),h=rvDataSets[0].ResidueList.indexOf(h);e<=h;e++)c=rvDataSets[0].getSelection(k),c.Residues.push(rvDataSets[0].Residues[e])}else d=rvDataSets[0].SpeciesEntry.PDB_chains[0],e=d+"_"+h[0],e=rvDataSets[0].ResidueList.indexOf(e),0<=e&&(c=rvDataSets[0].getSelection(k),c.Residues.push(rvDataSets[0].Residues[e]));else for(b=new RegExp(h[0],"g");null!=(match=b.exec(rvDataSets[0].SequenceList));)for(e=match.index,h=match.index+
match[0].length-1;e<=h;e++)c=rvDataSets[0].getSelection(k),c.Residues.push(rvDataSets[0].Residues[e])}}function commandSelect(a,k){a||(a=document.getElementById("commandline").value);k||(k=$("input:radio[name=selectedRadioS]").filter(":checked").parent().parent().attr("name"));a=a.split(";");expandSelection(a,k);updateSelectionDiv(k);rvDataSets[0].drawResidues("residues");rvDataSets[0].drawSelection("selected");rvDataSets[0].drawBasePairs("lines");drawNavLine()}
function selectResidue(a){var k=rvDataSets[0].getSelection($("input:radio[name=selectedRadioS]").filter(":checked").parent().parent().attr("name"));if(drag){var c=(a.clientX-$("#menu").width()-rvViews[0].x)/rvViews[0].scale,f=(a.clientY-$("#topMenu").height()-rvViews[0].y)/rvViews[0].scale;if(void 0!=rvDataSets[0].Residues){for(var e=0;e<rvDataSets[0].Residues.length;e++)rvViews[0].startX<=rvDataSets[0].Residues[e].X&&rvDataSets[0].Residues[e].X<=c&&rvViews[0].startY<=rvDataSets[0].Residues[e].Y&&
rvDataSets[0].Residues[e].Y<=f&&k.Residues.push(rvDataSets[0].Residues[e]),rvViews[0].startX>=rvDataSets[0].Residues[e].X&&rvDataSets[0].Residues[e].X>=c&&rvViews[0].startY<=rvDataSets[0].Residues[e].Y&&rvDataSets[0].Residues[e].Y<=f&&k.Residues.push(rvDataSets[0].Residues[e]),rvViews[0].startX<=rvDataSets[0].Residues[e].X&&rvDataSets[0].Residues[e].X<=c&&rvViews[0].startY>=rvDataSets[0].Residues[e].Y&&rvDataSets[0].Residues[e].Y>=f&&k.Residues.push(rvDataSets[0].Residues[e]),rvViews[0].startX>=rvDataSets[0].Residues[e].X&&
rvDataSets[0].Residues[e].X>=c&&rvViews[0].startY>=rvDataSets[0].Residues[e].Y&&rvDataSets[0].Residues[e].Y>=f&&k.Residues.push(rvDataSets[0].Residues[e]);a=getSelected(a);if(-1!=a){var h=rvDataSets[0].Residues[a],b=$.grep(k.Residues,function(a){return a.map_Index==h.map_Index});b[0]?k.Residues=$.grep(k.Residues,function(a){return a.map_Index!==b[0].map_Index}):k.Residues.push(h)}rvDataSets[0].drawResidues("residues");rvDataSets[0].drawSelection("selected");rvDataSets[0].drawBasePairs("lines");updateSelectionDiv(k.Name);
drawNavLine()}drag=!1}$("#canvasDiv").off("mouseup",selectResidue)}function updateSelectionDiv(a){a||(a="Main");for(var k="",c=rvDataSets[0].getSelection(a),f=0;f<c.Residues.length;f++)res=c.Residues[f],k=k+rvDataSets[0].SpeciesEntry.Molecule_Names[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(res.ChainID)]+":"+res.resNum.replace(/[^:]*:/g,"")+"; ";$("[name="+a+"]").find(".selectionContent").find("[name=selectDiv]").text(k)}
function clearSelection(a){a?$.each(rvDataSets[0].Selections,function(a,c){c.Residues=[];updateSelectionDiv(c.Name)}):(a=rvDataSets[0].getSelection($("input:radio[name=selectedRadioS]").filter(":checked").parent().parent().attr("name")),a.Residues=[],updateSelectionDiv(a.Name),updateModel());rvDataSets[0].drawResidues("residues");rvDataSets[0].drawSelection("selected");rvDataSets[0].drawBasePairs("lines");drawNavLine()}
function selectionBox(a){rvViews[0].startX=(a.clientX-rvViews[0].x-$("#menu").width())/rvViews[0].scale;rvViews[0].startY=(a.clientY-rvViews[0].y-$("#topMenu").height())/rvViews[0].scale;drag=!0}function clearLineSelection(a){}
function colorResidue(a){a=getSelected(a);if(0<=a){var k=rvDataSets[0].getSelectedLayer(),c=colorNameToHex($("#MainColor").val());k.dataLayerColors[a]=c;switch(k.Type){case "residues":rvDataSets[0].Residues[a].color=c;rvDataSets[0].drawResidues("residues");break;case "circles":rvDataSets[0].refreshResiduesExpanded(k.LayerName)}update3Dcolors()}}
function colorLine(a){a=getSelectedLine(a);if(0<=a){var k=rvDataSets[0].getLayerByType("lines"),c=colorNameToHex($("#LineColor").val()),f=k[0].Data[a].resIndex1,e=k[0].Data[a].resIndex2,f=rvDataSets[0].HighlightLayer.CanvasContext.createLinearGradient(rvDataSets[0].Residues[f].X,rvDataSets[0].Residues[f].Y,rvDataSets[0].Residues[e].X,rvDataSets[0].Residues[e].Y);f.addColorStop(0,"rgba("+h2d(c.slice(1,3))+","+h2d(c.slice(3,5))+","+h2d(c.slice(5))+","+k[0].Data[a].opacity+")");f.addColorStop(1,"rgba("+
h2d(c.slice(1,3))+","+h2d(c.slice(3,5))+","+h2d(c.slice(5))+","+k[0].Data[a].opacity+")");k[0].Data[a].color=f;rvDataSets[0].BasePairs[a].color=c;rvDataSets[0].BasePairs[a].color_hex=c;rvDataSets[0].drawBasePairs("lines")}}
function clearColor(a){var k=rvDataSets[0].getLayerByType("residues");1>arguments.length&&(a=!0);for(var c=0;c<rvDataSets[0].Residues.length;c++)rvDataSets[0].Residues[c].color="#000000",k[0].dataLayerColors[c]=void 0,k[0].Data[c]=void 0;rvDataSets[0].drawResidues("residues");a&&(update3Dcolors(),updateModel())}
function colorSelection(){for(var a=rvDataSets[0].getSelectedLayer(),k=colorNameToHex($("#MainColor").val()),c=rvDataSets[0].getSelection($("input:radio[name=selectedRadioS]").filter(":checked").parent().parent().attr("name")),f=0;f<c.Residues.length;f++)a.dataLayerColors[c.Residues[f].map_Index-1]=k;rvDataSets[0].drawDataCircles(a.LayerName,void 0,void 0,!0);rvDataSets[0].drawResidues(a.LayerName,void 0,void 0,!0);update3Dcolors()}
function update3Dcolors(){if(!$('input[name="jp"][value=off]').is(":checked")){var a="set hideNotSelected false;",k,c,f,e,h;if(void 0!=rvDataSets[0].Residues[0]){k=rvDataSets[0].Residues[0].resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"");f=rvDataSets[0].Residues[0].ChainID;var b=rvDataSets[0].getLinkedLayer();(e=colorNameToHex(b.dataLayerColors[0]))&&"#000000"!==e||(e="#858585");for(var d=1;d<rvDataSets[0].Residues.length;d++){var g=rvDataSets[0].Residues[d];h=rvDataSets[0].Residues[d-1];var l=
b.dataLayerColors[d-1];l||(l="#858585");if(""!=g.ChainID)if(""==f)f=g.ChainID,(e=colorNameToHex(b.dataLayerColors[d]))&&"#000000"!==e||(e="#858585"),k=g.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"");else if(null==g.ChainID)f=g.ChainID,(e=colorNameToHex(b.dataLayerColors[d]))&&"#000000"!==e||(e="#858585"),k=g.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"");else if(c=b.dataLayerColors[d]?colorNameToHex(b.dataLayerColors[d]):"#858585",c!=colorNameToHex(l)||f!=g.ChainID||d==rvDataSets[0].Residues.length-
1)c=h.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,""),h=c.match(/[A-z]/g),void 0!=h&&(c=c.replace(h,"^"+h)),-1==colorNameToHex(l).indexOf("#")?(a+="select "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and "+k+" - "+c+":"+f+"; color Cartoon opaque [x"+e+"]; ",a+="select "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and "+k+" - "+c+":"+f+"; color opaque [x"+e+"]; "):(a+="select "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and "+k+" - "+c+":"+f+"; color Cartoon opaque ["+e.replace("#",
"x")+"]; ",a+="select "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and "+k+" - "+c+":"+f+"; color opaque ["+e.replace("#","x")+"]; "),k=g.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,""),e=k.match(/[A-z]/g),void 0!=e&&(k=k.replace(e,"^"+e)),""!=g.ChainID&&(f=g.ChainID),(e=colorNameToHex(b.dataLayerColors[d]))&&"#000000"!==e||(e="#858585")}-1==colorNameToHex(l).indexOf("#")?(a+="select "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and "+k+" - "+g.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,
"")+":"+f+"; color Cartoon opaque [x"+e+"]; ",a+="select "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and "+k+" - "+g.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+":"+f+"; color opaque [x"+e+"]; "):(a+="select "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and "+k+" - "+g.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+":"+f+"; color Cartoon opaque ["+e.replace("#","x")+"]; ",a+="select "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and "+k+" - "+g.resNum.replace(/[^:]*:/g,
"").replace(/[^:]*:/g,"")+":"+f+"; color opaque ["+e.replace("#","x")+"]; ");Jmol.script(myJmol,a)}}}
function colorProcess(a,k,c,f,e){var h=[],b=[],d=[];a.IncludeData?(b=a.IncludeData,a.ExtraData&&(b=b.concat(a.ExtraData)),d=a.IncludeData):d=b=a;$.each(b,function(a,b){var c=parseFloat(b);isNaN(c)||h.push(c)});$.each(d,function(a,b){var c=parseFloat(b);isNaN(c)?d[a]=void 0:d[a]=c});var b=Math.min.apply(Math,h),g=Math.max.apply(Math,h)-b;if(3>arguments.length||void 0==c)c=rvDataSets[0].getSelectedLayer();if(c){if("1"==k)var l=d;else for(var l=[],m=0;m<d.length;m++)l[m]=Math.round((d[m]-b)/g*(f.length-
1));if(!e){c.Data=d;switch(c.Type){case "circles":rvDataSets[0].drawDataCircles(c.LayerName,l,f);break;case "residues":rvDataSets[0].drawResidues(c.LayerName,l,f);break;default:$("#dialog-layer-type-error").dialog("open")}update3Dcolors()}return l}$("#dialog-selection-warning p").text("Please select a valid layer and try again.");$("#dialog-selection-warning").dialog("open")}
function colorMappingLoop(a,k,c,f){var e=4<=arguments.length?f:RainBowColors;if(a){"circles"===a.Type&&(a.clearCanvas(),a.clearData());"residues"===a.Type&&(clearColor(!1),a.clearData());a.Data=[];for(var h=0;h<rvDataSets[0].Residues.length;h++)a.Data[h]=" "}var h=$("#PrimaryInteractionList").multiselect("getChecked").map(function(){return this.value}).get()[0],b=h.indexOf("_NPN");0<=b&&(rvDataSets[0].BasePairs=[],rvDataSets[0].clearCanvas("lines"));var d="display (selected), ("+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rProtein+
".1 and (",g="set hideNotSelected false;";$("#ProtList").multiselect("widget").find(".ui-multiselect-checkboxes").find("span").css("color","black");for(var l=0;l<k.length;l++){var m=1<k.length?Math.round(l/(k.length-1)*(e.length-1)):0,m=0>m||m>=e.length?"#000000":e[m],v=$.grep($("#ProtList").multiselect("getChecked"),function(a){return a.value==k[l]});$(v).next().css("color",m);if(a){for(var v=[],q=0;q<rvDataSets[0].Residues.length;q++)rvDataSets[0].Residues[q][k[l]]&&0<rvDataSets[0].Residues[q][k[l]]&&
(v[q]=rvDataSets[0].Residues[q][k[l]],a.Data[q]=a.Data[q]+c[l]+" ");rvDataSets[0].drawDataCircles(a.LayerName,v,["#000000",m],!0);rvDataSets[0].drawResidues(a.LayerName,v,["#000000",m],!0)}d=0===l?d+(":"+rvDataSets[0].SpeciesEntry.SubunitProtChains[1][rvDataSets[0].SpeciesEntry.SubunitProtChains[2].indexOf(k[l])]):d+(" or :"+rvDataSets[0].SpeciesEntry.SubunitProtChains[1][rvDataSets[0].SpeciesEntry.SubunitProtChains[2].indexOf(k[l])]);g+="select ("+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rProtein+
".1 and :"+rvDataSets[0].SpeciesEntry.SubunitProtChains[1][rvDataSets[0].SpeciesEntry.SubunitProtChains[2].indexOf(k[l])]+"); color Cartoon opaque ["+m.replace("#","x")+"];spacefill off;";0<b&&appendBasePairs(h,k[l])}drawNavLine();d+="));";$('input[name="jp"][value=on]').is(":checked")&&(update3Dcolors(),refreshModel(),Jmol.script(myJmol,d),Jmol.script(myJmol,g))}
function update3DProteins(a,k){if(!$('input[name="jp"][value=off]').is(":checked")){for(var c=2<=arguments.length?k:RainBowColors,f="set hideNotSelected false;",e=0;e<a.length;e++)var h=1<a.length?Math.round(e/(a.length-1)*(c.length-1)):0,h=0>h||h>=c.length?"#000000":c[h],f=f+("select ("+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rProtein+".1 and :"+rvDataSets[0].SpeciesEntry.SubunitProtChains[1][rvDataSets[0].SpeciesEntry.SubunitProtChains[2].indexOf(a[e])]+"); color Cartoon opaque ["+h.replace("#",
"x")+"];");Jmol.script(myJmol,f)}}
function colorMapping(a,k,c,f,e,h){if(2==arguments.length||"42"==c)var b=$("#"+k).val();3<=arguments.length&&"42"!=c&&(b=c);var d=4<=arguments.length?f:RainBowColors;void 0==e&&(e=[!1]);if(a)switch(a.Type){case "circles":for(var g=[],l=0;l<rvDataSets[0].Residues.length;l++)g[l]=rvDataSets[0].Residues[l][b[0]];colorProcess(g,e[0],a,d);break;case "residues":g=[];for(l=0;l<rvDataSets[0].Residues.length;l++)g[l]=rvDataSets[0].Residues[l][b[0]];colorProcess(g,e[0],a,d);break;default:$("#dialog-layer-type-error").dialog("open")}else $("#dialog-selection-warning p").text("Please select a valid layer and try again."),
$("#dialog-selection-warning").dialog("open")}function colorNameToHex(a){var k=SupportedColors;if(a){var c=a.match(/#[\dABCDEFabcdef]{6,6}$/);if(null!=c&&7===c[0].length)return c[0];if("undefined"!=typeof k[a.toLowerCase().replace(/\s+/g,"")])return k[a.toLowerCase().replace(/\s+/g,"")];console.log('Unrecognized color "'+a+'"');return"#868686"}return!1}
function appendBasePairs(a,k){0>a.indexOf("_NPN")?$.getJSON("getData.php",{BasePairs:a},function(a){rvDataSets[0].BasePairs=rvDataSets[0].BasePairs.concat(a);FullBasePairSet=rvDataSets[0].BasePairs;rvDataSets[0].drawBasePairs("lines")}):$.getJSON("getData.php",{ProtBasePairs:a,ProtChain:k},function(a){rvDataSets[0].BasePairs=rvDataSets[0].BasePairs.concat(a);FullBasePairSet=rvDataSets[0].BasePairs;rvDataSets[0].drawBasePairs("lines")})}
function refreshBasePairs(a){if("clear_lines"!=a)if(0>a.indexOf("_NPN"))$.getJSON("getData.php",{BasePairs:a},function(a){rvDataSets[0].BasePairs=a;$.each(rvDataSets[0].BasePairs,function(a,c){c.lineWidth=.75;c.opacity=.5;c.color_hex="#231F20"});rvDataSets[0].drawBasePairs("lines");FullBasePairSet=rvDataSets[0].BasePairs;var c=[];$.each(rvDataSets[0].BasePairs,function(a,d){c.push(d.bp_type)});BP_TypeU=$.grep(c,function(a,d){return $.inArray(a,c)===d});var h=document.getElementById("SecondaryInteractionList");
h.options.length=0;$.each(BP_TypeU,function(a,c){h.options[a]=new Option(c,c);h.options[a].setAttribute("selected","selected")});$("#SecondaryInteractionList").multiselect("refresh")});else{a=$("#ProtList").multiselect("getChecked").map(function(){return this.value}).get();var k=$("#ProtList").multiselect("getChecked").map(function(){return this.title}).get(),c=document.getElementById("SecondaryInteractionList");c.options.length=0;c.options[0]=new Option("NPN","NPN");c.options[0].setAttribute("selected",
"selected");$("#SecondaryInteractionList").multiselect("refresh");colorMappingLoop(void 0,a,k)}else rvDataSets[0].BasePairs=[],rvDataSets[0].clearCanvas("lines")}function filterBasePairs(a,k){rvDataSets[0].BasePairs=[];$.each(a,function(a,f){0<=$.inArray(f.bp_type,k)&&rvDataSets[0].BasePairs.push(f)});rvDataSets[0].drawBasePairs("lines")}
function mouseEventFunction(a){var k=$('input[name="bv"][value=on]').is(":checked");$("#ResidueTip").tooltip("close");$("#InteractionTip").tooltip("close");"mousedown"!=a.handleObj.origType||k?"mousedown"==a.handleObj.origType&&k&&($("#canvasDiv").off("mousemove",dragHandle),BaseViewCenter(a)):"select"==onebuttonmode||3==a.which&&!1==a.altKey||1==a.which&&!0==a.shiftKey?($("#canvasDiv").off("mousemove",dragHandle),$("#canvasDiv").off("mousemove",mouseMoveFunction),selectionBox(a),$("#canvasDiv").on("mousemove",
dragSelBox),$("#canvasDiv").on("mouseup",selectResidue)):"selectL"==onebuttonmode||3==a.which&&!0==a.altKey?($("#canvasDiv").off("mousemove",dragHandle),$("#canvasDiv").off("mousemove",mouseMoveFunction)):"color"==onebuttonmode||2==a.which&&!1==a.altKey||1==a.which&&!0==a.ctrlKey&&!1==a.altKey?($("#canvasDiv").off("mousemove",dragHandle),colorResidue(a)):"colorL"==onebuttonmode||2==a.which&&!0==a.altKey||1==a.which&&!0==a.ctrlKey&&!0==a.altKey?($("#canvasDiv").off("mousemove",dragHandle),colorLine(a)):
(rvViews[0].lastX=a.clientX,rvViews[0].lastY=a.clientY,$("#canvasDiv").on("mousemove",dragHandle));"mouseup"==a.handleObj.origType&&($("#canvasDiv").off("mousemove",dragHandle),$("#canvasDiv").off("mousemove",dragSelBox),$("#canvasDiv").on("mousemove",mouseMoveFunction),rvDataSets[0].HighlightLayer.clearCanvas())}
function mouseMoveFunction(a){rvDataSets[0].HighlightLayer.clearCanvas();$("#ResidueTip").tooltip("close");$("#InteractionTip").tooltip("close");switch(onebuttonmode){case "move":if(!0==a.altKey&&!1==a.ctrlKey){var k=getSelectedLine(a);if(0<=k){var c=rvDataSets[0].BasePairs[k].resIndex1,f=rvDataSets[0].BasePairs[k].resIndex2;rvDataSets[0].HighlightLayer.CanvasContext.strokeStyle="#6666ff";rvDataSets[0].HighlightLayer.CanvasContext.beginPath();rvDataSets[0].HighlightLayer.CanvasContext.moveTo(rvDataSets[0].Residues[c].X,
rvDataSets[0].Residues[c].Y);rvDataSets[0].HighlightLayer.CanvasContext.lineTo(rvDataSets[0].Residues[f].X,rvDataSets[0].Residues[f].Y);rvDataSets[0].HighlightLayer.CanvasContext.closePath();rvDataSets[0].HighlightLayer.CanvasContext.stroke();$('input[name="rt"][value=on]').is(":checked")&&(createInfoWindow(k,"lines"),$("#InteractionTip").css("bottom",$(window).height()-a.clientY),$("#InteractionTip").css("left",a.clientX),$("#InteractionTip").tooltip("open"))}}else if(!0==a.ctrlKey&&!1==a.altKey){if(k=
getSelected(a),0<=k)switch(a=rvDataSets[0].getSelectedLayer(),a.Type){case "residues":rvDataSets[0].HighlightLayer.CanvasContext.strokeStyle="#000000";rvDataSets[0].HighlightLayer.CanvasContext.font=rvDataSets[0].SpeciesEntry.Font_Size_Canvas+'pt "Myriad Pro", Calibri, Arial';rvDataSets[0].HighlightLayer.CanvasContext.textBaseline="middle";rvDataSets[0].HighlightLayer.CanvasContext.textAlign="center";rvDataSets[0].HighlightLayer.CanvasContext.fillStyle=colorNameToHex($("#MainColor").val());rvDataSets[0].HighlightLayer.CanvasContext.fillText(rvDataSets[0].Residues[k].resName,
rvDataSets[0].Residues[k].X,rvDataSets[0].Residues[k].Y);break;case "circles":rvDataSets[0].HighlightLayer.CanvasContext.beginPath(),rvDataSets[0].HighlightLayer.CanvasContext.arc(rvDataSets[0].Residues[k].X,rvDataSets[0].Residues[k].Y,a.ScaleFactor*rvDataSets[0].SpeciesEntry.Circle_Radius,0,2*Math.PI,!1),rvDataSets[0].HighlightLayer.CanvasContext.closePath(),rvDataSets[0].HighlightLayer.CanvasContext.strokeStyle=colorNameToHex($("#MainColor").val()),rvDataSets[0].HighlightLayer.CanvasContext.stroke(),
a.Filled&&(rvDataSets[0].HighlightLayer.CanvasContext.fillStyle=colorNameToHex($("#MainColor").val()),rvDataSets[0].HighlightLayer.CanvasContext.fill())}}else!0==a.ctrlKey&&!0==a.altKey?(k=getSelectedLine(a),0<=k&&(c=rvDataSets[0].BasePairs[k].resIndex1,f=rvDataSets[0].BasePairs[k].resIndex2,rvDataSets[0].HighlightLayer.CanvasContext.strokeStyle=colorNameToHex($("#LineColor").val()),rvDataSets[0].HighlightLayer.CanvasContext.beginPath(),rvDataSets[0].HighlightLayer.CanvasContext.moveTo(rvDataSets[0].Residues[c].X,
rvDataSets[0].Residues[c].Y),rvDataSets[0].HighlightLayer.CanvasContext.lineTo(rvDataSets[0].Residues[f].X,rvDataSets[0].Residues[f].Y),rvDataSets[0].HighlightLayer.CanvasContext.closePath(),rvDataSets[0].HighlightLayer.CanvasContext.stroke(),$('input[name="rt"][value=on]').is(":checked")&&(createInfoWindow(k,"lines"),$("#InteractionTip").css("bottom",$(window).height()-a.clientY),$("#InteractionTip").css("left",a.clientX),$("#InteractionTip").tooltip("open")))):(k=getSelected(a),0<=k&&(rvDataSets[0].HighlightLayer.CanvasContext.beginPath(),
rvDataSets[0].HighlightLayer.CanvasContext.arc(rvDataSets[0].Residues[k].X,rvDataSets[0].Residues[k].Y,1.176*rvDataSets[0].SpeciesEntry.Circle_Radius,0,2*Math.PI,!1),rvDataSets[0].HighlightLayer.CanvasContext.closePath(),rvDataSets[0].HighlightLayer.CanvasContext.strokeStyle="#6666ff",rvDataSets[0].HighlightLayer.CanvasContext.lineWidth=rvDataSets[0].SpeciesEntry.Circle_Radius/1.7,rvDataSets[0].HighlightLayer.CanvasContext.stroke(),$('input[name="rt"][value=on]').is(":checked")&&(createInfoWindow(k,
"residue"),$("#ResidueTip").css("bottom",$(window).height()-a.clientY),$("#ResidueTip").css("left",a.clientX),$("#ResidueTip").tooltip("open"))));break;case "color":if(k=getSelected(a),-1!=k)switch(a=rvDataSets[0].getSelectedLayer(),a.Type){case "residues":rvDataSets[0].HighlightLayer.CanvasContext.strokeStyle="#000000";rvDataSets[0].HighlightLayer.CanvasContext.font=rvDataSets[0].SpeciesEntry.Font_Size_Canvas+'pt "Myriad Pro", Calibri, Arial';rvDataSets[0].HighlightLayer.CanvasContext.textBaseline=
"middle";rvDataSets[0].HighlightLayer.CanvasContext.textAlign="center";rvDataSets[0].HighlightLayer.CanvasContext.fillStyle=colorNameToHex($("#MainColor").val());rvDataSets[0].HighlightLayer.CanvasContext.fillText(rvDataSets[0].Residues[k].resName,rvDataSets[0].Residues[k].X,rvDataSets[0].Residues[k].Y);break;case "circles":rvDataSets[0].HighlightLayer.CanvasContext.beginPath(),rvDataSets[0].HighlightLayer.CanvasContext.arc(rvDataSets[0].Residues[k].X,rvDataSets[0].Residues[k].Y,a.ScaleFactor*rvDataSets[0].SpeciesEntry.Circle_Radius,
0,2*Math.PI,!1),rvDataSets[0].HighlightLayer.CanvasContext.closePath(),rvDataSets[0].HighlightLayer.CanvasContext.strokeStyle=colorNameToHex($("#MainColor").val()),rvDataSets[0].HighlightLayer.CanvasContext.stroke(),a.Filled&&(rvDataSets[0].HighlightLayer.CanvasContext.fillStyle=colorNameToHex($("#MainColor").val()),rvDataSets[0].HighlightLayer.CanvasContext.fill())}}}function dragSelBox(a){rvDataSets[0].HighlightLayer.clearCanvas();rvViews[0].drag(a)}
function mouseWheelFunction(a,k){rvViews[0].zoom(a,k);var c=getSelected(a);rvDataSets[0].HighlightLayer.clearCanvas();-1!=c&&(rvDataSets[0].HighlightLayer.CanvasContext.beginPath(),rvDataSets[0].HighlightLayer.CanvasContext.arc(rvDataSets[0].Residues[c].X,rvDataSets[0].Residues[c].Y,2,0,2*Math.PI,!1),rvDataSets[0].HighlightLayer.CanvasContext.closePath(),rvDataSets[0].HighlightLayer.CanvasContext.strokeStyle="#6666ff",rvDataSets[0].HighlightLayer.CanvasContext.stroke());drag&&rvViews[0].drag(a);return!1}
function colorLineSelection(a){}function createInfoWindow(a,k){"residue"===k?(addPopUpWindowResidue(a),$("#ResidueTip").tooltip("option","content",$("#residuetip").html())):(addPopUpWindowLine(a),$("#InteractionTip").tooltip("option","content",$("#interactiontip").html()))}
function BaseViewCenter(a){$('input[name="jp"][value=off]').is(":checked")||(a=getSelected(a),-1!=a&&(a=rvDataSets[0].Residues[a],a="center "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and "+a.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+":"+a.ChainID,Jmol.script(myJmol,a)))}function modeSelect(a){onebuttonmode=a}
function ProcessBubble(a,k){switch($(a).parent().attr("id")){case "AlnBubbles":colorMapping(k,"42",[$(a).attr("name")]);drawNavLine();break;case "StructDataBubbles":updateStructData(a,k);break;case "ProteinBubbles":var c=$("#ProtList").multiselect("getChecked").map(function(){return this.value}).get(),f=$("#ProtList").multiselect("getChecked").map(function(){return this.title}).get();colorMappingLoop(k,c,f);break;case "CustomDataBubbles":customDataProcess(a,k);break;default:alert("other")}}
function updateStructData(a,k){for(var c=$(a).attr("name").split(","),f=0;f<c.length;f++)-1<c[f].indexOf("'")?c[f]=c[f].match(/[^\\']+/):c[f]=window[c[f]];c.unshift("42");c.unshift(k);colorMapping.apply(this,c);drawNavLine()}
function openRvState(){var a=get_cookie("privacy_status_data"),k=$("#files2")[0].files;AgreeFunction=function(){for(var a=0;a<k.length;a++)switch(reader=new FileReader,k[a].name.split(".").pop().toLowerCase()){case "zip":reader.readAsBinaryString(k[a]);reader.onload=function(){new ZipLoader(reader.result);alert("Unfinished zip support. Please unzip your file.")};break;default:reader.readAsText(k[a]),reader.onload=function(){var a=JSON.parse(reader.result);rvDataSets[0]=rvDataSets[0].fromJSON(a.RvDS);
a.rvLayers=JSON.stringify(rvDataSets[0].Layers);a.rvSelections=JSON.stringify(rvDataSets[0].Selections);a.rvLastSpecies=rvDataSets[0].Name;$('input[name="jp"][value=on]').is(":checked")&&(Jmol.script(myJmol,"script states/"+rvDataSets[0].SpeciesEntry.Jmol_Script),Jmol.script(myJmol,"display "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1"));processRvState(a);updateModel();update3Dcolors();$('input[name="jp"][value=on]').is(":checked")&&(a=a.rvJmolOrientation.match(/reset[^\n]+/),Jmol.script(myJmol,
a[0]))}}};"Agreed"!=a?($("#Privacy-confirm").text("This feature does not currently upload any data to our server. We don't have a privacy policy at this time because one isn't needed. We can not see these data you are about to graph. Click \"I agree\" to acknowledge acceptance of our policy."),CurrPrivacyCookie="privacy_status_data",$("#Privacy-confirm").dialog("open")):AgreeFunction()}
function handleFileSelect(a){var k=get_cookie("privacy_status_data");FileReaderFile=a.target.files;$("#CustomDataBubbles").find(".dataBubble").remove();AgreeFunction=function(a){for(a=0;a<FileReaderFile.length;a++)reader=new FileReader,reader.readAsText(FileReaderFile[a]),$("#CustomDataBubbles").append($('<h3 class="dataBubble ui-helper-reset ui-corner-all ui-state-default ui-corner-bottom" style="text-align:center;padding:0.2em">').text("User Data").attr("name","CustomData").attr("title","Custom")),
$("#CustomDataBubbles").sortable({update:function(a,c){},items:".dataBubble"}),reader.onload=function(){rvDataSets[0].addCustomData($.csv.toObjects(reader.result));var a=Object.keys(rvDataSets[0].CustomData[0]);0<=$.inArray("DataDescription",a)?($("#FileDiv").find(".DataDescription").html(rvDataSets[0].CustomData[0].DataDescription),$("#CustomDataBubbles").find(".dataBubble").attr("title",rvDataSets[0].CustomData[0].DataDescription.replace(/(<([^>]+)>)/ig,""))):$("#FileDiv").find(".DataDescription").html("Data Description is missing.");
$("#CustomDataBubbles").find(".dataBubble").attr("FileName",FileReaderFile[0].name);if(0<=$.inArray("Residue_i",a))if(0<=$.inArray("Residue_j",a)){var c=[],h=rvDataSets[0].getLayerByType("lines");if(0<=$.inArray("ColorCol",a)){$(".oneLayerGroup[name="+h[0].LayerName+"]").find(".layerContent").find("div[name=llm]").find("select").multiselect("widget").find(":radio:eq(1)").each(function(){this.click()});var b=!0}else b=!1;var d=0<=$.inArray("Opacity",a)?!0:!1,g=0<=$.inArray("LineWidth",a)?!0:!1;$.each(rvDataSets[0].CustomData,
function(a,f){var k=resNumToIndex(f.Residue_i).toString(),q=resNumToIndex(f.Residue_j).toString(),r=b?colorNameToHex(f.ColorCol):colorNameToHex("#231F20"),s=d?f.Opacity:.5,u=g?f.LineWidth:1,w=h[0].CanvasContext.createLinearGradient(rvDataSets[0].Residues[k].X,rvDataSets[0].Residues[k].Y,rvDataSets[0].Residues[q].X,rvDataSets[0].Residues[q].Y);w.addColorStop(0,"rgba("+h2d(r.slice(1,3))+","+h2d(r.slice(3,5))+","+h2d(r.slice(5))+","+s+")");w.addColorStop(1,"rgba("+h2d(r.slice(1,3))+","+h2d(r.slice(3,
5))+","+h2d(r.slice(5))+","+s+")");c.push({bp_type:f.Int_Type,color:w,color_hex:r,opacity:s,lineWidth:u,id:(a+1).toString(),pairIndex:(a+1).toString(),resIndex1:k,resIndex2:q})});rvDataSets[0].BasePairs=c;h[0].DataLabel=FileReaderFile[0].name;$("[name="+h[0].LayerName+"]").find(".layerContent").find("span[name=DataLabel]").text(h[0].DataLabel);rvDataSets[0].drawBasePairs("lines")}else alert("Expected Residue_j column. Please check input.")}};"Agreed"!=k?($("#Privacy-confirm").text("This feature does not currently upload any data to our server. We don't have a privacy policy at this time because one isn't needed. We can not see these data you are about to graph. Click \"I agree\" to acknowledge acceptance of our policy."),
CurrPrivacyCookie="privacy_status_data",$("#Privacy-confirm").dialog("open")):AgreeFunction(a)}function resNumToIndex(a){a=a.split(":");a=rvDataSets[0].SpeciesEntry.PDB_chains[rvDataSets[0].SpeciesEntry.Molecule_Names.indexOf(a[0])]+"_"+a[1];return rvDataSets[0].ResidueList.indexOf(a)}
function customDataProcess(a,k){var c;k.DataLabel=$(a[0]).attr("filename");$("[name="+k.LayerName+"]").find(".layerContent").find("span[name=DataLabel]").text("User File:").append($("<br>")).append(k.DataLabel);k.clearData();var f=Object.keys(rvDataSets[0].CustomData[0]);c=CustomDataExpand(k);k.Data=c.IncludeData;var e=rvDataSets[0].Selections[0];SelectionMenu(e);RefreshSelectionMenu();$(".oneSelectionGroup[name="+e.Name+"]").find(".checkBoxDIV-S").find(".visibilityCheckImg").attr("value","invisible");
$(".oneSelectionGroup[name="+e.Name+"]").find(".checkBoxDIV-S").find(".visibilityCheckImg").attr("src","images/invisible.png");rvDataSets[0].drawSelection("selected");if(0<=$.inArray("ColorPalette",f)){var h=[];$.each(rvDataSets[0].CustomData,function(a,c){""!=c.ColorPalette&&h.push(c.ColorPalette)});1==h.length&&(h=window[h[0]])}else h=RainBowColors;"selected"!==k.Type&&(0<=$.inArray("FontWeight",f)&&($.each(c.Weight,function(a,c){rvDataSets[0].Residues[a]["font-weight"]=void 0!=c?c:"normal"}),rvDataSets[0].drawResidues("residues"),
rvDataSets[0].refreshResiduesExpanded(k.LayerName),update3Dcolors()),0<=$.inArray("ColorCol",f)?(rvDataSets[0].drawResidues("residues"),rvDataSets[0].refreshResiduesExpanded(k.LayerName),update3Dcolors()):0<=$.inArray("DataCol",f)?colorProcess(c,void 0,k,h):0<=$.inArray("FontWeight",f)||alert("No recognized columns found. Please check input."));updateSelectionDiv(e.Name);drawNavLine();CustomProcessProteins(h)}
function CustomProcessProteins(a){for(var k=void 0,c=Object.keys(rvDataSets[0].CustomData[0]),f=[],e=[],h=0;h<rvDataSets[0].CustomData.length;h++)if(k=expandSelection([rvDataSets[0].CustomData[h].resNum],rvDataSets[0].Selections[0].Name))0<=$.inArray("DataCol",c)?(e.push({ResNum:k,Color:void 0}),isNaN(parseFloat(rvDataSets[0].CustomData[h].DataCol))?f.push(rvDataSets[0].CustomData[h].DataCol):f.push(parseFloat(rvDataSets[0].CustomData[h].DataCol))):0<=$.inArray("ColorCol",c)&&e.push({ResNum:k,Color:rvDataSets[0].CustomData[h].ColorCol});
k=colorProcess(f,void 0,void 0,a,!0);$.each(k,function(b,c){e[b].Color=a[c]});ColorProteinsJmol(e);rvDataSets[0].ColorProteins=rvDataSets[0].ColorProteins.concat(e)}
function ColorProteinsJmol(a){if(!$('input[name="jp"][value=off]').is(":checked")&&void 0!=rvDataSets[0].Residues[0]){var k="set hideNotSelected false;";$.each(a,function(a,f){var e=f.ResNum.split("_");"undefined"!==e[0]&&(k=-1==colorNameToHex(f.Color).indexOf("#")?k+("select "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rProtein+".1 and :"+e[0]+" and "+e[1].replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+"; color Cartoon opaque [x"+f.Color+"]; "):k+("select "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rProtein+
".1 and :"+e[0]+" and "+e[1].replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+"; color Cartoon opaque ["+f.Color.replace("#","x")+"]; "))});Jmol.script(myJmol,k)}}
function ColorProteinsPyMOL(a){a=rvDataSets[0].ColorProteins;if(void 0!=rvDataSets[0].Residues[0]){for(var k="",c=0;c<rvDataSets[0].SpeciesEntry.SubunitProtChains[0].length;c++)k+="copy "+rvDataSets[0].SpeciesEntry.Species_Abr+"_rp"+rvDataSets[0].SpeciesEntry.SubunitProtChains[0][c].replace(/\(/g,"_").replace(/\)/g,"")+"_custom, "+rvDataSets[0].SpeciesEntry.Species_Abr+"_rp"+rvDataSets[0].SpeciesEntry.SubunitProtChains[0][c].replace(/\(/g,"_").replace(/\)/g,"")+"\n";$.each(a,function(a,c){var h=c.ResNum.split("_");
if("undefined"!==h[0]){var b=c.Color,d=rvDataSets[0].SpeciesEntry.SubunitProtChains[1].indexOf(h[0]);k+="color "+b.replace("#","0x")+", "+rvDataSets[0].SpeciesEntry.Species_Abr+"_rp"+rvDataSets[0].SpeciesEntry.SubunitProtChains[0][d].replace(/\(/g,"_").replace(/\)/g,"")+"_custom and resi "+h[1].replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+"\n"}});return k+="\ndisable *rp*\n"}}function resetFileInput(a){var k=a.clone(!1,!1);a.replaceWith(k);alert(42)}
function CustomDataExpand(a){rvDataSets[0].addSelection();var k=0,c=[],f=[];$.each(rvDataSets[0].Residues,function(a,b){c[a]=void 0;f[a]=void 0});var e=[],h=Object.keys(rvDataSets[0].CustomData[0]);if(0<=$.inArray("resNum",h))for(var b=0;b<rvDataSets[0].CustomData.length;b++){var d=rvDataSets[0].CustomData[b].resNum.split(";"),g=rvDataSets[0].Selections[0];expandSelection(d,g.Name);d=g.Residues.length;if(0==d)0<=$.inArray("DataCol",h)&&(isNaN(parseFloat(rvDataSets[0].CustomData[b].DataCol))?e.push(rvDataSets[0].CustomData[b].DataCol):
e.push(parseFloat(rvDataSets[0].CustomData[b].DataCol)));else for(var l=k;l<d;l++)0<=g.Residues[l].resNum.indexOf(":")?(k=g.Residues[l].resNum.split(":"),k=rvDataSets[0].SpeciesEntry.PDB_chains[rvDataSets[0].SpeciesEntry.Molecule_Names.indexOf(k[0])]+"_"+k[1]):k=g.Residues[l].ChainID+"_"+g.Residues[l].resNum,k=rvDataSets[0].ResidueList.indexOf(k),0<=$.inArray("DataCol",h)&&(isNaN(parseFloat(rvDataSets[0].CustomData[b].DataCol))?c[k]=rvDataSets[0].CustomData[b].DataCol:c[k]=parseFloat(rvDataSets[0].CustomData[b].DataCol)),
0<=$.inArray("ColorCol",h)&&(a.dataLayerColors[k]=colorNameToHex(rvDataSets[0].CustomData[b].ColorCol)),0<=$.inArray("FontWeight",h)&&(f[k]=rvDataSets[0].CustomData[b].FontWeight),k=d}return{IncludeData:c,ExtraData:e,Weight:f}}function set_cookie(a,k,c,f){f=f?"; domain="+f:"";document.cookie=a+"="+encodeURIComponent(k)+"; max-age="+86400*c+"; path=/"+f}
function get_cookie(a){var k=document.cookie;if(0!=k.length){a=k.match(new RegExp(a+"=[^;]*","g"));if(null==a)return"";a=a[0].split("=");return decodeURIComponent(a[1])}}
function checkSavePrivacyStatus(){"Agreed"!=get_cookie("privacy_status_text")?($("#Privacy-confirm").text('This feature requires uploading data to our server. Our privacy policy at this time is to not look at these files without permission. We will set up autodelete for these files soon. Click "I agree" to acknowledge acceptance of our policy.'),CurrPrivacyCookie="privacy_status_text",$("#Privacy-confirm").dialog("open")):AgreeFunction()}
function saveNavLine(){AgreeFunction=function(){var a=document.getElementById("NavLineDiv").getElementsByTagName("svg")[0],a=(new XMLSerializer).serializeToString(a),k=document.createElement("form");k.setAttribute("method","post");k.setAttribute("action","saveNavLine.php");k.setAttribute("target","_blank");var c=document.createElement("input");c.setAttribute("type","hidden");c.setAttribute("name","content");c.setAttribute("value",a);k.appendChild(c);document.body.appendChild(k);k.submit()};checkSavePrivacyStatus()}
function saveJmolImg(){AgreeFunction=function(){if(!$('input[name="jp"][value=off]').is(":checked")){var a=Jmol.getPropertyAsString(myJmol,"image"),k=document.createElement("form");k.setAttribute("method","post");k.setAttribute("action","saveJmolImg.php");k.setAttribute("target","_blank");var c=document.createElement("input");c.setAttribute("type","hidden");c.setAttribute("name","content");c.setAttribute("value",a);k.appendChild(c);document.body.appendChild(k);k.submit()}};checkSavePrivacyStatus()}
function retrieveRvState(a){SaveStateFileName=a;$.post("retrieveRvState.php",{datasetname:SaveStateFileName,username:UserName},function(a){a=JSON.parse(a);rvDataSets[0]=rvDataSets[0].fromJSON(a.RvDS);a.rvLayers=JSON.stringify(rvDataSets[0].Layers);a.rvSelections=JSON.stringify(rvDataSets[0].Selections);a.rvLastSpecies=rvDataSets[0].Name;$('input[name="jp"][value=on]').is(":checked")&&(Jmol.script(myJmol,"script states/"+rvDataSets[0].SpeciesEntry.Jmol_Script),Jmol.script(myJmol,"display "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+
".1"));processRvState(a)})}
function storeRvState(a){SaveStateFileName=a;AgreeFunction=function(){var a={};a.RvDS=JSON.stringify(rvDataSets[0]);a.rvView=JSON.stringify(rvViews[0]);$('input[name="jp"][value=on]').is(":checked")&&(a.rvJmolOrientation=Jmol.evaluate(myJmol,"script('show orientation')"));$("input[name='PanelSizesCheck']").attr("checked")&&(a.rvPanelSizes=JSON.stringify({PanelDivide:PanelDivide,TopDivide:TopDivide}));$("input[name='MouseModeCheck']").attr("checked")&&(a.rvMouseMode=onebuttonmode);$form=$("<form></form>");
$("body").append($form);data={content:JSON.stringify(a,null,"\t"),datasetname:SaveStateFileName,username:UserName};$.post("storeRvState.php",data,function(a){})};checkSavePrivacyStatus()}
function saveRvState(a){SaveStateFileName=a;AgreeFunction=function(){var a={};a.RvDS=JSON.stringify(rvDataSets[0]);a.rvView=JSON.stringify(rvViews[0]);$('input[name="jp"][value=on]').is(":checked")&&(a.rvJmolOrientation=Jmol.evaluate(myJmol,"script('show orientation')"));$("input[name='PanelSizesCheck']").attr("checked")&&(a.rvPanelSizes=JSON.stringify({PanelDivide:PanelDivide,TopDivide:TopDivide}));$("input[name='MouseModeCheck']").attr("checked")&&(a.rvMouseMode=onebuttonmode);var c=document.createElement("form");
c.setAttribute("method","post");c.setAttribute("action","saveRvState.php");c.setAttribute("target","_blank");var f=document.createElement("input");f.setAttribute("type","hidden");f.setAttribute("name","content");f.setAttribute("value",JSON.stringify(a,null,"\t"));a=document.createElement("input");a.setAttribute("type","hidden");a.setAttribute("name","datasetname");a.setAttribute("value",SaveStateFileName);c.appendChild(f);c.appendChild(a);document.body.appendChild(c);c.submit()};checkSavePrivacyStatus()}
function saveJPG(){AgreeFunction=function(){var a=canvasToSVG(),k=document.createElement("form");k.setAttribute("method","post");k.setAttribute("action","saveJPG.php");k.setAttribute("target","_blank");var c=document.createElement("input");c.setAttribute("type","hidden");c.setAttribute("name","content");c.setAttribute("value",a.SVG);var f=document.createElement("input");f.setAttribute("type","hidden");f.setAttribute("name","orientation");f.setAttribute("value",a.Orientation);k.appendChild(c);k.appendChild(f);
document.body.appendChild(k);k.submit()};checkSavePrivacyStatus()}
function savePNG(){AgreeFunction=function(){var a=canvasToSVG(),k=document.createElement("form");k.setAttribute("method","post");k.setAttribute("action","savePNG.php");k.setAttribute("target","_blank");var c=document.createElement("input");c.setAttribute("type","hidden");c.setAttribute("name","content");c.setAttribute("value",a.SVG);var f=document.createElement("input");f.setAttribute("type","hidden");f.setAttribute("name","orientation");f.setAttribute("value",a.Orientation);k.appendChild(c);k.appendChild(f);
document.body.appendChild(k);k.submit()};checkSavePrivacyStatus()}function saveSVG(){AgreeFunction=function(){var a=canvasToSVG(),k=document.createElement("form");k.setAttribute("method","post");k.setAttribute("action","saveSVG.php");k.setAttribute("target","_blank");var c=document.createElement("input");c.setAttribute("type","hidden");c.setAttribute("name","content");c.setAttribute("value",a.SVG);k.appendChild(c);document.body.appendChild(k);k.submit()};checkSavePrivacyStatus()}
function savePDF(){AgreeFunction=function(){var a=canvasToSVG(),k=document.createElement("form");k.setAttribute("method","post");k.setAttribute("action","savePDF.php");k.setAttribute("target","_blank");var c=document.createElement("input");c.setAttribute("type","hidden");c.setAttribute("name","content");c.setAttribute("value",a.SVG);k.appendChild(c);document.body.appendChild(k);k.submit()};checkSavePrivacyStatus()}
function savePML(){AgreeFunction=function(){var a="",k=[],a=a+"set bg_rgb, white\nset seq_view_label_color, hydrogen\nunset ignore_case\n",c=[rvDataSets[0].SpeciesEntry.PDB_File_rRNA,rvDataSets[0].SpeciesEntry.PDB_File_rProtein];c[1]===c[0]?(k[0]=rvDataSets[0].SpeciesEntry.Species_Abr+"_"+rvDataSets[0].SpeciesEntry.Subunit+"_Full",k[1]=k[0],a+="load "+c[0]+", "+k[0]+"\n",a+="as cartoon, "+k[0]+"\n",a+="disable "+k[0]+"\n"):(k[0]=rvDataSets[0].SpeciesEntry.Species_Abr+"_"+rvDataSets[0].SpeciesEntry.Subunit+
"_rRNA",k[1]=rvDataSets[0].SpeciesEntry.Species_Abr+"_"+rvDataSets[0].SpeciesEntry.Subunit+"_rProtein",a+="load "+c[0]+", "+k[0]+"\n",a+="load "+c[1]+", "+k[1]+"\n",a+="as cartoon, "+k[0]+"\n",a+="as cartoon, "+k[1]+"\n",a+="disable "+k[0]+"\n",a+="disable "+k[1]+"\n");var a=a+"\n",f=rvDataSets[0].getLayerByType(["residues","circles","selected"]);$.each(f,function(c,b){a+=layerToPML(k,b)});a+="\n";a+=proteinsToPML(k);a+="\n";a+=ColorProteinsPyMOL(k);a+="\n";$.each(rvDataSets[0].Selections,function(c,
b){a+=selectionToPML(k,b)});a+="\ndisable RV_Sele_*\n";a+="\nzoom all\n";f=document.createElement("form");f.setAttribute("method","post");f.setAttribute("action","savePML.php");f.setAttribute("target","_blank");var e=document.createElement("input");e.setAttribute("type","hidden");e.setAttribute("name","content");e.setAttribute("value",a);f.appendChild(e);PDB_filesU=$.grep(c,function(a,b){return $.inArray(a,c)===b});e=document.createElement("input");e.setAttribute("type","hidden");e.setAttribute("name",
"pdbfiles");e.setAttribute("value",PDB_filesU);f.appendChild(e);document.body.appendChild(f);f.submit()};checkSavePrivacyStatus()}
function layerToPML(a,k){var c=[],f="",e,h,b,d;if(void 0!=rvDataSets[0].Residues[0]){for(e=0;e<rvDataSets[0].SpeciesEntry.Molecule_Names.length;e++)c[e]=rvDataSets[0].SpeciesEntry.Species_Abr+"_"+rvDataSets[0].SpeciesEntry.Molecule_Names[e]+"_"+k.LayerName,f+="create "+c[e]+", "+a[0]+" and chain "+rvDataSets[0].SpeciesEntry.PDB_chains[e]+"\n",f=k.Linked?f+("enable "+c[e]+"\n"):f+("disable "+c[e]+"\n");f+="\n";e=rvDataSets[0].Residues[0].resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"");b=rvDataSets[0].Residues[0].ChainID;
(d=colorNameToHex(k.dataLayerColors[0]))&&"#000000"!==d||(d="#858585");for(var g=1;g<rvDataSets[0].Residues.length;g++){var l=rvDataSets[0].Residues[g];h=rvDataSets[0].Residues[g-1];var m=k.dataLayerColors[g-1];m||(m="#858585");if(""!=l.ChainID)if(""==b)b=l.ChainID,(d=colorNameToHex(k.dataLayerColors[g]))&&"#000000"!==d||(d="#858585"),e=l.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"");else if(null==l.ChainID)b=l.ChainID,(d=colorNameToHex(k.dataLayerColors[g]))&&"#000000"!==d||(d="#858585"),e=
l.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"");else if(compare_color=k.dataLayerColors[g]?colorNameToHex(k.dataLayerColors[g]):"#858585",compare_color!=colorNameToHex(m)||b!=l.ChainID||g==rvDataSets[0].Residues.length-1)h=h.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,""),f=e===h?-1==colorNameToHex(m).indexOf("#")?f+("color 0x"+d+", "+c[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(b)]+" and resi "+e+"\n"):f+("color "+d.replace("#","0x")+", "+c[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(b)]+
" and resi "+e+"\n"):-1==colorNameToHex(m).indexOf("#")?f+("color 0x"+d+", "+c[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(b)]+" and resi "+e+"-"+h+"\n"):f+("color "+d.replace("#","0x")+", "+c[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(b)]+" and resi "+e+"-"+h+"\n"),e=l.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,""),""!=l.ChainID&&(b=l.ChainID),(d=colorNameToHex(k.dataLayerColors[g]))&&"#000000"!==d||(d="#858585")}f=-1==colorNameToHex(m).indexOf("#")?f+("color 0x"+d+", "+c[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(b)]+
" and resi "+e+"-"+l.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+"\n"):f+("color "+d.replace("#","0x")+", "+c[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(b)]+" and resi "+e+"-"+l.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+"\n");return f+"\n"}}
function proteinsToPML(a){var k="",c;for(c=0;c<rvDataSets[0].SpeciesEntry.SubunitProtChains[0].length;c++)k+="create "+rvDataSets[0].SpeciesEntry.Species_Abr+"_rp"+rvDataSets[0].SpeciesEntry.SubunitProtChains[0][c].replace(/\(/g,"_").replace(/\)/g,"")+", "+a[1]+" and chain "+rvDataSets[0].SpeciesEntry.SubunitProtChains[1][c].replace(/\(/g,"_").replace(/\)/g,"")+"\n";var k=k+"\ndisable *rp*\ncolor wheat, *rp*\n",f=$("#ProtList").multiselect("getChecked").map(function(){return this.value}).get();for(jjj=
0;jjj<f.length;jjj++)a=rvDataSets[0].SpeciesEntry.SubunitProtChains[2].indexOf(f[jjj]),c=$.grep($("#ProtList").multiselect("getChecked"),function(a){return a.value==f[jjj]}),0<=a&&(c=rgb2hex($(c).next().css("color")),c=-1==c.indexOf("#")?"0x"+c:c.replace("#","0x"),k+="color "+c+", "+rvDataSets[0].SpeciesEntry.Species_Abr+"_rp"+rvDataSets[0].SpeciesEntry.SubunitProtChains[0][a].replace(/\(/g,"_").replace(/\)/g,"")+"\n",k+="enable "+rvDataSets[0].SpeciesEntry.Species_Abr+"_rp"+rvDataSets[0].SpeciesEntry.SubunitProtChains[0][a].replace(/\(/g,
"_").replace(/\)/g,"")+"\n");return k}
function selectionToPML(a,k){var c,f="RV_Sele_"+k.Name,e,h,b,d=!1;if(void 0!=rvDataSets[0].Residues[0]){c=""+("create "+f+", resi 0\n");var g=k.Residues.sort(function(a,b){return Number(a.map_Index)-Number(b.map_Index)});e=g[0].resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"");b=g[0].ChainID;for(var l=1;l<g.length;l++){var m=g[l];h=g[l-1];if(""!=m.ChainID)if(""==b)b=m.ChainID,e=m.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"");else if(null==m.ChainID)b=m.ChainID,e=m.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,
"");else if(1<m.map_Index-h.map_Index||b!=m.ChainID||l==g.length-1)l==g.length-1&&b==m.ChainID&&1==m.map_Index-h.map_Index?(h=m.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,""),d=!0):h=h.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,""),c=e===h?c+("create "+f+", "+f+" or ("+a[0]+" and chain "+b+" and resi "+e+")\n"):c+("create "+f+", "+f+" or ("+a[0]+" and chain "+b+" and resi "+e+"-"+h+")\n"),e=m.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,""),""!=m.ChainID&&(b=m.ChainID)}d||(c+="create "+
f+", "+f+" or ("+a[0]+" and chain "+b+" and resi "+e+")\n");return c+="color "+k.Color.replace("#","0x")+", "+f+"\n\n"}}
function canvasToSVG(){var a,k,c=$('input[name="savelayers"][value=all]').attr("checked");if(0<=rvDataSets[0].SpeciesEntry.Orientation.indexOf("portrait")){var f="612 792",e='width="612px" height="792px" ';k="portrait"}else f="792 612",e='width="792px" height="612px" ',k="landscape";output='<?xml version=\'1.0\' encoding=\'UTF-8\'?>\n<svg version="1.1" baseProfile="basic" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" '+e+'viewBox="0 0 '+f+'" xml:space="preserve">\n';
$.ajax({url:"images/"+rvDataSets[0].Name+"_ExtraLabels.svg",dataType:"text",cache:!1,async:!1}).done(function(a){output+=a});$.each(rvDataSets[0].Layers,function(e,b){if(c||b.Visible)switch(b.Type){case "lines":output=output+'<g id="'+b.LayerName+'">\n';if("gray_lines"===b.ColorLayer)for(var d=0;d<rvDataSets[0].BasePairs.length;d++){var f=rvDataSets[0].BasePairs[d];output=output+'<line fill="none" stroke="'+f.color_hex+'" stroke-opacity="'+f.opacity+'" stroke-width="'+f.lineWidth+'" stroke-linejoin="round" stroke-miterlimit="10" x1="'+
parseFloat(rvDataSets[0].Residues[f.resIndex1].X).toFixed(3)+'" y1="'+parseFloat(rvDataSets[0].Residues[f.resIndex1].Y).toFixed(3)+'" x2="'+parseFloat(rvDataSets[0].Residues[f.resIndex2].X).toFixed(3)+'" y2="'+parseFloat(rvDataSets[0].Residues[f.resIndex2].Y).toFixed(3)+'"/>\n'}else if("manual_coloring"===b.ColorLayer)for(d=0;d<rvDataSets[0].BasePairs.length;d++)f=rvDataSets[0].BasePairs[d],output=output+'<line fill="none" stroke="'+f.color_hex+'" stroke-opacity="'+f.opacity+'" stroke-width="'+f.lineWidth+
'" stroke-linejoin="round" stroke-miterlimit="10" x1="'+parseFloat(rvDataSets[0].Residues[f.resIndex1].X).toFixed(3)+'" y1="'+parseFloat(rvDataSets[0].Residues[f.resIndex1].Y).toFixed(3)+'" x2="'+parseFloat(rvDataSets[0].Residues[f.resIndex2].X).toFixed(3)+'" y2="'+parseFloat(rvDataSets[0].Residues[f.resIndex2].Y).toFixed(3)+'"/>\n';else switch("Matched"==b.ColorLayer.ColorGradientMode?a="resIndex1":"Opposite"==b.ColorLayer.ColorGradientMode?a="resIndex2":alert("how did we get here? 34"),b.ColorLayer.Type){case "residues":for(d=
0;d<rvDataSets[0].BasePairs.length;d++)f=rvDataSets[0].BasePairs[d],output=output+'<line fill="none" stroke="'+rvDataSets[0].Residues[f[a]].color+'" stroke-opacity="'+f.opacity+'" stroke-width="'+f.lineWidth+'" stroke-linejoin="round" stroke-miterlimit="10" x1="'+parseFloat(rvDataSets[0].Residues[f.resIndex1].X).toFixed(3)+'" y1="'+parseFloat(rvDataSets[0].Residues[f.resIndex1].Y).toFixed(3)+'" x2="'+parseFloat(rvDataSets[0].Residues[f.resIndex2].X).toFixed(3)+'" y2="'+parseFloat(rvDataSets[0].Residues[f.resIndex2].Y).toFixed(3)+
'"/>\n';break;case "circles":for(d=0;d<rvDataSets[0].BasePairs.length;d++)f=rvDataSets[0].BasePairs[d],output=output+'<line fill="none" stroke="'+b.ColorLayer.dataLayerColors[f[a]]+'" stroke-opacity="'+f.opacity+'" stroke-width="'+f.lineWidth+'" stroke-linejoin="round" stroke-miterlimit="10" x1="'+parseFloat(rvDataSets[0].Residues[f.resIndex1].X).toFixed(3)+'" y1="'+parseFloat(rvDataSets[0].Residues[f.resIndex1].Y).toFixed(3)+'" x2="'+parseFloat(rvDataSets[0].Residues[f.resIndex2].X).toFixed(3)+'" y2="'+
parseFloat(rvDataSets[0].Residues[f.resIndex2].Y).toFixed(3)+'"/>\n';break;case "selected":for(d=0;d<rvDataSets[0].BasePairs.length;d++)if(f=rvDataSets[0].BasePairs[d],b.ColorLayer.Data[f.resIndex1]||b.ColorLayer.Data[f.resIndex2])output=output+'<line fill="none" stroke="'+f.color_hex+'" stroke-opacity="'+f.opacity+'" stroke-width="'+f.lineWidth+'" stroke-linejoin="round" stroke-miterlimit="10" x1="'+parseFloat(rvDataSets[0].Residues[f.resIndex1].X).toFixed(3)+'" y1="'+parseFloat(rvDataSets[0].Residues[f.resIndex1].Y).toFixed(3)+
'" x2="'+parseFloat(rvDataSets[0].Residues[f.resIndex2].X).toFixed(3)+'" y2="'+parseFloat(rvDataSets[0].Residues[f.resIndex2].Y).toFixed(3)+'"/>\n';break;default:alert("this shouldn't be happening right now 54.")}output+="</g>\n";break;case "labels":output=output+'<g id="'+b.LayerName+'_Lines">\n';for(d=0;d<rvDataSets[0].rvLineLabels.length;d++)f=rvDataSets[0].rvLineLabels[d],output=output+'<line fill="none" stroke="#211E1F" stroke-width="0.25" stroke-linejoin="round" stroke-miterlimit="10" x1="'+
parseFloat(f.X1).toFixed(3)+'" y1="'+parseFloat(f.Y1).toFixed(3)+'" x2="'+parseFloat(f.X2).toFixed(3)+'" y2="'+parseFloat(f.Y2).toFixed(3)+'"/>\n';output+="</g>\n";output=output+'<g id="'+b.LayerName+'_Text">\n';for(d=0;d<rvDataSets[0].rvTextLabels.length;d++)f=rvDataSets[0].rvTextLabels[d],output=output+'<text transform="matrix(1 0 0 1 '+parseFloat(f.X).toFixed(3)+" "+parseFloat(f.Y).toFixed(3)+')" fill="'+f.Fill+'" font-family="Myriad Pro" font-size="'+f.FontSize+'">'+f.LabelText+"</text>\n";output+=
"</g>\n";break;case "residues":output=output+'<g id="'+b.LayerName+'">\n';for(var d=-.439*parseFloat(rvDataSets[0].SpeciesEntry.Font_Size_SVG)+.4346,f=.2944*parseFloat(rvDataSets[0].SpeciesEntry.Font_Size_SVG)-.0033,k=0;k<rvDataSets[0].Residues.length;k++){var m=rvDataSets[0].Residues[k];output=output+'<text id="'+m.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+'" transform="matrix(1 0 0 1 '+(parseFloat(m.X)+d).toFixed(3)+" "+(parseFloat(m.Y)+f).toFixed(3)+')" fill="'+m.color+'" font-family="Myriad Pro" font-weight="'+
m["font-weight"]+'" font-size="'+rvDataSets[0].SpeciesEntry.Font_Size_SVG+'">'+m.resName+"</text>\n"}output+="</g>\n";break;case "circles":output=output+'<g id="'+b.LayerName+'">\n';for(var v=rvDataSets[0].SpeciesEntry.Circle_Radius*b.ScaleFactor,k=0;k<rvDataSets[0].Residues.length;k++)(m=rvDataSets[0].Residues[k])&&b.dataLayerColors[k]&&(output=b.Filled?output+'<circle id="'+m.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+'" fill="'+b.dataLayerColors[k]+'" stroke="'+b.dataLayerColors[k]+'" stroke-width="0.5" stroke-miterlimit="10" cx="'+
parseFloat(m.X).toFixed(3)+'" cy="'+parseFloat(m.Y).toFixed(3)+'" r="'+v+'"/>\n':output+'<circle id="'+m.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+'" fill="none" stroke="'+b.dataLayerColors[k]+'" stroke-width="0.5" stroke-miterlimit="10" cx="'+parseFloat(m.X).toFixed(3)+'" cy="'+parseFloat(m.Y).toFixed(3)+'" r="'+v+'"/>\n');output+="</g>\n";break;case "selected":output=output+'<g id="'+b.LayerName+'">\n';var v=rvDataSets[0].SpeciesEntry.Circle_Radius*b.ScaleFactor,q=[];$(".checkBoxDIV-S").find(".visibilityCheckImg[value=visible]").parent().parent().each(function(a){q.push($(this).attr("name"))});
$.each(q,function(a,b){var c=rvDataSets[0].getSelection(b);output=output+'<g id="'+c.Name+'">\n';$.each(c.Residues,function(a,b){output=output+'<circle id="'+b.resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")+'" fill="none" stroke="'+c.Color+'" stroke-width="0.5" stroke-miterlimit="10" cx="'+parseFloat(b.X).toFixed(3)+'" cy="'+parseFloat(b.Y).toFixed(3)+'" r="'+v+'"/>\n'});output+="</g>\n"});output+="</g>\n"}});output+=watermark(!0);output+="</svg>";return{SVG:output,Orientation:k}}
function computeSeqTable(){var a="",k="",a=a+"WholeSet,WholeSet\n",a=a+"resNum,resName\n";$.each(rvDataSets[0].Residues,function(c,e){a+=rvDataSets[0].SpeciesEntry.Molecule_Names[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(e.ChainID)]+":"+e.resNum.replace(/[^:]*:/g,"")+","+e.resName+"\n"});var c=$.csv.toArrays(a);$.each(rvDataSets[0].Selections,function(a,e){0<e.Residues.length&&(c[0].push(e.Name,e.Name),c[1].push("resNum","resName"),$.each(e.Residues,function(a,b){c[2+a].push(rvDataSets[0].SpeciesEntry.Molecule_Names[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(b.ChainID)]+
":"+b.resNum.replace(/[^:]*:/g,""),b.resName)}))});$.each(c,function(a,c){k+=c.toString()+"\n"});return k}
function saveSeqTable(){AgreeFunction=function(){var a=computeSeqTable(),k=document.createElement("form");k.setAttribute("method","post");k.setAttribute("action","saveSeqTable.php");k.setAttribute("target","_blank");var c=document.createElement("input");c.setAttribute("type","hidden");c.setAttribute("name","content");c.setAttribute("value","\ufeff"+a);k.appendChild(c);document.body.appendChild(k);k.submit()};checkSavePrivacyStatus()}
function computeSeqDataTable(){var a="",k="",a=a+"WholeSet,WholeSet\n",a=a+"resNum,resName\n";$.each(rvDataSets[0].Residues,function(c,e){a+=rvDataSets[0].SpeciesEntry.Molecule_Names[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(e.ChainID)]+":"+e.resNum.replace(/[^:]*:/g,"")+","+e.resName+"\n"});var c=$.csv.toArrays(a);$.each(rvDataSets[0].Layers,function(a,e){0<e.Data.length&&"lines"!=e.Type&&(c[0].push(e.LayerName),c[1].push('"'+e.DataLabel.replace(/,/g,"\\comma\\")+'"'),$.each(e.Data,function(a,
b){c[2+a].push(b)}))});$.each(c,function(a,c){k+=c.toString()+"\n"});return k.replace(/,/g,"\t").replace(/\\comma\\/g,",")}
function computeInteractionDataTable(){var a="",a=a+"Residue_i,ResidueName_i,Residue_j,ResidueName_j,Int_Type\n";$.each(rvDataSets[0].BasePairs,function(k,c){var f=c.resIndex1,e=c.resIndex2,h=0<=rvDataSets[0].Residues[f].resNum.indexOf(":")?rvDataSets[0].Residues[f].resNum:rvDataSets[0].SpeciesEntry.Molecule_Names[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(rvDataSets[0].Residues[f].ChainID)]+":"+rvDataSets[0].Residues[f].resNum,b=0<=rvDataSets[0].Residues[e].resNum.indexOf(":")?rvDataSets[0].Residues[e].resNum:
rvDataSets[0].SpeciesEntry.Molecule_Names[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(rvDataSets[0].Residues[e].ChainID)]+":"+rvDataSets[0].Residues[e].resNum;a+=h+","+rvDataSets[0].Residues[f].resName+","+b+","+rvDataSets[0].Residues[e].resName+","+c.bp_type+"\n"});return a.replace(/,/g,"\t")}
function saveInteractionDataTable(){AgreeFunction=function(){var a=computeInteractionDataTable(),k=document.createElement("form");k.setAttribute("method","post");k.setAttribute("action","saveInteractionDataTable.php");k.setAttribute("target","_blank");var c=document.createElement("input");c.setAttribute("type","hidden");c.setAttribute("name","content");c.setAttribute("value","\ufeff"+a);k.appendChild(c);document.body.appendChild(k);k.submit()};checkSavePrivacyStatus()}
function saveSeqDataTable(){AgreeFunction=function(){var a=computeSeqDataTable(),k=document.createElement("form");k.setAttribute("method","post");k.setAttribute("action","saveSeqDataTable.php");k.setAttribute("target","_blank");var c=document.createElement("input");c.setAttribute("type","hidden");c.setAttribute("name","content");c.setAttribute("value","\ufeff"+a);k.appendChild(c);document.body.appendChild(k);k.submit()};checkSavePrivacyStatus()}
function saveFasta(){AgreeFunction=function(){var a=computeFasta(),k=document.createElement("form");k.setAttribute("method","post");k.setAttribute("action","saveFasta.php");k.setAttribute("target","_blank");var c=document.createElement("input");c.setAttribute("type","hidden");c.setAttribute("name","content");c.setAttribute("value",a);k.appendChild(c);document.body.appendChild(k);k.submit()};checkSavePrivacyStatus()}
function computeFasta(){var a="",a=a+(">"+rvDataSets[0].Name+"\n");$.each(rvDataSets[0].Residues,function(k,c){a+=c.resName});a+="\n\n";$.each(rvDataSets[0].Selections,function(k,c){0<c.Residues.length&&(a+=">"+c.Name+"\n",$.each(c.Residues,function(c,e){a+=e.resName}),a+="\n\n")});return a}
function updateModel(){if(!$('input[name="jp"][value=off]').is(":checked")){var a,k=rvDataSets[0].getSelection($("input:radio[name=selectedRadioS]").filter(":checked").parent().parent().attr("name"));if(0<k.Residues.length){for(var c="set hideNotSelected true;select ("+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and (",f=0;f<k.Residues.length;f++)null!=k.Residues[f].resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"")&&(c!="set hideNotSelected true;select ("+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+
".1 and ("&&(c+=" or "),a=k.Residues[f].resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"").match(/[A-z]/g),r1=null!=a?k.Residues[f].resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,"").replace(a,"^"+a):k.Residues[f].resNum.replace(/[^:]*:/g,"").replace(/[^:]*:/g,""),c+=r1+":"+k.Residues[f].ChainID);Jmol.script(myJmol,c+")); center selected;")}else refreshModel()}}
function refreshModel(){if(!$('input[name="jp"][value=off]').is(":checked")){for(var a="set hideNotSelected true;select ("+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1 and (",k=0;k<rvDataSets[0].SpeciesEntry.PDB_chains.length;k++)a+=":"+rvDataSets[0].SpeciesEntry.PDB_chains[k],k<rvDataSets[0].SpeciesEntry.PDB_chains.length-1&&(a+=" or ");Jmol.script(myJmol,a+")); center selected;")}}
function resetColorState(){$('input[name="jp"][value=off]').is(":checked")||(clearColor(!1),Jmol.script(myJmol,"script states/"+rvDataSets[0].SpeciesEntry.Jmol_Script),Jmol.script(myJmol,"display "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1"),updateModel())}
function populateDomainHelixMenu(){$("#selectByDomainHelix").find("option").remove().end();for(var a=[],k=[],c=[],f=0;f<rvDataSets[0].Residues.length;f++)a[f]=rvDataSets[0].Residues[f].Domain_AN,k[f]=rvDataSets[0].Residues[f].Domain_RN,c[a[f]]||(c[a[f]]=[]),0<=rvDataSets[0].Residues[f].resNum.indexOf(":")?c[a[f]].push(rvDataSets[0].Residues[f].resNum):c[a[f]].push(rvDataSets[0].SpeciesEntry.Molecule_Names[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(rvDataSets[0].Residues[f].ChainID)]+":"+rvDataSets[0].Residues[f].resNum);
var f=$.grep(a,function(b,c){return $.inArray(b,a)===c}),e=$.grep(k,function(a,b){return $.inArray(a,k)===b});$("#selectByDomainHelix").append('<optgroup label="Domains" id="domainsList" />');$.each(f,function(a,b){e[a]&&0<=e[a].indexOf("S")?$("#domainsList").append(new Option(e[a],c[b])):$("#domainsList").append(new Option("Domain "+e[a],c[b]))});for(var h=[],b=[],f=0;f<rvDataSets[0].Residues.length;f++)h[f]=rvDataSets[0].Residues[f].Helix_Num,b[h[f]]||(b[h[f]]=[]),0<=rvDataSets[0].Residues[f].resNum.indexOf(":")?
b[h[f]].push(rvDataSets[0].Residues[f].resNum):b[h[f]].push(rvDataSets[0].SpeciesEntry.Molecule_Names[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(rvDataSets[0].Residues[f].ChainID)]+":"+rvDataSets[0].Residues[f].resNum);f=$.grep(h,function(a,b){return $.inArray(a,h)===b});$("#selectByDomainHelix").append('<optgroup label="Helices" id="helciesList" />');$.each(f,function(a,c){$("#helciesList").append(new Option("Helix "+c,b[c]))});$("#selectByDomainHelix").multiselect("refresh")}
function watermark(a){if(rvDataSets[0].SpeciesEntry.MapType&&"None"!=rvDataSets[0].SpeciesEntry.MapType){var k=new Date,c,f=("portrait"==rvDataSets[0].SpeciesEntry.Orientation?779:612)-20,e="A "+rvDataSets[0].SpeciesEntry.MapType+" secondary structure, generated by RiboVision.";c=k.toLocaleString().indexOf("G");var h=rvDataSets[0].getLayerByType("labels")[0];h.CanvasContext.textAlign="left";h.CanvasContext.font='10pt "Myriad Pro", Calibri, Arial';h.CanvasContext.fillStyle="#FF5500";h.CanvasContext.fillText(e,
10,f);e='<g id="WaterMark">\n<text id="WaterMark" transform="matrix(1 0 0 1 '+(8.738).toFixed(3)+" "+(parseFloat(f)+1.145).toFixed(3)+')" fill="#f6a828" font-family="Myriad Pro" font-size="10">'+e+"</text>\n";a&&(h.CanvasContext.fillText("Saved on "+k.toLocaleString().slice(0,c-1),85,f+15),e=e+'<text id="Date" transform="matrix(1 0 0 1 '+(83.738).toFixed(3)+" "+(parseFloat(f)+15+1.145).toFixed(3)+')" fill="#f6a828" font-family="Myriad Pro" font-size="8">Saved on '+k.toLocaleString().slice(0,c-1)+
"</text>\n");return e+"</g>\n"}}function canvas_arrow(a,k,c,f){var e=Math.atan2(f-k,c-a);rvDataSets[0].Layers[0].CanvasContext.moveTo(a,k);rvDataSets[0].Layers[0].CanvasContext.lineTo(c,f);rvDataSets[0].Layers[0].CanvasContext.lineTo(c-10*Math.cos(e-Math.PI/6),f-10*Math.sin(e-Math.PI/6));rvDataSets[0].Layers[0].CanvasContext.moveTo(c,f);rvDataSets[0].Layers[0].CanvasContext.lineTo(c-10*Math.cos(e+Math.PI/6),f-10*Math.sin(e+Math.PI/6))}
function welcomeScreen(){var a=parseFloat($("#canvasDiv").css("width"))/733,k=new Image;k.onload=function(){canvas2DSupported&&(rvDataSets[0].Layers[0].clearCanvas(),rvDataSets[0].Layers[0].CanvasContext.drawImage(k,rvViews[0].x-80,rvViews[0].y-30,733*a,550*a))};k.src="images/RiboVisionLogoHigh.png"}function d2h(a){return a.toString(16)}function h2d(a){return parseInt(a,16)}
function rgb2hex(a){function k(a){return("0"+parseInt(a).toString(16)).slice(-2)}a=a.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/);return"#"+k(a[1])+k(a[2])+k(a[3])}function changeLineOpacity(a){document.getElementById("lineOpacity").innerHTML="Line Opacity: "+Math.round(100*a)+"%";$.each(rvDataSets[0].BasePairs,function(k,c){c.opacity=a});rvDataSets[0].drawBasePairs("lines")}
function drawNavLine(){if(!$('input[name="nl"][value=off]').is(":checked")){$("#NavLineDiv").empty();var a=void 0,k=void 0,c=rvDataSets[0].getSelectedLayer();if(!1!==c){var f=c.DataLabel,e=1*$("#NavLineDiv").innerWidth(),h=.95*$("#NavLineDiv").innerHeight(),b=d3.max($.map(c.Data,function(a){return parseFloat(a)})),d=d3.min($.map(c.Data,function(a){return parseFloat(a)}));void 0!==b&&(a=b);void 0!==d&&(k=d);"selected"==c.Type&&(a=1,k=0);"Protein Contacts"===c.DataLabel&&(a=1,k=0);var g=d3.scale.linear().domain([0,
rvDataSets[0].Residues.length]).range([60,e-120]),l=d3.scale.linear().domain([k,a]).range([h-40,40]),a=d3.select("#NavLineDiv").append("svg:svg").attr("width",e).attr("height",h),k=a.append("svg:g").attr("width",e).attr("height",h),b=d3.svg.line().defined(function(a){return void 0!==a&&""!==a?!isNaN(a):!1}).x(function(a,b){return g(b)}).y(function(a){return l(a)}),m=[];"selected"===c.Type?($.each(c.Data,function(a,b){m[a]=!1===b?0:1}),f="Selected Residues"):"empty data"===c.DataLabel||"None"===c.DataLabel?
$.each(c.Data,function(a,b){m[a]=0}):"Protein Contacts"===c.DataLabel?($.each(c.Data,function(a,b){m[a]=" "===b?0:1}),f="Protein Contacts"):m=c.Data;k.append("svg:path").attr("d",b(m)).style("stroke",c.Color);c=d3.svg.axis().scale(g).orient("bottom").ticks(20);a.append("g").attr("class","axis").attr("transform","translate(0,"+(h-40)+")").call(c);c=d3.svg.axis().scale(l).orient("left").ticks(5);a.append("g").attr("class","axis").attr("transform","translate(60,0)").call(c);k.append("text").attr("x",
(e-120-60)/2+60).attr("y",h-10).attr("text-anchor","middle").text("Nucleotide Number");k.append("text").attr("x",15).attr("y",h/2).attr("text-anchor","middle").attr("transform","rotate(-90 ,15,"+h/2+")").text(f)}}}
function addPopUpWindowResidue(a){function k(){var a=d3.select("#ResidueTipContent").append("svg").attr("width",e).attr("height",h),g=(e-c)/(y+b/100*(y-1)),k=d3.scale.linear().domain([0,y-1]).range([c,e-g]),l=d3.scale.linear().domain([0,100]).range([h-2*f,0]);a.selectAll("rect").data(w).enter().append("rect").attr("x",function(a,b){return k(b)}).attr("y",function(a){return f+l(a)}).attr("width",g).attr("height",function(a){return h-2*f-l(a)}).attr("fill",function(a,b){return d[b]});a.selectAll("text.number").data(w).enter().append("text").text(function(a){return a}).attr("text-anchor",
"middle").attr("x",function(a,b){return k(b)+g/2}).attr("y",function(a){return f+l(a)-5}).attr("font-family","sans-serif").attr("font-size","10px").attr("fill","black").attr("class","number").text(String);var m=d3.svg.axis().scale(k).orient("bottom").ticks(5),q=d3.svg.axis().scale(l).orient("left").ticks(5);m.tickFormat(function(a,b){return x[b]});a.append("g").attr("class","axis").attr("transform","translate("+g/2+","+(h-f)+")").call(m);a.append("g").attr("class","axis").attr("transform","translate("+
.8*c+","+f+")").call(q)}var c=40,f=20,e=192,h=128,b=20,d=["green","blue","black","red","orange"];d3.select("#ResidueTipContent svg").remove();var g=0<=rvDataSets[0].Residues[a].resNum.indexOf(":")?rvDataSets[0].Residues[a].resNum:rvDataSets[0].SpeciesEntry.Molecule_Names[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(rvDataSets[0].Residues[a].ChainID)]+":"+rvDataSets[0].Residues[a].resNum,l=$.grep(rvDataSets[0].ConservationTable,function(a){return a.resNum==g})[0];if(l){var m=(100*l.A).toFixed(1),
v=(100*l.C).toFixed(1),q=(100*l.G).toFixed(1),r=(100*l.U).toFixed(1),s=(1*l.Shannon).toFixed(2),u=(100*l.Gaps).toFixed(1),w=[m,v,q,r,u],x=["A","C","G","U","gaps"],y=w.length,l=l.Consensus;k()}else s=l="n/a";m=rvDataSets[0].getSelectedLayer();v=rvDataSets[0].Residues[a].resNum.split(":");2>v.length?$("#resName").html(rvDataSets[0].Residues[a].resName+rvDataSets[0].Residues[a].resNum+" ("+rvDataSets[0].SpeciesEntry.Molecule_Names[rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(rvDataSets[0].Residues[a].ChainID)]+
" rRNA)"):$("#resName").html(rvDataSets[0].Residues[a].resName+v[1]+" ("+v[0]+" rRNA)");$("#conSeqLetter").html("Consensus: "+l);$("#activeData").html("Selected Data: "+m.Data[a]);$("#conPercentage").html("Shannon Entropy: "+s)}
function addPopUpWindowLine(a){var k=rvDataSets[0].BasePairs[a].resIndex1,c=rvDataSets[0].BasePairs[a].resIndex2,f=rvDataSets[0].getLayerByType("lines");0<=rvDataSets[0].Residues[k].resNum.indexOf(":")||rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(rvDataSets[0].Residues[k].ChainID);0<=rvDataSets[0].Residues[c].resNum.indexOf(":")||rvDataSets[0].SpeciesEntry.PDB_chains.indexOf(rvDataSets[0].Residues[c].ChainID);$("#BasePairType").html("Interaction Type: "+f[0].DataLabel);rvDataSets[0].BasePairs[a].ProteinName?
$("#BasePairSubType").html("Interaction Subtype: "+rvDataSets[0].BasePairs[a].ProteinName+" "+rvDataSets[0].BasePairs[a].bp_type):$("#BasePairSubType").html("Interaction Subtype: "+rvDataSets[0].BasePairs[a].bp_type);addPopUpWindowResidue(k);$("#iResidueTipA").html($("#residuetip").find("#ResidueTipContent").html());addPopUpWindowResidue(c);$("#iResidueTipB").html($("#residuetip").find("#ResidueTipContent").html())}
function UpdateLocalStorage(a){var k={};if(localStorageAvailable){$("input[name='LayersCheck']").attr("checked")&&(k.rvLayers=JSON.stringify(rvDataSets[0].Layers));$("input[name='SelectionsCheck']").attr("checked")&&(k.rvSelections=JSON.stringify(rvDataSets[0].Selections));$("input[name='LastSpeciesCheck']").attr("checked")&&(k.rvLastSpecies=rvDataSets[0].Name);$("input[name='PanelSizesCheck']").attr("checked")&&(k.rvPanelSizes=JSON.stringify({PanelDivide:PanelDivide,TopDivide:TopDivide}));$("input[name='MouseModeCheck']").attr("checked")&&
(k.rvMouseMode=onebuttonmode);$("input[name='CanvasOrientationCheck']").attr("checked")&&(k.rvView=JSON.stringify(rvViews[0]));$("input[name='JmolOrientationCheck']").attr("checked")&&$('input[name="jp"][value=on]').is(":checked")&&(k.rvJmolOrientation=Jmol.evaluate(myJmol,"script('show orientation')"));localStorage.setItem(a,JSON.stringify(k));if(k=localStorage.RV_Session_List){var c=JSON.parse(k);c.push(a);a=$.grep(c,function(a,e){return $.inArray(a,c)===e});localStorage.setItem("RV_Session_List",
JSON.stringify(a))}else localStorage.setItem("RV_Session_List",JSON.stringify([a]));$("#SessionList").text(localStorage.RV_Session_List.replace(/[\[\]"]/g,"").replace(/,/g,", "))}}
function RestoreLocalStorage(a){var k=$.Deferred(),c=$.Deferred();localStorageAvailable&&(rvSaveState=JSON.parse(localStorage[a]),$("input[name='LastSpeciesCheck']").attr("checked")?loadSpecies(rvSaveState.rvLastSpecies,k,c):k.resolve());k.done(function(){processRvState(rvSaveState)});c.done(function(){$.each(rvDataSets[0].Selections,function(a,c){updateSelectionDiv(c.Name)});rvDataSets[0].drawSelection("selected");updateModel();update3Dcolors();if($("input[name='JmolOrientationCheck']").attr("checked")&&
$('input[name="jp"][value=on]').is(":checked")){var a=rvSaveState.rvJmolOrientation.match(/reset[^\n]+/);Jmol.script(myJmol,a[0])}})}function RestoreLocalStorage2(a){processRvState(a)}
function rvSaveManager(a,k){var c=$("#SaveStateFileName").val();switch(a){case "Save":switch(k){case "LocalStorage":UpdateLocalStorage(c);break;case "File":saveRvState(c);break;case "Server":storeRvState(c);break;default:alert("shouldn't happen right now")}break;case "Restore":switch(k){case "LocalStorage":RestoreLocalStorage(c);break;case "File":$("#dialog-restore-state").dialog("open");break;case "Server":retrieveRvState(c);break;default:alert("shouldn't happen right now")}break;default:alert("shouldn't happen right now")}}
function processRvState(a){if($("input[name='LayersCheck']").attr("checked")){var k=JSON.parse(a.rvLayers);rvDataSets[0].Layers=[];$.each(k,function(a,c){rvDataSets[0].Layers[a]=rvDataSets[0].HighlightLayer.fromJSON(c)});$.each(rvDataSets[0].Layers,function(a,c){c.updateZIndex(a)});var k=rvDataSets[0].getSelectedLayer(),c=rvDataSets[0].getLinkedLayer();resizeElements(!0);$(".oneLayerGroup").remove();$(".miniLayerName").remove();$.each(rvDataSets[0].Layers,function(a,c){LayerMenu(c,a)});RefreshLayerMenu();
$(".oneLayerGroup[name="+k.LayerName+"]").find(".selectLayerRadioBtn").attr("checked","checked");rvDataSets[0].selectLayer(k.LayerName);$(".oneLayerGroup[name="+c.LayerName+"]").find(".mappingRadioBtn").attr("checked","checked");rvDataSets[0].linkLayer(c.LayerName);c=rvDataSets[0].getLinkedLayer();$("#LinkSection").find(".miniLayerName").remove();$("#LinkSection").append($('<h3 class="miniLayerName ui-helper-reset ui-corner-all ui-state-default ui-corner-bottom ">').text(c.LayerName).attr("name",
c.LayerName).droppable({drop:function(a,c){ProcessBubbleDrop(a,c)}}));k=rvDataSets[0].getLayerByType("lines");rvDataSets[0].BasePairs=k[0].Data}if($("input[name='SelectionsCheck']").attr("checked")){rvDataSets[0].Selections=JSON.parse(a.rvSelections);$(".oneSelectionGroup").remove();$.each(rvDataSets[0].Selections,function(a,c){SelectionMenu(c,a)});$("#SelectionPanel div").first().next().find(".selectSelectionRadioBtn").attr("checked","checked");RefreshSelectionMenu();var f=!1;$.each(rvDataSets[0].Selections,
function(a,c){if(c.Selected)return f=c.Name,!1});$(".oneSelectionGroup[name='"+f+"']").find(".selectSelectionRadioBtn").trigger("click")}$("input[name='PanelSizesCheck']").attr("checked")&&(k=JSON.parse(a.rvPanelSizes),PanelDivide=k.PanelDivide,TopDivide=k.TopDivide,$("#canvasPorportionSlider").slider("value",PanelDivide),$("#topPorportionSlider").slider("value",TopDivide));$("input[name='MouseModeCheck']").attr("checked")&&$("#buttonmode").find("input[value='"+a.rvMouseMode+"']").trigger("click");
$("input[name='CanvasOrientationCheck']").attr("checked")&&(rvViews[0]=rvViews[0].fromJSON(a.rvView),rvViews[0].restore());$("input[name='JmolOrientationCheck']").attr("checked")&&$('input[name="jp"][value=on]').is(":checked")&&(a=a.rvJmolOrientation.match(/reset[^\n]+/),Jmol.script(myJmol,a[0]));rvDataSets[0].drawResidues("residues");rvDataSets[0].drawSelection("selected");rvDataSets[0].refreshResiduesExpanded("circles");rvDataSets[0].drawLabels("labels");rvDataSets[0].drawBasePairs("lines");$("input[name='LastSpeciesCheck']").attr("checked")||
(updateModel(),update3Dcolors())}
function RiboVisionReady(){$("#MiniOpenLayerBtn").button({});$("#LinkSection").droppable({drop:function(a,c){if($(c.draggable[0]).hasClass("miniLayerName")){var f=rvDataSets[0].getLayer($(c.draggable[0]).attr("name"));$(".oneLayerGroup[name='"+f.LayerName+"']").find(".mappingRadioBtn").prop("checked",!0);$(".oneLayerGroup[name='"+f.LayerName+"']").find(".mappingRadioBtn").trigger("change")}}});$("#MiniOpenLayerBtn").click(function(){$("#PanelTabs").tabs("option","active",0);$("#LayerDialog").dialog("open");
return!1});$("#ResidueTip").tooltip({show:!1,hide:!1,track:!1,open:function(a,c){}});$("#InteractionTip").tooltip({show:!1,hide:!1,track:!1,open:function(a,c){}});$.fx.speeds._default=1E3;$("#PanelTabs").tabs();$("#SaveTabs").tabs();$("#dialog-saveEverything").dialog({resizable:!1,autoOpen:!1,height:600,width:1E3,modal:!0,open:function(){$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}});$("#LayerDialog").dialog({autoOpen:!1,show:{effect:"blind",
duration:500},hide:{effect:"blind",duration:500},height:600,width:370,position:{my:"right top",at:"right top",of:$("#canvasDiv")}});$("#ColorDialog").dialog({autoOpen:!1,show:{effect:"blind",duration:500},hide:{effect:"blind",duration:500},height:500,position:{my:"right top",at:"right top",of:$("#canvasDiv")}});$("#InteractionSettingDialog").dialog({autoOpen:!1,show:{effect:"blind",duration:500},hide:{effect:"blind",duration:500},height:500,position:{my:"right top",at:"right top",of:$("#canvasDiv")}});
$("#RiboVisionSettingsPanel").dialog({autoOpen:!1,show:{effect:"blind",duration:300},width:1200,height:650,position:{my:"left top",at:"left top",of:$("#SiteInfo")},open:function(a){$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}});$("#clearLS").click(function(){localStorageAvailable&&(localStorage.clear(),$("#SessionList").text(""))});$("#openLayerBtn").click(function(){$("#PanelTabs").tabs("option","active",0);$("#LayerDialog").dialog("open");
return!1});$("#openColorBtn").click(function(){$("#ColorDialog").dialog("open");return!1});$("#openInteractionSettingBtn").click(function(){$("#InteractionSettingDialog").dialog("open");return!1});$("#RiboVisionSettings").click(function(){$("#RiboVisionSettingsPanel").dialog("open");return!1});$("#RiboVisionSaveManager").click(function(){$("#SaveTabs").tabs("option","active",2);$("#dialog-saveEverything").dialog("open");return!1});$(function(){$("#singleMultiChoice").buttonset()});$("#slider").slider({min:0,
max:70,value:20,orientation:"vertical",slide:function(a,c){zoom(rvViews[0].width/2,rvViews[0].height/2,Math.pow(1.1,c.value-$(this).slider("value")));rvViews[0].slideValue=c.value}});$(".ui-slider-handle").height(21).width(21);$("#TemplateLink").button();$("#dialog-unique-layer-error").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{Ok:function(){$(this).dialog("close")}},open:function(){},close:function(){}});$("#dialog-invalid-color-error").dialog({resizable:!1,autoOpen:!1,
height:"auto",width:400,modal:!0,buttons:{Ok:function(){$(this).dialog("close")}},open:function(){},close:function(){}});$("#dialog-unique-selection-error").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{Ok:function(){$(this).dialog("close")}},open:function(){},close:function(){}});$("#dialog-name-error").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{Ok:function(){$(this).dialog("close")}},open:function(){},close:function(){}});$("#dialog-generic-notice").dialog({resizable:!1,
autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{Ok:function(){$(this).dialog("close")}},open:function(){$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}});$("#dialog-layer-type-error").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{Ok:function(){$(this).dialog("close")}},open:function(){$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}});
$("#dialog-restore-state").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{Restore:function(){openRvState();$(this).dialog("close")}},open:function(){$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}});$("#Privacy-confirm").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{"I agree.":function(){set_cookie(CurrPrivacyCookie,"Agreed",42);AgreeFunction();$(this).dialog("close")},Cancel:function(){$(this).dialog("close")}},
open:function(a){$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}});$("#dialog-selection-warning").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{OK:function(a){$(this).dialog("close")}},open:function(a){$("#myJmol_object").css("visibility","hidden")},close:function(){$("#myJmol_object").css("visibility","visible")}});$("#colorpicker").farbtastic("#MainColor");$("#MainColor").button().addClass("ui-textfield").keydown(function(a){13==
a.keyCode&&$.farbtastic("#colorpicker").setColor(colorNameToHex($("#MainColor").val()))});$("#colorpicker3").farbtastic("#LineColor");$("#LineColor").button().addClass("ui-textfield").keydown(function(a){13==a.keyCode&&$.farbtastic("#colorpicker3").setColor(colorNameToHex($("#LineColor").val()))});$("#layerColorPicker").farbtastic("#layerColor");$("#layerColorPicker2").farbtastic("#layerColor2");$("#SideBarAccordian").accordion({heightStyle:"fill",activate:function(a,c){},animate:300});$("#ProtList").multiselect({minWidth:160,
selectedText:"# of # proteins selected",noneSelectedText:"Select proteins",selectedList:9});$("#ProtList").multiselect().multiselectfilter();$("#speciesList").menu({});$("#selectByDomainHelix").multiselect({minWidth:160,click:function(a,c){var f=$("#selectByDomainHelix").multiselect("getChecked").map(function(){return this.value});clearSelection();$.each(f,function(a,c){commandSelect(c.replace(/\,/g,";"))})},optgrouptoggle:function(a,c){var f=$("#selectByDomainHelix").multiselect("getChecked").map(function(){return this.value});
clearSelection();$.each(f,function(a,c){commandSelect(c.replace(/\,/g,";"))})},uncheckAll:function(){clearSelection()},checkAll:function(a,c){var f=$("#selectByDomainHelix").multiselect("getChecked").map(function(){return this.value});clearSelection();$.each(f,function(a,c){commandSelect(c.replace(/\,/g,";"))})}});$("#selectByDomainHelix").multiselect().multiselectfilter();$("#PrimaryInteractionList").multiselect({minWidth:160,multiple:!1,header:"Select a Data Set",noneSelectedText:"Select an Option",
selectedList:1,click:function(a,c){var f=$("#PrimaryInteractionList").multiselect("getChecked").map(function(){return this.value}).get()[0];0<=f.indexOf("_NPN")&&1>$("#ProtList").multiselect("getChecked").map(function(){return this.value}).get().length&&($("#dialog-generic-notice .ReplaceText").text("You have selected Protein Interactions but the protein list is empty. Please select one or more proteins."),$("#dialog-generic-notice").dialog("open"));var e=rvDataSets[0].getLayerByType("lines");e[0].DataLabel=
c.text;$("[name="+e[0].LayerName+"]").find(".layerContent").find("span[name=DataLabel]").text(e[0].DataLabel);var h=[];h[0]=c.value.replace(/[^_]+_[^_]+_/,"").replace(/[^_]+_/,"");e=$.grep(rvDataSets[0].DataDescriptions,function(a){return a.ColName===h[0]});e[0]?($(this).parent().parent().find(".DataDescription").text(e[0].Description),$(this).parent().parent().find(".ManualLink").attr("href","./Documentation/"+e[0].HelpLink+".html")):($(this).parent().parent().find(".DataDescription").text("Data Description is missing."),
$(this).parent().parent().find(".ManualLink").attr("href","./Documentation"));refreshBasePairs(f)}});$("#SecondaryInteractionList").multiselect({minWidth:160,multiple:!0,selectedText:"# of # types selected",noneSelectedText:"Select interaction types",selectedList:9,click:function(a){a=$("#SecondaryInteractionList").multiselect("getChecked").map(function(){return this.value}).get();filterBasePairs(FullBasePairSet,a)},uncheckAll:function(){var a=$("#SecondaryInteractionList").multiselect("getChecked").map(function(){return this.value}).get();
filterBasePairs(FullBasePairSet,a)},checkAll:function(a,c){var f=$("#SecondaryInteractionList").multiselect("getChecked").map(function(){return this.value}).get();filterBasePairs(FullBasePairSet,f)}});$("#SaveEverythingBtn").button().click(function(){$("#dialog-saveEverything").dialog("open");return!1});$("#freshenRvState").button().click(function(){InitRibovision(!0)});$("#ssSaveB").button().click(function(){rvSaveManager("Save","LocalStorage")});$("#ssRestoreB").button().click(function(){rvSaveManager("Restore",
"LocalStorage")});$("#ssSaveF").button().click(function(){rvSaveManager("Save","File")});$("#ssRestoreF").button().click(function(){rvSaveManager("Restore","File")});$("#openLayerBtn").button({text:!1,icons:{primary:"ui-icon-newwin"}});$("#openColorBtn").button({text:!1,icons:{primary:"ui-icon-pencil"}});$("#SelectionMode").button({text:!1,icons:{primary:"ui-icon-pin-w"}});$("#openInteractionSettingBtn").button({text:!1,icons:{primary:"ui-icon-transfer-e-w"}});$("#RiboVisionSettings").button({text:!1,
icons:{primary:"ui-icon-gear"}});$("#RiboVisionSaveManager").button({text:!1,icons:{primary:"ui-icon-wrench"}});$("#openManualBtn").button({text:!1,icons:{primary:"ui-icon-help"}});$(".toolBarBtn").css("height",$("#openLayerBtn").css("height"));$(".toolBarBtn").css("width",$("#openLayerBtn").css("width"));$("#moveMode").attr("checked","checked");$("#buttonmode").buttonset();$("#colorLinesMode").buttonset();$("#colorLinesGradientMode").buttonset();$("#zaOFF").attr("checked","checked");$("#ZAset").buttonset();
$("[name=za]").button().change(function(a,c){rvDataSets[0].drawBasePairs("lines")});$("#BaseView").buttonset();$("#bvOFF").attr("checked","checked");$("#BaseView").buttonset("refresh");$("[name=bv]").button().change(function(a,c){});$("#ResidueTipToggle").buttonset();$("#rtON").attr("checked","checked");$("#ResidueTipToggle").buttonset("refresh");$("#NavLineToggle").buttonset();$("#nlON").attr("checked","checked");$("#NavLineToggle").buttonset("refresh");$("[name=nl]").button().change(function(a,
c){resizeElements();$("#NavLineDiv").empty();drawNavLine()});$("#JmolToggle").buttonset();$("[name=jp]").button().change(function(a,c){if($('input[name="jp"][value=on]').is(":checked")){if($('input[name="jjsmol"][value=JS]').is(":checked")?JmolInfo.use="HTML5":JmolInfo.use="Java",myJmol=Jmol.getApplet("myJmol",JmolInfo),$("#jmolDiv").html(Jmol.getAppletHtml(myJmol)),$("#myJmol_appletdiv").css("z-index",-9E3),rvDataSets[0].SpeciesEntry.Jmol_Script){Jmol.script(myJmol,"script states/"+rvDataSets[0].SpeciesEntry.Jmol_Script);
Jmol.script(myJmol,"display "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1");updateModel();update3Dcolors();var f=$("#ProtList").multiselect("getChecked").map(function(){return this.value}).get();colorMappingLoop(void 0,f)}}else $("#jmolDiv").html(""),myJmol=null;resizeElements()});$("#JmolTypeToggle").buttonset();$("[name=jjsmol]").button().change(function(a,c){if(!$('input[name="jp"][value=off]').is(":checked")){$('input[name="jjsmol"][value=JS]').is(":checked")?JmolInfo.use="HTML5":JmolInfo.use=
"Java";var f=Jmol.evaluate(myJmol,"script('show orientation')");myJmol=Jmol.getApplet("myJmol",JmolInfo);$("#jmolDiv").html(Jmol.getAppletHtml(myJmol));Jmol.script(myJmol,"script states/"+rvDataSets[0].SpeciesEntry.Jmol_Script);Jmol.script(myJmol,"display "+rvDataSets[0].SpeciesEntry.Jmol_Model_Num_rRNA+".1");updateModel();update3Dcolors();var e=$("#ProtList").multiselect("getChecked").map(function(){return this.value}).get();colorMappingLoop(void 0,e);f=f.match(/reset[^\n]+/);Jmol.script(myJmol,
f[0])}});$("[name=clearColor]").button();$("[name=selebutton]").button();$(":button").button();$(":radio").button();$("[name=savelayers]").button();$("#colorSelection").button();if("undefined"!==typeof Storage){localStorageAvailable=!0;var a=localStorage.RV_Session_List;a&&($("#SessionList").text(localStorage.RV_Session_List.replace(/[\[\]"]/g,"").replace(/,/g,", ")),a=JSON.parse(a),$("#SaveStateFileName").val(a[a.length-1]))}else localStorageAvailable=!1;$("#ProtList").on("multiselectclick",function(a,
c){var f=$("#ProtList").multiselect("getChecked").map(function(){return this.value}).get();colorMappingLoop(void 0,f)});$("#ProtList").on("multiselectopen",function(a,c){var f=$("#ProtList").multiselect("getChecked").map(function(){return this.value}).get();colorMappingLoop(void 0,f)});$("#ProtList").on("multiselectcheckall",function(a,c){var f=$("#ProtList").multiselect("getChecked").map(function(){return this.value}).get();colorMappingLoop(void 0,f)});$("#ProtList").on("multiselectuncheckall",function(a,
c){var f=$("#ProtList").multiselect("getChecked").map(function(){return this.value}).get();colorMappingLoop(void 0,f)});window.File&&window.FileReader&&window.FileList&&window.Blob?($("#FileDiv").on("click","input:file",function(a){this.value=null}),$("#FileDiv").on("change","input:file",function(a){handleFileSelect(a)})):(dd=document.getElementById("FileDiv"),dd.innerHTML="Your browser doesn't support file loading feature. IE does not support it until IE10+.");modeSelect("move");$("#canvasDiv").on("mousewheel",
mouseWheelFunction);$("#canvasDiv").on("mousemove",mouseMoveFunction);$("#canvasDiv").on("mousedown",mouseEventFunction);$("#canvasDiv").on("mouseup",mouseEventFunction);$(window).on("resize",resizeElements);$(window).on("mouseup",function(a){$("#canvasDiv").off("mousemove",dragHandle);$("#canvasDiv").off("mousemove",dragSelBox);rvDataSets[0].HighlightLayer.clearCanvas()});$("#canvasDiv").on("mouseout",function(a){$("#canvasDiv").trigger({type:"mouseup",which:1,clientX:a.clientX,clientY:a.clientY});
rvDataSets[0].HighlightLayer.clearCanvas()});$("#canvasPorportionSlider").slider({min:5,max:95,value:50,orientation:"horizontal",slide:function(a,c){PanelDivide=c.value/100;resizeElements()}});$("#topPorportionSlider").slider({min:50,max:90,value:78.5,orientation:"vertical",slide:function(a,c){TopDivide=(100-c.value)/100;resizeElements()}});$(".ui-slider-handle").height(21).width(21);$("#lineOpacitySlider").slider({min:0,max:1,value:.5,step:.05,orientation:"horizontal",slide:function(a,c){changeLineOpacity(c.value)}});
$(".ui-slider-handle").height(21).width(21);$(window).unload(function(){});$("#SelectionMode").click(function(){});$("#JmolTypeToggle2").buttonset();$("#SetDefaultJmolType").button().click(function(){$("#dialog-Jmol-Type").dialog("open")});$("#dialog-Jmol-Type").dialog({resizable:!1,autoOpen:!1,height:"auto",width:900,modal:!0,buttons:{Ok:function(){var a;$('input[name="jjsmol2"][value=Java]').is(":checked")?($('[name="jjsmol"][value="Java"]').attr("checked",!0),$('[name="jp"][value="on"]').attr("checked",
!0).trigger("change"),a="Java"):$('input[name="jjsmol2"][value=JS]').is(":checked")?($('[name="jjsmol"][value="JS"]').attr("checked",!0),$('[name="jp"][value="on"]').attr("checked",!0).trigger("change"),a="JS"):$('input[name="jjsmol2"][value=Disabled]').is(":checked")?($('[name="jp"][value="off"]').attr("checked",!0).trigger("change"),$('[name="jjsmol"][value="Java"]').attr("checked",!0),a="Disabled"):alert("How did this happen?");$("#JmolTypeToggle").buttonset("refresh");$("#RememberJmol").is(":checked")&&
set_cookie("JmolState",a,365);$(this).dialog("close")}},open:function(){myJmol=Jmol.getApplet("myJmol",JmolInfo,!0);$("#JMolDisabled").attr("checked","checked");$("#JmolTypeToggle2").buttonset("refresh")},close:function(){}});Jmol.setDocument(0);$("#JmolTypeToggle").buttonset("refresh");InitLayers();InitSelections();InitRibovision()}
function InitRibovision(a){rvDataSets[0]=new rvDataSet("EmptyDataSet");rvDataSets[0].addHighlightLayer("HighlightLayer","HighlightLayer",[],!1,1.176,"highlight");rvDataSets[0].addLayer("Interactions","InteractionsLayer",[],!0,1,"lines");rvDataSets[0].addLayer("Labels","LabelLayer",[],!0,1,"labels");rvDataSets[0].addLayer("Letters","NucleotideLayer",[],!0,1,"residues");rvDataSets[0].addLayer("Circles","CircleLayer1",[],!0,1,"circles");rvDataSets[0].addLayer("Selection","SSelectionLayer",[],!1,1.176,
"selected");rvDataSets[0].sort();rvViews[0]=new rvView(20,20,1.2);$(".oneLayerGroup").remove();$(".oneSelectionGroup").remove();rvDataSets[0].addSelection("Selection_1");switch(get_cookie("JmolState")){case "Java":$('[name="jjsmol"][value="Java"]').attr("checked",!0);$('[name="jp"][value="on"]').attr("checked",!0).trigger("change");break;case "JS":$('[name="jjsmol"][value="JS"]').attr("checked",!0);$('[name="jp"][value="on"]').attr("checked",!0).trigger("change");break;case "Disabled":$('[name="jp"][value="off"]').attr("checked",
!0).trigger("change");$('[name="jjsmol"][value="Java"]').attr("checked",!0);break;default:$("#dialog-Jmol-Type").dialog("open")}canvas2DSupported&&InitRibovision2(!1,a);resizeElements();canvas2DSupported&&OpenStateOnLoad&&!a&&($("#SaveTabs").tabs("option","active",2),$("#dialog-saveEverything").dialog("open"))}
function InitRibovision2(a,k){rvViews[0].width=rvDataSets[0].HighlightLayer.Canvas.width;rvViews[0].height=rvDataSets[0].HighlightLayer.Canvas.height;rvViews[0].clientWidth=rvDataSets[0].HighlightLayer.Canvas.clientWidth;rvViews[0].clientHeight=rvDataSets[0].HighlightLayer.Canvas.clientHeight;$(".miniLayerName").remove();$(".oneLayerGroup").remove();$.each(rvDataSets[0].Layers,function(a,c){LayerMenu(c,a)});RefreshLayerMenu();var c=rvDataSets[0].getLinkedLayer();$("#LinkSection").find(".miniLayerName").remove();
$("#LinkSection").append($('<h3 class="miniLayerName ui-helper-reset ui-corner-all ui-state-default ui-corner-bottom ">').text(c.LayerName).attr("name",c.LayerName).droppable({drop:function(a,c){ProcessBubbleDrop(a,c)}}));$(".oneSelectionGroup").remove();$.each(rvDataSets[0].Selections.reverse(),function(a,c){SelectionMenu(c,a)});$("#SelectionPanel div").first().next().find(".selectSelectionRadioBtn").attr("checked","checked");RefreshSelectionMenu();document.getElementById("commandline").value="";
rvDataSets[0].drawResidues("residues");rvDataSets[0].drawSelection("selected");rvDataSets[0].refreshResiduesExpanded("circles");rvDataSets[0].drawLabels("labels");rvDataSets[0].drawBasePairs("lines");a||InitRibovision3(k)}
function InitRibovision3(a){$.getJSON("getData.php",{FetchMapList:!0},function(k){var c=[],f=[];$("#speciesList li[role=presentation]").remove();$.each(k,function(a,d){c.push(k[a].Species_Name);f.push(k[a].Subunit)});SpeciesListU=$.grep(c,function(a,d){return $.inArray(a,c)===d});$.each(SpeciesListU,function(a,d){$("#speciesList").append($("<li>").append($("<a>").attr("href","#").append($("<i>").append(SpeciesListU[a]))));for(var e=[],h=0;h<c.length;h++)SpeciesListU[a]==c[h]&&e.push(f[h]);FoundSubUnitsU=
$.grep(e,function(a,b){return $.inArray(a,e)===b});$("#speciesList li:last").append($("<ul>").attr("id",SpeciesListU[a].replace(/[\s]/g,"")+"sub"));for(var m=0;m<FoundSubUnitsU.length;m++)"LSU"==FoundSubUnitsU[m]?($("#"+SpeciesListU[a].replace(/[\s]/g,"")+"sub").append($("<li>").append($("<a>").attr("href","#").append("Large SubUnit"))),$("#speciesList li:last").append($("<ul>").attr("id",SpeciesListU[a].replace(/[\s]/g,"")+"subLSU")),$.each(k,function(c,d){k[c].Species_Name==SpeciesListU[a]&&k[c].Subunit==
FoundSubUnitsU[m]&&$("#"+SpeciesListU[a].replace(/[\s]/g,"")+"subLSU").append($("<li>").append($("<a>").attr("href","#"+k[c].SS_Table).append(k[c].DataSetName)))})):"SSU"==FoundSubUnitsU[m]&&($("#"+SpeciesListU[a].replace(/[\s]/g,"")+"sub").append($("<li>").append($("<a>").attr("href","#").append("Small SubUnit"))),$("#speciesList li:last").append($("<ul>").attr("id",SpeciesListU[a].replace(/[\s]/g,"")+"subSSU")),$.each(k,function(c,d){k[c].Species_Name==SpeciesListU[a]&&k[c].Subunit==FoundSubUnitsU[m]&&
$("#"+SpeciesListU[a].replace(/[\s]/g,"")+"subSSU").append($("<li>").append($("<a>").attr("href","#"+k[c].SS_Table).append(k[c].DataSetName)))}))});$("#speciesList").menu("refresh");var e=$("#speciesList"),h=e.find("li").first();e.iosMenu().focus().menu("focus",{},h).on("menuselect",function(a,c){var e=$(c.item).find("a").attr("href");loadSpecies(e.substr(1))});a&&e.iosMenu().data("iosMenu")._insertBackButtons()})}$(document).ready(function(){RiboVisionReady()});