(function($,undefined){var uuid=0,runiqueId=/^ui-id-\d+$/;$.ui=$.ui||{};$.extend($.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});$.fn.extend({focus:(function(orig){return function(delay,fn){return typeof delay==="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();if(fn){fn.call(elem);}},delay);}):orig.apply(this,arguments);};})($.fn.focus),scrollParent:function(){var scrollParent;if(($.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){scrollParent=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test($.css(this,"position"))&&(/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));}).eq(0);}else{scrollParent=this.parents().filter(function(){return(/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));}).eq(0);}
return(/fixed/).test(this.css("position"))||!scrollParent.length?$(document):scrollParent;},zIndex:function(zIndex){if(zIndex!==undefined){return this.css("zIndex",zIndex);}
if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value;}}
elem=elem.parent();}}
return 0;},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++uuid);}});},removeUniqueId:function(){return this.each(function(){if(runiqueId.test(this.id)){$(this).removeAttr("id");}});}});function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false;}
img=$("img[usemap=#"+mapName+"]")[0];return!!img&&visible(img);}
return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element);}
function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return $.css(this,"visibility")==="hidden";}).length;}
$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName);};}):function(elem,i,match){return!!$.data(elem,match[3]);},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")));},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN);}});if(!$("<a>").outerWidth(1).jquery){$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;if(border){size-=parseFloat($.css(elem,"border"+this+"Width"))||0;}
if(margin){size-=parseFloat($.css(elem,"margin"+this))||0;}});return size;}
$.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this);}
return this.each(function(){$(this).css(type,reduce(this,size)+"px");});};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size);}
return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px");});};});}
if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};}
if($("<a>").data("a-b","a").removeData("a-b").data("a-b")){$.fn.removeData=(function(removeData){return function(key){if(arguments.length){return removeData.call(this,$.camelCase(key));}else{return removeData.call(this);}};})($.fn.removeData);}
$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());$.support.selectstart="onselectstart"in document.createElement("div");$.fn.extend({disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(event){event.preventDefault();});},enableSelection:function(){return this.unbind(".ui-disableSelection");}});$.extend($.ui,{plugin:{add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]]);}},call:function(instance,name,args){var i,set=instance.plugins[name];if(!set||!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11){return;}
for(i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args);}}}},hasScroll:function(el,a){if($(el).css("overflow")==="hidden"){return false;}
var scroll=(a&&a==="left")?"scrollLeft":"scrollTop",has=false;if(el[scroll]>0){return true;}
el[scroll]=1;has=(el[scroll]>0);el[scroll]=0;return has;}});})(jQuery);(function($,undefined){var uuid=0,slice=Array.prototype.slice,_cleanData=$.cleanData;$.cleanData=function(elems){for(var i=0,elem;(elem=elems[i])!=null;i++){try{$(elem).triggerHandler("remove");}catch(e){}}
_cleanData(elems);};$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget;}
$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName);};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element);}
if(arguments.length){this._createWidget(options,element);}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base();basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return;}
proxiedPrototype[prop]=(function(){var _super=function(){return base.prototype[prop].apply(this,arguments);},_superApply=function(args){return base.prototype[prop].apply(this,args);};return function(){var __super=this._super,__superApply=this._superApply,returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue;};})();});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?(basePrototype.widgetEventPrefix||name):name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto);});delete existingConstructor._childConstructors;}else{base._childConstructors.push(constructor);}
$.widget.bridge(name,constructor);};$.widget.extend=function(target){var input=slice.call(arguments,1),inputIndex=0,inputLength=input.length,key,value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value);}else{target[key]=value;}}}}
return target;};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=slice.call(arguments,1),returnValue=this;options=!isMethodCall&&args.length?$.widget.extend.apply(null,[options].concat(args)):options;if(isMethodCall){this.each(function(){var methodValue,instance=$.data(this,fullName);if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'");}
if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance");}
methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false;}});}else{this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{})._init();}else{$.data(this,fullName,new object(options,this));}});}
return returnValue;};};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=uuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this.bindings=$();this.hoverable=$();this.focusable=$();if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===element){this.destroy();}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow);}
this._create();this._trigger("create",null,this._getCreateEventData());this._init();},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");},_destroy:$.noop,widget:function(){return this.element;},option:function(key,value){var options=key,parts,curOption,i;if(arguments.length===0){return $.widget.extend({},this.options);}
if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]];}
key=parts.pop();if(arguments.length===1){return curOption[key]===undefined?null:curOption[key];}
curOption[key]=value;}else{if(arguments.length===1){return this.options[key]===undefined?null:this.options[key];}
options[key]=value;}}
this._setOptions(options);return this;},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key]);}
return this;},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!value).attr("aria-disabled",value);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");}
return this;},enable:function(){return this._setOption("disabled",false);},disable:function(){return this._setOption("disabled",true);},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false;}
if(!handlers){handlers=element;element=this.element;delegateElement=this.widget();}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element);}
$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return;}
return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++;}
var match=event.match(/^(\w+)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];if(selector){delegateElement.delegate(selector,eventName,handlerProxy);}else{element.bind(eventName,handlerProxy);}});},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;element.unbind(eventName).undelegate(eventName);},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
var instance=this;return setTimeout(handlerProxy,delay||0);},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover");},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover");}});},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus");},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus");}});},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop];}}}
this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented());}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options};}
var hasOptions,effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options};}
hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay);}
if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options);}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback);}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0]);}
next();});}};});})(jQuery);(function($,undefined){var mouseHandled=false;$(document).mouseup(function(){mouseHandled=false;});$.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.bind("mousedown."+this.widgetName,function(event){return that._mouseDown(event);}).bind("click."+this.widgetName,function(event){if(true===$.data(event.target,that.widgetName+".preventClickEvent")){$.removeData(event.target,that.widgetName+".preventClickEvent");event.stopImmediatePropagation();return false;}});this.started=false;},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);}},_mouseDown:function(event){if(mouseHandled){return;}
(this._mouseStarted&&this._mouseUp(event));this._mouseDownEvent=event;var that=this,btnIsLeft=(event.which===1),elIsCancel=(typeof this.options.cancel==="string"&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:false);if(!btnIsLeft||elIsCancel||!this._mouseCapture(event)){return true;}
this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=true;},this.options.delay);}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(event)!==false);if(!this._mouseStarted){event.preventDefault();return true;}}
if(true===$.data(event.target,this.widgetName+".preventClickEvent")){$.removeData(event.target,this.widgetName+".preventClickEvent");}
this._mouseMoveDelegate=function(event){return that._mouseMove(event);};this._mouseUpDelegate=function(event){return that._mouseUp(event);};$(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);event.preventDefault();mouseHandled=true;return true;},_mouseMove:function(event){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button){return this._mouseUp(event);}
if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault();}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,event)!==false);(this._mouseStarted?this._mouseDrag(event):this._mouseUp(event));}
return!this._mouseStarted;},_mouseUp:function(event){$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(event.target===this._mouseDownEvent.target){$.data(event.target,this.widgetName+".preventClickEvent",true);}
this._mouseStop(event);}
return false;},_mouseDistanceMet:function(event){return(Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance);},_mouseDelayMet:function(){return this.mouseDelayMet;},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true;}});})(jQuery);(function($,undefined){$.ui=$.ui||{};var cachedScrollbarWidth,max=Math.max,abs=Math.abs,round=Math.round,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)];}
function parseCss(element,property){return parseInt($.css(element,property),10)||0;}
function getDimensions(elem){var raw=elem[0];if(raw.nodeType===9){return{width:elem.width(),height:elem.height(),offset:{top:0,left:0}};}
if($.isWindow(raw)){return{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}};}
if(raw.preventDefault){return{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}};}
return{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()};}
$.position={scrollbarWidth:function(){if(cachedScrollbarWidth!==undefined){return cachedScrollbarWidth;}
var w1,w2,div=$("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];$("body").append(div);w1=innerDiv.offsetWidth;div.css("overflow","scroll");w2=innerDiv.offsetWidth;if(w1===w2){w2=div[0].clientWidth;}
div.remove();return(cachedScrollbarWidth=w1-w2);},getScrollInfo:function(within){var overflowX=within.isWindow||within.isDocument?"":within.element.css("overflow-x"),overflowY=within.isWindow||within.isDocument?"":within.element.css("overflow-y"),hasOverflowX=overflowX==="scroll"||(overflowX==="auto"&&within.width<within.element[0].scrollWidth),hasOverflowY=overflowY==="scroll"||(overflowY==="auto"&&within.height<within.element[0].scrollHeight);return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0};},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]),isDocument=!!withinElement[0]&&withinElement[0].nodeType===9;return{element:withinElement,isWindow:isWindow,isDocument:isDocument,offset:withinElement.offset()||{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:isWindow?withinElement.width():withinElement.outerWidth(),height:isWindow?withinElement.height():withinElement.outerHeight()};}};$.fn.position=function(options){if(!options||!options.of){return _position.apply(this,arguments);}
options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};dimensions=getDimensions(target);if(target[0].preventDefault){options.at="left top";}
targetWidth=dimensions.width;targetHeight=dimensions.height;targetOffset=dimensions.offset;basePosition=$.extend({},targetOffset);$.each(["my","at"],function(){var pos=(options[this]||"").split(" "),horizontalOffset,verticalOffset;if(pos.length===1){pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"];}
pos[0]=rhorizontal.test(pos[0])?pos[0]:"center";pos[1]=rvertical.test(pos[1])?pos[1]:"center";horizontalOffset=roffset.exec(pos[0]);verticalOffset=roffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]];});if(collision.length===1){collision[1]=collision[0];}
if(options.at[0]==="right"){basePosition.left+=targetWidth;}else if(options.at[0]==="center"){basePosition.left+=targetWidth/2;}
if(options.at[1]==="bottom"){basePosition.top+=targetHeight;}else if(options.at[1]==="center"){basePosition.top+=targetHeight/2;}
atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==="right"){position.left-=elemWidth;}else if(options.my[0]==="center"){position.left-=elemWidth/2;}
if(options.my[1]==="bottom"){position.top-=elemHeight;}else if(options.my[1]==="center"){position.top-=elemHeight/2;}
position.left+=myOffset[0];position.top+=myOffset[1];if(!$.support.offsetFractions){position.left=round(position.left);position.top=round(position.top);}
collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]]){$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem});}});if(options.using){using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":left>0?"right":"center",vertical:bottom<0?"top":top>0?"bottom":"middle"};if(targetWidth<elemWidth&&abs(left+right)<targetWidth){feedback.horizontal="center";}
if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight){feedback.vertical="middle";}
if(max(abs(left),abs(right))>max(abs(top),abs(bottom))){feedback.important="horizontal";}else{feedback.important="vertical";}
options.using.call(this,props,feedback);};}
elem.offset($.extend(position,{using:using}));});};$.ui.position={fit:{left:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;if(data.collisionWidth>outerWidth){if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset;position.left+=overLeft-newOverRight;}else if(overRight>0&&overLeft<=0){position.left=withinOffset;}else{if(overLeft>overRight){position.left=withinOffset+outerWidth-data.collisionWidth;}else{position.left=withinOffset;}}}else if(overLeft>0){position.left+=overLeft;}else if(overRight>0){position.left-=overRight;}else{position.left=max(position.left-collisionPosLeft,position.left);}},top:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset,newOverBottom;if(data.collisionHeight>outerHeight){if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset;position.top+=overTop-newOverBottom;}else if(overBottom>0&&overTop<=0){position.top=withinOffset;}else{if(overTop>overBottom){position.top=withinOffset+outerHeight-data.collisionHeight;}else{position.top=withinOffset;}}}else if(overTop>0){position.top+=overTop;}else if(overBottom>0){position.top-=overBottom;}else{position.top=max(position.top-collisionPosTop,position.top);}}},flip:{left:function(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,atOffset=data.at[0]==="left"?data.targetWidth:data.at[0]==="right"?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft)){position.left+=myOffset+atOffset+offset;}}else if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight){position.left+=myOffset+atOffset+offset;}}},top:function(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]==="top",myOffset=top?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:data.at[1]==="bottom"?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset;if((position.top+myOffset+atOffset+offset)>overTop&&(newOverBottom<0||newOverBottom<abs(overTop))){position.top+=myOffset+atOffset+offset;}}else if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop;if((position.top+myOffset+atOffset+offset)>overBottom&&(newOverTop>0||abs(newOverTop)<overBottom)){position.top+=myOffset+atOffset+offset;}}}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments);$.ui.position.fit.left.apply(this,arguments);},top:function(){$.ui.position.flip.top.apply(this,arguments);$.ui.position.fit.top.apply(this,arguments);}}};(function(){var testElement,testElementParent,testElementStyle,offsetLeft,i,body=document.getElementsByTagName("body")[0],div=document.createElement("div");testElement=document.createElement(body?"div":"body");testElementStyle={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(body){$.extend(testElementStyle,{position:"absolute",left:"-1000px",top:"-1000px"});}
for(i in testElementStyle){testElement.style[i]=testElementStyle[i];}
testElement.appendChild(div);testElementParent=body||document.documentElement;testElementParent.insertBefore(testElement,testElementParent.firstChild);div.style.cssText="position: absolute; left: 10.7432222px;";offsetLeft=$(div).offset().left;$.support.offsetFractions=offsetLeft>10&&offsetLeft<11;testElement.innerHTML="";testElementParent.removeChild(testElement);})();}
(jQuery));(function($,undefined){var uid=0,hideProps={},showProps={};hideProps.height=hideProps.paddingTop=hideProps.paddingBottom=hideProps.borderTopWidth=hideProps.borderBottomWidth="hide";showProps.height=showProps.paddingTop=showProps.paddingBottom=showProps.borderTopWidth=showProps.borderBottomWidth="show";$.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:false,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var options=this.options;this.prevShow=this.prevHide=$();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");if(!options.collapsible&&(options.active===false||options.active==null)){options.active=0;}
this._processPanels();if(options.active<0){options.active+=this.headers.length;}
this._refresh();},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?$():this.active.next(),content:!this.active.length?$():this.active.next()};},_createIcons:function(){var icons=this.options.icons;if(icons){$("<span>").addClass("ui-accordion-header-icon ui-icon "+icons.header).prependTo(this.headers);this.active.children(".ui-accordion-header-icon").removeClass(icons.header).addClass(icons.activeHeader);this.headers.addClass("ui-accordion-icons");}},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove();},_destroy:function(){var contents;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id");}});this._destroyIcons();contents=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id");}});if(this.options.heightStyle!=="content"){contents.css("height","");}},_setOption:function(key,value){if(key==="active"){this._activate(value);return;}
if(key==="event"){if(this.options.event){this._off(this.headers,this.options.event);}
this._setupEvents(value);}
this._super(key,value);if(key==="collapsible"&&!value&&this.options.active===false){this._activate(0);}
if(key==="icons"){this._destroyIcons();if(value){this._createIcons();}}
if(key==="disabled"){this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!value);}},_keydown:function(event){if(event.altKey||event.ctrlKey){return;}
var keyCode=$.ui.keyCode,length=this.headers.length,currentIndex=this.headers.index(event.target),toFocus=false;switch(event.keyCode){case keyCode.RIGHT:case keyCode.DOWN:toFocus=this.headers[(currentIndex+1)%length];break;case keyCode.LEFT:case keyCode.UP:toFocus=this.headers[(currentIndex-1+length)%length];break;case keyCode.SPACE:case keyCode.ENTER:this._eventHandler(event);break;case keyCode.HOME:toFocus=this.headers[0];break;case keyCode.END:toFocus=this.headers[length-1];break;}
if(toFocus){$(event.target).attr("tabIndex",-1);$(toFocus).attr("tabIndex",0);toFocus.focus();event.preventDefault();}},_panelKeyDown:function(event){if(event.keyCode===$.ui.keyCode.UP&&event.ctrlKey){$(event.currentTarget).prev().focus();}},refresh:function(){var options=this.options;this._processPanels();if((options.active===false&&options.collapsible===true)||!this.headers.length){options.active=false;this.active=$();}else if(options.active===false){this._activate(0);}else if(this.active.length&&!$.contains(this.element[0],this.active[0])){if(this.headers.length===this.headers.find(".ui-state-disabled").length){options.active=false;this.active=$();}else{this._activate(Math.max(0,options.active-1));}}else{options.active=this.headers.index(this.active);}
this._destroyIcons();this._refresh();},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide();},_refresh:function(){var maxHeight,options=this.options,heightStyle=options.heightStyle,parent=this.element.parent(),accordionId=this.accordionId="ui-accordion-"+
(this.element.attr("id")||++uid);this.active=this._findActive(options.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(i){var header=$(this),headerId=header.attr("id"),panel=header.next(),panelId=panel.attr("id");if(!headerId){headerId=accordionId+"-header-"+i;header.attr("id",headerId);}
if(!panelId){panelId=accordionId+"-panel-"+i;panel.attr("id",panelId);}
header.attr("aria-controls",panelId);panel.attr("aria-labelledby",headerId);}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0);}else{this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"});}
this._createIcons();this._setupEvents(options.event);if(heightStyle==="fill"){maxHeight=parent.height();this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");if(position==="absolute"||position==="fixed"){return;}
maxHeight-=elem.outerHeight(true);});this.headers.each(function(){maxHeight-=$(this).outerHeight(true);});this.headers.next().each(function(){$(this).height(Math.max(0,maxHeight-
$(this).innerHeight()+$(this).height()));}).css("overflow","auto");}else if(heightStyle==="auto"){maxHeight=0;this.headers.next().each(function(){maxHeight=Math.max(maxHeight,$(this).css("height","").height());}).height(maxHeight);}},_activate:function(index){var active=this._findActive(index)[0];if(active===this.active[0]){return;}
active=active||this.active[0];this._eventHandler({target:active,currentTarget:active,preventDefault:$.noop});},_findActive:function(selector){return typeof selector==="number"?this.headers.eq(selector):$();},_setupEvents:function(event){var events={keydown:"_keydown"};if(event){$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler";});}
this._off(this.headers.add(this.headers.next()));this._on(this.headers,events);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers);},_eventHandler:function(event){var options=this.options,active=this.active,clicked=$(event.currentTarget),clickedIsActive=clicked[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():clicked.next(),toHide=active.next(),eventData={oldHeader:active,oldPanel:toHide,newHeader:collapsing?$():clicked,newPanel:toShow};event.preventDefault();if((clickedIsActive&&!options.collapsible)||(this._trigger("beforeActivate",event,eventData)===false)){return;}
options.active=collapsing?false:this.headers.index(clicked);this.active=clickedIsActive?$():clicked;this._toggle(eventData);active.removeClass("ui-accordion-header-active ui-state-active");if(options.icons){active.children(".ui-accordion-header-icon").removeClass(options.icons.activeHeader).addClass(options.icons.header);}
if(!clickedIsActive){clicked.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top");if(options.icons){clicked.children(".ui-accordion-header-icon").removeClass(options.icons.header).addClass(options.icons.activeHeader);}
clicked.next().addClass("ui-accordion-content-active");}},_toggle:function(data){var toShow=data.newPanel,toHide=this.prevShow.length?this.prevShow:data.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=toShow;this.prevHide=toHide;if(this.options.animate){this._animate(toShow,toHide,data);}else{toHide.hide();toShow.show();this._toggleComplete(data);}
toHide.attr({"aria-hidden":"true"});toHide.prev().attr("aria-selected","false");if(toShow.length&&toHide.length){toHide.prev().attr({"tabIndex":-1,"aria-expanded":"false"});}else if(toShow.length){this.headers.filter(function(){return $(this).attr("tabIndex")===0;}).attr("tabIndex",-1);}
toShow.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"});},_animate:function(toShow,toHide,data){var total,easing,duration,that=this,adjust=0,down=toShow.length&&(!toHide.length||(toShow.index()<toHide.index())),animate=this.options.animate||{},options=down&&animate.down||animate,complete=function(){that._toggleComplete(data);};if(typeof options==="number"){duration=options;}
if(typeof options==="string"){easing=options;}
easing=easing||options.easing||animate.easing;duration=duration||options.duration||animate.duration;if(!toHide.length){return toShow.animate(showProps,duration,easing,complete);}
if(!toShow.length){return toHide.animate(hideProps,duration,easing,complete);}
total=toShow.show().outerHeight();toHide.animate(hideProps,{duration:duration,easing:easing,step:function(now,fx){fx.now=Math.round(now);}});toShow.hide().animate(showProps,{duration:duration,easing:easing,complete:complete,step:function(now,fx){fx.now=Math.round(now);if(fx.prop!=="height"){adjust+=fx.now;}else if(that.options.heightStyle!=="content"){fx.now=Math.round(total-toHide.outerHeight()-adjust);adjust=0;}}});},_toggleComplete:function(data){var toHide=data.oldPanel;toHide.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");if(toHide.length){toHide.parent()[0].className=toHide.parent()[0].className;}
this._trigger("activate",null,data);}});})(jQuery);(function($,undefined){$.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var suppressKeyPress,suppressKeyPressRepeat,suppressInput,nodeName=this.element[0].nodeName.toLowerCase(),isTextarea=nodeName==="textarea",isInput=nodeName==="input";this.isMultiLine=isTextarea?true:isInput?false:this.element.prop("isContentEditable");this.valueMethod=this.element[isTextarea||isInput?"val":"text"];this.isNewMenu=true;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(event){if(this.element.prop("readOnly")){suppressKeyPress=true;suppressInput=true;suppressKeyPressRepeat=true;return;}
suppressKeyPress=false;suppressInput=false;suppressKeyPressRepeat=false;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:suppressKeyPress=true;this._move("previousPage",event);break;case keyCode.PAGE_DOWN:suppressKeyPress=true;this._move("nextPage",event);break;case keyCode.UP:suppressKeyPress=true;this._keyEvent("previous",event);break;case keyCode.DOWN:suppressKeyPress=true;this._keyEvent("next",event);break;case keyCode.ENTER:case keyCode.NUMPAD_ENTER:if(this.menu.active){suppressKeyPress=true;event.preventDefault();this.menu.select(event);}
break;case keyCode.TAB:if(this.menu.active){this.menu.select(event);}
break;case keyCode.ESCAPE:if(this.menu.element.is(":visible")){this._value(this.term);this.close(event);event.preventDefault();}
break;default:suppressKeyPressRepeat=true;this._searchTimeout(event);break;}},keypress:function(event){if(suppressKeyPress){suppressKeyPress=false;if(!this.isMultiLine||this.menu.element.is(":visible")){event.preventDefault();}
return;}
if(suppressKeyPressRepeat){return;}
var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:this._move("previousPage",event);break;case keyCode.PAGE_DOWN:this._move("nextPage",event);break;case keyCode.UP:this._keyEvent("previous",event);break;case keyCode.DOWN:this._keyEvent("next",event);break;}},input:function(event){if(suppressInput){suppressInput=false;event.preventDefault();return;}
this._searchTimeout(event);},focus:function(){this.selectedItem=null;this.previous=this._value();},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return;}
clearTimeout(this.searching);this.close(event);this._change(event);}});this._initSource();this.menu=$("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(event){event.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;});var menuElement=this.menu.element[0];if(!$(event.target).closest(".ui-menu-item").length){this._delay(function(){var that=this;this.document.one("mousedown",function(event){if(event.target!==that.element[0]&&event.target!==menuElement&&!$.contains(menuElement,event.target)){that.close();}});});}},menufocus:function(event,ui){if(this.isNewMenu){this.isNewMenu=false;if(event.originalEvent&&/^mouse/.test(event.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){$(event.target).trigger(event.originalEvent);});return;}}
var item=ui.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",event,{item:item})){if(event.originalEvent&&/^key/.test(event.originalEvent.type)){this._value(item.value);}}else{this.liveRegion.text(item.value);}},menuselect:function(event,ui){var item=ui.item.data("ui-autocomplete-item"),previous=this.previous;if(this.element[0]!==this.document[0].activeElement){this.element.focus();this.previous=previous;this._delay(function(){this.previous=previous;this.selectedItem=item;});}
if(false!==this._trigger("select",event,{item:item})){this._value(item.value);}
this.term=this._value();this.close(event);this.selectedItem=item;}});this.liveRegion=$("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete");}});},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove();},_setOption:function(key,value){this._super(key,value);if(key==="source"){this._initSource();}
if(key==="appendTo"){this.menu.element.appendTo(this._appendTo());}
if(key==="disabled"&&value&&this.xhr){this.xhr.abort();}},_appendTo:function(){var element=this.options.appendTo;if(element){element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0);}
if(!element){element=this.element.closest(".ui-front");}
if(!element.length){element=this.document[0].body;}
return element;},_initSource:function(){var array,url,that=this;if($.isArray(this.options.source)){array=this.options.source;this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term));};}else if(typeof this.options.source==="string"){url=this.options.source;this.source=function(request,response){if(that.xhr){that.xhr.abort();}
that.xhr=$.ajax({url:url,data:request,dataType:"json",success:function(data){response(data);},error:function(){response([]);}});};}else{this.source=this.options.source;}},_searchTimeout:function(event){clearTimeout(this.searching);this.searching=this._delay(function(){if(this.term!==this._value()){this.selectedItem=null;this.search(null,event);}},this.options.delay);},search:function(value,event){value=value!=null?value:this._value();this.term=this._value();if(value.length<this.options.minLength){return this.close(event);}
if(this._trigger("search",event)===false){return;}
return this._search(value);},_search:function(value){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:value},this._response());},_response:function(){var index=++this.requestIndex;return $.proxy(function(content){if(index===this.requestIndex){this.__response(content);}
this.pending--;if(!this.pending){this.element.removeClass("ui-autocomplete-loading");}},this);},__response:function(content){if(content){content=this._normalize(content);}
this._trigger("response",null,{content:content});if(!this.options.disabled&&content&&content.length&&!this.cancelSearch){this._suggest(content);this._trigger("open");}else{this._close();}},close:function(event){this.cancelSearch=true;this._close(event);},_close:function(event){if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",event);}},_change:function(event){if(this.previous!==this._value()){this._trigger("change",event,{item:this.selectedItem});}},_normalize:function(items){if(items.length&&items[0].label&&items[0].value){return items;}
return $.map(items,function(item){if(typeof item==="string"){return{label:item,value:item};}
return $.extend({label:item.label||item.value,value:item.value||item.label},item);});},_suggest:function(items){var ul=this.menu.element.empty();this._renderMenu(ul,items);this.isNewMenu=true;this.menu.refresh();ul.show();this._resizeMenu();ul.position($.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next();}},_resizeMenu:function(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+1,this.element.outerWidth()));},_renderMenu:function(ul,items){var that=this;$.each(items,function(index,item){that._renderItemData(ul,item);});},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-autocomplete-item",item);},_renderItem:function(ul,item){return $("<li>").append($("<a>").text(item.label)).appendTo(ul);},_move:function(direction,event){if(!this.menu.element.is(":visible")){this.search(null,event);return;}
if(this.menu.isFirstItem()&&/^previous/.test(direction)||this.menu.isLastItem()&&/^next/.test(direction)){this._value(this.term);this.menu.blur();return;}
this.menu[direction](event);},widget:function(){return this.menu.element;},_value:function(){return this.valueMethod.apply(this.element,arguments);},_keyEvent:function(keyEvent,event){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(keyEvent,event);event.preventDefault();}}});$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test(value.label||value.value||value);});}});$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(amount){return amount+(amount>1?" results are":" result is")+" available, use up and down arrow keys to navigate.";}}},__response:function(content){var message;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return;}
if(content&&content.length){message=this.options.messages.results(content.length);}else{message=this.options.messages.noResults;}
this.liveRegion.text(message);}});}
(jQuery));(function($,undefined){var lastActive,baseClasses="ui-button ui-widget ui-state-default ui-corner-all",typeClasses="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",formResetHandler=function(){var form=$(this);setTimeout(function(){form.find(":ui-button").button("refresh");},1);},radioGroup=function(radio){var name=radio.name,form=radio.form,radios=$([]);if(name){name=name.replace(/'/g,"\\'");if(form){radios=$(form).find("[name='"+name+"']");}else{radios=$("[name='"+name+"']",radio.ownerDocument).filter(function(){return!this.form;});}}
return radios;};$.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,formResetHandler);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.prop("disabled");}else{this.element.prop("disabled",this.options.disabled);}
this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var that=this,options=this.options,toggleButton=this.type==="checkbox"||this.type==="radio",activeClass=!toggleButton?"ui-state-active":"";if(options.label===null){options.label=(this.type==="input"?this.buttonElement.val():this.buttonElement.html());}
this._hoverable(this.buttonElement);this.buttonElement.addClass(baseClasses).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(options.disabled){return;}
if(this===lastActive){$(this).addClass("ui-state-active");}}).bind("mouseleave"+this.eventNamespace,function(){if(options.disabled){return;}
$(this).removeClass(activeClass);}).bind("click"+this.eventNamespace,function(event){if(options.disabled){event.preventDefault();event.stopImmediatePropagation();}});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus");},blur:function(){this.buttonElement.removeClass("ui-state-focus");}});if(toggleButton){this.element.bind("change"+this.eventNamespace,function(){that.refresh();});}
if(this.type==="checkbox"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(options.disabled){return false;}});}else if(this.type==="radio"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(options.disabled){return false;}
$(this).addClass("ui-state-active");that.buttonElement.attr("aria-pressed","true");var radio=that.element[0];radioGroup(radio).not(radio).map(function(){return $(this).button("widget")[0];}).removeClass("ui-state-active").attr("aria-pressed","false");});}else{this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(options.disabled){return false;}
$(this).addClass("ui-state-active");lastActive=this;that.document.one("mouseup",function(){lastActive=null;});}).bind("mouseup"+this.eventNamespace,function(){if(options.disabled){return false;}
$(this).removeClass("ui-state-active");}).bind("keydown"+this.eventNamespace,function(event){if(options.disabled){return false;}
if(event.keyCode===$.ui.keyCode.SPACE||event.keyCode===$.ui.keyCode.ENTER){$(this).addClass("ui-state-active");}}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){$(this).removeClass("ui-state-active");});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(event){if(event.keyCode===$.ui.keyCode.SPACE){$(this).click();}});}}
this._setOption("disabled",options.disabled);this._resetButton();},_determineButtonType:function(){var ancestor,labelSelector,checked;if(this.element.is("[type=checkbox]")){this.type="checkbox";}else if(this.element.is("[type=radio]")){this.type="radio";}else if(this.element.is("input")){this.type="input";}else{this.type="button";}
if(this.type==="checkbox"||this.type==="radio"){ancestor=this.element.parents().last();labelSelector="label[for='"+this.element.attr("id")+"']";this.buttonElement=ancestor.find(labelSelector);if(!this.buttonElement.length){ancestor=ancestor.length?ancestor.siblings():this.element.siblings();this.buttonElement=ancestor.filter(labelSelector);if(!this.buttonElement.length){this.buttonElement=ancestor.find(labelSelector);}}
this.element.addClass("ui-helper-hidden-accessible");checked=this.element.is(":checked");if(checked){this.buttonElement.addClass("ui-state-active");}
this.buttonElement.prop("aria-pressed",checked);}else{this.buttonElement=this.element;}},widget:function(){return this.buttonElement;},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(baseClasses+" ui-state-active "+typeClasses).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title");}},_setOption:function(key,value){this._super(key,value);if(key==="disabled"){this.element.prop("disabled",!!value);if(value){this.buttonElement.removeClass("ui-state-focus");}
return;}
this._resetButton();},refresh:function(){var isDisabled=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");if(isDisabled!==this.options.disabled){this._setOption("disabled",isDisabled);}
if(this.type==="radio"){radioGroup(this.element[0]).each(function(){if($(this).is(":checked")){$(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true");}else{$(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false");}});}else if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true");}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false");}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label);}
return;}
var buttonElement=this.buttonElement.removeClass(typeClasses),buttonText=$("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(buttonElement.empty()).text(),icons=this.options.icons,multipleIcons=icons.primary&&icons.secondary,buttonClasses=[];if(icons.primary||icons.secondary){if(this.options.text){buttonClasses.push("ui-button-text-icon"+(multipleIcons?"s":(icons.primary?"-primary":"-secondary")));}
if(icons.primary){buttonElement.prepend("<span class='ui-button-icon-primary ui-icon "+icons.primary+"'></span>");}
if(icons.secondary){buttonElement.append("<span class='ui-button-icon-secondary ui-icon "+icons.secondary+"'></span>");}
if(!this.options.text){buttonClasses.push(multipleIcons?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){buttonElement.attr("title",$.trim(buttonText));}}}else{buttonClasses.push("ui-button-text-only");}
buttonElement.addClass(buttonClasses.join(" "));}});$.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset");},_init:function(){this.refresh();},_setOption:function(key,value){if(key==="disabled"){this.buttons.button("option",key,value);}
this._super(key,value);},refresh:function(){var rtl=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return $(this).button("widget")[0];}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(rtl?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(rtl?"ui-corner-left":"ui-corner-right").end().end();},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return $(this).button("widget")[0];}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");}});}
(jQuery));(function($,undefined){$.extend($.ui,{datepicker:{version:"1.10.4"}});var PROP_NAME="datepicker",instActive;function Datepicker(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};$.extend(this._defaults,this.regional[""]);this.dpDiv=bindHover($("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));}
$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv;},setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this;},_attachDatepicker:function(target,settings){var nodeName,inline,inst;nodeName=target.nodeName.toLowerCase();inline=(nodeName==="div"||nodeName==="span");if(!target.id){this.uuid+=1;target.id="dp"+this.uuid;}
inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{});if(nodeName==="input"){this._connectDatepicker(target,inst);}else if(inline){this._inlineDatepicker(target,inst);}},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:(!inline?this.dpDiv:bindHover($("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))};},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName)){return;}
this._attachments(input,inst);input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(inst);$.data(target,PROP_NAME,inst);if(inst.settings.disabled){this._disableDatepicker(target);}},_attachments:function(input,inst){var showOn,buttonText,buttonImage,appendText=this._get(inst,"appendText"),isRTL=this._get(inst,"isRTL");if(inst.append){inst.append.remove();}
if(appendText){inst.append=$("<span class='"+this._appendClass+"'>"+appendText+"</span>");input[isRTL?"before":"after"](inst.append);}
input.unbind("focus",this._showDatepicker);if(inst.trigger){inst.trigger.remove();}
showOn=this._get(inst,"showOn");if(showOn==="focus"||showOn==="both"){input.focus(this._showDatepicker);}
if(showOn==="button"||showOn==="both"){buttonText=this._get(inst,"buttonText");buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$("<button type='button'></button>").addClass(this._triggerClass).html(!buttonImage?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?"before":"after"](inst.trigger);inst.trigger.click(function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput===input[0]){$.datepicker._hideDatepicker();}else if($.datepicker._datepickerShowing&&$.datepicker._lastInput!==input[0]){$.datepicker._hideDatepicker();$.datepicker._showDatepicker(input[0]);}else{$.datepicker._showDatepicker(input[0]);}
return false;});}},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var findMax,max,maxI,i,date=new Date(2009,12-1,20),dateFormat=this._get(inst,"dateFormat");if(dateFormat.match(/[DM]/)){findMax=function(names){max=0;maxI=0;for(i=0;i<names.length;i++){if(names[i].length>max){max=names[i].length;maxI=i;}}
return maxI;};date.setMonth(findMax(this._get(inst,(dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))));date.setDate(findMax(this._get(inst,(dateFormat.match(/DD/)?"dayNames":"dayNamesShort")))+20-date.getDay());}
inst.input.attr("size",this._formatDate(inst,date).length);}},_inlineDatepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName)){return;}
divSpan.addClass(this.markerClassName).append(inst.dpDiv);$.data(target,PROP_NAME,inst);this._setDate(inst,this._getDefaultDate(inst),true);this._updateDatepicker(inst);this._updateAlternate(inst);if(inst.settings.disabled){this._disableDatepicker(target);}
inst.dpDiv.css("display","block");},_dialogDatepicker:function(input,date,onSelect,settings,pos){var id,browserWidth,browserHeight,scrollX,scrollY,inst=this._dialogInst;if(!inst){this.uuid+=1;id="dp"+this.uuid;this._dialogInput=$("<input type='text' id='"+id+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);$("body").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],PROP_NAME,inst);}
extendRemove(inst.settings,settings||{});date=(date&&date.constructor===Date?this._formatDate(inst,date):date);this._dialogInput.val(date);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){browserWidth=document.documentElement.clientWidth;browserHeight=document.documentElement.clientHeight;scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth/2)-100+scrollX,(browserHeight/2)-150+scrollY];}
this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI){$.blockUI(this.dpDiv);}
$.data(this._dialogInput[0],PROP_NAME,inst);return this;},_destroyDatepicker:function(target){var nodeName,$target=$(target),inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();$.removeData(target,PROP_NAME);if(nodeName==="input"){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp);}else if(nodeName==="div"||nodeName==="span"){$target.removeClass(this.markerClassName).empty();}},_enableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();if(nodeName==="input"){target.disabled=false;inst.trigger.filter("button").each(function(){this.disabled=false;}).end().filter("img").css({opacity:"1.0",cursor:""});}else if(nodeName==="div"||nodeName==="span"){inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false);}
this._disabledInputs=$.map(this._disabledInputs,function(value){return(value===target?null:value);});},_disableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();if(nodeName==="input"){target.disabled=true;inst.trigger.filter("button").each(function(){this.disabled=true;}).end().filter("img").css({opacity:"0.5",cursor:"default"});}else if(nodeName==="div"||nodeName==="span"){inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true);}
this._disabledInputs=$.map(this._disabledInputs,function(value){return(value===target?null:value);});this._disabledInputs[this._disabledInputs.length]=target;},_isDisabledDatepicker:function(target){if(!target){return false;}
for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]===target){return true;}}
return false;},_getInst:function(target){try{return $.data(target,PROP_NAME);}catch(err){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(target,name,value){var settings,date,minDate,maxDate,inst=this._getInst(target);if(arguments.length===2&&typeof name==="string"){return(name==="defaults"?$.extend({},$.datepicker._defaults):(inst?(name==="all"?$.extend({},inst.settings):this._get(inst,name)):null));}
settings=name||{};if(typeof name==="string"){settings={};settings[name]=value;}
if(inst){if(this._curInst===inst){this._hideDatepicker();}
date=this._getDateDatepicker(target,true);minDate=this._getMinMaxDate(inst,"min");maxDate=this._getMinMaxDate(inst,"max");extendRemove(inst.settings,settings);if(minDate!==null&&settings.dateFormat!==undefined&&settings.minDate===undefined){inst.settings.minDate=this._formatDate(inst,minDate);}
if(maxDate!==null&&settings.dateFormat!==undefined&&settings.maxDate===undefined){inst.settings.maxDate=this._formatDate(inst,maxDate);}
if("disabled"in settings){if(settings.disabled){this._disableDatepicker(target);}else{this._enableDatepicker(target);}}
this._attachments($(target),inst);this._autoSize(inst);this._setDate(inst,date);this._updateAlternate(inst);this._updateDatepicker(inst);}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value);},_refreshDatepicker:function(target){var inst=this._getInst(target);if(inst){this._updateDatepicker(inst);}},_setDateDatepicker:function(target,date){var inst=this._getInst(target);if(inst){this._setDate(inst,date);this._updateDatepicker(inst);this._updateAlternate(inst);}},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);if(inst&&!inst.inline){this._setDateFromField(inst,noDefault);}
return(inst?this._getDate(inst):null);},_doKeyDown:function(event){var onSelect,dateStr,sel,inst=$.datepicker._getInst(event.target),handled=true,isRTL=inst.dpDiv.is(".ui-datepicker-rtl");inst._keyEvent=true;if($.datepicker._datepickerShowing){switch(event.keyCode){case 9:$.datepicker._hideDatepicker();handled=false;break;case 13:sel=$("td."+$.datepicker._dayOverClass+":not(."+
$.datepicker._currentClass+")",inst.dpDiv);if(sel[0]){$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0]);}
onSelect=$.datepicker._get(inst,"onSelect");if(onSelect){dateStr=$.datepicker._formatDate(inst);onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst]);}else{$.datepicker._hideDatepicker();}
return false;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");break;case 34:$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");break;case 35:if(event.ctrlKey||event.metaKey){$.datepicker._clearDate(event.target);}
handled=event.ctrlKey||event.metaKey;break;case 36:if(event.ctrlKey||event.metaKey){$.datepicker._gotoToday(event.target);}
handled=event.ctrlKey||event.metaKey;break;case 37:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?+1:-1),"D");}
handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");}
break;case 38:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,-7,"D");}
handled=event.ctrlKey||event.metaKey;break;case 39:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?-1:+1),"D");}
handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");}
break;case 40:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,+7,"D");}
handled=event.ctrlKey||event.metaKey;break;default:handled=false;}}else if(event.keyCode===36&&event.ctrlKey){$.datepicker._showDatepicker(this);}else{handled=false;}
if(handled){event.preventDefault();event.stopPropagation();}},_doKeyPress:function(event){var chars,chr,inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat"));chr=String.fromCharCode(event.charCode==null?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||(chr<" "||!chars||chars.indexOf(chr)>-1);}},_doKeyUp:function(event){var date,inst=$.datepicker._getInst(event.target);if(inst.input.val()!==inst.lastVal){try{date=$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),(inst.input?inst.input.val():null),$.datepicker._getFormatConfig(inst));if(date){$.datepicker._setDateFromField(inst);$.datepicker._updateAlternate(inst);$.datepicker._updateDatepicker(inst);}}catch(err){}}
return true;},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!=="input"){input=$("input",input.parentNode)[0];}
if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput===input){return;}
var inst,beforeShow,beforeShowSettings,isFixed,offset,showAnim,duration;inst=$.datepicker._getInst(input);if($.datepicker._curInst&&$.datepicker._curInst!==inst){$.datepicker._curInst.dpDiv.stop(true,true);if(inst&&$.datepicker._datepickerShowing){$.datepicker._hideDatepicker($.datepicker._curInst.input[0]);}}
beforeShow=$.datepicker._get(inst,"beforeShow");beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{};if(beforeShowSettings===false){return;}
extendRemove(inst.settings,beforeShowSettings);inst.lastVal=null;$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog){input.value="";}
if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight;}
isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css("position")==="fixed";return!isFixed;});offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;inst.dpDiv.empty();inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:($.datepicker._inDialog&&$.blockUI?"static":(isFixed?"fixed":"absolute")),display:"none",left:offset.left+"px",top:offset.top+"px"});if(!inst.inline){showAnim=$.datepicker._get(inst,"showAnim");duration=$.datepicker._get(inst,"duration");inst.dpDiv.zIndex($(input).zIndex()+1);$.datepicker._datepickerShowing=true;if($.effects&&$.effects.effect[showAnim]){inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration);}else{inst.dpDiv[showAnim||"show"](showAnim?duration:null);}
if($.datepicker._shouldFocusInput(inst)){inst.input.focus();}
$.datepicker._curInst=inst;}},_updateDatepicker:function(inst){this.maxRows=4;instActive=inst;inst.dpDiv.empty().append(this._generateHTML(inst));this._attachHandlers(inst);inst.dpDiv.find("."+this._dayOverClass+" a").mouseover();var origyearshtml,numMonths=this._getNumberOfMonths(inst),cols=numMonths[1],width=17;inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(cols>1){inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",(width*cols)+"em");}
inst.dpDiv[(numMonths[0]!==1||numMonths[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(inst===$.datepicker._curInst&&$.datepicker._datepickerShowing&&$.datepicker._shouldFocusInput(inst)){inst.input.focus();}
if(inst.yearshtml){origyearshtml=inst.yearshtml;setTimeout(function(){if(origyearshtml===inst.yearshtml&&inst.yearshtml){inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml);}
origyearshtml=inst.yearshtml=null;},0);}},_shouldFocusInput:function(inst){return inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&!inst.input.is(":focus");},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth(),dpHeight=inst.dpDiv.outerHeight(),inputWidth=inst.input?inst.input.outerWidth():0,inputHeight=inst.input?inst.input.outerHeight():0,viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft()),viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());offset.left-=(this._get(inst,"isRTL")?(dpWidth-inputWidth):0);offset.left-=(isFixed&&offset.left===inst.input.offset().left)?$(document).scrollLeft():0;offset.top-=(isFixed&&offset.top===(inst.input.offset().top+inputHeight))?$(document).scrollTop():0;offset.left-=Math.min(offset.left,(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,(offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(dpHeight+inputHeight):0);return offset;},_findPos:function(obj){var position,inst=this._getInst(obj),isRTL=this._get(inst,"isRTL");while(obj&&(obj.type==="hidden"||obj.nodeType!==1||$.expr.filters.hidden(obj))){obj=obj[isRTL?"previousSibling":"nextSibling"];}
position=$(obj).offset();return[position.left,position.top];},_hideDatepicker:function(input){var showAnim,duration,postProcess,onClose,inst=this._curInst;if(!inst||(input&&inst!==$.data(input,PROP_NAME))){return;}
if(this._datepickerShowing){showAnim=this._get(inst,"showAnim");duration=this._get(inst,"duration");postProcess=function(){$.datepicker._tidyDialog(inst);};if($.effects&&($.effects.effect[showAnim]||$.effects[showAnim])){inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess);}else{inst.dpDiv[(showAnim==="slideDown"?"slideUp":(showAnim==="fadeIn"?"fadeOut":"hide"))]((showAnim?duration:null),postProcess);}
if(!showAnim){postProcess();}
this._datepickerShowing=false;onClose=this._get(inst,"onClose");if(onClose){onClose.apply((inst.input?inst.input[0]:null),[(inst.input?inst.input.val():""),inst]);}
this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.dpDiv);}}
this._inDialog=false;}},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar");},_checkExternalClick:function(event){if(!$.datepicker._curInst){return;}
var $target=$(event.target),inst=$.datepicker._getInst($target[0]);if((($target[0].id!==$.datepicker._mainDivId&&$target.parents("#"+$.datepicker._mainDivId).length===0&&!$target.hasClass($.datepicker.markerClassName)&&!$target.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)))||($target.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!==inst)){$.datepicker._hideDatepicker();}},_adjustDate:function(id,offset,period){var target=$(id),inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0])){return;}
this._adjustInstDate(inst,offset+
(period==="M"?this._get(inst,"showCurrentAtPos"):0),period);this._updateDatepicker(inst);},_gotoToday:function(id){var date,target=$(id),inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear;}else{date=new Date();inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();}
this._notifyChange(inst);this._adjustDate(target);},_selectMonthYear:function(id,select,period){var target=$(id),inst=this._getInst(target[0]);inst["selected"+(period==="M"?"Month":"Year")]=inst["draw"+(period==="M"?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target);},_selectDay:function(id,month,year,td){var inst,target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])){return;}
inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear));},_clearDate:function(id){var target=$(id);this._selectDate(target,"");},_selectDate:function(id,dateStr){var onSelect,target=$(id),inst=this._getInst(target[0]);dateStr=(dateStr!=null?dateStr:this._formatDate(inst));if(inst.input){inst.input.val(dateStr);}
this._updateAlternate(inst);onSelect=this._get(inst,"onSelect");if(onSelect){onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst]);}else if(inst.input){inst.input.trigger("change");}
if(inst.inline){this._updateDatepicker(inst);}else{this._hideDatepicker();this._lastInput=inst.input[0];if(typeof(inst.input[0])!=="object"){inst.input.focus();}
this._lastInput=null;}},_updateAlternate:function(inst){var altFormat,date,dateStr,altField=this._get(inst,"altField");if(altField){altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat");date=this._getDate(inst);dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each(function(){$(this).val(dateStr);});}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),""];},iso8601Week:function(date){var time,checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/86400000)/7)+1;},parseDate:function(format,value,settings){if(format==null||value==null){throw"Invalid arguments";}
value=(typeof value==="object"?value.toString():value+"");if(value===""){return null;}
var iFormat,dim,extra,iValue=0,shortYearCutoffTemp=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff,shortYearCutoff=(typeof shortYearCutoffTemp!=="string"?shortYearCutoffTemp:new Date().getFullYear()%100+parseInt(shortYearCutoffTemp,10)),dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,doy=-1,literal=false,date,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;},getNumber=function(match){var isDoubled=lookAhead(match),size=(match==="@"?14:(match==="!"?20:(match==="y"&&isDoubled?4:(match==="o"?3:2)))),digits=new RegExp("^\\d{1,"+size+"}"),num=value.substring(iValue).match(digits);if(!num){throw"Missing number at position "+iValue;}
iValue+=num[0].length;return parseInt(num[0],10);},getName=function(match,shortNames,longNames){var index=-1,names=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]];}).sort(function(a,b){return-(a[1].length-b[1].length);});$.each(names,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()===name.toLowerCase()){index=pair[0];iValue+=name.length;return false;}});if(index!==-1){return index+1;}else{throw"Unknown name at position "+iValue;}},checkLiteral=function(){if(value.charAt(iValue)!==format.charAt(iFormat)){throw"Unexpected literal at position "+iValue;}
iValue++;};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{checkLiteral();}}else{switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":date=new Date(getNumber("@"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"!":date=new Date((getNumber("!")-this._ticksTo1970)/10000);year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"'":if(lookAhead("'")){checkLiteral();}else{literal=true;}
break;default:checkLiteral();}}}
if(iValue<value.length){extra=value.substr(iValue);if(!/^\s+/.test(extra)){throw"Extra/unparsed characters found in date: "+extra;}}
if(year===-1){year=new Date().getFullYear();}else if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+
(year<=shortYearCutoff?0:-100);}
if(doy>-1){month=1;day=doy;do{dim=this._getDaysInMonth(year,month-1);if(day<=dim){break;}
month++;day-=dim;}while(true);}
date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!==year||date.getMonth()+1!==month||date.getDate()!==day){throw"Invalid date";}
return date;},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+
Math.floor(1970/400))*24*60*60*10000000),formatDate:function(format,date,settings){if(!date){return"";}
var iFormat,dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;},formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match)){while(num.length<len){num="0"+num;}}
return num;},formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value]);},output="",literal=false;if(date){for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{output+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/86400000),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=(lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100);break;case"@":output+=date.getTime();break;case"!":output+=date.getTime()*10000+this._ticksTo1970;break;case"'":if(lookAhead("'")){output+="'";}else{literal=true;}
break;default:output+=format.charAt(iFormat);}}}}
return output;},_possibleChars:function(format){var iFormat,chars="",literal=false,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{chars+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":if(lookAhead("'")){chars+="'";}else{literal=true;}
break;default:chars+=format.charAt(iFormat);}}}
return chars;},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name];},_setDateFromField:function(inst,noDefault){if(inst.input.val()===inst.lastVal){return;}
var dateFormat=this._get(inst,"dateFormat"),dates=inst.lastVal=inst.input?inst.input.val():null,defaultDate=this._getDefaultDate(inst),date=defaultDate,settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate;}catch(event){dates=(noDefault?"":dates);}
inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=(dates?date.getDate():0);inst.currentMonth=(dates?date.getMonth():0);inst.currentYear=(dates?date.getFullYear():0);this._adjustInstDate(inst);},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date()));},_determineDate:function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date;},offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst));}catch(e){}
var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date(),year=date.getFullYear(),month=date.getMonth(),day=date.getDate(),pattern=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);while(matches){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=parseInt(matches[1],10)*7;break;case"m":case"M":month+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;}
matches=pattern.exec(offset);}
return new Date(year,month,day);},newDate=(date==null||date===""?defaultDate:(typeof date==="string"?offsetString(date):(typeof date==="number"?(isNaN(date)?defaultDate:offsetNumeric(date)):new Date(date.getTime()))));newDate=(newDate&&newDate.toString()==="Invalid Date"?defaultDate:newDate);if(newDate){newDate.setHours(0);newDate.setMinutes(0);newDate.setSeconds(0);newDate.setMilliseconds(0);}
return this._daylightSavingAdjust(newDate);},_daylightSavingAdjust:function(date){if(!date){return null;}
date.setHours(date.getHours()>12?date.getHours()+2:0);return date;},_setDate:function(inst,date,noChange){var clear=!date,origMonth=inst.selectedMonth,origYear=inst.selectedYear,newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date()));inst.selectedDay=inst.currentDay=newDate.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear();if((origMonth!==inst.selectedMonth||origYear!==inst.selectedYear)&&!noChange){this._notifyChange(inst);}
this._adjustInstDate(inst);if(inst.input){inst.input.val(clear?"":this._formatDate(inst));}},_getDate:function(inst){var startDate=(!inst.currentYear||(inst.input&&inst.input.val()==="")?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return startDate;},_attachHandlers:function(inst){var stepMonths=this._get(inst,"stepMonths"),id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map(function(){var handler={prev:function(){$.datepicker._adjustDate(id,-stepMonths,"M");},next:function(){$.datepicker._adjustDate(id,+stepMonths,"M");},hide:function(){$.datepicker._hideDatepicker();},today:function(){$.datepicker._gotoToday(id);},selectDay:function(){$.datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false;},selectMonth:function(){$.datepicker._selectMonthYear(id,this,"M");return false;},selectYear:function(){$.datepicker._selectMonthYear(id,this,"Y");return false;}};$(this).bind(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")]);});},_generateHTML:function(inst){var maxDraw,prevText,prev,nextText,next,currentText,gotoDate,controls,buttonPanel,firstDay,showWeek,dayNames,dayNamesMin,monthNames,monthNamesShort,beforeShowDay,showOtherMonths,selectOtherMonths,defaultDate,html,dow,row,group,col,selectedDate,cornerClass,calender,thead,day,daysInMonth,leadDays,curRows,numRows,printDate,dRow,tbody,daySettings,otherMonth,unselectable,tempDate=new Date(),today=this._daylightSavingAdjust(new Date(tempDate.getFullYear(),tempDate.getMonth(),tempDate.getDate())),isRTL=this._get(inst,"isRTL"),showButtonPanel=this._get(inst,"showButtonPanel"),hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext"),navigationAsDateFormat=this._get(inst,"navigationAsDateFormat"),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,"showCurrentAtPos"),stepMonths=this._get(inst,"stepMonths"),isMultiMonth=(numMonths[0]!==1||numMonths[1]!==1),currentDate=this._daylightSavingAdjust((!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay))),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--;}
if(maxDate){maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-(numMonths[0]*numMonths[1])+1,maxDate.getDate()));maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--;}}}
inst.drawMonth=drawMonth;inst.drawYear=drawYear;prevText=this._get(inst,"prevText");prevText=(!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)));prev=(this._canAdjustMonth(inst,-1,drawYear,drawMonth)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'"+" title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>":(hideIfNoPrevNext?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>"));nextText=this._get(inst,"nextText");nextText=(!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)));next=(this._canAdjustMonth(inst,+1,drawYear,drawMonth)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'"+" title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>":(hideIfNoPrevNext?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>"));currentText=this._get(inst,"currentText");gotoDate=(this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today);currentText=(!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)));controls=(!inst.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+
this._get(inst,"closeText")+"</button>":"");buttonPanel=(showButtonPanel)?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(isRTL?controls:"")+
(this._isInRange(inst,gotoDate)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'"+">"+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"";firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=(isNaN(firstDay)?0:firstDay);showWeek=this._get(inst,"showWeek");dayNames=this._get(inst,"dayNames");dayNamesMin=this._get(inst,"dayNamesMin");monthNames=this._get(inst,"monthNames");monthNamesShort=this._get(inst,"monthNamesShort");beforeShowDay=this._get(inst,"beforeShowDay");showOtherMonths=this._get(inst,"showOtherMonths");selectOtherMonths=this._get(inst,"selectOtherMonths");defaultDate=this._getDefaultDate(inst);html="";dow;for(row=0;row<numMonths[0];row++){group="";this.maxRows=4;for(col=0;col<numMonths[1];col++){selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));cornerClass=" ui-corner-all";calender="";if(isMultiMonth){calender+="<div class='ui-datepicker-group";if(numMonths[1]>1){switch(col){case 0:calender+=" ui-datepicker-group-first";cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last";cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle";cornerClass="";break;}}
calender+="'>";}
calender+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+cornerClass+"'>"+
(/all|left/.test(cornerClass)&&row===0?(isRTL?next:prev):"")+
(/all|right/.test(cornerClass)&&row===0?(isRTL?prev:next):"")+
this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>";thead=(showWeek?"<th class='ui-datepicker-week-col'>"+this._get(inst,"weekHeader")+"</th>":"");for(dow=0;dow<7;dow++){day=(dow+firstDay)%7;thead+="<th"+((dow+firstDay+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+dayNames[day]+"'>"+dayNamesMin[day]+"</span></th>";}
calender+=thead+"</tr></thead><tbody>";daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear===inst.selectedYear&&drawMonth===inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth);}
leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;curRows=Math.ceil((leadDays+daysInMonth)/7);numRows=(isMultiMonth?this.maxRows>curRows?this.maxRows:curRows:curRows);this.maxRows=numRows;printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(dRow=0;dRow<numRows;dRow++){calender+="<tr>";tbody=(!showWeek?"":"<td class='ui-datepicker-week-col'>"+
this._get(inst,"calculateWeek")(printDate)+"</td>");for(dow=0;dow<7;dow++){daySettings=(beforeShowDay?beforeShowDay.apply((inst.input?inst.input[0]:null),[printDate]):[true,""]);otherMonth=(printDate.getMonth()!==drawMonth);unselectable=(otherMonth&&!selectOtherMonths)||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate);tbody+="<td class='"+
((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+
(otherMonth?" ui-datepicker-other-month":"")+
((printDate.getTime()===selectedDate.getTime()&&drawMonth===inst.selectedMonth&&inst._keyEvent)||(defaultDate.getTime()===printDate.getTime()&&defaultDate.getTime()===selectedDate.getTime())?" "+this._dayOverClass:"")+
(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+
(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+
(printDate.getTime()===currentDate.getTime()?" "+this._currentClass:"")+
(printDate.getTime()===today.getTime()?" ui-datepicker-today":""))+"'"+
((!otherMonth||showOtherMonths)&&daySettings[2]?" title='"+daySettings[2].replace(/'/g,"&#39;")+"'":"")+
(unselectable?"":" data-handler='selectDay' data-event='click' data-month='"+printDate.getMonth()+"' data-year='"+printDate.getFullYear()+"'")+">"+
(otherMonth&&!showOtherMonths?"&#xa0;":(unselectable?"<span class='ui-state-default'>"+printDate.getDate()+"</span>":"<a class='ui-state-default"+
(printDate.getTime()===today.getTime()?" ui-state-highlight":"")+
(printDate.getTime()===currentDate.getTime()?" ui-state-active":"")+
(otherMonth?" ui-priority-secondary":"")+"' href='#'>"+printDate.getDate()+"</a>"))+"</td>";printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate);}
calender+=tbody+"</tr>";}
drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++;}
calender+="</tbody></table>"+(isMultiMonth?"</div>"+
((numMonths[0]>0&&col===numMonths[1]-1)?"<div class='ui-datepicker-row-break'></div>":""):"");group+=calender;}
html+=group;}
html+=buttonPanel;inst._keyEvent=false;return html;},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var inMinYear,inMaxYear,month,years,thisYear,determineYear,year,endYear,changeMonth=this._get(inst,"changeMonth"),changeYear=this._get(inst,"changeYear"),showMonthAfterYear=this._get(inst,"showMonthAfterYear"),html="<div class='ui-datepicker-title'>",monthHtml="";if(secondary||!changeMonth){monthHtml+="<span class='ui-datepicker-month'>"+monthNames[drawMonth]+"</span>";}else{inMinYear=(minDate&&minDate.getFullYear()===drawYear);inMaxYear=(maxDate&&maxDate.getFullYear()===drawYear);monthHtml+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){monthHtml+="<option value='"+month+"'"+
(month===drawMonth?" selected='selected'":"")+">"+monthNamesShort[month]+"</option>";}}
monthHtml+="</select>";}
if(!showMonthAfterYear){html+=monthHtml+(secondary||!(changeMonth&&changeYear)?"&#xa0;":"");}
if(!inst.yearshtml){inst.yearshtml="";if(secondary||!changeYear){html+="<span class='ui-datepicker-year'>"+drawYear+"</span>";}else{years=this._get(inst,"yearRange").split(":");thisYear=new Date().getFullYear();determineYear=function(value){var year=(value.match(/c[+\-].*/)?drawYear+parseInt(value.substring(1),10):(value.match(/[+\-].*/)?thisYear+parseInt(value,10):parseInt(value,10)));return(isNaN(year)?thisYear:year);};year=determineYear(years[0]);endYear=Math.max(year,determineYear(years[1]||""));year=(minDate?Math.max(year,minDate.getFullYear()):year);endYear=(maxDate?Math.min(endYear,maxDate.getFullYear()):endYear);inst.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;year<=endYear;year++){inst.yearshtml+="<option value='"+year+"'"+
(year===drawYear?" selected='selected'":"")+">"+year+"</option>";}
inst.yearshtml+="</select>";html+=inst.yearshtml;inst.yearshtml=null;}}
html+=this._get(inst,"yearSuffix");if(showMonthAfterYear){html+=(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")+monthHtml;}
html+="</div>";return html;},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+(period==="Y"?offset:0),month=inst.drawMonth+(period==="M"?offset:0),day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+(period==="D"?offset:0),date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period==="M"||period==="Y"){this._notifyChange(inst);}},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),newDate=(minDate&&date<minDate?minDate:date);return(maxDate&&newDate>maxDate?maxDate:newDate);},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");if(onChange){onChange.apply((inst.input?inst.input[0]:null),[inst.selectedYear,inst.selectedMonth+1,inst]);}},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return(numMonths==null?[1,1]:(typeof numMonths==="number"?[1,numMonths]:numMonths));},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null);},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate();},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay();},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst),date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()));}
return this._isInRange(inst,date);},_isInRange:function(inst,date){var yearSplit,currentYear,minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),minYear=null,maxYear=null,years=this._get(inst,"yearRange");if(years){yearSplit=years.split(":");currentYear=new Date().getFullYear();minYear=parseInt(yearSplit[0],10);maxYear=parseInt(yearSplit[1],10);if(yearSplit[0].match(/[+\-].*/)){minYear+=currentYear;}
if(yearSplit[1].match(/[+\-].*/)){maxYear+=currentYear;}}
return((!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime())&&(!minYear||date.getFullYear()>=minYear)&&(!maxYear||date.getFullYear()<=maxYear));},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");shortYearCutoff=(typeof shortYearCutoff!=="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")};},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear;}
var date=(day?(typeof day==="object"?day:this._daylightSavingAdjust(new Date(year,month,day))):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst));}});function bindHover(dpDiv){var selector="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return dpDiv.delegate(selector,"mouseout",function(){$(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){$(this).removeClass("ui-datepicker-prev-hover");}
if(this.className.indexOf("ui-datepicker-next")!==-1){$(this).removeClass("ui-datepicker-next-hover");}}).delegate(selector,"mouseover",function(){if(!$.datepicker._isDisabledDatepicker(instActive.inline?dpDiv.parent()[0]:instActive.input[0])){$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");$(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){$(this).addClass("ui-datepicker-prev-hover");}
if(this.className.indexOf("ui-datepicker-next")!==-1){$(this).addClass("ui-datepicker-next-hover");}}});}
function extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null){target[name]=props[name];}}
return target;}
$.fn.datepicker=function(options){if(!this.length){return this;}
if(!$.datepicker.initialized){$(document).mousedown($.datepicker._checkExternalClick);$.datepicker.initialized=true;}
if($("#"+$.datepicker._mainDivId).length===0){$("body").append($.datepicker.dpDiv);}
var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options==="string"&&(options==="isDisabled"||options==="getDate"||options==="widget")){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));}
if(options==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));}
return this.each(function(){typeof options==="string"?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options);});};$.datepicker=new Datepicker();$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version="1.10.4";})(jQuery);(function($,undefined){var sizeRelatedOptions={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};$.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:true,buttons:[],closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(pos){var topOffset=$(this).css(pos).offset().top;if(topOffset<0){$(this).css("top",pos.top-topOffset);}}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();if(this.options.draggable&&$.fn.draggable){this._makeDraggable();}
if(this.options.resizable&&$.fn.resizable){this._makeResizable();}
this._isOpen=false;},_init:function(){if(this.options.autoOpen){this.open();}},_appendTo:function(){var element=this.options.appendTo;if(element&&(element.jquery||element.nodeType)){return $(element);}
return this.document.find(element||"body").eq(0);},_destroy:function(){var next,originalPosition=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(true,true).remove();if(this.originalTitle){this.element.attr("title",this.originalTitle);}
next=originalPosition.parent.children().eq(originalPosition.index);if(next.length&&next[0]!==this.element[0]){next.before(this.element);}else{originalPosition.parent.append(this.element);}},widget:function(){return this.uiDialog;},disable:$.noop,enable:$.noop,close:function(event){var activeElement,that=this;if(!this._isOpen||this._trigger("beforeClose",event)===false){return;}
this._isOpen=false;this._destroyOverlay();if(!this.opener.filter(":focusable").focus().length){try{activeElement=this.document[0].activeElement;if(activeElement&&activeElement.nodeName.toLowerCase()!=="body"){$(activeElement).blur();}}catch(error){}}
this._hide(this.uiDialog,this.options.hide,function(){that._trigger("close",event);});},isOpen:function(){return this._isOpen;},moveToTop:function(){this._moveToTop();},_moveToTop:function(event,silent){var moved=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;if(moved&&!silent){this._trigger("focus",event);}
return moved;},open:function(){var that=this;if(this._isOpen){if(this._moveToTop()){this._focusTabbable();}
return;}
this._isOpen=true;this.opener=$(this.document[0].activeElement);this._size();this._position();this._createOverlay();this._moveToTop(null,true);this._show(this.uiDialog,this.options.show,function(){that._focusTabbable();that._trigger("focus");});this._trigger("open");},_focusTabbable:function(){var hasFocus=this.element.find("[autofocus]");if(!hasFocus.length){hasFocus=this.element.find(":tabbable");}
if(!hasFocus.length){hasFocus=this.uiDialogButtonPane.find(":tabbable");}
if(!hasFocus.length){hasFocus=this.uiDialogTitlebarClose.filter(":tabbable");}
if(!hasFocus.length){hasFocus=this.uiDialog;}
hasFocus.eq(0).focus();},_keepFocus:function(event){function checkFocus(){var activeElement=this.document[0].activeElement,isActive=this.uiDialog[0]===activeElement||$.contains(this.uiDialog[0],activeElement);if(!isActive){this._focusTabbable();}}
event.preventDefault();checkFocus.call(this);this._delay(checkFocus);},_createWrapper:function(){this.uiDialog=$("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+
this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(event){if(this.options.closeOnEscape&&!event.isDefaultPrevented()&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE){event.preventDefault();this.close(event);return;}
if(event.keyCode!==$.ui.keyCode.TAB){return;}
var tabbables=this.uiDialog.find(":tabbable"),first=tabbables.filter(":first"),last=tabbables.filter(":last");if((event.target===last[0]||event.target===this.uiDialog[0])&&!event.shiftKey){first.focus(1);event.preventDefault();}else if((event.target===first[0]||event.target===this.uiDialog[0])&&event.shiftKey){last.focus(1);event.preventDefault();}},mousedown:function(event){if(this._moveToTop(event)){this._focusTabbable();}}});if(!this.element.find("[aria-describedby]").length){this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")});}},_createTitlebar:function(){var uiDialogTitle;this.uiDialogTitlebar=$("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(event){if(!$(event.target).closest(".ui-dialog-titlebar-close")){this.uiDialog.focus();}}});this.uiDialogTitlebarClose=$("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:false}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(event){event.preventDefault();this.close(event);}});uiDialogTitle=$("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(uiDialogTitle);this.uiDialog.attr({"aria-labelledby":uiDialogTitle.attr("id")});},_title:function(title){if(!this.options.title){title.html("&#160;");}
title.text(this.options.title);},_createButtonPane:function(){this.uiDialogButtonPane=$("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=$("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons();},_createButtons:function(){var that=this,buttons=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if($.isEmptyObject(buttons)||($.isArray(buttons)&&!buttons.length)){this.uiDialog.removeClass("ui-dialog-buttons");return;}
$.each(buttons,function(name,props){var click,buttonOptions;props=$.isFunction(props)?{click:props,text:name}:props;props=$.extend({type:"button"},props);click=props.click;props.click=function(){click.apply(that.element[0],arguments);};buttonOptions={icons:props.icons,text:props.showText};delete props.icons;delete props.showText;$("<button></button>",props).button(buttonOptions).appendTo(that.uiButtonSet);});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog);},_makeDraggable:function(){var that=this,options=this.options;function filteredUi(ui){return{position:ui.position,offset:ui.offset};}
this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(event,ui){$(this).addClass("ui-dialog-dragging");that._blockFrames();that._trigger("dragStart",event,filteredUi(ui));},drag:function(event,ui){that._trigger("drag",event,filteredUi(ui));},stop:function(event,ui){options.position=[ui.position.left-that.document.scrollLeft(),ui.position.top-that.document.scrollTop()];$(this).removeClass("ui-dialog-dragging");that._unblockFrames();that._trigger("dragStop",event,filteredUi(ui));}});},_makeResizable:function(){var that=this,options=this.options,handles=options.resizable,position=this.uiDialog.css("position"),resizeHandles=typeof handles==="string"?handles:"n,e,s,w,se,sw,ne,nw";function filteredUi(ui){return{originalPosition:ui.originalPosition,originalSize:ui.originalSize,position:ui.position,size:ui.size};}
this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:options.maxWidth,maxHeight:options.maxHeight,minWidth:options.minWidth,minHeight:this._minHeight(),handles:resizeHandles,start:function(event,ui){$(this).addClass("ui-dialog-resizing");that._blockFrames();that._trigger("resizeStart",event,filteredUi(ui));},resize:function(event,ui){that._trigger("resize",event,filteredUi(ui));},stop:function(event,ui){options.height=$(this).height();options.width=$(this).width();$(this).removeClass("ui-dialog-resizing");that._unblockFrames();that._trigger("resizeStop",event,filteredUi(ui));}}).css("position",position);},_minHeight:function(){var options=this.options;return options.height==="auto"?options.minHeight:Math.min(options.minHeight,options.height);},_position:function(){var isVisible=this.uiDialog.is(":visible");if(!isVisible){this.uiDialog.show();}
this.uiDialog.position(this.options.position);if(!isVisible){this.uiDialog.hide();}},_setOptions:function(options){var that=this,resize=false,resizableOptions={};$.each(options,function(key,value){that._setOption(key,value);if(key in sizeRelatedOptions){resize=true;}
if(key in resizableRelatedOptions){resizableOptions[key]=value;}});if(resize){this._size();this._position();}
if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option",resizableOptions);}},_setOption:function(key,value){var isDraggable,isResizable,uiDialog=this.uiDialog;if(key==="dialogClass"){uiDialog.removeClass(this.options.dialogClass).addClass(value);}
if(key==="disabled"){return;}
this._super(key,value);if(key==="appendTo"){this.uiDialog.appendTo(this._appendTo());}
if(key==="buttons"){this._createButtons();}
if(key==="closeText"){this.uiDialogTitlebarClose.button({label:""+value});}
if(key==="draggable"){isDraggable=uiDialog.is(":data(ui-draggable)");if(isDraggable&&!value){uiDialog.draggable("destroy");}
if(!isDraggable&&value){this._makeDraggable();}}
if(key==="position"){this._position();}
if(key==="resizable"){isResizable=uiDialog.is(":data(ui-resizable)");if(isResizable&&!value){uiDialog.resizable("destroy");}
if(isResizable&&typeof value==="string"){uiDialog.resizable("option","handles",value);}
if(!isResizable&&value!==false){this._makeResizable();}}
if(key==="title"){this._title(this.uiDialogTitlebar.find(".ui-dialog-title"));}},_size:function(){var nonContentHeight,minContentHeight,maxContentHeight,options=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});if(options.minWidth>options.width){options.width=options.minWidth;}
nonContentHeight=this.uiDialog.css({height:"auto",width:options.width}).outerHeight();minContentHeight=Math.max(0,options.minHeight-nonContentHeight);maxContentHeight=typeof options.maxHeight==="number"?Math.max(0,options.maxHeight-nonContentHeight):"none";if(options.height==="auto"){this.element.css({minHeight:minContentHeight,maxHeight:maxContentHeight,height:"auto"});}else{this.element.height(Math.max(0,options.height-nonContentHeight));}
if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight());}},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var iframe=$(this);return $("<div>").css({position:"absolute",width:iframe.outerWidth(),height:iframe.outerHeight()}).appendTo(iframe.parent()).offset(iframe.offset())[0];});},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks;}},_allowInteraction:function(event){if($(event.target).closest(".ui-dialog").length){return true;}
return!!$(event.target).closest(".ui-datepicker").length;},_createOverlay:function(){if(!this.options.modal){return;}
var that=this,widgetFullName=this.widgetFullName;if(!$.ui.dialog.overlayInstances){this._delay(function(){if($.ui.dialog.overlayInstances){this.document.bind("focusin.dialog",function(event){if(!that._allowInteraction(event)){event.preventDefault();$(".ui-dialog:visible:last .ui-dialog-content").data(widgetFullName)._focusTabbable();}});}});}
this.overlay=$("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});$.ui.dialog.overlayInstances++;},_destroyOverlay:function(){if(!this.options.modal){return;}
if(this.overlay){$.ui.dialog.overlayInstances--;if(!$.ui.dialog.overlayInstances){this.document.unbind("focusin.dialog");}
this.overlay.remove();this.overlay=null;}}});$.ui.dialog.overlayInstances=0;if($.uiBackCompat!==false){$.widget("ui.dialog",$.ui.dialog,{_position:function(){var position=this.options.position,myAt=[],offset=[0,0],isVisible;if(position){if(typeof position==="string"||(typeof position==="object"&&"0"in position)){myAt=position.split?position.split(" "):[position[0],position[1]];if(myAt.length===1){myAt[1]=myAt[0];}
$.each(["left","top"],function(i,offsetPosition){if(+myAt[i]===myAt[i]){offset[i]=myAt[i];myAt[i]=offsetPosition;}});position={my:myAt[0]+(offset[0]<0?offset[0]:"+"+offset[0])+" "+
myAt[1]+(offset[1]<0?offset[1]:"+"+offset[1]),at:myAt.join(" ")};}
position=$.extend({},$.ui.dialog.prototype.options.position,position);}else{position=$.ui.dialog.prototype.options.position;}
isVisible=this.uiDialog.is(":visible");if(!isVisible){this.uiDialog.show();}
this.uiDialog.position(position);if(!isVisible){this.uiDialog.hide();}}});}}
(jQuery));(function($,undefined){$.widget("ui.draggable",$.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative";}
if(this.options.addClasses){this.element.addClass("ui-draggable");}
if(this.options.disabled){this.element.addClass("ui-draggable-disabled");}
this._mouseInit();},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();},_mouseCapture:function(event){var o=this.options;if(this.helper||o.disabled||$(event.target).closest(".ui-resizable-handle").length>0){return false;}
this.handle=this._getHandle(event);if(!this.handle){return false;}
$(o.iframeFix===true?"iframe":o.iframeFix).each(function(){$("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css($(this).offset()).appendTo("body");});return true;},_mouseStart:function(event){var o=this.options;this.helper=this._createHelper(event);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if($.ui.ddmanager){$.ui.ddmanager.current=this;}
this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=false;$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));this._setContainment();if(this._trigger("start",event)===false){this._clear();return false;}
this._cacheHelperProportions();if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}
this._mouseDrag(event,true);if($.ui.ddmanager){$.ui.ddmanager.dragStart(this,event);}
return true;},_mouseDrag:function(event,noPropagation){if(this.offsetParentCssPosition==="fixed"){this.offset.parent=this._getParentOffset();}
this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!noPropagation){var ui=this._uiHash();if(this._trigger("drag",event,ui)===false){this._mouseUp({});return false;}
this.position=ui.position;}
if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px";}
if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px";}
if($.ui.ddmanager){$.ui.ddmanager.drag(this,event);}
return false;},_mouseStop:function(event){var that=this,dropped=false;if($.ui.ddmanager&&!this.options.dropBehaviour){dropped=$.ui.ddmanager.drop(this,event);}
if(this.dropped){dropped=this.dropped;this.dropped=false;}
if(this.options.helper==="original"&&!$.contains(this.element[0].ownerDocument,this.element[0])){return false;}
if((this.options.revert==="invalid"&&!dropped)||(this.options.revert==="valid"&&dropped)||this.options.revert===true||($.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped))){$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(that._trigger("stop",event)!==false){that._clear();}});}else{if(this._trigger("stop",event)!==false){this._clear();}}
return false;},_mouseUp:function(event){$("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this);});if($.ui.ddmanager){$.ui.ddmanager.dragStop(this,event);}
return $.ui.mouse.prototype._mouseUp.call(this,event);},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({});}else{this._clear();}
return this;},_getHandle:function(event){return this.options.handle?!!$(event.target).closest(this.element.find(this.options.handle)).length:true;},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event])):(o.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!helper.parents("body").length){helper.appendTo((o.appendTo==="parent"?this.element[0].parentNode:o.appendTo));}
if(helper[0]!==this.element[0]&&!(/(fixed|absolute)/).test(helper.css("position"))){helper.css("position","absolute");}
return helper;},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ");}
if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}
if("left"in obj){this.offset.click.left=obj.left+this.margins.left;}
if("right"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}
if("top"in obj){this.offset.click.top=obj.top+this.margins.top;}
if("bottom"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_getParentOffset:function(){var po=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}
if((this.offsetParent[0]===document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&$.ui.ie)){po={top:0,left:0};}
return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var p=this.element.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var over,c,ce,o=this.options;if(!o.containment){this.containment=null;return;}
if(o.containment==="window"){this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-this.helperProportions.width-this.margins.left,$(window).scrollTop()+($(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return;}
if(o.containment==="document"){this.containment=[0,0,$(document).width()-this.helperProportions.width-this.margins.left,($(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return;}
if(o.containment.constructor===Array){this.containment=o.containment;return;}
if(o.containment==="parent"){o.containment=this.helper[0].parentNode;}
c=$(o.containment);ce=c[0];if(!ce){return;}
over=c.css("overflow")!=="hidden";this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=c;},_convertPositionTo:function(d,pos){if(!pos){pos=this.position;}
var mod=d==="absolute"?1:-1,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;if(!this.offset.scroll){this.offset.scroll={top:scroll.scrollTop(),left:scroll.scrollLeft()};}
return{top:(pos.top+
this.offset.relative.top*mod+
this.offset.parent.top*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)*mod)),left:(pos.left+
this.offset.relative.left*mod+
this.offset.parent.left*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)*mod))};},_generatePosition:function(event){var containment,co,top,left,o=this.options,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,pageX=event.pageX,pageY=event.pageY;if(!this.offset.scroll){this.offset.scroll={top:scroll.scrollTop(),left:scroll.scrollLeft()};}
if(this.originalPosition){if(this.containment){if(this.relative_container){co=this.relative_container.offset();containment=[this.containment[0]+co.left,this.containment[1]+co.top,this.containment[2]+co.left,this.containment[3]+co.top];}else{containment=this.containment;}
if(event.pageX-this.offset.click.left<containment[0]){pageX=containment[0]+this.offset.click.left;}
if(event.pageY-this.offset.click.top<containment[1]){pageY=containment[1]+this.offset.click.top;}
if(event.pageX-this.offset.click.left>containment[2]){pageX=containment[2]+this.offset.click.left;}
if(event.pageY-this.offset.click.top>containment[3]){pageY=containment[3]+this.offset.click.top;}}
if(o.grid){top=o.grid[1]?this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;pageY=containment?((top-this.offset.click.top>=containment[1]||top-this.offset.click.top>containment[3])?top:((top-this.offset.click.top>=containment[1])?top-o.grid[1]:top+o.grid[1])):top;left=o.grid[0]?this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;pageX=containment?((left-this.offset.click.left>=containment[0]||left-this.offset.click.left>containment[2])?left:((left-this.offset.click.left>=containment[0])?left-o.grid[0]:left+o.grid[0])):left;}}
return{top:(pageY-
this.offset.click.top-
this.offset.relative.top-
this.offset.parent.top+
(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)),left:(pageX-
this.offset.click.left-
this.offset.relative.left-
this.offset.parent.left+
(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left))};},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove();}
this.helper=null;this.cancelHelperRemoval=false;},_trigger:function(type,event,ui){ui=ui||this._uiHash();$.ui.plugin.call(this,type,[event,ui]);if(type==="drag"){this.positionAbs=this._convertPositionTo("absolute");}
return $.Widget.prototype._trigger.call(this,type,event,ui);},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs};}});$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui){var inst=$(this).data("ui-draggable"),o=inst.options,uiSortable=$.extend({},ui,{item:inst.element});inst.sortables=[];$(o.connectToSortable).each(function(){var sortable=$.data(this,"ui-sortable");if(sortable&&!sortable.options.disabled){inst.sortables.push({instance:sortable,shouldRevert:sortable.options.revert});sortable.refreshPositions();sortable._trigger("activate",event,uiSortable);}});},stop:function(event,ui){var inst=$(this).data("ui-draggable"),uiSortable=$.extend({},ui,{item:inst.element});$.each(inst.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;inst.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=this.shouldRevert;}
this.instance._mouseStop(event);this.instance.options.helper=this.instance.options._helper;if(inst.options.helper==="original"){this.instance.currentItem.css({top:"auto",left:"auto"});}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",event,uiSortable);}});},drag:function(event,ui){var inst=$(this).data("ui-draggable"),that=this;$.each(inst.sortables,function(){var innermostIntersecting=false,thisSortable=this;this.instance.positionAbs=inst.positionAbs;this.instance.helperProportions=inst.helperProportions;this.instance.offset.click=inst.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){innermostIntersecting=true;$.each(inst.sortables,function(){this.instance.positionAbs=inst.positionAbs;this.instance.helperProportions=inst.helperProportions;this.instance.offset.click=inst.offset.click;if(this!==thisSortable&&this.instance._intersectsWith(this.instance.containerCache)&&$.contains(thisSortable.instance.element[0],this.instance.element[0])){innermostIntersecting=false;}
return innermostIntersecting;});}
if(innermostIntersecting){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=$(that).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return ui.helper[0];};event.target=this.instance.currentItem[0];this.instance._mouseCapture(event,true);this.instance._mouseStart(event,true,true);this.instance.offset.click.top=inst.offset.click.top;this.instance.offset.click.left=inst.offset.click.left;this.instance.offset.parent.left-=inst.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=inst.offset.parent.top-this.instance.offset.parent.top;inst._trigger("toSortable",event);inst.dropped=this.instance.element;inst.currentItem=inst.element;this.instance.fromOutside=inst;}
if(this.instance.currentItem){this.instance._mouseDrag(event);}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",event,this.instance._uiHash(this.instance));this.instance._mouseStop(event,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove();}
inst._trigger("fromSortable",event);inst.dropped=false;}}});}});$.ui.plugin.add("draggable","cursor",{start:function(){var t=$("body"),o=$(this).data("ui-draggable").options;if(t.css("cursor")){o._cursor=t.css("cursor");}
t.css("cursor",o.cursor);},stop:function(){var o=$(this).data("ui-draggable").options;if(o._cursor){$("body").css("cursor",o._cursor);}}});$.ui.plugin.add("draggable","opacity",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("ui-draggable").options;if(t.css("opacity")){o._opacity=t.css("opacity");}
t.css("opacity",o.opacity);},stop:function(event,ui){var o=$(this).data("ui-draggable").options;if(o._opacity){$(ui.helper).css("opacity",o._opacity);}}});$.ui.plugin.add("draggable","scroll",{start:function(){var i=$(this).data("ui-draggable");if(i.scrollParent[0]!==document&&i.scrollParent[0].tagName!=="HTML"){i.overflowOffset=i.scrollParent.offset();}},drag:function(event){var i=$(this).data("ui-draggable"),o=i.options,scrolled=false;if(i.scrollParent[0]!==document&&i.scrollParent[0].tagName!=="HTML"){if(!o.axis||o.axis!=="x"){if((i.overflowOffset.top+i.scrollParent[0].offsetHeight)-event.pageY<o.scrollSensitivity){i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop+o.scrollSpeed;}else if(event.pageY-i.overflowOffset.top<o.scrollSensitivity){i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop-o.scrollSpeed;}}
if(!o.axis||o.axis!=="y"){if((i.overflowOffset.left+i.scrollParent[0].offsetWidth)-event.pageX<o.scrollSensitivity){i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft+o.scrollSpeed;}else if(event.pageX-i.overflowOffset.left<o.scrollSensitivity){i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft-o.scrollSpeed;}}}else{if(!o.axis||o.axis!=="x"){if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);}else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}}
if(!o.axis||o.axis!=="y"){if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);}else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}}
if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(i,event);}}});$.ui.plugin.add("draggable","snap",{start:function(){var i=$(this).data("ui-draggable"),o=i.options;i.snapElements=[];$(o.snap.constructor!==String?(o.snap.items||":data(ui-draggable)"):o.snap).each(function(){var $t=$(this),$o=$t.offset();if(this!==i.element[0]){i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left});}});},drag:function(event,ui){var ts,bs,ls,rs,l,r,t,b,i,first,inst=$(this).data("ui-draggable"),o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height;for(i=inst.snapElements.length-1;i>=0;i--){l=inst.snapElements[i].left;r=l+inst.snapElements[i].width;t=inst.snapElements[i].top;b=t+inst.snapElements[i].height;if(x2<l-d||x1>r+d||y2<t-d||y1>b+d||!$.contains(inst.snapElements[i].item.ownerDocument,inst.snapElements[i].item)){if(inst.snapElements[i].snapping){(inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));}
inst.snapElements[i].snapping=false;continue;}
if(o.snapMode!=="inner"){ts=Math.abs(t-y2)<=d;bs=Math.abs(b-y1)<=d;ls=Math.abs(l-x2)<=d;rs=Math.abs(r-x1)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top-inst.margins.top;}
if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top-inst.margins.top;}
if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left-inst.margins.left;}
if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left-inst.margins.left;}}
first=(ts||bs||ls||rs);if(o.snapMode!=="outer"){ts=Math.abs(t-y1)<=d;bs=Math.abs(b-y2)<=d;ls=Math.abs(l-x1)<=d;rs=Math.abs(r-x2)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top-inst.margins.top;}
if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top-inst.margins.top;}
if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left-inst.margins.left;}
if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left-inst.margins.left;}}
if(!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first)){(inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));}
inst.snapElements[i].snapping=(ts||bs||ls||rs||first);}}});$.ui.plugin.add("draggable","stack",{start:function(){var min,o=this.data("ui-draggable").options,group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0);});if(!group.length){return;}
min=parseInt($(group[0]).css("zIndex"),10)||0;$(group).each(function(i){$(this).css("zIndex",min+i);});this.css("zIndex",(min+group.length));}});$.ui.plugin.add("draggable","zIndex",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("ui-draggable").options;if(t.css("zIndex")){o._zIndex=t.css("zIndex");}
t.css("zIndex",o.zIndex);},stop:function(event,ui){var o=$(this).data("ui-draggable").options;if(o._zIndex){$(ui.helper).css("zIndex",o._zIndex);}}});})(jQuery);(function($,undefined){function isOverAxis(x,reference,size){return(x>reference)&&(x<(reference+size));}
$.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var proportions,o=this.options,accept=o.accept;this.isover=false;this.isout=true;this.accept=$.isFunction(accept)?accept:function(d){return d.is(accept);};this.proportions=function(){if(arguments.length){proportions=arguments[0];}else{return proportions?proportions:proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};}};$.ui.ddmanager.droppables[o.scope]=$.ui.ddmanager.droppables[o.scope]||[];$.ui.ddmanager.droppables[o.scope].push(this);(o.addClasses&&this.element.addClass("ui-droppable"));},_destroy:function(){var i=0,drop=$.ui.ddmanager.droppables[this.options.scope];for(;i<drop.length;i++){if(drop[i]===this){drop.splice(i,1);}}
this.element.removeClass("ui-droppable ui-droppable-disabled");},_setOption:function(key,value){if(key==="accept"){this.accept=$.isFunction(value)?value:function(d){return d.is(value);};}
$.Widget.prototype._setOption.apply(this,arguments);},_activate:function(event){var draggable=$.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass);}
if(draggable){this._trigger("activate",event,this.ui(draggable));}},_deactivate:function(event){var draggable=$.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass);}
if(draggable){this._trigger("deactivate",event,this.ui(draggable));}},_over:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass);}
this._trigger("over",event,this.ui(draggable));}},_out:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);}
this._trigger("out",event,this.ui(draggable));}},_drop:function(event,custom){var draggable=custom||$.ui.ddmanager.current,childrenIntersection=false;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return false;}
this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var inst=$.data(this,"ui-droppable");if(inst.options.greedy&&!inst.options.disabled&&inst.options.scope===draggable.options.scope&&inst.accept.call(inst.element[0],(draggable.currentItem||draggable.element))&&$.ui.intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance)){childrenIntersection=true;return false;}});if(childrenIntersection){return false;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass);}
if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);}
this._trigger("drop",event,this.ui(draggable));return this.element;}
return false;},ui:function(c){return{draggable:(c.currentItem||c.element),helper:c.helper,position:c.position,offset:c.positionAbs};}});$.ui.intersect=function(draggable,droppable,toleranceMode){if(!droppable.offset){return false;}
var draggableLeft,draggableTop,x1=(draggable.positionAbs||draggable.position.absolute).left,y1=(draggable.positionAbs||draggable.position.absolute).top,x2=x1+draggable.helperProportions.width,y2=y1+draggable.helperProportions.height,l=droppable.offset.left,t=droppable.offset.top,r=l+droppable.proportions().width,b=t+droppable.proportions().height;switch(toleranceMode){case"fit":return(l<=x1&&x2<=r&&t<=y1&&y2<=b);case"intersect":return(l<x1+(draggable.helperProportions.width/2)&&x2-(draggable.helperProportions.width/2)<r&&t<y1+(draggable.helperProportions.height/2)&&y2-(draggable.helperProportions.height/2)<b);case"pointer":draggableLeft=((draggable.positionAbs||draggable.position.absolute).left+(draggable.clickOffset||draggable.offset.click).left);draggableTop=((draggable.positionAbs||draggable.position.absolute).top+(draggable.clickOffset||draggable.offset.click).top);return isOverAxis(draggableTop,t,droppable.proportions().height)&&isOverAxis(draggableLeft,l,droppable.proportions().width);case"touch":return((y1>=t&&y1<=b)||(y2>=t&&y2<=b)||(y1<t&&y2>b))&&((x1>=l&&x1<=r)||(x2>=l&&x2<=r)||(x1<l&&x2>r));default:return false;}};$.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,event){var i,j,m=$.ui.ddmanager.droppables[t.options.scope]||[],type=event?event.type:null,list=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(i=0;i<m.length;i++){if(m[i].options.disabled||(t&&!m[i].accept.call(m[i].element[0],(t.currentItem||t.element)))){continue;}
for(j=0;j<list.length;j++){if(list[j]===m[i].element[0]){m[i].proportions().height=0;continue droppablesLoop;}}
m[i].visible=m[i].element.css("display")!=="none";if(!m[i].visible){continue;}
if(type==="mousedown"){m[i]._activate.call(m[i],event);}
m[i].offset=m[i].element.offset();m[i].proportions({width:m[i].element[0].offsetWidth,height:m[i].element[0].offsetHeight});}},drop:function(draggable,event){var dropped=false;$.each(($.ui.ddmanager.droppables[draggable.options.scope]||[]).slice(),function(){if(!this.options){return;}
if(!this.options.disabled&&this.visible&&$.ui.intersect(draggable,this,this.options.tolerance)){dropped=this._drop.call(this,event)||dropped;}
if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){this.isout=true;this.isover=false;this._deactivate.call(this,event);}});return dropped;},dragStart:function(draggable,event){draggable.element.parentsUntil("body").bind("scroll.droppable",function(){if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}});},drag:function(draggable,event){if(draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}
$.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return;}
var parentInstance,scope,parent,intersects=$.ui.intersect(draggable,this,this.options.tolerance),c=!intersects&&this.isover?"isout":(intersects&&!this.isover?"isover":null);if(!c){return;}
if(this.options.greedy){scope=this.options.scope;parent=this.element.parents(":data(ui-droppable)").filter(function(){return $.data(this,"ui-droppable").options.scope===scope;});if(parent.length){parentInstance=$.data(parent[0],"ui-droppable");parentInstance.greedyChild=(c==="isover");}}
if(parentInstance&&c==="isover"){parentInstance.isover=false;parentInstance.isout=true;parentInstance._out.call(parentInstance,event);}
this[c]=true;this[c==="isout"?"isover":"isout"]=false;this[c==="isover"?"_over":"_out"].call(this,event);if(parentInstance&&c==="isout"){parentInstance.isout=false;parentInstance.isover=true;parentInstance._over.call(parentInstance,event);}});},dragStop:function(draggable,event){draggable.element.parentsUntil("body").unbind("scroll.droppable");if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}}};})(jQuery);(function($,undefined){var dataSpace="ui-effects-";$.effects={effect:{}};(function(jQuery,undefined){var stepHooks="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",rplusequals=/^([\-+])=\s*(\d+\.?\d*)/,stringParsers=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]];}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1]*2.55,execResult[2]*2.55,execResult[3]*2.55,execResult[4]];}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)];}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)];}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(execResult){return[execResult[1],execResult[2]/100,execResult[3]/100,execResult[4]];}}],color=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha);},spaces={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},propTypes={"byte":{floor:true,max:255},"percent":{max:1},"degrees":{mod:360,floor:true}},support=color.support={},supportElem=jQuery("<p>")[0],colors,each=jQuery.each;supportElem.style.cssText="background-color:rgba(1,1,1,.5)";support.rgba=supportElem.style.backgroundColor.indexOf("rgba")>-1;each(spaces,function(spaceName,space){space.cache="_"+spaceName;space.props.alpha={idx:3,type:"percent",def:1};});function clamp(value,prop,allowEmpty){var type=propTypes[prop.type]||{};if(value==null){return(allowEmpty||!prop.def)?null:prop.def;}
value=type.floor?~~value:parseFloat(value);if(isNaN(value)){return prop.def;}
if(type.mod){return(value+type.mod)%type.mod;}
return 0>value?0:type.max<value?type.max:value;}
function stringParse(string){var inst=color(),rgba=inst._rgba=[];string=string.toLowerCase();each(stringParsers,function(i,parser){var parsed,match=parser.re.exec(string),values=match&&parser.parse(match),spaceName=parser.space||"rgba";if(values){parsed=inst[spaceName](values);inst[spaces[spaceName].cache]=parsed[spaces[spaceName].cache];rgba=inst._rgba=parsed._rgba;return false;}});if(rgba.length){if(rgba.join()==="0,0,0,0"){jQuery.extend(rgba,colors.transparent);}
return inst;}
return colors[string];}
color.fn=jQuery.extend(color.prototype,{parse:function(red,green,blue,alpha){if(red===undefined){this._rgba=[null,null,null,null];return this;}
if(red.jquery||red.nodeType){red=jQuery(red).css(green);green=undefined;}
var inst=this,type=jQuery.type(red),rgba=this._rgba=[];if(green!==undefined){red=[red,green,blue,alpha];type="array";}
if(type==="string"){return this.parse(stringParse(red)||colors._default);}
if(type==="array"){each(spaces.rgba.props,function(key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop);});return this;}
if(type==="object"){if(red instanceof color){each(spaces,function(spaceName,space){if(red[space.cache]){inst[space.cache]=red[space.cache].slice();}});}else{each(spaces,function(spaceName,space){var cache=space.cache;each(space.props,function(key,prop){if(!inst[cache]&&space.to){if(key==="alpha"||red[key]==null){return;}
inst[cache]=space.to(inst._rgba);}
inst[cache][prop.idx]=clamp(red[key],prop,true);});if(inst[cache]&&jQuery.inArray(null,inst[cache].slice(0,3))<0){inst[cache][3]=1;if(space.from){inst._rgba=space.from(inst[cache]);}}});}
return this;}},is:function(compare){var is=color(compare),same=true,inst=this;each(spaces,function(_,space){var localCache,isCache=is[space.cache];if(isCache){localCache=inst[space.cache]||space.to&&space.to(inst._rgba)||[];each(space.props,function(_,prop){if(isCache[prop.idx]!=null){same=(isCache[prop.idx]===localCache[prop.idx]);return same;}});}
return same;});return same;},_space:function(){var used=[],inst=this;each(spaces,function(spaceName,space){if(inst[space.cache]){used.push(spaceName);}});return used.pop();},transition:function(other,distance){var end=color(other),spaceName=end._space(),space=spaces[spaceName],startColor=this.alpha()===0?color("transparent"):this,start=startColor[space.cache]||space.to(startColor._rgba),result=start.slice();end=end[space.cache];each(space.props,function(key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],type=propTypes[prop.type]||{};if(endValue===null){return;}
if(startValue===null){result[index]=endValue;}else{if(type.mod){if(endValue-startValue>type.mod/2){startValue+=type.mod;}else if(startValue-endValue>type.mod/2){startValue-=type.mod;}}
result[index]=clamp((endValue-startValue)*distance+startValue,prop);}});return this[spaceName](result);},blend:function(opaque){if(this._rgba[3]===1){return this;}
var rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba;return color(jQuery.map(rgb,function(v,i){return(1-a)*blend[i]+a*v;}));},toRgbaString:function(){var prefix="rgba(",rgba=jQuery.map(this._rgba,function(v,i){return v==null?(i>2?1:0):v;});if(rgba[3]===1){rgba.pop();prefix="rgb(";}
return prefix+rgba.join()+")";},toHslaString:function(){var prefix="hsla(",hsla=jQuery.map(this.hsla(),function(v,i){if(v==null){v=i>2?1:0;}
if(i&&i<3){v=Math.round(v*100)+"%";}
return v;});if(hsla[3]===1){hsla.pop();prefix="hsl(";}
return prefix+hsla.join()+")";},toHexString:function(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();if(includeAlpha){rgba.push(~~(alpha*255));}
return"#"+jQuery.map(rgba,function(v){v=(v||0).toString(16);return v.length===1?"0"+v:v;}).join("");},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString();}});color.fn.parse.prototype=color.fn;function hue2rgb(p,q,h){h=(h+1)%1;if(h*6<1){return p+(q-p)*h*6;}
if(h*2<1){return q;}
if(h*3<2){return p+(q-p)*((2/3)-h)*6;}
return p;}
spaces.hsla.to=function(rgba){if(rgba[0]==null||rgba[1]==null||rgba[2]==null){return[null,null,null,rgba[3]];}
var r=rgba[0]/255,g=rgba[1]/255,b=rgba[2]/255,a=rgba[3],max=Math.max(r,g,b),min=Math.min(r,g,b),diff=max-min,add=max+min,l=add*0.5,h,s;if(min===max){h=0;}else if(r===max){h=(60*(g-b)/diff)+360;}else if(g===max){h=(60*(b-r)/diff)+120;}else{h=(60*(r-g)/diff)+240;}
if(diff===0){s=0;}else if(l<=0.5){s=diff/add;}else{s=diff/(2-add);}
return[Math.round(h)%360,s,l,a==null?1:a];};spaces.hsla.from=function(hsla){if(hsla[0]==null||hsla[1]==null||hsla[2]==null){return[null,null,null,hsla[3]];}
var h=hsla[0]/360,s=hsla[1],l=hsla[2],a=hsla[3],q=l<=0.5?l*(1+s):l+s-l*s,p=2*l-q;return[Math.round(hue2rgb(p,q,h+(1/3))*255),Math.round(hue2rgb(p,q,h)*255),Math.round(hue2rgb(p,q,h-(1/3))*255),a];};each(spaces,function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;color.fn[spaceName]=function(value){if(to&&!this[cache]){this[cache]=to(this._rgba);}
if(value===undefined){return this[cache].slice();}
var ret,type=jQuery.type(value),arr=(type==="array"||type==="object")?value:arguments,local=this[cache].slice();each(props,function(key,prop){var val=arr[type==="object"?key:prop.idx];if(val==null){val=local[prop.idx];}
local[prop.idx]=clamp(val,prop);});if(from){ret=color(from(local));ret[cache]=local;return ret;}else{return color(local);}};each(props,function(key,prop){if(color.fn[key]){return;}
color.fn[key]=function(value){var vtype=jQuery.type(value),fn=(key==="alpha"?(this._hsla?"hsla":"rgba"):spaceName),local=this[fn](),cur=local[prop.idx],match;if(vtype==="undefined"){return cur;}
if(vtype==="function"){value=value.call(this,cur);vtype=jQuery.type(value);}
if(value==null&&prop.empty){return this;}
if(vtype==="string"){match=rplusequals.exec(value);if(match){value=cur+parseFloat(match[2])*(match[1]==="+"?1:-1);}}
local[prop.idx]=value;return this[fn](local);};});});color.hook=function(hook){var hooks=hook.split(" ");each(hooks,function(i,hook){jQuery.cssHooks[hook]={set:function(elem,value){var parsed,curElem,backgroundColor="";if(value!=="transparent"&&(jQuery.type(value)!=="string"||(parsed=stringParse(value)))){value=color(parsed||value);if(!support.rgba&&value._rgba[3]!==1){curElem=hook==="backgroundColor"?elem.parentNode:elem;while((backgroundColor===""||backgroundColor==="transparent")&&curElem&&curElem.style){try{backgroundColor=jQuery.css(curElem,"backgroundColor");curElem=curElem.parentNode;}catch(e){}}
value=value.blend(backgroundColor&&backgroundColor!=="transparent"?backgroundColor:"_default");}
value=value.toRgbaString();}
try{elem.style[hook]=value;}catch(e){}}};jQuery.fx.step[hook]=function(fx){if(!fx.colorInit){fx.start=color(fx.elem,hook);fx.end=color(fx.end);fx.colorInit=true;}
jQuery.cssHooks[hook].set(fx.elem,fx.start.transition(fx.end,fx.pos));};});};color.hook(stepHooks);jQuery.cssHooks.borderColor={expand:function(value){var expanded={};each(["Top","Right","Bottom","Left"],function(i,part){expanded["border"+part+"Color"]=value;});return expanded;}};colors=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};})(jQuery);(function(){var classAnimationActions=["add","remove","toggle"],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,prop){$.fx.step[prop]=function(fx){if(fx.end!=="none"&&!fx.setAttr||fx.pos===1&&!fx.setAttr){jQuery.style(fx.elem,prop,fx.end);fx.setAttr=true;}};});function getElementStyles(elem){var key,len,style=elem.ownerDocument.defaultView?elem.ownerDocument.defaultView.getComputedStyle(elem,null):elem.currentStyle,styles={};if(style&&style.length&&style[0]&&style[style[0]]){len=style.length;while(len--){key=style[len];if(typeof style[key]==="string"){styles[$.camelCase(key)]=style[key];}}}else{for(key in style){if(typeof style[key]==="string"){styles[key]=style[key];}}}
return styles;}
function styleDifference(oldStyle,newStyle){var diff={},name,value;for(name in newStyle){value=newStyle[name];if(oldStyle[name]!==value){if(!shorthandStyles[name]){if($.fx.step[name]||!isNaN(parseFloat(value))){diff[name]=value;}}}}
return diff;}
if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};}
$.effects.animateClass=function(value,duration,easing,callback){var o=$.speed(duration,easing,callback);return this.queue(function(){var animated=$(this),baseClass=animated.attr("class")||"",applyClassChange,allAnimations=o.children?animated.find("*").addBack():animated;allAnimations=allAnimations.map(function(){var el=$(this);return{el:el,start:getElementStyles(this)};});applyClassChange=function(){$.each(classAnimationActions,function(i,action){if(value[action]){animated[action+"Class"](value[action]);}});};applyClassChange();allAnimations=allAnimations.map(function(){this.end=getElementStyles(this.el[0]);this.diff=styleDifference(this.start,this.end);return this;});animated.attr("class",baseClass);allAnimations=allAnimations.map(function(){var styleInfo=this,dfd=$.Deferred(),opts=$.extend({},o,{queue:false,complete:function(){dfd.resolve(styleInfo);}});this.el.animate(this.diff,opts);return dfd.promise();});$.when.apply($,allAnimations.get()).done(function(){applyClassChange();$.each(arguments,function(){var el=this.el;$.each(this.diff,function(key){el.css(key,"");});});o.complete.call(animated[0]);});});};$.fn.extend({addClass:(function(orig){return function(classNames,speed,easing,callback){return speed?$.effects.animateClass.call(this,{add:classNames},speed,easing,callback):orig.apply(this,arguments);};})($.fn.addClass),removeClass:(function(orig){return function(classNames,speed,easing,callback){return arguments.length>1?$.effects.animateClass.call(this,{remove:classNames},speed,easing,callback):orig.apply(this,arguments);};})($.fn.removeClass),toggleClass:(function(orig){return function(classNames,force,speed,easing,callback){if(typeof force==="boolean"||force===undefined){if(!speed){return orig.apply(this,arguments);}else{return $.effects.animateClass.call(this,(force?{add:classNames}:{remove:classNames}),speed,easing,callback);}}else{return $.effects.animateClass.call(this,{toggle:classNames},force,speed,easing);}};})($.fn.toggleClass),switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.call(this,{add:add,remove:remove},speed,easing,callback);}});})();(function(){$.extend($.effects,{version:"1.10.4",save:function(element,set){for(var i=0;i<set.length;i++){if(set[i]!==null){element.data(dataSpace+set[i],element[0].style[set[i]]);}}},restore:function(element,set){var val,i;for(i=0;i<set.length;i++){if(set[i]!==null){val=element.data(dataSpace+set[i]);if(val===undefined){val="";}
element.css(set[i],val);}}},setMode:function(el,mode){if(mode==="toggle"){mode=el.is(":hidden")?"show":"hide";}
return mode;},getBaseline:function(origin,original){var y,x;switch(origin[0]){case"top":y=0;break;case"middle":y=0.5;break;case"bottom":y=1;break;default:y=origin[0]/original.height;}
switch(origin[1]){case"left":x=0;break;case"center":x=0.5;break;case"right":x=1;break;default:x=origin[1]/original.width;}
return{x:x,y:y};},createWrapper:function(element){if(element.parent().is(".ui-effects-wrapper")){return element.parent();}
var props={width:element.outerWidth(true),height:element.outerHeight(true),"float":element.css("float")},wrapper=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),size={width:element.width(),height:element.height()},active=document.activeElement;try{active.id;}catch(e){active=document.body;}
element.wrap(wrapper);if(element[0]===active||$.contains(element[0],active)){$(active).focus();}
wrapper=element.parent();if(element.css("position")==="static"){wrapper.css({position:"relative"});element.css({position:"relative"});}else{$.extend(props,{position:element.css("position"),zIndex:element.css("z-index")});$.each(["top","left","bottom","right"],function(i,pos){props[pos]=element.css(pos);if(isNaN(parseInt(props[pos],10))){props[pos]="auto";}});element.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"});}
element.css(size);return wrapper.css(props).show();},removeWrapper:function(element){var active=document.activeElement;if(element.parent().is(".ui-effects-wrapper")){element.parent().replaceWith(element);if(element[0]===active||$.contains(element[0],active)){$(active).focus();}}
return element;},setTransition:function(element,list,factor,value){value=value||{};$.each(list,function(i,x){var unit=element.cssUnit(x);if(unit[0]>0){value[x]=unit[0]*factor+unit[1];}});return value;}});function _normalizeArguments(effect,options,speed,callback){if($.isPlainObject(effect)){options=effect;effect=effect.effect;}
effect={effect:effect};if(options==null){options={};}
if($.isFunction(options)){callback=options;speed=null;options={};}
if(typeof options==="number"||$.fx.speeds[options]){callback=speed;speed=options;options={};}
if($.isFunction(speed)){callback=speed;speed=null;}
if(options){$.extend(effect,options);}
speed=speed||options.duration;effect.duration=$.fx.off?0:typeof speed==="number"?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default;effect.complete=callback||options.complete;return effect;}
function standardAnimationOption(option){if(!option||typeof option==="number"||$.fx.speeds[option]){return true;}
if(typeof option==="string"&&!$.effects.effect[option]){return true;}
if($.isFunction(option)){return true;}
if(typeof option==="object"&&!option.effect){return true;}
return false;}
$.fn.extend({effect:function(){var args=_normalizeArguments.apply(this,arguments),mode=args.mode,queue=args.queue,effectMethod=$.effects.effect[args.effect];if($.fx.off||!effectMethod){if(mode){return this[mode](args.duration,args.complete);}else{return this.each(function(){if(args.complete){args.complete.call(this);}});}}
function run(next){var elem=$(this),complete=args.complete,mode=args.mode;function done(){if($.isFunction(complete)){complete.call(elem[0]);}
if($.isFunction(next)){next();}}
if(elem.is(":hidden")?mode==="hide":mode==="show"){elem[mode]();done();}else{effectMethod.call(elem[0],args,done);}}
return queue===false?this.each(run):this.queue(queue||"fx",run);},show:(function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="show";return this.effect.call(this,args);}};})($.fn.show),hide:(function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="hide";return this.effect.call(this,args);}};})($.fn.hide),toggle:(function(orig){return function(option){if(standardAnimationOption(option)||typeof option==="boolean"){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="toggle";return this.effect.call(this,args);}};})($.fn.toggle),cssUnit:function(key){var style=this.css(key),val=[];$.each(["em","px","%","pt"],function(i,unit){if(style.indexOf(unit)>0){val=[parseFloat(style),unit];}});return val;}});})();(function(){var baseEasings={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2);};});$.extend(baseEasings,{Sine:function(p){return 1-Math.cos(p*Math.PI/2);},Circ:function(p){return 1-Math.sqrt(1-p*p);},Elastic:function(p){return p===0||p===1?p:-Math.pow(2,8*(p-1))*Math.sin(((p-1)*80-7.5)*Math.PI/15);},Back:function(p){return p*p*(3*p-2);},Bounce:function(p){var pow2,bounce=4;while(p<((pow2=Math.pow(2,--bounce))-1)/11){}
return 1/Math.pow(4,3-bounce)-7.5625*Math.pow((pow2*3-2)/22-p,2);}});$.each(baseEasings,function(name,easeIn){$.easing["easeIn"+name]=easeIn;$.easing["easeOut"+name]=function(p){return 1-easeIn(1-p);};$.easing["easeInOut"+name]=function(p){return p<0.5?easeIn(p*2)/2:1-easeIn(p*-2+2)/2;};});})();})(jQuery);(function($,undefined){var rvertical=/up|down|vertical/,rpositivemotion=/up|left|vertical|horizontal/;$.effects.effect.blind=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),direction=o.direction||"up",vertical=rvertical.test(direction),ref=vertical?"height":"width",ref2=vertical?"top":"left",motion=rpositivemotion.test(direction),animation={},show=mode==="show",wrapper,distance,margin;if(el.parent().is(".ui-effects-wrapper")){$.effects.save(el.parent(),props);}else{$.effects.save(el,props);}
el.show();wrapper=$.effects.createWrapper(el).css({overflow:"hidden"});distance=wrapper[ref]();margin=parseFloat(wrapper.css(ref2))||0;animation[ref]=show?distance:0;if(!motion){el.css(vertical?"bottom":"right",0).css(vertical?"top":"left","auto").css({position:"absolute"});animation[ref2]=show?margin:distance+margin;}
if(show){wrapper.css(ref,0);if(!motion){wrapper.css(ref2,margin+distance);}}
wrapper.animate(animation,{duration:o.duration,easing:o.easing,queue:false,complete:function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.bounce=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"effect"),hide=mode==="hide",show=mode==="show",direction=o.direction||"up",distance=o.distance,times=o.times||5,anims=times*2+(show||hide?1:0),speed=o.duration/anims,easing=o.easing,ref=(direction==="up"||direction==="down")?"top":"left",motion=(direction==="up"||direction==="left"),i,upAnim,downAnim,queue=el.queue(),queuelen=queue.length;if(show||hide){props.push("opacity");}
$.effects.save(el,props);el.show();$.effects.createWrapper(el);if(!distance){distance=el[ref==="top"?"outerHeight":"outerWidth"]()/3;}
if(show){downAnim={opacity:1};downAnim[ref]=0;el.css("opacity",0).css(ref,motion?-distance*2:distance*2).animate(downAnim,speed,easing);}
if(hide){distance=distance/Math.pow(2,times-1);}
downAnim={};downAnim[ref]=0;for(i=0;i<times;i++){upAnim={};upAnim[ref]=(motion?"-=":"+=")+distance;el.animate(upAnim,speed,easing).animate(downAnim,speed,easing);distance=hide?distance*2:distance/2;}
if(hide){upAnim={opacity:0};upAnim[ref]=(motion?"-=":"+=")+distance;el.animate(upAnim,speed,easing);}
el.queue(function(){if(hide){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();});if(queuelen>1){queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1)));}
el.dequeue();};})(jQuery);(function($,undefined){$.effects.effect.clip=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",direction=o.direction||"vertical",vert=direction==="vertical",size=vert?"height":"width",position=vert?"top":"left",animation={},wrapper,animate,distance;$.effects.save(el,props);el.show();wrapper=$.effects.createWrapper(el).css({overflow:"hidden"});animate=(el[0].tagName==="IMG")?wrapper:el;distance=animate[size]();if(show){animate.css(size,0);animate.css(position,distance/2);}
animation[size]=show?distance:0;animation[position]=show?0:distance/2;animate.animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(!show){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.drop=function(o,done){var el=$(this),props=["position","top","bottom","left","right","opacity","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",direction=o.direction||"left",ref=(direction==="up"||direction==="down")?"top":"left",motion=(direction==="up"||direction==="left")?"pos":"neg",animation={opacity:show?1:0},distance;$.effects.save(el,props);el.show();$.effects.createWrapper(el);distance=o.distance||el[ref==="top"?"outerHeight":"outerWidth"](true)/2;if(show){el.css("opacity",0).css(ref,motion==="pos"?-distance:distance);}
animation[ref]=(show?(motion==="pos"?"+=":"-="):(motion==="pos"?"-=":"+="))+
distance;el.animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.explode=function(o,done){var rows=o.pieces?Math.round(Math.sqrt(o.pieces)):3,cells=rows,el=$(this),mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",offset=el.show().css("visibility","hidden").offset(),width=Math.ceil(el.outerWidth()/cells),height=Math.ceil(el.outerHeight()/rows),pieces=[],i,j,left,top,mx,my;function childComplete(){pieces.push(this);if(pieces.length===rows*cells){animComplete();}}
for(i=0;i<rows;i++){top=offset.top+i*height;my=i-(rows-1)/2;for(j=0;j<cells;j++){left=offset.left+j*width;mx=j-(cells-1)/2;el.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*width,top:-i*height}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:width,height:height,left:left+(show?mx*width:0),top:top+(show?my*height:0),opacity:show?0:1}).animate({left:left+(show?0:mx*width),top:top+(show?0:my*height),opacity:show?1:0},o.duration||500,o.easing,childComplete);}}
function animComplete(){el.css({visibility:"visible"});$(pieces).remove();if(!show){el.hide();}
done();}};})(jQuery);(function($,undefined){$.effects.effect.fade=function(o,done){var el=$(this),mode=$.effects.setMode(el,o.mode||"toggle");el.animate({opacity:mode},{queue:false,duration:o.duration,easing:o.easing,complete:done});};})(jQuery);(function($,undefined){$.effects.effect.fold=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",hide=mode==="hide",size=o.size||15,percent=/([0-9]+)%/.exec(size),horizFirst=!!o.horizFirst,widthFirst=show!==horizFirst,ref=widthFirst?["width","height"]:["height","width"],duration=o.duration/2,wrapper,distance,animation1={},animation2={};$.effects.save(el,props);el.show();wrapper=$.effects.createWrapper(el).css({overflow:"hidden"});distance=widthFirst?[wrapper.width(),wrapper.height()]:[wrapper.height(),wrapper.width()];if(percent){size=parseInt(percent[1],10)/100*distance[hide?0:1];}
if(show){wrapper.css(horizFirst?{height:0,width:size}:{height:size,width:0});}
animation1[ref[0]]=show?distance[0]:size;animation2[ref[1]]=show?distance[1]:0;wrapper.animate(animation1,duration,o.easing).animate(animation2,duration,o.easing,function(){if(hide){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();});};})(jQuery);(function($,undefined){$.effects.effect.highlight=function(o,done){var elem=$(this),props=["backgroundImage","backgroundColor","opacity"],mode=$.effects.setMode(elem,o.mode||"show"),animation={backgroundColor:elem.css("backgroundColor")};if(mode==="hide"){animation.opacity=0;}
$.effects.save(elem,props);elem.show().css({backgroundImage:"none",backgroundColor:o.color||"#ffff99"}).animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(mode==="hide"){elem.hide();}
$.effects.restore(elem,props);done();}});};})(jQuery);(function($,undefined){$.effects.effect.pulsate=function(o,done){var elem=$(this),mode=$.effects.setMode(elem,o.mode||"show"),show=mode==="show",hide=mode==="hide",showhide=(show||mode==="hide"),anims=((o.times||5)*2)+(showhide?1:0),duration=o.duration/anims,animateTo=0,queue=elem.queue(),queuelen=queue.length,i;if(show||!elem.is(":visible")){elem.css("opacity",0).show();animateTo=1;}
for(i=1;i<anims;i++){elem.animate({opacity:animateTo},duration,o.easing);animateTo=1-animateTo;}
elem.animate({opacity:animateTo},duration,o.easing);elem.queue(function(){if(hide){elem.hide();}
done();});if(queuelen>1){queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1)));}
elem.dequeue();};})(jQuery);(function($,undefined){$.effects.effect.puff=function(o,done){var elem=$(this),mode=$.effects.setMode(elem,o.mode||"hide"),hide=mode==="hide",percent=parseInt(o.percent,10)||150,factor=percent/100,original={height:elem.height(),width:elem.width(),outerHeight:elem.outerHeight(),outerWidth:elem.outerWidth()};$.extend(o,{effect:"scale",queue:false,fade:true,mode:mode,complete:done,percent:hide?percent:100,from:hide?original:{height:original.height*factor,width:original.width*factor,outerHeight:original.outerHeight*factor,outerWidth:original.outerWidth*factor}});elem.effect(o);};$.effects.effect.scale=function(o,done){var el=$(this),options=$.extend(true,{},o),mode=$.effects.setMode(el,o.mode||"effect"),percent=parseInt(o.percent,10)||(parseInt(o.percent,10)===0?0:(mode==="hide"?0:100)),direction=o.direction||"both",origin=o.origin,original={height:el.height(),width:el.width(),outerHeight:el.outerHeight(),outerWidth:el.outerWidth()},factor={y:direction!=="horizontal"?(percent/100):1,x:direction!=="vertical"?(percent/100):1};options.effect="size";options.queue=false;options.complete=done;if(mode!=="effect"){options.origin=origin||["middle","center"];options.restore=true;}
options.from=o.from||(mode==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:original);options.to={height:original.height*factor.y,width:original.width*factor.x,outerHeight:original.outerHeight*factor.y,outerWidth:original.outerWidth*factor.x};if(options.fade){if(mode==="show"){options.from.opacity=0;options.to.opacity=1;}
if(mode==="hide"){options.from.opacity=1;options.to.opacity=0;}}
el.effect(options);};$.effects.effect.size=function(o,done){var original,baseline,factor,el=$(this),props0=["position","top","bottom","left","right","width","height","overflow","opacity"],props1=["position","top","bottom","left","right","overflow","opacity"],props2=["width","height","overflow"],cProps=["fontSize"],vProps=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],hProps=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],mode=$.effects.setMode(el,o.mode||"effect"),restore=o.restore||mode!=="effect",scale=o.scale||"both",origin=o.origin||["middle","center"],position=el.css("position"),props=restore?props0:props1,zero={height:0,width:0,outerHeight:0,outerWidth:0};if(mode==="show"){el.show();}
original={height:el.height(),width:el.width(),outerHeight:el.outerHeight(),outerWidth:el.outerWidth()};if(o.mode==="toggle"&&mode==="show"){el.from=o.to||zero;el.to=o.from||original;}else{el.from=o.from||(mode==="show"?zero:original);el.to=o.to||(mode==="hide"?zero:original);}
factor={from:{y:el.from.height/original.height,x:el.from.width/original.width},to:{y:el.to.height/original.height,x:el.to.width/original.width}};if(scale==="box"||scale==="both"){if(factor.from.y!==factor.to.y){props=props.concat(vProps);el.from=$.effects.setTransition(el,vProps,factor.from.y,el.from);el.to=$.effects.setTransition(el,vProps,factor.to.y,el.to);}
if(factor.from.x!==factor.to.x){props=props.concat(hProps);el.from=$.effects.setTransition(el,hProps,factor.from.x,el.from);el.to=$.effects.setTransition(el,hProps,factor.to.x,el.to);}}
if(scale==="content"||scale==="both"){if(factor.from.y!==factor.to.y){props=props.concat(cProps).concat(props2);el.from=$.effects.setTransition(el,cProps,factor.from.y,el.from);el.to=$.effects.setTransition(el,cProps,factor.to.y,el.to);}}
$.effects.save(el,props);el.show();$.effects.createWrapper(el);el.css("overflow","hidden").css(el.from);if(origin){baseline=$.effects.getBaseline(origin,original);el.from.top=(original.outerHeight-el.outerHeight())*baseline.y;el.from.left=(original.outerWidth-el.outerWidth())*baseline.x;el.to.top=(original.outerHeight-el.to.outerHeight)*baseline.y;el.to.left=(original.outerWidth-el.to.outerWidth)*baseline.x;}
el.css(el.from);if(scale==="content"||scale==="both"){vProps=vProps.concat(["marginTop","marginBottom"]).concat(cProps);hProps=hProps.concat(["marginLeft","marginRight"]);props2=props0.concat(vProps).concat(hProps);el.find("*[width]").each(function(){var child=$(this),c_original={height:child.height(),width:child.width(),outerHeight:child.outerHeight(),outerWidth:child.outerWidth()};if(restore){$.effects.save(child,props2);}
child.from={height:c_original.height*factor.from.y,width:c_original.width*factor.from.x,outerHeight:c_original.outerHeight*factor.from.y,outerWidth:c_original.outerWidth*factor.from.x};child.to={height:c_original.height*factor.to.y,width:c_original.width*factor.to.x,outerHeight:c_original.height*factor.to.y,outerWidth:c_original.width*factor.to.x};if(factor.from.y!==factor.to.y){child.from=$.effects.setTransition(child,vProps,factor.from.y,child.from);child.to=$.effects.setTransition(child,vProps,factor.to.y,child.to);}
if(factor.from.x!==factor.to.x){child.from=$.effects.setTransition(child,hProps,factor.from.x,child.from);child.to=$.effects.setTransition(child,hProps,factor.to.x,child.to);}
child.css(child.from);child.animate(child.to,o.duration,o.easing,function(){if(restore){$.effects.restore(child,props2);}});});}
el.animate(el.to,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(el.to.opacity===0){el.css("opacity",el.from.opacity);}
if(mode==="hide"){el.hide();}
$.effects.restore(el,props);if(!restore){if(position==="static"){el.css({position:"relative",top:el.to.top,left:el.to.left});}else{$.each(["top","left"],function(idx,pos){el.css(pos,function(_,str){var val=parseInt(str,10),toRef=idx?el.to.left:el.to.top;if(str==="auto"){return toRef+"px";}
return val+toRef+"px";});});}}
$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.shake=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"effect"),direction=o.direction||"left",distance=o.distance||20,times=o.times||3,anims=times*2+1,speed=Math.round(o.duration/anims),ref=(direction==="up"||direction==="down")?"top":"left",positiveMotion=(direction==="up"||direction==="left"),animation={},animation1={},animation2={},i,queue=el.queue(),queuelen=queue.length;$.effects.save(el,props);el.show();$.effects.createWrapper(el);animation[ref]=(positiveMotion?"-=":"+=")+distance;animation1[ref]=(positiveMotion?"+=":"-=")+distance*2;animation2[ref]=(positiveMotion?"-=":"+=")+distance*2;el.animate(animation,speed,o.easing);for(i=1;i<times;i++){el.animate(animation1,speed,o.easing).animate(animation2,speed,o.easing);}
el.animate(animation1,speed,o.easing).animate(animation,speed/2,o.easing).queue(function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();});if(queuelen>1){queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1)));}
el.dequeue();};})(jQuery);(function($,undefined){$.effects.effect.slide=function(o,done){var el=$(this),props=["position","top","bottom","left","right","width","height"],mode=$.effects.setMode(el,o.mode||"show"),show=mode==="show",direction=o.direction||"left",ref=(direction==="up"||direction==="down")?"top":"left",positiveMotion=(direction==="up"||direction==="left"),distance,animation={};$.effects.save(el,props);el.show();distance=o.distance||el[ref==="top"?"outerHeight":"outerWidth"](true);$.effects.createWrapper(el).css({overflow:"hidden"});if(show){el.css(ref,positiveMotion?(isNaN(distance)?"-"+distance:-distance):distance);}
animation[ref]=(show?(positiveMotion?"+=":"-="):(positiveMotion?"-=":"+="))+
distance;el.animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.transfer=function(o,done){var elem=$(this),target=$(o.to),targetFixed=target.css("position")==="fixed",body=$("body"),fixTop=targetFixed?body.scrollTop():0,fixLeft=targetFixed?body.scrollLeft():0,endPosition=target.offset(),animation={top:endPosition.top-fixTop,left:endPosition.left-fixLeft,height:target.innerHeight(),width:target.innerWidth()},startPosition=elem.offset(),transfer=$("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(o.className).css({top:startPosition.top-fixTop,left:startPosition.left-fixLeft,height:elem.innerHeight(),width:elem.innerWidth(),position:targetFixed?"fixed":"absolute"}).animate(animation,o.duration,o.easing,function(){transfer.remove();done();});};})(jQuery);(function($,undefined){$.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,$.proxy(function(event){if(this.options.disabled){event.preventDefault();}},this));if(this.options.disabled){this.element.addClass("ui-state-disabled").attr("aria-disabled","true");}
this._on({"mousedown .ui-menu-item > a":function(event){event.preventDefault();},"click .ui-state-disabled > a":function(event){event.preventDefault();},"click .ui-menu-item:has(a)":function(event){var target=$(event.target).closest(".ui-menu-item");if(!this.mouseHandled&&target.not(".ui-state-disabled").length){this.select(event);if(!event.isPropagationStopped()){this.mouseHandled=true;}
if(target.has(".ui-menu").length){this.expand(event);}else if(!this.element.is(":focus")&&$(this.document[0].activeElement).closest(".ui-menu").length){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer);}}}},"mouseenter .ui-menu-item":function(event){var target=$(event.currentTarget);target.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(event,target);},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(event,keepActiveItem){var item=this.active||this.element.children(".ui-menu-item").eq(0);if(!keepActiveItem){this.focus(event,item);}},blur:function(event){this._delay(function(){if(!$.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(event);}});},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(event){if(!$(event.target).closest(".ui-menu").length){this.collapseAll(event);}
this.mouseHandled=false;}});},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var elem=$(this);if(elem.data("ui-menu-submenu-carat")){elem.remove();}});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content");},_keydown:function(event){var match,prev,character,skip,regex,preventDefault=true;function escape(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");}
switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move("first","first",event);break;case $.ui.keyCode.END:this._move("last","last",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(event);}
break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=false;prev=this.previousFilter||"";character=String.fromCharCode(event.keyCode);skip=false;clearTimeout(this.filterTimer);if(character===prev){skip=true;}else{character=prev+character;}
regex=new RegExp("^"+escape(character),"i");match=this.activeMenu.children(".ui-menu-item").filter(function(){return regex.test($(this).children("a").text());});match=skip&&match.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):match;if(!match.length){character=String.fromCharCode(event.keyCode);regex=new RegExp("^"+escape(character),"i");match=this.activeMenu.children(".ui-menu-item").filter(function(){return regex.test($(this).children("a").text());});}
if(match.length){this.focus(event,match);if(match.length>1){this.previousFilter=character;this.filterTimer=this._delay(function(){delete this.previousFilter;},1000);}else{delete this.previousFilter;}}else{delete this.previousFilter;}}
if(preventDefault){event.preventDefault();}},_activate:function(event){if(!this.active.is(".ui-state-disabled")){if(this.active.children("a[aria-haspopup='true']").length){this.expand(event);}else{this.select(event);}}},refresh:function(){var menus,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);submenus.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var menu=$(this),item=menu.prev("a"),submenuCarat=$("<span>").addClass("ui-menu-icon ui-icon "+icon).data("ui-menu-submenu-carat",true);item.attr("aria-haspopup","true").prepend(submenuCarat);menu.attr("aria-labelledby",item.attr("id"));});menus=submenus.add(this.element);menus.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});menus.children(":not(.ui-menu-item)").each(function(){var item=$(this);if(!/[^\-\u2014\u2013\s]/.test(item.text())){item.addClass("ui-widget-content ui-menu-divider");}});menus.children(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!$.contains(this.element[0],this.active[0])){this.blur();}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}
[this.options.role];},_setOption:function(key,value){if(key==="icons"){this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(value.submenu);}
this._super(key,value);},focus:function(event,item){var nested,focused;this.blur(event,event&&event.type==="focus");this._scrollIntoView(item);this.active=item.first();focused=this.active.children("a").addClass("ui-state-focus");if(this.options.role){this.element.attr("aria-activedescendant",focused.attr("id"));}
this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");if(event&&event.type==="keydown"){this._close();}else{this.timer=this._delay(function(){this._close();},this.delay);}
nested=item.children(".ui-menu");if(nested.length&&event&&(/^mouse/.test(event.type))){this._startOpening(nested);}
this.activeMenu=item.parent();this._trigger("focus",event,{item:item});},_scrollIntoView:function(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;if(this._hasScroll()){borderTop=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0;paddingTop=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0;offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop;scroll=this.activeMenu.scrollTop();elementHeight=this.activeMenu.height();itemHeight=item.height();if(offset<0){this.activeMenu.scrollTop(scroll+offset);}else if(offset+itemHeight>elementHeight){this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight);}}},blur:function(event,fromFocus){if(!fromFocus){clearTimeout(this.timer);}
if(!this.active){return;}
this.active.children("a").removeClass("ui-state-focus");this.active=null;this._trigger("blur",event,{item:this.active});},_startOpening:function(submenu){clearTimeout(this.timer);if(submenu.attr("aria-hidden")!=="true"){return;}
this.timer=this._delay(function(){this._close();this._open(submenu);},this.delay);},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden","true");submenu.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(position);},collapseAll:function(event,all){clearTimeout(this.timer);this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(".ui-menu"));if(!currentMenu.length){currentMenu=this.element;}
this._close(currentMenu);this.blur(event);this.activeMenu=currentMenu;},this.delay);},_close:function(startMenu){if(!startMenu){startMenu=this.active?this.active.parent():this.element;}
startMenu.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active");},collapse:function(event){var newItem=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(newItem&&newItem.length){this._close();this.focus(event,newItem);}},expand:function(event){var newItem=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();if(newItem&&newItem.length){this._open(newItem.parent());this._delay(function(){this.focus(event,newItem);});}},next:function(event){this._move("next","first",event);},previous:function(event){this._move("prev","last",event);},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length;},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length;},_move:function(direction,filter,event){var next;if(this.active){if(direction==="first"||direction==="last"){next=this.active
[direction==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1);}else{next=this.active
[direction+"All"](".ui-menu-item").eq(0);}}
if(!next||!next.length||!this.active){next=this.activeMenu.children(".ui-menu-item")[filter]();}
this.focus(event,next);},nextPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}
if(this.isLastItem()){return;}
if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base-height<0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.children(".ui-menu-item")
[!this.active?"first":"last"]());}},previousPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}
if(this.isFirstItem()){return;}
if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base+height>0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.children(".ui-menu-item").first());}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight");},select:function(event){this.active=this.active||$(event.target).closest(".ui-menu-item");var ui={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(event,true);}
this._trigger("select",event,ui);}});}
(jQuery));(function($,undefined){$.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=$("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue();},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove();},value:function(newValue){if(newValue===undefined){return this.options.value;}
this.options.value=this._constrainedValue(newValue);this._refreshValue();},_constrainedValue:function(newValue){if(newValue===undefined){newValue=this.options.value;}
this.indeterminate=newValue===false;if(typeof newValue!=="number"){newValue=0;}
return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,newValue));},_setOptions:function(options){var value=options.value;delete options.value;this._super(options);this.options.value=this._constrainedValue(value);this._refreshValue();},_setOption:function(key,value){if(key==="max"){value=Math.max(this.min,value);}
this._super(key,value);},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min);},_refreshValue:function(){var value=this.options.value,percentage=this._percentage();this.valueDiv.toggle(this.indeterminate||value>this.min).toggleClass("ui-corner-right",value===this.options.max).width(percentage.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=$("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv);}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":value});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null;}}
if(this.oldValue!==value){this.oldValue=value;this._trigger("change");}
if(value===this.options.max){this._trigger("complete");}}});})(jQuery);(function($,undefined){function num(v){return parseInt(v,10)||0;}
function isNumber(value){return!isNaN(parseInt(value,10));}
$.widget("ui.resizable",$.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var n,i,handle,axis,hname,that=this,o=this.options;this.element.addClass("ui-resizable");$.extend(this,{_aspectRatio:!!(o.aspectRatio),aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize();}
this.handles=o.handles||(!$(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw";}
n=this.handles.split(",");this.handles={};for(i=0;i<n.length;i++){handle=$.trim(n[i]);hname="ui-resizable-"+handle;axis=$("<div class='ui-resizable-handle "+hname+"'></div>");axis.css({zIndex:o.zIndex});if("se"===handle){axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se");}
this.handles[handle]=".ui-resizable-"+handle;this.element.append(axis);}}
this._renderAxis=function(target){var i,axis,padPos,padWrapper;target=target||this.element;for(i in this.handles){if(this.handles[i].constructor===String){this.handles[i]=$(this.handles[i],this.element).show();}
if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){axis=$(this.handles[i],this.element);padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth();padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");target.css(padPos,padWrapper);this._proportionallyResize();}
if(!$(this.handles[i]).length){continue;}}};this._renderAxis(this.element);this._handles=$(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!that.resizing){if(this.className){axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);}
that.axis=axis&&axis[1]?axis[1]:"se";}});if(o.autoHide){this._handles.hide();$(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(o.disabled){return;}
$(this).removeClass("ui-resizable-autohide");that._handles.show();}).mouseleave(function(){if(o.disabled){return;}
if(!that.resizing){$(this).addClass("ui-resizable-autohide");that._handles.hide();}});}
this._mouseInit();},_destroy:function(){this._mouseDestroy();var wrapper,_destroy=function(exp){$(exp).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove();};if(this.elementIsWrapper){_destroy(this.element);wrapper=this.element;this.originalElement.css({position:wrapper.css("position"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css("top"),left:wrapper.css("left")}).insertAfter(wrapper);wrapper.remove();}
this.originalElement.css("resize",this.originalResizeStyle);_destroy(this.originalElement);return this;},_mouseCapture:function(event){var i,handle,capture=false;for(i in this.handles){handle=$(this.handles[i])[0];if(handle===event.target||$.contains(handle,event.target)){capture=true;}}
return!this.options.disabled&&capture;},_mouseStart:function(event){var curleft,curtop,cursor,o=this.options,iniPos=this.element.position(),el=this.element;this.resizing=true;if((/absolute/).test(el.css("position"))){el.css({position:"absolute",top:el.css("top"),left:el.css("left")});}else if(el.is(".ui-draggable")){el.css({position:"absolute",top:iniPos.top,left:iniPos.left});}
this._renderProxy();curleft=num(this.helper.css("left"));curtop=num(this.helper.css("top"));if(o.containment){curleft+=$(o.containment).scrollLeft()||0;curtop+=$(o.containment).scrollTop()||0;}
this.offset=this.helper.offset();this.position={left:curleft,top:curtop};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:el.width(),height:el.height()};this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.originalPosition={left:curleft,top:curtop};this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()};this.originalMousePosition={left:event.pageX,top:event.pageY};this.aspectRatio=(typeof o.aspectRatio==="number")?o.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);cursor=$(".ui-resizable-"+this.axis).css("cursor");$("body").css("cursor",cursor==="auto"?this.axis+"-resize":cursor);el.addClass("ui-resizable-resizing");this._propagate("start",event);return true;},_mouseDrag:function(event){var data,el=this.helper,props={},smp=this.originalMousePosition,a=this.axis,prevTop=this.position.top,prevLeft=this.position.left,prevWidth=this.size.width,prevHeight=this.size.height,dx=(event.pageX-smp.left)||0,dy=(event.pageY-smp.top)||0,trigger=this._change[a];if(!trigger){return false;}
data=trigger.apply(this,[event,dx,dy]);this._updateVirtualBoundaries(event.shiftKey);if(this._aspectRatio||event.shiftKey){data=this._updateRatio(data,event);}
data=this._respectSize(data,event);this._updateCache(data);this._propagate("resize",event);if(this.position.top!==prevTop){props.top=this.position.top+"px";}
if(this.position.left!==prevLeft){props.left=this.position.left+"px";}
if(this.size.width!==prevWidth){props.width=this.size.width+"px";}
if(this.size.height!==prevHeight){props.height=this.size.height+"px";}
el.css(props);if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize();}
if(!$.isEmptyObject(props)){this._trigger("resize",event,this.ui());}
return false;},_mouseStop:function(event){this.resizing=false;var pr,ista,soffseth,soffsetw,s,left,top,o=this.options,that=this;if(this._helper){pr=this._proportionallyResizeElements;ista=pr.length&&(/textarea/i).test(pr[0].nodeName);soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:that.sizeDiff.height;soffsetw=ista?0:that.sizeDiff.width;s={width:(that.helper.width()-soffsetw),height:(that.helper.height()-soffseth)};left=(parseInt(that.element.css("left"),10)+(that.position.left-that.originalPosition.left))||null;top=(parseInt(that.element.css("top"),10)+(that.position.top-that.originalPosition.top))||null;if(!o.animate){this.element.css($.extend(s,{top:top,left:left}));}
that.helper.height(that.size.height);that.helper.width(that.size.width);if(this._helper&&!o.animate){this._proportionallyResize();}}
$("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",event);if(this._helper){this.helper.remove();}
return false;},_updateVirtualBoundaries:function(forceAspectRatio){var pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b,o=this.options;b={minWidth:isNumber(o.minWidth)?o.minWidth:0,maxWidth:isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:isNumber(o.minHeight)?o.minHeight:0,maxHeight:isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||forceAspectRatio){pMinWidth=b.minHeight*this.aspectRatio;pMinHeight=b.minWidth/this.aspectRatio;pMaxWidth=b.maxHeight*this.aspectRatio;pMaxHeight=b.maxWidth/this.aspectRatio;if(pMinWidth>b.minWidth){b.minWidth=pMinWidth;}
if(pMinHeight>b.minHeight){b.minHeight=pMinHeight;}
if(pMaxWidth<b.maxWidth){b.maxWidth=pMaxWidth;}
if(pMaxHeight<b.maxHeight){b.maxHeight=pMaxHeight;}}
this._vBoundaries=b;},_updateCache:function(data){this.offset=this.helper.offset();if(isNumber(data.left)){this.position.left=data.left;}
if(isNumber(data.top)){this.position.top=data.top;}
if(isNumber(data.height)){this.size.height=data.height;}
if(isNumber(data.width)){this.size.width=data.width;}},_updateRatio:function(data){var cpos=this.position,csize=this.size,a=this.axis;if(isNumber(data.height)){data.width=(data.height*this.aspectRatio);}else if(isNumber(data.width)){data.height=(data.width/this.aspectRatio);}
if(a==="sw"){data.left=cpos.left+(csize.width-data.width);data.top=null;}
if(a==="nw"){data.top=cpos.top+(csize.height-data.height);data.left=cpos.left+(csize.width-data.width);}
return data;},_respectSize:function(data){var o=this._vBoundaries,a=this.axis,ismaxw=isNumber(data.width)&&o.maxWidth&&(o.maxWidth<data.width),ismaxh=isNumber(data.height)&&o.maxHeight&&(o.maxHeight<data.height),isminw=isNumber(data.width)&&o.minWidth&&(o.minWidth>data.width),isminh=isNumber(data.height)&&o.minHeight&&(o.minHeight>data.height),dw=this.originalPosition.left+this.originalSize.width,dh=this.position.top+this.size.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);if(isminw){data.width=o.minWidth;}
if(isminh){data.height=o.minHeight;}
if(ismaxw){data.width=o.maxWidth;}
if(ismaxh){data.height=o.maxHeight;}
if(isminw&&cw){data.left=dw-o.minWidth;}
if(ismaxw&&cw){data.left=dw-o.maxWidth;}
if(isminh&&ch){data.top=dh-o.minHeight;}
if(ismaxh&&ch){data.top=dh-o.maxHeight;}
if(!data.width&&!data.height&&!data.left&&data.top){data.top=null;}else if(!data.width&&!data.height&&!data.top&&data.left){data.left=null;}
return data;},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return;}
var i,j,borders,paddings,prel,element=this.helper||this.element;for(i=0;i<this._proportionallyResizeElements.length;i++){prel=this._proportionallyResizeElements[i];if(!this.borderDif){this.borderDif=[];borders=[prel.css("borderTopWidth"),prel.css("borderRightWidth"),prel.css("borderBottomWidth"),prel.css("borderLeftWidth")];paddings=[prel.css("paddingTop"),prel.css("paddingRight"),prel.css("paddingBottom"),prel.css("paddingLeft")];for(j=0;j<borders.length;j++){this.borderDif[j]=(parseInt(borders[j],10)||0)+(parseInt(paddings[j],10)||0);}}
prel.css({height:(element.height()-this.borderDif[0]-this.borderDif[2])||0,width:(element.width()-this.borderDif[1]-this.borderDif[3])||0});}},_renderProxy:function(){var el=this.element,o=this.options;this.elementOffset=el.offset();if(this._helper){this.helper=this.helper||$("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex});this.helper.appendTo("body").disableSelection();}else{this.helper=this.element;}},_change:{e:function(event,dx){return{width:this.originalSize.width+dx};},w:function(event,dx){var cs=this.originalSize,sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx};},n:function(event,dx,dy){var cs=this.originalSize,sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy};},s:function(event,dx,dy){return{height:this.originalSize.height+dy};},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]);(n!=="resize"&&this._trigger(n,event,this.ui()));},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition};}});$.ui.plugin.add("resizable","animate",{stop:function(event){var that=$(this).data("ui-resizable"),o=that.options,pr=that._proportionallyResizeElements,ista=pr.length&&(/textarea/i).test(pr[0].nodeName),soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width,style={width:(that.size.width-soffsetw),height:(that.size.height-soffseth)},left=(parseInt(that.element.css("left"),10)+(that.position.left-that.originalPosition.left))||null,top=(parseInt(that.element.css("top"),10)+(that.position.top-that.originalPosition.top))||null;that.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseInt(that.element.css("width"),10),height:parseInt(that.element.css("height"),10),top:parseInt(that.element.css("top"),10),left:parseInt(that.element.css("left"),10)};if(pr&&pr.length){$(pr[0]).css({width:data.width,height:data.height});}
that._updateCache(data);that._propagate("resize",event);}});}});$.ui.plugin.add("resizable","containment",{start:function(){var element,p,co,ch,cw,width,height,that=$(this).data("ui-resizable"),o=that.options,el=that.element,oc=o.containment,ce=(oc instanceof $)?oc.get(0):(/parent/.test(oc))?el.parent().get(0):oc;if(!ce){return;}
that.containerElement=$(ce);if(/document/.test(oc)||oc===document){that.containerOffset={left:0,top:0};that.containerPosition={left:0,top:0};that.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight};}
else{element=$(ce);p=[];$(["Top","Right","Left","Bottom"]).each(function(i,name){p[i]=num(element.css("padding"+name));});that.containerOffset=element.offset();that.containerPosition=element.position();that.containerSize={height:(element.innerHeight()-p[3]),width:(element.innerWidth()-p[1])};co=that.containerOffset;ch=that.containerSize.height;cw=that.containerSize.width;width=($.ui.hasScroll(ce,"left")?ce.scrollWidth:cw);height=($.ui.hasScroll(ce)?ce.scrollHeight:ch);that.parentData={element:ce,left:co.left,top:co.top,width:width,height:height};}},resize:function(event){var woset,hoset,isParent,isOffsetRelative,that=$(this).data("ui-resizable"),o=that.options,co=that.containerOffset,cp=that.position,pRatio=that._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=that.containerElement;if(ce[0]!==document&&(/static/).test(ce.css("position"))){cop=co;}
if(cp.left<(that._helper?co.left:0)){that.size.width=that.size.width+(that._helper?(that.position.left-co.left):(that.position.left-cop.left));if(pRatio){that.size.height=that.size.width/that.aspectRatio;}
that.position.left=o.helper?co.left:0;}
if(cp.top<(that._helper?co.top:0)){that.size.height=that.size.height+(that._helper?(that.position.top-co.top):that.position.top);if(pRatio){that.size.width=that.size.height*that.aspectRatio;}
that.position.top=that._helper?co.top:0;}
that.offset.left=that.parentData.left+that.position.left;that.offset.top=that.parentData.top+that.position.top;woset=Math.abs((that._helper?that.offset.left-cop.left:(that.offset.left-cop.left))+that.sizeDiff.width);hoset=Math.abs((that._helper?that.offset.top-cop.top:(that.offset.top-co.top))+that.sizeDiff.height);isParent=that.containerElement.get(0)===that.element.parent().get(0);isOffsetRelative=/relative|absolute/.test(that.containerElement.css("position"));if(isParent&&isOffsetRelative){woset-=Math.abs(that.parentData.left);}
if(woset+that.size.width>=that.parentData.width){that.size.width=that.parentData.width-woset;if(pRatio){that.size.height=that.size.width/that.aspectRatio;}}
if(hoset+that.size.height>=that.parentData.height){that.size.height=that.parentData.height-hoset;if(pRatio){that.size.width=that.size.height*that.aspectRatio;}}},stop:function(){var that=$(this).data("ui-resizable"),o=that.options,co=that.containerOffset,cop=that.containerPosition,ce=that.containerElement,helper=$(that.helper),ho=helper.offset(),w=helper.outerWidth()-that.sizeDiff.width,h=helper.outerHeight()-that.sizeDiff.height;if(that._helper&&!o.animate&&(/relative/).test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}
if(that._helper&&!o.animate&&(/static/).test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}}});$.ui.plugin.add("resizable","alsoResize",{start:function(){var that=$(this).data("ui-resizable"),o=that.options,_store=function(exp){$(exp).each(function(){var el=$(this);el.data("ui-resizable-alsoresize",{width:parseInt(el.width(),10),height:parseInt(el.height(),10),left:parseInt(el.css("left"),10),top:parseInt(el.css("top"),10)});});};if(typeof(o.alsoResize)==="object"&&!o.alsoResize.parentNode){if(o.alsoResize.length){o.alsoResize=o.alsoResize[0];_store(o.alsoResize);}else{$.each(o.alsoResize,function(exp){_store(exp);});}}else{_store(o.alsoResize);}},resize:function(event,ui){var that=$(this).data("ui-resizable"),o=that.options,os=that.originalSize,op=that.originalPosition,delta={height:(that.size.height-os.height)||0,width:(that.size.width-os.width)||0,top:(that.position.top-op.top)||0,left:(that.position.left-op.left)||0},_alsoResize=function(exp,c){$(exp).each(function(){var el=$(this),start=$(this).data("ui-resizable-alsoresize"),style={},css=c&&c.length?c:el.parents(ui.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);if(sum&&sum>=0){style[prop]=sum||null;}});el.css(style);});};if(typeof(o.alsoResize)==="object"&&!o.alsoResize.nodeType){$.each(o.alsoResize,function(exp,c){_alsoResize(exp,c);});}else{_alsoResize(o.alsoResize);}},stop:function(){$(this).removeData("resizable-alsoresize");}});$.ui.plugin.add("resizable","ghost",{start:function(){var that=$(this).data("ui-resizable"),o=that.options,cs=that.size;that.ghost=that.originalElement.clone();that.ghost.css({opacity:0.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof o.ghost==="string"?o.ghost:"");that.ghost.appendTo(that.helper);},resize:function(){var that=$(this).data("ui-resizable");if(that.ghost){that.ghost.css({position:"relative",height:that.size.height,width:that.size.width});}},stop:function(){var that=$(this).data("ui-resizable");if(that.ghost&&that.helper){that.helper.get(0).removeChild(that.ghost.get(0));}}});$.ui.plugin.add("resizable","grid",{resize:function(){var that=$(this).data("ui-resizable"),o=that.options,cs=that.size,os=that.originalSize,op=that.originalPosition,a=that.axis,grid=typeof o.grid==="number"?[o.grid,o.grid]:o.grid,gridX=(grid[0]||1),gridY=(grid[1]||1),ox=Math.round((cs.width-os.width)/gridX)*gridX,oy=Math.round((cs.height-os.height)/gridY)*gridY,newWidth=os.width+ox,newHeight=os.height+oy,isMaxWidth=o.maxWidth&&(o.maxWidth<newWidth),isMaxHeight=o.maxHeight&&(o.maxHeight<newHeight),isMinWidth=o.minWidth&&(o.minWidth>newWidth),isMinHeight=o.minHeight&&(o.minHeight>newHeight);o.grid=grid;if(isMinWidth){newWidth=newWidth+gridX;}
if(isMinHeight){newHeight=newHeight+gridY;}
if(isMaxWidth){newWidth=newWidth-gridX;}
if(isMaxHeight){newHeight=newHeight-gridY;}
if(/^(se|s|e)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;}else if(/^(ne)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.top=op.top-oy;}else if(/^(sw)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.left=op.left-ox;}else{if(newHeight-gridY>0){that.size.height=newHeight;that.position.top=op.top-oy;}else{that.size.height=gridY;that.position.top=op.top+os.height-gridY;}
if(newWidth-gridX>0){that.size.width=newWidth;that.position.left=op.left-ox;}else{that.size.width=gridX;that.position.left=op.left+os.width-gridX;}}}});})(jQuery);(function($,undefined){$.widget("ui.selectable",$.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var selectees,that=this;this.element.addClass("ui-selectable");this.dragged=false;this.refresh=function(){selectees=$(that.options.filter,that.element[0]);selectees.addClass("ui-selectee");selectees.each(function(){var $this=$(this),pos=$this.offset();$.data(this,"selectable-item",{element:this,$element:$this,left:pos.left,top:pos.top,right:pos.left+$this.outerWidth(),bottom:pos.top+$this.outerHeight(),startselected:false,selected:$this.hasClass("ui-selected"),selecting:$this.hasClass("ui-selecting"),unselecting:$this.hasClass("ui-unselecting")});});};this.refresh();this.selectees=selectees.addClass("ui-selectee");this._mouseInit();this.helper=$("<div class='ui-selectable-helper'></div>");},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy();},_mouseStart:function(event){var that=this,options=this.options;this.opos=[event.pageX,event.pageY];if(this.options.disabled){return;}
this.selectees=$(options.filter,this.element[0]);this._trigger("start",event);$(options.appendTo).append(this.helper);this.helper.css({"left":event.pageX,"top":event.pageY,"width":0,"height":0});if(options.autoRefresh){this.refresh();}
this.selectees.filter(".ui-selected").each(function(){var selectee=$.data(this,"selectable-item");selectee.startselected=true;if(!event.metaKey&&!event.ctrlKey){selectee.$element.removeClass("ui-selected");selectee.selected=false;selectee.$element.addClass("ui-unselecting");selectee.unselecting=true;that._trigger("unselecting",event,{unselecting:selectee.element});}});$(event.target).parents().addBack().each(function(){var doSelect,selectee=$.data(this,"selectable-item");if(selectee){doSelect=(!event.metaKey&&!event.ctrlKey)||!selectee.$element.hasClass("ui-selected");selectee.$element.removeClass(doSelect?"ui-unselecting":"ui-selected").addClass(doSelect?"ui-selecting":"ui-unselecting");selectee.unselecting=!doSelect;selectee.selecting=doSelect;selectee.selected=doSelect;if(doSelect){that._trigger("selecting",event,{selecting:selectee.element});}else{that._trigger("unselecting",event,{unselecting:selectee.element});}
return false;}});},_mouseDrag:function(event){this.dragged=true;if(this.options.disabled){return;}
var tmp,that=this,options=this.options,x1=this.opos[0],y1=this.opos[1],x2=event.pageX,y2=event.pageY;if(x1>x2){tmp=x2;x2=x1;x1=tmp;}
if(y1>y2){tmp=y2;y2=y1;y1=tmp;}
this.helper.css({left:x1,top:y1,width:x2-x1,height:y2-y1});this.selectees.each(function(){var selectee=$.data(this,"selectable-item"),hit=false;if(!selectee||selectee.element===that.element[0]){return;}
if(options.tolerance==="touch"){hit=(!(selectee.left>x2||selectee.right<x1||selectee.top>y2||selectee.bottom<y1));}else if(options.tolerance==="fit"){hit=(selectee.left>x1&&selectee.right<x2&&selectee.top>y1&&selectee.bottom<y2);}
if(hit){if(selectee.selected){selectee.$element.removeClass("ui-selected");selectee.selected=false;}
if(selectee.unselecting){selectee.$element.removeClass("ui-unselecting");selectee.unselecting=false;}
if(!selectee.selecting){selectee.$element.addClass("ui-selecting");selectee.selecting=true;that._trigger("selecting",event,{selecting:selectee.element});}}else{if(selectee.selecting){if((event.metaKey||event.ctrlKey)&&selectee.startselected){selectee.$element.removeClass("ui-selecting");selectee.selecting=false;selectee.$element.addClass("ui-selected");selectee.selected=true;}else{selectee.$element.removeClass("ui-selecting");selectee.selecting=false;if(selectee.startselected){selectee.$element.addClass("ui-unselecting");selectee.unselecting=true;}
that._trigger("unselecting",event,{unselecting:selectee.element});}}
if(selectee.selected){if(!event.metaKey&&!event.ctrlKey&&!selectee.startselected){selectee.$element.removeClass("ui-selected");selectee.selected=false;selectee.$element.addClass("ui-unselecting");selectee.unselecting=true;that._trigger("unselecting",event,{unselecting:selectee.element});}}}});return false;},_mouseStop:function(event){var that=this;this.dragged=false;$(".ui-unselecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-unselecting");selectee.unselecting=false;selectee.startselected=false;that._trigger("unselected",event,{unselected:selectee.element});});$(".ui-selecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-selecting").addClass("ui-selected");selectee.selecting=false;selectee.selected=true;selectee.startselected=true;that._trigger("selected",event,{selected:selectee.element});});this._trigger("stop",event);this.helper.remove();return false;}});})(jQuery);(function($,undefined){var numPages=5;$.widget("ui.slider",$.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider"+" ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=false;},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue();},_createHandles:function(){var i,handleCount,options=this.options,existingHandles=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),handle="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",handles=[];handleCount=(options.values&&options.values.length)||1;if(existingHandles.length>handleCount){existingHandles.slice(handleCount).remove();existingHandles=existingHandles.slice(0,handleCount);}
for(i=existingHandles.length;i<handleCount;i++){handles.push(handle);}
this.handles=existingHandles.add($(handles.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(i){$(this).data("ui-slider-handle-index",i);});},_createRange:function(){var options=this.options,classes="";if(options.range){if(options.range===true){if(!options.values){options.values=[this._valueMin(),this._valueMin()];}else if(options.values.length&&options.values.length!==2){options.values=[options.values[0],options.values[0]];}else if($.isArray(options.values)){options.values=options.values.slice(0);}}
if(!this.range||!this.range.length){this.range=$("<div></div>").appendTo(this.element);classes="ui-slider-range"+" ui-widget-header ui-corner-all";}else{this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({"left":"","bottom":""});}
this.range.addClass(classes+
((options.range==="min"||options.range==="max")?" ui-slider-range-"+options.range:""));}else{if(this.range){this.range.remove();}
this.range=null;}},_setupEvents:function(){var elements=this.handles.add(this.range).filter("a");this._off(elements);this._on(elements,this._handleEvents);this._hoverable(elements);this._focusable(elements);},_destroy:function(){this.handles.remove();if(this.range){this.range.remove();}
this.element.removeClass("ui-slider"+" ui-slider-horizontal"+" ui-slider-vertical"+" ui-widget"+" ui-widget-content"+" ui-corner-all");this._mouseDestroy();},_mouseCapture:function(event){var position,normValue,distance,closestHandle,index,allowed,offset,mouseOverHandle,that=this,o=this.options;if(o.disabled){return false;}
this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();position={x:event.pageX,y:event.pageY};normValue=this._normValueFromMouse(position);distance=this._valueMax()-this._valueMin()+1;this.handles.each(function(i){var thisDistance=Math.abs(normValue-that.values(i));if((distance>thisDistance)||(distance===thisDistance&&(i===that._lastChangedValue||that.values(i)===o.min))){distance=thisDistance;closestHandle=$(this);index=i;}});allowed=this._start(event,index);if(allowed===false){return false;}
this._mouseSliding=true;this._handleIndex=index;closestHandle.addClass("ui-state-active").focus();offset=closestHandle.offset();mouseOverHandle=!$(event.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-(closestHandle.width()/2),top:event.pageY-offset.top-
(closestHandle.height()/2)-
(parseInt(closestHandle.css("borderTopWidth"),10)||0)-
(parseInt(closestHandle.css("borderBottomWidth"),10)||0)+
(parseInt(closestHandle.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(event,index,normValue);}
this._animateOff=true;return true;},_mouseStart:function(){return true;},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);this._slide(event,this._handleIndex,normValue);return false;},_mouseStop:function(event){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(event,this._handleIndex);this._change(event,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false;},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal";},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;if(this.orientation==="horizontal"){pixelTotal=this.elementSize.width;pixelMouse=position.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0);}else{pixelTotal=this.elementSize.height;pixelMouse=position.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0);}
percentMouse=(pixelMouse/pixelTotal);if(percentMouse>1){percentMouse=1;}
if(percentMouse<0){percentMouse=0;}
if(this.orientation==="vertical"){percentMouse=1-percentMouse;}
valueTotal=this._valueMax()-this._valueMin();valueMouse=this._valueMin()+percentMouse*valueTotal;return this._trimAlignValue(valueMouse);},_start:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}
return this._trigger("start",event,uiHash);},_slide:function(event,index,newVal){var otherVal,newValues,allowed;if(this.options.values&&this.options.values.length){otherVal=this.values(index?0:1);if((this.options.values.length===2&&this.options.range===true)&&((index===0&&newVal>otherVal)||(index===1&&newVal<otherVal))){newVal=otherVal;}
if(newVal!==this.values(index)){newValues=this.values();newValues[index]=newVal;allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal,values:newValues});otherVal=this.values(index?0:1);if(allowed!==false){this.values(index,newVal);}}}else{if(newVal!==this.value()){allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal});if(allowed!==false){this.value(newVal);}}}},_stop:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}
this._trigger("stop",event,uiHash);},_change:function(event,index){if(!this._keySliding&&!this._mouseSliding){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}
this._lastChangedValue=index;this._trigger("change",event,uiHash);}},value:function(newValue){if(arguments.length){this.options.value=this._trimAlignValue(newValue);this._refreshValue();this._change(null,0);return;}
return this._value();},values:function(index,newValue){var vals,newValues,i;if(arguments.length>1){this.options.values[index]=this._trimAlignValue(newValue);this._refreshValue();this._change(null,index);return;}
if(arguments.length){if($.isArray(arguments[0])){vals=this.options.values;newValues=arguments[0];for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(newValues[i]);this._change(null,i);}
this._refreshValue();}else{if(this.options.values&&this.options.values.length){return this._values(index);}else{return this.value();}}}else{return this._values();}},_setOption:function(key,value){var i,valsLength=0;if(key==="range"&&this.options.range===true){if(value==="min"){this.options.value=this._values(0);this.options.values=null;}else if(value==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null;}}
if($.isArray(this.options.values)){valsLength=this.options.values.length;}
$.Widget.prototype._setOption.apply(this,arguments);switch(key){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(i=0;i<valsLength;i+=1){this._change(null,i);}
this._animateOff=false;break;case"min":case"max":this._animateOff=true;this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break;}},_value:function(){var val=this.options.value;val=this._trimAlignValue(val);return val;},_values:function(index){var val,vals,i;if(arguments.length){val=this.options.values[index];val=this._trimAlignValue(val);return val;}else if(this.options.values&&this.options.values.length){vals=this.options.values.slice();for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(vals[i]);}
return vals;}else{return[];}},_trimAlignValue:function(val){if(val<=this._valueMin()){return this._valueMin();}
if(val>=this._valueMax()){return this._valueMax();}
var step=(this.options.step>0)?this.options.step:1,valModStep=(val-this._valueMin())%step,alignValue=val-valModStep;if(Math.abs(valModStep)*2>=step){alignValue+=(valModStep>0)?step:(-step);}
return parseFloat(alignValue.toFixed(5));},_valueMin:function(){return this.options.min;},_valueMax:function(){return this.options.max;},_refreshValue:function(){var lastValPercent,valPercent,value,valueMin,valueMax,oRange=this.options.range,o=this.options,that=this,animate=(!this._animateOff)?o.animate:false,_set={};if(this.options.values&&this.options.values.length){this.handles.each(function(i){valPercent=(that.values(i)-that._valueMin())/(that._valueMax()-that._valueMin())*100;_set[that.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";$(this).stop(1,1)[animate?"animate":"css"](_set,o.animate);if(that.options.range===true){if(that.orientation==="horizontal"){if(i===0){that.range.stop(1,1)[animate?"animate":"css"]({left:valPercent+"%"},o.animate);}
if(i===1){that.range[animate?"animate":"css"]({width:(valPercent-lastValPercent)+"%"},{queue:false,duration:o.animate});}}else{if(i===0){that.range.stop(1,1)[animate?"animate":"css"]({bottom:(valPercent)+"%"},o.animate);}
if(i===1){that.range[animate?"animate":"css"]({height:(valPercent-lastValPercent)+"%"},{queue:false,duration:o.animate});}}}
lastValPercent=valPercent;});}else{value=this.value();valueMin=this._valueMin();valueMax=this._valueMax();valPercent=(valueMax!==valueMin)?(value-valueMin)/(valueMax-valueMin)*100:0;_set[this.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate);if(oRange==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[animate?"animate":"css"]({width:valPercent+"%"},o.animate);}
if(oRange==="max"&&this.orientation==="horizontal"){this.range[animate?"animate":"css"]({width:(100-valPercent)+"%"},{queue:false,duration:o.animate});}
if(oRange==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[animate?"animate":"css"]({height:valPercent+"%"},o.animate);}
if(oRange==="max"&&this.orientation==="vertical"){this.range[animate?"animate":"css"]({height:(100-valPercent)+"%"},{queue:false,duration:o.animate});}}},_handleEvents:{keydown:function(event){var allowed,curVal,newVal,step,index=$(event.target).data("ui-slider-handle-index");switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:event.preventDefault();if(!this._keySliding){this._keySliding=true;$(event.target).addClass("ui-state-active");allowed=this._start(event,index);if(allowed===false){return;}}
break;}
step=this.options.step;if(this.options.values&&this.options.values.length){curVal=newVal=this.values(index);}else{curVal=newVal=this.value();}
switch(event.keyCode){case $.ui.keyCode.HOME:newVal=this._valueMin();break;case $.ui.keyCode.END:newVal=this._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=this._trimAlignValue(curVal+((this._valueMax()-this._valueMin())/numPages));break;case $.ui.keyCode.PAGE_DOWN:newVal=this._trimAlignValue(curVal-((this._valueMax()-this._valueMin())/numPages));break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===this._valueMax()){return;}
newVal=this._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===this._valueMin()){return;}
newVal=this._trimAlignValue(curVal-step);break;}
this._slide(event,index,newVal);},click:function(event){event.preventDefault();},keyup:function(event){var index=$(event.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(event,index);this._change(event,index);$(event.target).removeClass("ui-state-active");}}}});}
(jQuery));(function($,undefined){function isOverAxis(x,reference,size){return(x>reference)&&(x<(reference+size));}
function isFloating(item){return(/left|right/).test(item.css("float"))||(/inline|table-cell/).test(item.css("display"));}
$.widget("ui.sortable",$.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var o=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?o.axis==="x"||isFloating(this.items[0].item):false;this.offset=this.element.offset();this._mouseInit();this.ready=true;},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var i=this.items.length-1;i>=0;i--){this.items[i].item.removeData(this.widgetName+"-item");}
return this;},_setOption:function(key,value){if(key==="disabled"){this.options[key]=value;this.widget().toggleClass("ui-sortable-disabled",!!value);}else{$.Widget.prototype._setOption.apply(this,arguments);}},_mouseCapture:function(event,overrideHandle){var currentItem=null,validHandle=false,that=this;if(this.reverting){return false;}
if(this.options.disabled||this.options.type==="static"){return false;}
this._refreshItems(event);$(event.target).parents().each(function(){if($.data(this,that.widgetName+"-item")===that){currentItem=$(this);return false;}});if($.data(event.target,that.widgetName+"-item")===that){currentItem=$(event.target);}
if(!currentItem){return false;}
if(this.options.handle&&!overrideHandle){$(this.options.handle,currentItem).find("*").addBack().each(function(){if(this===event.target){validHandle=true;}});if(!validHandle){return false;}}
this.currentItem=currentItem;this._removeCurrentsFromItems();return true;},_mouseStart:function(event,overrideHandle,noActivation){var i,body,o=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(event);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide();}
this._createPlaceholder();if(o.containment){this._setContainment();}
if(o.cursor&&o.cursor!=="auto"){body=this.document.find("body");this.storedCursor=body.css("cursor");body.css("cursor",o.cursor);this.storedStylesheet=$("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(body);}
if(o.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity");}
this.helper.css("opacity",o.opacity);}
if(o.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex");}
this.helper.css("zIndex",o.zIndex);}
if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset();}
this._trigger("start",event,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions();}
if(!noActivation){for(i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("activate",event,this._uiHash(this));}}
if($.ui.ddmanager){$.ui.ddmanager.current=this;}
if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}
this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(event);return true;},_mouseDrag:function(event){var i,item,itemElement,intersection,o=this.options,scrolled=false;this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs;}
if(this.options.scroll){if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-event.pageY<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed;}else if(event.pageY-this.overflowOffset.top<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed;}
if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-event.pageX<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed;}else if(event.pageX-this.overflowOffset.left<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed;}}else{if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);}else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}
if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);}else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}
if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}}
this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px";}
if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px";}
for(i=this.items.length-1;i>=0;i--){item=this.items[i];itemElement=item.item[0];intersection=this._intersectsWithPointer(item);if(!intersection){continue;}
if(item.instance!==this.currentContainer){continue;}
if(itemElement!==this.currentItem[0]&&this.placeholder[intersection===1?"next":"prev"]()[0]!==itemElement&&!$.contains(this.placeholder[0],itemElement)&&(this.options.type==="semi-dynamic"?!$.contains(this.element[0],itemElement):true)){this.direction=intersection===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(item)){this._rearrange(event,item);}else{break;}
this._trigger("change",event,this._uiHash());break;}}
this._contactContainers(event);if($.ui.ddmanager){$.ui.ddmanager.drag(this,event);}
this._trigger("sort",event,this._uiHash());this.lastPositionAbs=this.positionAbs;return false;},_mouseStop:function(event,noPropagation){if(!event){return;}
if($.ui.ddmanager&&!this.options.dropBehaviour){$.ui.ddmanager.drop(this,event);}
if(this.options.revert){var that=this,cur=this.placeholder.offset(),axis=this.options.axis,animation={};if(!axis||axis==="x"){animation.left=cur.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft);}
if(!axis||axis==="y"){animation.top=cur.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop);}
this.reverting=true;$(this.helper).animate(animation,parseInt(this.options.revert,10)||500,function(){that._clear(event);});}else{this._clear(event,noPropagation);}
return false;},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");}else{this.currentItem.show();}
for(var i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("deactivate",null,this._uiHash(this));if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",null,this._uiHash(this));this.containers[i].containerCache.over=0;}}}
if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0]);}
if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove();}
$.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){$(this.domPosition.prev).after(this.currentItem);}else{$(this.domPosition.parent).prepend(this.currentItem);}}
return this;},serialize:function(o){var items=this._getItemsAsjQuery(o&&o.connected),str=[];o=o||{};$(items).each(function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||(/(.+)[\-=_](.+)/));if(res){str.push((o.key||res[1]+"[]")+"="+(o.key&&o.expression?res[1]:res[2]));}});if(!str.length&&o.key){str.push(o.key+"=");}
return str.join("&");},toArray:function(o){var items=this._getItemsAsjQuery(o&&o.connected),ret=[];o=o||{};items.each(function(){ret.push($(o.item||this).attr(o.attribute||"id")||"");});return ret;},_intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height,dyClick=this.offset.click.top,dxClick=this.offset.click.left,isOverElementHeight=(this.options.axis==="x")||((y1+dyClick)>t&&(y1+dyClick)<b),isOverElementWidth=(this.options.axis==="y")||((x1+dxClick)>l&&(x1+dxClick)<r),isOverElement=isOverElementHeight&&isOverElementWidth;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"])){return isOverElement;}else{return(l<x1+(this.helperProportions.width/2)&&x2-(this.helperProportions.width/2)<r&&t<y1+(this.helperProportions.height/2)&&y2-(this.helperProportions.height/2)<b);}},_intersectsWithPointer:function(item){var isOverElementHeight=(this.options.axis==="x")||isOverAxis(this.positionAbs.top+this.offset.click.top,item.top,item.height),isOverElementWidth=(this.options.axis==="y")||isOverAxis(this.positionAbs.left+this.offset.click.left,item.left,item.width),isOverElement=isOverElementHeight&&isOverElementWidth,verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();if(!isOverElement){return false;}
return this.floating?(((horizontalDirection&&horizontalDirection==="right")||verticalDirection==="down")?2:1):(verticalDirection&&(verticalDirection==="down"?2:1));},_intersectsWithSides:function(item){var isOverBottomHalf=isOverAxis(this.positionAbs.top+this.offset.click.top,item.top+(item.height/2),item.height),isOverRightHalf=isOverAxis(this.positionAbs.left+this.offset.click.left,item.left+(item.width/2),item.width),verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();if(this.floating&&horizontalDirection){return((horizontalDirection==="right"&&isOverRightHalf)||(horizontalDirection==="left"&&!isOverRightHalf));}else{return verticalDirection&&((verticalDirection==="down"&&isOverBottomHalf)||(verticalDirection==="up"&&!isOverBottomHalf));}},_getDragVerticalDirection:function(){var delta=this.positionAbs.top-this.lastPositionAbs.top;return delta!==0&&(delta>0?"down":"up");},_getDragHorizontalDirection:function(){var delta=this.positionAbs.left-this.lastPositionAbs.left;return delta!==0&&(delta>0?"right":"left");},refresh:function(event){this._refreshItems(event);this.refreshPositions();return this;},_connectWith:function(){var options=this.options;return options.connectWith.constructor===String?[options.connectWith]:options.connectWith;},_getItemsAsjQuery:function(connected){var i,j,cur,inst,items=[],queries=[],connectWith=this._connectWith();if(connectWith&&connected){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element):$(inst.options.items,inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),inst]);}}}}
queries.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function addItems(){items.push(this);}
for(i=queries.length-1;i>=0;i--){queries[i][0].each(addItems);}
return $(items);},_removeCurrentsFromItems:function(){var list=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(item){for(var j=0;j<list.length;j++){if(list[j]===item.item[0]){return false;}}
return true;});},_refreshItems:function(event){this.items=[];this.containers=[this];var i,j,cur,inst,targetData,_queries,item,queriesLength,items=this.items,queries=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],event,{item:this.currentItem}):$(this.options.items,this.element),this]],connectWith=this._connectWith();if(connectWith&&this.ready){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element[0],event,{item:this.currentItem}):$(inst.options.items,inst.element),inst]);this.containers.push(inst);}}}}
for(i=queries.length-1;i>=0;i--){targetData=queries[i][1];_queries=queries[i][0];for(j=0,queriesLength=_queries.length;j<queriesLength;j++){item=$(_queries[j]);item.data(this.widgetName+"-item",targetData);items.push({item:item,instance:targetData,width:0,height:0,left:0,top:0});}}},refreshPositions:function(fast){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset();}
var i,item,t,p;for(i=this.items.length-1;i>=0;i--){item=this.items[i];if(item.instance!==this.currentContainer&&this.currentContainer&&item.item[0]!==this.currentItem[0]){continue;}
t=this.options.toleranceElement?$(this.options.toleranceElement,item.item):item.item;if(!fast){item.width=t.outerWidth();item.height=t.outerHeight();}
p=t.offset();item.left=p.left;item.top=p.top;}
if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this);}else{for(i=this.containers.length-1;i>=0;i--){p=this.containers[i].element.offset();this.containers[i].containerCache.left=p.left;this.containers[i].containerCache.top=p.top;this.containers[i].containerCache.width=this.containers[i].element.outerWidth();this.containers[i].containerCache.height=this.containers[i].element.outerHeight();}}
return this;},_createPlaceholder:function(that){that=that||this;var className,o=that.options;if(!o.placeholder||o.placeholder.constructor===String){className=o.placeholder;o.placeholder={element:function(){var nodeName=that.currentItem[0].nodeName.toLowerCase(),element=$("<"+nodeName+">",that.document[0]).addClass(className||that.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(nodeName==="tr"){that.currentItem.children().each(function(){$("<td>&#160;</td>",that.document[0]).attr("colspan",$(this).attr("colspan")||1).appendTo(element);});}else if(nodeName==="img"){element.attr("src",that.currentItem.attr("src"));}
if(!className){element.css("visibility","hidden");}
return element;},update:function(container,p){if(className&&!o.forcePlaceholderSize){return;}
if(!p.height()){p.height(that.currentItem.innerHeight()-parseInt(that.currentItem.css("paddingTop")||0,10)-parseInt(that.currentItem.css("paddingBottom")||0,10));}
if(!p.width()){p.width(that.currentItem.innerWidth()-parseInt(that.currentItem.css("paddingLeft")||0,10)-parseInt(that.currentItem.css("paddingRight")||0,10));}}};}
that.placeholder=$(o.placeholder.element.call(that.element,that.currentItem));that.currentItem.after(that.placeholder);o.placeholder.update(that,that.placeholder);},_contactContainers:function(event){var i,j,dist,itemWithLeastDistance,posProperty,sizeProperty,base,cur,nearBottom,floating,innermostContainer=null,innermostIndex=null;for(i=this.containers.length-1;i>=0;i--){if($.contains(this.currentItem[0],this.containers[i].element[0])){continue;}
if(this._intersectsWith(this.containers[i].containerCache)){if(innermostContainer&&$.contains(this.containers[i].element[0],innermostContainer.element[0])){continue;}
innermostContainer=this.containers[i];innermostIndex=i;}else{if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",event,this._uiHash(this));this.containers[i].containerCache.over=0;}}}
if(!innermostContainer){return;}
if(this.containers.length===1){if(!this.containers[innermostIndex].containerCache.over){this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1;}}else{dist=10000;itemWithLeastDistance=null;floating=innermostContainer.floating||isFloating(this.currentItem);posProperty=floating?"left":"top";sizeProperty=floating?"width":"height";base=this.positionAbs[posProperty]+this.offset.click[posProperty];for(j=this.items.length-1;j>=0;j--){if(!$.contains(this.containers[innermostIndex].element[0],this.items[j].item[0])){continue;}
if(this.items[j].item[0]===this.currentItem[0]){continue;}
if(floating&&!isOverAxis(this.positionAbs.top+this.offset.click.top,this.items[j].top,this.items[j].height)){continue;}
cur=this.items[j].item.offset()[posProperty];nearBottom=false;if(Math.abs(cur-base)>Math.abs(cur+this.items[j][sizeProperty]-base)){nearBottom=true;cur+=this.items[j][sizeProperty];}
if(Math.abs(cur-base)<dist){dist=Math.abs(cur-base);itemWithLeastDistance=this.items[j];this.direction=nearBottom?"up":"down";}}
if(!itemWithLeastDistance&&!this.options.dropOnEmpty){return;}
if(this.currentContainer===this.containers[innermostIndex]){return;}
itemWithLeastDistance?this._rearrange(event,itemWithLeastDistance,null,true):this._rearrange(event,null,this.containers[innermostIndex].element,true);this._trigger("change",event,this._uiHash());this.containers[innermostIndex]._trigger("change",event,this._uiHash(this));this.currentContainer=this.containers[innermostIndex];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1;}},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event,this.currentItem])):(o.helper==="clone"?this.currentItem.clone():this.currentItem);if(!helper.parents("body").length){$(o.appendTo!=="parent"?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(helper[0]);}
if(helper[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};}
if(!helper[0].style.width||o.forceHelperSize){helper.width(this.currentItem.width());}
if(!helper[0].style.height||o.forceHelperSize){helper.height(this.currentItem.height());}
return helper;},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ");}
if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}
if("left"in obj){this.offset.click.left=obj.left+this.margins.left;}
if("right"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}
if("top"in obj){this.offset.click.top=obj.top+this.margins.top;}
if("bottom"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}
if(this.offsetParent[0]===document.body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&$.ui.ie)){po={top:0,left:0};}
return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var p=this.currentItem.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var ce,co,over,o=this.options;if(o.containment==="parent"){o.containment=this.helper[0].parentNode;}
if(o.containment==="document"||o.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,$(o.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,($(o.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];}
if(!(/^(document|window|parent)$/).test(o.containment)){ce=$(o.containment)[0];co=$(o.containment).offset();over=($(ce).css("overflow")!=="hidden");this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0)-this.margins.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top];}},_convertPositionTo:function(d,pos){if(!pos){pos=this.position;}
var mod=d==="absolute"?1:-1,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);return{top:(pos.top+
this.offset.relative.top*mod+
this.offset.parent.top*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop()))*mod)),left:(pos.left+
this.offset.relative.left*mod+
this.offset.parent.left*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod))};},_generatePosition:function(event){var top,left,o=this.options,pageX=event.pageX,pageY=event.pageY,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset();}
if(this.originalPosition){if(this.containment){if(event.pageX-this.offset.click.left<this.containment[0]){pageX=this.containment[0]+this.offset.click.left;}
if(event.pageY-this.offset.click.top<this.containment[1]){pageY=this.containment[1]+this.offset.click.top;}
if(event.pageX-this.offset.click.left>this.containment[2]){pageX=this.containment[2]+this.offset.click.left;}
if(event.pageY-this.offset.click.top>this.containment[3]){pageY=this.containment[3]+this.offset.click.top;}}
if(o.grid){top=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1];pageY=this.containment?((top-this.offset.click.top>=this.containment[1]&&top-this.offset.click.top<=this.containment[3])?top:((top-this.offset.click.top>=this.containment[1])?top-o.grid[1]:top+o.grid[1])):top;left=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0];pageX=this.containment?((left-this.offset.click.left>=this.containment[0]&&left-this.offset.click.left<=this.containment[2])?left:((left-this.offset.click.left>=this.containment[0])?left-o.grid[0]:left+o.grid[0])):left;}}
return{top:(pageY-
this.offset.click.top-
this.offset.relative.top-
this.offset.parent.top+
((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop())))),left:(pageX-
this.offset.click.left-
this.offset.relative.left-
this.offset.parent.left+
((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())))};},_rearrange:function(event,i,a,hardRefresh){a?a[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==="down"?i.item[0]:i.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var counter=this.counter;this._delay(function(){if(counter===this.counter){this.refreshPositions(!hardRefresh);}});},_clear:function(event,noPropagation){this.reverting=false;var i,delayedTriggers=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem);}
this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS){if(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static"){this._storedCSS[i]="";}}
this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");}else{this.currentItem.show();}
if(this.fromOutside&&!noPropagation){delayedTriggers.push(function(event){this._trigger("receive",event,this._uiHash(this.fromOutside));});}
if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!noPropagation){delayedTriggers.push(function(event){this._trigger("update",event,this._uiHash());});}
if(this!==this.currentContainer){if(!noPropagation){delayedTriggers.push(function(event){this._trigger("remove",event,this._uiHash());});delayedTriggers.push((function(c){return function(event){c._trigger("receive",event,this._uiHash(this));};}).call(this,this.currentContainer));delayedTriggers.push((function(c){return function(event){c._trigger("update",event,this._uiHash(this));};}).call(this,this.currentContainer));}}
function delayEvent(type,instance,container){return function(event){container._trigger(type,event,instance._uiHash(instance));};}
for(i=this.containers.length-1;i>=0;i--){if(!noPropagation){delayedTriggers.push(delayEvent("deactivate",this,this.containers[i]));}
if(this.containers[i].containerCache.over){delayedTriggers.push(delayEvent("out",this,this.containers[i]));this.containers[i].containerCache.over=0;}}
if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove();}
if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity);}
if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex);}
this.dragging=false;if(this.cancelHelperRemoval){if(!noPropagation){this._trigger("beforeStop",event,this._uiHash());for(i=0;i<delayedTriggers.length;i++){delayedTriggers[i].call(this,event);}
this._trigger("stop",event,this._uiHash());}
this.fromOutside=false;return false;}
if(!noPropagation){this._trigger("beforeStop",event,this._uiHash());}
this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!==this.currentItem[0]){this.helper.remove();}
this.helper=null;if(!noPropagation){for(i=0;i<delayedTriggers.length;i++){delayedTriggers[i].call(this,event);}
this._trigger("stop",event,this._uiHash());}
this.fromOutside=false;return true;},_trigger:function(){if($.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel();}},_uiHash:function(_inst){var inst=_inst||this;return{helper:inst.helper,placeholder:inst.placeholder||$([]),position:inst.position,originalPosition:inst.originalPosition,offset:inst.positionAbs,item:inst.currentItem,sender:_inst?_inst.element:null};}});})(jQuery);(function($){function modifier(fn){return function(){var previous=this.element.val();fn.apply(this,arguments);this._refresh();if(previous!==this.element.val()){this._trigger("change");}};}
$.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);if(this.value()!==""){this._value(this.element.val(),true);}
this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete");}});},_getCreateOptions:function(){var options={},element=this.element;$.each(["min","max","step"],function(i,option){var value=element.attr(option);if(value!==undefined&&value.length){options[option]=value;}});return options;},_events:{keydown:function(event){if(this._start(event)&&this._keydown(event)){event.preventDefault();}},keyup:"_stop",focus:function(){this.previous=this.element.val();},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return;}
this._stop();this._refresh();if(this.previous!==this.element.val()){this._trigger("change",event);}},mousewheel:function(event,delta){if(!delta){return;}
if(!this.spinning&&!this._start(event)){return false;}
this._spin((delta>0?1:-1)*this.options.step,event);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(event);}},100);event.preventDefault();},"mousedown .ui-spinner-button":function(event){var previous;previous=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();function checkFocus(){var isActive=this.element[0]===this.document[0].activeElement;if(!isActive){this.element.focus();this.previous=previous;this._delay(function(){this.previous=previous;});}}
event.preventDefault();checkFocus.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;checkFocus.call(this);});if(this._start(event)===false){return;}
this._repeat(null,$(event.currentTarget).hasClass("ui-spinner-up")?1:-1,event);},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(event){if(!$(event.currentTarget).hasClass("ui-state-active")){return;}
if(this._start(event)===false){return false;}
this._repeat(null,$(event.currentTarget).hasClass("ui-spinner-up")?1:-1,event);},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var uiSpinner=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=uiSpinner.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");if(this.buttons.height()>Math.ceil(uiSpinner.height()*0.5)&&uiSpinner.height()>0){uiSpinner.height(uiSpinner.height());}
if(this.options.disabled){this.disable();}},_keydown:function(event){var options=this.options,keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.UP:this._repeat(null,1,event);return true;case keyCode.DOWN:this._repeat(null,-1,event);return true;case keyCode.PAGE_UP:this._repeat(null,options.page,event);return true;case keyCode.PAGE_DOWN:this._repeat(null,-options.page,event);return true;}
return false;},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>";},_buttonHtml:function(){return""+"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'>"+"<span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>";},_start:function(event){if(!this.spinning&&this._trigger("start",event)===false){return false;}
if(!this.counter){this.counter=1;}
this.spinning=true;return true;},_repeat:function(i,steps,event){i=i||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,steps,event);},i);this._spin(steps*this.options.step,event);},_spin:function(step,event){var value=this.value()||0;if(!this.counter){this.counter=1;}
value=this._adjustValue(value+step*this._increment(this.counter));if(!this.spinning||this._trigger("spin",event,{value:value})!==false){this._value(value);this.counter++;}},_increment:function(i){var incremental=this.options.incremental;if(incremental){return $.isFunction(incremental)?incremental(i):Math.floor(i*i*i/50000-i*i/500+17*i/200+1);}
return 1;},_precision:function(){var precision=this._precisionOf(this.options.step);if(this.options.min!==null){precision=Math.max(precision,this._precisionOf(this.options.min));}
return precision;},_precisionOf:function(num){var str=num.toString(),decimal=str.indexOf(".");return decimal===-1?0:str.length-decimal-1;},_adjustValue:function(value){var base,aboveMin,options=this.options;base=options.min!==null?options.min:0;aboveMin=value-base;aboveMin=Math.round(aboveMin/options.step)*options.step;value=base+aboveMin;value=parseFloat(value.toFixed(this._precision()));if(options.max!==null&&value>options.max){return options.max;}
if(options.min!==null&&value<options.min){return options.min;}
return value;},_stop:function(event){if(!this.spinning){return;}
clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",event);},_setOption:function(key,value){if(key==="culture"||key==="numberFormat"){var prevValue=this._parse(this.element.val());this.options[key]=value;this.element.val(this._format(prevValue));return;}
if(key==="max"||key==="min"||key==="step"){if(typeof value==="string"){value=this._parse(value);}}
if(key==="icons"){this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(value.up);this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(value.down);}
this._super(key,value);if(key==="disabled"){if(value){this.element.prop("disabled",true);this.buttons.button("disable");}else{this.element.prop("disabled",false);this.buttons.button("enable");}}},_setOptions:modifier(function(options){this._super(options);this._value(this.element.val());}),_parse:function(val){if(typeof val==="string"&&val!==""){val=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(val,10,this.options.culture):+val;}
return val===""||isNaN(val)?null:val;},_format:function(value){if(value===""){return"";}
return window.Globalize&&this.options.numberFormat?Globalize.format(value,this.options.numberFormat,this.options.culture):value;},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())});},_value:function(value,allowAny){var parsed;if(value!==""){parsed=this._parse(value);if(parsed!==null){if(!allowAny){parsed=this._adjustValue(parsed);}
value=this._format(parsed);}}
this.element.val(value);this._refresh();},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",false).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element);},stepUp:modifier(function(steps){this._stepUp(steps);}),_stepUp:function(steps){if(this._start()){this._spin((steps||1)*this.options.step);this._stop();}},stepDown:modifier(function(steps){this._stepDown(steps);}),_stepDown:function(steps){if(this._start()){this._spin((steps||1)*-this.options.step);this._stop();}},pageUp:modifier(function(pages){this._stepUp((pages||1)*this.options.page);}),pageDown:modifier(function(pages){this._stepDown((pages||1)*this.options.page);}),value:function(newVal){if(!arguments.length){return this._parse(this.element.val());}
modifier(this._value).call(this,newVal);},widget:function(){return this.uiSpinner;}});}
(jQuery));(function($,undefined){var tabId=0,rhash=/#.*$/;function getNextTabId(){return++tabId;}
function isLocal(anchor){anchor=anchor.cloneNode(false);return anchor.hash.length>1&&decodeURIComponent(anchor.href.replace(rhash,""))===decodeURIComponent(location.href.replace(rhash,""));}
$.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var that=this,options=this.options;this.running=false;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",options.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(event){if($(this).is(".ui-state-disabled")){event.preventDefault();}}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){if($(this).closest("li").is(".ui-state-disabled")){this.blur();}});this._processTabs();options.active=this._initialActive();if($.isArray(options.disabled)){options.disabled=$.unique(options.disabled.concat($.map(this.tabs.filter(".ui-state-disabled"),function(li){return that.tabs.index(li);}))).sort();}
if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(options.active);}else{this.active=$();}
this._refresh();if(this.active.length){this.load(options.active);}},_initialActive:function(){var active=this.options.active,collapsible=this.options.collapsible,locationHash=location.hash.substring(1);if(active===null){if(locationHash){this.tabs.each(function(i,tab){if($(tab).attr("aria-controls")===locationHash){active=i;return false;}});}
if(active===null){active=this.tabs.index(this.tabs.filter(".ui-tabs-active"));}
if(active===null||active===-1){active=this.tabs.length?0:false;}}
if(active!==false){active=this.tabs.index(this.tabs.eq(active));if(active===-1){active=collapsible?false:0;}}
if(!collapsible&&active===false&&this.anchors.length){active=0;}
return active;},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?$():this._getPanelForTab(this.active)};},_tabKeydown:function(event){var focusedTab=$(this.document[0].activeElement).closest("li"),selectedIndex=this.tabs.index(focusedTab),goingForward=true;if(this._handlePageNav(event)){return;}
switch(event.keyCode){case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:selectedIndex++;break;case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:goingForward=false;selectedIndex--;break;case $.ui.keyCode.END:selectedIndex=this.anchors.length-1;break;case $.ui.keyCode.HOME:selectedIndex=0;break;case $.ui.keyCode.SPACE:event.preventDefault();clearTimeout(this.activating);this._activate(selectedIndex);return;case $.ui.keyCode.ENTER:event.preventDefault();clearTimeout(this.activating);this._activate(selectedIndex===this.options.active?false:selectedIndex);return;default:return;}
event.preventDefault();clearTimeout(this.activating);selectedIndex=this._focusNextTab(selectedIndex,goingForward);if(!event.ctrlKey){focusedTab.attr("aria-selected","false");this.tabs.eq(selectedIndex).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",selectedIndex);},this.delay);}},_panelKeydown:function(event){if(this._handlePageNav(event)){return;}
if(event.ctrlKey&&event.keyCode===$.ui.keyCode.UP){event.preventDefault();this.active.focus();}},_handlePageNav:function(event){if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true;}
if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true;}},_findNextTab:function(index,goingForward){var lastTabIndex=this.tabs.length-1;function constrain(){if(index>lastTabIndex){index=0;}
if(index<0){index=lastTabIndex;}
return index;}
while($.inArray(constrain(),this.options.disabled)!==-1){index=goingForward?index+1:index-1;}
return index;},_focusNextTab:function(index,goingForward){index=this._findNextTab(index,goingForward);this.tabs.eq(index).focus();return index;},_setOption:function(key,value){if(key==="active"){this._activate(value);return;}
if(key==="disabled"){this._setupDisabled(value);return;}
this._super(key,value);if(key==="collapsible"){this.element.toggleClass("ui-tabs-collapsible",value);if(!value&&this.options.active===false){this._activate(0);}}
if(key==="event"){this._setupEvents(value);}
if(key==="heightStyle"){this._setupHeightStyle(value);}},_tabId:function(tab){return tab.attr("aria-controls")||"ui-tabs-"+getNextTabId();},_sanitizeSelector:function(hash){return hash?hash.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):"";},refresh:function(){var options=this.options,lis=this.tablist.children(":has(a[href])");options.disabled=$.map(lis.filter(".ui-state-disabled"),function(tab){return lis.index(tab);});this._processTabs();if(options.active===false||!this.anchors.length){options.active=false;this.active=$();}else if(this.active.length&&!$.contains(this.tablist[0],this.active[0])){if(this.tabs.length===options.disabled.length){options.active=false;this.active=$();}else{this._activate(this._findNextTab(Math.max(0,options.active-1),false));}}else{options.active=this.tabs.index(this.active);}
this._refresh();},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0);}else{this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0});this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"});}},_processTabs:function(){var that=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return $("a",this)[0];}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=$();this.anchors.each(function(i,anchor){var selector,panel,panelId,anchorId=$(anchor).uniqueId().attr("id"),tab=$(anchor).closest("li"),originalAriaControls=tab.attr("aria-controls");if(isLocal(anchor)){selector=anchor.hash;panel=that.element.find(that._sanitizeSelector(selector));}else{panelId=that._tabId(tab);selector="#"+panelId;panel=that.element.find(selector);if(!panel.length){panel=that._createPanel(panelId);panel.insertAfter(that.panels[i-1]||that.tablist);}
panel.attr("aria-live","polite");}
if(panel.length){that.panels=that.panels.add(panel);}
if(originalAriaControls){tab.data("ui-tabs-aria-controls",originalAriaControls);}
tab.attr({"aria-controls":selector.substring(1),"aria-labelledby":anchorId});panel.attr("aria-labelledby",anchorId);});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel");},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0);},_createPanel:function(id){return $("<div>").attr("id",id).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",true);},_setupDisabled:function(disabled){if($.isArray(disabled)){if(!disabled.length){disabled=false;}else if(disabled.length===this.anchors.length){disabled=true;}}
for(var i=0,li;(li=this.tabs[i]);i++){if(disabled===true||$.inArray(i,disabled)!==-1){$(li).addClass("ui-state-disabled").attr("aria-disabled","true");}else{$(li).removeClass("ui-state-disabled").removeAttr("aria-disabled");}}
this.options.disabled=disabled;},_setupEvents:function(event){var events={click:function(event){event.preventDefault();}};if(event){$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler";});}
this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,events);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs);},_setupHeightStyle:function(heightStyle){var maxHeight,parent=this.element.parent();if(heightStyle==="fill"){maxHeight=parent.height();maxHeight-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");if(position==="absolute"||position==="fixed"){return;}
maxHeight-=elem.outerHeight(true);});this.element.children().not(this.panels).each(function(){maxHeight-=$(this).outerHeight(true);});this.panels.each(function(){$(this).height(Math.max(0,maxHeight-
$(this).innerHeight()+$(this).height()));}).css("overflow","auto");}else if(heightStyle==="auto"){maxHeight=0;this.panels.each(function(){maxHeight=Math.max(maxHeight,$(this).height("").height());}).height(maxHeight);}},_eventHandler:function(event){var options=this.options,active=this.active,anchor=$(event.currentTarget),tab=anchor.closest("li"),clickedIsActive=tab[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():this._getPanelForTab(tab),toHide=!active.length?$():this._getPanelForTab(active),eventData={oldTab:active,oldPanel:toHide,newTab:collapsing?$():tab,newPanel:toShow};event.preventDefault();if(tab.hasClass("ui-state-disabled")||tab.hasClass("ui-tabs-loading")||this.running||(clickedIsActive&&!options.collapsible)||(this._trigger("beforeActivate",event,eventData)===false)){return;}
options.active=collapsing?false:this.tabs.index(tab);this.active=clickedIsActive?$():tab;if(this.xhr){this.xhr.abort();}
if(!toHide.length&&!toShow.length){$.error("jQuery UI Tabs: Mismatching fragment identifier.");}
if(toShow.length){this.load(this.tabs.index(tab),event);}
this._toggle(event,eventData);},_toggle:function(event,eventData){var that=this,toShow=eventData.newPanel,toHide=eventData.oldPanel;this.running=true;function complete(){that.running=false;that._trigger("activate",event,eventData);}
function show(){eventData.newTab.closest("li").addClass("ui-tabs-active ui-state-active");if(toShow.length&&that.options.show){that._show(toShow,that.options.show,complete);}else{toShow.show();complete();}}
if(toHide.length&&this.options.hide){this._hide(toHide,this.options.hide,function(){eventData.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");show();});}else{eventData.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");toHide.hide();show();}
toHide.attr({"aria-expanded":"false","aria-hidden":"true"});eventData.oldTab.attr("aria-selected","false");if(toShow.length&&toHide.length){eventData.oldTab.attr("tabIndex",-1);}else if(toShow.length){this.tabs.filter(function(){return $(this).attr("tabIndex")===0;}).attr("tabIndex",-1);}
toShow.attr({"aria-expanded":"true","aria-hidden":"false"});eventData.newTab.attr({"aria-selected":"true",tabIndex:0});},_activate:function(index){var anchor,active=this._findActive(index);if(active[0]===this.active[0]){return;}
if(!active.length){active=this.active;}
anchor=active.find(".ui-tabs-anchor")[0];this._eventHandler({target:anchor,currentTarget:anchor,preventDefault:$.noop});},_findActive:function(index){return index===false?$():this.tabs.eq(index);},_getIndex:function(index){if(typeof index==="string"){index=this.anchors.index(this.anchors.filter("[href$='"+index+"']"));}
return index;},_destroy:function(){if(this.xhr){this.xhr.abort();}
this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){if($.data(this,"ui-tabs-destroy")){$(this).remove();}else{$(this).removeClass("ui-state-default ui-state-active ui-state-disabled "+"ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role");}});this.tabs.each(function(){var li=$(this),prev=li.data("ui-tabs-aria-controls");if(prev){li.attr("aria-controls",prev).removeData("ui-tabs-aria-controls");}else{li.removeAttr("aria-controls");}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","");}},enable:function(index){var disabled=this.options.disabled;if(disabled===false){return;}
if(index===undefined){disabled=false;}else{index=this._getIndex(index);if($.isArray(disabled)){disabled=$.map(disabled,function(num){return num!==index?num:null;});}else{disabled=$.map(this.tabs,function(li,num){return num!==index?num:null;});}}
this._setupDisabled(disabled);},disable:function(index){var disabled=this.options.disabled;if(disabled===true){return;}
if(index===undefined){disabled=true;}else{index=this._getIndex(index);if($.inArray(index,disabled)!==-1){return;}
if($.isArray(disabled)){disabled=$.merge([index],disabled).sort();}else{disabled=[index];}}
this._setupDisabled(disabled);},load:function(index,event){index=this._getIndex(index);var that=this,tab=this.tabs.eq(index),anchor=tab.find(".ui-tabs-anchor"),panel=this._getPanelForTab(tab),eventData={tab:tab,panel:panel};if(isLocal(anchor[0])){return;}
this.xhr=$.ajax(this._ajaxSettings(anchor,event,eventData));if(this.xhr&&this.xhr.statusText!=="canceled"){tab.addClass("ui-tabs-loading");panel.attr("aria-busy","true");this.xhr.success(function(response){setTimeout(function(){panel.html(response);that._trigger("load",event,eventData);},1);}).complete(function(jqXHR,status){setTimeout(function(){if(status==="abort"){that.panels.stop(false,true);}
tab.removeClass("ui-tabs-loading");panel.removeAttr("aria-busy");if(jqXHR===that.xhr){delete that.xhr;}},1);});}},_ajaxSettings:function(anchor,event,eventData){var that=this;return{url:anchor.attr("href"),beforeSend:function(jqXHR,settings){return that._trigger("beforeLoad",event,$.extend({jqXHR:jqXHR,ajaxSettings:settings},eventData));}};},_getPanelForTab:function(tab){var id=$(tab).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+id));}});})(jQuery);(function($){var increments=0;function addDescribedBy(elem,id){var describedby=(elem.attr("aria-describedby")||"").split(/\s+/);describedby.push(id);elem.data("ui-tooltip-id",id).attr("aria-describedby",$.trim(describedby.join(" ")));}
function removeDescribedBy(elem){var id=elem.data("ui-tooltip-id"),describedby=(elem.attr("aria-describedby")||"").split(/\s+/),index=$.inArray(id,describedby);if(index!==-1){describedby.splice(index,1);}
elem.removeData("ui-tooltip-id");describedby=$.trim(describedby.join(" "));if(describedby){elem.attr("aria-describedby",describedby);}else{elem.removeAttr("aria-describedby");}}
$.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var title=$(this).attr("title")||"";return $("<a>").text(title).html();},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,tooltipClass:null,track:false,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};if(this.options.disabled){this._disable();}},_setOption:function(key,value){var that=this;if(key==="disabled"){this[value?"_disable":"_enable"]();this.options[key]=value;return;}
this._super(key,value);if(key==="content"){$.each(this.tooltips,function(id,element){that._updateContent(element);});}},_disable:function(){var that=this;$.each(this.tooltips,function(id,element){var event=$.Event("blur");event.target=event.currentTarget=element[0];that.close(event,true);});this.element.find(this.options.items).addBack().each(function(){var element=$(this);if(element.is("[title]")){element.data("ui-tooltip-title",element.attr("title")).attr("title","");}});},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var element=$(this);if(element.data("ui-tooltip-title")){element.attr("title",element.data("ui-tooltip-title"));}});},open:function(event){var that=this,target=$(event?event.target:this.element).closest(this.options.items);if(!target.length||target.data("ui-tooltip-id")){return;}
if(target.attr("title")){target.data("ui-tooltip-title",target.attr("title"));}
target.data("ui-tooltip-open",true);if(event&&event.type==="mouseover"){target.parents().each(function(){var parent=$(this),blurEvent;if(parent.data("ui-tooltip-open")){blurEvent=$.Event("blur");blurEvent.target=blurEvent.currentTarget=this;that.close(blurEvent,true);}
if(parent.attr("title")){parent.uniqueId();that.parents[this.id]={element:this,title:parent.attr("title")};parent.attr("title","");}});}
this._updateContent(target,event);},_updateContent:function(target,event){var content,contentOption=this.options.content,that=this,eventType=event?event.type:null;if(typeof contentOption==="string"){return this._open(event,target,contentOption);}
content=contentOption.call(target[0],function(response){if(!target.data("ui-tooltip-open")){return;}
that._delay(function(){if(event){event.type=eventType;}
this._open(event,target,response);});});if(content){this._open(event,target,content);}},_open:function(event,target,content){var tooltip,events,delayedShow,positionOption=$.extend({},this.options.position);if(!content){return;}
tooltip=this._find(target);if(tooltip.length){tooltip.find(".ui-tooltip-content").html(content);return;}
if(target.is("[title]")){if(event&&event.type==="mouseover"){target.attr("title","");}else{target.removeAttr("title");}}
tooltip=this._tooltip(target);addDescribedBy(target,tooltip.attr("id"));tooltip.find(".ui-tooltip-content").html(content);function position(event){positionOption.of=event;if(tooltip.is(":hidden")){return;}
tooltip.position(positionOption);}
if(this.options.track&&event&&/^mouse/.test(event.type)){this._on(this.document,{mousemove:position});position(event);}else{tooltip.position($.extend({of:target},this.options.position));}
tooltip.hide();this._show(tooltip,this.options.show);if(this.options.show&&this.options.show.delay){delayedShow=this.delayedShow=setInterval(function(){if(tooltip.is(":visible")){position(positionOption.of);clearInterval(delayedShow);}},$.fx.interval);}
this._trigger("open",event,{tooltip:tooltip});events={keyup:function(event){if(event.keyCode===$.ui.keyCode.ESCAPE){var fakeEvent=$.Event(event);fakeEvent.currentTarget=target[0];this.close(fakeEvent,true);}}};if(target[0]!==this.element[0]){events.remove=function(){this._removeTooltip(tooltip);};}
if(!event||event.type==="mouseover"){events.mouseleave="close";}
if(!event||event.type==="focusin"){events.focusout="close";}
this._on(true,target,events);},close:function(event){var that=this,target=$(event?event.currentTarget:this.element),tooltip=this._find(target);if(this.closing){return;}
clearInterval(this.delayedShow);if(target.data("ui-tooltip-title")){target.attr("title",target.data("ui-tooltip-title"));}
removeDescribedBy(target);tooltip.stop(true);this._hide(tooltip,this.options.hide,function(){that._removeTooltip($(this));});target.removeData("ui-tooltip-open");this._off(target,"mouseleave focusout keyup");if(target[0]!==this.element[0]){this._off(target,"remove");}
this._off(this.document,"mousemove");if(event&&event.type==="mouseleave"){$.each(this.parents,function(id,parent){$(parent.element).attr("title",parent.title);delete that.parents[id];});}
this.closing=true;this._trigger("close",event,{tooltip:tooltip});this.closing=false;},_tooltip:function(element){var id="ui-tooltip-"+increments++,tooltip=$("<div>").attr({id:id,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+
(this.options.tooltipClass||""));$("<div>").addClass("ui-tooltip-content").appendTo(tooltip);tooltip.appendTo(this.document[0].body);this.tooltips[id]=element;return tooltip;},_find:function(target){var id=target.data("ui-tooltip-id");return id?$("#"+id):$();},_removeTooltip:function(tooltip){tooltip.remove();delete this.tooltips[tooltip.attr("id")];},_destroy:function(){var that=this;$.each(this.tooltips,function(id,element){var event=$.Event("blur");event.target=event.currentTarget=element[0];that.close(event,true);$("#"+id).remove();if(element.data("ui-tooltip-title")){element.attr("title",element.data("ui-tooltip-title"));element.removeData("ui-tooltip-title");}});}});}
(jQuery));RegExp.escape=function(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&');};(function($){'use strict'
$.csv={defaults:{separator:',',delimiter:'"',headers:true},hooks:{castToScalar:function(value,state){var hasDot=/\./;if(isNaN(value)){return value;}else{if(hasDot.test(value)){return parseFloat(value);}else{var integer=parseInt(value);if(isNaN(integer)){return null;}else{return integer;}}}}},parsers:{parse:function(csv,options){var separator=options.separator;var delimiter=options.delimiter;if(!options.state.rowNum){options.state.rowNum=1;}
if(!options.state.colNum){options.state.colNum=1;}
var data=[];var entry=[];var state=0;var value=''
var exit=false;function endOfEntry(){state=0;value='';if(options.start&&options.state.rowNum<options.start){entry=[];options.state.rowNum++;options.state.colNum=1;return;}
if(options.onParseEntry===undefined){data.push(entry);}else{var hookVal=options.onParseEntry(entry,options.state);if(hookVal!==false){data.push(hookVal);}}
entry=[];if(options.end&&options.state.rowNum>=options.end){exit=true;}
options.state.rowNum++;options.state.colNum=1;}
function endOfValue(){if(options.onParseValue===undefined){entry.push(value);}else{var hook=options.onParseValue(value,options.state);if(hook!==false){entry.push(hook);}}
value='';state=0;options.state.colNum++;}
var escSeparator=RegExp.escape(separator);var escDelimiter=RegExp.escape(delimiter);var match=/(D|S|\n|\r|[^DS\r\n]+)/;var matchSrc=match.source;matchSrc=matchSrc.replace(/S/g,escSeparator);matchSrc=matchSrc.replace(/D/g,escDelimiter);match=RegExp(matchSrc,'gm');csv.replace(match,function(m0){if(exit){return;}
switch(state){case 0:if(m0===separator){value+='';endOfValue();break;}
if(m0===delimiter){state=1;break;}
if(m0==='\n'){endOfValue();endOfEntry();break;}
if(/^\r$/.test(m0)){break;}
value+=m0;state=3;break;case 1:if(m0===delimiter){state=2;break;}
value+=m0;state=1;break;case 2:if(m0===delimiter){value+=m0;state=1;break;}
if(m0===separator){endOfValue();break;}
if(m0==='\n'){endOfValue();endOfEntry();break;}
if(/^\r$/.test(m0)){break;}
throw new Error('CSVDataError: Illegal State [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');case 3:if(m0===separator){endOfValue();break;}
if(m0==='\n'){endOfValue();endOfEntry();break;}
if(/^\r$/.test(m0)){break;}
if(m0===delimiter){throw new Error('CSVDataError: Illegal Quote [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');}
throw new Error('CSVDataError: Illegal Data [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');default:throw new Error('CSVDataError: Unknown State [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');}});if(entry.length!==0){endOfValue();endOfEntry();}
return data;},splitLines:function(csv,options){var separator=options.separator;var delimiter=options.delimiter;if(!options.state.rowNum){options.state.rowNum=1;}
var entries=[];var state=0;var entry='';var exit=false;function endOfLine(){state=0;if(options.start&&options.state.rowNum<options.start){entry='';options.state.rowNum++;return;}
if(options.onParseEntry===undefined){entries.push(entry);}else{var hookVal=options.onParseEntry(entry,options.state);if(hookVal!==false){entries.push(hookVal);}}
entry='';if(options.end&&options.state.rowNum>=options.end){exit=true;}
options.state.rowNum++;}
var escSeparator=RegExp.escape(separator);var escDelimiter=RegExp.escape(delimiter);var match=/(D|S|\n|\r|[^DS\r\n]+)/;var matchSrc=match.source;matchSrc=matchSrc.replace(/S/g,escSeparator);matchSrc=matchSrc.replace(/D/g,escDelimiter);match=RegExp(matchSrc,'gm');csv.replace(match,function(m0){if(exit){return;}
switch(state){case 0:if(m0===separator){entry+=m0;state=0;break;}
if(m0===delimiter){entry+=m0;state=1;break;}
if(m0==='\n'){endOfLine();break;}
if(/^\r$/.test(m0)){break;}
entry+=m0;state=3;break;case 1:if(m0===delimiter){entry+=m0;state=2;break;}
entry+=m0;state=1;break;case 2:var prevChar=entry.substr(entry.length-1);if(m0===delimiter&&prevChar===delimiter){entry+=m0;state=1;break;}
if(m0===separator){entry+=m0;state=0;break;}
if(m0==='\n'){endOfLine();break;}
if(m0==='\r'){break;}
throw new Error('CSVDataError: Illegal state [Row:'+options.state.rowNum+']');case 3:if(m0===separator){entry+=m0;state=0;break;}
if(m0==='\n'){endOfLine();break;}
if(m0==='\r'){break;}
if(m0===delimiter){throw new Error('CSVDataError: Illegal quote [Row:'+options.state.rowNum+']');}
throw new Error('CSVDataError: Illegal state [Row:'+options.state.rowNum+']');default:throw new Error('CSVDataError: Unknown state [Row:'+options.state.rowNum+']');}});if(entry!==''){endOfLine();}
return entries;},parseEntry:function(csv,options){var separator=options.separator;var delimiter=options.delimiter;if(!options.state.rowNum){options.state.rowNum=1;}
if(!options.state.colNum){options.state.colNum=1;}
var entry=[];var state=0;var value='';function endOfValue(){if(options.onParseValue===undefined){entry.push(value);}else{var hook=options.onParseValue(value,options.state);if(hook!==false){entry.push(hook);}}
value='';state=0;options.state.colNum++;}
if(!options.match){var escSeparator=RegExp.escape(separator);var escDelimiter=RegExp.escape(delimiter);var match=/(D|S|\n|\r|[^DS\r\n]+)/;var matchSrc=match.source;matchSrc=matchSrc.replace(/S/g,escSeparator);matchSrc=matchSrc.replace(/D/g,escDelimiter);options.match=RegExp(matchSrc,'gm');}
csv.replace(options.match,function(m0){switch(state){case 0:if(m0===separator){value+='';endOfValue();break;}
if(m0===delimiter){state=1;break;}
if(m0==='\n'||m0==='\r'){break;}
value+=m0;state=3;break;case 1:if(m0===delimiter){state=2;break;}
value+=m0;state=1;break;case 2:if(m0===delimiter){value+=m0;state=1;break;}
if(m0===separator){endOfValue();break;}
if(m0==='\n'||m0==='\r'){break;}
throw new Error('CSVDataError: Illegal State [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');case 3:if(m0===separator){endOfValue();break;}
if(m0==='\n'||m0==='\r'){break;}
if(m0===delimiter){throw new Error('CSVDataError: Illegal Quote [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');}
throw new Error('CSVDataError: Illegal Data [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');default:throw new Error('CSVDataError: Unknown State [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');}});endOfValue();return entry;}},toArray:function(csv,options,callback){var options=(options!==undefined?options:{});var config={};config.callback=((callback!==undefined&&typeof(callback)==='function')?callback:false);config.separator='separator'in options?options.separator:$.csv.defaults.separator;config.delimiter='delimiter'in options?options.delimiter:$.csv.defaults.delimiter;var state=(options.state!==undefined?options.state:{});var options={delimiter:config.delimiter,separator:config.separator,onParseEntry:options.onParseEntry,onParseValue:options.onParseValue,state:state}
var entry=$.csv.parsers.parseEntry(csv,options);if(!config.callback){return entry;}else{config.callback('',entry);}},toArrays:function(csv,options,callback){var options=(options!==undefined?options:{});var config={};config.callback=((callback!==undefined&&typeof(callback)==='function')?callback:false);config.separator='separator'in options?options.separator:$.csv.defaults.separator;config.delimiter='delimiter'in options?options.delimiter:$.csv.defaults.delimiter;var data=[];var options={delimiter:config.delimiter,separator:config.separator,onParseEntry:options.onParseEntry,onParseValue:options.onParseValue,start:options.start,end:options.end,state:{rowNum:1,colNum:1}};data=$.csv.parsers.parse(csv,options);if(!config.callback){return data;}else{config.callback('',data);}},toObjects:function(csv,options,callback){var options=(options!==undefined?options:{});var config={};config.callback=((callback!==undefined&&typeof(callback)==='function')?callback:false);config.separator='separator'in options?options.separator:$.csv.defaults.separator;config.delimiter='delimiter'in options?options.delimiter:$.csv.defaults.delimiter;config.headers='headers'in options?options.headers:$.csv.defaults.headers;options.start='start'in options?options.start:1;if(config.headers){options.start++;}
if(options.end&&config.headers){options.end++;}
var lines=[];var data=[];var options={delimiter:config.delimiter,separator:config.separator,onParseEntry:options.onParseEntry,onParseValue:options.onParseValue,start:options.start,end:options.end,state:{rowNum:1,colNum:1},match:false};var headerOptions={delimiter:config.delimiter,separator:config.separator,start:1,end:1,state:{rowNum:1,colNum:1}}
var headerLine=$.csv.parsers.splitLines(csv,headerOptions);var headers=$.csv.toArray(headerLine[0],options);var lines=$.csv.parsers.splitLines(csv,options);options.state.colNum=1;if(headers){options.state.rowNum=2;}else{options.state.rowNum=1;}
for(var i=0,len=lines.length;i<len;i++){var entry=$.csv.toArray(lines[i],options);var object={};for(var j in headers){object[headers[j]]=entry[j];}
data.push(object);options.state.rowNum++;}
if(!config.callback){return data;}else{config.callback('',data);}},fromArrays:function(arrays,options,callback){var options=(options!==undefined?options:{});var config={};config.callback=((callback!==undefined&&typeof(callback)==='function')?callback:false);config.separator='separator'in options?options.separator:$.csv.defaults.separator;config.delimiter='delimiter'in options?options.delimiter:$.csv.defaults.delimiter;config.escaper='escaper'in options?options.escaper:$.csv.defaults.escaper;config.experimental='experimental'in options?options.experimental:false;if(!config.experimental){throw new Error('not implemented');}
var output=[];for(i in arrays){output.push(arrays[i]);}
if(!config.callback){return output;}else{config.callback('',output);}},fromObjects2CSV:function(objects,options,callback){var options=(options!==undefined?options:{});var config={};config.callback=((callback!==undefined&&typeof(callback)==='function')?callback:false);config.separator='separator'in options?options.separator:$.csv.defaults.separator;config.delimiter='delimiter'in options?options.delimiter:$.csv.defaults.delimiter;config.experimental='experimental'in options?options.experimental:false;if(!config.experimental){throw new Error('not implemented');}
var output=[];for(i in objects){output.push(arrays[i]);}
if(!config.callback){return output;}else{config.callback('',output);}}};$.csvEntry2Array=$.csv.toArray;$.csv2Array=$.csv.toArrays;$.csv2Dictionary=$.csv.toObjects;})(jQuery);(function(a){function d(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=!0,g=0,h=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),h=e,c.axis!==undefined&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*e),c.wheelDeltaY!==undefined&&(h=c.wheelDeltaY/120),c.wheelDeltaX!==undefined&&(g=-1*c.wheelDeltaX/120),d.unshift(b,e,g,h),(a.event.dispatch||a.event.handle).apply(this,d)}
var b=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)
for(var c=b.length;c;)
a.event.fixHooks[b[--c]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)
for(var a=b.length;a;)
this.addEventListener(b[--a],d,!1);else
this.onmousewheel=d},teardown:function(){if(this.removeEventListener)
for(var a=b.length;a;)
this.removeEventListener(b[--a],d,!1);else
this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);(function($,undefined){var multiselectID=0;var $doc=$(document);$.widget("ech.multiselect",{options:{header:true,height:175,minWidth:225,classes:'',checkAllText:'Check all',uncheckAllText:'Uncheck all',noneSelectedText:'Select options',selectedText:'# selected',selectedList:0,show:null,hide:null,autoOpen:false,multiple:true,position:{}},_create:function(){var el=this.element.hide();var o=this.options;this.speed=$.fx.speeds._default;this._isOpen=false;this._namespaceID=this.eventNamespace||('multiselect'+multiselectID);var button=(this.button=$('<button type="button"><span class="ui-icon ui-icon-triangle-1-s"></span></button>')).addClass('ui-multiselect ui-widget ui-state-default ui-corner-all').addClass(o.classes).attr({'title':el.attr('title'),'aria-haspopup':true,'tabIndex':el.attr('tabIndex')}).insertAfter(el),buttonlabel=(this.buttonlabel=$('<span />')).html(o.noneSelectedText).appendTo(button),menu=(this.menu=$('<div />')).addClass('ui-multiselect-menu ui-widget ui-widget-content ui-corner-all').addClass(o.classes).appendTo(document.body),header=(this.header=$('<div />')).addClass('ui-widget-header ui-corner-all ui-multiselect-header ui-helper-clearfix').appendTo(menu),headerLinkContainer=(this.headerLinkContainer=$('<ul />')).addClass('ui-helper-reset').html(function(){if(o.header===true){return'<li><a class="ui-multiselect-all" href="#"><span class="ui-icon ui-icon-check"></span><span>'+o.checkAllText+'</span></a></li><li><a class="ui-multiselect-none" href="#"><span class="ui-icon ui-icon-closethick"></span><span>'+o.uncheckAllText+'</span></a></li>';}else if(typeof o.header==="string"){return'<li>'+o.header+'</li>';}else{return'';}}).append('<li class="ui-multiselect-close"><a href="#" class="ui-multiselect-close"><span class="ui-icon ui-icon-circle-close"></span></a></li>').appendTo(header),checkboxContainer=(this.checkboxContainer=$('<ul />')).addClass('ui-multiselect-checkboxes ui-helper-reset').appendTo(menu);this._bindEvents();this.refresh(true);if(!o.multiple){menu.addClass('ui-multiselect-single');}
multiselectID++;},_init:function(){if(this.options.header===false){this.header.hide();}
if(!this.options.multiple){this.headerLinkContainer.find('.ui-multiselect-all, .ui-multiselect-none').hide();}
if(this.options.autoOpen){this.open();}
if(this.element.is(':disabled')){this.disable();}},refresh:function(init){var el=this.element;var o=this.options;var menu=this.menu;var checkboxContainer=this.checkboxContainer;var optgroups=[];var html="";var id=el.attr('id')||multiselectID++;el.find('option').each(function(i){var $this=$(this);var parent=this.parentNode;var title=this.innerHTML;var description=this.title;var value=this.value;var inputID='ui-multiselect-'+(this.id||id+'-option-'+i);var isDisabled=this.disabled;var isSelected=this.selected;var labelClasses=['ui-corner-all'];var liClasses=(isDisabled?'ui-multiselect-disabled ':' ')+this.className;var optLabel;if(parent.tagName==='OPTGROUP'){optLabel=parent.getAttribute('label');if($.inArray(optLabel,optgroups)===-1){html+='<li class="ui-multiselect-optgroup-label '+parent.className+'"><a href="#">'+optLabel+'</a></li>';optgroups.push(optLabel);}}
if(isDisabled){labelClasses.push('ui-state-disabled');}
if(isSelected&&!o.multiple){labelClasses.push('ui-state-active');}
html+='<li class="'+liClasses+'">';html+='<label for="'+inputID+'" title="'+description+'" class="'+labelClasses.join(' ')+'">';html+='<input id="'+inputID+'" name="multiselect_'+id+'" type="'+(o.multiple?"checkbox":"radio")+'" value="'+value+'" title="'+title+'"';if(isSelected){html+=' checked="checked"';html+=' aria-selected="true"';}
if(isDisabled){html+=' disabled="disabled"';html+=' aria-disabled="true"';}
html+=' /><span>'+title+'</span></label></li>';});checkboxContainer.html(html);this.labels=menu.find('label');this.inputs=this.labels.children('input');this._setButtonWidth();this._setMenuWidth();this.button[0].defaultValue=this.update();if(!init){this._trigger('refresh');}},update:function(){var o=this.options;var $inputs=this.inputs;var $checked=$inputs.filter(':checked');var numChecked=$checked.length;var value;if(numChecked===0){value=o.noneSelectedText;}else{if($.isFunction(o.selectedText)){value=o.selectedText.call(this,numChecked,$inputs.length,$checked.get());}else if(/\d/.test(o.selectedList)&&o.selectedList>0&&numChecked<=o.selectedList){value=$checked.map(function(){return $(this).next().html();}).get().join(', ');}else{value=o.selectedText.replace('#',numChecked).replace('#',$inputs.length);}}
this._setButtonValue(value);return value;},_setButtonValue:function(value){this.buttonlabel.text(value);},_bindEvents:function(){var self=this;var button=this.button;function clickHandler(){self[self._isOpen?'close':'open']();return false;}
button.find('span').bind('click.multiselect',clickHandler);button.bind({click:clickHandler,keypress:function(e){switch(e.which){case 27:case 38:case 37:self.close();break;case 39:case 40:self.open();break;}},mouseenter:function(){if(!button.hasClass('ui-state-disabled')){$(this).addClass('ui-state-hover');}},mouseleave:function(){$(this).removeClass('ui-state-hover');},focus:function(){if(!button.hasClass('ui-state-disabled')){$(this).addClass('ui-state-focus');}},blur:function(){$(this).removeClass('ui-state-focus');}});this.header.delegate('a','click.multiselect',function(e){if($(this).hasClass('ui-multiselect-close')){self.close();}else{self[$(this).hasClass('ui-multiselect-all')?'checkAll':'uncheckAll']();}
e.preventDefault();});this.menu.delegate('li.ui-multiselect-optgroup-label a','click.multiselect',function(e){e.preventDefault();var $this=$(this);var $inputs=$this.parent().nextUntil('li.ui-multiselect-optgroup-label').find('input:visible:not(:disabled)');var nodes=$inputs.get();var label=$this.parent().text();if(self._trigger('beforeoptgrouptoggle',e,{inputs:nodes,label:label})===false){return;}
self._toggleChecked($inputs.filter(':checked').length!==$inputs.length,$inputs);self._trigger('optgrouptoggle',e,{inputs:nodes,label:label,checked:nodes[0].checked});}).delegate('label','mouseenter.multiselect',function(){if(!$(this).hasClass('ui-state-disabled')){self.labels.removeClass('ui-state-hover');$(this).addClass('ui-state-hover').find('input').focus();}}).delegate('label','keydown.multiselect',function(e){e.preventDefault();switch(e.which){case 9:case 27:self.close();break;case 38:case 40:case 37:case 39:self._traverse(e.which,this);break;case 13:$(this).find('input')[0].click();break;}}).delegate('input[type="checkbox"], input[type="radio"]','click.multiselect',function(e){var $this=$(this);var val=this.value;var checked=this.checked;var tags=self.element.find('option');if(this.disabled||self._trigger('click',e,{value:val,text:this.title,checked:checked})===false){e.preventDefault();return;}
$this.focus();$this.attr('aria-selected',checked);tags.each(function(){if(this.value===val){this.selected=checked;}else if(!self.options.multiple){this.selected=false;}});if(!self.options.multiple){self.labels.removeClass('ui-state-active');$this.closest('label').toggleClass('ui-state-active',checked);self.close();}
self.element.trigger("change");setTimeout($.proxy(self.update,self),10);});$doc.bind('mousedown.'+this._namespaceID,function(event){var target=event.target;if(self._isOpen&&!$.contains(self.menu[0],target)&&!$.contains(self.button[0],target)&&target!==self.button[0]&&target!==self.menu[0]){self.close();}});$(this.element[0].form).bind('reset.multiselect',function(){setTimeout($.proxy(self.refresh,self),10);});},_setButtonWidth:function(){var width=this.element.outerWidth();var o=this.options;if(/\d/.test(o.minWidth)&&width<o.minWidth){width=o.minWidth;}
this.button.outerWidth(width);},_setMenuWidth:function(){var m=this.menu;m.outerWidth(this.button.outerWidth());},_traverse:function(which,start){var $start=$(start);var moveToLast=which===38||which===37;$next=$start.parent()[moveToLast?'prevAll':'nextAll']('li:not(.ui-multiselect-disabled, .ui-multiselect-optgroup-label)')[moveToLast?'last':'first']();if(!$next.length){var $container=this.menu.find('ul').last();this.menu.find('label')[moveToLast?'last':'first']().trigger('mouseover');$container.scrollTop(moveToLast?$container.height():0);}else{$next.find('label').trigger('mouseover');}},_toggleState:function(prop,flag){return function(){if(!this.disabled){this[prop]=flag;}
if(flag){this.setAttribute('aria-selected',true);}else{this.removeAttribute('aria-selected');}};},_toggleChecked:function(flag,group){var $inputs=(group&&group.length)?group:this.inputs;var self=this;$inputs.each(this._toggleState('checked',flag));$inputs.eq(0).focus();this.update();var values=$inputs.map(function(){return this.value;}).get();this.element.find('option').each(function(){if(!this.disabled&&$.inArray(this.value,values)>-1){self._toggleState('selected',flag).call(this);}});if($inputs.length){this.element.trigger("change");}},_toggleDisabled:function(flag){this.button.attr({'disabled':flag,'aria-disabled':flag})[flag?'addClass':'removeClass']('ui-state-disabled');var inputs=this.menu.find('input');var key="ech-multiselect-disabled";if(flag){inputs=inputs.filter(':enabled').data(key,true)}else{inputs=inputs.filter(function(){return $.data(this,key)===true;}).removeData(key);}
inputs.attr({'disabled':flag,'arial-disabled':flag}).parent()[flag?'addClass':'removeClass']('ui-state-disabled');this.element.attr({'disabled':flag,'aria-disabled':flag});},open:function(e){var self=this;var button=this.button;var menu=this.menu;var speed=this.speed;var o=this.options;var args=[];if(this._trigger('beforeopen')===false||button.hasClass('ui-state-disabled')||this._isOpen){return;}
var $container=menu.find('ul').last();var effect=o.show;if($.isArray(o.show)){effect=o.show[0];speed=o.show[1]||self.speed;}
if(effect){args=[effect,speed];}
$container.scrollTop(0).height(o.height);this.position();$.fn.show.apply(menu,args);this.labels.filter(':not(.ui-state-disabled)').eq(0).trigger('mouseover').trigger('mouseenter').find('input').trigger('focus');button.addClass('ui-state-active');this._isOpen=true;this._trigger('open');},close:function(){if(this._trigger('beforeclose')===false){return;}
var o=this.options;var effect=o.hide;var speed=this.speed;var args=[];if($.isArray(o.hide)){effect=o.hide[0];speed=o.hide[1]||this.speed;}
if(effect){args=[effect,speed];}
$.fn.hide.apply(this.menu,args);this.button.removeClass('ui-state-active').trigger('blur').trigger('mouseleave');this._isOpen=false;this._trigger('close');},enable:function(){this._toggleDisabled(false);},disable:function(){this._toggleDisabled(true);},checkAll:function(e){this._toggleChecked(true);this._trigger('checkAll');},uncheckAll:function(){this._toggleChecked(false);this._trigger('uncheckAll');},getChecked:function(){return this.menu.find('input').filter(':checked');},destroy:function(){$.Widget.prototype.destroy.call(this);$doc.unbind(this._namespaceID);this.button.remove();this.menu.remove();this.element.show();return this;},isOpen:function(){return this._isOpen;},widget:function(){return this.menu;},getButton:function(){return this.button;},position:function(){var o=this.options;if($.ui.position&&!$.isEmptyObject(o.position)){o.position.of=o.position.of||this.button;this.menu.show().position(o.position).hide();}else{var pos=this.button.offset();this.menu.css({top:pos.top+this.button.outerHeight(),left:pos.left});}},_setOption:function(key,value){var menu=this.menu;switch(key){case'header':menu.find('div.ui-multiselect-header')[value?'show':'hide']();break;case'checkAllText':menu.find('a.ui-multiselect-all span').eq(-1).text(value);break;case'uncheckAllText':menu.find('a.ui-multiselect-none span').eq(-1).text(value);break;case'height':menu.find('ul').last().height(parseInt(value,10));break;case'minWidth':this.options[key]=parseInt(value,10);this._setButtonWidth();this._setMenuWidth();break;case'selectedText':case'selectedList':case'noneSelectedText':this.options[key]=value;this.update();break;case'classes':menu.add(this.button).removeClass(this.options.classes).addClass(value);break;case'multiple':menu.toggleClass('ui-multiselect-single',!value);this.options.multiple=value;this.element[0].multiple=value;this.refresh();break;case'position':this.position();}
$.Widget.prototype._setOption.apply(this,arguments);}});})(jQuery);(function($){var rEscape=/[\-\[\]{}()*+?.,\\\^$|#\s]/g;$.widget('ech.multiselectfilter',{options:{label:'Filter:',width:null,placeholder:'Enter keywords',autoReset:false},_create:function(){var opts=this.options;var elem=$(this.element);var instance=(this.instance=(elem.data('ech-multiselect')||elem.data("multiselect")));var header=(this.header=instance.menu.find('.ui-multiselect-header').addClass('ui-multiselect-hasfilter'));var wrapper=(this.wrapper=$('<div class="ui-multiselect-filter">'+(opts.label.length?opts.label:'')+'<input placeholder="'+opts.placeholder+'" type="search"'+(/\d/.test(opts.width)?'style="width:'+opts.width+'px"':'')+' /></div>').prependTo(this.header));this.inputs=instance.menu.find('input[type="checkbox"], input[type="radio"]');this.input=wrapper.find('input').bind({keydown:function(e){if(e.which===13){e.preventDefault();}},keyup:$.proxy(this._handler,this),click:$.proxy(this._handler,this)});this.updateCache();instance._toggleChecked=function(flag,group){var $inputs=(group&&group.length)?group:this.labels.find('input');var _self=this;var selector=instance._isOpen?':disabled, :hidden':':disabled';$inputs=$inputs.not(selector).each(this._toggleState('checked',flag));this.update();var values=$inputs.map(function(){return this.value;}).get();this.element.find('option').filter(function(){if(!this.disabled&&$.inArray(this.value,values)>-1){_self._toggleState('selected',flag).call(this);}});if($inputs.length){this.element.trigger('change');}};var doc=$(document).bind('multiselectrefresh',$.proxy(function(){this.updateCache();this._handler();},this));if(this.options.autoReset){doc.bind('multiselectclose',$.proxy(this._reset,this));}},_handler:function(e){var term=$.trim(this.input[0].value.toLowerCase()),rows=this.rows,inputs=this.inputs,cache=this.cache;if(!term){rows.show();}else{rows.hide();var regex=new RegExp(term.replace(rEscape,"\\$&"),'gi');this._trigger("filter",e,$.map(cache,function(v,i){if(v.search(regex)!==-1){rows.eq(i).show();return inputs.get(i);}
return null;}));}
this.instance.menu.find(".ui-multiselect-optgroup-label").each(function(){var $this=$(this);var isVisible=$this.nextUntil('.ui-multiselect-optgroup-label').filter(function(){return $.css(this,"display")!=='none';}).length;$this[isVisible?'show':'hide']();});},_reset:function(){this.input.val('').trigger('keyup');},updateCache:function(){this.rows=this.instance.menu.find(".ui-multiselect-checkboxes li:not(.ui-multiselect-optgroup-label)");this.cache=this.element.children().map(function(){var elem=$(this);if(this.tagName.toLowerCase()==="optgroup"){elem=elem.children();}
return elem.map(function(){return this.innerHTML.toLowerCase();}).get();}).get();},widget:function(){return this.wrapper;},destroy:function(){$.Widget.prototype.destroy.call(this);this.input.val('').trigger("keyup");this.wrapper.remove();}});})(jQuery);(function(b){b.support.touch="ontouchend"in document;if(!b.support.touch){return;}
var c=b.ui.mouse.prototype,e=c._mouseInit,a;function d(g,h){if(g.originalEvent.touches.length>1){return;}
g.preventDefault();var i=g.originalEvent.changedTouches[0],f=document.createEvent("MouseEvents");f.initMouseEvent(h,true,true,window,1,i.screenX,i.screenY,i.clientX,i.clientY,false,false,false,false,0,null);g.target.dispatchEvent(f);}
c._touchStart=function(g){var f=this;if(a||!f._mouseCapture(g.originalEvent.changedTouches[0])){return;}
a=true;f._touchMoved=false;d(g,"mouseover");d(g,"mousemove");d(g,"mousedown");};c._touchMove=function(f){if(!a){return;}
this._touchMoved=true;d(f,"mousemove");};c._touchEnd=function(f){if(!a){return;}
d(f,"mouseup");d(f,"mouseout");if(!this._touchMoved){d(f,"click");}
a=false;};c._mouseInit=function(){var f=this;f.element.bind("touchstart",b.proxy(f,"_touchStart")).bind("touchmove",b.proxy(f,"_touchMove")).bind("touchend",b.proxy(f,"_touchEnd"));e.call(f);};})(jQuery);jQuery.fn.farbtastic=function(callback){$.farbtastic(this,callback);return this;};jQuery.farbtastic=function(container,callback){var container=$(container).get(0);return container.farbtastic||(container.farbtastic=new jQuery._farbtastic(container,callback));}
jQuery._farbtastic=function(container,callback){var fb=this;$(container).html('<div class="farbtastic"><div class="color"></div><div class="wheel"></div><div class="overlay"></div><div class="h-marker marker"></div><div class="sl-marker marker"></div></div>');var e=$('.farbtastic',container);fb.wheel=$('.wheel',container).get(0);fb.radius=84;fb.square=100;fb.width=194;if(navigator.appVersion.match(/MSIE [0-6]\./)){$('*',e).each(function(){if(this.currentStyle.backgroundImage!='none'){var image=this.currentStyle.backgroundImage;image=this.currentStyle.backgroundImage.substring(5,image.length-2);$(this).css({'backgroundImage':'none','filter':"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+image+"')"});}});}
fb.linkTo=function(callback){if(typeof fb.callback=='object'){$(fb.callback).unbind('keyup',fb.updateValue);}
fb.color=null;if(typeof callback=='function'){fb.callback=callback;}else if(typeof callback=='object'||typeof callback=='string'){fb.callback=$(callback);fb.callback.bind('keyup',fb.updateValue);if(fb.callback.get(0).value){fb.setColor(fb.callback.get(0).value);}}
return this;}
fb.updateValue=function(event){if(this.value&&this.value!=fb.color){fb.setColor(this.value);}}
fb.setColor=function(color){var unpack=fb.unpack(color);if(fb.color!=color&&unpack){fb.color=color;fb.rgb=unpack;fb.hsl=fb.RGBToHSL(fb.rgb);fb.updateDisplay();}
return this;}
fb.setHSL=function(hsl){fb.hsl=hsl;fb.rgb=fb.HSLToRGB(hsl);fb.color=fb.pack(fb.rgb);fb.updateDisplay();return this;}
fb.widgetCoords=function(event){var x,y;var el=event.target||event.srcElement;var reference=fb.wheel;if(typeof event.offsetX!='undefined'){var pos={x:event.offsetX,y:event.offsetY};var e=el;while(e){e.mouseX=pos.x;e.mouseY=pos.y;pos.x+=e.offsetLeft;pos.y+=e.offsetTop;e=e.offsetParent;}
var e=reference;var offset={x:0,y:0}
while(e){if(typeof e.mouseX!='undefined'){x=e.mouseX-offset.x;y=e.mouseY-offset.y;break;}
offset.x+=e.offsetLeft;offset.y+=e.offsetTop;e=e.offsetParent;}
e=el;while(e){e.mouseX=undefined;e.mouseY=undefined;e=e.offsetParent;}}else{var pos=fb.absolutePosition(reference);x=(event.pageX||0*(event.clientX+$('html').get(0).scrollLeft))-pos.x;y=(event.pageY||0*(event.clientY+$('html').get(0).scrollTop))-pos.y;}
return{x:x-fb.width/2,y:y-fb.width/2};}
fb.mousedown=function(event){if(!document.dragging){$(document).bind('mousemove',fb.mousemove).bind('mouseup',fb.mouseup);document.dragging=true;}
var pos=fb.widgetCoords(event);fb.circleDrag=Math.max(Math.abs(pos.x),Math.abs(pos.y))*2>fb.square;fb.mousemove(event);return false;}
fb.mousemove=function(event){var pos=fb.widgetCoords(event);if(fb.circleDrag){var hue=Math.atan2(pos.x,-pos.y)/6.28;if(hue<0)
hue+=1;fb.setHSL([hue,fb.hsl[1],fb.hsl[2]]);}else{var sat=Math.max(0,Math.min(1,-(pos.x/fb.square)+.5));var lum=Math.max(0,Math.min(1,-(pos.y/fb.square)+.5));fb.setHSL([fb.hsl[0],sat,lum]);}
return false;}
fb.mouseup=function(){$(document).unbind('mousemove',fb.mousemove);$(document).unbind('mouseup',fb.mouseup);document.dragging=false;}
fb.updateDisplay=function(){var angle=fb.hsl[0]*6.28;$('.h-marker',e).css({left:Math.round(Math.sin(angle)*fb.radius+fb.width/2)+'px',top:Math.round(-Math.cos(angle)*fb.radius+fb.width/2)+'px'});$('.sl-marker',e).css({left:Math.round(fb.square*(.5-fb.hsl[1])+fb.width/2)+'px',top:Math.round(fb.square*(.5-fb.hsl[2])+fb.width/2)+'px'});$('.color',e).css('backgroundColor',fb.pack(fb.HSLToRGB([fb.hsl[0],1,0.5])));if(typeof fb.callback=='object'){$(fb.callback).css({backgroundColor:fb.color,color:fb.hsl[2]>0.5?'#000':'#fff'});$(fb.callback).each(function(){if(this.value&&this.value!=fb.color){this.value=colorHexToName(fb.color);}});}else if(typeof fb.callback=='function'){fb.callback.call(fb,fb.color);}}
fb.absolutePosition=function(el){var r={x:el.offsetLeft,y:el.offsetTop};if(el.offsetParent){var tmp=fb.absolutePosition(el.offsetParent);r.x+=tmp.x;r.y+=tmp.y;}
return r;};fb.pack=function(rgb){var r=Math.round(rgb[0]*255);var g=Math.round(rgb[1]*255);var b=Math.round(rgb[2]*255);return'#'+(r<16?'0':'')+r.toString(16)+
(g<16?'0':'')+g.toString(16)+
(b<16?'0':'')+b.toString(16);}
fb.unpack=function(color){if(color.length==7){return[parseInt('0x'+color.substring(1,3))/255,parseInt('0x'+color.substring(3,5))/255,parseInt('0x'+color.substring(5,7))/255];}else if(color.length==4){return[parseInt('0x'+color.substring(1,2))/15,parseInt('0x'+color.substring(2,3))/15,parseInt('0x'+color.substring(3,4))/15];}}
fb.HSLToRGB=function(hsl){var m1,m2,r,g,b;var h=hsl[0],s=hsl[1],l=hsl[2];m2=(l<=0.5)?l*(s+1):l+s-l*s;m1=l*2-m2;return[this.hueToRGB(m1,m2,h+0.33333),this.hueToRGB(m1,m2,h),this.hueToRGB(m1,m2,h-0.33333)];}
fb.hueToRGB=function(m1,m2,h){h=(h<0)?h+1:((h>1)?h-1:h);if(h*6<1)
return m1+(m2-m1)*h*6;if(h*2<1)
return m2;if(h*3<2)
return m1+(m2-m1)*(0.66666-h)*6;return m1;}
fb.RGBToHSL=function(rgb){var min,max,delta,h,s,l;var r=rgb[0],g=rgb[1],b=rgb[2];min=Math.min(r,Math.min(g,b));max=Math.max(r,Math.max(g,b));delta=max-min;l=(min+max)/2;s=0;if(l>0&&l<1){s=delta/(l<0.5?(2*l):(2-2*l));}
h=0;if(delta>0){if(max==r&&max!=g)
h+=(g-b)/delta;if(max==g&&max!=b)
h+=(2+(b-r)/delta);if(max==b&&max!=r)
h+=(4+(r-g)/delta);h/=6;}
return[h,s,l];}
$('*',e).mousedown(fb.mousedown);fb.setColor('#000000');if(callback){fb.linkTo(callback);}}
function colorHexToName(color){var colors={"#000000":"Black","#000080":"Navy Blue","#00008b":"Web Dark Blue","#0000c8":"Dark Blue","#0000cd":"Medium Blue","#0000ff":"Blue","#000741":"Stratos","#001b1c":"Swamp","#002387":"Resolution Blue","#002900":"Deep Fir","#002e20":"Burnham","#002fa7":"International Klein Blue","#003153":"Prussian Blue","#003366":"Midnight Blue","#003399":"Smalt","#003532":"Deep Teal","#003e40":"Cyprus","#004620":"Kaitoke Green","#0047ab":"Cobalt","#004816":"Crusoe","#004950":"Sherpa Blue","#0056a7":"Endeavour","#00581a":"Camarone","#006400":"Dark Green","#0066cc":"Science Blue","#0066ff":"Blue Ribbon","#00755e":"Tropical Rain Forest","#0076a3":"Allports","#007ba7":"Deep Cerulean","#007ec7":"Lochmara","#007fff":"Azure Radiance","#008000":"Web Green","#008080":"Teal","#008b8b":"Dark Cyan","#0095b6":"Bondi Blue","#009dc4":"Pacific Blue","#00a693":"Persian Green","#00a86b":"Jade","#00bfbf":"PyMOL teal","#00bfff":"Deep Sky Blue","#00cc99":"Caribbean Green","#00cccc":"Robin's Egg Blue","#00ced1":"Dark Turquoise","#00fa9a":"Medium Spring Green","#00ff00":"Green","#00ff7f":"Spring Green","#00ffff":"Cyan/Aqua","#010d1a":"Blue Charcoal","#011635":"Midnight","#011d13":"Holly","#012731":"Daintree","#01361c":"Cardin Green","#01371a":"County Green","#013e62":"Astronaut Blue","#013f6a":"Regal Blue","#014b43":"Aqua Deep","#015e85":"Orient","#016162":"Blue Stone","#016d39":"Fun Green","#01796f":"Pine Green","#017987":"Blue Lagoon","#01826b":"Deep Sea","#01a368":"Green Haze","#022d15":"English Holly","#02402c":"Sherwood Green","#02478e":"Congress Blue","#024e46":"Evening Sea","#026395":"Bahama Blue","#02866f":"Observatory","#02a4d3":"Cerulean","#03163c":"Tangaroa","#032b52":"Green Vogue","#036a6e":"Mosque","#041004":"Midnight Moss","#041322":"Black Pearl","#042e4c":"Blue Whale","#044022":"Zuccini","#044259":"Teal Blue","#051040":"Deep Cove","#051657":"Gulf Blue","#055989":"Venice Blue","#056f57":"Watercourse","#062a78":"Catalina Blue","#063537":"Tiber","#069b81":"Gossamer","#06a189":"Niagara","#073a50":"Tarawera","#080110":"Jaguar","#081910":"Black Bean","#082567":"Deep Sapphire","#088370":"Elf Green","#08e8de":"Bright Turquoise","#092256":"Downriver","#09230f":"Palm Green","#09255d":"Madison","#093624":"Bottle Green","#095859":"Deep Sea Green","#097f4b":"Salem","#0a001c":"Black Russian","#0a480d":"Dark Fern","#0a6906":"Japanese Laurel","#0a6f75":"Atoll","#0b0b0b":"Cod Gray","#0b0f08":"Marshland","#0b1107":"Gordons Green","#0b1304":"Black Forest","#0b6207":"San Felix","#0bda51":"Malachite","#0c0b1d":"Ebony","#0c0d0f":"Woodsmoke","#0c1911":"Racing Green","#0c7a79":"Surfie Green","#0c8990":"Blue Chill","#0d0332":"Black Rock","#0d1117":"Bunker","#0d1c19":"Aztec","#0d2e1c":"Bush","#0e0e18":"Cinder","#0e2a30":"Firefly","#0f2d9e":"Torea Bay","#10121d":"Vulcan","#101405":"Green Waterloo","#105852":"Eden","#110c6c":"Arapawa","#120a8f":"Ultramarine","#123447":"Elephant","#126b40":"Jewel","#130000":"Diesel","#130a06":"Asphalt","#13264d":"Blue Zodiac","#134f19":"Parsley","#140600":"Nero","#1450aa":"Tory Blue","#151f4c":"Bunting","#1560bd":"Denim","#15736b":"Genoa","#161928":"Mirage","#161d10":"Hunter Green","#162a40":"Big Stone","#163222":"Celtic","#16322c":"Timber Green","#163531":"Gable Green","#171f04":"Pine Tree","#175579":"Chathams Blue","#182d09":"Deep Forest Green","#18587a":"Blumine","#191919":"Gray10","#191970":"Web Midnight Blue","#191999":"Density","#19330e":"Palm Leaf","#193751":"Nile Blue","#1959a8":"Fun Blue","#199999":"Deep Teal","#1a1a68":"Lucky Point","#1ab385":"Mountain Meadow","#1b0245":"Tolopea","#1b1035":"Haiti","#1b127b":"Deep Koamaru","#1b1404":"Acadia","#1b2f11":"Seaweed","#1b3162":"Biscay","#1b659d":"Matisse","#1c1208":"Crowshead","#1c1e13":"Rangoon Green","#1c39bb":"Persian Blue","#1c402e":"Everglade","#1c7c7d":"Elm","#1d6142":"Green Pea","#1e0f04":"Creole","#1e1609":"Karaka","#1e1708":"El Paso","#1e385b":"Cello","#1e433c":"Te Papa Green","#1e90ff":"Dodger Blue","#1e9ab0":"Eastern Blue","#1f120f":"Night Rider","#1fc2c2":"Java","#20208d":"Jacksons Purple","#202e54":"Cloud Burst","#204852":"Blue Dianne","#20b2aa":"Light Sea Green","#211a0e":"Eternity","#220878":"Deep Blue","#228b22":"Forest Green","#233418":"Mallard","#240a40":"Violet","#240c02":"Kilamanjaro","#242a1d":"Log Cabin","#242e16":"Black Olive","#24500f":"Green House","#251607":"Graphite","#251706":"Cannon Black","#251f4f":"Port Gore","#25272c":"Shark","#25311c":"Green Kelp","#2596d1":"Curious Blue","#260368":"Paua","#26056a":"ParisM","#261105":"Wood Bark","#261414":"Gondola","#262335":"Steel Gray","#26283b":"Ebony Clay","#273a81":"Bay of Many","#27504b":"Plantation","#278a5b":"Eucalyptus","#281e15":"Oil","#283a77":"Astronaut","#286acd":"Mariner","#290c5e":"Violent Violet","#292130":"Bastille","#292319":"Zeus","#292937":"Charade","#297b9a":"Jelly Bean","#29ab87":"Jungle Green","#2a0359":"Cherry Pie","#2a140e":"Coffee Bean","#2a2630":"Baltic Sea","#2a380b":"Turtle Green","#2a52be":"Cerulean Blue","#2b0202":"Sepia Black","#2b194f":"Valhalla","#2b3228":"Heavy Metal","#2c0e8c":"Blue Gem","#2c1632":"Revolver","#2c2133":"Bleached Cedar","#2c8c84":"Lochinvar","#2d2510":"Mikado","#2d383a":"Outer Space","#2d569b":"St Tropaz","#2e0329":"Jacaranda","#2e1905":"Jacko Bean","#2e3222":"Rangitoto","#2e3f62":"Rhino","#2e8b57":"Sea Green","#2ebfd4":"Scooter","#2f270e":"Onion","#2f3cb3":"Governor Bay","#2f4f4f":"Dark Slate Gray","#2f519e":"Sapphire","#2f5a57":"Spectra","#2f6168":"Casal","#300529":"Melanzane","#301f1e":"Cocoa Brown","#302a0f":"Woodrush","#304b6a":"San Juan","#30d5c8":"Turquoise","#311c17":"Eclipse","#314459":"Pickled Bluewood","#315ba1":"Azure","#31728d":"Calypso","#317d82":"Paradiso","#32127a":"Persian Indigo","#32293a":"Blackcurrant","#323232":"Mine Shaft","#325d52":"Stromboli","#327c14":"Bilbao","#327da0":"Astral","#32cd32":"Lime Green","#33036b":"Christalle","#33292f":"Thunder","#333333":"Gray20","#337fcc":"PyMOL skyblue","#339933":"Forest","#33cc99":"Shamrock","#33ff33":"tv_green","#341515":"Tamarind","#350036":"Mardi Gras","#350e42":"Valentino","#350e57":"Jagger","#353542":"Tuna","#354e8c":"Chambray","#363050":"Martinique","#363534":"Tuatara","#363c0d":"Waiouru","#36747d":"Ming","#368716":"La Palma","#370202":"Chocolate","#371d09":"Clinker","#37290e":"Brown Tumbleweed","#373021":"Birch","#377475":"Oracle","#380474":"Blue Diamond","#381a51":"Grape","#383533":"Dune","#384555":"Oxford Blue","#384910":"Clover","#394851":"Limed Spruce","#396413":"Dell","#3a0020":"Toledo","#3a2010":"Sambuca","#3a2a6a":"Jacarta","#3a686c":"William","#3a6a47":"Killarney","#3ab09e":"Keppel","#3b000b":"Temptress","#3b0910":"Aubergine","#3b1f1f":"Jon","#3b2820":"Treehouse","#3b7a57":"Amazon","#3b91b4":"Boston Blue","#3c0878":"Windsor","#3c1206":"Rebel","#3c1f76":"Meteorite","#3c2005":"Dark Ebony","#3c3910":"Camouflage","#3c4151":"Bright Gray","#3c4443":"Cape Cod","#3c493a":"Lunar Green","#3cb371":"Medium Sea Green","#3d0c02":"Bean","#3d2b1f":"Bistre","#3d7d52":"Goblin","#3e0480":"Kingfisher Daisy","#3e1c14":"Cedar","#3e2b23":"English Walnut","#3e2c1c":"Black Marlin","#3e3a44":"Ship Gray","#3eabbf":"Pelorous","#3f2109":"Bronze","#3f2500":"Cola","#3f3002":"Madras","#3f307f":"Minsk","#3f3fa5":"PyMOL Deep Blue","#3f4c3a":"Cabbage Pont","#3f583b":"Tom Thumb","#3f5d53":"Mineral Green","#3fc1aa":"Puerto Rico","#3fff00":"Harlequin","#3fffbf":"Green Cyan","#401801":"Brown Pod","#40291d":"Cork","#403b38":"Masala","#403d19":"Thatch Green","#405169":"Fiord","#40826d":"Viridian","#40a860":"Chateau Green","#40e0d0":"Web Turquoise","#410056":"Ripe Plum","#411f10":"Paco","#412010":"Deep Oak","#413c37":"Merlin","#414257":"Gun Powder","#414c7d":"East Bay","#4169e1":"Royal Blue","#41aa78":"Ocean Green","#420303":"Burnt Maroon","#423921":"Lisbon Brown","#427977":"Faded Jade","#431560":"Scarlet Gum","#433120":"Iroko","#433e37":"Armadillo","#434c59":"River Bed","#436a0d":"Green Leaf","#44012d":"Barossa","#441d00":"Morocco Brown","#444954":"Mako","#454936":"Kelp","#456cac":"San Marino","#45b1e8":"Picton Blue","#460b41":"Loulou","#462425":"Crater Brown","#465945":"Gray Asparagus","#4682b4":"Steel Blue","#480404":"Rustic Red","#480607":"Bulgarian Rose","#480656":"Clairvoyant","#481c1c":"Cocoa Bean","#483131":"Woody Brown","#483c32":"Taupe","#483d8b":"Dark Slate Blue","#48d1cc":"Medium Turquoise","#49170c":"Van Cleef","#492615":"Brown Derby","#49371b":"Metallic Bronze","#495400":"Verdun Green","#496679":"Blue Bayoux","#497183":"Bismark","#4a2a04":"Bracken","#4a3004":"Deep Bronze","#4a3c30":"Mondo","#4a4244":"Tundora","#4a444b":"Gravel","#4a4e5a":"Trout","#4b0082":"Pigment Indigo","#4b5d52":"Nandor","#4c3024":"Saddle","#4c4c4c":"Gray30","#4c4cff":"tv_blue","#4c4f56":"Abbey","#4d0135":"Blackberry","#4d0a18":"Cab Sav","#4d1e01":"Indian Tan","#4d282d":"Cowboy","#4d282e":"Livid Brown","#4d3833":"Rock","#4d3d14":"Punga","#4d400f":"Bronzetone","#4d5328":"Woodland","#4e0606":"Mahogany","#4e2a5a":"Bossanova","#4e3b41":"Matterhorn","#4e420c":"Bronze Olive","#4e4562":"Mulled Wine","#4e6649":"Axolotl","#4e7f9e":"Wedgewood","#4eabd1":"Shakespeare","#4f1c70":"Honey Flower","#4f2398":"Daisy Bush","#4f69c6":"Indigo","#4f7942":"Fern Green","#4f9d5d":"Fruit Salad","#4fa83d":"Apple","#504351":"Mortar","#507096":"Kashmir Blue","#507672":"Cutty Sark","#50c878":"Emerald","#514649":"Emperor","#516e3d":"Chalet Green","#517c66":"Como","#51808f":"Smalt Blue","#52001f":"Castro","#520c17":"Maroon Oak","#523c94":"Gigas","#533455":"Voodoo","#534491":"Victoria","#53824b":"Hippie Green","#541012":"Heath","#544333":"Judge Gray","#54534d":"Fuscous Gray","#549019":"Vida Loca","#55280c":"Cioccolato","#555b10":"Saratoga","#556b2f":"Dark Olive Green","#556d56":"Finlandia","#5590d9":"Havelock Blue","#56b4be":"Fountain Blue","#578363":"Spring Leaves","#583401":"Saddle Brown","#585562":"Scarpa Flow","#587156":"Cactus","#589aaf":"Hippie Blue","#591d35":"Wine Berry","#592804":"Brown Bramble","#593737":"Congo Brown","#594433":"Millbrook","#5a6e9c":"Waikawa Gray","#5a87a0":"Horizon","#5b3013":"Jambalaya","#5c0120":"Bordeaux","#5c0536":"Mulberry Wood","#5c2e01":"Carnaby Tan","#5c5d75":"Comet","#5d1e0f":"Redwood","#5d4c51":"Don Juan","#5d5c58":"Chicago","#5d5e37":"Verdigris","#5d7747":"Dingley","#5da19f":"Breaker Bay","#5e483e":"Kabul","#5e5d3b":"Hemlock","#5f3d26":"Irish Coffee","#5f5f6e":"Mid Gray","#5f6672":"Shuttle Gray","#5f9ea0":"Web Cadet Blue","#5fa777":"Aqua Forest","#5fb3ac":"Tradewind","#604913":"Horses Neck","#605b73":"Smoky","#606e68":"Corduroy","#6093d1":"Danube","#612718":"Espresso","#614051":"Eggplant","#615d30":"Costa Del Sol","#61845f":"Glade Green","#622f30":"Buccaneer","#623f2d":"Quincy","#624e9a":"Butterfly Bush","#625119":"West Coast","#626649":"Finch","#639a8f":"Patina","#63b76c":"Fern","#6456b7":"Blue Violet","#646077":"Dolphin","#646463":"Storm Dust","#646a54":"Siam","#646e75":"Nevada","#6495ed":"Cornflower Blue","#64ccdb":"Viking","#65000b":"Rosewood","#651a14":"Cherrywood","#652dc1":"Purple Heart","#657220":"Fern Frond","#65745d":"Willow Grove","#65869f":"Hoki","#660045":"Pompadour","#660099":"Purple","#66023c":"Tyrian Purple","#661010":"Dark Tan","#666666":"Gray40","#66b2b2":"Light Teal","#66b58f":"Silver Tree","#66cdaa":"Medium Aquamarine","#66ff00":"Bright Green","#66ff66":"Screamin'Green","#67032d":"Black Rose","#675fa6":"Scampi","#676662":"Ironside Gray","#678975":"Viridian Green","#67a712":"Christi","#683600":"Nutmeg Wood Finish","#685558":"Zambezi","#685e6e":"Salt Box","#692545":"Tawny Port","#692d54":"Finn","#695f62":"Scorpion","#696969":"Dim Gray","#697e9a":"Lynch","#6a442e":"Spice","#6a5acd":"Slate Blue","#6a5d1b":"Himalaya","#6a6051":"Soya Bean","#6b2a14":"Hairy Heath","#6b3fa0":"Royal Purple","#6b4e31":"Shingle Fawn","#6b5755":"Dorado","#6b8ba2":"Bermuda Gray","#6b8e23":"Olive Drab","#6c3082":"Eminence","#6cdae7":"Turquoise Blue","#6d0101":"Lonestar","#6d5e54":"Pine Cone","#6d6c6c":"Dove Gray","#6d9292":"Juniper","#6d92a1":"Gothic","#6e0902":"Red Oxide","#6e1d14":"Moccaccino","#6e4826":"Pickled Bean","#6e4b26":"Dallas","#6e6d57":"Kokoda","#6e7783":"Pale Sky","#6f440c":"Cafe Royale","#6f6a61":"Flint","#6f8e63":"Highland","#6f9d02":"Limeade","#6fd0c5":"Downy","#701c1c":"Persian Plum","#704214":"Sepia","#704a07":"Antique Bronze","#704f50":"Ferra","#706555":"Coffee","#708090":"Slate Gray","#711a00":"Cedar Wood Finish","#71291d":"Metallic Copper","#714693":"Affair","#714ab2":"Studio","#715d47":"Tobacco Brown","#716338":"Yellow Metal","#716b56":"Peat","#716e10":"Olivetone","#717486":"Storm Gray","#718080":"Sirocco","#71d9e2":"Aquamarine Blue","#72010f":"Venetian Red","#724a2f":"Old Copper","#726d4e":"Go Ben","#727b89":"Raven","#731e8f":"Seance","#734a12":"Raw Umber","#736c9f":"Kimberly","#736d58":"Crocodile","#737829":"Crete","#738678":"Xanadu","#74640d":"Spicy Mustard","#747d63":"Limed Ash","#747d83":"Rolling Stone","#748881":"Blue Smoke","#749378":"Laurel","#74c365":"Mantis","#755a57":"Russett","#7563a8":"Deluge","#76395d":"Cosmic","#7666c6":"Blue Marguerite","#76bd17":"Lima","#76d7ea":"Sky Blue","#770f05":"Dark Burgundy","#771f1f":"Crown of Thorns","#773f1a":"Walnut","#776f61":"Pablo","#778120":"Pacifika","#778899":"Light Slate Gray","#779e86":"Oxley","#77dd77":"Pastel Green","#780109":"Japanese Maple","#782d19":"Mocha","#782f16":"Peanut","#78866b":"Camouflage Green","#788a25":"Wasabi","#788bba":"Ship Cove","#78a39c":"Sea Nymph","#795d4c":"Roman Coffee","#796878":"Old Lavender","#796989":"Rum","#796a78":"Fedora","#796d62":"Sandstone","#79deec":"Spray","#7a013a":"Siren","#7a58c1":"Fuchsia Blue","#7a7a7a":"Boulder","#7a89b8":"Wild Blue Yonder","#7ac488":"De York","#7b3801":"Red Beech","#7b3f00":"Cinnamon","#7b6608":"Yukon Gold","#7b68ee":"Medium Slate Blue","#7b7874":"Tapa","#7b7c94":"Waterloo","#7b8265":"Flax Smoke","#7b9f80":"Amulet","#7ba05b":"Asparagus","#7c1c05":"Kenyan Copper","#7c7631":"Pesto","#7c778a":"Topaz","#7c7b7a":"Concord","#7c7b82":"Jumbo","#7c881a":"Trendy Green","#7ca1a6":"Gumbo","#7cb0a1":"Acapulco","#7cb7bb":"Neptune","#7cfc00":"Lawn Green","#7d2c14":"Pueblo","#7da98d":"Bay Leaf","#7dc8f7":"Malibu","#7dd8c6":"Bermuda","#7e3a15":"Copper Canyon","#7f00ff":"Purple Blue","#7f1734":"Claret","#7f3a02":"Peru Tan","#7f626d":"Falcon","#7f7589":"Mobster","#7f76d3":"Moody Blue","#7f7f7f":"Gray50","#7f7fff":"Slate","#7fff00":"Chartreuse","#7fff7f":"PyMOL lime","#7fffd4":"Aquamarine","#7fffff":"PyMOL aquamarine","#800000":"Maroon","#800080":"Web Purple","#800b47":"Rose Bud Cherry","#801818":"Falu Red","#80341f":"Red Robin","#803790":"Vivid Violet","#80461b":"Russet","#807e79":"Friar Gray","#808000":"Olive","#808080":"Gray","#80b3ae":"Gulf Stream","#80b3c4":"Glacier","#80ccea":"Seagull","#81422c":"Nutmeg","#816e71":"Spicy Pink","#817377":"Empress","#819885":"Spanish Green","#826f65":"Sand Dune","#828685":"Gunsmoke","#828f72":"Battleship Gray","#831923":"Merlot","#837050":"Shadow","#83aa5d":"Chelsea Cucumber","#83d0c6":"Monte Carlo","#843179":"Plum","#84a0a0":"Granny Smith","#84bf00":"Split Pea","#8581d9":"Chetwode Blue","#858470":"Bandicoot","#859faf":"Bali Hai","#85c4cc":"Half Baked","#860111":"Red Devil","#863c3c":"Lotus","#86483c":"Ironstone","#864d1e":"Bull Shot","#86560a":"Rusty Nail","#868974":"Bitter","#86949f":"Regent Gray","#871550":"Disco","#87756e":"Americano","#877c7b":"Hurricane","#878d91":"Oslo Gray","#87ab39":"Sushi","#87ceeb":"Web Sky Blue","#87cefa":"Light Sky Blue","#885342":"Spicy Mix","#886221":"Kumera","#888387":"Suva Gray","#888d65":"Avocado","#893456":"Camelot","#893843":"Solid Pink","#894367":"Cannon Pink","#897d6d":"Makara","#8a2be2":"Web Blue Violet","#8a3324":"Burnt Umber","#8a73d6":"TrueV","#8a8360":"Clay Creek","#8a8389":"Monsoon","#8a8f8a":"Stack","#8ab9f1":"Jordy Blue","#8b0000":"Dark Red","#8b008b":"Dark Magenta","#8b00ff":"Electric Violet","#8b0723":"Monarch","#8b4513":"Web Saddle Brown","#8b6b0b":"Corn Harvest","#8b8470":"Olive Haze","#8b847e":"Schooner","#8b8680":"Natural Gray","#8b9c90":"Mantle","#8b9fee":"Portage","#8ba690":"Envy","#8ba9a5":"Cascade","#8be6d8":"Riptide","#8c055e":"Cardinal Pink","#8c3f99":"Violet Purple","#8c472f":"Mule Fawn","#8c5738":"Potters Clay","#8c6495":"Trendy Pink","#8cb266":"Smudge","#8d0226":"Paprika","#8d381c":"PyMOL chocolate","#8d3d38":"Sanguine Brown","#8d3f3f":"Tosca","#8d7662":"Cement","#8d8974":"Granite Green","#8d90a1":"Manatee","#8da8cc":"Polo Blue","#8e0000":"Red Berry","#8e4d1e":"Rope","#8e6f70":"Opium","#8e775e":"Domino","#8e8190":"Mamba","#8eabc1":"Nepal","#8f021c":"Pohutukawa","#8f3e33":"El Salva","#8f4b0e":"Korma","#8f8176":"Squirrel","#8fbc8f":"Dark Sea Green","#8fd6b4":"Vista Blue","#900020":"Burgundy","#901e1e":"Old Brick","#907874":"Hemp","#907b71":"Almond Frost","#908d39":"Sycamore","#90ee90":"Light Green","#92000a":"Sangria","#924321":"Cumin","#926f5b":"Beaver","#928573":"Stonewall","#928590":"Venus","#9370d8":"Medium Purple","#9370db":"Medium Purple","#93ccea":"Cornflower","#93dfb8":"Algae Green","#9400d3":"Dark Violet","#944747":"Copper Rust","#948771":"Arrowtown","#950015":"Scarlett","#956387":"Strikemaster","#959396":"Mountain Mist","#960018":"Carmine","#964b00":"Brown","#967059":"Leather","#9678b6":"Purple Mountain's Majesty","#967bb6":"Lavender Purple","#96a8a1":"Pewter","#96bbab":"Summer Green","#97605d":"Au Chico","#9771b5":"Wisteria","#97cd2d":"Atlantis","#983d61":"Vin Rouge","#9874d3":"Lilac Bush","#98777b":"Bazaar","#98811b":"Hacienda","#988d77":"Pale Oyster","#98fb98":"Pale Green","#98ff98":"Mint Green","#990066":"Fresh Eggplant","#991199":"Violet Eggplant","#991613":"Tamarillo","#991999":"Deep Purple","#991b07":"Totem Pole","#9932cc":"Dark Orchid","#993333":"Ruby","#996666":"Copper Rose","#9966cc":"Amethyst","#997a8d":"Mountbatten Pink","#999919":"Deep Olive","#999999":"Gray60","#9999cc":"Blue Bell","#9a3820":"Prairie Sand","#9a6e61":"Toast","#9a9577":"Gurkha","#9ab973":"Olivine","#9ac2b8":"Shadow Green","#9acd32":"Web Yellow Green","#9b4703":"Oregon","#9b9e8f":"Lemon Grass","#9c3336":"Stiletto","#9d5616":"Hawaiian Tan","#9dacb7":"Gull Gray","#9dc209":"Pistachio","#9de093":"Granny Smith Apple","#9de5ff":"Anakiwa","#9e5302":"Chelsea Gem","#9e5b40":"Sepia Skin","#9ea587":"Sage","#9ea91f":"Citron","#9eb1cd":"Rock Blue","#9edee0":"Morning Glory","#9f381d":"Cognac","#9f821c":"Reef Gold","#9f9f9c":"Star Dust","#9fa0b1":"Santas Gray","#9fd7d3":"Sinbad","#9fdd8c":"Feijoa","#a02712":"Tabasco","#a0522d":"Sienna","#a1750d":"Buttered Rum","#a1adb5":"Hit Gray","#a1c50a":"Citrus","#a1dad7":"Aqua Island","#a1e9de":"Water Leaf","#a2006d":"Flirt","#a23b6c":"Rouge","#a26645":"Cape Palliser","#a2aab3":"Gray Chateau","#a2aeab":"Edward","#a3807b":"Pharlap","#a397b4":"Amethyst Smoke","#a3e3ed":"Blizzard Blue","#a4a49d":"Delta","#a4a6d3":"Wistful","#a4af6e":"Green Smoke","#a50b5e":"Jazzberry Jam","#a52a2a":"Web Brown","#a5512b":"PyMOL brown","#a59b91":"Zorba","#a5cb0c":"Bahia","#a5e5a5":"PyMOL palegreen","#a62f20":"Roof Terracotta","#a65529":"Paarl","#a68b5b":"Barley Corn","#a69279":"Donkey Brown","#a6a29a":"Dawn","#a72525":"Mexican Red","#a7882c":"Luxor Gold","#a85307":"Rich Gold","#a86515":"Reno Sand","#a86b6b":"Coral Tree","#a8989b":"Dusty Gray","#a899e6":"Dull Lavender","#a8a589":"Tallow","#a8ae9c":"Bud","#a8af8e":"Locust","#a8bd9f":"Norway","#a8e3bd":"Chinook","#a9a491":"Gray Olive","#a9a9a9":"Dark Gray","#a9acb6":"Aluminium","#a9b2c3":"Cadet Blue","#a9b497":"Schist","#a9bdbf":"Tower Gray","#a9bef2":"Perano","#a9c6c2":"Opal","#aa375a":"Night Shadz","#aa4203":"Fire","#aa8b5b":"Muesli","#aa8d6f":"Sandal","#aaa5a9":"Shady Lady","#aaa9cd":"Logan","#aaabb7":"Spun Pearl","#aad6e6":"Regent St Blue","#aaf0d1":"Magic Mint","#ab0563":"Lipstick","#ab3472":"Royal Heath","#ab917a":"Sandrift","#aba0d9":"Cold Purple","#aba196":"Bronco","#ac8a56":"Limed Oak","#ac91ce":"East Side","#ac9e22":"Lemon Ginger","#aca494":"Napa","#aca586":"Hillary","#aca59f":"Cloudy","#acacac":"Silver Chalice","#acb78e":"Swamp Green","#accbb1":"Spring Rain","#acdd4d":"Conifer","#ace1af":"Celadon","#ad781b":"Mandalay","#adbed1":"Casper","#add8e6":"Light Blue","#addfad":"Moss Green","#ade6c4":"Padua","#adff2f":"Green Yellow","#ae4560":"Hippie Pink","#ae6020":"Desert","#ae809e":"Bouquet","#af4035":"Medium Carmine","#af4d43":"Apple Blossom","#af593e":"Brown Rust","#af8751":"Driftwood","#af8f2c":"Alpine","#af9f1c":"Lucky","#afa09e":"Martini","#afb1b8":"Bombay","#afbdd9":"Pigeon Post","#afeeee":"Pale Turquoise","#b04c6a":"Cadillac","#b05d54":"Matrix","#b05e81":"Tapestry","#b06608":"Mai Tai","#b09a95":"Del Rio","#b0c4de":"Light Steel Blue","#b0e0e6":"Powder Blue","#b0e313":"Inch Worm","#b10000":"Bright Red","#b12121":"PyMOL firebrick","#b14a0b":"Vesuvius","#b1610b":"Pumpkin Skin","#b16d52":"Santa Fe","#b19461":"Teak","#b1e2c1":"Fringy Flower","#b1f4e7":"Ice Cold","#b20931":"Shiraz","#b22222":"Fire Brick","#b24c66":"Raspberry","#b27f7f":"Dirty Violet","#b2a1ea":"Biloba Flower","#b2b2b2":"Gray70","#b32d29":"Tall Poppy","#b35213":"Fiery Orange","#b38007":"Hot Toddy","#b3af95":"Taupe Gray","#b3c110":"La Rioja","#b43332":"Well Read","#b44668":"Blush","#b4cfd3":"Jungle Mist","#b57281":"Turkish Rose","#b57edc":"Lavender","#b5a27f":"Mongoose","#b5b35c":"Olive Green","#b5d2ce":"Jet Stream","#b5ecdf":"Cruise","#b6316c":"Hibiscus","#b69d98":"Thatch","#b6b095":"Heathered Gray","#b6baa4":"Eagle","#b6d1ea":"Spindle","#b6d3bf":"Gum Leaf","#b7410e":"Rust","#b78c4c":"Sand","#b78e5c":"Muddy Waters","#b7a214":"Sahara","#b7a458":"Husk","#b7b1b1":"Nobel","#b7c3d0":"Heather","#b7f0be":"Madang","#b81104":"Milano Red","#b87333":"Copper","#b8860b":"Dark Goldenrod","#b8b56a":"Gimblet","#b8c1b1":"Green Spring","#b8c25d":"Celery","#b8e0f9":"Sail","#b94e48":"Chestnut","#b95140":"Crail","#b98d28":"Marigold","#b9c46a":"Wild Willow","#b9c8ac":"Rainee","#ba0101":"Guardsman Red","#ba450c":"Rock Spray","#ba55d3":"Medium Orchid","#ba6f1e":"Bourbon","#ba7f03":"Pirate Gold","#ba8c84":"PyMOL darksalmon","#bab1a2":"Nomad","#bac7c9":"Submarine","#baeef9":"Charlotte","#bb3385":"Medium Red Violet","#bb8983":"Brandy Rose","#bbd009":"Rio Grande","#bbd7c1":"Surf","#bc8f8f":"Rosy Brown","#bcc9c2":"Powder Ash","#bd5e2e":"Tuscany","#bd978e":"Quicksand","#bdb1a8":"Silk","#bdb2a1":"Malta","#bdb3c7":"Chatelle","#bdb76b":"Dark Khaki","#bdbbd7":"Lavender Gray","#bdbdc6":"French Gray","#bdc8b3":"Clay Ash","#bdc9ce":"Loblolly","#bdedfd":"French Pass","#bea6c3":"London Hue","#beb5b7":"Pink Swan","#bede0d":"Fuego","#bf00bf":"PyMOL purple","#bf5500":"Rose of Sharon","#bfb8b0":"Tide","#bfbed8":"Blue Haze","#bfbfff":"PyMOL lightblue","#bfc1c2":"Silver Sand","#bfc921":"Key Lime Pie","#bfdbe2":"Ziggurat","#bfff00":"Lime","#bfff3f":"Limon","#c02b18":"Thunderbird","#c04737":"Mojo","#c08081":"Old Rose","#c0c0c0":"Silver","#c0d3b9":"Pale Leaf","#c0d8b6":"Pixie Green","#c1440e":"Tia Maria","#c154c1":"Fuchsia Pink","#c1a004":"Buddha Gold","#c1b7a4":"Bison Hide","#c1bab0":"Tea","#c1becd":"Gray Suit","#c1d7b0":"Sprout","#c1f07c":"Sulu","#c26b03":"Indochine","#c2955d":"Twine","#c2bdb6":"Cotton Seed","#c2cac4":"Pumice","#c2e8e5":"Jagged Ice","#c32148":"Maroon Flush","#c3b091":"Indian Khaki","#c3bfc1":"Pale Slate","#c3c3bd":"Gray Nickel","#c3cde6":"Periwinkle Gray","#c3d1d1":"Tiara","#c3ddf9":"Tropical Blue","#c41e3a":"Cardinal","#c45655":"Fuzzy Wuzzy Brown","#c45719":"Orange Roughy","#c4b200":"PyMOL olive","#c4c4bc":"Mist Gray","#c4d0b0":"Coriander","#c4f4eb":"Mint Tulip","#c54b8c":"Mulberry","#c59922":"Nugget","#c5994b":"Tussock","#c5dbca":"Sea Mist","#c5e17a":"Yellow Green","#c62d42":"Brick Red","#c6726b":"Contessa","#c69191":"Oriental Pink","#c6a84b":"Roti","#c6c3b5":"Ash","#c6c8bd":"Kangaroo","#c6e610":"Las Palmas","#c7031e":"Monza","#c71585":"Red Violet","#c7bca2":"Coral Reef","#c7c1ff":"Melrose","#c7c4bf":"Cloud","#c7c9d5":"Ghost","#c7cd90":"Pine Glade","#c7dde5":"Botticelli","#c88a65":"Antique Brass","#c8a2c8":"Lilac","#c8a528":"Hokey Pokey","#c8aabf":"Lily","#c8b568":"Laser","#c8e3d7":"Edgewater","#c96323":"Piper","#c99415":"Pizza","#c9a0dc":"Light Wisteria","#c9b29b":"Rodeo Dust","#c9b35b":"Sundance","#c9b93b":"Earls Green","#c9c0bb":"Silver Rust","#c9d9d2":"Conch","#c9ffa2":"Reef","#c9ffe5":"Aero Blue","#ca3435":"Flush Mahogany","#cabb48":"Turmeric","#cadcd4":"Paris White","#cae00d":"Bitter Lemon","#cae6da":"Skeptic","#cb8fa9":"Viola","#cbcab6":"Foggy Gray","#cbd3b0":"Green Mist","#cbdbd6":"Nebula","#cc3333":"Persian Red","#cc5500":"Burnt Orange","#cc7722":"Ochre","#cc8899":"Puce","#cccaa8":"Thistle Green","#cccccc":"Gray80","#ccccff":"Periwinkle","#ccff00":"Electric Lime","#ccffff":"Pale Cyan","#cd5700":"Tenn","#cd5c5c":"Chestnut Rose","#cd8429":"Brandy Punch","#cd853f":"Peru","#cdf4ff":"Onahau","#ceb98f":"Sorrell Brown","#cebaba":"Cold Turkey","#cec291":"Yuma","#cec7a7":"Chino","#cfa39d":"Eunry","#cfb53b":"Old Gold","#cfdccf":"Tasman","#cfe5d2":"Surf Crest","#cff9f3":"Humming Bird","#cffaf4":"Scandal","#d05f04":"Red Stage","#d06da1":"Hopbush","#d07d12":"Meteor","#d0bef8":"Perfume","#d0c0e5":"Prelude","#d0f0c0":"Tea Green","#d18f1b":"Geebung","#d1bea8":"Vanilla","#d1c6b4":"Soft Amber","#d1d2ca":"Celeste","#d1d2dd":"Mischka","#d1e231":"Pear","#d2691e":"Hot Cinnamon","#d27d46":"Raw Sienna","#d29eaa":"Careys Pink","#d2b48c":"Tan","#d2da97":"Deco","#d2f6de":"Blue Romance","#d2f8b0":"Gossip","#d3cbba":"Sisal","#d3cdc5":"Swirl","#d3d3d3":"Light Gray","#d47494":"Charm","#d4b6af":"Clam Shell","#d4bf8d":"Straw","#d4c4a8":"Akaroa","#d4cd16":"Bird Flower","#d4d7d9":"Iron","#d4dfe2":"Geyser","#d4e2fc":"Hawkes Blue","#d54600":"Grenadier","#d591a4":"Can Can","#d59a6f":"Whiskey","#d5d195":"Winter Hazel","#d5f6e3":"Granny Apple","#d69188":"My Pink","#d6c562":"Tacha","#d6cef6":"Moon Raker","#d6d6d1":"Quill Gray","#d6ffdb":"Snowy Mint","#d7837f":"New York Pink","#d7c498":"Pavlova","#d7d0ff":"Fog","#d8337f":"Warm Pink","#d84437":"Valencia","#d87093":"Pale Violet Red","#d87c63":"Japonica","#d8bfd8":"Thistle","#d8c2d5":"Maverick","#d8d8ff":"Blue White","#d8fcfa":"Foam","#d94972":"Cabaret","#d99376":"Burning Sand","#d9b99b":"Cameo","#d9d6cf":"Timberwolf","#d9dcc1":"Tana","#d9e4f5":"Link Water","#d9f7ff":"Mabel","#da3287":"Cerise","#da5b38":"Flame Pea","#da6304":"Bamboo","#da6a41":"Red Damask","#da70d6":"Orchid","#da8a67":"Copperfield","#daa520":"Golden Grass","#daecd6":"Zanah","#daf4f0":"Iceberg","#dafaff":"Oyster Bay","#db5079":"Cranberry","#db9690":"Petite Orchid","#db995e":"Di Serria","#dbdbdb":"Alto","#dbfff8":"Frosted Mint","#dc143c":"Crimson","#dc4333":"Punch","#dcb20c":"Galliano","#dcb4bc":"Blossom","#dcd747":"Wattle","#dcd9d2":"Westar","#dcdcdc":"Gainsboro","#dcddcc":"Moon Mist","#dcedb4":"Caper","#dcf0ea":"Swans Down","#dda0dd":"Web Plum","#ddd6d5":"Swiss Coffee","#ddf9f1":"White Ice","#de3163":"Cerise Red","#de6360":"Roman","#dea681":"Tumbleweed","#deb887":"Burly Wood","#deba13":"Gold Tips","#dec196":"Brandy","#decbc6":"Wafer","#ded4a4":"Sapling","#ded717":"Barberry","#dee5c0":"Beryl Green","#def5ff":"Pattens Blue","#df73ff":"Heliotrope","#dfbe6f":"Apache","#dfcd6f":"Chenin","#dfcfdb":"Lola","#dfecda":"Willow Brook","#dfff00":"Chartreuse Yellow","#e0b0ff":"Mauve","#e0b646":"Anzac","#e0b974":"Harvest Gold","#e0c095":"Calico","#e0ffff":"Baby Blue","#e16865":"Sunglo","#e1bc64":"Equator","#e1c0c8":"Pink Flare","#e1e6d6":"Periglacial Blue","#e1ead4":"Kidnapper","#e1f6e8":"Tara","#e25465":"Mandy","#e2725b":"Terracotta","#e28913":"Golden Bell","#e292c0":"Shocking","#e29418":"Dixie","#e29cd2":"Light Orchid","#e2d8ed":"Snuff","#e2ebed":"Mystic","#e2f3ec":"Apple Green","#e30b5c":"Razzmatazz","#e32636":"Alizarin Crimson","#e34234":"Cinnabar","#e3bebe":"Cavern Pink","#e3f5e1":"Peppermint","#e3f988":"Mindaro","#e47698":"Deep Blush","#e49b0f":"Gamboge","#e4c2d5":"Melanie","#e4cfde":"Twilight","#e4d1c0":"Bone","#e4d422":"Sunflower","#e4d5b7":"Grain Brown","#e4d69b":"Zombie","#e4f6e7":"Frostee","#e4ffd1":"Snow Flurry","#e52b50":"Amaranth","#e5841b":"Zest","#e5ccc9":"Dust Storm","#e5d7bd":"Stark White","#e5d8af":"Hampton","#e5e0e1":"Bon Jour","#e5e5e5":"Mercury","#e5f9f6":"Polar","#e64e03":"Trinidad","#e6be8a":"Gold Sand","#e6bea5":"Cashmere","#e6d7b9":"Double Spanish White","#e6e4d4":"Satin Linen","#e6e6fa":"Web Lavender","#e6f2ea":"Harp","#e6f8f3":"Off Green","#e6ffe9":"Hint of Green","#e6ffff":"Tranquil","#e77200":"Mango Tango","#e7730a":"Christine","#e79f8c":"Tonys Pink","#e79fc4":"Kobi","#e7bcb4":"Rose Fog","#e7bf05":"Corn","#e7cd8c":"Putty","#e7ece6":"Gray Nurse","#e7f8ff":"Lily White","#e7feff":"Bubbles","#e89928":"Fire Bush","#e8b9b3":"Shilo","#e8e0d5":"Pearl Bush","#e8ebe0":"Green White","#e8f1d4":"Chrome White","#e8f2eb":"Gin","#e8f5f2":"Aqua Squeeze","#e96e00":"Clementine","#e97451":"Burnt Sienna","#e97c07":"Tahiti Gold","#e9967a":"Dark Salmon","#e9cecd":"Oyster Pink","#e9d75a":"Confetti","#e9e3e3":"Ebb","#e9f8ed":"Ottoman","#e9fffd":"Clear Day","#ea88a8":"Carissma","#eaae69":"Porsche","#eab33b":"Tulip Tree","#eac674":"Rob Roy","#eadab8":"Raffia","#eae8d4":"White Rock","#eaf6ee":"Panache","#eaf6ff":"Solitude","#eaf9f5":"Aqua Spring","#eafffe":"Dew","#eb9373":"Apricot","#ebc2af":"Zinnwaldite","#eca927":"Fuel Yellow","#ecc54e":"Ronchi","#ecc7ee":"French Lilac","#eccdb9":"Just Right","#ece090":"Wild Rice","#ecebbd":"Fall Green","#ecebce":"Aths Special","#ecf245":"Starship","#ed0a3f":"Red Ribbon","#ed7a1c":"Tango","#ed9121":"Carrot Orange","#ed989e":"Sea Pink","#edb381":"Tacao","#edc9af":"Desert Sand","#edcdab":"Pancho","#eddcb1":"Chamois","#edea99":"Primrose","#edf5dd":"Frost","#edf5f5":"Aqua Haze","#edf6ff":"Zumthor","#edf9f1":"Narvik","#edfc84":"Honeysuckle","#ee82ee":"Lavender Magenta","#eec1be":"Beauty Bush","#eed794":"Chalky","#eed9c4":"Almond","#eedc82":"Flax","#eededa":"Bizarre","#eee3ad":"Double Colonial White","#eee8aa":"Pale Goldenrod","#eeeee8":"Cararra","#eeef78":"Manz","#eef0c8":"Tahuna Sands","#eef0f3":"Athens Gray","#eef3c3":"Tusk","#eef4de":"Loafer","#eef6f7":"Catskill White","#eefdff":"Twilight Blue","#eeff9a":"Jonquil","#eeffe2":"Rice Flower","#ef863f":"Jaffa","#efefef":"Gallery","#eff2f3":"Porcelain","#f08080":"Light Coral","#f091a9":"Mauvelous","#f0d52d":"Golden Dream","#f0db7d":"Golden Sand","#f0dc82":"Buff","#f0e2ec":"Prim","#f0e68c":"Khaki","#f0eefd":"Selago","#f0eeff":"Titan White","#f0f8ff":"Alice Blue","#f0fcea":"Feta","#f0fff0":"Honeydew","#f0ffff":"Web Azure","#f18200":"Gold Drop","#f19bab":"Wewak","#f1e788":"Sahara Sand","#f1e9d2":"Parchment","#f1e9ff":"Blue Chalk","#f1eec1":"Mint Julep","#f1f1f1":"Seashell","#f1f7f2":"Saltpan","#f1ffad":"Tidal","#f1ffc8":"Chiffon","#f2552a":"Flamingo","#f28500":"Tangerine","#f2c3b2":"Mandys Pink","#f2f2f2":"Concrete","#f2fafa":"Black Squeeze","#f34723":"Pomegranate","#f3ad16":"Buttercup","#f3d69d":"New Orleans","#f3d9df":"Vanilla Ice","#f3e7bb":"Sidecar","#f3e9e5":"Dawn Pink","#f3edcf":"Wheatfield","#f3fb62":"Canary","#f3fbd4":"Orinoco","#f3ffd8":"Carla","#f400a1":"Hollywood Cerise","#f4a460":"Sandybrown","#f4c430":"Saffron","#f4d81c":"Ripe Lemon","#f4ebd3":"Janna","#f4f2ee":"Pampas","#f4f4f4":"Wild Sand","#f4f8ff":"Zircon","#f57584":"Froly","#f5c85c":"Cream Can","#f5c999":"Manhattan","#f5d5a0":"Maize","#f5deb3":"Wheat","#f5e7a2":"Sandwisp","#f5e7e2":"Pot Pourri","#f5e9d3":"Albescent White","#f5edef":"Soft Peach","#f5f3e5":"Ecru White","#f5f5dc":"Beige","#f5f5f5":"White Smoke","#f5fb3d":"Golden Fizz","#f5ffbe":"Australian Mint","#f5fffa":"Mint Cream","#f64a8a":"French Rose","#f653a6":"Brilliant Rose","#f6a4c9":"Illusion","#f6f0e6":"Merino","#f6f7f7":"Black Haze","#f6ffdc":"Spring Sun","#f7468a":"Violet Red","#f77703":"Chilean Fire","#f77fbe":"Persian Pink","#f7b668":"Rajah","#f7c8da":"Azalea","#f7dbe6":"We Peep","#f7f2e1":"Quarter Spanish White","#f7f5fa":"Whisper","#f7faf7":"Snow Drift","#f8b853":"Casablanca","#f8c3df":"Chantilly","#f8d9e9":"Cherub","#f8db9d":"Marzipan","#f8dd5c":"Energy Yellow","#f8e4bf":"Givry","#f8f0e8":"White Linen","#f8f4ff":"Magnolia","#f8f6f1":"Spring Wood","#f8f7dc":"Coconut Cream","#f8f7fc":"White Lilac","#f8f8f7":"Desert Storm","#f8f8ff":"Ghost White","#f8f99c":"Texas","#f8facd":"Corn Field","#f8fdd3":"Mimosa","#f95a61":"Carnation","#f9bf58":"Saffron Mango","#f9e0ed":"Carousel Pink","#f9e4bc":"Dairy Cream","#f9e663":"Portica","#f9e6f4":"Underage Pink","#f9eaf3":"Amour","#f9f8e4":"Rum Swizzle","#f9ff8b":"Dolly","#f9fff6":"Sugar Cane","#fa7814":"Ecstasy","#fa8072":"Web Salmon","#fa9d5a":"Tan Hide","#fad3a2":"Corvette","#fadfad":"Peach Yellow","#fae600":"Turbo","#faeab9":"Astra","#faebd7":"Antique White","#faeccc":"Champagne","#faf0e6":"Linen","#faf3f0":"Fantasy","#faf7d6":"Citrine White","#fafad2":"Light Goldenrod Yellow","#fafafa":"Alabaster","#fafde4":"Hint of Yellow","#faffa4":"Milan","#fb607f":"Brink Pink","#fb8989":"Geraldine","#fba0e3":"Lavender Rose","#fba129":"Sea Buckthorn","#fbac13":"Sun","#fbaed2":"Lavender Pink","#fbb2a3":"Rose Bud","#fbbeda":"Cupid","#fbcce7":"Classic Rose","#fbceb1":"Apricot Peach","#fbe7b2":"Banana Mania","#fbe870":"Marigold Yellow","#fbe96c":"Festival","#fbea8c":"Sweet Corn","#fbec5d":"Candy Corn","#fbf9f9":"Hint of Red","#fbffba":"Shalimar","#fc0fc0":"Shocking Pink","#fc80a5":"Tickle Me Pink","#fc9c1d":"Tree Poppy","#fcc01e":"Lightning Yellow","#fcd1a5":"PyMOL wheat","#fcd667":"Goldenrod","#fcd917":"Candlelight","#fcda98":"Cherokee","#fcf4d0":"Double Pearl Lusta","#fcf4dc":"Pearl Lusta","#fcf8f7":"Vista White","#fcfbf3":"Bianca","#fcfeda":"Moon Glow","#fcffe7":"China Ivory","#fcfff9":"Ceramic","#fd0e35":"Torch Red","#fd5b78":"Wild Watermelon","#fd7b33":"Crusta","#fd7c07":"Sorbus","#fd9fa2":"Sweet Pink","#fdd5b1":"Light Apricot","#fdd7e4":"Pig Pink","#fde1dc":"Cinderella","#fde295":"Golden Glow","#fde910":"Lemon","#fdf5e6":"Old Lace","#fdf6d3":"Half Colonial White","#fdf7ad":"Drover","#fdfeb8":"Pale Prim","#fdffd5":"Cumulus","#fe28a2":"Persian Rose","#fe4c40":"Sunset Orange","#fe6f5e":"Bittersweet","#fe9d04":"California","#fea904":"Yellow Sea","#febaad":"Melon","#fed33c":"Bright Sun","#fed85d":"Dandelion","#fedb8d":"Salomie","#fee5ac":"Cape Honey","#feebf3":"Remy","#feefce":"Oasis","#fef0ec":"Bridesmaid","#fef2c7":"Beeswax","#fef3d8":"Bleach White","#fef4cc":"Pipi","#fef4db":"Half Spanish White","#fef4f8":"Wisp Pink","#fef5f1":"Provincial Pink","#fef7de":"Half Dutch White","#fef8e2":"Solitaire","#fef8ff":"White Pointer","#fef9e3":"Off Yellow","#fefced":"Orange White","#ff0000":"Red","#ff007f":"Rose","#ff00cc":"Purple Pizzazz","#ff00ff":"Magenta/Fuchsia","#ff1493":"Deep Pink","#ff2400":"Scarlet","#ff3333":"tv_red","#ff3399":"Wild Strawberry","#ff33cc":"Razzle Dazzle Rose","#ff355e":"Radical Red","#ff3f34":"Red Orange","#ff4040":"Coral Red","#ff4500":"Orange Red","#ff4d00":"Vermilion","#ff4f00":"International Orange","#ff6037":"Outrageous Orange","#ff6347":"Tomato","#ff6600":"Blaze Orange","#ff66ff":"Pink Flamingo","#ff681f":"Orange","#ff69b4":"Hot Pink","#ff6b53":"Persimmon","#ff6b6b":"Deep Salmon","#ff6fff":"Blush Pink","#ff7034":"Burning Orange","#ff7518":"Pumpkin","#ff7d07":"Flamenco","#ff7f00":"Flush Orange","#ff7f50":"Coral","#ff7fff":"PyMOL violet","#ff8c00":"Dark Orange","#ff8c26":"tv_orange","#ff8c69":"Salmon","#ff9000":"Pizazz","#ff910f":"West Side","#ff91a4":"Pink Salmon","#ff9933":"Neon Carrot","#ff9966":"Atomic Tangerine","#ff9980":"Vivid Tangerine","#ff9999":"PyMOL salmon","#ff9e2c":"Sunshade","#ffa000":"Orange Peel","#ffa07a":"Light Salmon","#ffa194":"Mona Lisa","#ffa500":"Web Orange","#ffa5d8":"PyMOL pink","#ffa6c9":"Carnation Pink","#ffab81":"Hit Pink","#ffae42":"Yellow Orange","#ffb0ac":"Cornflower Lilac","#ffb1b3":"Sundown","#ffb233":"Bright Orange","#ffb31f":"My Sin","#ffb555":"Texas Rose","#ffb6c1":"Light Pink","#ffb7d5":"Cotton Candy","#ffb97b":"Macaroni and Cheese","#ffba00":"Selective Yellow","#ffbd5f":"Koromiko","#ffbf00":"Amber","#ffbfdd":"PyMOL lightpink","#ffc0a8":"Wax Flower","#ffc0cb":"Pink","#ffc3c0":"Your Pink","#ffc901":"Supernova","#ffcba4":"Flesh","#ffcc33":"Sunglow","#ffcc5c":"Golden Tainoi","#ffcc7f":"Light Orange","#ffcc99":"Peach Orange","#ffcd8c":"Chardonnay","#ffd1dc":"Pastel Pink","#ffd2b7":"Romantic","#ffd38c":"Grandis","#ffd700":"Gold","#ffd800":"Schoolbus Yellow","#ffd8d9":"Cosmos","#ffdab9":"Peach Puff","#ffdb58":"Mustard","#ffdcd6":"Peach Schnapps","#ffdd5e":"PyMOL Yellow Orange","#ffddaf":"Caramel","#ffddcd":"Tuft Bush","#ffddcf":"Watusi","#ffddf4":"Pink Lace","#ffdead":"Navajo White","#ffdeb3":"Frangipani","#ffe1df":"Pippin","#ffe1f2":"Pale Rose","#ffe2c5":"Negroni","#ffe4b5":"Moccasin","#ffe4c4":"Bisque","#ffe4e1":"Misty Rose","#ffe5a0":"Cream Brulee","#ffe5b4":"Peach","#ffe6c7":"Tequila","#ffe772":"Kournikova","#ffeac8":"Sandy Beach","#ffead4":"Karry","#ffebcd":"Blanched Almond","#ffec13":"Broom","#ffedbc":"Colonial White","#ffeed8":"Derby","#ffefa1":"Vis Vis","#ffefc1":"Egg White","#ffefd5":"Papaya Whip","#ffefec":"Fair Pink","#fff0db":"Peach Cream","#fff0f5":"Lavender Blush","#fff14f":"Gorse","#fff1b5":"Buttermilk","#fff1d8":"Pink Lady","#fff1ee":"Forget Me Not","#fff1f9":"Tutu","#fff39d":"Picasso","#fff3f1":"Chardon","#fff46e":"Paris Daisy","#fff4ce":"Barley White","#fff4dd":"Egg Sour","#fff4e0":"Sazerac","#fff4e8":"Serenade","#fff4f3":"Chablis","#fff5ee":"Seashell Peach","#fff5f3":"Sauvignon","#fff6d4":"Milk Punch","#fff6df":"Varden","#fff6f5":"Rose White","#fff8d1":"Baja White","#fff8dc":"Corn Silk","#fff9e2":"Gin Fizz","#fff9e6":"Early Dawn","#fffacd":"Lemon Chiffon","#fffaf0":"Floral White","#fffaf4":"Bridal Heath","#fffafa":"Snow","#fffbdc":"Scotch Mist","#fffbf9":"Soapstone","#fffc99":"Witch Haze","#fffcea":"Buttery White","#fffcee":"Island Spice","#fffdd0":"Cream","#fffde6":"Chilean Heath","#fffde8":"Travertine","#fffdf3":"Orchid White","#fffdf4":"Quarter Pearl Lusta","#fffee1":"Half and Half","#fffeec":"Apricot White","#fffef0":"Rice Cake","#fffef6":"Black White","#fffefd":"Romance","#ffff00":"Yellow","#ffff33":"tv_yellow","#ffff66":"Laser Lemon","#ffff7f":"Pale Yellow","#ffff99":"Pale Canary","#ffffb4":"Portafino","#ffffe0":"Light Yellow","#fffff0":"Ivory","#ffffff":"White",};if(color){var newcolorH=color.match(/#[\dABCDEFabcdef]{6,6}$/);if((newcolorH!=null)&&newcolorH[0].length===7){if(typeof colors[color.toLowerCase()]!='undefined'){return colors[color.toLowerCase()];}else{return newcolorH[0];}}else{return false;}}else{return false;}}
(function($){$.fn.multiAccordion=function(){$(this).addClass("ui-accordion ui-accordion-icons ui-widget ui-helper-reset").find("h3").not('.ui-accordion-header').addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all ui-accordion-icons").hover(function(){$(this).toggleClass("ui-state-hover");}).prepend('<span class="ui-accordion-header-icon ui-icon ui-icon-triangle-1-e"></span>').click(function(){$(this).toggleClass("ui-accordion-header-active ui-state-active ui-state-default ui-corner-bottom").find("> .ui-icon").toggleClass("ui-icon-triangle-1-e ui-icon-triangle-1-s").end().next().toggleClass("ui-accordion-content-active").slideToggle('fast');return false;}).next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").css("display","block").hide()};$.fn.multiAccordionRefresh=function(){alert("biggie smalls");};})(jQuery);$.widget("ui.iosMenu",{options:{backText:'Back',slideDuration:200,slideEasing:'linear'},_insertBackButtons:function(){this.element.find('li ul, li ol').prepend($('<li class="ui-menu-item ios-menu-back-link" role="presentation">'+' <a href="#menu-back" class="ui-corner-role" tabindex="-1" role="menuitem" aria-haspopup="true" >'+' <span class="ui-menu-icon ui-icon ui-icon-carat-1-w"></span>'+
this.options.backText+' </a>'+'</li>'));return this;},_create:function(options){var iosMenu=this;iosMenu._insertBackButtons().element.addClass('ios-style').menu({position:{my:'left top',at:'right top',of:iosMenu.element}});var menu=$(iosMenu.element).data('ui-menu');menu.select=function(event){if(menu.active&&menu.active.find('a').attr("href")=="#menu-back"){menu.focus(event,menu.active);menu.collapse(event);}else if(menu.active&&menu.active.find('> ul').length){menu.focus(event,menu.active);menu.expand(event);}else{menu._trigger('select',event,{item:menu.active});}};menu.collapse=function(event){var newItem=this.active&&this.active.parents('li:not(.ui-menubar-item) ').first(),self=this,parent;if(newItem&&newItem.length){newItem.find('> a').addClass('ui-state-focus').removeClass('ui-state-active');parent=this.active.parent();parent.attr('aria-hidden','true').attr('aria-expanded','false').animate({left:self.element.css('width')},iosMenu.options.slideDuration,iosMenu.options.slideEasing,function(){parent.hide();self.focus(event,newItem);})}else if(event&&event.which===$.ui.keyCode.ESCAPE){self._trigger('close',event);}};var menuOpenWithoutSliding=menu._open;menu._open=function(submenu){menuOpenWithoutSliding.call(this,submenu);submenu.animate({left:0,height:menu.element[0].clientHeight-4,width:menu.element[0].clientWidth},iosMenu.options.slideDuration,iosMenu.options.slideEasing);};menu._startOpening=function(submenu){clearTimeout(this.timer);if(submenu.attr("aria-hidden")!=="true"){return;}}},destroy:function(){var menu=this.element&&this.element.data('uiMenu');menu&&menu.destroy();}});var Endian={BIG:0,LITTLE:1};var ZipConstants={LOCSIG:0x04034b50,LOCHDR:30,LOCVER:4,LOCNAM:26,EXTSIG:0x08074b50,EXTHDR:16,CENSIG:0x02014b50,CENHDR:46,CENVER:6,CENNAM:28,CENOFF:42,ENDSIG:0x06054b50,ENDHDR:22,ENDTOT:10,ENDOFF:16,STORED:0,DEFLATED:8};var Base64=function(input){var StringMaker=undefined;if(navigator.userAgent.toLowerCase().indexOf(" chrome/")>=0||navigator.userAgent.toLowerCase().indexOf(" firefox/")>=0||navigator.userAgent.toLowerCase().indexOf(' gecko/')>=0){StringMaker=function(){this.str="";this.length=0;this.append=function(s){this.str+=s;this.length+=s.length;};this.prepend=function(s){this.str=s+this.str;this.length+=s.length;};this.toString=function(){return this.str;}}}else{StringMaker=function(){this.parts=[];this.length=0;this.append=function(s){this.parts.push(s);this.length+=s.length;};this.prepend=function(s){this.parts.unshift(s);this.length+=s.length;};this.toString=function(){return this.parts.join('');}}}
var keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var o=new StringMaker(),a,b,c,d,f,g,h,i=0;while(i<input.length){a=input.charCodeAt(i++);b=input.charCodeAt(i++);c=input.charCodeAt(i++);d=a>>2;f=((a&3)<<4)|(b>>4);g=((b&15)<<2)|(c>>6);h=c&63;if(isNaN(b)){g=h=64;}else if(isNaN(c)){h=64;}
o.append(keyStr.charAt(d)+keyStr.charAt(f)+keyStr.charAt(g)
+keyStr.charAt(h));}
return o.toString();}
var BA=function(byteData,endianType){var _bytes='',_len=0,_pos=0,_endian=0;if(byteData){_bytes=byteData||'';_endian=endianType!==undefined?endianType:_endian;_len=byteData.length;}
var isBA=typeof byteData!='string'&&byteData!==undefined;var warn=function(msg){throw msg;};return{position:function(val){if(val)
_pos=val;else
return _pos;},move:function(val){_pos+=val},bytesAvailable:function(){return _len-_pos;},length:function(){return _len;},endian:function(val){if(val)
_endian=val;else
return _endian;},data:function(val){if(val){_bytes=val||'';_len=_bytes.length;isBA=typeof val!='string'&&val!==undefined;}else
return _bytes;},readByte:function(){if(this.bytesAvailable()===0){warn("readByte::End of stream!");}
return isBA?_bytes[_pos++]&0xFF:(_bytes.charCodeAt(_pos++)&0xFF);},readByteAt:function(index){if(index<_len){return isBA?_bytes[index]&0xFF:_bytes.charCodeAt(index)&0xFF}
return warn("readByteAt::End of stream");},writeByte:function(val){if(isBA){if(_pos<_len){_bytes[_pos]=val&0xFF;}else{_bytes[_bytes.length++]=val;}
_pos++;return;}
if(_pos<_len){_bytes=_bytes.substr(0,_pos)+String.fromCharCode(val&0xFF)+_bytes.substring(_pos+1);}else{_bytes+=String.fromCharCode(val&0xFF);_len+=1;}
_pos++;},readBytes:function(offset,length){if(length===undefined){var p=_pos;_pos+=offset;if(isBA){var tmp='';for(var i=p;i<p+offset;i++){tmp+=String.fromCharCode(_bytes[i]);}
return tmp;}else{return _bytes.substr(p,offset);}}
if(isBA){var tmpx='';for(var j=offset;j<offset+length;j++){tmpx+=String.fromCharCode(_bytes[j]);}
return tmpx;}
return _bytes.substr(offset,length);},readUnsignedInt:function(){if(this.bytesAvailable()<4){throw"End of stream!";}
var p=0,x=0;if(_endian==Endian.BIG){p=(_pos+=4)-4;if(isBA){x=((_bytes[p]&0xFF)<<24)|((_bytes[++p]&0xFF)<<16)|((_bytes[++p]&0xFF)<<8)|(_bytes[++p]&0xFF);}else
x=((_bytes.charCodeAt(p)&0xFF)<<24)|((_bytes.charCodeAt(++p)&0xFF)<<16)|((_bytes.charCodeAt(++p)&0xFF)<<8)|(_bytes.charCodeAt(++p)&0xFF);}else{p=(_pos+=4);if(isBA){x=((_bytes[--p]&0xFF)<<24)|((_bytes[--p]&0xFF)<<16)|((_bytes[--p]&0xFF)<<8)|(_bytes[--p]&0xFF);}else
x=((_bytes.charCodeAt(--p)&0xFF)<<24)|((_bytes.charCodeAt(--p)&0xFF)<<16)|((_bytes.charCodeAt(--p)&0xFF)<<8)|(_bytes.charCodeAt(--p)&0xFF);}
return x;},readUnsignedShort:function(){if(this.bytesAvailable()<2){throw"End of stream!";}
var p=0;if(_endian==Endian.BIG){p=(_pos+=2)-2;if(isBA){return((_bytes[p]&0xFF)<<8)|(_bytes[++p]&0xFF);}else
return((_bytes.charCodeAt(p)&0xFF)<<8)|(_bytes.charCodeAt(++p)&0xFF);}else{p=(_pos+=2);if(isBA){return((_bytes[--p]&0xFF)<<8)|(_bytes[--p]&0xFF);}else
return((_bytes.charCodeAt(--p)&0xFF)<<8)|(_bytes.charCodeAt(--p)&0xFF);}},readShort:function(){if(this.bytesAvailable()<2){throw"End of stream!";}
var p=0,x=0;if(_endian==Endian.BIG){p=(_pos+=2)-2;if(isBA){x=((_bytes[p]&0xFF)<<8)|(_bytes[++p]&0xFF);}else
x=((_bytes.charCodeAt(p)&0xFF)<<8)|(_bytes.charCodeAt(++p)&0xFF);}else{p=(_pos+=2);if(isBA){x=((_bytes[--p]&0xFF)<<8)|(_bytes[--p]&0xFF);}else
x=((_bytes.charCodeAt(--p)&0xFF)<<8)|(_bytes.charCodeAt(--p)&0xFF);}
return(x>=32768)?x-65536:x;},readUTFBytes:function(readLength){readLength=readLength||0;var output='';for(var i=0;i<readLength;i++){output+=String.fromCharCode(this.readByte());}
return output;}}};var Inflater=function(){var MAXBITS=15,MAXLCODES=286,MAXDCODES=30,MAXCODES=316,FIXLCODES=288,LENS=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],LEXT=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],DISTS=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],DEXT=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],inbuf=undefined,incnt=0,bitbuf=0,bitcnt=0,lencode=undefined,distcode=undefined;function bits(need){var val=bitbuf;while(bitcnt<need){if(incnt==inbuf.length())
throw'available inflate data did not terminate';val|=inbuf.readByteAt(incnt++)<<bitcnt;bitcnt+=8;}
bitbuf=val>>need;bitcnt-=need;return val&((1<<need)-1);}
function construct(h,length,n){var offs=new Array();for(var len=0;len<=MAXBITS;len++)
h.count[len]=0;for(var symbol=0;symbol<n;symbol++)
h.count[length[symbol]]++;if(h.count[0]==n)
return 0;var left=1;for(len=1;len<=MAXBITS;len++){left<<=1;left-=h.count[len];if(left<0)
return left;}
offs[1]=0;for(len=1;len<MAXBITS;len++)
offs[len+1]=offs[len]+h.count[len];for(symbol=0;symbol<n;symbol++)
if(length[symbol]!==0)
h.symbol[offs[length[symbol]]++]=symbol;return left;}
function decode(h){var code=0,first=0,index=0;for(var len=1;len<=MAXBITS;len++){code|=bits(1);var count=h.count[len];if(code<first+count)
return h.symbol[index+(code-first)];index+=count;first+=count;first<<=1;code<<=1;}
return-9;}
function codes(buf){do{var symbol=decode(lencode);if(symbol<0)
return symbol;if(symbol<256){buf.position(buf.length());buf.writeByte(symbol);}else if(symbol>256){symbol-=257;if(symbol>=29)
throw"invalid literal/length or distance code in fixed or dynamic block";var len=LENS[symbol]+bits(LEXT[symbol]);symbol=decode(distcode);if(symbol<0)
return symbol;var dist=DISTS[symbol]+bits(DEXT[symbol]);if(dist>buf.length())
throw"distance is too far back in fixed or dynamic block";buf.position(buf.length());while(len--)
buf.writeByte(buf.readByteAt(buf.length()-dist));}}while(symbol!=256||buf.length()<=10000);return 0;}
function stored(buf){bitbuf=0;bitcnt=0;if(incnt+4>inbuf.length())
throw'available inflate data did not terminate';var len=inbuf[incnt++];len|=inbuf[incnt++]<<8;if(inbuf[incnt++]!=(~len&0xff)||inbuf[incnt++]!=((~len>>8)&0xff))
throw"stored block length did not match one's complement";if(incnt+len>inbuf.length())
throw'available inflate data did not terminate';while(len--)
buf[buf.length]=inbuf[incnt++];}
function constructFixedTables(){var lengths=new Array();for(var symbol=0;symbol<144;symbol++)
lengths[symbol]=8;for(;symbol<256;symbol++)
lengths[symbol]=9;for(;symbol<280;symbol++)
lengths[symbol]=7;for(;symbol<FIXLCODES;symbol++)
lengths[symbol]=8;construct(lencode,lengths,FIXLCODES);for(symbol=0;symbol<MAXDCODES;symbol++)
lengths[symbol]=5;construct(distcode,lengths,MAXDCODES);}
function constructDynamicTables(){var lengths=new Array(),order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],nlen=bits(5)+257,ndist=bits(5)+1,ncode=bits(4)+4;if(nlen>MAXLCODES||ndist>MAXDCODES)
throw"dynamic block code description: too many length or distance codes";for(var index=0;index<ncode;index++)
lengths[order[index]]=bits(3);for(;index<19;index++)
lengths[order[index]]=0;var err=construct(lencode,lengths,19);if(err!==0)
throw"dynamic block code description: code lengths codes incomplete";index=0;while(index<nlen+ndist){var symbol=decode(lencode),len;if(symbol<16)
lengths[index++]=symbol;else{len=0;if(symbol==16){if(index===0)
throw"dynamic block code description: repeat lengths with no first length";len=lengths[index-1];symbol=3+bits(2);}else if(symbol==17)
symbol=3+bits(3);else
symbol=11+bits(7);if(index+symbol>nlen+ndist)
throw"dynamic block code description: repeat more than specified lengths";while(symbol--)
lengths[index++]=len;}}
err=construct(lencode,lengths,nlen);if(err<0||(err>0&&nlen-lencode.count[0]!=1))
throw"dynamic block code description: invalid literal/length code lengths";err=construct(distcode,lengths.slice(nlen),ndist);if(err<0||(err>0&&ndist-distcode.count[0]!=1))
throw"dynamic block code description: invalid distance code lengths";return err;}
return{setInput:function(buf){inbuf=buf;inbuf.endian(Endian.LITTLE);inbuf.position(0);},inflate:function(buf){incnt=bitbuf=bitcnt=0;var err=0;do{var last=bits(1);var type=bits(2);if(type===0)
stored(buf);else if(type==3)
throw'invalid block type (type == 3)';else{lencode={count:new Array(0),symbol:new Array(0)};distcode={count:new Array(0),symbol:new Array(0)};if(type==1)
constructFixedTables();else if(type==2)
err=constructDynamicTables();if(err!==0)
return err;err=codes(buf);}
if(err!==0)
break;}while(!last);return err;}}};var ZipEntry=function(name){var _name=name,dostime=0,flag=0,version=0,offset=0;return{name:function(){return _name;},time:function(val){var d;if(val){d=new Date(time);dostime=(d.fullYear-1980&0x7f)<<25|(d.month+1)<<21|d.day<<16|d.hours<<11|d.minutes<<5|d.seconds>>1;}else{d=new Date(((dostime>>25)&0x7f)+1980,((dostime>>21)&0x0f)-1,(dostime>>16)&0x1f,(dostime>>11)&0x1f,(dostime>>5)&0x3f,(dostime&0x1f)<<1);return d.getTime();}},size:0,compressedSize:0,crc:0,method:0,extra:undefined,comment:'',isDirectory:function(){return _name.charAt(_name.length-1)=='/';}}};var ZipFile=function(data){var buf=undefined,entryList=[],entryTable={},locOffsetTable={};buf=new BA(data.data(),Endian.LITTLE);readEntries();function readEntries(){readEND();entryTable={};locOffsetTable={};for(var i=0;i<entryList.length;i++){var tmpbuf=new BA(buf.readBytes(ZipConstants.CENHDR),Endian.LITTLE);if(tmpbuf.readUnsignedInt()!=ZipConstants.CENSIG)
throw"readEntries::Invalid CEN header (bad signature)";tmpbuf.position(28);var len=tmpbuf.readUnsignedShort();if(len===0)
throw"missing entry name";var e=new ZipEntry(buf.readUTFBytes(len));len=tmpbuf.readUnsignedShort();e.extra=new BA();if(len>0)
e.extra.data(buf.readBytes(len));buf.move(tmpbuf.readUnsignedShort());tmpbuf.position(6);e.version=tmpbuf.readUnsignedShort();e.flag=tmpbuf.readUnsignedShort();if((e.flag&1)==1)
throw"readEntries::Encrypted ZIP entry not supported";e.method=tmpbuf.readUnsignedShort();e.dostime=tmpbuf.readUnsignedInt();e.crc=tmpbuf.readUnsignedInt();e.compressedSize=tmpbuf.readUnsignedInt();e.size=tmpbuf.readUnsignedInt();entryList[i]=e;entryTable[e.name()]=e;tmpbuf.position(42);locOffsetTable[e.name()]=tmpbuf.readUnsignedInt();}}
function readEND(){var b=new BA();b.endian(Endian.LITTLE);b.data(buf.readBytes(findEND(),ZipConstants.ENDHDR));b.position(ZipConstants.ENDTOT);entryList=new Array(b.readUnsignedShort());b.position(ZipConstants.ENDOFF);buf.position(b.readUnsignedInt());}
function findEND(){var i=buf.length()-ZipConstants.ENDHDR;var n=Math.max(0,i-0xffff);for(i;i>=n;i--){buf.position(i);if(buf.readByte()!=0x50)
continue;buf.position(i);if(buf.readUnsignedInt()==0x06054b50){return i;}}
throw"findEND::Invalid zip";}
return{entries:function(){return entryList},size:function(){return entryList.length},getEntry:function(name){return entryTable[name];},getInput:function(entry){buf.position(locOffsetTable[entry.name()]+30-2);var len=buf.readShort();buf.move(entry.name().length+len);var b1=new BA();if(entry.compressedSize>0){b1.data(buf.readBytes(entry.compressedSize));}
switch(entry.method){case 0:return b1;break;case 8:var b2=new BA();var inflater=new Inflater();inflater.setInput(b1);inflater.inflate(b2);b2.position(0)
return b2;break;default:throw"zipEntry::getInput::Invalid compression method";}}}};var ZipLoader=function(zipURL){var ZIP_CACHE={},ZIP_FILE_REG=new RegExp('.*?\.zip$','i'),ZIP_ENTRY_REG=new RegExp('(.*?\.zip):\/\/(.*$)','i'),_zipUrl=zipURL,_entryUrl='',_entryDataFormat='',isCompleteProcessRequired=true,data=undefined;if(_zipUrl){loadBinaryResource(_zipUrl);}
function isIE(){return navigator.userAgent.match(/MSIE/)!==null}
function getXMLHttpObj(){if(typeof(XMLHttpRequest)!='undefined'){return new XMLHttpRequest();}
var axO=['Msxml2.XMLHTTP.6.0','Msxml2.XMLHTTP.4.0','Msxml2.XMLHTTP.3.0','Msxml2.XMLHTTP','Microsoft.XMLHTTP'],i;for(i=0;i<axO.length;i++){try{return new ActiveXObject(axO[i]);}catch(e){}}
return null;}
function loadBinaryResource(url){_zipUrl="localfile.zip";loadComplete(url);}
function loadComplete(data){if(isCompleteProcessRequired){var zipfile=new ZipFile(new BA(data,Endian.LITTLE));ZIP_CACHE[_zipUrl]=zipfile;dataFromZip(zipfile);}}
function dataFromZip(zip){if(zip&&_entryUrl){data=getZipEntry(zip,_entryUrl);}}
function getZipEntry(zip,entryUrl){if(ZIP_ENTRY_REG.test(entryUrl)){var result=ZIP_ENTRY_REG.exec(entryUrl);var outerEntry=result[1];var innerEntry=result[2];var innerZip=new ZipFile(zip.getInput(zip.getEntry(outerEntry)));return getZipEntry(innerZip,innerEntry);}else{var entry=zip.getEntry(entryUrl);if(entry){return zip.getInput(entry);}else{throw"Requested file was not found in the archive";}}}
function appendChild(node,text){if(null===node.canHaveChildren||node.canHaveChildren){node.appendChild(document.createTextNode(text));}else{node.text=text;}}
function getFileExtension(filename){return(/[.]/.exec(filename))&&/[^.]+$/.exec(filename)[0]||'';}
function _utf8_decode(utftext){if(utftext.charCodeAt(0)==0xef&&utftext.charCodeAt(1)==0xbb&&utftext.charCodeAt(2)==0xbf){utftext=utftext.substr(3)
var string="";var i=0;var c=c1=c2=0;while(i<utftext.length){c=utftext.charCodeAt(i);if(c<128){string+=String.fromCharCode(c);i++;}else if((c>191)&&(c<224)){c2=utftext.charCodeAt(i+1);string+=String.fromCharCode(((c&31)<<6)|(c2&63));i+=2;}else{c2=utftext.charCodeAt(i+1);c3=utftext.charCodeAt(i+2);string+=String.fromCharCode(((c&15)<<12)|((c2&63)<<6)|(c3&63));i+=3;}}
return string;}
return utftext;}
return{load:function(url){isCompleteProcessRequired=false;switch(true){case ZIP_ENTRY_REG.test(url):var result=ZIP_ENTRY_REG.exec(url);_zipUrl=result[1];_entryUrl=result[2];var zip=ZIP_CACHE[_zipUrl];if(zip){dataFromZip(zip);}else{isCompleteProcessRequired=true;loadBinaryResource(url);}
break;case ZIP_FILE_REG.test(url):isCompleteProcessRequired=true;_zipUrl=url;_entryDataFormat='Text';loadBinaryResource(url);break;default:loadBinaryResource(url);break;}
if(data){data.position(0);return _utf8_decode(data.readBytes(0,data.length()));}else{return'';}},loadImage:function(url){var data=this.load(url);if(data){var tmp="data:";switch(getFileExtension(url).toLowerCase()){case'gif':tmp+="image/gif;base64,";break;case'png':tmp+="image/png;base64,";break;case'jpg':case'jpeg':tmp+="image/jpeg;base64,";break;}
tmp+=Base64(data);}
return tmp;},loadCSS:function(url){var data=_utf8_decode(this.load(url));if(data){var pa=document.getElementsByTagName('head')[0];var el=document.createElement('style');el.type='text/css';el.media='screen';if(el.styleSheet)
el.styleSheet.cssText=data;else
el.appendChild(document.createTextNode(data));pa.appendChild(el);}},loadScript:function(url,encoding){var data=_utf8_decode(this.load(url));if(data){var fileRef=window.document.createElement("script");fileRef.setAttribute("type","text/javascript");fileRef.setAttribute("charset",encoding);if(isIE()){eval(data);}else{var head=document.getElementsByTagName("head")[0]||document.documentElement;head.insertBefore(fileRef,head.firstChild);appendChild(fileRef,data);}}}}};!function(){function n(n,t){return t>n?-1:n>t?1:n>=t?0:0/0}
function t(n){return null!=n&&!isNaN(n)}
function r(n){return{left:function(t,r,e,u){for(arguments.length<3&&(e=0),arguments.length<4&&(u=t.length);u>e;){var i=e+u>>>1;n(t[i],r)<0?e=i+1:u=i}
return e},right:function(t,r,e,u){for(arguments.length<3&&(e=0),arguments.length<4&&(u=t.length);u>e;){var i=e+u>>>1;n(t[i],r)>0?u=i:e=i+1}
return e}}}
function e(n){return n.length}
function u(n){for(var t=1;n*t%1;)
t*=10;return t}
function i(n,t){try{for(var r in t)
Object.defineProperty(n.prototype,r,{value:t[r],enumerable:!1})}catch(e){n.prototype=t}}
function o(){}
function a(n){return sa+n in this}
function c(n){return n=sa+n,n in this&&delete this[n]}
function s(){var n=[];return this.forEach(function(t){n.push(t)}),n}
function l(){var n=0;for(var t in this)
t.charCodeAt(0)===la&&++n;return n}
function f(){for(var n in this)
if(n.charCodeAt(0)===la)
return!1;return!0}
function h(){}
function g(n,t,r){return function(){var e=r.apply(t,arguments);return e===t?n:e}}
function p(n,t){if(t in n)
return t;t=t.charAt(0).toUpperCase()+t.substring(1);for(var r=0,e=fa.length;e>r;++r){var u=fa[r]+t;if(u in n)
return u}}
function v(){}
function d(){}
function m(n){function t(){for(var t,e=r,u=-1,i=e.length;++u<i;)
(t=e[u].on)&&t.apply(this,arguments);return n}
var r=[],e=new o;return t.on=function(t,u){var i,o=e.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,r=r.slice(0,i=r.indexOf(o)).concat(r.slice(i+1)),e.remove(t)),u&&r.push(e.set(t,{on:u})),n)},t}
function y(){Bo.event.preventDefault()}
function x(){for(var n,t=Bo.event;n=t.sourceEvent;)
t=n;return t}
function M(n){for(var t=new d,r=0,e=arguments.length;++r<e;)
t[arguments[r]]=m(t);return t.of=function(r,e){return function(u){try{var i=u.sourceEvent=Bo.event;u.target=n,Bo.event=u,t[u.type].apply(r,e)}
finally{Bo.event=i}}},t}
function _(n){return ga(n,ya),n}
function b(n){return"function"==typeof n?n:function(){return pa(n,this)}}
function w(n){return"function"==typeof n?n:function(){return va(n,this)}}
function S(n,t){function r(){this.removeAttribute(n)}
function e(){this.removeAttributeNS(n.space,n.local)}
function u(){this.setAttribute(n,t)}
function i(){this.setAttributeNS(n.space,n.local,t)}
function o(){var r=t.apply(this,arguments);null==r?this.removeAttribute(n):this.setAttribute(n,r)}
function a(){var r=t.apply(this,arguments);null==r?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}
return n=Bo.ns.qualify(n),null==t?n.local?e:r:"function"==typeof t?n.local?a:o:n.local?i:u}
function k(n){return n.trim().replace(/\s+/g," ")}
function E(n){return new RegExp("(?:^|\\s+)"+Bo.requote(n)+"(?:\\s+|$)","g")}
function A(n){return n.trim().split(/^|\s+/)}
function C(n,t){function r(){for(var r=-1;++r<u;)
n[r](this,t)}
function e(){for(var r=-1,e=t.apply(this,arguments);++r<u;)
n[r](this,e)}
n=A(n).map(N);var u=n.length;return"function"==typeof t?e:r}
function N(n){var t=E(n);return function(r,e){if(u=r.classList)
return e?u.add(n):u.remove(n);var u=r.getAttribute("class")||"";e?(t.lastIndex=0,t.test(u)||r.setAttribute("class",k(u+" "+n))):r.setAttribute("class",k(u.replace(t," ")))}}
function z(n,t,r){function e(){this.style.removeProperty(n)}
function u(){this.style.setProperty(n,t,r)}
function i(){var e=t.apply(this,arguments);null==e?this.style.removeProperty(n):this.style.setProperty(n,e,r)}
return null==t?e:"function"==typeof t?i:u}
function L(n,t){function r(){delete this[n]}
function e(){this[n]=t}
function u(){var r=t.apply(this,arguments);null==r?delete this[n]:this[n]=r}
return null==t?r:"function"==typeof t?u:e}
function T(n){return"function"==typeof n?n:(n=Bo.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,n)}}
function q(n){return{__data__:n}}
function R(n){return function(){return ma(this,n)}}
function D(t){return arguments.length||(t=n),function(n,r){return n&&r?t(n.__data__,r.__data__):!n-!r}}
function P(n,t){for(var r=0,e=n.length;e>r;r++)
for(var u,i=n[r],o=0,a=i.length;a>o;o++)
(u=i[o])&&t(u,o,r);return n}
function U(n){return ga(n,Ma),n}
function j(n){var t,r;return function(e,u,i){var o,a=n[i].update,c=a.length;for(i!=r&&(r=i,t=0),u>=t&&(t=u+1);!(o=a[t])&&++t<c;);return o}}
function H(){var n=this.__transition__;n&&++n.active}
function F(n,t,r){function e(){var t=this[o];t&&(this.removeEventListener(n,t,t.$),delete this[o])}
function u(){var u=c(t,Wo(arguments));e.call(this),this.addEventListener(n,this[o]=u,u.$=r),u._=t}
function i(){var t,r=new RegExp("^__on([^.]+)"+Bo.requote(n)+"$");for(var e in this)
if(t=e.match(r)){var u=this[e];this.removeEventListener(t[1],u,u.$),delete this[e]}}
var o="__on"+n,a=n.indexOf("."),c=O;a>0&&(n=n.substring(0,a));var s=ba.get(n);return s&&(n=s,c=I),a?t?u:e:t?v:i}
function O(n,t){return function(r){var e=Bo.event;Bo.event=r,t[0]=this.__data__;try{n.apply(this,t)}
finally{Bo.event=e}}}
function I(n,t){var r=O(n,t);return function(n){var t=this,e=n.relatedTarget;e&&(e===t||8&e.compareDocumentPosition(t))||r.call(t,n)}}
function Y(){var n=".dragsuppress-"+++Sa,t="click"+n,r=Bo.select(Qo).on("touchmove"+n,y).on("dragstart"+n,y).on("selectstart"+n,y);if(wa){var e=Ko.style,u=e[wa];e[wa]="none"}
return function(i){function o(){r.on(t,null)}
r.on(n,null),wa&&(e[wa]=u),i&&(r.on(t,function(){y(),o()},!0),setTimeout(o,0))}}
function Z(n,t){t.changedTouches&&(t=t.changedTouches[0]);var r=n.ownerSVGElement||n;if(r.createSVGPoint){var e=r.createSVGPoint();return e.x=t.clientX,e.y=t.clientY,e=e.matrixTransform(n.getScreenCTM().inverse()),[e.x,e.y]}
var u=n.getBoundingClientRect();return[t.clientX-u.left-n.clientLeft,t.clientY-u.top-n.clientTop]}
function V(){return Bo.event.changedTouches[0].identifier}
function $(){return Bo.event.target}
function X(){return Qo}
function B(n){return n>0?1:0>n?-1:0}
function J(n,t,r){return(t[0]-n[0])*(r[1]-n[1])-(t[1]-n[1])*(r[0]-n[0])}
function W(n){return n>1?0:-1>n?ka:Math.acos(n)}
function G(n){return n>1?Aa:-1>n?-Aa:Math.asin(n)}
function K(n){return((n=Math.exp(n))-1/n)/2}
function Q(n){return((n=Math.exp(n))+1/n)/2}
function nt(n){return((n=Math.exp(2*n))-1)/(n+1)}
function tt(n){return(n=Math.sin(n/2))*n}
function rt(){}
function et(n,t,r){return new ut(n,t,r)}
function ut(n,t,r){this.h=n,this.s=t,this.l=r}
function it(n,t,r){function e(n){return n>360?n-=360:0>n&&(n+=360),60>n?i+(o-i)*n/60:180>n?o:240>n?i+(o-i)*(240-n)/60:i}
function u(n){return Math.round(255*e(n))}
var i,o;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:0>t?0:t>1?1:t,r=0>r?0:r>1?1:r,o=.5>=r?r*(1+t):r+t-r*t,i=2*r-o,yt(u(n+120),u(n),u(n-120))}
function ot(n,t,r){return new at(n,t,r)}
function at(n,t,r){this.h=n,this.c=t,this.l=r}
function ct(n,t,r){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),st(r,Math.cos(n*=za)*t,Math.sin(n)*t)}
function st(n,t,r){return new lt(n,t,r)}
function lt(n,t,r){this.l=n,this.a=t,this.b=r}
function ft(n,t,r){var e=(n+16)/116,u=e+t/500,i=e-r/200;return u=gt(u)*Oa,e=gt(e)*Ia,i=gt(i)*Ya,yt(vt(3.2404542*u-1.5371385*e-.4985314*i),vt(-.969266*u+1.8760108*e+.041556*i),vt(.0556434*u-.2040259*e+1.0572252*i))}
function ht(n,t,r){return n>0?ot(Math.atan2(r,t)*La,Math.sqrt(t*t+r*r),n):ot(0/0,0/0,n)}
function gt(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}
function pt(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}
function vt(n){return Math.round(255*(.00304>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}
function dt(n){return yt(n>>16,255&n>>8,255&n)}
function mt(n){return dt(n)+""}
function yt(n,t,r){return new xt(n,t,r)}
function xt(n,t,r){this.r=n,this.g=t,this.b=r}
function Mt(n){return 16>n?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}
function _t(n,t,r){var e,u,i,o=0,a=0,c=0;if(e=/([a-z]+)\((.*)\)/i.exec(n))
switch(u=e[2].split(","),e[1]){case"hsl":return r(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(kt(u[0]),kt(u[1]),kt(u[2]))}
return(i=$a.get(n))?t(i.r,i.g,i.b):(null==n||"#"!==n.charAt(0)||isNaN(i=parseInt(n.substring(1),16))||(4===n.length?(o=(3840&i)>>4,o=o>>4|o,a=240&i,a=a>>4|a,c=15&i,c=c<<4|c):7===n.length&&(o=(16711680&i)>>16,a=(65280&i)>>8,c=255&i)),t(o,a,c))}
function bt(n,t,r){var e,u,i=Math.min(n/=255,t/=255,r/=255),o=Math.max(n,t,r),a=o-i,c=(o+i)/2;return a?(u=.5>c?a/(o+i):a/(2-o-i),e=n==o?(t-r)/a+(r>t?6:0):t==o?(r-n)/a+2:(n-t)/a+4,e*=60):(e=0/0,u=c>0&&1>c?0:e),et(e,u,c)}
function wt(n,t,r){n=St(n),t=St(t),r=St(r);var e=pt((.4124564*n+.3575761*t+.1804375*r)/Oa),u=pt((.2126729*n+.7151522*t+.072175*r)/Ia),i=pt((.0193339*n+.119192*t+.9503041*r)/Ya);return st(116*u-16,500*(e-u),200*(u-i))}
function St(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}
function kt(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}
function Et(n){return"function"==typeof n?n:function(){return n}}
function At(n){return n}
function Ct(n){return function(t,r,e){return 2===arguments.length&&"function"==typeof r&&(e=r,r=null),Nt(t,r,n,e)}}
function Nt(n,t,r,e){function u(){var n,t=c.status;if(!t&&c.responseText||t>=200&&300>t||304===t){try{n=r.call(i,c)}catch(e){return o.error.call(i,e),void 0}
o.load.call(i,n)}else
o.error.call(i,c)}
var i={},o=Bo.dispatch("beforesend","progress","load","error"),a={},c=new XMLHttpRequest,s=null;return!Qo.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(n)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=u:c.onreadystatechange=function(){c.readyState>3&&u()},c.onprogress=function(n){var t=Bo.event;Bo.event=n;try{o.progress.call(i,c)}
finally{Bo.event=t}},i.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?a[n]:(null==t?delete a[n]:a[n]=t+"",i)},i.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",i):t},i.responseType=function(n){return arguments.length?(s=n,i):s},i.response=function(n){return r=n,i},["get","post"].forEach(function(n){i[n]=function(){return i.send.apply(i,[n].concat(Wo(arguments)))}}),i.send=function(r,e,u){if(2===arguments.length&&"function"==typeof e&&(u=e,e=null),c.open(r,n,!0),null==t||"accept"in a||(a.accept=t+",*/*"),c.setRequestHeader)
for(var l in a)
c.setRequestHeader(l,a[l]);return null!=t&&c.overrideMimeType&&c.overrideMimeType(t),null!=s&&(c.responseType=s),null!=u&&i.on("error",u).on("load",function(n){u(null,n)}),o.beforesend.call(i,c),c.send(null==e?null:e),i},i.abort=function(){return c.abort(),i},Bo.rebind(i,o,"on"),null==e?i:i.get(zt(e))}
function zt(n){return 1===n.length?function(t,r){n(null==t?r:null)}:n}
function Lt(){var n=Tt(),t=qt()-n;t>24?(isFinite(t)&&(clearTimeout(Wa),Wa=setTimeout(Lt,t)),Ja=0):(Ja=1,Ka(Lt))}
function Tt(){var n=Date.now();for(Ga=Xa;Ga;)
n>=Ga.t&&(Ga.f=Ga.c(n-Ga.t)),Ga=Ga.n;return n}
function qt(){for(var n,t=Xa,r=1/0;t;)
t.f?t=n?n.n=t.n:Xa=t.n:(t.t<r&&(r=t.t),t=(n=t).n);return Ba=n,r}
function Rt(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}
function Dt(n,t){var r=Math.pow(10,3*ca(8-t));return{scale:t>8?function(n){return n/r}:function(n){return n*r},symbol:n}}
function Pt(n){var t=n.decimal,r=n.thousands,e=n.grouping,u=n.currency,i=e?function(n){for(var t=n.length,u=[],i=0,o=e[0];t>0&&o>0;)
u.push(n.substring(t-=o,t+o)),o=e[i=(i+1)%e.length];return u.reverse().join(r)}:At;return function(n){var r=nc.exec(n),e=r[1]||" ",o=r[2]||">",a=r[3]||"",c=r[4]||"",s=r[5],l=+r[6],f=r[7],h=r[8],g=r[9],p=1,v="",d="",m=!1;switch(h&&(h=+h.substring(1)),(s||"0"===e&&"="===o)&&(s=e="0",o="=",f&&(l-=Math.floor((l-1)/4))),g){case"n":f=!0,g="g";break;case"%":p=100,d="%",g="f";break;case"p":p=100,d="%",g="r";break;case"b":case"o":case"x":case"X":"#"===c&&(v="0"+g.toLowerCase());case"c":case"d":m=!0,h=0;break;case"s":p=-1,g="r"}"$"===c&&(v=u[0],d=u[1]),"r"!=g||h||(g="g"),null!=h&&("g"==g?h=Math.max(1,Math.min(21,h)):("e"==g||"f"==g)&&(h=Math.max(0,Math.min(20,h)))),g=tc.get(g)||Ut;var y=s&&f;return function(n){var r=d;if(m&&n%1)
return"";var u=0>n||0===n&&0>1/n?(n=-n,"-"):a;if(0>p){var c=Bo.formatPrefix(n,h);n=c.scale(n),r=c.symbol+d}else
n*=p;n=g(n,h);var x=n.lastIndexOf("."),M=0>x?n:n.substring(0,x),_=0>x?"":t+n.substring(x+1);!s&&f&&(M=i(M));var b=v.length+M.length+_.length+(y?0:u.length),w=l>b?new Array(b=l-b+1).join(e):"";return y&&(M=i(w+M)),u+=v,n=M+_,("<"===o?u+n+w:">"===o?w+u+n:"^"===o?w.substring(0,b>>=1)+u+n+w.substring(b):u+(y?n:w+n))+r}}}
function Ut(n){return n+""}
function jt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}
function Ht(n,t,r){function e(t){var r=n(t),e=i(r,1);return e-t>t-r?r:e}
function u(r){return t(r=n(new ec(r-1)),1),r}
function i(n,r){return t(n=new ec(+n),r),n}
function o(n,e,i){var o=u(n),a=[];if(i>1)
for(;e>o;)
r(o)%i||a.push(new Date(+o)),t(o,1);else
for(;e>o;)
a.push(new Date(+o)),t(o,1);return a}
function a(n,t,r){try{ec=jt;var e=new jt;return e._=n,o(e,t,r)}
finally{ec=Date}}
n.floor=n,n.round=e,n.ceil=u,n.offset=i,n.range=o;var c=n.utc=Ft(n);return c.floor=c,c.round=Ft(e),c.ceil=Ft(u),c.offset=Ft(i),c.range=a,n}
function Ft(n){return function(t,r){try{ec=jt;var e=new jt;return e._=t,n(e,r)._}
finally{ec=Date}}}
function Ot(n){function t(n){function t(t){for(var r,u,i,o=[],a=-1,c=0;++a<e;)
37===n.charCodeAt(a)&&(o.push(n.substring(c,a)),null!=(u=ic[r=n.charAt(++a)])&&(r=n.charAt(++a)),(i=C[r])&&(r=i(t,null==u?"e"===r?" ":"0":u)),o.push(r),c=a+1);return o.push(n.substring(c,a)),o.join("")}
var e=n.length;return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},u=r(e,n,t,0);if(u!=t.length)
return null;"p"in e&&(e.H=e.H%12+12*e.p);var i=null!=e.Z&&ec!==jt,o=new(i?jt:ec);return"j"in e?o.setFullYear(e.y,0,e.j):"w"in e&&("W"in e||"U"in e)?(o.setFullYear(e.y,0,1),o.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(o.getDay()+5)%7:e.w+7*e.U-(o.getDay()+6)%7)):o.setFullYear(e.y,e.m,e.d),o.setHours(e.H+Math.floor(e.Z/100),e.M+e.Z%100,e.S,e.L),i?o._:o},t.toString=function(){return n},t}
function r(n,t,r,e){for(var u,i,o,a=0,c=t.length,s=r.length;c>a;){if(e>=s)
return-1;if(u=t.charCodeAt(a++),37===u){if(o=t.charAt(a++),i=N[o in ic?t.charAt(a++):o],!i||(e=i(n,r,e))<0)
return-1}else if(u!=r.charCodeAt(e++))
return-1}
return e}
function e(n,t,r){b.lastIndex=0;var e=b.exec(t.substring(r));return e?(n.w=w.get(e[0].toLowerCase()),r+e[0].length):-1}
function u(n,t,r){M.lastIndex=0;var e=M.exec(t.substring(r));return e?(n.w=_.get(e[0].toLowerCase()),r+e[0].length):-1}
function i(n,t,r){E.lastIndex=0;var e=E.exec(t.substring(r));return e?(n.m=A.get(e[0].toLowerCase()),r+e[0].length):-1}
function o(n,t,r){S.lastIndex=0;var e=S.exec(t.substring(r));return e?(n.m=k.get(e[0].toLowerCase()),r+e[0].length):-1}
function a(n,t,e){return r(n,C.c.toString(),t,e)}
function c(n,t,e){return r(n,C.x.toString(),t,e)}
function s(n,t,e){return r(n,C.X.toString(),t,e)}
function l(n,t,r){var e=x.get(t.substring(r,r+=2).toLowerCase());return null==e?-1:(n.p=e,r)}
var f=n.dateTime,h=n.date,g=n.time,p=n.periods,v=n.days,d=n.shortDays,m=n.months,y=n.shortMonths;t.utc=function(n){function r(n){try{ec=jt;var t=new ec;return t._=n,e(t)}
finally{ec=Date}}
var e=t(n);return r.parse=function(n){try{ec=jt;var t=e.parse(n);return t&&t._}
finally{ec=Date}},r.toString=e.toString,r},t.multi=t.utc.multi=ar;var x=Bo.map(),M=Yt(v),_=Zt(v),b=Yt(d),w=Zt(d),S=Yt(m),k=Zt(m),E=Yt(y),A=Zt(y);p.forEach(function(n,t){x.set(n.toLowerCase(),t)});var C={a:function(n){return d[n.getDay()]},A:function(n){return v[n.getDay()]},b:function(n){return y[n.getMonth()]},B:function(n){return m[n.getMonth()]},c:t(f),d:function(n,t){return It(n.getDate(),t,2)},e:function(n,t){return It(n.getDate(),t,2)},H:function(n,t){return It(n.getHours(),t,2)},I:function(n,t){return It(n.getHours()%12||12,t,2)},j:function(n,t){return It(1+rc.dayOfYear(n),t,3)},L:function(n,t){return It(n.getMilliseconds(),t,3)},m:function(n,t){return It(n.getMonth()+1,t,2)},M:function(n,t){return It(n.getMinutes(),t,2)},p:function(n){return p[+(n.getHours()>=12)]},S:function(n,t){return It(n.getSeconds(),t,2)},U:function(n,t){return It(rc.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return It(rc.mondayOfYear(n),t,2)},x:t(h),X:t(g),y:function(n,t){return It(n.getFullYear()%100,t,2)},Y:function(n,t){return It(n.getFullYear()%1e4,t,4)},Z:ir,"%":function(){return"%"}},N={a:e,A:u,b:i,B:o,c:a,d:Qt,e:Qt,H:tr,I:tr,j:nr,L:ur,m:Kt,M:rr,p:l,S:er,U:$t,w:Vt,W:Xt,x:c,X:s,y:Jt,Y:Bt,Z:Wt,"%":or};return t}
function It(n,t,r){var e=0>n?"-":"",u=(e?-n:n)+"",i=u.length;return e+(r>i?new Array(r-i+1).join(t)+u:u)}
function Yt(n){return new RegExp("^(?:"+n.map(Bo.requote).join("|")+")","i")}
function Zt(n){for(var t=new o,r=-1,e=n.length;++r<e;)
t.set(n[r].toLowerCase(),r);return t}
function Vt(n,t,r){oc.lastIndex=0;var e=oc.exec(t.substring(r,r+1));return e?(n.w=+e[0],r+e[0].length):-1}
function $t(n,t,r){oc.lastIndex=0;var e=oc.exec(t.substring(r));return e?(n.U=+e[0],r+e[0].length):-1}
function Xt(n,t,r){oc.lastIndex=0;var e=oc.exec(t.substring(r));return e?(n.W=+e[0],r+e[0].length):-1}
function Bt(n,t,r){oc.lastIndex=0;var e=oc.exec(t.substring(r,r+4));return e?(n.y=+e[0],r+e[0].length):-1}
function Jt(n,t,r){oc.lastIndex=0;var e=oc.exec(t.substring(r,r+2));return e?(n.y=Gt(+e[0]),r+e[0].length):-1}
function Wt(n,t,r){return/^[+-]\d{4}$/.test(t=t.substring(r,r+5))?(n.Z=-t,r+5):-1}
function Gt(n){return n+(n>68?1900:2e3)}
function Kt(n,t,r){oc.lastIndex=0;var e=oc.exec(t.substring(r,r+2));return e?(n.m=e[0]-1,r+e[0].length):-1}
function Qt(n,t,r){oc.lastIndex=0;var e=oc.exec(t.substring(r,r+2));return e?(n.d=+e[0],r+e[0].length):-1}
function nr(n,t,r){oc.lastIndex=0;var e=oc.exec(t.substring(r,r+3));return e?(n.j=+e[0],r+e[0].length):-1}
function tr(n,t,r){oc.lastIndex=0;var e=oc.exec(t.substring(r,r+2));return e?(n.H=+e[0],r+e[0].length):-1}
function rr(n,t,r){oc.lastIndex=0;var e=oc.exec(t.substring(r,r+2));return e?(n.M=+e[0],r+e[0].length):-1}
function er(n,t,r){oc.lastIndex=0;var e=oc.exec(t.substring(r,r+2));return e?(n.S=+e[0],r+e[0].length):-1}
function ur(n,t,r){oc.lastIndex=0;var e=oc.exec(t.substring(r,r+3));return e?(n.L=+e[0],r+e[0].length):-1}
function ir(n){var t=n.getTimezoneOffset(),r=t>0?"-":"+",e=~~(ca(t)/60),u=ca(t)%60;return r+It(e,"0",2)+It(u,"0",2)}
function or(n,t,r){ac.lastIndex=0;var e=ac.exec(t.substring(r,r+1));return e?r+e[0].length:-1}
function ar(n){for(var t=n.length,r=-1;++r<t;)
n[r][0]=this(n[r][0]);return function(t){for(var r=0,e=n[r];!e[1](t);)
e=n[++r];return e[0](t)}}
function cr(){}
function sr(n,t,r){var e=r.s=n+t,u=e-n,i=e-u;r.t=n-i+(t-u)}
function lr(n,t){n&&fc.hasOwnProperty(n.type)&&fc[n.type](n,t)}
function fr(n,t,r){var e,u=-1,i=n.length-r;for(t.lineStart();++u<i;)
e=n[u],t.point(e[0],e[1],e[2]);t.lineEnd()}
function hr(n,t){var r=-1,e=n.length;for(t.polygonStart();++r<e;)
fr(n[r],t,1);t.polygonEnd()}
function gr(){function n(n,t){n*=za,t=t*za/2+ka/4;var r=n-e,o=r>=0?1:-1,a=o*r,c=Math.cos(t),s=Math.sin(t),l=i*s,f=u*c+l*Math.cos(a),h=l*o*Math.sin(a);gc.add(Math.atan2(h,f)),e=n,u=c,i=s}
var t,r,e,u,i;pc.point=function(o,a){pc.point=n,e=(t=o)*za,u=Math.cos(a=(r=a)*za/2+ka/4),i=Math.sin(a)},pc.lineEnd=function(){n(t,r)}}
function pr(n){var t=n[0],r=n[1],e=Math.cos(r);return[e*Math.cos(t),e*Math.sin(t),Math.sin(r)]}
function vr(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}
function dr(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}
function mr(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}
function yr(n,t){return[n[0]*t,n[1]*t,n[2]*t]}
function xr(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}
function Mr(n){return[Math.atan2(n[1],n[0]),G(n[2])]}
function _r(n,t){return ca(n[0]-t[0])<Ca&&ca(n[1]-t[1])<Ca}
function br(n,t){n*=za;var r=Math.cos(t*=za);wr(r*Math.cos(n),r*Math.sin(n),Math.sin(t))}
function wr(n,t,r){++vc,mc+=(n-mc)/vc,yc+=(t-yc)/vc,xc+=(r-xc)/vc}
function Sr(){function n(n,u){n*=za;var i=Math.cos(u*=za),o=i*Math.cos(n),a=i*Math.sin(n),c=Math.sin(u),s=Math.atan2(Math.sqrt((s=r*c-e*a)*s+(s=e*o-t*c)*s+(s=t*a-r*o)*s),t*o+r*a+e*c);dc+=s,Mc+=s*(t+(t=o)),_c+=s*(r+(r=a)),bc+=s*(e+(e=c)),wr(t,r,e)}
var t,r,e;Ec.point=function(u,i){u*=za;var o=Math.cos(i*=za);t=o*Math.cos(u),r=o*Math.sin(u),e=Math.sin(i),Ec.point=n,wr(t,r,e)}}
function kr(){Ec.point=br}
function Er(){function n(n,t){n*=za;var r=Math.cos(t*=za),o=r*Math.cos(n),a=r*Math.sin(n),c=Math.sin(t),s=u*c-i*a,l=i*o-e*c,f=e*a-u*o,h=Math.sqrt(s*s+l*l+f*f),g=e*o+u*a+i*c,p=h&&-W(g)/h,v=Math.atan2(h,g);wc+=p*s,Sc+=p*l,kc+=p*f,dc+=v,Mc+=v*(e+(e=o)),_c+=v*(u+(u=a)),bc+=v*(i+(i=c)),wr(e,u,i)}
var t,r,e,u,i;Ec.point=function(o,a){t=o,r=a,Ec.point=n,o*=za;var c=Math.cos(a*=za);e=c*Math.cos(o),u=c*Math.sin(o),i=Math.sin(a),wr(e,u,i)},Ec.lineEnd=function(){n(t,r),Ec.lineEnd=kr,Ec.point=br}}
function Ar(){return!0}
function Cr(n,t,r,e,u){var i=[],o=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,r=n[0],e=n[t];if(_r(r,e)){u.lineStart();for(var a=0;t>a;++a)
u.point((r=n[a])[0],r[1]);return u.lineEnd(),void 0}
var c=new zr(r,n,null,!0),s=new zr(r,null,c,!1);c.o=s,i.push(c),o.push(s),c=new zr(e,n,null,!1),s=new zr(e,null,c,!0),c.o=s,i.push(c),o.push(s)}}),o.sort(t),Nr(i),Nr(o),i.length){for(var a=0,c=r,s=o.length;s>a;++a)
o[a].e=c=!c;for(var l,f,h=i[0];;){for(var g=h,p=!0;g.v;)
if((g=g.n)===h)
return;l=g.z,u.lineStart();do{if(g.v=g.o.v=!0,g.e){if(p)
for(var a=0,s=l.length;s>a;++a)
u.point((f=l[a])[0],f[1]);else
e(g.x,g.n.x,1,u);g=g.n}else{if(p){l=g.p.z;for(var a=l.length-1;a>=0;--a)
u.point((f=l[a])[0],f[1])}else
e(g.x,g.p.x,-1,u);g=g.p}
g=g.o,l=g.z,p=!p}while(!g.v);u.lineEnd()}}}
function Nr(n){if(t=n.length){for(var t,r,e=0,u=n[0];++e<t;)
u.n=r=n[e],r.p=u,u=r;u.n=r=n[0],r.p=u}}
function zr(n,t,r,e){this.x=n,this.z=t,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}
function Lr(n,t,r,e){return function(u,i){function o(t,r){var e=u(t,r);n(t=e[0],r=e[1])&&i.point(t,r)}
function a(n,t){var r=u(n,t);d.point(r[0],r[1])}
function c(){y.point=a,d.lineStart()}
function s(){y.point=o,d.lineEnd()}
function l(n,t){v.push([n,t]);var r=u(n,t);M.point(r[0],r[1])}
function f(){M.lineStart(),v=[]}
function h(){l(v[0][0],v[0][1]),M.lineEnd();var n,t=M.clean(),r=x.buffer(),e=r.length;if(v.pop(),p.push(v),v=null,e)
if(1&t){n=r[0];var u,e=n.length-1,o=-1;if(e>0){for(_||(i.polygonStart(),_=!0),i.lineStart();++o<e;)
i.point((u=n[o])[0],u[1]);i.lineEnd()}}else
e>1&&2&t&&r.push(r.pop().concat(r.shift())),g.push(r.filter(Tr))}
var g,p,v,d=t(i),m=u.invert(e[0],e[1]),y={point:o,lineStart:c,lineEnd:s,polygonStart:function(){y.point=l,y.lineStart=f,y.lineEnd=h,g=[],p=[]},polygonEnd:function(){y.point=o,y.lineStart=c,y.lineEnd=s,g=Bo.merge(g);var n=Dr(m,p);g.length?(_||(i.polygonStart(),_=!0),Cr(g,Rr,n,r,i)):n&&(_||(i.polygonStart(),_=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),_&&(i.polygonEnd(),_=!1),g=p=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}},x=qr(),M=t(x),_=!1;return y}}
function Tr(n){return n.length>1}
function qr(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,r){n.push([t,r])},lineEnd:v,buffer:function(){var r=t;return t=[],n=null,r},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}
function Rr(n,t){return((n=n.x)[0]<0?n[1]-Aa-Ca:Aa-n[1])-((t=t.x)[0]<0?t[1]-Aa-Ca:Aa-t[1])}
function Dr(n,t){var r=n[0],e=n[1],u=[Math.sin(r),-Math.cos(r),0],i=0,o=0;gc.reset();for(var a=0,c=t.length;c>a;++a){var s=t[a],l=s.length;if(l)
for(var f=s[0],h=f[0],g=f[1]/2+ka/4,p=Math.sin(g),v=Math.cos(g),d=1;;){d===l&&(d=0),n=s[d];var m=n[0],y=n[1]/2+ka/4,x=Math.sin(y),M=Math.cos(y),_=m-h,b=_>=0?1:-1,w=b*_,S=w>ka,k=p*x;if(gc.add(Math.atan2(k*b*Math.sin(w),v*M+k*Math.cos(w))),i+=S?_+b*Ea:_,S^h>=r^m>=r){var E=dr(pr(f),pr(n));xr(E);var A=dr(u,E);xr(A);var C=(S^_>=0?-1:1)*G(A[2]);(e>C||e===C&&(E[0]||E[1]))&&(o+=S^_>=0?1:-1)}
if(!d++)
break;h=m,p=x,v=M,f=n}}
return(-Ca>i||Ca>i&&0>gc)^1&o}
function Pr(n){var t,r=0/0,e=0/0,u=0/0;return{lineStart:function(){n.lineStart(),t=1},point:function(i,o){var a=i>0?ka:-ka,c=ca(i-r);ca(c-ka)<Ca?(n.point(r,e=(e+o)/2>0?Aa:-Aa),n.point(u,e),n.lineEnd(),n.lineStart(),n.point(a,e),n.point(i,e),t=0):u!==a&&c>=ka&&(ca(r-u)<Ca&&(r-=u*Ca),ca(i-a)<Ca&&(i-=a*Ca),e=Ur(r,e,i,o),n.point(u,e),n.lineEnd(),n.lineStart(),n.point(a,e),t=0),n.point(r=i,e=o),u=a},lineEnd:function(){n.lineEnd(),r=e=0/0},clean:function(){return 2-t}}}
function Ur(n,t,r,e){var u,i,o=Math.sin(n-r);return ca(o)>Ca?Math.atan((Math.sin(t)*(i=Math.cos(e))*Math.sin(r)-Math.sin(e)*(u=Math.cos(t))*Math.sin(n))/(u*i*o)):(t+e)/2}
function jr(n,t,r,e){var u;if(null==n)
u=r*Aa,e.point(-ka,u),e.point(0,u),e.point(ka,u),e.point(ka,0),e.point(ka,-u),e.point(0,-u),e.point(-ka,-u),e.point(-ka,0),e.point(-ka,u);else if(ca(n[0]-t[0])>Ca){var i=n[0]<t[0]?ka:-ka;u=r*i/2,e.point(-i,u),e.point(0,u),e.point(i,u)}else
e.point(t[0],t[1])}
function Hr(n){function t(n,t){return Math.cos(n)*Math.cos(t)>i}
function r(n){var r,i,c,s,l;return{lineStart:function(){s=c=!1,l=1},point:function(f,h){var g,p=[f,h],v=t(f,h),d=o?v?0:u(f,h):v?u(f+(0>f?ka:-ka),h):0;if(!r&&(s=c=v)&&n.lineStart(),v!==c&&(g=e(r,p),(_r(r,g)||_r(p,g))&&(p[0]+=Ca,p[1]+=Ca,v=t(p[0],p[1]))),v!==c)
l=0,v?(n.lineStart(),g=e(p,r),n.point(g[0],g[1])):(g=e(r,p),n.point(g[0],g[1]),n.lineEnd()),r=g;else if(a&&r&&o^v){var m;d&i||!(m=e(p,r,!0))||(l=0,o?(n.lineStart(),n.point(m[0][0],m[0][1]),n.point(m[1][0],m[1][1]),n.lineEnd()):(n.point(m[1][0],m[1][1]),n.lineEnd(),n.lineStart(),n.point(m[0][0],m[0][1])))}!v||r&&_r(r,p)||n.point(p[0],p[1]),r=p,c=v,i=d},lineEnd:function(){c&&n.lineEnd(),r=null},clean:function(){return l|(s&&c)<<1}}}
function e(n,t,r){var e=pr(n),u=pr(t),o=[1,0,0],a=dr(e,u),c=vr(a,a),s=a[0],l=c-s*s;if(!l)
return!r&&n;var f=i*c/l,h=-i*s/l,g=dr(o,a),p=yr(o,f),v=yr(a,h);mr(p,v);var d=g,m=vr(p,d),y=vr(d,d),x=m*m-y*(vr(p,p)-1);if(!(0>x)){var M=Math.sqrt(x),_=yr(d,(-m-M)/y);if(mr(_,p),_=Mr(_),!r)
return _;var b,w=n[0],S=t[0],k=n[1],E=t[1];w>S&&(b=w,w=S,S=b);var A=S-w,C=ca(A-ka)<Ca,N=C||Ca>A;if(!C&&k>E&&(b=k,k=E,E=b),N?C?k+E>0^_[1]<(ca(_[0]-w)<Ca?k:E):k<=_[1]&&_[1]<=E:A>ka^(w<=_[0]&&_[0]<=S)){var z=yr(d,(-m+M)/y);return mr(z,p),[_,Mr(z)]}}}
function u(t,r){var e=o?n:ka-n,u=0;return-e>t?u|=1:t>e&&(u|=2),-e>r?u|=4:r>e&&(u|=8),u}
var i=Math.cos(n),o=i>0,a=ca(i)>Ca,c=ge(n,6*za);return Lr(t,r,c,o?[0,-n]:[-ka,n-ka])}
function Fr(n,t,r,e){return function(u){var i,o=u.a,a=u.b,c=o.x,s=o.y,l=a.x,f=a.y,h=0,g=1,p=l-c,v=f-s;if(i=n-c,p||!(i>0)){if(i/=p,0>p){if(h>i)
return;g>i&&(g=i)}else if(p>0){if(i>g)
return;i>h&&(h=i)}
if(i=r-c,p||!(0>i)){if(i/=p,0>p){if(i>g)
return;i>h&&(h=i)}else if(p>0){if(h>i)
return;g>i&&(g=i)}
if(i=t-s,v||!(i>0)){if(i/=v,0>v){if(h>i)
return;g>i&&(g=i)}else if(v>0){if(i>g)
return;i>h&&(h=i)}
if(i=e-s,v||!(0>i)){if(i/=v,0>v){if(i>g)
return;i>h&&(h=i)}else if(v>0){if(h>i)
return;g>i&&(g=i)}
return h>0&&(u.a={x:c+h*p,y:s+h*v}),1>g&&(u.b={x:c+g*p,y:s+g*v}),u}}}}}}
function Or(n,t,r,e){function u(e,u){return ca(e[0]-n)<Ca?u>0?0:3:ca(e[0]-r)<Ca?u>0?2:1:ca(e[1]-t)<Ca?u>0?1:0:u>0?3:2}
function i(n,t){return o(n.x,t.x)}
function o(n,t){var r=u(n,1),e=u(t,1);return r!==e?r-e:0===r?t[1]-n[1]:1===r?n[0]-t[0]:2===r?n[1]-t[1]:t[0]-n[0]}
return function(a){function c(n){for(var t=0,r=d.length,e=n[1],u=0;r>u;++u)
for(var i,o=1,a=d[u],c=a.length,s=a[0];c>o;++o)
i=a[o],s[1]<=e?i[1]>e&&J(s,i,n)>0&&++t:i[1]<=e&&J(s,i,n)<0&&--t,s=i;return 0!==t}
function s(i,a,c,s){var l=0,f=0;if(null==i||(l=u(i,c))!==(f=u(a,c))||o(i,a)<0^c>0){do
s.point(0===l||3===l?n:r,l>1?e:t);while((l=(l+c+4)%4)!==f)}else
s.point(a[0],a[1])}
function l(u,i){return u>=n&&r>=u&&i>=t&&e>=i}
function f(n,t){l(n,t)&&a.point(n,t)}
function h(){N.point=p,d&&d.push(m=[]),S=!0,w=!1,_=b=0/0}
function g(){v&&(p(y,x),M&&w&&A.rejoin(),v.push(A.buffer())),N.point=f,w&&a.lineEnd()}
function p(n,t){n=Math.max(-Cc,Math.min(Cc,n)),t=Math.max(-Cc,Math.min(Cc,t));var r=l(n,t);if(d&&m.push([n,t]),S)
y=n,x=t,M=r,S=!1,r&&(a.lineStart(),a.point(n,t));else if(r&&w)
a.point(n,t);else{var e={a:{x:_,y:b},b:{x:n,y:t}};C(e)?(w||(a.lineStart(),a.point(e.a.x,e.a.y)),a.point(e.b.x,e.b.y),r||a.lineEnd(),k=!1):r&&(a.lineStart(),a.point(n,t),k=!1)}
_=n,b=t,w=r}
var v,d,m,y,x,M,_,b,w,S,k,E=a,A=qr(),C=Fr(n,t,r,e),N={point:f,lineStart:h,lineEnd:g,polygonStart:function(){a=A,v=[],d=[],k=!0},polygonEnd:function(){a=E,v=Bo.merge(v);var t=c([n,e]),r=k&&t,u=v.length;(r||u)&&(a.polygonStart(),r&&(a.lineStart(),s(null,null,1,a),a.lineEnd()),u&&Cr(v,i,t,s,a),a.polygonEnd()),v=d=m=null}};return N}}
function Ir(n,t){function r(r,e){return r=n(r,e),t(r[0],r[1])}
return n.invert&&t.invert&&(r.invert=function(r,e){return r=t.invert(r,e),r&&n.invert(r[0],r[1])}),r}
function Yr(n){var t=0,r=ka/3,e=ie(n),u=e(t,r);return u.parallels=function(n){return arguments.length?e(t=n[0]*ka/180,r=n[1]*ka/180):[180*(t/ka),180*(r/ka)]},u}
function Zr(n,t){function r(n,t){var r=Math.sqrt(i-2*u*Math.sin(t))/u;return[r*Math.sin(n*=u),o-r*Math.cos(n)]}
var e=Math.sin(n),u=(e+Math.sin(t))/2,i=1+e*(2*u-e),o=Math.sqrt(i)/u;return r.invert=function(n,t){var r=o-t;return[Math.atan2(n,r)/u,G((i-(n*n+r*r)*u*u)/(2*u))]},r}
function Vr(){function n(n,t){zc+=u*n-e*t,e=n,u=t}
var t,r,e,u;Dc.point=function(i,o){Dc.point=n,t=e=i,r=u=o},Dc.lineEnd=function(){n(t,r)}}
function $r(n,t){Lc>n&&(Lc=n),n>qc&&(qc=n),Tc>t&&(Tc=t),t>Rc&&(Rc=t)}
function Xr(){function n(n,t){o.push("M",n,",",t,i)}
function t(n,t){o.push("M",n,",",t),a.point=r}
function r(n,t){o.push("L",n,",",t)}
function e(){a.point=n}
function u(){o.push("Z")}
var i=Br(4.5),o=[],a={point:n,lineStart:function(){a.point=t},lineEnd:e,polygonStart:function(){a.lineEnd=u},polygonEnd:function(){a.lineEnd=e,a.point=n},pointRadius:function(n){return i=Br(n),a},result:function(){if(o.length){var n=o.join("");return o=[],n}}};return a}
function Br(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}
function Jr(n,t){mc+=n,yc+=t,++xc}
function Wr(){function n(n,e){var u=n-t,i=e-r,o=Math.sqrt(u*u+i*i);Mc+=o*(t+n)/2,_c+=o*(r+e)/2,bc+=o,Jr(t=n,r=e)}
var t,r;Uc.point=function(e,u){Uc.point=n,Jr(t=e,r=u)}}
function Gr(){Uc.point=Jr}
function Kr(){function n(n,t){var r=n-e,i=t-u,o=Math.sqrt(r*r+i*i);Mc+=o*(e+n)/2,_c+=o*(u+t)/2,bc+=o,o=u*n-e*t,wc+=o*(e+n),Sc+=o*(u+t),kc+=3*o,Jr(e=n,u=t)}
var t,r,e,u;Uc.point=function(i,o){Uc.point=n,Jr(t=e=i,r=u=o)},Uc.lineEnd=function(){n(t,r)}}
function Qr(n){function t(t,r){n.moveTo(t,r),n.arc(t,r,o,0,Ea)}
function r(t,r){n.moveTo(t,r),a.point=e}
function e(t,r){n.lineTo(t,r)}
function u(){a.point=t}
function i(){n.closePath()}
var o=4.5,a={point:t,lineStart:function(){a.point=r},lineEnd:u,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=u,a.point=t},pointRadius:function(n){return o=n,a},result:v};return a}
function ne(n){function t(n){return(a?e:r)(n)}
function r(t){return ee(t,function(r,e){r=n(r,e),t.point(r[0],r[1])})}
function e(t){function r(r,e){r=n(r,e),t.point(r[0],r[1])}
function e(){x=0/0,S.point=i,t.lineStart()}
function i(r,e){var i=pr([r,e]),o=n(r,e);u(x,M,y,_,b,w,x=o[0],M=o[1],y=r,_=i[0],b=i[1],w=i[2],a,t),t.point(x,M)}
function o(){S.point=r,t.lineEnd()}
function c(){e(),S.point=s,S.lineEnd=l}
function s(n,t){i(f=n,h=t),g=x,p=M,v=_,d=b,m=w,S.point=i}
function l(){u(x,M,y,_,b,w,g,p,f,v,d,m,a,t),S.lineEnd=o,o()}
var f,h,g,p,v,d,m,y,x,M,_,b,w,S={point:r,lineStart:e,lineEnd:o,polygonStart:function(){t.polygonStart(),S.lineStart=c},polygonEnd:function(){t.polygonEnd(),S.lineStart=e}};return S}
function u(t,r,e,a,c,s,l,f,h,g,p,v,d,m){var y=l-t,x=f-r,M=y*y+x*x;if(M>4*i&&d--){var _=a+g,b=c+p,w=s+v,S=Math.sqrt(_*_+b*b+w*w),k=Math.asin(w/=S),E=ca(ca(w)-1)<Ca||ca(e-h)<Ca?(e+h)/2:Math.atan2(b,_),A=n(E,k),C=A[0],N=A[1],z=C-t,L=N-r,T=x*z-y*L;(T*T/M>i||ca((y*z+x*L)/M-.5)>.3||o>a*g+c*p+s*v)&&(u(t,r,e,a,c,s,C,N,E,_/=S,b/=S,w,d,m),m.point(C,N),u(C,N,E,_,b,w,l,f,h,g,p,v,d,m))}}
var i=.5,o=Math.cos(30*za),a=16;return t.precision=function(n){return arguments.length?(a=(i=n*n)>0&&16,t):Math.sqrt(i)},t}
function te(n){var t=ne(function(t,r){return n([t*La,r*La])});return function(n){return oe(t(n))}}
function re(n){this.stream=n}
function ee(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}
function ue(n){return ie(function(){return n})()}
function ie(n){function t(n){return n=a(n[0]*za,n[1]*za),[n[0]*h+c,s-n[1]*h]}
function r(n){return n=a.invert((n[0]-c)/h,(s-n[1])/h),n&&[n[0]*La,n[1]*La]}
function e(){a=Ir(o=se(m,y,x),i);var n=i(v,d);return c=g-n[0]*h,s=p+n[1]*h,u()}
function u(){return l&&(l.valid=!1,l=null),t}
var i,o,a,c,s,l,f=ne(function(n,t){return n=i(n,t),[n[0]*h+c,s-n[1]*h]}),h=150,g=480,p=250,v=0,d=0,m=0,y=0,x=0,M=Ac,_=At,b=null,w=null;return t.stream=function(n){return l&&(l.valid=!1),l=oe(M(o,f(_(n)))),l.valid=!0,l},t.clipAngle=function(n){return arguments.length?(M=null==n?(b=n,Ac):Hr((b=+n)*za),u()):b},t.clipExtent=function(n){return arguments.length?(w=n,_=n?Or(n[0][0],n[0][1],n[1][0],n[1][1]):At,u()):w},t.scale=function(n){return arguments.length?(h=+n,e()):h},t.translate=function(n){return arguments.length?(g=+n[0],p=+n[1],e()):[g,p]},t.center=function(n){return arguments.length?(v=n[0]%360*za,d=n[1]%360*za,e()):[v*La,d*La]},t.rotate=function(n){return arguments.length?(m=n[0]%360*za,y=n[1]%360*za,x=n.length>2?n[2]%360*za:0,e()):[m*La,y*La,x*La]},Bo.rebind(t,f,"precision"),function(){return i=n.apply(this,arguments),t.invert=i.invert&&r,e()}}
function oe(n){return ee(n,function(t,r){n.point(t*za,r*za)})}
function ae(n,t){return[n,t]}
function ce(n,t){return[n>ka?n-Ea:-ka>n?n+Ea:n,t]}
function se(n,t,r){return n?t||r?Ir(fe(n),he(t,r)):fe(n):t||r?he(t,r):ce}
function le(n){return function(t,r){return t+=n,[t>ka?t-Ea:-ka>t?t+Ea:t,r]}}
function fe(n){var t=le(n);return t.invert=le(-n),t}
function he(n,t){function r(n,t){var r=Math.cos(t),a=Math.cos(n)*r,c=Math.sin(n)*r,s=Math.sin(t),l=s*e+a*u;return[Math.atan2(c*i-l*o,a*e-s*u),G(l*i+c*o)]}
var e=Math.cos(n),u=Math.sin(n),i=Math.cos(t),o=Math.sin(t);return r.invert=function(n,t){var r=Math.cos(t),a=Math.cos(n)*r,c=Math.sin(n)*r,s=Math.sin(t),l=s*i-c*o;return[Math.atan2(c*i+s*o,a*e+l*u),G(l*e-a*u)]},r}
function ge(n,t){var r=Math.cos(n),e=Math.sin(n);return function(u,i,o,a){var c=o*t;null!=u?(u=pe(r,u),i=pe(r,i),(o>0?i>u:u>i)&&(u+=o*Ea)):(u=n+o*Ea,i=n-.5*c);for(var s,l=u;o>0?l>i:i>l;l-=c)
a.point((s=Mr([r,-e*Math.cos(l),-e*Math.sin(l)]))[0],s[1])}}
function pe(n,t){var r=pr(t);r[0]-=n,xr(r);var e=W(-r[1]);return((-r[2]<0?-e:e)+2*Math.PI-Ca)%(2*Math.PI)}
function ve(n,t,r){var e=Bo.range(n,t-Ca,r).concat(t);return function(n){return e.map(function(t){return[n,t]})}}
function de(n,t,r){var e=Bo.range(n,t-Ca,r).concat(t);return function(n){return e.map(function(t){return[t,n]})}}
function me(n){return n.source}
function ye(n){return n.target}
function xe(n,t,r,e){var u=Math.cos(t),i=Math.sin(t),o=Math.cos(e),a=Math.sin(e),c=u*Math.cos(n),s=u*Math.sin(n),l=o*Math.cos(r),f=o*Math.sin(r),h=2*Math.asin(Math.sqrt(tt(e-t)+u*o*tt(r-n))),g=1/Math.sin(h),p=h?function(n){var t=Math.sin(n*=h)*g,r=Math.sin(h-n)*g,e=r*c+t*l,u=r*s+t*f,o=r*i+t*a;return[Math.atan2(u,e)*La,Math.atan2(o,Math.sqrt(e*e+u*u))*La]}:function(){return[n*La,t*La]};return p.distance=h,p}
function Me(){function n(n,u){var i=Math.sin(u*=za),o=Math.cos(u),a=ca((n*=za)-t),c=Math.cos(a);jc+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=e*i-r*o*c)*a),r*i+e*o*c),t=n,r=i,e=o}
var t,r,e;Hc.point=function(u,i){t=u*za,r=Math.sin(i*=za),e=Math.cos(i),Hc.point=n},Hc.lineEnd=function(){Hc.point=Hc.lineEnd=v}}
function _e(n,t){function r(t,r){var e=Math.cos(t),u=Math.cos(r),i=n(e*u);return[i*u*Math.sin(t),i*Math.sin(r)]}
return r.invert=function(n,r){var e=Math.sqrt(n*n+r*r),u=t(e),i=Math.sin(u),o=Math.cos(u);return[Math.atan2(n*i,e*o),Math.asin(e&&r*i/e)]},r}
function be(n,t){function r(n,t){o>0?-Aa+Ca>t&&(t=-Aa+Ca):t>Aa-Ca&&(t=Aa-Ca);var r=o/Math.pow(u(t),i);return[r*Math.sin(i*n),o-r*Math.cos(i*n)]}
var e=Math.cos(n),u=function(n){return Math.tan(ka/4+n/2)},i=n===t?Math.sin(n):Math.log(e/Math.cos(t))/Math.log(u(t)/u(n)),o=e*Math.pow(u(n),i)/i;return i?(r.invert=function(n,t){var r=o-t,e=B(i)*Math.sqrt(n*n+r*r);return[Math.atan2(n,r)/i,2*Math.atan(Math.pow(o/e,1/i))-Aa]},r):Se}
function we(n,t){function r(n,t){var r=i-t;return[r*Math.sin(u*n),i-r*Math.cos(u*n)]}
var e=Math.cos(n),u=n===t?Math.sin(n):(e-Math.cos(t))/(t-n),i=e/u+n;return ca(u)<Ca?ae:(r.invert=function(n,t){var r=i-t;return[Math.atan2(n,r)/u,i-B(u)*Math.sqrt(n*n+r*r)]},r)}
function Se(n,t){return[n,Math.log(Math.tan(ka/4+t/2))]}
function ke(n){var t,r=ue(n),e=r.scale,u=r.translate,i=r.clipExtent;return r.scale=function(){var n=e.apply(r,arguments);return n===r?t?r.clipExtent(null):r:n},r.translate=function(){var n=u.apply(r,arguments);return n===r?t?r.clipExtent(null):r:n},r.clipExtent=function(n){var o=i.apply(r,arguments);if(o===r){if(t=null==n){var a=ka*e(),c=u();i([[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]])}}else
t&&(o=null);return o},r.clipExtent(null)}
function Ee(n,t){return[Math.log(Math.tan(ka/4+t/2)),-n]}
function Ae(n){return n[0]}
function Ce(n){return n[1]}
function Ne(n){for(var t=n.length,r=[0,1],e=2,u=2;t>u;u++){for(;e>1&&J(n[r[e-2]],n[r[e-1]],n[u])<=0;)
--e;r[e++]=u}
return r.slice(0,e)}
function ze(n,t){return n[0]-t[0]||n[1]-t[1]}
function Le(n,t,r){return(r[0]-t[0])*(n[1]-t[1])<(r[1]-t[1])*(n[0]-t[0])}
function Te(n,t,r,e){var u=n[0],i=r[0],o=t[0]-u,a=e[0]-i,c=n[1],s=r[1],l=t[1]-c,f=e[1]-s,h=(a*(c-s)-f*(u-i))/(f*o-a*l);return[u+h*o,c+h*l]}
function qe(n){var t=n[0],r=n[n.length-1];return!(t[0]-r[0]||t[1]-r[1])}
function Re(){tu(this),this.edge=this.site=this.circle=null}
function De(n){var t=Gc.pop()||new Re;return t.site=n,t}
function Pe(n){$e(n),Bc.remove(n),Gc.push(n),tu(n)}
function Ue(n){var t=n.circle,r=t.x,e=t.cy,u={x:r,y:e},i=n.P,o=n.N,a=[n];Pe(n);for(var c=i;c.circle&&ca(r-c.circle.x)<Ca&&ca(e-c.circle.cy)<Ca;)
i=c.P,a.unshift(c),Pe(c),c=i;a.unshift(c),$e(c);for(var s=o;s.circle&&ca(r-s.circle.x)<Ca&&ca(e-s.circle.cy)<Ca;)
o=s.N,a.push(s),Pe(s),s=o;a.push(s),$e(s);var l,f=a.length;for(l=1;f>l;++l)
s=a[l],c=a[l-1],Ke(s.edge,c.site,s.site,u);c=a[0],s=a[f-1],s.edge=We(c.site,s.site,null,u),Ve(c),Ve(s)}
function je(n){for(var t,r,e,u,i=n.x,o=n.y,a=Bc._;a;)
if(e=He(a,o)-i,e>Ca)
a=a.L;else{if(u=i-Fe(a,o),!(u>Ca)){e>-Ca?(t=a.P,r=a):u>-Ca?(t=a,r=a.N):t=r=a;break}
if(!a.R){t=a;break}
a=a.R}
var c=De(n);if(Bc.insert(t,c),t||r){if(t===r)
return $e(t),r=De(t.site),Bc.insert(c,r),c.edge=r.edge=We(t.site,c.site),Ve(t),Ve(r),void 0;if(!r)
return c.edge=We(t.site,c.site),void 0;$e(t),$e(r);var s=t.site,l=s.x,f=s.y,h=n.x-l,g=n.y-f,p=r.site,v=p.x-l,d=p.y-f,m=2*(h*d-g*v),y=h*h+g*g,x=v*v+d*d,M={x:(d*y-g*x)/m+l,y:(h*x-v*y)/m+f};Ke(r.edge,s,p,M),c.edge=We(s,n,null,M),r.edge=We(n,p,null,M),Ve(t),Ve(r)}}
function He(n,t){var r=n.site,e=r.x,u=r.y,i=u-t;if(!i)
return e;var o=n.P;if(!o)
return-1/0;r=o.site;var a=r.x,c=r.y,s=c-t;if(!s)
return a;var l=a-e,f=1/i-1/s,h=l/s;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*s)-c+s/2+u-i/2)))/f+e:(e+a)/2}
function Fe(n,t){var r=n.N;if(r)
return He(r,t);var e=n.site;return e.y===t?e.x:1/0}
function Oe(n){this.site=n,this.edges=[]}
function Ie(n){for(var t,r,e,u,i,o,a,c,s,l,f=n[0][0],h=n[1][0],g=n[0][1],p=n[1][1],v=Xc,d=v.length;d--;)
if(i=v[d],i&&i.prepare())
for(a=i.edges,c=a.length,o=0;c>o;)
l=a[o].end(),e=l.x,u=l.y,s=a[++o%c].start(),t=s.x,r=s.y,(ca(e-t)>Ca||ca(u-r)>Ca)&&(a.splice(o,0,new Qe(Ge(i.site,l,ca(e-f)<Ca&&p-u>Ca?{x:f,y:ca(t-f)<Ca?r:p}:ca(u-p)<Ca&&h-e>Ca?{x:ca(r-p)<Ca?t:h,y:p}:ca(e-h)<Ca&&u-g>Ca?{x:h,y:ca(t-h)<Ca?r:g}:ca(u-g)<Ca&&e-f>Ca?{x:ca(r-g)<Ca?t:f,y:g}:null),i.site,null)),++c)}
function Ye(n,t){return t.angle-n.angle}
function Ze(){tu(this),this.x=this.y=this.arc=this.site=this.cy=null}
function Ve(n){var t=n.P,r=n.N;if(t&&r){var e=t.site,u=n.site,i=r.site;if(e!==i){var o=u.x,a=u.y,c=e.x-o,s=e.y-a,l=i.x-o,f=i.y-a,h=2*(c*f-s*l);if(!(h>=-Na)){var g=c*c+s*s,p=l*l+f*f,v=(f*g-s*p)/h,d=(c*p-l*g)/h,f=d+a,m=Kc.pop()||new Ze;m.arc=n,m.site=u,m.x=v+o,m.y=f+Math.sqrt(v*v+d*d),m.cy=f,n.circle=m;for(var y=null,x=Wc._;x;)
if(m.y<x.y||m.y===x.y&&m.x<=x.x){if(!x.L){y=x.P;break}
x=x.L}else{if(!x.R){y=x;break}
x=x.R}
Wc.insert(y,m),y||(Jc=m)}}}}
function $e(n){var t=n.circle;t&&(t.P||(Jc=t.N),Wc.remove(t),Kc.push(t),tu(t),n.circle=null)}
function Xe(n){for(var t,r=$c,e=Fr(n[0][0],n[0][1],n[1][0],n[1][1]),u=r.length;u--;)
t=r[u],(!Be(t,n)||!e(t)||ca(t.a.x-t.b.x)<Ca&&ca(t.a.y-t.b.y)<Ca)&&(t.a=t.b=null,r.splice(u,1))}
function Be(n,t){var r=n.b;if(r)
return!0;var e,u,i=n.a,o=t[0][0],a=t[1][0],c=t[0][1],s=t[1][1],l=n.l,f=n.r,h=l.x,g=l.y,p=f.x,v=f.y,d=(h+p)/2,m=(g+v)/2;if(v===g){if(o>d||d>=a)
return;if(h>p){if(i){if(i.y>=s)
return}else
i={x:d,y:c};r={x:d,y:s}}else{if(i){if(i.y<c)
return}else
i={x:d,y:s};r={x:d,y:c}}}else if(e=(h-p)/(v-g),u=m-e*d,-1>e||e>1)
if(h>p){if(i){if(i.y>=s)
return}else
i={x:(c-u)/e,y:c};r={x:(s-u)/e,y:s}}else{if(i){if(i.y<c)
return}else
i={x:(s-u)/e,y:s};r={x:(c-u)/e,y:c}}
else if(v>g){if(i){if(i.x>=a)
return}else
i={x:o,y:e*o+u};r={x:a,y:e*a+u}}else{if(i){if(i.x<o)
return}else
i={x:a,y:e*a+u};r={x:o,y:e*o+u}}
return n.a=i,n.b=r,!0}
function Je(n,t){this.l=n,this.r=t,this.a=this.b=null}
function We(n,t,r,e){var u=new Je(n,t);return $c.push(u),r&&Ke(u,n,t,r),e&&Ke(u,t,n,e),Xc[n.i].edges.push(new Qe(u,n,t)),Xc[t.i].edges.push(new Qe(u,t,n)),u}
function Ge(n,t,r){var e=new Je(n,null);return e.a=t,e.b=r,$c.push(e),e}
function Ke(n,t,r,e){n.a||n.b?n.l===r?n.b=e:n.a=e:(n.a=e,n.l=t,n.r=r)}
function Qe(n,t,r){var e=n.a,u=n.b;this.edge=n,this.site=t,this.angle=r?Math.atan2(r.y-t.y,r.x-t.x):n.l===t?Math.atan2(u.x-e.x,e.y-u.y):Math.atan2(e.x-u.x,u.y-e.y)}
function nu(){this._=null}
function tu(n){n.U=n.C=n.L=n.R=n.P=n.N=null}
function ru(n,t){var r=t,e=t.R,u=r.U;u?u.L===r?u.L=e:u.R=e:n._=e,e.U=u,r.U=e,r.R=e.L,r.R&&(r.R.U=r),e.L=r}
function eu(n,t){var r=t,e=t.L,u=r.U;u?u.L===r?u.L=e:u.R=e:n._=e,e.U=u,r.U=e,r.L=e.R,r.L&&(r.L.U=r),e.R=r}
function uu(n){for(;n.L;)
n=n.L;return n}
function iu(n,t){var r,e,u,i=n.sort(ou).pop();for($c=[],Xc=new Array(n.length),Bc=new nu,Wc=new nu;;)
if(u=Jc,i&&(!u||i.y<u.y||i.y===u.y&&i.x<u.x))
(i.x!==r||i.y!==e)&&(Xc[i.i]=new Oe(i),je(i),r=i.x,e=i.y),i=n.pop();else{if(!u)
break;Ue(u.arc)}
t&&(Xe(t),Ie(t));var o={cells:Xc,edges:$c};return Bc=Wc=$c=Xc=null,o}
function ou(n,t){return t.y-n.y||t.x-n.x}
function au(n,t,r){return(n.x-r.x)*(t.y-n.y)-(n.x-t.x)*(r.y-n.y)}
function cu(n){return n.x}
function su(n){return n.y}
function lu(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}
function fu(n,t,r,e,u,i){if(!n(t,r,e,u,i)){var o=.5*(r+u),a=.5*(e+i),c=t.nodes;c[0]&&fu(n,c[0],r,e,o,a),c[1]&&fu(n,c[1],o,e,u,a),c[2]&&fu(n,c[2],r,a,o,i),c[3]&&fu(n,c[3],o,a,u,i)}}
function hu(n,t){n=Bo.rgb(n),t=Bo.rgb(t);var r=n.r,e=n.g,u=n.b,i=t.r-r,o=t.g-e,a=t.b-u;return function(n){return"#"+Mt(Math.round(r+i*n))+Mt(Math.round(e+o*n))+Mt(Math.round(u+a*n))}}
function gu(n,t){var r,e={},u={};for(r in n)
r in t?e[r]=du(n[r],t[r]):u[r]=n[r];for(r in t)
r in n||(u[r]=t[r]);return function(n){for(r in e)
u[r]=e[r](n);return u}}
function pu(n,t){return t-=n=+n,function(r){return n+t*r}}
function vu(n,t){var r,e,u,i=ns.lastIndex=ts.lastIndex=0,o=-1,a=[],c=[];for(n+="",t+="";(r=ns.exec(n))&&(e=ts.exec(t));)
(u=e.index)>i&&(u=t.substring(i,u),a[o]?a[o]+=u:a[++o]=u),(r=r[0])===(e=e[0])?a[o]?a[o]+=e:a[++o]=e:(a[++o]=null,c.push({i:o,x:pu(r,e)})),i=ts.lastIndex;return i<t.length&&(u=t.substring(i),a[o]?a[o]+=u:a[++o]=u),a.length<2?c[0]?(t=c[0].x,function(n){return t(n)+""}):function(){return t}:(t=c.length,function(n){for(var r,e=0;t>e;++e)
a[(r=c[e]).i]=r.x(n);return a.join("")})}
function du(n,t){for(var r,e=Bo.interpolators.length;--e>=0&&!(r=Bo.interpolators[e](n,t)););return r}
function mu(n,t){var r,e=[],u=[],i=n.length,o=t.length,a=Math.min(n.length,t.length);for(r=0;a>r;++r)
e.push(du(n[r],t[r]));for(;i>r;++r)
u[r]=n[r];for(;o>r;++r)
u[r]=t[r];return function(n){for(r=0;a>r;++r)
u[r]=e[r](n);return u}}
function yu(n){return function(t){return 0>=t?0:t>=1?1:n(t)}}
function xu(n){return function(t){return 1-n(1-t)}}
function Mu(n){return function(t){return.5*(.5>t?n(2*t):2-n(2-2*t))}}
function _u(n){return n*n}
function bu(n){return n*n*n}
function wu(n){if(0>=n)
return 0;if(n>=1)
return 1;var t=n*n,r=t*n;return 4*(.5>n?r:3*(n-t)+r-.75)}
function Su(n){return function(t){return Math.pow(t,n)}}
function ku(n){return 1-Math.cos(n*Aa)}
function Eu(n){return Math.pow(2,10*(n-1))}
function Au(n){return 1-Math.sqrt(1-n*n)}
function Cu(n,t){var r;return arguments.length<2&&(t=.45),arguments.length?r=t/Ea*Math.asin(1/n):(n=1,r=t/4),function(e){return 1+n*Math.pow(2,-10*e)*Math.sin((e-r)*Ea/t)}}
function Nu(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}
function zu(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}
function Lu(n,t){n=Bo.hcl(n),t=Bo.hcl(t);var r=n.h,e=n.c,u=n.l,i=t.h-r,o=t.c-e,a=t.l-u;return isNaN(o)&&(o=0,e=isNaN(e)?t.c:e),isNaN(i)?(i=0,r=isNaN(r)?t.h:r):i>180?i-=360:-180>i&&(i+=360),function(n){return ct(r+i*n,e+o*n,u+a*n)+""}}
function Tu(n,t){n=Bo.hsl(n),t=Bo.hsl(t);var r=n.h,e=n.s,u=n.l,i=t.h-r,o=t.s-e,a=t.l-u;return isNaN(o)&&(o=0,e=isNaN(e)?t.s:e),isNaN(i)?(i=0,r=isNaN(r)?t.h:r):i>180?i-=360:-180>i&&(i+=360),function(n){return it(r+i*n,e+o*n,u+a*n)+""}}
function qu(n,t){n=Bo.lab(n),t=Bo.lab(t);var r=n.l,e=n.a,u=n.b,i=t.l-r,o=t.a-e,a=t.b-u;return function(n){return ft(r+i*n,e+o*n,u+a*n)+""}}
function Ru(n,t){return t-=n,function(r){return Math.round(n+t*r)}}
function Du(n){var t=[n.a,n.b],r=[n.c,n.d],e=Uu(t),u=Pu(t,r),i=Uu(ju(r,t,-u))||0;t[0]*r[1]<r[0]*t[1]&&(t[0]*=-1,t[1]*=-1,e*=-1,u*=-1),this.rotate=(e?Math.atan2(t[1],t[0]):Math.atan2(-r[0],r[1]))*La,this.translate=[n.e,n.f],this.scale=[e,i],this.skew=i?Math.atan2(u,i)*La:0}
function Pu(n,t){return n[0]*t[0]+n[1]*t[1]}
function Uu(n){var t=Math.sqrt(Pu(n,n));return t&&(n[0]/=t,n[1]/=t),t}
function ju(n,t,r){return n[0]+=r*t[0],n[1]+=r*t[1],n}
function Hu(n,t){var r,e=[],u=[],i=Bo.transform(n),o=Bo.transform(t),a=i.translate,c=o.translate,s=i.rotate,l=o.rotate,f=i.skew,h=o.skew,g=i.scale,p=o.scale;return a[0]!=c[0]||a[1]!=c[1]?(e.push("translate(",null,",",null,")"),u.push({i:1,x:pu(a[0],c[0])},{i:3,x:pu(a[1],c[1])})):c[0]||c[1]?e.push("translate("+c+")"):e.push(""),s!=l?(s-l>180?l+=360:l-s>180&&(s+=360),u.push({i:e.push(e.pop()+"rotate(",null,")")-2,x:pu(s,l)})):l&&e.push(e.pop()+"rotate("+l+")"),f!=h?u.push({i:e.push(e.pop()+"skewX(",null,")")-2,x:pu(f,h)}):h&&e.push(e.pop()+"skewX("+h+")"),g[0]!=p[0]||g[1]!=p[1]?(r=e.push(e.pop()+"scale(",null,",",null,")"),u.push({i:r-4,x:pu(g[0],p[0])},{i:r-2,x:pu(g[1],p[1])})):(1!=p[0]||1!=p[1])&&e.push(e.pop()+"scale("+p+")"),r=u.length,function(n){for(var t,i=-1;++i<r;)
e[(t=u[i]).i]=t.x(n);return e.join("")}}
function Fu(n,t){return t=t-(n=+n)?1/(t-n):0,function(r){return(r-n)*t}}
function Ou(n,t){return t=t-(n=+n)?1/(t-n):0,function(r){return Math.max(0,Math.min(1,(r-n)*t))}}
function Iu(n){for(var t=n.source,r=n.target,e=Zu(t,r),u=[t];t!==e;)
t=t.parent,u.push(t);for(var i=u.length;r!==e;)
u.splice(i,0,r),r=r.parent;return u}
function Yu(n){for(var t=[],r=n.parent;null!=r;)
t.push(n),n=r,r=r.parent;return t.push(n),t}
function Zu(n,t){if(n===t)
return n;for(var r=Yu(n),e=Yu(t),u=r.pop(),i=e.pop(),o=null;u===i;)
o=u,u=r.pop(),i=e.pop();return o}
function Vu(n){n.fixed|=2}
function $u(n){n.fixed&=-7}
function Xu(n){n.fixed|=4,n.px=n.x,n.py=n.y}
function Bu(n){n.fixed&=-5}
function Ju(n,t,r){var e=0,u=0;if(n.charge=0,!n.leaf)
for(var i,o=n.nodes,a=o.length,c=-1;++c<a;)
i=o[c],null!=i&&(Ju(i,t,r),n.charge+=i.charge,e+=i.charge*i.cx,u+=i.charge*i.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var s=t*r[n.point.index];n.charge+=n.pointCharge=s,e+=s*n.point.x,u+=s*n.point.y}
n.cx=e/n.charge,n.cy=u/n.charge}
function Wu(n,t){return Bo.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=ri,n}
function Gu(n,t){for(var r=[n];null!=(n=r.pop());)
if(t(n),(u=n.children)&&(e=u.length))
for(var e,u;--e>=0;)
r.push(u[e])}
function Ku(n,t){for(var r=[n],e=[];null!=(n=r.pop());)
if(e.push(n),(i=n.children)&&(u=i.length))
for(var u,i,o=-1;++o<u;)
r.push(i[o]);for(;null!=(n=e.pop());)
t(n)}
function Qu(n){return n.children}
function ni(n){return n.value}
function ti(n,t){return t.value-n.value}
function ri(n){return Bo.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}
function ei(n){return n.x}
function ui(n){return n.y}
function ii(n,t,r){n.y0=t,n.y=r}
function oi(n){return Bo.range(n.length)}
function ai(n){for(var t=-1,r=n[0].length,e=[];++t<r;)
e[t]=0;return e}
function ci(n){for(var t,r=1,e=0,u=n[0][1],i=n.length;i>r;++r)
(t=n[r][1])>u&&(e=r,u=t);return e}
function si(n){return n.reduce(li,0)}
function li(n,t){return n+t[1]}
function fi(n,t){return hi(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}
function hi(n,t){for(var r=-1,e=+n[0],u=(n[1]-e)/t,i=[];++r<=t;)
i[r]=u*r+e;return i}
function gi(n){return[Bo.min(n),Bo.max(n)]}
function pi(n,t){return n.value-t.value}
function vi(n,t){var r=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=r,r._pack_prev=t}
function di(n,t){n._pack_next=t,t._pack_prev=n}
function mi(n,t){var r=t.x-n.x,e=t.y-n.y,u=n.r+t.r;return.999*u*u>r*r+e*e}
function yi(n){function t(n){l=Math.min(n.x-n.r,l),f=Math.max(n.x+n.r,f),h=Math.min(n.y-n.r,h),g=Math.max(n.y+n.r,g)}
if((r=n.children)&&(s=r.length)){var r,e,u,i,o,a,c,s,l=1/0,f=-1/0,h=1/0,g=-1/0;if(r.forEach(xi),e=r[0],e.x=-e.r,e.y=0,t(e),s>1&&(u=r[1],u.x=u.r,u.y=0,t(u),s>2))
for(i=r[2],bi(e,u,i),t(i),vi(e,i),e._pack_prev=i,vi(i,u),u=e._pack_next,o=3;s>o;o++){bi(e,u,i=r[o]);var p=0,v=1,d=1;for(a=u._pack_next;a!==u;a=a._pack_next,v++)
if(mi(a,i)){p=1;break}
if(1==p)
for(c=e._pack_prev;c!==a._pack_prev&&!mi(c,i);c=c._pack_prev,d++);p?(d>v||v==d&&u.r<e.r?di(e,u=a):di(e=c,u),o--):(vi(e,i),u=i,t(i))}
var m=(l+f)/2,y=(h+g)/2,x=0;for(o=0;s>o;o++)
i=r[o],i.x-=m,i.y-=y,x=Math.max(x,i.r+Math.sqrt(i.x*i.x+i.y*i.y));n.r=x,r.forEach(Mi)}}
function xi(n){n._pack_next=n._pack_prev=n}
function Mi(n){delete n._pack_next,delete n._pack_prev}
function _i(n,t,r,e){var u=n.children;if(n.x=t+=e*n.x,n.y=r+=e*n.y,n.r*=e,u)
for(var i=-1,o=u.length;++i<o;)
_i(u[i],t,r,e)}
function bi(n,t,r){var e=n.r+r.r,u=t.x-n.x,i=t.y-n.y;if(e&&(u||i)){var o=t.r+r.r,a=u*u+i*i;o*=o,e*=e;var c=.5+(e-o)/(2*a),s=Math.sqrt(Math.max(0,2*o*(e+a)-(e-=a)*e-o*o))/(2*a);r.x=n.x+c*u+s*i,r.y=n.y+c*i-s*u}else
r.x=n.x+e,r.y=n.y}
function wi(n,t){return n.parent==t.parent?1:2}
function Si(n){var t=n.children;return t.length?t[0]:n.t}
function ki(n){var t,r=n.children;return(t=r.length)?r[t-1]:n.t}
function Ei(n,t,r){var e=r/(t.i-n.i);t.c-=e,t.s+=r,n.c+=e,t.z+=r,t.m+=r}
function Ai(n){for(var t,r=0,e=0,u=n.children,i=u.length;--i>=0;)
t=u[i],t.z+=r,t.m+=r,r+=t.s+(e+=t.c)}
function Ci(n,t,r){return n.a.parent===t.parent?n.a:r}
function Ni(n){return 1+Bo.max(n,function(n){return n.y})}
function zi(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}
function Li(n){var t=n.children;return t&&t.length?Li(t[0]):n}
function Ti(n){var t,r=n.children;return r&&(t=r.length)?Ti(r[t-1]):n}
function qi(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}
function Ri(n,t){var r=n.x+t[3],e=n.y+t[0],u=n.dx-t[1]-t[3],i=n.dy-t[0]-t[2];return 0>u&&(r+=u/2,u=0),0>i&&(e+=i/2,i=0),{x:r,y:e,dx:u,dy:i}}
function Di(n){var t=n[0],r=n[n.length-1];return r>t?[t,r]:[r,t]}
function Pi(n){return n.rangeExtent?n.rangeExtent():Di(n.range())}
function Ui(n,t,r,e){var u=r(n[0],n[1]),i=e(t[0],t[1]);return function(n){return i(u(n))}}
function ji(n,t){var r,e=0,u=n.length-1,i=n[e],o=n[u];return i>o&&(r=e,e=u,u=r,r=i,i=o,o=r),n[e]=t.floor(i),n[u]=t.ceil(o),n}
function Hi(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:hs}
function Fi(n,t,r,e){var u=[],i=[],o=0,a=Math.min(n.length,t.length)-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=a;)
u.push(r(n[o-1],n[o])),i.push(e(t[o-1],t[o]));return function(t){var r=Bo.bisect(n,t,1,a)-1;return i[r](u[r](t))}}
function Oi(n,t,r,e){function u(){var u=Math.min(n.length,t.length)>2?Fi:Ui,c=e?Ou:Fu;return o=u(n,t,c,r),a=u(t,n,c,du),i}
function i(n){return o(n)}
var o,a;return i.invert=function(n){return a(n)},i.domain=function(t){return arguments.length?(n=t.map(Number),u()):n},i.range=function(n){return arguments.length?(t=n,u()):t},i.rangeRound=function(n){return i.range(n).interpolate(Ru)},i.clamp=function(n){return arguments.length?(e=n,u()):e},i.interpolate=function(n){return arguments.length?(r=n,u()):r},i.ticks=function(t){return Vi(n,t)},i.tickFormat=function(t,r){return $i(n,t,r)},i.nice=function(t){return Yi(n,t),u()},i.copy=function(){return Oi(n,t,r,e)},u()}
function Ii(n,t){return Bo.rebind(n,t,"range","rangeRound","interpolate","clamp")}
function Yi(n,t){return ji(n,Hi(Zi(n,t)[2]))}
function Zi(n,t){null==t&&(t=10);var r=Di(n),e=r[1]-r[0],u=Math.pow(10,Math.floor(Math.log(e/t)/Math.LN10)),i=t/e*u;return.15>=i?u*=10:.35>=i?u*=5:.75>=i&&(u*=2),r[0]=Math.ceil(r[0]/u)*u,r[1]=Math.floor(r[1]/u)*u+.5*u,r[2]=u,r}
function Vi(n,t){return Bo.range.apply(Bo,Zi(n,t))}
function $i(n,t,r){var e=Zi(n,t);if(r){var u=nc.exec(r);if(u.shift(),"s"===u[8]){var i=Bo.formatPrefix(Math.max(ca(e[0]),ca(e[1])));return u[7]||(u[7]="."+Xi(i.scale(e[2]))),u[8]="f",r=Bo.format(u.join("")),function(n){return r(i.scale(n))+i.symbol}}
u[7]||(u[7]="."+Bi(u[8],e)),r=u.join("")}else
r=",."+Xi(e[2])+"f";return Bo.format(r)}
function Xi(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}
function Bi(n,t){var r=Xi(t[2]);return n in gs?Math.abs(r-Xi(Math.max(ca(t[0]),ca(t[1]))))++("e"!==n):r-2*("%"===n)}
function Ji(n,t,r,e){function u(n){return(r?Math.log(0>n?0:n):-Math.log(n>0?0:-n))/Math.log(t)}
function i(n){return r?Math.pow(t,n):-Math.pow(t,-n)}
function o(t){return n(u(t))}
return o.invert=function(t){return i(n.invert(t))},o.domain=function(t){return arguments.length?(r=t[0]>=0,n.domain((e=t.map(Number)).map(u)),o):e},o.base=function(r){return arguments.length?(t=+r,n.domain(e.map(u)),o):t},o.nice=function(){var t=ji(e.map(u),r?Math:vs);return n.domain(t),e=t.map(i),o},o.ticks=function(){var n=Di(e),o=[],a=n[0],c=n[1],s=Math.floor(u(a)),l=Math.ceil(u(c)),f=t%1?2:t;if(isFinite(l-s)){if(r){for(;l>s;s++)
for(var h=1;f>h;h++)
o.push(i(s)*h);o.push(i(s))}else
for(o.push(i(s));s++<l;)
for(var h=f-1;h>0;h--)
o.push(i(s)*h);for(s=0;o[s]<a;s++);for(l=o.length;o[l-1]>c;l--);o=o.slice(s,l)}
return o},o.tickFormat=function(n,t){if(!arguments.length)
return ps;arguments.length<2?t=ps:"function"!=typeof t&&(t=Bo.format(t));var e,a=Math.max(.1,n/o.ticks().length),c=r?(e=1e-12,Math.ceil):(e=-1e-12,Math.floor);return function(n){return n/i(c(u(n)+e))<=a?t(n):""}},o.copy=function(){return Ji(n.copy(),t,r,e)},Ii(o,n)}
function Wi(n,t,r){function e(t){return n(u(t))}
var u=Gi(t),i=Gi(1/t);return e.invert=function(t){return i(n.invert(t))},e.domain=function(t){return arguments.length?(n.domain((r=t.map(Number)).map(u)),e):r},e.ticks=function(n){return Vi(r,n)},e.tickFormat=function(n,t){return $i(r,n,t)},e.nice=function(n){return e.domain(Yi(r,n))},e.exponent=function(o){return arguments.length?(u=Gi(t=o),i=Gi(1/t),n.domain(r.map(u)),e):t},e.copy=function(){return Wi(n.copy(),t,r)},Ii(e,n)}
function Gi(n){return function(t){return 0>t?-Math.pow(-t,n):Math.pow(t,n)}}
function Ki(n,t){function r(r){return i[((u.get(r)||("range"===t.t?u.set(r,n.push(r)):0/0))-1)%i.length]}
function e(t,r){return Bo.range(n.length).map(function(n){return t+r*n})}
var u,i,a;return r.domain=function(e){if(!arguments.length)
return n;n=[],u=new o;for(var i,a=-1,c=e.length;++a<c;)
u.has(i=e[a])||u.set(i,n.push(i));return r[t.t].apply(r,t.a)},r.range=function(n){return arguments.length?(i=n,a=0,t={t:"range",a:arguments},r):i},r.rangePoints=function(u,o){arguments.length<2&&(o=0);var c=u[0],s=u[1],l=(s-c)/(Math.max(1,n.length-1)+o);return i=e(n.length<2?(c+s)/2:c+l*o/2,l),a=0,t={t:"rangePoints",a:arguments},r},r.rangeBands=function(u,o,c){arguments.length<2&&(o=0),arguments.length<3&&(c=o);var s=u[1]<u[0],l=u[s-0],f=u[1-s],h=(f-l)/(n.length-o+2*c);return i=e(l+h*c,h),s&&i.reverse(),a=h*(1-o),t={t:"rangeBands",a:arguments},r},r.rangeRoundBands=function(u,o,c){arguments.length<2&&(o=0),arguments.length<3&&(c=o);var s=u[1]<u[0],l=u[s-0],f=u[1-s],h=Math.floor((f-l)/(n.length-o+2*c)),g=f-l-(n.length-o)*h;return i=e(l+Math.round(g/2),h),s&&i.reverse(),a=Math.round(h*(1-o)),t={t:"rangeRoundBands",a:arguments},r},r.rangeBand=function(){return a},r.rangeExtent=function(){return Di(t.a[0])},r.copy=function(){return Ki(n,t)},r.domain(n)}
function Qi(r,e){function u(){var n=0,t=e.length;for(o=[];++n<t;)
o[n-1]=Bo.quantile(r,n/t);return i}
function i(n){return isNaN(n=+n)?void 0:e[Bo.bisect(o,n)]}
var o;return i.domain=function(e){return arguments.length?(r=e.filter(t).sort(n),u()):r},i.range=function(n){return arguments.length?(e=n,u()):e},i.quantiles=function(){return o},i.invertExtent=function(n){return n=e.indexOf(n),0>n?[0/0,0/0]:[n>0?o[n-1]:r[0],n<o.length?o[n]:r[r.length-1]]},i.copy=function(){return Qi(r,e)},u()}
function no(n,t,r){function e(t){return r[Math.max(0,Math.min(o,Math.floor(i*(t-n))))]}
function u(){return i=r.length/(t-n),o=r.length-1,e}
var i,o;return e.domain=function(r){return arguments.length?(n=+r[0],t=+r[r.length-1],u()):[n,t]},e.range=function(n){return arguments.length?(r=n,u()):r},e.invertExtent=function(t){return t=r.indexOf(t),t=0>t?0/0:t/i+n,[t,t+1/i]},e.copy=function(){return no(n,t,r)},u()}
function to(n,t){function r(r){return r>=r?t[Bo.bisect(n,r)]:void 0}
return r.domain=function(t){return arguments.length?(n=t,r):n},r.range=function(n){return arguments.length?(t=n,r):t},r.invertExtent=function(r){return r=t.indexOf(r),[n[r-1],n[r]]},r.copy=function(){return to(n,t)},r}
function ro(n){function t(n){return+n}
return t.invert=t,t.domain=t.range=function(r){return arguments.length?(n=r.map(t),t):n},t.ticks=function(t){return Vi(n,t)},t.tickFormat=function(t,r){return $i(n,t,r)},t.copy=function(){return ro(n)},t}
function eo(n){return n.innerRadius}
function uo(n){return n.outerRadius}
function io(n){return n.startAngle}
function oo(n){return n.endAngle}
function ao(n){function t(t){function o(){s.push("M",i(n(l),a))}
for(var c,s=[],l=[],f=-1,h=t.length,g=Et(r),p=Et(e);++f<h;)
u.call(this,c=t[f],f)?l.push([+g.call(this,c,f),+p.call(this,c,f)]):l.length&&(o(),l=[]);return l.length&&o(),s.length?s.join(""):null}
var r=Ae,e=Ce,u=Ar,i=co,o=i.key,a=.7;return t.x=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(e=n,t):e},t.defined=function(n){return arguments.length?(u=n,t):u},t.interpolate=function(n){return arguments.length?(o="function"==typeof n?i=n:(i=bs.get(n)||co).key,t):o},t.tension=function(n){return arguments.length?(a=n,t):a},t}
function co(n){return n.join("L")}
function so(n){return co(n)+"Z"}
function lo(n){for(var t=0,r=n.length,e=n[0],u=[e[0],",",e[1]];++t<r;)
u.push("H",(e[0]+(e=n[t])[0])/2,"V",e[1]);return r>1&&u.push("H",e[0]),u.join("")}
function fo(n){for(var t=0,r=n.length,e=n[0],u=[e[0],",",e[1]];++t<r;)
u.push("V",(e=n[t])[1],"H",e[0]);return u.join("")}
function ho(n){for(var t=0,r=n.length,e=n[0],u=[e[0],",",e[1]];++t<r;)
u.push("H",(e=n[t])[0],"V",e[1]);return u.join("")}
function go(n,t){return n.length<4?co(n):n[1]+mo(n.slice(1,n.length-1),yo(n,t))}
function po(n,t){return n.length<3?co(n):n[0]+mo((n.push(n[0]),n),yo([n[n.length-2]].concat(n,[n[1]]),t))}
function vo(n,t){return n.length<3?co(n):n[0]+mo(n,yo(n,t))}
function mo(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)
return co(n);var r=n.length!=t.length,e="",u=n[0],i=n[1],o=t[0],a=o,c=1;if(r&&(e+="Q"+(i[0]-2*o[0]/3)+","+(i[1]-2*o[1]/3)+","+i[0]+","+i[1],u=n[1],c=2),t.length>1){a=t[1],i=n[c],c++,e+="C"+(u[0]+o[0])+","+(u[1]+o[1])+","+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1];for(var s=2;s<t.length;s++,c++)
i=n[c],a=t[s],e+="S"+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1]}
if(r){var l=n[c];e+="Q"+(i[0]+2*a[0]/3)+","+(i[1]+2*a[1]/3)+","+l[0]+","+l[1]}
return e}
function yo(n,t){for(var r,e=[],u=(1-t)/2,i=n[0],o=n[1],a=1,c=n.length;++a<c;)
r=i,i=o,o=n[a],e.push([u*(o[0]-r[0]),u*(o[1]-r[1])]);return e}
function xo(n){if(n.length<3)
return co(n);var t=1,r=n.length,e=n[0],u=e[0],i=e[1],o=[u,u,u,(e=n[1])[0]],a=[i,i,i,e[1]],c=[u,",",i,"L",wo(ks,o),",",wo(ks,a)];for(n.push(n[r-1]);++t<=r;)
e=n[t],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),So(c,o,a);return n.pop(),c.push("L",e),c.join("")}
function Mo(n){if(n.length<4)
return co(n);for(var t,r=[],e=-1,u=n.length,i=[0],o=[0];++e<3;)
t=n[e],i.push(t[0]),o.push(t[1]);for(r.push(wo(ks,i)+","+wo(ks,o)),--e;++e<u;)
t=n[e],i.shift(),i.push(t[0]),o.shift(),o.push(t[1]),So(r,i,o);return r.join("")}
function _o(n){for(var t,r,e=-1,u=n.length,i=u+4,o=[],a=[];++e<4;)
r=n[e%u],o.push(r[0]),a.push(r[1]);for(t=[wo(ks,o),",",wo(ks,a)],--e;++e<i;)
r=n[e%u],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),So(t,o,a);return t.join("")}
function bo(n,t){var r=n.length-1;if(r)
for(var e,u,i=n[0][0],o=n[0][1],a=n[r][0]-i,c=n[r][1]-o,s=-1;++s<=r;)
e=n[s],u=s/r,e[0]=t*e[0]+(1-t)*(i+u*a),e[1]=t*e[1]+(1-t)*(o+u*c);return xo(n)}
function wo(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}
function So(n,t,r){n.push("C",wo(ws,t),",",wo(ws,r),",",wo(Ss,t),",",wo(Ss,r),",",wo(ks,t),",",wo(ks,r))}
function ko(n,t){return(t[1]-n[1])/(t[0]-n[0])}
function Eo(n){for(var t=0,r=n.length-1,e=[],u=n[0],i=n[1],o=e[0]=ko(u,i);++t<r;)
e[t]=(o+(o=ko(u=i,i=n[t+1])))/2;return e[t]=o,e}
function Ao(n){for(var t,r,e,u,i=[],o=Eo(n),a=-1,c=n.length-1;++a<c;)
t=ko(n[a],n[a+1]),ca(t)<Ca?o[a]=o[a+1]=0:(r=o[a]/t,e=o[a+1]/t,u=r*r+e*e,u>9&&(u=3*t/Math.sqrt(u),o[a]=u*r,o[a+1]=u*e));for(a=-1;++a<=c;)
u=(n[Math.min(c,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),i.push([u||0,o[a]*u||0]);return i}
function Co(n){return n.length<3?co(n):n[0]+mo(n,Ao(n))}
function No(n){for(var t,r,e,u=-1,i=n.length;++u<i;)
t=n[u],r=t[0],e=t[1]+Ms,t[0]=r*Math.cos(e),t[1]=r*Math.sin(e);return n}
function zo(n){function t(t){function c(){v.push("M",a(n(m),f),l,s(n(d.reverse()),f),"Z")}
for(var h,g,p,v=[],d=[],m=[],y=-1,x=t.length,M=Et(r),_=Et(u),b=r===e?function(){return g}:Et(e),w=u===i?function(){return p}:Et(i);++y<x;)
o.call(this,h=t[y],y)?(d.push([g=+M.call(this,h,y),p=+_.call(this,h,y)]),m.push([+b.call(this,h,y),+w.call(this,h,y)])):d.length&&(c(),d=[],m=[]);return d.length&&c(),v.length?v.join(""):null}
var r=Ae,e=Ae,u=0,i=Ce,o=Ar,a=co,c=a.key,s=a,l="L",f=.7;return t.x=function(n){return arguments.length?(r=e=n,t):e},t.x0=function(n){return arguments.length?(r=n,t):r},t.x1=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(u=i=n,t):i},t.y0=function(n){return arguments.length?(u=n,t):u},t.y1=function(n){return arguments.length?(i=n,t):i},t.defined=function(n){return arguments.length?(o=n,t):o},t.interpolate=function(n){return arguments.length?(c="function"==typeof n?a=n:(a=bs.get(n)||co).key,s=a.reverse||a,l=a.closed?"M":"L",t):c},t.tension=function(n){return arguments.length?(f=n,t):f},t}
function Lo(n){return n.radius}
function To(n){return[n.x,n.y]}
function qo(n){return function(){var t=n.apply(this,arguments),r=t[0],e=t[1]+Ms;return[r*Math.cos(e),r*Math.sin(e)]}}
function Ro(){return 64}
function Do(){return"circle"}
function Po(n){var t=Math.sqrt(n/ka);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}
function Uo(n,t){return ga(n,Ls),n.id=t,n}
function jo(n,t,r,e){var u=n.id;return P(n,"function"==typeof r?function(n,i,o){n.__transition__[u].tween.set(t,e(r.call(n,n.__data__,i,o)))}:(r=e(r),function(n){n.__transition__[u].tween.set(t,r)}))}
function Ho(n){return null==n&&(n=""),function(){this.textContent=n}}
function Fo(n,t,r,e){var u=n.__transition__||(n.__transition__={active:0,count:0}),i=u[r];if(!i){var a=e.time;i=u[r]={tween:new o,time:a,ease:e.ease,delay:e.delay,duration:e.duration},++u.count,Bo.timer(function(e){function o(e){return u.active>r?s():(u.active=r,i.event&&i.event.start.call(n,l,t),i.tween.forEach(function(r,e){(e=e.call(n,l,t))&&v.push(e)}),Bo.timer(function(){return p.c=c(e||1)?Ar:c,1},0,a),void 0)}
function c(e){if(u.active!==r)
return s();for(var o=e/g,a=f(o),c=v.length;c>0;)
v[--c].call(n,a);return o>=1?(i.event&&i.event.end.call(n,l,t),s()):void 0}
function s(){return--u.count?delete u[r]:delete n.__transition__,1}
var l=n.__data__,f=i.ease,h=i.delay,g=i.duration,p=Ga,v=[];return p.t=h+a,e>=h?o(e-h):(p.c=o,void 0)},0,a)}}
function Oo(n,t){n.attr("transform",function(n){return"translate("+t(n)+",0)"})}
function Io(n,t){n.attr("transform",function(n){return"translate(0,"+t(n)+")"})}
function Yo(n){return n.toISOString()}
function Zo(n,t,r){function e(t){return n(t)}
function u(n,r){var e=n[1]-n[0],u=e/r,i=Bo.bisect(Fs,u);return i==Fs.length?[t.year,Zi(n.map(function(n){return n/31536e6}),r)[2]]:i?t[u/Fs[i-1]<Fs[i]/u?i-1:i]:[Ys,Zi(n,r)[2]]}
return e.invert=function(t){return Vo(n.invert(t))},e.domain=function(t){return arguments.length?(n.domain(t),e):n.domain().map(Vo)},e.nice=function(n,t){function r(r){return!isNaN(r)&&!n.range(r,Vo(+r+1),t).length}
var i=e.domain(),o=Di(i),a=null==n?u(o,10):"number"==typeof n&&u(o,n);return a&&(n=a[0],t=a[1]),e.domain(ji(i,t>1?{floor:function(t){for(;r(t=n.floor(t));)
t=Vo(t-1);return t},ceil:function(t){for(;r(t=n.ceil(t));)
t=Vo(+t+1);return t}}:n))},e.ticks=function(n,t){var r=Di(e.domain()),i=null==n?u(r,10):"number"==typeof n?u(r,n):!n.range&&[{range:n},t];return i&&(n=i[0],t=i[1]),n.range(r[0],Vo(+r[1]+1),1>t?1:t)},e.tickFormat=function(){return r},e.copy=function(){return Zo(n.copy(),t,r)},Ii(e,n)}
function Vo(n){return new Date(n)}
function $o(n){return JSON.parse(n.responseText)}
function Xo(n){var t=Go.createRange();return t.selectNode(Go.body),t.createContextualFragment(n.responseText)}
var Bo={version:"3.4.8"};Date.now||(Date.now=function(){return+new Date});var Jo=[].slice,Wo=function(n){return Jo.call(n)},Go=document,Ko=Go.documentElement,Qo=window;try{Wo(Ko.childNodes)[0].nodeType}catch(na){Wo=function(n){for(var t=n.length,r=new Array(t);t--;)
r[t]=n[t];return r}}
try{Go.createElement("div").style.setProperty("opacity",0,"")}catch(ta){var ra=Qo.Element.prototype,ea=ra.setAttribute,ua=ra.setAttributeNS,ia=Qo.CSSStyleDeclaration.prototype,oa=ia.setProperty;ra.setAttribute=function(n,t){ea.call(this,n,t+"")},ra.setAttributeNS=function(n,t,r){ua.call(this,n,t,r+"")},ia.setProperty=function(n,t,r){oa.call(this,n,t+"",r)}}
Bo.ascending=n,Bo.descending=function(n,t){return n>t?-1:t>n?1:t>=n?0:0/0},Bo.min=function(n,t){var r,e,u=-1,i=n.length;if(1===arguments.length){for(;++u<i&&!(null!=(r=n[u])&&r>=r);)
r=void 0;for(;++u<i;)
null!=(e=n[u])&&r>e&&(r=e)}else{for(;++u<i&&!(null!=(r=t.call(n,n[u],u))&&r>=r);)
r=void 0;for(;++u<i;)
null!=(e=t.call(n,n[u],u))&&r>e&&(r=e)}
return r},Bo.max=function(n,t){var r,e,u=-1,i=n.length;if(1===arguments.length){for(;++u<i&&!(null!=(r=n[u])&&r>=r);)
r=void 0;for(;++u<i;)
null!=(e=n[u])&&e>r&&(r=e)}else{for(;++u<i&&!(null!=(r=t.call(n,n[u],u))&&r>=r);)
r=void 0;for(;++u<i;)
null!=(e=t.call(n,n[u],u))&&e>r&&(r=e)}
return r},Bo.extent=function(n,t){var r,e,u,i=-1,o=n.length;if(1===arguments.length){for(;++i<o&&!(null!=(r=u=n[i])&&r>=r);)
r=u=void 0;for(;++i<o;)
null!=(e=n[i])&&(r>e&&(r=e),e>u&&(u=e))}else{for(;++i<o&&!(null!=(r=u=t.call(n,n[i],i))&&r>=r);)
r=void 0;for(;++i<o;)
null!=(e=t.call(n,n[i],i))&&(r>e&&(r=e),e>u&&(u=e))}
return[r,u]},Bo.sum=function(n,t){var r,e=0,u=n.length,i=-1;if(1===arguments.length)
for(;++i<u;)
isNaN(r=+n[i])||(e+=r);else
for(;++i<u;)
isNaN(r=+t.call(n,n[i],i))||(e+=r);return e},Bo.mean=function(n,r){var e,u=0,i=n.length,o=-1,a=i;if(1===arguments.length)
for(;++o<i;)
t(e=n[o])?u+=e:--a;else
for(;++o<i;)
t(e=r.call(n,n[o],o))?u+=e:--a;return a?u/a:void 0},Bo.quantile=function(n,t){var r=(n.length-1)*t+1,e=Math.floor(r),u=+n[e-1],i=r-e;return i?u+i*(n[e]-u):u},Bo.median=function(r,e){return arguments.length>1&&(r=r.map(e)),r=r.filter(t),r.length?Bo.quantile(r.sort(n),.5):void 0};var aa=r(n);Bo.bisectLeft=aa.left,Bo.bisect=Bo.bisectRight=aa.right,Bo.bisector=function(t){return r(1===t.length?function(r,e){return n(t(r),e)}:t)},Bo.shuffle=function(n){for(var t,r,e=n.length;e;)
r=0|Math.random()*e--,t=n[e],n[e]=n[r],n[r]=t;return n},Bo.permute=function(n,t){for(var r=t.length,e=new Array(r);r--;)
e[r]=n[t[r]];return e},Bo.pairs=function(n){for(var t,r=0,e=n.length-1,u=n[0],i=new Array(0>e?0:e);e>r;)
i[r]=[t=u,u=n[++r]];return i},Bo.zip=function(){if(!(u=arguments.length))
return[];for(var n=-1,t=Bo.min(arguments,e),r=new Array(t);++n<t;)
for(var u,i=-1,o=r[n]=new Array(u);++i<u;)
o[i]=arguments[i][n];return r},Bo.transpose=function(n){return Bo.zip.apply(Bo,n)},Bo.keys=function(n){var t=[];for(var r in n)
t.push(r);return t},Bo.values=function(n){var t=[];for(var r in n)
t.push(n[r]);return t},Bo.entries=function(n){var t=[];for(var r in n)
t.push({key:r,value:n[r]});return t},Bo.merge=function(n){for(var t,r,e,u=n.length,i=-1,o=0;++i<u;)
o+=n[i].length;for(r=new Array(o);--u>=0;)
for(e=n[u],t=e.length;--t>=0;)
r[--o]=e[t];return r};var ca=Math.abs;Bo.range=function(n,t,r){if(arguments.length<3&&(r=1,arguments.length<2&&(t=n,n=0)),1/0===(t-n)/r)
throw new Error("infinite range");var e,i=[],o=u(ca(r)),a=-1;if(n*=o,t*=o,r*=o,0>r)
for(;(e=n+r*++a)>t;)
i.push(e/o);else
for(;(e=n+r*++a)<t;)
i.push(e/o);return i},Bo.map=function(n){var t=new o;if(n instanceof o)
n.forEach(function(n,r){t.set(n,r)});else
for(var r in n)
t.set(r,n[r]);return t},i(o,{has:a,get:function(n){return this[sa+n]},set:function(n,t){return this[sa+n]=t},remove:c,keys:s,values:function(){var n=[];return this.forEach(function(t,r){n.push(r)}),n},entries:function(){var n=[];return this.forEach(function(t,r){n.push({key:t,value:r})}),n},size:l,empty:f,forEach:function(n){for(var t in this)
t.charCodeAt(0)===la&&n.call(this,t.substring(1),this[t])}});var sa="\x00",la=sa.charCodeAt(0);Bo.nest=function(){function n(t,a,c){if(c>=i.length)
return e?e.call(u,a):r?a.sort(r):a;for(var s,l,f,h,g=-1,p=a.length,v=i[c++],d=new o;++g<p;)
(h=d.get(s=v(l=a[g])))?h.push(l):d.set(s,[l]);return t?(l=t(),f=function(r,e){l.set(r,n(t,e,c))}):(l={},f=function(r,e){l[r]=n(t,e,c)}),d.forEach(f),l}
function t(n,r){if(r>=i.length)
return n;var e=[],u=a[r++];return n.forEach(function(n,u){e.push({key:n,values:t(u,r)})}),u?e.sort(function(n,t){return u(n.key,t.key)}):e}
var r,e,u={},i=[],a=[];return u.map=function(t,r){return n(r,t,0)},u.entries=function(r){return t(n(Bo.map,r,0),0)},u.key=function(n){return i.push(n),u},u.sortKeys=function(n){return a[i.length-1]=n,u},u.sortValues=function(n){return r=n,u},u.rollup=function(n){return e=n,u},u},Bo.set=function(n){var t=new h;if(n)
for(var r=0,e=n.length;e>r;++r)
t.add(n[r]);return t},i(h,{has:a,add:function(n){return this[sa+n]=!0,n},remove:function(n){return n=sa+n,n in this&&delete this[n]},values:s,size:l,empty:f,forEach:function(n){for(var t in this)
t.charCodeAt(0)===la&&n.call(this,t.substring(1))}}),Bo.behavior={},Bo.rebind=function(n,t){for(var r,e=1,u=arguments.length;++e<u;)
n[r=arguments[e]]=g(n,t,t[r]);return n};var fa=["webkit","ms","moz","Moz","o","O"];Bo.dispatch=function(){for(var n=new d,t=-1,r=arguments.length;++t<r;)
n[arguments[t]]=m(n);return n},d.prototype.on=function(n,t){var r=n.indexOf("."),e="";if(r>=0&&(e=n.substring(r+1),n=n.substring(0,r)),n)
return arguments.length<2?this[n].on(e):this[n].on(e,t);if(2===arguments.length){if(null==t)
for(n in this)
this.hasOwnProperty(n)&&this[n].on(e,null);return this}},Bo.event=null,Bo.requote=function(n){return n.replace(ha,"\\$&")};var ha=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ga={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var r in t)
n[r]=t[r]},pa=function(n,t){return t.querySelector(n)},va=function(n,t){return t.querySelectorAll(n)},da=Ko[p(Ko,"matchesSelector")],ma=function(n,t){return da.call(n,t)};"function"==typeof Sizzle&&(pa=function(n,t){return Sizzle(n,t)[0]||null},va=Sizzle,ma=Sizzle.matchesSelector),Bo.selection=function(){return _a};var ya=Bo.selection.prototype=[];ya.select=function(n){var t,r,e,u,i=[];n=b(n);for(var o=-1,a=this.length;++o<a;){i.push(t=[]),t.parentNode=(e=this[o]).parentNode;for(var c=-1,s=e.length;++c<s;)
(u=e[c])?(t.push(r=n.call(u,u.__data__,c,o)),r&&"__data__"in u&&(r.__data__=u.__data__)):t.push(null)}
return _(i)},ya.selectAll=function(n){var t,r,e=[];n=w(n);for(var u=-1,i=this.length;++u<i;)
for(var o=this[u],a=-1,c=o.length;++a<c;)
(r=o[a])&&(e.push(t=Wo(n.call(r,r.__data__,a,u))),t.parentNode=r);return _(e)};var xa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Bo.ns={prefix:xa,qualify:function(n){var t=n.indexOf(":"),r=n;return t>=0&&(r=n.substring(0,t),n=n.substring(t+1)),xa.hasOwnProperty(r)?{space:xa[r],local:n}:n}},ya.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var r=this.node();return n=Bo.ns.qualify(n),n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}
for(t in n)
this.each(S(t,n[t]));return this}
return this.each(S(n,t))},ya.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var r=this.node(),e=(n=A(n)).length,u=-1;if(t=r.classList){for(;++u<e;)
if(!t.contains(n[u]))
return!1}else
for(t=r.getAttribute("class");++u<e;)
if(!E(n[u]).test(t))
return!1;return!0}
for(t in n)
this.each(C(t,n[t]));return this}
return this.each(C(n,t))},ya.style=function(n,t,r){var e=arguments.length;if(3>e){if("string"!=typeof n){2>e&&(t="");for(r in n)
this.each(z(r,n[r],t));return this}
if(2>e)
return Qo.getComputedStyle(this.node(),null).getPropertyValue(n);r=""}
return this.each(z(n,t,r))},ya.property=function(n,t){if(arguments.length<2){if("string"==typeof n)
return this.node()[n];for(t in n)
this.each(L(t,n[t]));return this}
return this.each(L(n,t))},ya.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},ya.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},ya.append=function(n){return n=T(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},ya.insert=function(n,t){return n=T(n),t=b(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},ya.remove=function(){return this.each(function(){var n=this.parentNode;n&&n.removeChild(this)})},ya.data=function(n,t){function r(n,r){var e,u,i,a=n.length,f=r.length,h=Math.min(a,f),g=new Array(f),p=new Array(f),v=new Array(a);if(t){var d,m=new o,y=new o,x=[];for(e=-1;++e<a;)
d=t.call(u=n[e],u.__data__,e),m.has(d)?v[e]=u:m.set(d,u),x.push(d);for(e=-1;++e<f;)
d=t.call(r,i=r[e],e),(u=m.get(d))?(g[e]=u,u.__data__=i):y.has(d)||(p[e]=q(i)),y.set(d,i),m.remove(d);for(e=-1;++e<a;)
m.has(x[e])&&(v[e]=n[e])}else{for(e=-1;++e<h;)
u=n[e],i=r[e],u?(u.__data__=i,g[e]=u):p[e]=q(i);for(;f>e;++e)
p[e]=q(r[e]);for(;a>e;++e)
v[e]=n[e]}
p.update=g,p.parentNode=g.parentNode=v.parentNode=n.parentNode,c.push(p),s.push(g),l.push(v)}
var e,u,i=-1,a=this.length;if(!arguments.length){for(n=new Array(a=(e=this[0]).length);++i<a;)
(u=e[i])&&(n[i]=u.__data__);return n}
var c=U([]),s=_([]),l=_([]);if("function"==typeof n)
for(;++i<a;)
r(e=this[i],n.call(e,e.parentNode.__data__,i));else
for(;++i<a;)
r(e=this[i],n);return s.enter=function(){return c},s.exit=function(){return l},s},ya.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},ya.filter=function(n){var t,r,e,u=[];"function"!=typeof n&&(n=R(n));for(var i=0,o=this.length;o>i;i++){u.push(t=[]),t.parentNode=(r=this[i]).parentNode;for(var a=0,c=r.length;c>a;a++)
(e=r[a])&&n.call(e,e.__data__,a,i)&&t.push(e)}
return _(u)},ya.order=function(){for(var n=-1,t=this.length;++n<t;)
for(var r,e=this[n],u=e.length-1,i=e[u];--u>=0;)
(r=e[u])&&(i&&i!==r.nextSibling&&i.parentNode.insertBefore(r,i),i=r);return this},ya.sort=function(n){n=D.apply(this,arguments);for(var t=-1,r=this.length;++t<r;)
this[t].sort(n);return this.order()},ya.each=function(n){return P(this,function(t,r,e){n.call(t,t.__data__,r,e)})},ya.call=function(n){var t=Wo(arguments);return n.apply(t[0]=this,t),this},ya.empty=function(){return!this.node()},ya.node=function(){for(var n=0,t=this.length;t>n;n++)
for(var r=this[n],e=0,u=r.length;u>e;e++){var i=r[e];if(i)
return i}
return null},ya.size=function(){var n=0;return this.each(function(){++n}),n};var Ma=[];Bo.selection.enter=U,Bo.selection.enter.prototype=Ma,Ma.append=ya.append,Ma.empty=ya.empty,Ma.node=ya.node,Ma.call=ya.call,Ma.size=ya.size,Ma.select=function(n){for(var t,r,e,u,i,o=[],a=-1,c=this.length;++a<c;){e=(u=this[a]).update,o.push(t=[]),t.parentNode=u.parentNode;for(var s=-1,l=u.length;++s<l;)
(i=u[s])?(t.push(e[s]=r=n.call(u.parentNode,i.__data__,s,a)),r.__data__=i.__data__):t.push(null)}
return _(o)},Ma.insert=function(n,t){return arguments.length<2&&(t=j(this)),ya.insert.call(this,n,t)},ya.transition=function(){for(var n,t,r=As||++Ts,e=[],u=Cs||{time:Date.now(),ease:wu,delay:0,duration:250},i=-1,o=this.length;++i<o;){e.push(n=[]);for(var a=this[i],c=-1,s=a.length;++c<s;)
(t=a[c])&&Fo(t,c,r,u),n.push(t)}
return Uo(e,r)},ya.interrupt=function(){return this.each(H)},Bo.select=function(n){var t=["string"==typeof n?pa(n,Go):n];return t.parentNode=Ko,_([t])},Bo.selectAll=function(n){var t=Wo("string"==typeof n?va(n,Go):n);return t.parentNode=Ko,_([t])};var _a=Bo.select(Ko);ya.on=function(n,t,r){var e=arguments.length;if(3>e){if("string"!=typeof n){2>e&&(t=!1);for(r in n)
this.each(F(r,n[r],t));return this}
if(2>e)
return(e=this.node()["__on"+n])&&e._;r=!1}
return this.each(F(n,t,r))};var ba=Bo.map({mouseenter:"mouseover",mouseleave:"mouseout"});ba.forEach(function(n){"on"+n in Go&&ba.remove(n)});var wa="onselectstart"in Go?null:p(Ko.style,"userSelect"),Sa=0;Bo.mouse=function(n){return Z(n,x())},Bo.touches=function(n,t){return arguments.length<2&&(t=x().touches),t?Wo(t).map(function(t){var r=Z(n,t);return r.identifier=t.identifier,r}):[]},Bo.behavior.drag=function(){function n(){this.on("mousedown.drag",u).on("touchstart.drag",i)}
function t(n,t,u,i,o){return function(){function a(){var n,r,e=t(h,v);e&&(n=e[0]-x[0],r=e[1]-x[1],p|=n|r,x=e,g({type:"drag",x:e[0]+s[0],y:e[1]+s[1],dx:n,dy:r}))}
function c(){t(h,v)&&(m.on(i+d,null).on(o+d,null),y(p&&Bo.event.target===f),g({type:"dragend"}))}
var s,l=this,f=Bo.event.target,h=l.parentNode,g=r.of(l,arguments),p=0,v=n(),d=".drag"+(null==v?"":"-"+v),m=Bo.select(u()).on(i+d,a).on(o+d,c),y=Y(),x=t(h,v);e?(s=e.apply(l,arguments),s=[s.x-x[0],s.y-x[1]]):s=[0,0],g({type:"dragstart"})}}
var r=M(n,"drag","dragstart","dragend"),e=null,u=t(v,Bo.mouse,X,"mousemove","mouseup"),i=t(V,Bo.touch,$,"touchmove","touchend");return n.origin=function(t){return arguments.length?(e=t,n):e},Bo.rebind(n,r,"on")};var ka=Math.PI,Ea=2*ka,Aa=ka/2,Ca=1e-6,Na=Ca*Ca,za=ka/180,La=180/ka,Ta=Math.SQRT2,qa=2,Ra=4;Bo.interpolateZoom=function(n,t){function r(n){var t=n*y;if(m){var r=Q(v),o=i/(qa*h)*(r*nt(Ta*t+v)-K(v));return[e+o*s,u+o*l,i*r/Q(Ta*t+v)]}
return[e+n*s,u+n*l,i*Math.exp(Ta*t)]}
var e=n[0],u=n[1],i=n[2],o=t[0],a=t[1],c=t[2],s=o-e,l=a-u,f=s*s+l*l,h=Math.sqrt(f),g=(c*c-i*i+Ra*f)/(2*i*qa*h),p=(c*c-i*i-Ra*f)/(2*c*qa*h),v=Math.log(Math.sqrt(g*g+1)-g),d=Math.log(Math.sqrt(p*p+1)-p),m=d-v,y=(m||Math.log(c/i))/Ta;return r.duration=1e3*y,r},Bo.behavior.zoom=function(){function n(n){n.on(A,s).on(Ua+".zoom",f).on(C,h).on("dblclick.zoom",g).on(z,l)}
function t(n){return[(n[0]-S.x)/S.k,(n[1]-S.y)/S.k]}
function r(n){return[n[0]*S.k+S.x,n[1]*S.k+S.y]}
function e(n){S.k=Math.max(E[0],Math.min(E[1],n))}
function u(n,t){t=r(t),S.x+=n[0]-t[0],S.y+=n[1]-t[1]}
function i(){_&&_.domain(x.range().map(function(n){return(n-S.x)/S.k}).map(x.invert)),w&&w.domain(b.range().map(function(n){return(n-S.y)/S.k}).map(b.invert))}
function o(n){n({type:"zoomstart"})}
function a(n){i(),n({type:"zoom",scale:S.k,translate:[S.x,S.y]})}
function c(n){n({type:"zoomend"})}
function s(){function n(){l=1,u(Bo.mouse(e),g),a(s)}
function r(){f.on(C,Qo===e?h:null).on(N,null),p(l&&Bo.event.target===i),c(s)}
var e=this,i=Bo.event.target,s=L.of(e,arguments),l=0,f=Bo.select(Qo).on(C,n).on(N,r),g=t(Bo.mouse(e)),p=Y();H.call(e),o(s)}
function l(){function n(){var n=Bo.touches(g);return h=S.k,n.forEach(function(n){n.identifier in v&&(v[n.identifier]=t(n))}),n}
function r(){var t=Bo.event.target;Bo.select(t).on(M,i).on(_,f),b.push(t);for(var r=Bo.event.changedTouches,o=0,c=r.length;c>o;++o)
v[r[o].identifier]=null;var s=n(),l=Date.now();if(1===s.length){if(500>l-m){var h=s[0],g=v[h.identifier];e(2*S.k),u(h,g),y(),a(p)}
m=l}else if(s.length>1){var h=s[0],x=s[1],w=h[0]-x[0],k=h[1]-x[1];d=w*w+k*k}}
function i(){for(var n,t,r,i,o=Bo.touches(g),c=0,s=o.length;s>c;++c,i=null)
if(r=o[c],i=v[r.identifier]){if(t)
break;n=r,t=i}
if(i){var l=(l=r[0]-n[0])*l+(l=r[1]-n[1])*l,f=d&&Math.sqrt(l/d);n=[(n[0]+r[0])/2,(n[1]+r[1])/2],t=[(t[0]+i[0])/2,(t[1]+i[1])/2],e(f*h)}
m=null,u(n,t),a(p)}
function f(){if(Bo.event.touches.length){for(var t=Bo.event.changedTouches,r=0,e=t.length;e>r;++r)
delete v[t[r].identifier];for(var u in v)
return void n()}
Bo.selectAll(b).on(x,null),w.on(A,s).on(z,l),k(),c(p)}
var h,g=this,p=L.of(g,arguments),v={},d=0,x=".zoom-"+Bo.event.changedTouches[0].identifier,M="touchmove"+x,_="touchend"+x,b=[],w=Bo.select(g).on(A,null).on(z,r),k=Y();H.call(g),r(),o(p)}
function f(){var n=L.of(this,arguments);d?clearTimeout(d):(H.call(this),o(n)),d=setTimeout(function(){d=null,c(n)},50),y();var r=v||Bo.mouse(this);p||(p=t(r)),e(Math.pow(2,.002*Da())*S.k),u(r,p),a(n)}
function h(){p=null}
function g(){var n=L.of(this,arguments),r=Bo.mouse(this),i=t(r),s=Math.log(S.k)/Math.LN2;o(n),e(Math.pow(2,Bo.event.shiftKey?Math.ceil(s)-1:Math.floor(s)+1)),u(r,i),a(n),c(n)}
var p,v,d,m,x,_,b,w,S={x:0,y:0,k:1},k=[960,500],E=Pa,A="mousedown.zoom",C="mousemove.zoom",N="mouseup.zoom",z="touchstart.zoom",L=M(n,"zoomstart","zoom","zoomend");return n.event=function(n){n.each(function(){var n=L.of(this,arguments),t=S;As?Bo.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},o(n)}).tween("zoom:zoom",function(){var r=k[0],e=k[1],u=r/2,i=e/2,o=Bo.interpolateZoom([(u-S.x)/S.k,(i-S.y)/S.k,r/S.k],[(u-t.x)/t.k,(i-t.y)/t.k,r/t.k]);return function(t){var e=o(t),c=r/e[2];this.__chart__=S={x:u-e[0]*c,y:i-e[1]*c,k:c},a(n)}}).each("end.zoom",function(){c(n)}):(this.__chart__=S,o(n),a(n),c(n))})},n.translate=function(t){return arguments.length?(S={x:+t[0],y:+t[1],k:S.k},i(),n):[S.x,S.y]},n.scale=function(t){return arguments.length?(S={x:S.x,y:S.y,k:+t},i(),n):S.k},n.scaleExtent=function(t){return arguments.length?(E=null==t?Pa:[+t[0],+t[1]],n):E},n.center=function(t){return arguments.length?(v=t&&[+t[0],+t[1]],n):v},n.size=function(t){return arguments.length?(k=t&&[+t[0],+t[1]],n):k},n.x=function(t){return arguments.length?(_=t,x=t.copy(),S={x:0,y:0,k:1},n):_},n.y=function(t){return arguments.length?(w=t,b=t.copy(),S={x:0,y:0,k:1},n):w},Bo.rebind(n,L,"on")};var Da,Pa=[0,1/0],Ua="onwheel"in Go?(Da=function(){return-Bo.event.deltaY*(Bo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Go?(Da=function(){return Bo.event.wheelDelta},"mousewheel"):(Da=function(){return-Bo.event.detail},"MozMousePixelScroll");rt.prototype.toString=function(){return this.rgb()+""},Bo.hsl=function(n,t,r){return 1===arguments.length?n instanceof ut?et(n.h,n.s,n.l):_t(""+n,bt,et):et(+n,+t,+r)};var ja=ut.prototype=new rt;ja.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),et(this.h,this.s,this.l/n)},ja.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),et(this.h,this.s,n*this.l)},ja.rgb=function(){return it(this.h,this.s,this.l)},Bo.hcl=function(n,t,r){return 1===arguments.length?n instanceof at?ot(n.h,n.c,n.l):n instanceof lt?ht(n.l,n.a,n.b):ht((n=wt((n=Bo.rgb(n)).r,n.g,n.b)).l,n.a,n.b):ot(+n,+t,+r)};var Ha=at.prototype=new rt;Ha.brighter=function(n){return ot(this.h,this.c,Math.min(100,this.l+Fa*(arguments.length?n:1)))},Ha.darker=function(n){return ot(this.h,this.c,Math.max(0,this.l-Fa*(arguments.length?n:1)))},Ha.rgb=function(){return ct(this.h,this.c,this.l).rgb()},Bo.lab=function(n,t,r){return 1===arguments.length?n instanceof lt?st(n.l,n.a,n.b):n instanceof at?ct(n.l,n.c,n.h):wt((n=Bo.rgb(n)).r,n.g,n.b):st(+n,+t,+r)};var Fa=18,Oa=.95047,Ia=1,Ya=1.08883,Za=lt.prototype=new rt;Za.brighter=function(n){return st(Math.min(100,this.l+Fa*(arguments.length?n:1)),this.a,this.b)},Za.darker=function(n){return st(Math.max(0,this.l-Fa*(arguments.length?n:1)),this.a,this.b)},Za.rgb=function(){return ft(this.l,this.a,this.b)},Bo.rgb=function(n,t,r){return 1===arguments.length?n instanceof xt?yt(n.r,n.g,n.b):_t(""+n,yt,it):yt(~~n,~~t,~~r)};var Va=xt.prototype=new rt;Va.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,r=this.g,e=this.b,u=30;return t||r||e?(t&&u>t&&(t=u),r&&u>r&&(r=u),e&&u>e&&(e=u),yt(Math.min(255,~~(t/n)),Math.min(255,~~(r/n)),Math.min(255,~~(e/n)))):yt(u,u,u)},Va.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),yt(~~(n*this.r),~~(n*this.g),~~(n*this.b))},Va.hsl=function(){return bt(this.r,this.g,this.b)},Va.toString=function(){return"#"+Mt(this.r)+Mt(this.g)+Mt(this.b)};var $a=Bo.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});$a.forEach(function(n,t){$a.set(n,dt(t))}),Bo.functor=Et,Bo.xhr=Ct(At),Bo.dsv=function(n,t){function r(n,r,i){arguments.length<3&&(i=r,r=null);var o=Nt(n,t,null==r?e:u(r),i);return o.row=function(n){return arguments.length?o.response(null==(r=n)?e:u(n)):r},o}
function e(n){return r.parse(n.responseText)}
function u(n){return function(t){return r.parse(t.responseText,n)}}
function i(t){return t.map(o).join(n)}
function o(n){return a.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}
var a=new RegExp('["'+n+"\n]"),c=n.charCodeAt(0);return r.parse=function(n,t){var e;return r.parseRows(n,function(n,r){if(e)
return e(n,r-1);var u=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");e=t?function(n,r){return t(u(n),r)}:u})},r.parseRows=function(n,t){function r(){if(l>=s)
return o;if(u)
return u=!1,i;var t=l;if(34===n.charCodeAt(t)){for(var r=t;r++<s;)
if(34===n.charCodeAt(r)){if(34!==n.charCodeAt(r+1))
break;++r}
l=r+2;var e=n.charCodeAt(r+1);return 13===e?(u=!0,10===n.charCodeAt(r+2)&&++l):10===e&&(u=!0),n.substring(t+1,r).replace(/""/g,'"')}
for(;s>l;){var e=n.charCodeAt(l++),a=1;if(10===e)
u=!0;else if(13===e)
u=!0,10===n.charCodeAt(l)&&(++l,++a);else if(e!==c)
continue;return n.substring(t,l-a)}
return n.substring(t)}
for(var e,u,i={},o={},a=[],s=n.length,l=0,f=0;(e=r())!==o;){for(var h=[];e!==i&&e!==o;)
h.push(e),e=r();(!t||(h=t(h,f++)))&&a.push(h)}
return a},r.format=function(t){if(Array.isArray(t[0]))
return r.formatRows(t);var e=new h,u=[];return t.forEach(function(n){for(var t in n)
e.has(t)||u.push(e.add(t))}),[u.map(o).join(n)].concat(t.map(function(t){return u.map(function(n){return o(t[n])}).join(n)})).join("\n")},r.formatRows=function(n){return n.map(i).join("\n")},r},Bo.csv=Bo.dsv(",","text/csv"),Bo.tsv=Bo.dsv(" ","text/tab-separated-values"),Bo.touch=function(n,t,r){if(arguments.length<3&&(r=t,t=x().changedTouches),t)
for(var e,u=0,i=t.length;i>u;++u)
if((e=t[u]).identifier===r)
return Z(n,e)};var Xa,Ba,Ja,Wa,Ga,Ka=Qo[p(Qo,"requestAnimationFrame")]||function(n){setTimeout(n,17)};Bo.timer=function(n,t,r){var e=arguments.length;2>e&&(t=0),3>e&&(r=Date.now());var u=r+t,i={c:n,t:u,f:!1,n:null};Ba?Ba.n=i:Xa=i,Ba=i,Ja||(Wa=clearTimeout(Wa),Ja=1,Ka(Lt))},Bo.timer.flush=function(){Tt(),qt()},Bo.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var Qa=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Dt);Bo.formatPrefix=function(n,t){var r=0;return n&&(0>n&&(n*=-1),t&&(n=Bo.round(n,Rt(n,t))),r=1+Math.floor(1e-12+Math.log(n)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),Qa[8+r/3]};var nc=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,tc=Bo.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=Bo.round(n,Rt(n,t))).toFixed(Math.max(0,Math.min(20,Rt(n*(1+1e-15),t))))}}),rc=Bo.time={},ec=Date;jt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){uc.setUTCDate.apply(this._,arguments)},setDay:function(){uc.setUTCDay.apply(this._,arguments)},setFullYear:function(){uc.setUTCFullYear.apply(this._,arguments)},setHours:function(){uc.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){uc.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){uc.setUTCMinutes.apply(this._,arguments)},setMonth:function(){uc.setUTCMonth.apply(this._,arguments)},setSeconds:function(){uc.setUTCSeconds.apply(this._,arguments)},setTime:function(){uc.setTime.apply(this._,arguments)}};var uc=Date.prototype;rc.year=Ht(function(n){return n=rc.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),rc.years=rc.year.range,rc.years.utc=rc.year.utc.range,rc.day=Ht(function(n){var t=new ec(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),rc.days=rc.day.range,rc.days.utc=rc.day.utc.range,rc.dayOfYear=function(n){var t=rc.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var r=rc[n]=Ht(function(n){return(n=rc.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var r=rc.year(n).getDay();return Math.floor((rc.dayOfYear(n)+(r+t)%7)/7)-(r!==t)});rc[n+"s"]=r.range,rc[n+"s"].utc=r.utc.range,rc[n+"OfYear"]=function(n){var r=rc.year(n).getDay();return Math.floor((rc.dayOfYear(n)+(r+t)%7)/7)}}),rc.week=rc.sunday,rc.weeks=rc.sunday.range,rc.weeks.utc=rc.sunday.utc.range,rc.weekOfYear=rc.sundayOfYear;var ic={"-":"",_:" ",0:"0"},oc=/^\s*\d+/,ac=/^%/;Bo.locale=function(n){return{numberFormat:Pt(n),timeFormat:Ot(n)}};var cc=Bo.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Bo.format=cc.numberFormat,Bo.geo={},cr.prototype={s:0,t:0,add:function(n){sr(n,this.t,sc),sr(sc.s,this.s,this),this.s?this.t+=sc.t:this.s=sc.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var sc=new cr;Bo.geo.stream=function(n,t){n&&lc.hasOwnProperty(n.type)?lc[n.type](n,t):lr(n,t)};var lc={Feature:function(n,t){lr(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,u=r.length;++e<u;)
lr(r[e].geometry,t)}},fc={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,u=r.length;++e<u;)
n=r[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){fr(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,u=r.length;++e<u;)
fr(r[e],t,0)},Polygon:function(n,t){hr(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,u=r.length;++e<u;)
hr(r[e],t)},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,u=r.length;++e<u;)
lr(r[e],t)}};Bo.geo.area=function(n){return hc=0,Bo.geo.stream(n,pc),hc};var hc,gc=new cr,pc={sphere:function(){hc+=4*ka},point:v,lineStart:v,lineEnd:v,polygonStart:function(){gc.reset(),pc.lineStart=gr},polygonEnd:function(){var n=2*gc;hc+=0>n?4*ka+n:n,pc.lineStart=pc.lineEnd=pc.point=v}};Bo.geo.bounds=function(){function n(n,t){x.push(M=[l=n,h=n]),f>t&&(f=t),t>g&&(g=t)}
function t(t,r){var e=pr([t*za,r*za]);if(m){var u=dr(m,e),i=[u[1],-u[0],0],o=dr(i,u);xr(o),o=Mr(o);var c=t-p,s=c>0?1:-1,v=o[0]*La*s,d=ca(c)>180;if(d^(v>s*p&&s*t>v)){var y=o[1]*La;y>g&&(g=y)}else if(v=(v+360)%360-180,d^(v>s*p&&s*t>v)){var y=-o[1]*La;f>y&&(f=y)}else
f>r&&(f=r),r>g&&(g=r);d?p>t?a(l,t)>a(l,h)&&(h=t):a(t,h)>a(l,h)&&(l=t):h>=l?(l>t&&(l=t),t>h&&(h=t)):t>p?a(l,t)>a(l,h)&&(h=t):a(t,h)>a(l,h)&&(l=t)}else
n(t,r);m=e,p=t}
function r(){_.point=t}
function e(){M[0]=l,M[1]=h,_.point=n,m=null}
function u(n,r){if(m){var e=n-p;y+=ca(e)>180?e+(e>0?360:-360):e}else
v=n,d=r;pc.point(n,r),t(n,r)}
function i(){pc.lineStart()}
function o(){u(v,d),pc.lineEnd(),ca(y)>Ca&&(l=-(h=180)),M[0]=l,M[1]=h,m=null}
function a(n,t){return(t-=n)<0?t+360:t}
function c(n,t){return n[0]-t[0]}
function s(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}
var l,f,h,g,p,v,d,m,y,x,M,_={point:n,lineStart:r,lineEnd:e,polygonStart:function(){_.point=u,_.lineStart=i,_.lineEnd=o,y=0,pc.polygonStart()},polygonEnd:function(){pc.polygonEnd(),_.point=n,_.lineStart=r,_.lineEnd=e,0>gc?(l=-(h=180),f=-(g=90)):y>Ca?g=90:-Ca>y&&(f=-90),M[0]=l,M[1]=h}};return function(n){g=h=-(l=f=1/0),x=[],Bo.geo.stream(n,_);var t=x.length;if(t){x.sort(c);for(var r,e=1,u=x[0],i=[u];t>e;++e)
r=x[e],s(r[0],u)||s(r[1],u)?(a(u[0],r[1])>a(u[0],u[1])&&(u[1]=r[1]),a(r[0],u[1])>a(u[0],u[1])&&(u[0]=r[0])):i.push(u=r);for(var o,r,p=-1/0,t=i.length-1,e=0,u=i[t];t>=e;u=r,++e)
r=i[e],(o=a(u[1],r[0]))>p&&(p=o,l=r[0],h=u[1])}
return x=M=null,1/0===l||1/0===f?[[0/0,0/0],[0/0,0/0]]:[[l,f],[h,g]]}}
(),Bo.geo.centroid=function(n){vc=dc=mc=yc=xc=Mc=_c=bc=wc=Sc=kc=0,Bo.geo.stream(n,Ec);var t=wc,r=Sc,e=kc,u=t*t+r*r+e*e;return Na>u&&(t=Mc,r=_c,e=bc,Ca>dc&&(t=mc,r=yc,e=xc),u=t*t+r*r+e*e,Na>u)?[0/0,0/0]:[Math.atan2(r,t)*La,G(e/Math.sqrt(u))*La]};var vc,dc,mc,yc,xc,Mc,_c,bc,wc,Sc,kc,Ec={sphere:v,point:br,lineStart:Sr,lineEnd:kr,polygonStart:function(){Ec.lineStart=Er},polygonEnd:function(){Ec.lineStart=Sr}},Ac=Lr(Ar,Pr,jr,[-ka,-ka/2]),Cc=1e9;Bo.geo.clipExtent=function(){var n,t,r,e,u,i,o={stream:function(n){return u&&(u.valid=!1),u=i(n),u.valid=!0,u},extent:function(a){return arguments.length?(i=Or(n=+a[0][0],t=+a[0][1],r=+a[1][0],e=+a[1][1]),u&&(u.valid=!1,u=null),o):[[n,t],[r,e]]}};return o.extent([[0,0],[960,500]])},(Bo.geo.conicEqualArea=function(){return Yr(Zr)}).raw=Zr,Bo.geo.albers=function(){return Bo.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Bo.geo.albersUsa=function(){function n(n){var i=n[0],o=n[1];return t=null,r(i,o),t||(e(i,o),t)||u(i,o),t}
var t,r,e,u,i=Bo.geo.albers(),o=Bo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=Bo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(n,r){t=[n,r]}};return n.invert=function(n){var t=i.scale(),r=i.translate(),e=(n[0]-r[0])/t,u=(n[1]-r[1])/t;return(u>=.12&&.234>u&&e>=-.425&&-.214>e?o:u>=.166&&.234>u&&e>=-.214&&-.115>e?a:i).invert(n)},n.stream=function(n){var t=i.stream(n),r=o.stream(n),e=a.stream(n);return{point:function(n,u){t.point(n,u),r.point(n,u),e.point(n,u)},sphere:function(){t.sphere(),r.sphere(),e.sphere()},lineStart:function(){t.lineStart(),r.lineStart(),e.lineStart()},lineEnd:function(){t.lineEnd(),r.lineEnd(),e.lineEnd()},polygonStart:function(){t.polygonStart(),r.polygonStart(),e.polygonStart()},polygonEnd:function(){t.polygonEnd(),r.polygonEnd(),e.polygonEnd()}}},n.precision=function(t){return arguments.length?(i.precision(t),o.precision(t),a.precision(t),n):i.precision()},n.scale=function(t){return arguments.length?(i.scale(t),o.scale(.35*t),a.scale(t),n.translate(i.translate())):i.scale()},n.translate=function(t){if(!arguments.length)
return i.translate();var s=i.scale(),l=+t[0],f=+t[1];return r=i.translate(t).clipExtent([[l-.455*s,f-.238*s],[l+.455*s,f+.238*s]]).stream(c).point,e=o.translate([l-.307*s,f+.201*s]).clipExtent([[l-.425*s+Ca,f+.12*s+Ca],[l-.214*s-Ca,f+.234*s-Ca]]).stream(c).point,u=a.translate([l-.205*s,f+.212*s]).clipExtent([[l-.214*s+Ca,f+.166*s+Ca],[l-.115*s-Ca,f+.234*s-Ca]]).stream(c).point,n},n.scale(1070)};var Nc,zc,Lc,Tc,qc,Rc,Dc={point:v,lineStart:v,lineEnd:v,polygonStart:function(){zc=0,Dc.lineStart=Vr},polygonEnd:function(){Dc.lineStart=Dc.lineEnd=Dc.point=v,Nc+=ca(zc/2)}},Pc={point:$r,lineStart:v,lineEnd:v,polygonStart:v,polygonEnd:v},Uc={point:Jr,lineStart:Wr,lineEnd:Gr,polygonStart:function(){Uc.lineStart=Kr},polygonEnd:function(){Uc.point=Jr,Uc.lineStart=Wr,Uc.lineEnd=Gr}};Bo.geo.path=function(){function n(n){return n&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=u(i)),Bo.geo.stream(n,o)),i.result()}
function t(){return o=null,n}
var r,e,u,i,o,a=4.5;return n.area=function(n){return Nc=0,Bo.geo.stream(n,u(Dc)),Nc},n.centroid=function(n){return mc=yc=xc=Mc=_c=bc=wc=Sc=kc=0,Bo.geo.stream(n,u(Uc)),kc?[wc/kc,Sc/kc]:bc?[Mc/bc,_c/bc]:xc?[mc/xc,yc/xc]:[0/0,0/0]},n.bounds=function(n){return qc=Rc=-(Lc=Tc=1/0),Bo.geo.stream(n,u(Pc)),[[Lc,Tc],[qc,Rc]]},n.projection=function(n){return arguments.length?(u=(r=n)?n.stream||te(n):At,t()):r},n.context=function(n){return arguments.length?(i=null==(e=n)?new Xr:new Qr(n),"function"!=typeof a&&i.pointRadius(a),t()):e},n.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(i.pointRadius(+t),+t),n):a},n.projection(Bo.geo.albersUsa()).context(null)},Bo.geo.transform=function(n){return{stream:function(t){var r=new re(t);for(var e in n)
r[e]=n[e];return r}}},re.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Bo.geo.projection=ue,Bo.geo.projectionMutator=ie,(Bo.geo.equirectangular=function(){return ue(ae)}).raw=ae.invert=ae,Bo.geo.rotation=function(n){function t(t){return t=n(t[0]*za,t[1]*za),t[0]*=La,t[1]*=La,t}
return n=se(n[0]%360*za,n[1]*za,n.length>2?n[2]*za:0),t.invert=function(t){return t=n.invert(t[0]*za,t[1]*za),t[0]*=La,t[1]*=La,t},t},ce.invert=ae,Bo.geo.circle=function(){function n(){var n="function"==typeof e?e.apply(this,arguments):e,t=se(-n[0]*za,-n[1]*za,0).invert,u=[];return r(null,null,1,{point:function(n,r){u.push(n=t(n,r)),n[0]*=La,n[1]*=La}}),{type:"Polygon",coordinates:[u]}}
var t,r,e=[0,0],u=6;return n.origin=function(t){return arguments.length?(e=t,n):e},n.angle=function(e){return arguments.length?(r=ge((t=+e)*za,u*za),n):t},n.precision=function(e){return arguments.length?(r=ge(t*za,(u=+e)*za),n):u},n.angle(90)},Bo.geo.distance=function(n,t){var r,e=(t[0]-n[0])*za,u=n[1]*za,i=t[1]*za,o=Math.sin(e),a=Math.cos(e),c=Math.sin(u),s=Math.cos(u),l=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((r=f*o)*r+(r=s*l-c*f*a)*r),c*l+s*f*a)},Bo.geo.graticule=function(){function n(){return{type:"MultiLineString",coordinates:t()}}
function t(){return Bo.range(Math.ceil(i/d)*d,u,d).map(h).concat(Bo.range(Math.ceil(s/m)*m,c,m).map(g)).concat(Bo.range(Math.ceil(e/p)*p,r,p).filter(function(n){return ca(n%d)>Ca}).map(l)).concat(Bo.range(Math.ceil(a/v)*v,o,v).filter(function(n){return ca(n%m)>Ca}).map(f))}
var r,e,u,i,o,a,c,s,l,f,h,g,p=10,v=p,d=90,m=360,y=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(g(c).slice(1),h(u).reverse().slice(1),g(s).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(i=+t[0][0],u=+t[1][0],s=+t[0][1],c=+t[1][1],i>u&&(t=i,i=u,u=t),s>c&&(t=s,s=c,c=t),n.precision(y)):[[i,s],[u,c]]},n.minorExtent=function(t){return arguments.length?(e=+t[0][0],r=+t[1][0],a=+t[0][1],o=+t[1][1],e>r&&(t=e,e=r,r=t),a>o&&(t=a,a=o,o=t),n.precision(y)):[[e,a],[r,o]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(d=+t[0],m=+t[1],n):[d,m]},n.minorStep=function(t){return arguments.length?(p=+t[0],v=+t[1],n):[p,v]},n.precision=function(t){return arguments.length?(y=+t,l=ve(a,o,90),f=de(e,r,y),h=ve(s,c,90),g=de(i,u,y),n):y},n.majorExtent([[-180,-90+Ca],[180,90-Ca]]).minorExtent([[-180,-80-Ca],[180,80+Ca]])},Bo.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[t||e.apply(this,arguments),r||u.apply(this,arguments)]}}
var t,r,e=me,u=ye;return n.distance=function(){return Bo.geo.distance(t||e.apply(this,arguments),r||u.apply(this,arguments))},n.source=function(r){return arguments.length?(e=r,t="function"==typeof r?null:r,n):e},n.target=function(t){return arguments.length?(u=t,r="function"==typeof t?null:t,n):u},n.precision=function(){return arguments.length?n:0},n},Bo.geo.interpolate=function(n,t){return xe(n[0]*za,n[1]*za,t[0]*za,t[1]*za)},Bo.geo.length=function(n){return jc=0,Bo.geo.stream(n,Hc),jc};var jc,Hc={sphere:v,point:v,lineStart:Me,lineEnd:v,polygonStart:v,polygonEnd:v},Fc=_e(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(Bo.geo.azimuthalEqualArea=function(){return ue(Fc)}).raw=Fc;var Oc=_e(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},At);(Bo.geo.azimuthalEquidistant=function(){return ue(Oc)}).raw=Oc,(Bo.geo.conicConformal=function(){return Yr(be)}).raw=be,(Bo.geo.conicEquidistant=function(){return Yr(we)}).raw=we;var Ic=_e(function(n){return 1/n},Math.atan);(Bo.geo.gnomonic=function(){return ue(Ic)}).raw=Ic,Se.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-Aa]},(Bo.geo.mercator=function(){return ke(Se)}).raw=Se;var Yc=_e(function(){return 1},Math.asin);(Bo.geo.orthographic=function(){return ue(Yc)}).raw=Yc;var Zc=_e(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(Bo.geo.stereographic=function(){return ue(Zc)}).raw=Zc,Ee.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-Aa]},(Bo.geo.transverseMercator=function(){var n=ke(Ee),t=n.center,r=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[-n[1],n[0]])},n.rotate=function(n){return n?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},n.rotate([0,0])}).raw=Ee,Bo.geom={},Bo.geom.hull=function(n){function t(n){if(n.length<3)
return[];var t,u=Et(r),i=Et(e),o=n.length,a=[],c=[];for(t=0;o>t;t++)
a.push([+u.call(this,n[t],t),+i.call(this,n[t],t),t]);for(a.sort(ze),t=0;o>t;t++)
c.push([a[t][0],-a[t][1]]);var s=Ne(a),l=Ne(c),f=l[0]===s[0],h=l[l.length-1]===s[s.length-1],g=[];for(t=s.length-1;t>=0;--t)
g.push(n[a[s[t]][2]]);for(t=+f;t<l.length-h;++t)
g.push(n[a[l[t]][2]]);return g}
var r=Ae,e=Ce;return arguments.length?t(n):(t.x=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(e=n,t):e},t)},Bo.geom.polygon=function(n){return ga(n,Vc),n};var Vc=Bo.geom.polygon.prototype=[];Vc.area=function(){for(var n,t=-1,r=this.length,e=this[r-1],u=0;++t<r;)
n=e,e=this[t],u+=n[1]*e[0]-n[0]*e[1];return.5*u},Vc.centroid=function(n){var t,r,e=-1,u=this.length,i=0,o=0,a=this[u-1];for(arguments.length||(n=-1/(6*this.area()));++e<u;)
t=a,a=this[e],r=t[0]*a[1]-a[0]*t[1],i+=(t[0]+a[0])*r,o+=(t[1]+a[1])*r;return[i*n,o*n]},Vc.clip=function(n){for(var t,r,e,u,i,o,a=qe(n),c=-1,s=this.length-qe(this),l=this[s-1];++c<s;){for(t=n.slice(),n.length=0,u=this[c],i=t[(e=t.length-a)-1],r=-1;++r<e;)
o=t[r],Le(o,l,u)?(Le(i,l,u)||n.push(Te(i,o,l,u)),n.push(o)):Le(i,l,u)&&n.push(Te(i,o,l,u)),i=o;a&&n.push(n[0]),l=u}
return n};var $c,Xc,Bc,Jc,Wc,Gc=[],Kc=[];Oe.prototype.prepare=function(){for(var n,t=this.edges,r=t.length;r--;)
n=t[r].edge,n.b&&n.a||t.splice(r,1);return t.sort(Ye),t.length},Qe.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nu.prototype={insert:function(n,t){var r,e,u;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)
n=n.L;n.L=t}else
n.R=t;r=n}else
this._?(n=uu(this._),t.P=null,t.N=n,n.P=n.L=t,r=n):(t.P=t.N=null,this._=t,r=null);for(t.L=t.R=null,t.U=r,t.C=!0,n=t;r&&r.C;)
e=r.U,r===e.L?(u=e.R,u&&u.C?(r.C=u.C=!1,e.C=!0,n=e):(n===r.R&&(ru(this,r),n=r,r=n.U),r.C=!1,e.C=!0,eu(this,e))):(u=e.L,u&&u.C?(r.C=u.C=!1,e.C=!0,n=e):(n===r.L&&(eu(this,r),n=r,r=n.U),r.C=!1,e.C=!0,ru(this,e))),r=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,r,e,u=n.U,i=n.L,o=n.R;if(r=i?o?uu(o):i:o,u?u.L===n?u.L=r:u.R=r:this._=r,i&&o?(e=r.C,r.C=n.C,r.L=i,i.U=r,r!==o?(u=r.U,r.U=n.U,n=r.R,u.L=n,r.R=o,o.U=r):(r.U=u,u=r,n=r.R)):(e=n.C,n=r),n&&(n.U=u),!e){if(n&&n.C)
return n.C=!1,void 0;do{if(n===this._)
break;if(n===u.L){if(t=u.R,t.C&&(t.C=!1,u.C=!0,ru(this,u),t=u.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,eu(this,t),t=u.R),t.C=u.C,u.C=t.R.C=!1,ru(this,u),n=this._;break}}else if(t=u.L,t.C&&(t.C=!1,u.C=!0,eu(this,u),t=u.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,ru(this,t),t=u.L),t.C=u.C,u.C=t.L.C=!1,eu(this,u),n=this._;break}
t.C=!0,n=u,u=u.U}while(!n.C);n&&(n.C=!1)}}},Bo.geom.voronoi=function(n){function t(n){var t=new Array(n.length),e=a[0][0],u=a[0][1],i=a[1][0],o=a[1][1];return iu(r(n),a).cells.forEach(function(r,a){var c=r.edges,s=r.site,l=t[a]=c.length?c.map(function(n){var t=n.start();return[t.x,t.y]}):s.x>=e&&s.x<=i&&s.y>=u&&s.y<=o?[[e,o],[i,o],[i,u],[e,u]]:[];l.point=n[a]}),t}
function r(n){return n.map(function(n,t){return{x:Math.round(i(n,t)/Ca)*Ca,y:Math.round(o(n,t)/Ca)*Ca,i:t}})}
var e=Ae,u=Ce,i=e,o=u,a=Qc;return n?t(n):(t.links=function(n){return iu(r(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},t.triangles=function(n){var t=[];return iu(r(n)).cells.forEach(function(r,e){for(var u,i,o=r.site,a=r.edges.sort(Ye),c=-1,s=a.length,l=a[s-1].edge,f=l.l===o?l.r:l.l;++c<s;)
u=l,i=f,l=a[c].edge,f=l.l===o?l.r:l.l,e<i.i&&e<f.i&&au(o,i,f)<0&&t.push([n[e],n[i.i],n[f.i]])}),t},t.x=function(n){return arguments.length?(i=Et(e=n),t):e},t.y=function(n){return arguments.length?(o=Et(u=n),t):u},t.clipExtent=function(n){return arguments.length?(a=null==n?Qc:n,t):a===Qc?null:a},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):a===Qc?null:a&&a[1]},t)};var Qc=[[-1e6,-1e6],[1e6,1e6]];Bo.geom.delaunay=function(n){return Bo.geom.voronoi().triangles(n)},Bo.geom.quadtree=function(n,t,r,e,u){function i(n){function i(n,t,r,e,u,i,o,a){if(!isNaN(r)&&!isNaN(e))
if(n.leaf){var c=n.x,l=n.y;if(null!=c)
if(ca(c-r)+ca(l-e)<.01)
s(n,t,r,e,u,i,o,a);else{var f=n.point;n.x=n.y=n.point=null,s(n,f,c,l,u,i,o,a),s(n,t,r,e,u,i,o,a)}
else
n.x=r,n.y=e,n.point=t}else
s(n,t,r,e,u,i,o,a)}
function s(n,t,r,e,u,o,a,c){var s=.5*(u+a),l=.5*(o+c),f=r>=s,h=e>=l,g=(h<<1)+f;n.leaf=!1,n=n.nodes[g]||(n.nodes[g]=lu()),f?u=s:a=s,h?o=l:c=l,i(n,t,r,e,u,o,a,c)}
var l,f,h,g,p,v,d,m,y,x=Et(a),M=Et(c);if(null!=t)
v=t,d=r,m=e,y=u;else if(m=y=-(v=d=1/0),f=[],h=[],p=n.length,o)
for(g=0;p>g;++g)
l=n[g],l.x<v&&(v=l.x),l.y<d&&(d=l.y),l.x>m&&(m=l.x),l.y>y&&(y=l.y),f.push(l.x),h.push(l.y);else
for(g=0;p>g;++g){var _=+x(l=n[g],g),b=+M(l,g);v>_&&(v=_),d>b&&(d=b),_>m&&(m=_),b>y&&(y=b),f.push(_),h.push(b)}
var w=m-v,S=y-d;w>S?y=d+w:m=v+S;var k=lu();if(k.add=function(n){i(k,n,+x(n,++g),+M(n,g),v,d,m,y)},k.visit=function(n){fu(n,k,v,d,m,y)},g=-1,null==t){for(;++g<p;)
i(k,n[g],f[g],h[g],v,d,m,y);--g}else
n.forEach(k.add);return f=h=n=l=null,k}
var o,a=Ae,c=Ce;return(o=arguments.length)?(a=cu,c=su,3===o&&(u=r,e=t,r=t=0),i(n)):(i.x=function(n){return arguments.length?(a=n,i):a},i.y=function(n){return arguments.length?(c=n,i):c},i.extent=function(n){return arguments.length?(null==n?t=r=e=u=null:(t=+n[0][0],r=+n[0][1],e=+n[1][0],u=+n[1][1]),i):null==t?null:[[t,r],[e,u]]},i.size=function(n){return arguments.length?(null==n?t=r=e=u=null:(t=r=0,e=+n[0],u=+n[1]),i):null==t?null:[e-t,u-r]},i)},Bo.interpolateRgb=hu,Bo.interpolateObject=gu,Bo.interpolateNumber=pu,Bo.interpolateString=vu;var ns=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ts=new RegExp(ns.source,"g");Bo.interpolate=du,Bo.interpolators=[function(n,t){var r=typeof t;return("string"===r?$a.has(t)||/^(#|rgb\(|hsl\()/.test(t)?hu:vu:t instanceof rt?hu:Array.isArray(t)?mu:"object"===r&&isNaN(t)?gu:pu)(n,t)}],Bo.interpolateArray=mu;var rs=function(){return At},es=Bo.map({linear:rs,poly:Su,quad:function(){return _u},cubic:function(){return bu},sin:function(){return ku},exp:function(){return Eu},circle:function(){return Au},elastic:Cu,back:Nu,bounce:function(){return zu}}),us=Bo.map({"in":At,out:xu,"in-out":Mu,"out-in":function(n){return Mu(xu(n))}});Bo.ease=function(n){var t=n.indexOf("-"),r=t>=0?n.substring(0,t):n,e=t>=0?n.substring(t+1):"in";return r=es.get(r)||rs,e=us.get(e)||At,yu(e(r.apply(null,Jo.call(arguments,1))))},Bo.interpolateHcl=Lu,Bo.interpolateHsl=Tu,Bo.interpolateLab=qu,Bo.interpolateRound=Ru,Bo.transform=function(n){var t=Go.createElementNS(Bo.ns.prefix.svg,"g");return(Bo.transform=function(n){if(null!=n){t.setAttribute("transform",n);var r=t.transform.baseVal.consolidate()}
return new Du(r?r.matrix:is)})(n)},Du.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var is={a:1,b:0,c:0,d:1,e:0,f:0};Bo.interpolateTransform=Hu,Bo.layout={},Bo.layout.bundle=function(){return function(n){for(var t=[],r=-1,e=n.length;++r<e;)
t.push(Iu(n[r]));return t}},Bo.layout.chord=function(){function n(){var n,s,f,h,g,p={},v=[],d=Bo.range(i),m=[];for(r=[],e=[],n=0,h=-1;++h<i;){for(s=0,g=-1;++g<i;)
s+=u[h][g];v.push(s),m.push(Bo.range(i)),n+=s}
for(o&&d.sort(function(n,t){return o(v[n],v[t])}),a&&m.forEach(function(n,t){n.sort(function(n,r){return a(u[t][n],u[t][r])})}),n=(Ea-l*i)/n,s=0,h=-1;++h<i;){for(f=s,g=-1;++g<i;){var y=d[h],x=m[y][g],M=u[y][x],_=s,b=s+=M*n;p[y+"-"+x]={index:y,subindex:x,startAngle:_,endAngle:b,value:M}}
e[y]={index:y,startAngle:f,endAngle:s,value:(s-f)/n},s+=l}
for(h=-1;++h<i;)
for(g=h-1;++g<i;){var w=p[h+"-"+g],S=p[g+"-"+h];(w.value||S.value)&&r.push(w.value<S.value?{source:S,target:w}:{source:w,target:S})}
c&&t()}
function t(){r.sort(function(n,t){return c((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}
var r,e,u,i,o,a,c,s={},l=0;return s.matrix=function(n){return arguments.length?(i=(u=n)&&u.length,r=e=null,s):u},s.padding=function(n){return arguments.length?(l=n,r=e=null,s):l},s.sortGroups=function(n){return arguments.length?(o=n,r=e=null,s):o},s.sortSubgroups=function(n){return arguments.length?(a=n,r=null,s):a},s.sortChords=function(n){return arguments.length?(c=n,r&&t(),s):c},s.chords=function(){return r||n(),r},s.groups=function(){return e||n(),e},s},Bo.layout.force=function(){function n(n){return function(t,r,e,u){if(t.point!==n){var i=t.cx-n.x,o=t.cy-n.y,a=u-r,c=i*i+o*o;if(c>a*a/d){if(p>c){var s=t.charge/c;n.px-=i*s,n.py-=o*s}
return!0}
if(t.point&&c&&p>c){var s=t.pointCharge/c;n.px-=i*s,n.py-=o*s}}
return!t.charge}}
function t(n){n.px=Bo.event.x,n.py=Bo.event.y,a.resume()}
var r,e,u,i,o,a={},c=Bo.dispatch("start","tick","end"),s=[1,1],l=.9,f=os,h=as,g=-30,p=cs,v=.1,d=.64,m=[],y=[];return a.tick=function(){if((e*=.99)<.005)
return c.end({type:"end",alpha:e=0}),!0;var t,r,a,f,h,p,d,x,M,_=m.length,b=y.length;for(r=0;b>r;++r)
a=y[r],f=a.source,h=a.target,x=h.x-f.x,M=h.y-f.y,(p=x*x+M*M)&&(p=e*i[r]*((p=Math.sqrt(p))-u[r])/p,x*=p,M*=p,h.x-=x*(d=f.weight/(h.weight+f.weight)),h.y-=M*d,f.x+=x*(d=1-d),f.y+=M*d);if((d=e*v)&&(x=s[0]/2,M=s[1]/2,r=-1,d))
for(;++r<_;)
a=m[r],a.x+=(x-a.x)*d,a.y+=(M-a.y)*d;if(g)
for(Ju(t=Bo.geom.quadtree(m),e,o),r=-1;++r<_;)
(a=m[r]).fixed||t.visit(n(a));for(r=-1;++r<_;)
a=m[r],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*l,a.y-=(a.py-(a.py=a.y))*l);c.tick({type:"tick",alpha:e})},a.nodes=function(n){return arguments.length?(m=n,a):m},a.links=function(n){return arguments.length?(y=n,a):y},a.size=function(n){return arguments.length?(s=n,a):s},a.linkDistance=function(n){return arguments.length?(f="function"==typeof n?n:+n,a):f},a.distance=a.linkDistance,a.linkStrength=function(n){return arguments.length?(h="function"==typeof n?n:+n,a):h},a.friction=function(n){return arguments.length?(l=+n,a):l},a.charge=function(n){return arguments.length?(g="function"==typeof n?n:+n,a):g},a.chargeDistance=function(n){return arguments.length?(p=n*n,a):Math.sqrt(p)},a.gravity=function(n){return arguments.length?(v=+n,a):v},a.theta=function(n){return arguments.length?(d=n*n,a):Math.sqrt(d)},a.alpha=function(n){return arguments.length?(n=+n,e?e=n>0?n:0:n>0&&(c.start({type:"start",alpha:e=n}),Bo.timer(a.tick)),a):e},a.start=function(){function n(n,e){if(!r){for(r=new Array(c),a=0;c>a;++a)
r[a]=[];for(a=0;s>a;++a){var u=y[a];r[u.source.index].push(u.target),r[u.target.index].push(u.source)}}
for(var i,o=r[t],a=-1,s=o.length;++a<s;)
if(!isNaN(i=o[a][n]))
return i;return Math.random()*e}
var t,r,e,c=m.length,l=y.length,p=s[0],v=s[1];for(t=0;c>t;++t)
(e=m[t]).index=t,e.weight=0;for(t=0;l>t;++t)
e=y[t],"number"==typeof e.source&&(e.source=m[e.source]),"number"==typeof e.target&&(e.target=m[e.target]),++e.source.weight,++e.target.weight;for(t=0;c>t;++t)
e=m[t],isNaN(e.x)&&(e.x=n("x",p)),isNaN(e.y)&&(e.y=n("y",v)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(u=[],"function"==typeof f)
for(t=0;l>t;++t)
u[t]=+f.call(this,y[t],t);else
for(t=0;l>t;++t)
u[t]=f;if(i=[],"function"==typeof h)
for(t=0;l>t;++t)
i[t]=+h.call(this,y[t],t);else
for(t=0;l>t;++t)
i[t]=h;if(o=[],"function"==typeof g)
for(t=0;c>t;++t)
o[t]=+g.call(this,m[t],t);else
for(t=0;c>t;++t)
o[t]=g;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return r||(r=Bo.behavior.drag().origin(At).on("dragstart.force",Vu).on("drag.force",t).on("dragend.force",$u)),arguments.length?(this.on("mouseover.force",Xu).on("mouseout.force",Bu).call(r),void 0):r},Bo.rebind(a,c,"on")};var os=20,as=1,cs=1/0;Bo.layout.hierarchy=function(){function n(u){var i,o=[u],a=[];for(u.depth=0;null!=(i=o.pop());)
if(a.push(i),(s=r.call(n,i,i.depth))&&(c=s.length)){for(var c,s,l;--c>=0;)
o.push(l=s[c]),l.parent=i,l.depth=i.depth+1;e&&(i.value=0),i.children=s}else
e&&(i.value=+e.call(n,i,i.depth)||0),delete i.children;return Ku(u,function(n){var r,u;t&&(r=n.children)&&r.sort(t),e&&(u=n.parent)&&(u.value+=n.value)}),a}
var t=ti,r=Qu,e=ni;return n.sort=function(r){return arguments.length?(t=r,n):t},n.children=function(t){return arguments.length?(r=t,n):r},n.value=function(t){return arguments.length?(e=t,n):e},n.revalue=function(t){return e&&(Gu(t,function(n){n.children&&(n.value=0)}),Ku(t,function(t){var r;t.children||(t.value=+e.call(n,t,t.depth)||0),(r=t.parent)&&(r.value+=t.value)})),t},n},Bo.layout.partition=function(){function n(t,r,e,u){var i=t.children;if(t.x=r,t.y=t.depth*u,t.dx=e,t.dy=u,i&&(o=i.length)){var o,a,c,s=-1;for(e=t.value?e/t.value:0;++s<o;)
n(a=i[s],r,c=a.value*e,u),r+=c}}
function t(n){var r=n.children,e=0;if(r&&(u=r.length))
for(var u,i=-1;++i<u;)
e=Math.max(e,t(r[i]));return 1+e}
function r(r,i){var o=e.call(this,r,i);return n(o[0],0,u[0],u[1]/t(o[0])),o}
var e=Bo.layout.hierarchy(),u=[1,1];return r.size=function(n){return arguments.length?(u=n,r):u},Wu(r,e)},Bo.layout.pie=function(){function n(i){var o=i.map(function(r,e){return+t.call(n,r,e)}),a=+("function"==typeof e?e.apply(this,arguments):e),c=(("function"==typeof u?u.apply(this,arguments):u)-a)/Bo.sum(o),s=Bo.range(i.length);null!=r&&s.sort(r===ss?function(n,t){return o[t]-o[n]}:function(n,t){return r(i[n],i[t])});var l=[];return s.forEach(function(n){var t;l[n]={data:i[n],value:t=o[n],startAngle:a,endAngle:a+=t*c}}),l}
var t=Number,r=ss,e=0,u=Ea;return n.value=function(r){return arguments.length?(t=r,n):t},n.sort=function(t){return arguments.length?(r=t,n):r},n.startAngle=function(t){return arguments.length?(e=t,n):e},n.endAngle=function(t){return arguments.length?(u=t,n):u},n};var ss={};Bo.layout.stack=function(){function n(a,c){var s=a.map(function(r,e){return t.call(n,r,e)}),l=s.map(function(t){return t.map(function(t,r){return[i.call(n,t,r),o.call(n,t,r)]})}),f=r.call(n,l,c);s=Bo.permute(s,f),l=Bo.permute(l,f);var h,g,p,v=e.call(n,l,c),d=s.length,m=s[0].length;for(g=0;m>g;++g)
for(u.call(n,s[0][g],p=v[g],l[0][g][1]),h=1;d>h;++h)
u.call(n,s[h][g],p+=l[h-1][g][1],l[h][g][1]);return a}
var t=At,r=oi,e=ai,u=ii,i=ei,o=ui;return n.values=function(r){return arguments.length?(t=r,n):t},n.order=function(t){return arguments.length?(r="function"==typeof t?t:ls.get(t)||oi,n):r},n.offset=function(t){return arguments.length?(e="function"==typeof t?t:fs.get(t)||ai,n):e},n.x=function(t){return arguments.length?(i=t,n):i},n.y=function(t){return arguments.length?(o=t,n):o},n.out=function(t){return arguments.length?(u=t,n):u},n};var ls=Bo.map({"inside-out":function(n){var t,r,e=n.length,u=n.map(ci),i=n.map(si),o=Bo.range(e).sort(function(n,t){return u[n]-u[t]}),a=0,c=0,s=[],l=[];for(t=0;e>t;++t)
r=o[t],c>a?(a+=i[r],s.push(r)):(c+=i[r],l.push(r));return l.reverse().concat(s)},reverse:function(n){return Bo.range(n.length).reverse()},"default":oi}),fs=Bo.map({silhouette:function(n){var t,r,e,u=n.length,i=n[0].length,o=[],a=0,c=[];for(r=0;i>r;++r){for(t=0,e=0;u>t;t++)
e+=n[t][r][1];e>a&&(a=e),o.push(e)}
for(r=0;i>r;++r)
c[r]=(a-o[r])/2;return c},wiggle:function(n){var t,r,e,u,i,o,a,c,s,l=n.length,f=n[0],h=f.length,g=[];for(g[0]=c=s=0,r=1;h>r;++r){for(t=0,u=0;l>t;++t)
u+=n[t][r][1];for(t=0,i=0,a=f[r][0]-f[r-1][0];l>t;++t){for(e=0,o=(n[t][r][1]-n[t][r-1][1])/(2*a);t>e;++e)
o+=(n[e][r][1]-n[e][r-1][1])/a;i+=o*n[t][r][1]}
g[r]=c-=u?i/u*a:0,s>c&&(s=c)}
for(r=0;h>r;++r)
g[r]-=s;return g},expand:function(n){var t,r,e,u=n.length,i=n[0].length,o=1/u,a=[];for(r=0;i>r;++r){for(t=0,e=0;u>t;t++)
e+=n[t][r][1];if(e)
for(t=0;u>t;t++)
n[t][r][1]/=e;else
for(t=0;u>t;t++)
n[t][r][1]=o}
for(r=0;i>r;++r)
a[r]=0;return a},zero:ai});Bo.layout.histogram=function(){function n(n,i){for(var o,a,c=[],s=n.map(r,this),l=e.call(this,s,i),f=u.call(this,l,s,i),i=-1,h=s.length,g=f.length-1,p=t?1:1/h;++i<g;)
o=c[i]=[],o.dx=f[i+1]-(o.x=f[i]),o.y=0;if(g>0)
for(i=-1;++i<h;)
a=s[i],a>=l[0]&&a<=l[1]&&(o=c[Bo.bisect(f,a,1,g)-1],o.y+=p,o.push(n[i]));return c}
var t=!0,r=Number,e=gi,u=fi;return n.value=function(t){return arguments.length?(r=t,n):r},n.range=function(t){return arguments.length?(e=Et(t),n):e},n.bins=function(t){return arguments.length?(u="number"==typeof t?function(n){return hi(n,t)}:Et(t),n):u},n.frequency=function(r){return arguments.length?(t=!!r,n):t},n},Bo.layout.pack=function(){function n(n,i){var o=r.call(this,n,i),a=o[0],c=u[0],s=u[1],l=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,Ku(a,function(n){n.r=+l(n.value)}),Ku(a,yi),e){var f=e*(t?1:Math.max(2*a.r/c,2*a.r/s))/2;Ku(a,function(n){n.r+=f}),Ku(a,yi),Ku(a,function(n){n.r-=f})}
return _i(a,c/2,s/2,t?1:1/Math.max(2*a.r/c,2*a.r/s)),o}
var t,r=Bo.layout.hierarchy().sort(pi),e=0,u=[1,1];return n.size=function(t){return arguments.length?(u=t,n):u},n.radius=function(r){return arguments.length?(t=null==r||"function"==typeof r?r:+r,n):t},n.padding=function(t){return arguments.length?(e=+t,n):e},Wu(n,r)},Bo.layout.tree=function(){function n(n,u){var l=o.call(this,n,u),f=l[0],h=t(f);if(Ku(h,r),h.parent.m=-h.z,Gu(h,e),s)
Gu(f,i);else{var g=f,p=f,v=f;Gu(f,function(n){n.x<g.x&&(g=n),n.x>p.x&&(p=n),n.depth>v.depth&&(v=n)});var d=a(g,p)/2-g.x,m=c[0]/(p.x+a(p,g)/2+d),y=c[1]/(v.depth||1);Gu(f,function(n){n.x=(n.x+d)*m,n.y=n.depth*y})}
return l}
function t(n){for(var t,r={A:null,children:[n]},e=[r];null!=(t=e.pop());)
for(var u,i=t.children,o=0,a=i.length;a>o;++o)
e.push((i[o]=u={_:i[o],parent:t,children:(u=i[o].children)&&u.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=u);return r.children[0]}
function r(n){var t=n.children,r=n.parent.children,e=n.i?r[n.i-1]:null;if(t.length){Ai(n);var i=(t[0].z+t[t.length-1].z)/2;e?(n.z=e.z+a(n._,e._),n.m=n.z-i):n.z=i}else
e&&(n.z=e.z+a(n._,e._));n.parent.A=u(n,e,n.parent.A||r[0])}
function e(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}
function u(n,t,r){if(t){for(var e,u=n,i=n,o=t,c=u.parent.children[0],s=u.m,l=i.m,f=o.m,h=c.m;o=ki(o),u=Si(u),o&&u;)
c=Si(c),i=ki(i),i.a=n,e=o.z+f-u.z-s+a(o._,u._),e>0&&(Ei(Ci(o,n,r),n,e),s+=e,l+=e),f+=o.m,s+=u.m,h+=c.m,l+=i.m;o&&!ki(i)&&(i.t=o,i.m+=f-l),u&&!Si(c)&&(c.t=u,c.m+=s-h,r=n)}
return r}
function i(n){n.x*=c[0],n.y=n.depth*c[1]}
var o=Bo.layout.hierarchy().sort(null).value(null),a=wi,c=[1,1],s=null;return n.separation=function(t){return arguments.length?(a=t,n):a},n.size=function(t){return arguments.length?(s=null==(c=t)?i:null,n):s?null:c},n.nodeSize=function(t){return arguments.length?(s=null==(c=t)?null:i,n):s?c:null},Wu(n,o)},Bo.layout.cluster=function(){function n(n,i){var o,a=t.call(this,n,i),c=a[0],s=0;Ku(c,function(n){var t=n.children;t&&t.length?(n.x=zi(t),n.y=Ni(t)):(n.x=o?s+=r(n,o):0,n.y=0,o=n)});var l=Li(c),f=Ti(c),h=l.x-r(l,f)/2,g=f.x+r(f,l)/2;return Ku(c,u?function(n){n.x=(n.x-c.x)*e[0],n.y=(c.y-n.y)*e[1]}:function(n){n.x=(n.x-h)/(g-h)*e[0],n.y=(1-(c.y?n.y/c.y:1))*e[1]}),a}
var t=Bo.layout.hierarchy().sort(null).value(null),r=wi,e=[1,1],u=!1;return n.separation=function(t){return arguments.length?(r=t,n):r},n.size=function(t){return arguments.length?(u=null==(e=t),n):u?null:e},n.nodeSize=function(t){return arguments.length?(u=null!=(e=t),n):u?e:null},Wu(n,t)},Bo.layout.treemap=function(){function n(n,t){for(var r,e,u=-1,i=n.length;++u<i;)
e=(r=n[u]).value*(0>t?0:t),r.area=isNaN(e)||0>=e?0:e}
function t(r){var i=r.children;if(i&&i.length){var o,a,c,s=f(r),l=[],h=i.slice(),p=1/0,v="slice"===g?s.dx:"dice"===g?s.dy:"slice-dice"===g?1&r.depth?s.dy:s.dx:Math.min(s.dx,s.dy);for(n(h,s.dx*s.dy/r.value),l.area=0;(c=h.length)>0;)
l.push(o=h[c-1]),l.area+=o.area,"squarify"!==g||(a=e(l,v))<=p?(h.pop(),p=a):(l.area-=l.pop().area,u(l,v,s,!1),v=Math.min(s.dx,s.dy),l.length=l.area=0,p=1/0);l.length&&(u(l,v,s,!0),l.length=l.area=0),i.forEach(t)}}
function r(t){var e=t.children;if(e&&e.length){var i,o=f(t),a=e.slice(),c=[];for(n(a,o.dx*o.dy/t.value),c.area=0;i=a.pop();)
c.push(i),c.area+=i.area,null!=i.z&&(u(c,i.z?o.dx:o.dy,o,!a.length),c.length=c.area=0);e.forEach(r)}}
function e(n,t){for(var r,e=n.area,u=0,i=1/0,o=-1,a=n.length;++o<a;)
(r=n[o].area)&&(i>r&&(i=r),r>u&&(u=r));return e*=e,t*=t,e?Math.max(t*u*p/e,e/(t*i*p)):1/0}
function u(n,t,r,e){var u,i=-1,o=n.length,a=r.x,s=r.y,l=t?c(n.area/t):0;if(t==r.dx){for((e||l>r.dy)&&(l=r.dy);++i<o;)
u=n[i],u.x=a,u.y=s,u.dy=l,a+=u.dx=Math.min(r.x+r.dx-a,l?c(u.area/l):0);u.z=!0,u.dx+=r.x+r.dx-a,r.y+=l,r.dy-=l}else{for((e||l>r.dx)&&(l=r.dx);++i<o;)
u=n[i],u.x=a,u.y=s,u.dx=l,s+=u.dy=Math.min(r.y+r.dy-s,l?c(u.area/l):0);u.z=!1,u.dy+=r.y+r.dy-s,r.x+=l,r.dx-=l}}
function i(e){var u=o||a(e),i=u[0];return i.x=0,i.y=0,i.dx=s[0],i.dy=s[1],o&&a.revalue(i),n([i],i.dx*i.dy/i.value),(o?r:t)(i),h&&(o=u),u}
var o,a=Bo.layout.hierarchy(),c=Math.round,s=[1,1],l=null,f=qi,h=!1,g="squarify",p=.5*(1+Math.sqrt(5));return i.size=function(n){return arguments.length?(s=n,i):s},i.padding=function(n){function t(t){var r=n.call(i,t,t.depth);return null==r?qi(t):Ri(t,"number"==typeof r?[r,r,r,r]:r)}
function r(t){return Ri(t,n)}
if(!arguments.length)
return l;var e;return f=null==(l=n)?qi:"function"==(e=typeof n)?t:"number"===e?(n=[n,n,n,n],r):r,i},i.round=function(n){return arguments.length?(c=n?Math.round:Number,i):c!=Number},i.sticky=function(n){return arguments.length?(h=n,o=null,i):h},i.ratio=function(n){return arguments.length?(p=n,i):p},i.mode=function(n){return arguments.length?(g=n+"",i):g},Wu(i,a)},Bo.random={normal:function(n,t){var r=arguments.length;return 2>r&&(t=1),1>r&&(n=0),function(){var r,e,u;do
r=2*Math.random()-1,e=2*Math.random()-1,u=r*r+e*e;while(!u||u>1);return n+t*r*Math.sqrt(-2*Math.log(u)/u)}},logNormal:function(){var n=Bo.random.normal.apply(Bo,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=Bo.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,r=0;n>r;r++)
t+=Math.random();return t}}},Bo.scale={};var hs={floor:At,ceil:At};Bo.scale.linear=function(){return Oi([0,1],[0,1],du,!1)};var gs={s:1,g:1,p:1,r:1,e:1};Bo.scale.log=function(){return Ji(Bo.scale.linear().domain([0,1]),10,!0,[1,10])};var ps=Bo.format(".0e"),vs={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};Bo.scale.pow=function(){return Wi(Bo.scale.linear(),1,[0,1])},Bo.scale.sqrt=function(){return Bo.scale.pow().exponent(.5)},Bo.scale.ordinal=function(){return Ki([],{t:"range",a:[[]]})},Bo.scale.category10=function(){return Bo.scale.ordinal().range(ds)},Bo.scale.category20=function(){return Bo.scale.ordinal().range(ms)},Bo.scale.category20b=function(){return Bo.scale.ordinal().range(ys)},Bo.scale.category20c=function(){return Bo.scale.ordinal().range(xs)};var ds=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(mt),ms=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(mt),ys=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(mt),xs=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(mt);Bo.scale.quantile=function(){return Qi([],[])},Bo.scale.quantize=function(){return no(0,1,[0,1])},Bo.scale.threshold=function(){return to([.5],[0,1])},Bo.scale.identity=function(){return ro([0,1])},Bo.svg={},Bo.svg.arc=function(){function n(){var n=t.apply(this,arguments),i=r.apply(this,arguments),o=e.apply(this,arguments)+Ms,a=u.apply(this,arguments)+Ms,c=(o>a&&(c=o,o=a,a=c),a-o),s=ka>c?"0":"1",l=Math.cos(o),f=Math.sin(o),h=Math.cos(a),g=Math.sin(a);return c>=_s?n?"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"M0,"+n+"A"+n+","+n+" 0 1,0 0,"+-n+"A"+n+","+n+" 0 1,0 0,"+n+"Z":"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"Z":n?"M"+i*l+","+i*f+"A"+i+","+i+" 0 "+s+",1 "+i*h+","+i*g+"L"+n*h+","+n*g+"A"+n+","+n+" 0 "+s+",0 "+n*l+","+n*f+"Z":"M"+i*l+","+i*f+"A"+i+","+i+" 0 "+s+",1 "+i*h+","+i*g+"L0,0"+"Z"}
var t=eo,r=uo,e=io,u=oo;return n.innerRadius=function(r){return arguments.length?(t=Et(r),n):t},n.outerRadius=function(t){return arguments.length?(r=Et(t),n):r},n.startAngle=function(t){return arguments.length?(e=Et(t),n):e},n.endAngle=function(t){return arguments.length?(u=Et(t),n):u},n.centroid=function(){var n=(t.apply(this,arguments)+r.apply(this,arguments))/2,i=(e.apply(this,arguments)+u.apply(this,arguments))/2+Ms;return[Math.cos(i)*n,Math.sin(i)*n]},n};var Ms=-Aa,_s=Ea-Ca;Bo.svg.line=function(){return ao(At)};var bs=Bo.map({linear:co,"linear-closed":so,step:lo,"step-before":fo,"step-after":ho,basis:xo,"basis-open":Mo,"basis-closed":_o,bundle:bo,cardinal:vo,"cardinal-open":go,"cardinal-closed":po,monotone:Co});bs.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var ws=[0,2/3,1/3,0],Ss=[0,1/3,2/3,0],ks=[0,1/6,2/3,1/6];Bo.svg.line.radial=function(){var n=ao(No);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},fo.reverse=ho,ho.reverse=fo,Bo.svg.area=function(){return zo(At)},Bo.svg.area.radial=function(){var n=zo(No);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},Bo.svg.chord=function(){function n(n,a){var c=t(this,i,n,a),s=t(this,o,n,a);return"M"+c.p0+e(c.r,c.p1,c.a1-c.a0)+(r(c,s)?u(c.r,c.p1,c.r,c.p0):u(c.r,c.p1,s.r,s.p0)+e(s.r,s.p1,s.a1-s.a0)+u(s.r,s.p1,c.r,c.p0))+"Z"}
function t(n,t,r,e){var u=t.call(n,r,e),i=a.call(n,u,e),o=c.call(n,u,e)+Ms,l=s.call(n,u,e)+Ms;return{r:i,a0:o,a1:l,p0:[i*Math.cos(o),i*Math.sin(o)],p1:[i*Math.cos(l),i*Math.sin(l)]}}
function r(n,t){return n.a0==t.a0&&n.a1==t.a1}
function e(n,t,r){return"A"+n+","+n+" 0 "++(r>ka)+",1 "+t}
function u(n,t,r,e){return"Q 0,0 "+e}
var i=me,o=ye,a=Lo,c=io,s=oo;return n.radius=function(t){return arguments.length?(a=Et(t),n):a},n.source=function(t){return arguments.length?(i=Et(t),n):i},n.target=function(t){return arguments.length?(o=Et(t),n):o},n.startAngle=function(t){return arguments.length?(c=Et(t),n):c},n.endAngle=function(t){return arguments.length?(s=Et(t),n):s},n},Bo.svg.diagonal=function(){function n(n,u){var i=t.call(this,n,u),o=r.call(this,n,u),a=(i.y+o.y)/2,c=[i,{x:i.x,y:a},{x:o.x,y:a},o];return c=c.map(e),"M"+c[0]+"C"+c[1]+" "+c[2]+" "+c[3]}
var t=me,r=ye,e=To;return n.source=function(r){return arguments.length?(t=Et(r),n):t},n.target=function(t){return arguments.length?(r=Et(t),n):r},n.projection=function(t){return arguments.length?(e=t,n):e},n},Bo.svg.diagonal.radial=function(){var n=Bo.svg.diagonal(),t=To,r=n.projection;return n.projection=function(n){return arguments.length?r(qo(t=n)):t},n},Bo.svg.symbol=function(){function n(n,e){return(Es.get(t.call(this,n,e))||Po)(r.call(this,n,e))}
var t=Do,r=Ro;return n.type=function(r){return arguments.length?(t=Et(r),n):t},n.size=function(t){return arguments.length?(r=Et(t),n):r},n};var Es=Bo.map({circle:Po,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*zs)),r=t*zs;return"M0,"+-t+"L"+r+",0"+" 0,"+t+" "+-r+",0"+"Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/Ns),r=t*Ns/2;return"M0,"+r+"L"+t+","+-r+" "+-t+","+-r+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/Ns),r=t*Ns/2;return"M0,"+-r+"L"+t+","+r+" "+-t+","+r+"Z"}});Bo.svg.symbolTypes=Es.keys();var As,Cs,Ns=Math.sqrt(3),zs=Math.tan(30*za),Ls=[],Ts=0;Ls.call=ya.call,Ls.empty=ya.empty,Ls.node=ya.node,Ls.size=ya.size,Bo.transition=function(n){return arguments.length?As?n.transition():n:_a.transition()},Bo.transition.prototype=Ls,Ls.select=function(n){var t,r,e,u=this.id,i=[];n=b(n);for(var o=-1,a=this.length;++o<a;){i.push(t=[]);for(var c=this[o],s=-1,l=c.length;++s<l;)
(e=c[s])&&(r=n.call(e,e.__data__,s,o))?("__data__"in e&&(r.__data__=e.__data__),Fo(r,s,u,e.__transition__[u]),t.push(r)):t.push(null)}
return Uo(i,u)},Ls.selectAll=function(n){var t,r,e,u,i,o=this.id,a=[];n=w(n);for(var c=-1,s=this.length;++c<s;)
for(var l=this[c],f=-1,h=l.length;++f<h;)
if(e=l[f]){i=e.__transition__[o],r=n.call(e,e.__data__,f,c),a.push(t=[]);for(var g=-1,p=r.length;++g<p;)
(u=r[g])&&Fo(u,g,o,i),t.push(u)}
return Uo(a,o)},Ls.filter=function(n){var t,r,e,u=[];"function"!=typeof n&&(n=R(n));for(var i=0,o=this.length;o>i;i++){u.push(t=[]);for(var r=this[i],a=0,c=r.length;c>a;a++)
(e=r[a])&&n.call(e,e.__data__,a,i)&&t.push(e)}
return Uo(u,this.id)},Ls.tween=function(n,t){var r=this.id;return arguments.length<2?this.node().__transition__[r].tween.get(n):P(this,null==t?function(t){t.__transition__[r].tween.remove(n)}:function(e){e.__transition__[r].tween.set(n,t)})},Ls.attr=function(n,t){function r(){this.removeAttribute(a)}
function e(){this.removeAttributeNS(a.space,a.local)}
function u(n){return null==n?r:(n+="",function(){var t,r=this.getAttribute(a);return r!==n&&(t=o(r,n),function(n){this.setAttribute(a,t(n))})})}
function i(n){return null==n?e:(n+="",function(){var t,r=this.getAttributeNS(a.space,a.local);return r!==n&&(t=o(r,n),function(n){this.setAttributeNS(a.space,a.local,t(n))})})}
if(arguments.length<2){for(t in n)
this.attr(t,n[t]);return this}
var o="transform"==n?Hu:du,a=Bo.ns.qualify(n);return jo(this,"attr."+n,t,a.local?i:u)},Ls.attrTween=function(n,t){function r(n,r){var e=t.call(this,n,r,this.getAttribute(u));return e&&function(n){this.setAttribute(u,e(n))}}
function e(n,r){var e=t.call(this,n,r,this.getAttributeNS(u.space,u.local));return e&&function(n){this.setAttributeNS(u.space,u.local,e(n))}}
var u=Bo.ns.qualify(n);return this.tween("attr."+n,u.local?e:r)},Ls.style=function(n,t,r){function e(){this.style.removeProperty(n)}
function u(t){return null==t?e:(t+="",function(){var e,u=Qo.getComputedStyle(this,null).getPropertyValue(n);return u!==t&&(e=du(u,t),function(t){this.style.setProperty(n,e(t),r)})})}
var i=arguments.length;if(3>i){if("string"!=typeof n){2>i&&(t="");for(r in n)
this.style(r,n[r],t);return this}
r=""}
return jo(this,"style."+n,t,u)},Ls.styleTween=function(n,t,r){function e(e,u){var i=t.call(this,e,u,Qo.getComputedStyle(this,null).getPropertyValue(n));return i&&function(t){this.style.setProperty(n,i(t),r)}}
return arguments.length<3&&(r=""),this.tween("style."+n,e)},Ls.text=function(n){return jo(this,"text",n,Ho)},Ls.remove=function(){return this.each("end.transition",function(){var n;this.__transition__.count<2&&(n=this.parentNode)&&n.removeChild(this)})},Ls.ease=function(n){var t=this.id;return arguments.length<1?this.node().__transition__[t].ease:("function"!=typeof n&&(n=Bo.ease.apply(Bo,arguments)),P(this,function(r){r.__transition__[t].ease=n}))},Ls.delay=function(n){var t=this.id;return arguments.length<1?this.node().__transition__[t].delay:P(this,"function"==typeof n?function(r,e,u){r.__transition__[t].delay=+n.call(r,r.__data__,e,u)}:(n=+n,function(r){r.__transition__[t].delay=n}))},Ls.duration=function(n){var t=this.id;return arguments.length<1?this.node().__transition__[t].duration:P(this,"function"==typeof n?function(r,e,u){r.__transition__[t].duration=Math.max(1,n.call(r,r.__data__,e,u))}:(n=Math.max(1,n),function(r){r.__transition__[t].duration=n}))},Ls.each=function(n,t){var r=this.id;if(arguments.length<2){var e=Cs,u=As;As=r,P(this,function(t,e,u){Cs=t.__transition__[r],n.call(t,t.__data__,e,u)}),Cs=e,As=u}else
P(this,function(e){var u=e.__transition__[r];(u.event||(u.event=Bo.dispatch("start","end"))).on(n,t)});return this},Ls.transition=function(){for(var n,t,r,e,u=this.id,i=++Ts,o=[],a=0,c=this.length;c>a;a++){o.push(n=[]);for(var t=this[a],s=0,l=t.length;l>s;s++)
(r=t[s])&&(e=Object.create(r.__transition__[u]),e.delay+=e.duration,Fo(r,s,i,e)),n.push(r)}
return Uo(o,i)},Bo.svg.axis=function(){function n(n){n.each(function(){var n,s=Bo.select(this),l=this.__chart__||r,f=this.__chart__=r.copy(),h=null==c?f.ticks?f.ticks.apply(f,a):f.domain():c,g=null==t?f.tickFormat?f.tickFormat.apply(f,a):At:t,p=s.selectAll(".tick").data(h,f),v=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ca),d=Bo.transition(p.exit()).style("opacity",Ca).remove(),m=Bo.transition(p.order()).style("opacity",1),y=Pi(f),x=s.selectAll(".domain").data([0]),M=(x.enter().append("path").attr("class","domain"),Bo.transition(x));v.append("line"),v.append("text");var _=v.select("line"),b=m.select("line"),w=p.select("text").text(g),S=v.select("text"),k=m.select("text");switch(e){case"bottom":n=Oo,_.attr("y2",u),S.attr("y",Math.max(u,0)+o),b.attr("x2",0).attr("y2",u),k.attr("x",0).attr("y",Math.max(u,0)+o),w.attr("dy",".71em").style("text-anchor","middle"),M.attr("d","M"+y[0]+","+i+"V0H"+y[1]+"V"+i);break;case"top":n=Oo,_.attr("y2",-u),S.attr("y",-(Math.max(u,0)+o)),b.attr("x2",0).attr("y2",-u),k.attr("x",0).attr("y",-(Math.max(u,0)+o)),w.attr("dy","0em").style("text-anchor","middle"),M.attr("d","M"+y[0]+","+-i+"V0H"+y[1]+"V"+-i);break;case"left":n=Io,_.attr("x2",-u),S.attr("x",-(Math.max(u,0)+o)),b.attr("x2",-u).attr("y2",0),k.attr("x",-(Math.max(u,0)+o)).attr("y",0),w.attr("dy",".32em").style("text-anchor","end"),M.attr("d","M"+-i+","+y[0]+"H0V"+y[1]+"H"+-i);break;case"right":n=Io,_.attr("x2",u),S.attr("x",Math.max(u,0)+o),b.attr("x2",u).attr("y2",0),k.attr("x",Math.max(u,0)+o).attr("y",0),w.attr("dy",".32em").style("text-anchor","start"),M.attr("d","M"+i+","+y[0]+"H0V"+y[1]+"H"+i)}
if(f.rangeBand){var E=f,A=E.rangeBand()/2;l=f=function(n){return E(n)+A}}else
l.rangeBand?l=f:d.call(n,f);v.call(n,l),m.call(n,f)})}
var t,r=Bo.scale.linear(),e=qs,u=6,i=6,o=3,a=[10],c=null;return n.scale=function(t){return arguments.length?(r=t,n):r},n.orient=function(t){return arguments.length?(e=t in Rs?t+"":qs,n):e},n.ticks=function(){return arguments.length?(a=arguments,n):a},n.tickValues=function(t){return arguments.length?(c=t,n):c},n.tickFormat=function(r){return arguments.length?(t=r,n):t},n.tickSize=function(t){var r=arguments.length;return r?(u=+t,i=+arguments[r-1],n):u},n.innerTickSize=function(t){return arguments.length?(u=+t,n):u},n.outerTickSize=function(t){return arguments.length?(i=+t,n):i},n.tickPadding=function(t){return arguments.length?(o=+t,n):o},n.tickSubdivide=function(){return arguments.length&&n},n};var qs="bottom",Rs={top:1,right:1,bottom:1,left:1};Bo.svg.brush=function(){function n(i){i.each(function(){var i=Bo.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",u).on("touchstart.brush",u),o=i.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),i.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=i.selectAll(".resize").data(p,At);a.exit().remove(),a.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return Ds[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",n.empty()?"none":null);var l,f=Bo.transition(i),h=Bo.transition(o);c&&(l=Pi(c),h.attr("x",l[0]).attr("width",l[1]-l[0]),r(f)),s&&(l=Pi(s),h.attr("y",l[0]).attr("height",l[1]-l[0]),e(f)),t(f)})}
function t(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+l[+/e$/.test(n)]+","+f[+/^s/.test(n)]+")"})}
function r(n){n.select(".extent").attr("x",l[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}
function e(n){n.select(".extent").attr("y",f[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}
function u(){function u(){32==Bo.event.keyCode&&(C||(x=null,z[0]-=l[1],z[1]-=f[1],C=2),y())}
function p(){32==Bo.event.keyCode&&2==C&&(z[0]+=l[1],z[1]+=f[1],C=0,y())}
function v(){var n=Bo.mouse(_),u=!1;M&&(n[0]+=M[0],n[1]+=M[1]),C||(Bo.event.altKey?(x||(x=[(l[0]+l[1])/2,(f[0]+f[1])/2]),z[0]=l[+(n[0]<x[0])],z[1]=f[+(n[1]<x[1])]):x=null),E&&d(n,c,0)&&(r(S),u=!0),A&&d(n,s,1)&&(e(S),u=!0),u&&(t(S),w({type:"brush",mode:C?"move":"resize"}))}
function d(n,t,r){var e,u,a=Pi(t),c=a[0],s=a[1],p=z[r],v=r?f:l,d=v[1]-v[0];return C&&(c-=p,s-=d+p),e=(r?g:h)?Math.max(c,Math.min(s,n[r])):n[r],C?u=(e+=p)+d:(x&&(p=Math.max(c,Math.min(s,2*x[r]-e))),e>p?(u=e,e=p):u=p),v[0]!=e||v[1]!=u?(r?o=null:i=null,v[0]=e,v[1]=u,!0):void 0}
function m(){v(),S.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),Bo.select("body").style("cursor",null),L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),N(),w({type:"brushend"})}
var x,M,_=this,b=Bo.select(Bo.event.target),w=a.of(_,arguments),S=Bo.select(_),k=b.datum(),E=!/^(n|s)$/.test(k)&&c,A=!/^(e|w)$/.test(k)&&s,C=b.classed("extent"),N=Y(),z=Bo.mouse(_),L=Bo.select(Qo).on("keydown.brush",u).on("keyup.brush",p);if(Bo.event.changedTouches?L.on("touchmove.brush",v).on("touchend.brush",m):L.on("mousemove.brush",v).on("mouseup.brush",m),S.interrupt().selectAll("*").interrupt(),C)
z[0]=l[0]-z[0],z[1]=f[0]-z[1];else if(k){var T=+/w$/.test(k),q=+/^n/.test(k);M=[l[1-T]-z[0],f[1-q]-z[1]],z[0]=l[T],z[1]=f[q]}else
Bo.event.altKey&&(x=z.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),Bo.select("body").style("cursor",b.style("cursor")),w({type:"brushstart"}),v()}
var i,o,a=M(n,"brushstart","brush","brushend"),c=null,s=null,l=[0,0],f=[0,0],h=!0,g=!0,p=Ps[0];return n.event=function(n){n.each(function(){var n=a.of(this,arguments),t={x:l,y:f,i:i,j:o},r=this.__chart__||t;this.__chart__=t,As?Bo.select(this).transition().each("start.brush",function(){i=r.i,o=r.j,l=r.x,f=r.y,n({type:"brushstart"})}).tween("brush:brush",function(){var r=mu(l,t.x),e=mu(f,t.y);return i=o=null,function(u){l=t.x=r(u),f=t.y=e(u),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){i=t.i,o=t.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},n.x=function(t){return arguments.length?(c=t,p=Ps[!c<<1|!s],n):c},n.y=function(t){return arguments.length?(s=t,p=Ps[!c<<1|!s],n):s},n.clamp=function(t){return arguments.length?(c&&s?(h=!!t[0],g=!!t[1]):c?h=!!t:s&&(g=!!t),n):c&&s?[h,g]:c?h:s?g:null},n.extent=function(t){var r,e,u,a,h;return arguments.length?(c&&(r=t[0],e=t[1],s&&(r=r[0],e=e[0]),i=[r,e],c.invert&&(r=c(r),e=c(e)),r>e&&(h=r,r=e,e=h),(r!=l[0]||e!=l[1])&&(l=[r,e])),s&&(u=t[0],a=t[1],c&&(u=u[1],a=a[1]),o=[u,a],s.invert&&(u=s(u),a=s(a)),u>a&&(h=u,u=a,a=h),(u!=f[0]||a!=f[1])&&(f=[u,a])),n):(c&&(i?(r=i[0],e=i[1]):(r=l[0],e=l[1],c.invert&&(r=c.invert(r),e=c.invert(e)),r>e&&(h=r,r=e,e=h))),s&&(o?(u=o[0],a=o[1]):(u=f[0],a=f[1],s.invert&&(u=s.invert(u),a=s.invert(a)),u>a&&(h=u,u=a,a=h))),c&&s?[[r,u],[e,a]]:c?[r,e]:s&&[u,a])},n.clear=function(){return n.empty()||(l=[0,0],f=[0,0],i=o=null),n},n.empty=function(){return!!c&&l[0]==l[1]||!!s&&f[0]==f[1]},Bo.rebind(n,a,"on")};var Ds={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ps=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Us=rc.format=cc.timeFormat,js=Us.utc,Hs=js("%Y-%m-%dT%H:%M:%S.%LZ");Us.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Yo:Hs,Yo.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},Yo.toString=Hs.toString,rc.second=Ht(function(n){return new ec(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),rc.seconds=rc.second.range,rc.seconds.utc=rc.second.utc.range,rc.minute=Ht(function(n){return new ec(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),rc.minutes=rc.minute.range,rc.minutes.utc=rc.minute.utc.range,rc.hour=Ht(function(n){var t=n.getTimezoneOffset()/60;return new ec(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),rc.hours=rc.hour.range,rc.hours.utc=rc.hour.utc.range,rc.month=Ht(function(n){return n=rc.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),rc.months=rc.month.range,rc.months.utc=rc.month.utc.range;var Fs=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Os=[[rc.second,1],[rc.second,5],[rc.second,15],[rc.second,30],[rc.minute,1],[rc.minute,5],[rc.minute,15],[rc.minute,30],[rc.hour,1],[rc.hour,3],[rc.hour,6],[rc.hour,12],[rc.day,1],[rc.day,2],[rc.week,1],[rc.month,1],[rc.month,3],[rc.year,1]],Is=Us.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",Ar]]),Ys={range:function(n,t,r){return Bo.range(Math.ceil(n/r)*r,+t,r).map(Vo)},floor:At,ceil:At};Os.year=rc.year,rc.scale=function(){return Zo(Bo.scale.linear(),Os,Is)};var Zs=Os.map(function(n){return[n[0].utc,n[1]]}),Vs=js.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",Ar]]);Zs.year=rc.year.utc,rc.scale.utc=function(){return Zo(Bo.scale.linear(),Zs,Vs)},Bo.text=Ct(function(n){return n.responseText}),Bo.json=function(n,t){return Nt(n,"application/json",$o,t)},Bo.html=function(n,t){return Nt(n,"text/html",Xo,t)},Bo.xml=Ct(function(n){return n.responseXML}),"function"==typeof define&&define.amd?define(Bo):"object"==typeof module&&module.exports?module.exports=Bo:this.d3=Bo}
();(function(){this.canvg=function(target,s,opts){if(target==null&&s==null&&opts==null){var svgTags=document.querySelectorAll('svg');for(var i=0;i<svgTags.length;i++){var svgTag=svgTags[i];var c=document.createElement('canvas');c.width=svgTag.clientWidth;c.height=svgTag.clientHeight;svgTag.parentNode.insertBefore(c,svgTag);svgTag.parentNode.removeChild(svgTag);var div=document.createElement('div');div.appendChild(svgTag);canvg(c,div.innerHTML);}
return;}
if(typeof target=='string'){target=document.getElementById(target);}
if(target.svg!=null)target.svg.stop();var svg=build(opts||{});if(!(target.childNodes.length==1&&target.childNodes[0].nodeName=='OBJECT'))target.svg=svg;var ctx=target.getContext('2d');if(typeof(s.documentElement)!='undefined'){svg.loadXmlDoc(ctx,s);}
else if(s.substr(0,1)=='<'){svg.loadXml(ctx,s);}
else{svg.load(ctx,s);}}
function build(opts){var svg={opts:opts};svg.FRAMERATE=30;svg.MAX_VIRTUAL_PIXELS=30000;svg.log=function(msg){};if(svg.opts['log']==true&&typeof(console)!='undefined'){svg.log=function(msg){console.log(msg);};};svg.init=function(ctx){var uniqueId=0;svg.UniqueId=function(){uniqueId++;return'canvg'+uniqueId;};svg.Definitions={};svg.Styles={};svg.Animations=[];svg.Images=[];svg.ctx=ctx;svg.ViewPort=new(function(){this.viewPorts=[];this.Clear=function(){this.viewPorts=[];}
this.SetCurrent=function(width,height){this.viewPorts.push({width:width,height:height});}
this.RemoveCurrent=function(){this.viewPorts.pop();}
this.Current=function(){return this.viewPorts[this.viewPorts.length-1];}
this.width=function(){return this.Current().width;}
this.height=function(){return this.Current().height;}
this.ComputeSize=function(d){if(d!=null&&typeof(d)=='number')return d;if(d=='x')return this.width();if(d=='y')return this.height();return Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2);}});}
svg.init();svg.ImagesLoaded=function(){for(var i=0;i<svg.Images.length;i++){if(!svg.Images[i].loaded)return false;}
return true;}
svg.trim=function(s){return s.replace(/^\s+|\s+$/g,'');}
svg.compressSpaces=function(s){return s.replace(/[\s\r\t\n]+/gm,' ');}
svg.ajax=function(url){var AJAX;if(window.XMLHttpRequest){AJAX=new XMLHttpRequest();}
else{AJAX=new ActiveXObject('Microsoft.XMLHTTP');}
if(AJAX){AJAX.open('GET',url,false);AJAX.send(null);return AJAX.responseText;}
return null;}
svg.parseXml=function(xml){if(window.DOMParser)
{var parser=new DOMParser();return parser.parseFromString(xml,'text/xml');}
else
{xml=xml.replace(/<!DOCTYPE svg[^>]*>/,'');var xmlDoc=new ActiveXObject('Microsoft.XMLDOM');xmlDoc.async='false';xmlDoc.loadXML(xml);return xmlDoc;}}
svg.Property=function(name,value){this.name=name;this.value=value;}
svg.Property.prototype.getValue=function(){return this.value;}
svg.Property.prototype.hasValue=function(){return(this.value!=null&&this.value!=='');}
svg.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var n=parseFloat(this.value);if((this.value+'').match(/%$/)){n=n/100.0;}
return n;}
svg.Property.prototype.valueOrDefault=function(def){if(this.hasValue())return this.value;return def;}
svg.Property.prototype.numValueOrDefault=function(def){if(this.hasValue())return this.numValue();return def;}
svg.Property.prototype.addOpacity=function(opacityProp){var newValue=this.value;if(opacityProp.value!=null&&opacityProp.value!=''&&typeof(this.value)=='string'){var color=new RGBColor(this.value);if(color.ok){newValue='rgba('+color.r+', '+color.g+', '+color.b+', '+opacityProp.numValue()+')';}}
return new svg.Property(this.name,newValue);}
svg.Property.prototype.getDefinition=function(){var name=this.value.match(/#([^\)'"]+)/);if(name){name=name[1];}
if(!name){name=this.value;}
return svg.Definitions[name];}
svg.Property.prototype.isUrlDefinition=function(){return this.value.indexOf('url(')==0}
svg.Property.prototype.getFillStyleDefinition=function(e,opacityProp){var def=this.getDefinition();if(def!=null&&def.createGradient){return def.createGradient(svg.ctx,e,opacityProp);}
if(def!=null&&def.createPattern){if(def.getHrefAttribute().hasValue()){var pt=def.attribute('patternTransform');def=def.getHrefAttribute().getDefinition();if(pt.hasValue()){def.attribute('patternTransform',true).value=pt.value;}}
return def.createPattern(svg.ctx,e);}
return null;}
svg.Property.prototype.getDPI=function(viewPort){return 96.0;}
svg.Property.prototype.getEM=function(viewPort){var em=12;var fontSize=new svg.Property('fontSize',svg.Font.Parse(svg.ctx.font).fontSize);if(fontSize.hasValue())em=fontSize.toPixels(viewPort);return em;}
svg.Property.prototype.getUnits=function(){var s=this.value+'';return s.replace(/[0-9\.\-]/g,'');}
svg.Property.prototype.toPixels=function(viewPort,processPercent){if(!this.hasValue())return 0;var s=this.value+'';if(s.match(/em$/))return this.numValue()*this.getEM(viewPort);if(s.match(/ex$/))return this.numValue()*this.getEM(viewPort)/2.0;if(s.match(/px$/))return this.numValue();if(s.match(/pt$/))return this.numValue()*this.getDPI(viewPort)*(1.0/72.0);if(s.match(/pc$/))return this.numValue()*15;if(s.match(/cm$/))return this.numValue()*this.getDPI(viewPort)/2.54;if(s.match(/mm$/))return this.numValue()*this.getDPI(viewPort)/25.4;if(s.match(/in$/))return this.numValue()*this.getDPI(viewPort);if(s.match(/%$/))return this.numValue()*svg.ViewPort.ComputeSize(viewPort);var n=this.numValue();if(processPercent&&n<1.0)return n*svg.ViewPort.ComputeSize(viewPort);return n;}
svg.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var s=this.value+'';if(s.match(/s$/))return this.numValue()*1000;if(s.match(/ms$/))return this.numValue();return this.numValue();}
svg.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var s=this.value+'';if(s.match(/deg$/))return this.numValue()*(Math.PI/180.0);if(s.match(/grad$/))return this.numValue()*(Math.PI/200.0);if(s.match(/rad$/))return this.numValue();return this.numValue()*(Math.PI/180.0);}
var textBaselineMapping={'baseline':'alphabetic','before-edge':'top','text-before-edge':'top','middle':'middle','central':'middle','after-edge':'bottom','text-after-edge':'bottom','ideographic':'ideographic','alphabetic':'alphabetic','hanging':'hanging','mathematical':'alphabetic'};svg.Property.prototype.toTextBaseline=function(){if(!this.hasValue())return null;return textBaselineMapping[this.value];}
svg.Font=new(function(){this.Styles='normal|italic|oblique|inherit';this.Variants='normal|small-caps|inherit';this.Weights='normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit';this.CreateFont=function(fontStyle,fontVariant,fontWeight,fontSize,fontFamily,inherit){var f=inherit!=null?this.Parse(inherit):this.CreateFont('','','','','',svg.ctx.font);return{fontFamily:fontFamily||f.fontFamily,fontSize:fontSize||f.fontSize,fontStyle:fontStyle||f.fontStyle,fontWeight:fontWeight||f.fontWeight,fontVariant:fontVariant||f.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(' ')}}}
var that=this;this.Parse=function(s){var f={};var d=svg.trim(svg.compressSpaces(s||'')).split(' ');var set={fontSize:false,fontStyle:false,fontWeight:false,fontVariant:false}
var ff='';for(var i=0;i<d.length;i++){if(!set.fontStyle&&that.Styles.indexOf(d[i])!=-1){if(d[i]!='inherit')f.fontStyle=d[i];set.fontStyle=true;}
else if(!set.fontVariant&&that.Variants.indexOf(d[i])!=-1){if(d[i]!='inherit')f.fontVariant=d[i];set.fontStyle=set.fontVariant=true;}
else if(!set.fontWeight&&that.Weights.indexOf(d[i])!=-1){if(d[i]!='inherit')f.fontWeight=d[i];set.fontStyle=set.fontVariant=set.fontWeight=true;}
else if(!set.fontSize){if(d[i]!='inherit')f.fontSize=d[i].split('/')[0];set.fontStyle=set.fontVariant=set.fontWeight=set.fontSize=true;}
else{if(d[i]!='inherit')ff+=d[i];}}if(ff!='')f.fontFamily=ff;return f;}});svg.ToNumberArray=function(s){var a=svg.trim(svg.compressSpaces((s||'').replace(/,/g,' '))).split(' ');for(var i=0;i<a.length;i++){a[i]=parseFloat(a[i]);}
return a;}
svg.Point=function(x,y){this.x=x;this.y=y;}
svg.Point.prototype.angleTo=function(p){return Math.atan2(p.y-this.y,p.x-this.x);}
svg.Point.prototype.applyTransform=function(v){var xp=this.x*v[0]+this.y*v[2]+v[4];var yp=this.x*v[1]+this.y*v[3]+v[5];this.x=xp;this.y=yp;}
svg.CreatePoint=function(s){var a=svg.ToNumberArray(s);return new svg.Point(a[0],a[1]);}
svg.CreatePath=function(s){var a=svg.ToNumberArray(s);var path=[];for(var i=0;i<a.length;i+=2){path.push(new svg.Point(a[i],a[i+1]));}
return path;}
svg.BoundingBox=function(x1,y1,x2,y2){this.x1=Number.NaN;this.y1=Number.NaN;this.x2=Number.NaN;this.y2=Number.NaN;this.x=function(){return this.x1;}
this.y=function(){return this.y1;}
this.width=function(){return this.x2-this.x1;}
this.height=function(){return this.y2-this.y1;}
this.addPoint=function(x,y){if(x!=null){if(isNaN(this.x1)||isNaN(this.x2)){this.x1=x;this.x2=x;}
if(x<this.x1)this.x1=x;if(x>this.x2)this.x2=x;}
if(y!=null){if(isNaN(this.y1)||isNaN(this.y2)){this.y1=y;this.y2=y;}
if(y<this.y1)this.y1=y;if(y>this.y2)this.y2=y;}}
this.addX=function(x){this.addPoint(x,null);}
this.addY=function(y){this.addPoint(null,y);}
this.addBoundingBox=function(bb){this.addPoint(bb.x1,bb.y1);this.addPoint(bb.x2,bb.y2);}
this.addQuadraticCurve=function(p0x,p0y,p1x,p1y,p2x,p2y){var cp1x=p0x+2/3*(p1x-p0x);var cp1y=p0y+2/3*(p1y-p0y);var cp2x=cp1x+1/3*(p2x-p0x);var cp2y=cp1y+1/3*(p2y-p0y);this.addBezierCurve(p0x,p0y,cp1x,cp2x,cp1y,cp2y,p2x,p2y);}
this.addBezierCurve=function(p0x,p0y,p1x,p1y,p2x,p2y,p3x,p3y){var p0=[p0x,p0y],p1=[p1x,p1y],p2=[p2x,p2y],p3=[p3x,p3y];this.addPoint(p0[0],p0[1]);this.addPoint(p3[0],p3[1]);for(i=0;i<=1;i++){var f=function(t){return Math.pow(1-t,3)*p0[i]
+3*Math.pow(1-t,2)*t*p1[i]
+3*(1-t)*Math.pow(t,2)*p2[i]
+Math.pow(t,3)*p3[i];}
var b=6*p0[i]-12*p1[i]+6*p2[i];var a=-3*p0[i]+9*p1[i]-9*p2[i]+3*p3[i];var c=3*p1[i]-3*p0[i];if(a==0){if(b==0)continue;var t=-c/b;if(0<t&&t<1){if(i==0)this.addX(f(t));if(i==1)this.addY(f(t));}
continue;}
var b2ac=Math.pow(b,2)-4*c*a;if(b2ac<0)continue;var t1=(-b+Math.sqrt(b2ac))/(2*a);if(0<t1&&t1<1){if(i==0)this.addX(f(t1));if(i==1)this.addY(f(t1));}
var t2=(-b-Math.sqrt(b2ac))/(2*a);if(0<t2&&t2<1){if(i==0)this.addX(f(t2));if(i==1)this.addY(f(t2));}}}
this.isPointInBox=function(x,y){return(this.x1<=x&&x<=this.x2&&this.y1<=y&&y<=this.y2);}
this.addPoint(x1,y1);this.addPoint(x2,y2);}
svg.Transform=function(v){var that=this;this.Type={}
this.Type.translate=function(s){this.p=svg.CreatePoint(s);this.apply=function(ctx){ctx.translate(this.p.x||0.0,this.p.y||0.0);}
this.unapply=function(ctx){ctx.translate(-1.0*this.p.x||0.0,-1.0*this.p.y||0.0);}
this.applyToPoint=function(p){p.applyTransform([1,0,0,1,this.p.x||0.0,this.p.y||0.0]);}}
this.Type.rotate=function(s){var a=svg.ToNumberArray(s);this.angle=new svg.Property('angle',a[0]);this.cx=a[1]||0;this.cy=a[2]||0;this.apply=function(ctx){ctx.translate(this.cx,this.cy);ctx.rotate(this.angle.toRadians());ctx.translate(-this.cx,-this.cy);}
this.unapply=function(ctx){ctx.translate(this.cx,this.cy);ctx.rotate(-1.0*this.angle.toRadians());ctx.translate(-this.cx,-this.cy);}
this.applyToPoint=function(p){var a=this.angle.toRadians();p.applyTransform([1,0,0,1,this.p.x||0.0,this.p.y||0.0]);p.applyTransform([Math.cos(a),Math.sin(a),-Math.sin(a),Math.cos(a),0,0]);p.applyTransform([1,0,0,1,-this.p.x||0.0,-this.p.y||0.0]);}}
this.Type.scale=function(s){this.p=svg.CreatePoint(s);this.apply=function(ctx){ctx.scale(this.p.x||1.0,this.p.y||this.p.x||1.0);}
this.unapply=function(ctx){ctx.scale(1.0/this.p.x||1.0,1.0/this.p.y||this.p.x||1.0);}
this.applyToPoint=function(p){p.applyTransform([this.p.x||0.0,0,0,this.p.y||0.0,0,0]);}}
this.Type.matrix=function(s){this.m=svg.ToNumberArray(s);this.apply=function(ctx){ctx.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5]);}
this.applyToPoint=function(p){p.applyTransform(this.m);}}
this.Type.SkewBase=function(s){this.base=that.Type.matrix;this.base(s);this.angle=new svg.Property('angle',s);}
this.Type.SkewBase.prototype=new this.Type.matrix;this.Type.skewX=function(s){this.base=that.Type.SkewBase;this.base(s);this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0];}
this.Type.skewX.prototype=new this.Type.SkewBase;this.Type.skewY=function(s){this.base=that.Type.SkewBase;this.base(s);this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0];}
this.Type.skewY.prototype=new this.Type.SkewBase;this.transforms=[];this.apply=function(ctx){for(var i=0;i<this.transforms.length;i++){this.transforms[i].apply(ctx);}}
this.unapply=function(ctx){for(var i=this.transforms.length-1;i>=0;i--){this.transforms[i].unapply(ctx);}}
this.applyToPoint=function(p){for(var i=0;i<this.transforms.length;i++){this.transforms[i].applyToPoint(p);}}
var data=svg.trim(svg.compressSpaces(v)).replace(/\)([a-zA-Z])/g,') $1').replace(/\)(\s?,\s?)/g,') ').split(/\s(?=[a-z])/);for(var i=0;i<data.length;i++){var type=svg.trim(data[i].split('(')[0]);var s=data[i].split('(')[1].replace(')','');var transform=new this.Type[type](s);transform.type=type;this.transforms.push(transform);}}
svg.AspectRatio=function(ctx,aspectRatio,width,desiredWidth,height,desiredHeight,minX,minY,refX,refY){aspectRatio=svg.compressSpaces(aspectRatio);aspectRatio=aspectRatio.replace(/^defer\s/,'');var align=aspectRatio.split(' ')[0]||'xMidYMid';var meetOrSlice=aspectRatio.split(' ')[1]||'meet';var scaleX=width/desiredWidth;var scaleY=height/desiredHeight;var scaleMin=Math.min(scaleX,scaleY);var scaleMax=Math.max(scaleX,scaleY);if(meetOrSlice=='meet'){desiredWidth*=scaleMin;desiredHeight*=scaleMin;}
if(meetOrSlice=='slice'){desiredWidth*=scaleMax;desiredHeight*=scaleMax;}
refX=new svg.Property('refX',refX);refY=new svg.Property('refY',refY);if(refX.hasValue()&&refY.hasValue()){ctx.translate(-scaleMin*refX.toPixels('x'),-scaleMin*refY.toPixels('y'));}
else{if(align.match(/^xMid/)&&((meetOrSlice=='meet'&&scaleMin==scaleY)||(meetOrSlice=='slice'&&scaleMax==scaleY)))ctx.translate(width/2.0-desiredWidth/2.0,0);if(align.match(/YMid$/)&&((meetOrSlice=='meet'&&scaleMin==scaleX)||(meetOrSlice=='slice'&&scaleMax==scaleX)))ctx.translate(0,height/2.0-desiredHeight/2.0);if(align.match(/^xMax/)&&((meetOrSlice=='meet'&&scaleMin==scaleY)||(meetOrSlice=='slice'&&scaleMax==scaleY)))ctx.translate(width-desiredWidth,0);if(align.match(/YMax$/)&&((meetOrSlice=='meet'&&scaleMin==scaleX)||(meetOrSlice=='slice'&&scaleMax==scaleX)))ctx.translate(0,height-desiredHeight);}
if(align=='none')ctx.scale(scaleX,scaleY);else if(meetOrSlice=='meet')ctx.scale(scaleMin,scaleMin);else if(meetOrSlice=='slice')ctx.scale(scaleMax,scaleMax);ctx.translate(minX==null?0:-minX,minY==null?0:-minY);}
svg.Element={}
svg.EmptyProperty=new svg.Property('EMPTY','');svg.Element.ElementBase=function(node){this.attributes={};this.styles={};this.children=[];this.attribute=function(name,createIfNotExists){var a=this.attributes[name];if(a!=null)return a;if(createIfNotExists==true){a=new svg.Property(name,'');this.attributes[name]=a;}
return a||svg.EmptyProperty;}
this.getHrefAttribute=function(){for(var a in this.attributes){if(a.match(/:href$/)){return this.attributes[a];}}
return svg.EmptyProperty;}
this.style=function(name,createIfNotExists,skipAncestors){var s=this.styles[name];if(s!=null)return s;var a=this.attribute(name);if(a!=null&&a.hasValue()){this.styles[name]=a;return a;}
if(skipAncestors!=true){var p=this.parent;if(p!=null){var ps=p.style(name);if(ps!=null&&ps.hasValue()){return ps;}}}
if(createIfNotExists==true){s=new svg.Property(name,'');this.styles[name]=s;}
return s||svg.EmptyProperty;}
this.render=function(ctx){if(this.style('display').value=='none')return;if(this.style('visibility').value=='hidden')return;ctx.save();if(this.attribute('mask').hasValue()){var mask=this.attribute('mask').getDefinition();if(mask!=null)mask.apply(ctx,this);}
else if(this.style('filter').hasValue()){var filter=this.style('filter').getDefinition();if(filter!=null)filter.apply(ctx,this);}
else{this.setContext(ctx);this.renderChildren(ctx);this.clearContext(ctx);}
ctx.restore();}
this.setContext=function(ctx){}
this.clearContext=function(ctx){}
this.renderChildren=function(ctx){for(var i=0;i<this.children.length;i++){this.children[i].render(ctx);}}
this.addChild=function(childNode,create){var child=childNode;if(create)child=svg.CreateElement(childNode);child.parent=this;if(child.type!='title'){this.children.push(child);}}
if(node!=null&&node.nodeType==1){for(var i=0;i<node.childNodes.length;i++){var childNode=node.childNodes[i];if(childNode.nodeType==1)this.addChild(childNode,true);if(this.captureTextNodes&&(childNode.nodeType==3||childNode.nodeType==4)){var text=childNode.nodeValue||childNode.text||'';if(svg.trim(svg.compressSpaces(text))!=''){this.addChild(new svg.Element.tspan(childNode),false);}}}
for(var i=0;i<node.attributes.length;i++){var attribute=node.attributes[i];this.attributes[attribute.nodeName]=new svg.Property(attribute.nodeName,attribute.nodeValue);}
var styles=svg.Styles[node.nodeName];if(styles!=null){for(var name in styles){this.styles[name]=styles[name];}}
if(this.attribute('class').hasValue()){var classes=svg.compressSpaces(this.attribute('class').value).split(' ');for(var j=0;j<classes.length;j++){styles=svg.Styles['.'+classes[j]];if(styles!=null){for(var name in styles){this.styles[name]=styles[name];}}
styles=svg.Styles[node.nodeName+'.'+classes[j]];if(styles!=null){for(var name in styles){this.styles[name]=styles[name];}}}}
if(this.attribute('id').hasValue()){var styles=svg.Styles['#'+this.attribute('id').value];if(styles!=null){for(var name in styles){this.styles[name]=styles[name];}}}
if(this.attribute('style').hasValue()){var styles=this.attribute('style').value.split(';');for(var i=0;i<styles.length;i++){if(svg.trim(styles[i])!=''){var style=styles[i].split(':');var name=svg.trim(style[0]);var value=svg.trim(style[1]);this.styles[name]=new svg.Property(name,value);}}}
if(this.attribute('id').hasValue()){if(svg.Definitions[this.attribute('id').value]==null){svg.Definitions[this.attribute('id').value]=this;}}}}
svg.Element.RenderedElementBase=function(node){this.base=svg.Element.ElementBase;this.base(node);this.setContext=function(ctx){if(this.style('fill').isUrlDefinition()){var fs=this.style('fill').getFillStyleDefinition(this,this.style('fill-opacity'));if(fs!=null)ctx.fillStyle=fs;}
else if(this.style('fill').hasValue()){var fillStyle=this.style('fill');if(fillStyle.value=='currentColor')fillStyle.value=this.style('color').value;ctx.fillStyle=(fillStyle.value=='none'?'rgba(0,0,0,0)':fillStyle.value);}
if(this.style('fill-opacity').hasValue()){var fillStyle=new svg.Property('fill',ctx.fillStyle);fillStyle=fillStyle.addOpacity(this.style('fill-opacity'));ctx.fillStyle=fillStyle.value;}
if(this.style('stroke').isUrlDefinition()){var fs=this.style('stroke').getFillStyleDefinition(this,this.style('stroke-opacity'));if(fs!=null)ctx.strokeStyle=fs;}
else if(this.style('stroke').hasValue()){var strokeStyle=this.style('stroke');if(strokeStyle.value=='currentColor')strokeStyle.value=this.style('color').value;ctx.strokeStyle=(strokeStyle.value=='none'?'rgba(0,0,0,0)':strokeStyle.value);}
if(this.style('stroke-opacity').hasValue()){var strokeStyle=new svg.Property('stroke',ctx.strokeStyle);strokeStyle=strokeStyle.addOpacity(this.style('stroke-opacity'));ctx.strokeStyle=strokeStyle.value;}
if(this.style('stroke-width').hasValue()){var newLineWidth=this.style('stroke-width').toPixels();ctx.lineWidth=newLineWidth==0?0.001:newLineWidth;}
if(this.style('stroke-linecap').hasValue())ctx.lineCap=this.style('stroke-linecap').value;if(this.style('stroke-linejoin').hasValue())ctx.lineJoin=this.style('stroke-linejoin').value;if(this.style('stroke-miterlimit').hasValue())ctx.miterLimit=this.style('stroke-miterlimit').value;if(this.style('stroke-dasharray').hasValue()&&this.style('stroke-dasharray').value!='none'){var gaps=svg.ToNumberArray(this.style('stroke-dasharray').value);if(typeof(ctx.setLineDash)!='undefined'){ctx.setLineDash(gaps);}
else if(typeof(ctx.webkitLineDash)!='undefined'){ctx.webkitLineDash=gaps;}
else if(typeof(ctx.mozDash)!='undefined'&&!(gaps.length==1&&gaps[0]==0)){ctx.mozDash=gaps;}
var offset=this.style('stroke-dashoffset').numValueOrDefault(1);if(typeof(ctx.lineDashOffset)!='undefined'){ctx.lineDashOffset=offset;}
else if(typeof(ctx.webkitLineDashOffset)!='undefined'){ctx.webkitLineDashOffset=offset;}
else if(typeof(ctx.mozDashOffset)!='undefined'){ctx.mozDashOffset=offset;}}
if(typeof(ctx.font)!='undefined'){ctx.font=svg.Font.CreateFont(this.style('font-style').value,this.style('font-variant').value,this.style('font-weight').value,this.style('font-size').hasValue()?this.style('font-size').toPixels()+'px':'',this.style('font-family').value).toString();}
if(this.attribute('transform').hasValue()){var transform=new svg.Transform(this.attribute('transform').value);transform.apply(ctx);}
if(this.style('clip-path',false,true).hasValue()){var clip=this.style('clip-path',false,true).getDefinition();if(clip!=null)clip.apply(ctx);}
if(this.style('opacity').hasValue()){ctx.globalAlpha=this.style('opacity').numValue();}}}
svg.Element.RenderedElementBase.prototype=new svg.Element.ElementBase;svg.Element.PathElementBase=function(node){this.base=svg.Element.RenderedElementBase;this.base(node);this.path=function(ctx){if(ctx!=null)ctx.beginPath();return new svg.BoundingBox();}
this.renderChildren=function(ctx){this.path(ctx);svg.Mouse.checkPath(this,ctx);if(ctx.fillStyle!=''){if(this.style('fill-rule').valueOrDefault('inherit')!='inherit'){ctx.fill(this.style('fill-rule').value);}
else{ctx.fill();}}
if(ctx.strokeStyle!='')ctx.stroke();var markers=this.getMarkers();if(markers!=null){if(this.style('marker-start').isUrlDefinition()){var marker=this.style('marker-start').getDefinition();marker.render(ctx,markers[0][0],markers[0][1]);}
if(this.style('marker-mid').isUrlDefinition()){var marker=this.style('marker-mid').getDefinition();for(var i=1;i<markers.length-1;i++){marker.render(ctx,markers[i][0],markers[i][1]);}}
if(this.style('marker-end').isUrlDefinition()){var marker=this.style('marker-end').getDefinition();marker.render(ctx,markers[markers.length-1][0],markers[markers.length-1][1]);}}}
this.getBoundingBox=function(){return this.path();}
this.getMarkers=function(){return null;}}
svg.Element.PathElementBase.prototype=new svg.Element.RenderedElementBase;svg.Element.svg=function(node){this.base=svg.Element.RenderedElementBase;this.base(node);this.baseClearContext=this.clearContext;this.clearContext=function(ctx){this.baseClearContext(ctx);svg.ViewPort.RemoveCurrent();}
this.baseSetContext=this.setContext;this.setContext=function(ctx){ctx.strokeStyle='rgba(0,0,0,0)';ctx.lineCap='butt';ctx.lineJoin='miter';ctx.miterLimit=4;if(typeof(ctx.font)!='undefined'&&typeof(window.getComputedStyle)!='undefined'){ctx.font=window.getComputedStyle(ctx.canvas).getPropertyValue('font');}
this.baseSetContext(ctx);if(!this.attribute('x').hasValue())this.attribute('x',true).value=0;if(!this.attribute('y').hasValue())this.attribute('y',true).value=0;ctx.translate(this.attribute('x').toPixels('x'),this.attribute('y').toPixels('y'));var width=svg.ViewPort.width();var height=svg.ViewPort.height();if(!this.attribute('width').hasValue())this.attribute('width',true).value='100%';if(!this.attribute('height').hasValue())this.attribute('height',true).value='100%';if(typeof(this.root)=='undefined'){width=this.attribute('width').toPixels('x');height=this.attribute('height').toPixels('y');var x=0;var y=0;if(this.attribute('refX').hasValue()&&this.attribute('refY').hasValue()){x=-this.attribute('refX').toPixels('x');y=-this.attribute('refY').toPixels('y');}
if(this.attribute('overflow').valueOrDefault('hidden')!='visible'){ctx.beginPath();ctx.moveTo(x,y);ctx.lineTo(width,y);ctx.lineTo(width,height);ctx.lineTo(x,height);ctx.closePath();ctx.clip();}}
svg.ViewPort.SetCurrent(width,height);if(this.attribute('viewBox').hasValue()){var viewBox=svg.ToNumberArray(this.attribute('viewBox').value);var minX=viewBox[0];var minY=viewBox[1];width=viewBox[2];height=viewBox[3];svg.AspectRatio(ctx,this.attribute('preserveAspectRatio').value,svg.ViewPort.width(),width,svg.ViewPort.height(),height,minX,minY,this.attribute('refX').value,this.attribute('refY').value);svg.ViewPort.RemoveCurrent();svg.ViewPort.SetCurrent(viewBox[2],viewBox[3]);}}}
svg.Element.svg.prototype=new svg.Element.RenderedElementBase;svg.Element.rect=function(node){this.base=svg.Element.PathElementBase;this.base(node);this.path=function(ctx){var x=this.attribute('x').toPixels('x');var y=this.attribute('y').toPixels('y');var width=this.attribute('width').toPixels('x');var height=this.attribute('height').toPixels('y');var rx=this.attribute('rx').toPixels('x');var ry=this.attribute('ry').toPixels('y');if(this.attribute('rx').hasValue()&&!this.attribute('ry').hasValue())ry=rx;if(this.attribute('ry').hasValue()&&!this.attribute('rx').hasValue())rx=ry;rx=Math.min(rx,width/2.0);ry=Math.min(ry,height/2.0);if(ctx!=null){ctx.beginPath();ctx.moveTo(x+rx,y);ctx.lineTo(x+width-rx,y);ctx.quadraticCurveTo(x+width,y,x+width,y+ry)
ctx.lineTo(x+width,y+height-ry);ctx.quadraticCurveTo(x+width,y+height,x+width-rx,y+height)
ctx.lineTo(x+rx,y+height);ctx.quadraticCurveTo(x,y+height,x,y+height-ry)
ctx.lineTo(x,y+ry);ctx.quadraticCurveTo(x,y,x+rx,y)
ctx.closePath();}
return new svg.BoundingBox(x,y,x+width,y+height);}}
svg.Element.rect.prototype=new svg.Element.PathElementBase;svg.Element.circle=function(node){this.base=svg.Element.PathElementBase;this.base(node);this.path=function(ctx){var cx=this.attribute('cx').toPixels('x');var cy=this.attribute('cy').toPixels('y');var r=this.attribute('r').toPixels();if(ctx!=null){ctx.beginPath();ctx.arc(cx,cy,r,0,Math.PI*2,true);ctx.closePath();}
return new svg.BoundingBox(cx-r,cy-r,cx+r,cy+r);}}
svg.Element.circle.prototype=new svg.Element.PathElementBase;svg.Element.ellipse=function(node){this.base=svg.Element.PathElementBase;this.base(node);this.path=function(ctx){var KAPPA=4*((Math.sqrt(2)-1)/3);var rx=this.attribute('rx').toPixels('x');var ry=this.attribute('ry').toPixels('y');var cx=this.attribute('cx').toPixels('x');var cy=this.attribute('cy').toPixels('y');if(ctx!=null){ctx.beginPath();ctx.moveTo(cx,cy-ry);ctx.bezierCurveTo(cx+(KAPPA*rx),cy-ry,cx+rx,cy-(KAPPA*ry),cx+rx,cy);ctx.bezierCurveTo(cx+rx,cy+(KAPPA*ry),cx+(KAPPA*rx),cy+ry,cx,cy+ry);ctx.bezierCurveTo(cx-(KAPPA*rx),cy+ry,cx-rx,cy+(KAPPA*ry),cx-rx,cy);ctx.bezierCurveTo(cx-rx,cy-(KAPPA*ry),cx-(KAPPA*rx),cy-ry,cx,cy-ry);ctx.closePath();}
return new svg.BoundingBox(cx-rx,cy-ry,cx+rx,cy+ry);}}
svg.Element.ellipse.prototype=new svg.Element.PathElementBase;svg.Element.line=function(node){this.base=svg.Element.PathElementBase;this.base(node);this.getPoints=function(){return[new svg.Point(this.attribute('x1').toPixels('x'),this.attribute('y1').toPixels('y')),new svg.Point(this.attribute('x2').toPixels('x'),this.attribute('y2').toPixels('y'))];}
this.path=function(ctx){var points=this.getPoints();if(ctx!=null){ctx.beginPath();ctx.moveTo(points[0].x,points[0].y);ctx.lineTo(points[1].x,points[1].y);}
return new svg.BoundingBox(points[0].x,points[0].y,points[1].x,points[1].y);}
this.getMarkers=function(){var points=this.getPoints();var a=points[0].angleTo(points[1]);return[[points[0],a],[points[1],a]];}}
svg.Element.line.prototype=new svg.Element.PathElementBase;svg.Element.polyline=function(node){this.base=svg.Element.PathElementBase;this.base(node);this.points=svg.CreatePath(this.attribute('points').value);this.path=function(ctx){var bb=new svg.BoundingBox(this.points[0].x,this.points[0].y);if(ctx!=null){ctx.beginPath();ctx.moveTo(this.points[0].x,this.points[0].y);}
for(var i=1;i<this.points.length;i++){bb.addPoint(this.points[i].x,this.points[i].y);if(ctx!=null)ctx.lineTo(this.points[i].x,this.points[i].y);}
return bb;}
this.getMarkers=function(){var markers=[];for(var i=0;i<this.points.length-1;i++){markers.push([this.points[i],this.points[i].angleTo(this.points[i+1])]);}
markers.push([this.points[this.points.length-1],markers[markers.length-1][1]]);return markers;}}
svg.Element.polyline.prototype=new svg.Element.PathElementBase;svg.Element.polygon=function(node){this.base=svg.Element.polyline;this.base(node);this.basePath=this.path;this.path=function(ctx){var bb=this.basePath(ctx);if(ctx!=null){ctx.lineTo(this.points[0].x,this.points[0].y);ctx.closePath();}
return bb;}}
svg.Element.polygon.prototype=new svg.Element.polyline;svg.Element.path=function(node){this.base=svg.Element.PathElementBase;this.base(node);var d=this.attribute('d').value;d=d.replace(/,/gm,' ');d=d.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,'$1 $2');d=d.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,'$1 $2');d=d.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,'$1 $2');d=d.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,'$1 $2');d=d.replace(/([0-9])([+\-])/gm,'$1 $2');d=d.replace(/(\.[0-9]*)(\.)/gm,'$1 $2');d=d.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,'$1 $3 $4 ');d=svg.compressSpaces(d);d=svg.trim(d);this.PathParser=new(function(d){this.tokens=d.split(' ');this.reset=function(){this.i=-1;this.command='';this.previousCommand='';this.start=new svg.Point(0,0);this.control=new svg.Point(0,0);this.current=new svg.Point(0,0);this.points=[];this.angles=[];}
this.isEnd=function(){return this.i>=this.tokens.length-1;}
this.isCommandOrEnd=function(){if(this.isEnd())return true;return this.tokens[this.i+1].match(/^[A-Za-z]$/)!=null;}
this.isRelativeCommand=function(){switch(this.command)
{case'm':case'l':case'h':case'v':case'c':case's':case'q':case't':case'a':case'z':return true;break;}
return false;}
this.getToken=function(){this.i++;return this.tokens[this.i];}
this.getScalar=function(){return parseFloat(this.getToken());}
this.nextCommand=function(){this.previousCommand=this.command;this.command=this.getToken();}
this.getPoint=function(){var p=new svg.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(p);}
this.getAsControlPoint=function(){var p=this.getPoint();this.control=p;return p;}
this.getAsCurrentPoint=function(){var p=this.getPoint();this.current=p;return p;}
this.getReflectedControlPoint=function(){if(this.previousCommand.toLowerCase()!='c'&&this.previousCommand.toLowerCase()!='s'&&this.previousCommand.toLowerCase()!='q'&&this.previousCommand.toLowerCase()!='t'){return this.current;}
var p=new svg.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return p;}
this.makeAbsolute=function(p){if(this.isRelativeCommand()){p.x+=this.current.x;p.y+=this.current.y;}
return p;}
this.addMarker=function(p,from,priorTo){if(priorTo!=null&&this.angles.length>0&&this.angles[this.angles.length-1]==null){this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(priorTo);}
this.addMarkerAngle(p,from==null?null:from.angleTo(p));}
this.addMarkerAngle=function(p,a){this.points.push(p);this.angles.push(a);}
this.getMarkerPoints=function(){return this.points;}
this.getMarkerAngles=function(){for(var i=0;i<this.angles.length;i++){if(this.angles[i]==null){for(var j=i+1;j<this.angles.length;j++){if(this.angles[j]!=null){this.angles[i]=this.angles[j];break;}}}}
return this.angles;}})(d);this.path=function(ctx){var pp=this.PathParser;pp.reset();var bb=new svg.BoundingBox();if(ctx!=null)ctx.beginPath();while(!pp.isEnd()){pp.nextCommand();switch(pp.command){case'M':case'm':var p=pp.getAsCurrentPoint();pp.addMarker(p);bb.addPoint(p.x,p.y);if(ctx!=null)ctx.moveTo(p.x,p.y);pp.start=pp.current;while(!pp.isCommandOrEnd()){var p=pp.getAsCurrentPoint();pp.addMarker(p,pp.start);bb.addPoint(p.x,p.y);if(ctx!=null)ctx.lineTo(p.x,p.y);}
break;case'L':case'l':while(!pp.isCommandOrEnd()){var c=pp.current;var p=pp.getAsCurrentPoint();pp.addMarker(p,c);bb.addPoint(p.x,p.y);if(ctx!=null)ctx.lineTo(p.x,p.y);}
break;case'H':case'h':while(!pp.isCommandOrEnd()){var newP=new svg.Point((pp.isRelativeCommand()?pp.current.x:0)+pp.getScalar(),pp.current.y);pp.addMarker(newP,pp.current);pp.current=newP;bb.addPoint(pp.current.x,pp.current.y);if(ctx!=null)ctx.lineTo(pp.current.x,pp.current.y);}
break;case'V':case'v':while(!pp.isCommandOrEnd()){var newP=new svg.Point(pp.current.x,(pp.isRelativeCommand()?pp.current.y:0)+pp.getScalar());pp.addMarker(newP,pp.current);pp.current=newP;bb.addPoint(pp.current.x,pp.current.y);if(ctx!=null)ctx.lineTo(pp.current.x,pp.current.y);}
break;case'C':case'c':while(!pp.isCommandOrEnd()){var curr=pp.current;var p1=pp.getPoint();var cntrl=pp.getAsControlPoint();var cp=pp.getAsCurrentPoint();pp.addMarker(cp,cntrl,p1);bb.addBezierCurve(curr.x,curr.y,p1.x,p1.y,cntrl.x,cntrl.y,cp.x,cp.y);if(ctx!=null)ctx.bezierCurveTo(p1.x,p1.y,cntrl.x,cntrl.y,cp.x,cp.y);}
break;case'S':case's':while(!pp.isCommandOrEnd()){var curr=pp.current;var p1=pp.getReflectedControlPoint();var cntrl=pp.getAsControlPoint();var cp=pp.getAsCurrentPoint();pp.addMarker(cp,cntrl,p1);bb.addBezierCurve(curr.x,curr.y,p1.x,p1.y,cntrl.x,cntrl.y,cp.x,cp.y);if(ctx!=null)ctx.bezierCurveTo(p1.x,p1.y,cntrl.x,cntrl.y,cp.x,cp.y);}
break;case'Q':case'q':while(!pp.isCommandOrEnd()){var curr=pp.current;var cntrl=pp.getAsControlPoint();var cp=pp.getAsCurrentPoint();pp.addMarker(cp,cntrl,cntrl);bb.addQuadraticCurve(curr.x,curr.y,cntrl.x,cntrl.y,cp.x,cp.y);if(ctx!=null)ctx.quadraticCurveTo(cntrl.x,cntrl.y,cp.x,cp.y);}
break;case'T':case't':while(!pp.isCommandOrEnd()){var curr=pp.current;var cntrl=pp.getReflectedControlPoint();pp.control=cntrl;var cp=pp.getAsCurrentPoint();pp.addMarker(cp,cntrl,cntrl);bb.addQuadraticCurve(curr.x,curr.y,cntrl.x,cntrl.y,cp.x,cp.y);if(ctx!=null)ctx.quadraticCurveTo(cntrl.x,cntrl.y,cp.x,cp.y);}
break;case'A':case'a':while(!pp.isCommandOrEnd()){var curr=pp.current;var rx=pp.getScalar();var ry=pp.getScalar();var xAxisRotation=pp.getScalar()*(Math.PI/180.0);var largeArcFlag=pp.getScalar();var sweepFlag=pp.getScalar();var cp=pp.getAsCurrentPoint();var currp=new svg.Point(Math.cos(xAxisRotation)*(curr.x-cp.x)/2.0+Math.sin(xAxisRotation)*(curr.y-cp.y)/2.0,-Math.sin(xAxisRotation)*(curr.x-cp.x)/2.0+Math.cos(xAxisRotation)*(curr.y-cp.y)/2.0);var l=Math.pow(currp.x,2)/Math.pow(rx,2)+Math.pow(currp.y,2)/Math.pow(ry,2);if(l>1){rx*=Math.sqrt(l);ry*=Math.sqrt(l);}
var s=(largeArcFlag==sweepFlag?-1:1)*Math.sqrt(((Math.pow(rx,2)*Math.pow(ry,2))-(Math.pow(rx,2)*Math.pow(currp.y,2))-(Math.pow(ry,2)*Math.pow(currp.x,2)))/(Math.pow(rx,2)*Math.pow(currp.y,2)+Math.pow(ry,2)*Math.pow(currp.x,2)));if(isNaN(s))s=0;var cpp=new svg.Point(s*rx*currp.y/ry,s*-ry*currp.x/rx);var centp=new svg.Point((curr.x+cp.x)/2.0+Math.cos(xAxisRotation)*cpp.x-Math.sin(xAxisRotation)*cpp.y,(curr.y+cp.y)/2.0+Math.sin(xAxisRotation)*cpp.x+Math.cos(xAxisRotation)*cpp.y);var m=function(v){return Math.sqrt(Math.pow(v[0],2)+Math.pow(v[1],2));}
var r=function(u,v){return(u[0]*v[0]+u[1]*v[1])/(m(u)*m(v))}
var a=function(u,v){return(u[0]*v[1]<u[1]*v[0]?-1:1)*Math.acos(r(u,v));}
var a1=a([1,0],[(currp.x-cpp.x)/rx,(currp.y-cpp.y)/ry]);var u=[(currp.x-cpp.x)/rx,(currp.y-cpp.y)/ry];var v=[(-currp.x-cpp.x)/rx,(-currp.y-cpp.y)/ry];var ad=a(u,v);if(r(u,v)<=-1)ad=Math.PI;if(r(u,v)>=1)ad=0;var dir=1-sweepFlag?1.0:-1.0;var ah=a1+dir*(ad/2.0);var halfWay=new svg.Point(centp.x+rx*Math.cos(ah),centp.y+ry*Math.sin(ah));pp.addMarkerAngle(halfWay,ah-dir*Math.PI/2);pp.addMarkerAngle(cp,ah-dir*Math.PI);bb.addPoint(cp.x,cp.y);if(ctx!=null){var r=rx>ry?rx:ry;var sx=rx>ry?1:rx/ry;var sy=rx>ry?ry/rx:1;ctx.translate(centp.x,centp.y);ctx.rotate(xAxisRotation);ctx.scale(sx,sy);ctx.arc(0,0,r,a1,a1+ad,1-sweepFlag);ctx.scale(1/sx,1/sy);ctx.rotate(-xAxisRotation);ctx.translate(-centp.x,-centp.y);}}
break;case'Z':case'z':if(ctx!=null)ctx.closePath();pp.current=pp.start;}}
return bb;}
this.getMarkers=function(){var points=this.PathParser.getMarkerPoints();var angles=this.PathParser.getMarkerAngles();var markers=[];for(var i=0;i<points.length;i++){markers.push([points[i],angles[i]]);}
return markers;}}
svg.Element.path.prototype=new svg.Element.PathElementBase;svg.Element.pattern=function(node){this.base=svg.Element.ElementBase;this.base(node);this.createPattern=function(ctx,element){var width=this.attribute('width').toPixels('x',true);var height=this.attribute('height').toPixels('y',true);var tempSvg=new svg.Element.svg();tempSvg.attributes['viewBox']=new svg.Property('viewBox',this.attribute('viewBox').value);tempSvg.attributes['width']=new svg.Property('width',width+'px');tempSvg.attributes['height']=new svg.Property('height',height+'px');tempSvg.attributes['transform']=new svg.Property('transform',this.attribute('patternTransform').value);tempSvg.children=this.children;var c=document.createElement('canvas');c.width=width;c.height=height;var cctx=c.getContext('2d');if(this.attribute('x').hasValue()&&this.attribute('y').hasValue()){cctx.translate(this.attribute('x').toPixels('x',true),this.attribute('y').toPixels('y',true));}
for(var x=-1;x<=1;x++){for(var y=-1;y<=1;y++){cctx.save();cctx.translate(x*c.width,y*c.height);tempSvg.render(cctx);cctx.restore();}}
var pattern=ctx.createPattern(c,'repeat');return pattern;}}
svg.Element.pattern.prototype=new svg.Element.ElementBase;svg.Element.marker=function(node){this.base=svg.Element.ElementBase;this.base(node);this.baseRender=this.render;this.render=function(ctx,point,angle){ctx.translate(point.x,point.y);if(this.attribute('orient').valueOrDefault('auto')=='auto')ctx.rotate(angle);if(this.attribute('markerUnits').valueOrDefault('strokeWidth')=='strokeWidth')ctx.scale(ctx.lineWidth,ctx.lineWidth);ctx.save();var tempSvg=new svg.Element.svg();tempSvg.attributes['viewBox']=new svg.Property('viewBox',this.attribute('viewBox').value);tempSvg.attributes['refX']=new svg.Property('refX',this.attribute('refX').value);tempSvg.attributes['refY']=new svg.Property('refY',this.attribute('refY').value);tempSvg.attributes['width']=new svg.Property('width',this.attribute('markerWidth').value);tempSvg.attributes['height']=new svg.Property('height',this.attribute('markerHeight').value);tempSvg.attributes['fill']=new svg.Property('fill',this.attribute('fill').valueOrDefault('black'));tempSvg.attributes['stroke']=new svg.Property('stroke',this.attribute('stroke').valueOrDefault('none'));tempSvg.children=this.children;tempSvg.render(ctx);ctx.restore();if(this.attribute('markerUnits').valueOrDefault('strokeWidth')=='strokeWidth')ctx.scale(1/ctx.lineWidth,1/ctx.lineWidth);if(this.attribute('orient').valueOrDefault('auto')=='auto')ctx.rotate(-angle);ctx.translate(-point.x,-point.y);}}
svg.Element.marker.prototype=new svg.Element.ElementBase;svg.Element.defs=function(node){this.base=svg.Element.ElementBase;this.base(node);this.render=function(ctx){}}
svg.Element.defs.prototype=new svg.Element.ElementBase;svg.Element.GradientBase=function(node){this.base=svg.Element.ElementBase;this.base(node);this.gradientUnits=this.attribute('gradientUnits').valueOrDefault('objectBoundingBox');this.stops=[];for(var i=0;i<this.children.length;i++){var child=this.children[i];if(child.type=='stop')this.stops.push(child);}
this.getGradient=function(){}
this.createGradient=function(ctx,element,parentOpacityProp){var stopsContainer=this;if(this.getHrefAttribute().hasValue()){stopsContainer=this.getHrefAttribute().getDefinition();}
var addParentOpacity=function(color){if(parentOpacityProp.hasValue()){var p=new svg.Property('color',color);return p.addOpacity(parentOpacityProp).value;}
return color;};var g=this.getGradient(ctx,element);if(g==null)return addParentOpacity(stopsContainer.stops[stopsContainer.stops.length-1].color);for(var i=0;i<stopsContainer.stops.length;i++){g.addColorStop(stopsContainer.stops[i].offset,addParentOpacity(stopsContainer.stops[i].color));}
if(this.attribute('gradientTransform').hasValue()){var rootView=svg.ViewPort.viewPorts[0];var rect=new svg.Element.rect();rect.attributes['x']=new svg.Property('x',-svg.MAX_VIRTUAL_PIXELS/3.0);rect.attributes['y']=new svg.Property('y',-svg.MAX_VIRTUAL_PIXELS/3.0);rect.attributes['width']=new svg.Property('width',svg.MAX_VIRTUAL_PIXELS);rect.attributes['height']=new svg.Property('height',svg.MAX_VIRTUAL_PIXELS);var group=new svg.Element.g();group.attributes['transform']=new svg.Property('transform',this.attribute('gradientTransform').value);group.children=[rect];var tempSvg=new svg.Element.svg();tempSvg.attributes['x']=new svg.Property('x',0);tempSvg.attributes['y']=new svg.Property('y',0);tempSvg.attributes['width']=new svg.Property('width',rootView.width);tempSvg.attributes['height']=new svg.Property('height',rootView.height);tempSvg.children=[group];var c=document.createElement('canvas');c.width=rootView.width;c.height=rootView.height;var tempCtx=c.getContext('2d');tempCtx.fillStyle=g;tempSvg.render(tempCtx);return tempCtx.createPattern(c,'no-repeat');}
return g;}}
svg.Element.GradientBase.prototype=new svg.Element.ElementBase;svg.Element.linearGradient=function(node){this.base=svg.Element.GradientBase;this.base(node);this.getGradient=function(ctx,element){var bb=this.gradientUnits=='objectBoundingBox'?element.getBoundingBox():null;if(!this.attribute('x1').hasValue()&&!this.attribute('y1').hasValue()&&!this.attribute('x2').hasValue()&&!this.attribute('y2').hasValue()){this.attribute('x1',true).value=0;this.attribute('y1',true).value=0;this.attribute('x2',true).value=1;this.attribute('y2',true).value=0;}
var x1=(this.gradientUnits=='objectBoundingBox'?bb.x()+bb.width()*this.attribute('x1').numValue():this.attribute('x1').toPixels('x'));var y1=(this.gradientUnits=='objectBoundingBox'?bb.y()+bb.height()*this.attribute('y1').numValue():this.attribute('y1').toPixels('y'));var x2=(this.gradientUnits=='objectBoundingBox'?bb.x()+bb.width()*this.attribute('x2').numValue():this.attribute('x2').toPixels('x'));var y2=(this.gradientUnits=='objectBoundingBox'?bb.y()+bb.height()*this.attribute('y2').numValue():this.attribute('y2').toPixels('y'));if(x1==x2&&y1==y2)return null;return ctx.createLinearGradient(x1,y1,x2,y2);}}
svg.Element.linearGradient.prototype=new svg.Element.GradientBase;svg.Element.radialGradient=function(node){this.base=svg.Element.GradientBase;this.base(node);this.getGradient=function(ctx,element){var bb=element.getBoundingBox();if(!this.attribute('cx').hasValue())this.attribute('cx',true).value='50%';if(!this.attribute('cy').hasValue())this.attribute('cy',true).value='50%';if(!this.attribute('r').hasValue())this.attribute('r',true).value='50%';var cx=(this.gradientUnits=='objectBoundingBox'?bb.x()+bb.width()*this.attribute('cx').numValue():this.attribute('cx').toPixels('x'));var cy=(this.gradientUnits=='objectBoundingBox'?bb.y()+bb.height()*this.attribute('cy').numValue():this.attribute('cy').toPixels('y'));var fx=cx;var fy=cy;if(this.attribute('fx').hasValue()){fx=(this.gradientUnits=='objectBoundingBox'?bb.x()+bb.width()*this.attribute('fx').numValue():this.attribute('fx').toPixels('x'));}
if(this.attribute('fy').hasValue()){fy=(this.gradientUnits=='objectBoundingBox'?bb.y()+bb.height()*this.attribute('fy').numValue():this.attribute('fy').toPixels('y'));}
var r=(this.gradientUnits=='objectBoundingBox'?(bb.width()+bb.height())/2.0*this.attribute('r').numValue():this.attribute('r').toPixels());return ctx.createRadialGradient(fx,fy,0,cx,cy,r);}}
svg.Element.radialGradient.prototype=new svg.Element.GradientBase;svg.Element.stop=function(node){this.base=svg.Element.ElementBase;this.base(node);this.offset=this.attribute('offset').numValue();if(this.offset<0)this.offset=0;if(this.offset>1)this.offset=1;var stopColor=this.style('stop-color');if(this.style('stop-opacity').hasValue())stopColor=stopColor.addOpacity(this.style('stop-opacity'));this.color=stopColor.value;}
svg.Element.stop.prototype=new svg.Element.ElementBase;svg.Element.AnimateBase=function(node){this.base=svg.Element.ElementBase;this.base(node);svg.Animations.push(this);this.duration=0.0;this.begin=this.attribute('begin').toMilliseconds();this.maxDuration=this.begin+this.attribute('dur').toMilliseconds();this.getProperty=function(){var attributeType=this.attribute('attributeType').value;var attributeName=this.attribute('attributeName').value;if(attributeType=='CSS'){return this.parent.style(attributeName,true);}
return this.parent.attribute(attributeName,true);};this.initialValue=null;this.initialUnits='';this.removed=false;this.calcValue=function(){return'';}
this.update=function(delta){if(this.initialValue==null){this.initialValue=this.getProperty().value;this.initialUnits=this.getProperty().getUnits();}
if(this.duration>this.maxDuration){if(this.attribute('repeatCount').value=='indefinite'||this.attribute('repeatDur').value=='indefinite'){this.duration=0.0}
else if(this.attribute('fill').valueOrDefault('remove')=='freeze'&&!this.frozen){this.frozen=true;this.parent.animationFrozen=true;this.parent.animationFrozenValue=this.getProperty().value;}
else if(this.attribute('fill').valueOrDefault('remove')=='remove'&&!this.removed){this.removed=true;this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue;return true;}
return false;}
this.duration=this.duration+delta;var updated=false;if(this.begin<this.duration){var newValue=this.calcValue();if(this.attribute('type').hasValue()){var type=this.attribute('type').value;newValue=type+'('+newValue+')';}
this.getProperty().value=newValue;updated=true;}
return updated;}
this.from=this.attribute('from');this.to=this.attribute('to');this.values=this.attribute('values');if(this.values.hasValue())this.values.value=this.values.value.split(';');this.progress=function(){var ret={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var p=ret.progress*(this.values.value.length-1);var lb=Math.floor(p),ub=Math.ceil(p);ret.from=new svg.Property('from',parseFloat(this.values.value[lb]));ret.to=new svg.Property('to',parseFloat(this.values.value[ub]));ret.progress=(p-lb)/(ub-lb);}
else{ret.from=this.from;ret.to=this.to;}
return ret;}}
svg.Element.AnimateBase.prototype=new svg.Element.ElementBase;svg.Element.animate=function(node){this.base=svg.Element.AnimateBase;this.base(node);this.calcValue=function(){var p=this.progress();var newValue=p.from.numValue()+(p.to.numValue()-p.from.numValue())*p.progress;return newValue+this.initialUnits;};}
svg.Element.animate.prototype=new svg.Element.AnimateBase;svg.Element.animateColor=function(node){this.base=svg.Element.AnimateBase;this.base(node);this.calcValue=function(){var p=this.progress();var from=new RGBColor(p.from.value);var to=new RGBColor(p.to.value);if(from.ok&&to.ok){var r=from.r+(to.r-from.r)*p.progress;var g=from.g+(to.g-from.g)*p.progress;var b=from.b+(to.b-from.b)*p.progress;return'rgb('+parseInt(r,10)+','+parseInt(g,10)+','+parseInt(b,10)+')';}
return this.attribute('from').value;};}
svg.Element.animateColor.prototype=new svg.Element.AnimateBase;svg.Element.animateTransform=function(node){this.base=svg.Element.AnimateBase;this.base(node);this.calcValue=function(){var p=this.progress();var from=svg.ToNumberArray(p.from.value);var to=svg.ToNumberArray(p.to.value);var newValue='';for(var i=0;i<from.length;i++){newValue+=from[i]+(to[i]-from[i])*p.progress+' ';}
return newValue;};}
svg.Element.animateTransform.prototype=new svg.Element.animate;svg.Element.font=function(node){this.base=svg.Element.ElementBase;this.base(node);this.horizAdvX=this.attribute('horiz-adv-x').numValue();this.isRTL=false;this.isArabic=false;this.fontFace=null;this.missingGlyph=null;this.glyphs=[];for(var i=0;i<this.children.length;i++){var child=this.children[i];if(child.type=='font-face'){this.fontFace=child;if(child.style('font-family').hasValue()){svg.Definitions[child.style('font-family').value]=this;}}
else if(child.type=='missing-glyph')this.missingGlyph=child;else if(child.type=='glyph'){if(child.arabicForm!=''){this.isRTL=true;this.isArabic=true;if(typeof(this.glyphs[child.unicode])=='undefined')this.glyphs[child.unicode]=[];this.glyphs[child.unicode][child.arabicForm]=child;}
else{this.glyphs[child.unicode]=child;}}}}
svg.Element.font.prototype=new svg.Element.ElementBase;svg.Element.fontface=function(node){this.base=svg.Element.ElementBase;this.base(node);this.ascent=this.attribute('ascent').value;this.descent=this.attribute('descent').value;this.unitsPerEm=this.attribute('units-per-em').numValue();}
svg.Element.fontface.prototype=new svg.Element.ElementBase;svg.Element.missingglyph=function(node){this.base=svg.Element.path;this.base(node);this.horizAdvX=0;}
svg.Element.missingglyph.prototype=new svg.Element.path;svg.Element.glyph=function(node){this.base=svg.Element.path;this.base(node);this.horizAdvX=this.attribute('horiz-adv-x').numValue();this.unicode=this.attribute('unicode').value;this.arabicForm=this.attribute('arabic-form').value;}
svg.Element.glyph.prototype=new svg.Element.path;svg.Element.text=function(node){this.captureTextNodes=true;this.base=svg.Element.RenderedElementBase;this.base(node);this.baseSetContext=this.setContext;this.setContext=function(ctx){this.baseSetContext(ctx);var textBaseline=this.style('dominant-baseline').toTextBaseline();if(textBaseline==null)textBaseline=this.style('alignment-baseline').toTextBaseline();if(textBaseline!=null)ctx.textBaseline=textBaseline;}
this.getBoundingBox=function(){var x=this.attribute('x').toPixels('x');var y=this.attribute('y').toPixels('y');var fontSize=this.parent.style('font-size').numValueOrDefault(svg.Font.Parse(svg.ctx.font).fontSize);return new svg.BoundingBox(x,y-fontSize,x+Math.floor(fontSize*2.0/3.0)*this.children[0].getText().length,y);}
this.renderChildren=function(ctx){this.x=this.attribute('x').toPixels('x');this.y=this.attribute('y').toPixels('y');this.x+=this.getAnchorDelta(ctx,this,0);for(var i=0;i<this.children.length;i++){this.renderChild(ctx,this,i);}}
this.getAnchorDelta=function(ctx,parent,startI){var textAnchor=this.style('text-anchor').valueOrDefault('start');if(textAnchor!='start'){var width=0;for(var i=startI;i<parent.children.length;i++){var child=parent.children[i];if(i>startI&&child.attribute('x').hasValue())break;width+=child.measureTextRecursive(ctx);}
return-1*(textAnchor=='end'?width:width/2.0);}
return 0;}
this.renderChild=function(ctx,parent,i){var child=parent.children[i];if(child.attribute('x').hasValue()){child.x=child.attribute('x').toPixels('x')+this.getAnchorDelta(ctx,parent,i);if(child.attribute('dx').hasValue())child.x+=child.attribute('dx').toPixels('x');}
else{if(this.attribute('dx').hasValue())this.x+=this.attribute('dx').toPixels('x');if(child.attribute('dx').hasValue())this.x+=child.attribute('dx').toPixels('x');child.x=this.x;}
this.x=child.x+child.measureText(ctx);if(child.attribute('y').hasValue()){child.y=child.attribute('y').toPixels('y');if(child.attribute('dy').hasValue())child.y+=child.attribute('dy').toPixels('y');}
else{if(this.attribute('dy').hasValue())this.y+=this.attribute('dy').toPixels('y');if(child.attribute('dy').hasValue())this.y+=child.attribute('dy').toPixels('y');child.y=this.y;}
this.y=child.y;child.render(ctx);for(var i=0;i<child.children.length;i++){this.renderChild(ctx,child,i);}}}
svg.Element.text.prototype=new svg.Element.RenderedElementBase;svg.Element.TextElementBase=function(node){this.base=svg.Element.RenderedElementBase;this.base(node);this.getGlyph=function(font,text,i){var c=text[i];var glyph=null;if(font.isArabic){var arabicForm='isolated';if((i==0||text[i-1]==' ')&&i<text.length-2&&text[i+1]!=' ')arabicForm='terminal';if(i>0&&text[i-1]!=' '&&i<text.length-2&&text[i+1]!=' ')arabicForm='medial';if(i>0&&text[i-1]!=' '&&(i==text.length-1||text[i+1]==' '))arabicForm='initial';if(typeof(font.glyphs[c])!='undefined'){glyph=font.glyphs[c][arabicForm];if(glyph==null&&font.glyphs[c].type=='glyph')glyph=font.glyphs[c];}}
else{glyph=font.glyphs[c];}
if(glyph==null)glyph=font.missingGlyph;return glyph;}
this.renderChildren=function(ctx){var customFont=this.parent.style('font-family').getDefinition();if(customFont!=null){var fontSize=this.parent.style('font-size').numValueOrDefault(svg.Font.Parse(svg.ctx.font).fontSize);var fontStyle=this.parent.style('font-style').valueOrDefault(svg.Font.Parse(svg.ctx.font).fontStyle);var text=this.getText();if(customFont.isRTL)text=text.split("").reverse().join("");var dx=svg.ToNumberArray(this.parent.attribute('dx').value);for(var i=0;i<text.length;i++){var glyph=this.getGlyph(customFont,text,i);var scale=fontSize/customFont.fontFace.unitsPerEm;ctx.translate(this.x,this.y);ctx.scale(scale,-scale);var lw=ctx.lineWidth;ctx.lineWidth=ctx.lineWidth*customFont.fontFace.unitsPerEm/fontSize;if(fontStyle=='italic')ctx.transform(1,0,.4,1,0,0);glyph.render(ctx);if(fontStyle=='italic')ctx.transform(1,0,-.4,1,0,0);ctx.lineWidth=lw;ctx.scale(1/scale,-1/scale);ctx.translate(-this.x,-this.y);this.x+=fontSize*(glyph.horizAdvX||customFont.horizAdvX)/customFont.fontFace.unitsPerEm;if(typeof(dx[i])!='undefined'&&!isNaN(dx[i])){this.x+=dx[i];}}
return;}
if(ctx.fillStyle!='')ctx.fillText(svg.compressSpaces(this.getText()),this.x,this.y);if(ctx.strokeStyle!='')ctx.strokeText(svg.compressSpaces(this.getText()),this.x,this.y);}
this.getText=function(){}
this.measureTextRecursive=function(ctx){var width=this.measureText(ctx);for(var i=0;i<this.children.length;i++){width+=this.children[i].measureTextRecursive(ctx);}
return width;}
this.measureText=function(ctx){var customFont=this.parent.style('font-family').getDefinition();if(customFont!=null){var fontSize=this.parent.style('font-size').numValueOrDefault(svg.Font.Parse(svg.ctx.font).fontSize);var measure=0;var text=this.getText();if(customFont.isRTL)text=text.split("").reverse().join("");var dx=svg.ToNumberArray(this.parent.attribute('dx').value);for(var i=0;i<text.length;i++){var glyph=this.getGlyph(customFont,text,i);measure+=(glyph.horizAdvX||customFont.horizAdvX)*fontSize/customFont.fontFace.unitsPerEm;if(typeof(dx[i])!='undefined'&&!isNaN(dx[i])){measure+=dx[i];}}
return measure;}
var textToMeasure=svg.compressSpaces(this.getText());if(!ctx.measureText)return textToMeasure.length*10;ctx.save();this.setContext(ctx);var width=ctx.measureText(textToMeasure).width;ctx.restore();return width;}}
svg.Element.TextElementBase.prototype=new svg.Element.RenderedElementBase;svg.Element.tspan=function(node){this.captureTextNodes=true;this.base=svg.Element.TextElementBase;this.base(node);this.text=node.nodeValue||node.text||'';this.getText=function(){return this.text;}}
svg.Element.tspan.prototype=new svg.Element.TextElementBase;svg.Element.tref=function(node){this.base=svg.Element.TextElementBase;this.base(node);this.getText=function(){var element=this.getHrefAttribute().getDefinition();if(element!=null)return element.children[0].getText();}}
svg.Element.tref.prototype=new svg.Element.TextElementBase;svg.Element.a=function(node){this.base=svg.Element.TextElementBase;this.base(node);this.hasText=true;for(var i=0;i<node.childNodes.length;i++){if(node.childNodes[i].nodeType!=3)this.hasText=false;}
this.text=this.hasText?node.childNodes[0].nodeValue:'';this.getText=function(){return this.text;}
this.baseRenderChildren=this.renderChildren;this.renderChildren=function(ctx){if(this.hasText){this.baseRenderChildren(ctx);var fontSize=new svg.Property('fontSize',svg.Font.Parse(svg.ctx.font).fontSize);svg.Mouse.checkBoundingBox(this,new svg.BoundingBox(this.x,this.y-fontSize.toPixels('y'),this.x+this.measureText(ctx),this.y));}
else{var g=new svg.Element.g();g.children=this.children;g.parent=this;g.render(ctx);}}
this.onclick=function(){window.open(this.getHrefAttribute().value);}
this.onmousemove=function(){svg.ctx.canvas.style.cursor='pointer';}}
svg.Element.a.prototype=new svg.Element.TextElementBase;svg.Element.image=function(node){this.base=svg.Element.RenderedElementBase;this.base(node);var href=this.getHrefAttribute().value;var isSvg=href.match(/\.svg$/)
svg.Images.push(this);this.loaded=false;if(!isSvg){this.img=document.createElement('img');if(svg.opts['useCORS']==true){this.img.crossOrigin='Anonymous';}
var self=this;this.img.onload=function(){self.loaded=true;}
this.img.onerror=function(){svg.log('ERROR: image "'+href+'" not found');self.loaded=true;}
this.img.src=href;}
else{this.img=svg.ajax(href);this.loaded=true;}
this.renderChildren=function(ctx){var x=this.attribute('x').toPixels('x');var y=this.attribute('y').toPixels('y');var width=this.attribute('width').toPixels('x');var height=this.attribute('height').toPixels('y');if(width==0||height==0)return;ctx.save();if(isSvg){ctx.drawSvg(this.img,x,y,width,height);}
else{ctx.translate(x,y);svg.AspectRatio(ctx,this.attribute('preserveAspectRatio').value,width,this.img.width,height,this.img.height,0,0);ctx.drawImage(this.img,0,0);}
ctx.restore();}
this.getBoundingBox=function(){var x=this.attribute('x').toPixels('x');var y=this.attribute('y').toPixels('y');var width=this.attribute('width').toPixels('x');var height=this.attribute('height').toPixels('y');return new svg.BoundingBox(x,y,x+width,y+height);}}
svg.Element.image.prototype=new svg.Element.RenderedElementBase;svg.Element.g=function(node){this.base=svg.Element.RenderedElementBase;this.base(node);this.getBoundingBox=function(){var bb=new svg.BoundingBox();for(var i=0;i<this.children.length;i++){bb.addBoundingBox(this.children[i].getBoundingBox());}
return bb;};}
svg.Element.g.prototype=new svg.Element.RenderedElementBase;svg.Element.symbol=function(node){this.base=svg.Element.RenderedElementBase;this.base(node);this.render=function(ctx){};}
svg.Element.symbol.prototype=new svg.Element.RenderedElementBase;svg.Element.style=function(node){this.base=svg.Element.ElementBase;this.base(node);var css=''
for(var i=0;i<node.childNodes.length;i++){css+=node.childNodes[i].nodeValue;}
css=css.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,'');css=svg.compressSpaces(css);var cssDefs=css.split('}');for(var i=0;i<cssDefs.length;i++){if(svg.trim(cssDefs[i])!=''){var cssDef=cssDefs[i].split('{');var cssClasses=cssDef[0].split(',');var cssProps=cssDef[1].split(';');for(var j=0;j<cssClasses.length;j++){var cssClass=svg.trim(cssClasses[j]);if(cssClass!=''){var props={};for(var k=0;k<cssProps.length;k++){var prop=cssProps[k].indexOf(':');var name=cssProps[k].substr(0,prop);var value=cssProps[k].substr(prop+1,cssProps[k].length-prop);if(name!=null&&value!=null){props[svg.trim(name)]=new svg.Property(svg.trim(name),svg.trim(value));}}
svg.Styles[cssClass]=props;if(cssClass=='@font-face'){var fontFamily=props['font-family'].value.replace(/"/g,'');var srcs=props['src'].value.split(',');for(var s=0;s<srcs.length;s++){if(srcs[s].indexOf('format("svg")')>0){var urlStart=srcs[s].indexOf('url');var urlEnd=srcs[s].indexOf(')',urlStart);var url=srcs[s].substr(urlStart+5,urlEnd-urlStart-6);var doc=svg.parseXml(svg.ajax(url));var fonts=doc.getElementsByTagName('font');for(var f=0;f<fonts.length;f++){var font=svg.CreateElement(fonts[f]);svg.Definitions[fontFamily]=font;}}}}}}}}}
svg.Element.style.prototype=new svg.Element.ElementBase;svg.Element.use=function(node){this.base=svg.Element.RenderedElementBase;this.base(node);this.baseSetContext=this.setContext;this.setContext=function(ctx){this.baseSetContext(ctx);if(this.attribute('x').hasValue())ctx.translate(this.attribute('x').toPixels('x'),0);if(this.attribute('y').hasValue())ctx.translate(0,this.attribute('y').toPixels('y'));}
var element=this.getHrefAttribute().getDefinition();this.path=function(ctx){if(element!=null)element.path(ctx);}
this.getBoundingBox=function(){if(element!=null)return element.getBoundingBox();}
this.renderChildren=function(ctx){if(element!=null){var tempSvg=element;if(element.type=='symbol'){tempSvg=new svg.Element.svg();tempSvg.type='svg';tempSvg.attributes['viewBox']=new svg.Property('viewBox',element.attribute('viewBox').value);tempSvg.attributes['preserveAspectRatio']=new svg.Property('preserveAspectRatio',element.attribute('preserveAspectRatio').value);tempSvg.attributes['overflow']=new svg.Property('overflow',element.attribute('overflow').value);tempSvg.children=element.children;}
if(tempSvg.type=='svg'){if(this.attribute('width').hasValue())tempSvg.attributes['width']=new svg.Property('width',this.attribute('width').value);if(this.attribute('height').hasValue())tempSvg.attributes['height']=new svg.Property('height',this.attribute('height').value);}
var oldParent=tempSvg.parent;tempSvg.parent=null;tempSvg.render(ctx);tempSvg.parent=oldParent;}}}
svg.Element.use.prototype=new svg.Element.RenderedElementBase;svg.Element.mask=function(node){this.base=svg.Element.ElementBase;this.base(node);this.apply=function(ctx,element){var x=this.attribute('x').toPixels('x');var y=this.attribute('y').toPixels('y');var width=this.attribute('width').toPixels('x');var height=this.attribute('height').toPixels('y');if(width==0&&height==0){var bb=new svg.BoundingBox();for(var i=0;i<this.children.length;i++){bb.addBoundingBox(this.children[i].getBoundingBox());}
var x=Math.floor(bb.x1);var y=Math.floor(bb.y1);var width=Math.floor(bb.width());var height=Math.floor(bb.height());}
var mask=element.attribute('mask').value;element.attribute('mask').value='';var cMask=document.createElement('canvas');cMask.width=x+width;cMask.height=y+height;var maskCtx=cMask.getContext('2d');this.renderChildren(maskCtx);var c=document.createElement('canvas');c.width=x+width;c.height=y+height;var tempCtx=c.getContext('2d');element.render(tempCtx);tempCtx.globalCompositeOperation='destination-in';tempCtx.fillStyle=maskCtx.createPattern(cMask,'no-repeat');tempCtx.fillRect(0,0,x+width,y+height);ctx.fillStyle=tempCtx.createPattern(c,'no-repeat');ctx.fillRect(0,0,x+width,y+height);element.attribute('mask').value=mask;}
this.render=function(ctx){}}
svg.Element.mask.prototype=new svg.Element.ElementBase;svg.Element.clipPath=function(node){this.base=svg.Element.ElementBase;this.base(node);this.apply=function(ctx){for(var i=0;i<this.children.length;i++){var child=this.children[i];if(typeof(child.path)!='undefined'){var transform=null;if(child.attribute('transform').hasValue()){transform=new svg.Transform(child.attribute('transform').value);transform.apply(ctx);}
child.path(ctx);ctx.clip();if(transform){transform.unapply(ctx);}}}}
this.render=function(ctx){}}
svg.Element.clipPath.prototype=new svg.Element.ElementBase;svg.Element.filter=function(node){this.base=svg.Element.ElementBase;this.base(node);this.apply=function(ctx,element){var bb=element.getBoundingBox();var x=Math.floor(bb.x1);var y=Math.floor(bb.y1);var width=Math.floor(bb.width());var height=Math.floor(bb.height());var filter=element.style('filter').value;element.style('filter').value='';var px=0,py=0;for(var i=0;i<this.children.length;i++){var efd=this.children[i].extraFilterDistance||0;px=Math.max(px,efd);py=Math.max(py,efd);}
var c=document.createElement('canvas');c.width=width+2*px;c.height=height+2*py;var tempCtx=c.getContext('2d');tempCtx.translate(-x+px,-y+py);element.render(tempCtx);for(var i=0;i<this.children.length;i++){this.children[i].apply(tempCtx,0,0,width+2*px,height+2*py);}
ctx.drawImage(c,0,0,width+2*px,height+2*py,x-px,y-py,width+2*px,height+2*py);element.style('filter',true).value=filter;}
this.render=function(ctx){}}
svg.Element.filter.prototype=new svg.Element.ElementBase;svg.Element.feMorphology=function(node){this.base=svg.Element.ElementBase;this.base(node);this.apply=function(ctx,x,y,width,height){}}
svg.Element.feMorphology.prototype=new svg.Element.ElementBase;svg.Element.feComposite=function(node){this.base=svg.Element.ElementBase;this.base(node);this.apply=function(ctx,x,y,width,height){}}
svg.Element.feComposite.prototype=new svg.Element.ElementBase;svg.Element.feColorMatrix=function(node){this.base=svg.Element.ElementBase;this.base(node);var matrix=svg.ToNumberArray(this.attribute('values').value);switch(this.attribute('type').valueOrDefault('matrix')){case'saturate':var s=matrix[0];matrix=[0.213+0.787*s,0.715-0.715*s,0.072-0.072*s,0,0,0.213-0.213*s,0.715+0.285*s,0.072-0.072*s,0,0,0.213-0.213*s,0.715-0.715*s,0.072+0.928*s,0,0,0,0,0,1,0,0,0,0,0,1];break;case'hueRotate':var a=matrix[0]*Math.PI/180.0;var c=function(m1,m2,m3){return m1+Math.cos(a)*m2+Math.sin(a)*m3;};matrix=[c(0.213,0.787,-0.213),c(0.715,-0.715,-0.715),c(0.072,-0.072,0.928),0,0,c(0.213,-0.213,0.143),c(0.715,0.285,0.140),c(0.072,-0.072,-0.283),0,0,c(0.213,-0.213,-0.787),c(0.715,-0.715,0.715),c(0.072,0.928,0.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case'luminanceToAlpha':matrix=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.2125,0.7154,0.0721,0,0,0,0,0,0,1];break;}
function imGet(img,x,y,width,height,rgba){return img[y*width*4+x*4+rgba];}
function imSet(img,x,y,width,height,rgba,val){img[y*width*4+x*4+rgba]=val;}
function m(i,v){var mi=matrix[i];return mi*(mi<0?v-255:v);}
this.apply=function(ctx,x,y,width,height){var srcData=ctx.getImageData(0,0,width,height);for(var y=0;y<height;y++){for(var x=0;x<width;x++){var r=imGet(srcData.data,x,y,width,height,0);var g=imGet(srcData.data,x,y,width,height,1);var b=imGet(srcData.data,x,y,width,height,2);var a=imGet(srcData.data,x,y,width,height,3);imSet(srcData.data,x,y,width,height,0,m(0,r)+m(1,g)+m(2,b)+m(3,a)+m(4,1));imSet(srcData.data,x,y,width,height,1,m(5,r)+m(6,g)+m(7,b)+m(8,a)+m(9,1));imSet(srcData.data,x,y,width,height,2,m(10,r)+m(11,g)+m(12,b)+m(13,a)+m(14,1));imSet(srcData.data,x,y,width,height,3,m(15,r)+m(16,g)+m(17,b)+m(18,a)+m(19,1));}}
ctx.clearRect(0,0,width,height);ctx.putImageData(srcData,0,0);}}
svg.Element.feColorMatrix.prototype=new svg.Element.ElementBase;svg.Element.feGaussianBlur=function(node){this.base=svg.Element.ElementBase;this.base(node);this.blurRadius=Math.floor(this.attribute('stdDeviation').numValue());this.extraFilterDistance=this.blurRadius;this.apply=function(ctx,x,y,width,height){if(typeof(stackBlurCanvasRGBA)=='undefined'){svg.log('ERROR: StackBlur.js must be included for blur to work');return;}
ctx.canvas.id=svg.UniqueId();ctx.canvas.style.display='none';document.body.appendChild(ctx.canvas);stackBlurCanvasRGBA(ctx.canvas.id,x,y,width,height,this.blurRadius);document.body.removeChild(ctx.canvas);}}
svg.Element.feGaussianBlur.prototype=new svg.Element.ElementBase;svg.Element.title=function(node){}
svg.Element.title.prototype=new svg.Element.ElementBase;svg.Element.desc=function(node){}
svg.Element.desc.prototype=new svg.Element.ElementBase;svg.Element.MISSING=function(node){svg.log('ERROR: Element \''+node.nodeName+'\' not yet implemented.');}
svg.Element.MISSING.prototype=new svg.Element.ElementBase;svg.CreateElement=function(node){var className=node.nodeName.replace(/^[^:]+:/,'');className=className.replace(/\-/g,'');var e=null;if(typeof(svg.Element[className])!='undefined'){e=new svg.Element[className](node);}
else{e=new svg.Element.MISSING(node);}
e.type=node.nodeName;return e;}
svg.load=function(ctx,url){svg.loadXml(ctx,svg.ajax(url));}
svg.loadXml=function(ctx,xml){svg.loadXmlDoc(ctx,svg.parseXml(xml));}
svg.loadXmlDoc=function(ctx,dom){svg.init(ctx);var mapXY=function(p){var e=ctx.canvas;while(e){p.x-=e.offsetLeft;p.y-=e.offsetTop;e=e.offsetParent;}
if(window.scrollX)p.x+=window.scrollX;if(window.scrollY)p.y+=window.scrollY;return p;}
if(svg.opts['ignoreMouse']!=true){ctx.canvas.onclick=function(e){var p=mapXY(new svg.Point(e!=null?e.clientX:event.clientX,e!=null?e.clientY:event.clientY));svg.Mouse.onclick(p.x,p.y);};ctx.canvas.onmousemove=function(e){var p=mapXY(new svg.Point(e!=null?e.clientX:event.clientX,e!=null?e.clientY:event.clientY));svg.Mouse.onmousemove(p.x,p.y);};}
var e=svg.CreateElement(dom.documentElement);e.root=true;var isFirstRender=true;var draw=function(){svg.ViewPort.Clear();if(ctx.canvas.parentNode)svg.ViewPort.SetCurrent(ctx.canvas.parentNode.clientWidth,ctx.canvas.parentNode.clientHeight);if(svg.opts['ignoreDimensions']!=true){if(e.style('width').hasValue()){ctx.canvas.width=e.style('width').toPixels('x');ctx.canvas.style.width=ctx.canvas.width+'px';}
if(e.style('height').hasValue()){ctx.canvas.height=e.style('height').toPixels('y');ctx.canvas.style.height=ctx.canvas.height+'px';}}
var cWidth=ctx.canvas.clientWidth||ctx.canvas.width;var cHeight=ctx.canvas.clientHeight||ctx.canvas.height;if(svg.opts['ignoreDimensions']==true&&e.style('width').hasValue()&&e.style('height').hasValue()){cWidth=e.style('width').toPixels('x');cHeight=e.style('height').toPixels('y');}
svg.ViewPort.SetCurrent(cWidth,cHeight);if(svg.opts['offsetX']!=null)e.attribute('x',true).value=svg.opts['offsetX'];if(svg.opts['offsetY']!=null)e.attribute('y',true).value=svg.opts['offsetY'];if(svg.opts['scaleWidth']!=null||svg.opts['scaleHeight']!=null){var xRatio=null,yRatio=null,viewBox=svg.ToNumberArray(e.attribute('viewBox').value);if(svg.opts['scaleWidth']!=null){if(e.attribute('width').hasValue())xRatio=e.attribute('width').toPixels('x')/svg.opts['scaleWidth'];else if(!isNaN(viewBox[2]))xRatio=viewBox[2]/svg.opts['scaleWidth'];}
if(svg.opts['scaleHeight']!=null){if(e.attribute('height').hasValue())yRatio=e.attribute('height').toPixels('y')/svg.opts['scaleHeight'];else if(!isNaN(viewBox[3]))yRatio=viewBox[3]/svg.opts['scaleHeight'];}
if(xRatio==null){xRatio=yRatio;}
if(yRatio==null){yRatio=xRatio;}
e.attribute('width',true).value=svg.opts['scaleWidth'];e.attribute('height',true).value=svg.opts['scaleHeight'];e.attribute('viewBox',true).value='0 0 '+(cWidth*xRatio)+' '+(cHeight*yRatio);e.attribute('preserveAspectRatio',true).value='none';}
if(svg.opts['ignoreClear']!=true){ctx.clearRect(0,0,cWidth,cHeight);}
e.render(ctx);if(isFirstRender){isFirstRender=false;if(typeof(svg.opts['renderCallback'])=='function')svg.opts['renderCallback'](dom);}}
var waitingForImages=true;if(svg.ImagesLoaded()){waitingForImages=false;draw();}
svg.intervalID=setInterval(function(){var needUpdate=false;if(waitingForImages&&svg.ImagesLoaded()){waitingForImages=false;needUpdate=true;}
if(svg.opts['ignoreMouse']!=true){needUpdate=needUpdate|svg.Mouse.hasEvents();}
if(svg.opts['ignoreAnimation']!=true){for(var i=0;i<svg.Animations.length;i++){needUpdate=needUpdate|svg.Animations[i].update(1000/svg.FRAMERATE);}}
if(typeof(svg.opts['forceRedraw'])=='function'){if(svg.opts['forceRedraw']()==true)needUpdate=true;}
if(needUpdate){draw();svg.Mouse.runEvents();}},1000/svg.FRAMERATE);}
svg.stop=function(){if(svg.intervalID){clearInterval(svg.intervalID);}}
svg.Mouse=new(function(){this.events=[];this.hasEvents=function(){return this.events.length!=0;}
this.onclick=function(x,y){this.events.push({type:'onclick',x:x,y:y,run:function(e){if(e.onclick)e.onclick();}});}
this.onmousemove=function(x,y){this.events.push({type:'onmousemove',x:x,y:y,run:function(e){if(e.onmousemove)e.onmousemove();}});}
this.eventElements=[];this.checkPath=function(element,ctx){for(var i=0;i<this.events.length;i++){var e=this.events[i];if(ctx.isPointInPath&&ctx.isPointInPath(e.x,e.y))this.eventElements[i]=element;}}
this.checkBoundingBox=function(element,bb){for(var i=0;i<this.events.length;i++){var e=this.events[i];if(bb.isPointInBox(e.x,e.y))this.eventElements[i]=element;}}
this.runEvents=function(){svg.ctx.canvas.style.cursor='';for(var i=0;i<this.events.length;i++){var e=this.events[i];var element=this.eventElements[i];while(element){e.run(element);element=element.parent;}}
this.events=[];this.eventElements=[];}});return svg;}})();if(typeof(CanvasRenderingContext2D)!='undefined'){CanvasRenderingContext2D.prototype.drawSvg=function(s,dx,dy,dw,dh){canvg(this.canvas,s,{ignoreMouse:true,ignoreAnimation:true,ignoreDimensions:true,ignoreClear:true,offsetX:dx,offsetY:dy,scaleWidth:dw,scaleHeight:dh});}};function RGBColor(color_string)
{this.ok=false;if(color_string.charAt(0)=='#'){color_string=color_string.substr(1,6);}
color_string=color_string.replace(/ /g,'');color_string=color_string.toLowerCase();var simple_colors={aliceblue:'f0f8ff',antiquewhite:'faebd7',aqua:'00ffff',aquamarine:'7fffd4',azure:'f0ffff',beige:'f5f5dc',bisque:'ffe4c4',black:'000000',blanchedalmond:'ffebcd',blue:'0000ff',blueviolet:'8a2be2',brown:'a52a2a',burlywood:'deb887',cadetblue:'5f9ea0',chartreuse:'7fff00',chocolate:'d2691e',coral:'ff7f50',cornflowerblue:'6495ed',cornsilk:'fff8dc',crimson:'dc143c',cyan:'00ffff',darkblue:'00008b',darkcyan:'008b8b',darkgoldenrod:'b8860b',darkgray:'a9a9a9',darkgreen:'006400',darkkhaki:'bdb76b',darkmagenta:'8b008b',darkolivegreen:'556b2f',darkorange:'ff8c00',darkorchid:'9932cc',darkred:'8b0000',darksalmon:'e9967a',darkseagreen:'8fbc8f',darkslateblue:'483d8b',darkslategray:'2f4f4f',darkturquoise:'00ced1',darkviolet:'9400d3',deeppink:'ff1493',deepskyblue:'00bfff',dimgray:'696969',dodgerblue:'1e90ff',feldspar:'d19275',firebrick:'b22222',floralwhite:'fffaf0',forestgreen:'228b22',fuchsia:'ff00ff',gainsboro:'dcdcdc',ghostwhite:'f8f8ff',gold:'ffd700',goldenrod:'daa520',gray:'808080',green:'008000',greenyellow:'adff2f',honeydew:'f0fff0',hotpink:'ff69b4',indianred:'cd5c5c',indigo:'4b0082',ivory:'fffff0',khaki:'f0e68c',lavender:'e6e6fa',lavenderblush:'fff0f5',lawngreen:'7cfc00',lemonchiffon:'fffacd',lightblue:'add8e6',lightcoral:'f08080',lightcyan:'e0ffff',lightgoldenrodyellow:'fafad2',lightgrey:'d3d3d3',lightgreen:'90ee90',lightpink:'ffb6c1',lightsalmon:'ffa07a',lightseagreen:'20b2aa',lightskyblue:'87cefa',lightslateblue:'8470ff',lightslategray:'778899',lightsteelblue:'b0c4de',lightyellow:'ffffe0',lime:'00ff00',limegreen:'32cd32',linen:'faf0e6',magenta:'ff00ff',maroon:'800000',mediumaquamarine:'66cdaa',mediumblue:'0000cd',mediumorchid:'ba55d3',mediumpurple:'9370d8',mediumseagreen:'3cb371',mediumslateblue:'7b68ee',mediumspringgreen:'00fa9a',mediumturquoise:'48d1cc',mediumvioletred:'c71585',midnightblue:'191970',mintcream:'f5fffa',mistyrose:'ffe4e1',moccasin:'ffe4b5',navajowhite:'ffdead',navy:'000080',oldlace:'fdf5e6',olive:'808000',olivedrab:'6b8e23',orange:'ffa500',orangered:'ff4500',orchid:'da70d6',palegoldenrod:'eee8aa',palegreen:'98fb98',paleturquoise:'afeeee',palevioletred:'d87093',papayawhip:'ffefd5',peachpuff:'ffdab9',peru:'cd853f',pink:'ffc0cb',plum:'dda0dd',powderblue:'b0e0e6',purple:'800080',red:'ff0000',rosybrown:'bc8f8f',royalblue:'4169e1',saddlebrown:'8b4513',salmon:'fa8072',sandybrown:'f4a460',seagreen:'2e8b57',seashell:'fff5ee',sienna:'a0522d',silver:'c0c0c0',skyblue:'87ceeb',slateblue:'6a5acd',slategray:'708090',snow:'fffafa',springgreen:'00ff7f',steelblue:'4682b4',tan:'d2b48c',teal:'008080',thistle:'d8bfd8',tomato:'ff6347',turquoise:'40e0d0',violet:'ee82ee',violetred:'d02090',wheat:'f5deb3',white:'ffffff',whitesmoke:'f5f5f5',yellow:'ffff00',yellowgreen:'9acd32'};for(var key in simple_colors){if(color_string==key){color_string=simple_colors[key];}}
var color_defs=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:['rgb(123, 234, 45)','rgb(255,234,245)'],process:function(bits){return[parseInt(bits[1]),parseInt(bits[2]),parseInt(bits[3])];}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:['#00ff00','336699'],process:function(bits){return[parseInt(bits[1],16),parseInt(bits[2],16),parseInt(bits[3],16)];}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:['#fb0','f0f'],process:function(bits){return[parseInt(bits[1]+bits[1],16),parseInt(bits[2]+bits[2],16),parseInt(bits[3]+bits[3],16)];}}];for(var i=0;i<color_defs.length;i++){var re=color_defs[i].re;var processor=color_defs[i].process;var bits=re.exec(color_string);if(bits){channels=processor(bits);this.r=channels[0];this.g=channels[1];this.b=channels[2];this.ok=true;}}
this.r=(this.r<0||isNaN(this.r))?0:((this.r>255)?255:this.r);this.g=(this.g<0||isNaN(this.g))?0:((this.g>255)?255:this.g);this.b=(this.b<0||isNaN(this.b))?0:((this.b>255)?255:this.b);this.toRGB=function(){return'rgb('+this.r+', '+this.g+', '+this.b+')';}
this.toHex=function(){var r=this.r.toString(16);var g=this.g.toString(16);var b=this.b.toString(16);if(r.length==1)r='0'+r;if(g.length==1)g='0'+g;if(b.length==1)b='0'+b;return'#'+r+g+b;}
this.getHelpXML=function(){var examples=new Array();for(var i=0;i<color_defs.length;i++){var example=color_defs[i].example;for(var j=0;j<example.length;j++){examples[examples.length]=example[j];}}
for(var sc in simple_colors){examples[examples.length]=sc;}
var xml=document.createElement('ul');xml.setAttribute('id','rgbcolor-examples');for(var i=0;i<examples.length;i++){try{var list_item=document.createElement('li');var list_color=new RGBColor(examples[i]);var example_div=document.createElement('div');example_div.style.cssText='margin: 3px; '
+'border: 1px solid black; '
+'background:'+list_color.toHex()+'; '
+'color:'+list_color.toHex();example_div.appendChild(document.createTextNode('test'));var list_item_value=document.createTextNode(' '+examples[i]+' -> '+list_color.toRGB()+' -> '+list_color.toHex());list_item.appendChild(example_div);list_item.appendChild(list_item_value);xml.appendChild(list_item);}catch(e){}}
return xml;}}
___JmolDate="$Date: 2014-05-07 15:54:44 -0500 (Wed, 07 May 2014) $";___fullJmolProperties="src/org/jmol/viewer/Jmol.properties";___JmolVersion="14.1.15";
(function(a){function h(a){try{return a?new window.ActiveXObject("Microsoft.XMLHTTP"):new window.XMLHttpRequest}catch(f){}}a.ajaxSettings.xhr=void 0===window.ActiveXObject?h:function(){return(this.url==document.location||0==this.url.indexOf("http")||!this.isLocal)&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&h()||h(1)};a.extend(a.support,{iecors:!!window.XDomainRequest});a.support.iecors?a.ajaxTransport(function(a){return{send:function(f,d){var j=new window.XDomainRequest;j.onload=function(){d(200,
"OK",{text:j.responseText},{"Content-Type":j.contentType})};a.xhrFields&&(j.onerror=a.xhrFields.error,j.ontimeout=a.xhrFields.timeout);j.open(a.type,a.url);j.send(a.hasContent&&a.data||null)},abort:function(){xdr.abort()}}}):(a.ajaxSetup({accepts:{binary:"text/plain; charset=x-user-defined"},responseFields:{binary:"response"}}),a.ajaxTransport("binary",function(a){var f;return{send:function(d,j){var c=a.xhr();c.open(a.type,a.url,a.async);var b=!1;try{c.hasOwnProperty("responseType")&&(c.responseType=
"arraybuffer",b=!0)}catch(g){}try{!b&&c.overrideMimeType&&c.overrideMimeType("text/plain; charset=x-user-defined")}catch(m){}!a.crossDomain&&!d["X-Requested-With"]&&(d["X-Requested-With"]="XMLHttpRequest");try{for(var p in d)c.setRequestHeader(p,d[p])}catch(q){}c.send(a.hasContent&&a.data||null);f=function(){var g=c.status,b="",m=c.getAllResponseHeaders(),p={};try{if(f&&4===c.readyState){f=void 0;try{p.text="string"===typeof c.responseText?c.responseText:null}catch(d){}try{p.binary=c.response}catch(q){}try{b=
c.statusText}catch(h){b=""}!g&&a.isLocal&&!a.crossDomain?g=p.text?200:404:1223===g&&(g=204);j(g,b,p,m)}}catch(t){alert(t),j(-1,t)}};a.async?4===c.readyState?setTimeout(f):c.onreadystatechange=f:f()},abort:function(){}}}))})(jQuery);
(function(a,h,e,f){function d(d,c){function b(b){a(g).each(function(){self.Jmol&&(0<=c.indexOf("mouseup")||0<=c.indexOf("touchend"))&&Jmol._setMouseOwner(null);var g=a(this);this!==b.target&&!g.has(b.target).length&&g.triggerHandler(c,[b.target,b])})}c=c||d+f;var g=a(),m=d+"."+c+"-special-event";a.event.special[c]={setup:function(){g=g.add(this);1===g.length&&a(h).bind(m,b)},teardown:function(){self.Jmol&&Jmol._setMouseOwner(null);g=g.not(this);0===g.length&&a(h).unbind(m)},add:function(a){var g=
a.handler;a.handler=function(a,b){a.target=b;g.apply(this,arguments)}}}}a.map(e.split(" "),function(a){d(a)});d("focusin","focus"+f);d("focusout","blur"+f)})(jQuery,document,"click mousemove mouseup touchmove touchend","outjsmol");"undefined"==typeof jQuery&&alert("Note -- JSmoljQuery is required for JSmol, but it's not defined.");self.Jmol||(Jmol={});
Jmol._version||(Jmol=function(a){var h=function(a){return{header:a++,rear:a++,main:a++,image:a++,front:a++,fileOpener:a++,coverImage:a++,dialog:a++,menu:a+9E4,monitorZIndex:a+99999}},h={_version:"JSmol 14.1.14 Apr 27, 2014",_alertNoBinary:!0,_allowedJmolSize:[25,2048,300],_fileCache:null,_jarFile:null,_j2sPath:null,_use:null,_j2sLoadMonitorOpacity:90,_applets:{},_asynchronous:!0,_ajaxQueue:[],_getZOrders:h,_z:h(Jmol.z||9E3),_debugCode:!0,db:{_databasePrefixes:"$=:",_fileLoadScript:";if (_loadScript = '' && defaultLoadScript == '' && _filetype == 'Pdb') { select protein or nucleic;cartoons Only;color structure; select * };",
_nciLoadScript:";n = ({molecule=1}.length < {molecule=2}.length ? 2 : 1); select molecule=n;display selected;center selected;",_pubChemLoadScript:"",_DirectDatabaseCalls:{"cactus.nci.nih.gov":"%URL","www.rcsb.org":"%URL","pubchem.ncbi.nlm.nih.gov":"%URL","http://www.nmrdb.org/tools/jmol/predict.php":"%URL",$:"http://cactus.nci.nih.gov/chemical/structure/%FILENCI/file?format=sdf&get3d=True",$$:"http://cactus.nci.nih.gov/chemical/structure/%FILENCI/file?format=sdf","=":"http://www.rcsb.org/pdb/files/%FILE.pdb",
"==":"http://www.rcsb.org/pdb/files/ligand/%FILE.cif",":":"http://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/%FILE/SDF?record_type=3d"},_restQueryUrl:"http://www.rcsb.org/pdb/rest/search",_restQueryXml:"<orgPdbQuery><queryType>org.pdb.query.simple.AdvancedKeywordQuery</queryType><description>Text Search</description><keywords>QUERY</keywords></orgPdbQuery>",_restReportUrl:"http://www.pdb.org/pdb/rest/customReport?pdbids=IDLIST&customReportColumns=structureId,structureTitle"},_debugAlert:!1,_document:a,
_isXHTML:!1,_lastAppletID:null,_mousePageX:null,_mouseOwner:null,_serverUrl:"http://your.server.here/jsmol.php",_syncId:(""+Math.random()).substring(3),_touching:!1,_XhtmlElement:null,_XhtmlAppendChild:!1};a=a.location.href.toLowerCase();h._httpProto=0==a.indexOf("https")?"https://":"http://";h._isFile=0==a.indexOf("file:");h._ajaxTestSite=h._httpProto+"google.com";a=h._isFile||0==a.indexOf("http://localhost")||0==a.indexOf("http://127.");h._tracker="http://"==h._httpProto&&!a&&"http://chemapps.stolaf.edu/jmol/JmolTracker.htm?id=UA-45940799-1";
h._isChrome=0<=navigator.userAgent.toLowerCase().indexOf("chrome");h._isSafari=!h._isChrome&&0<=navigator.userAgent.toLowerCase().indexOf("safari");h._isMsie=void 0!==window.ActiveXObject;h._useDataURI=!h._isSafari&&!h._isMsie;for(var e in Jmol)h[e]=Jmol[e];return h}(document,Jmol));
(function(a,h){a.$=function(a,b){null==a&&alert(b+arguments.callee.caller.toString());return h(b?"#"+a._id+"_"+b:a)};a._$=function(a){return"string"==typeof a?h("#"+a):a};a.$ajax=function(g){a._ajaxCall=g.url;g.cache="NO"!=g.cache;0==g.url.indexOf("http://pubchem.ncbi.nlm.nih")&&(g.url="https://"+g.url.substring(7));return h.ajax(g)};a._getNCIInfo=function(g,b){"name"==b&&(b="names");url="http://cactus.nci.nih.gov/chemical/structure/"+g+"/"+b;return a._getFileData(url)};a.$appEvent=function(g,b,c,
d){g=a.$(g,b);g.off(c)&&d&&g.on(c,d)};a.$resize=function(a){return h(window).resize(a)};a.$after=function(a,b){return h(a).after(b)};a.$bind=function(a,b,c){return c?h(a).bind(b,c):h(a).unbind(b)};a.$closest=function(a,b){return h(a).closest(b)};a.$get=function(a,b){return h(a).get(b)};a.$documentOff=function(a,b){return h(document).off(a,"#"+b)};a.$documentOn=function(a,b,c){return h(document).on(a,"#"+b,c)};a.$getAncestorDiv=function(a,b){return h("div."+b+":has(#"+a+")")[0]};a.$supportsIECrossDomainScripting=
function(){return h.support.iecors};a.$attr=function(g,b,c){return a._$(g).attr(b,c)};a.$css=function(g,b){return a._$(g).css(b)};a.$find=function(g,b){return a._$(g).find(b)};a.$focus=function(g){return a._$(g).focus()};a.$html=function(g,b){return a._$(g).html(b)};a.$offset=function(g){return a._$(g).offset()};a.$windowOn=function(a,b){return h(window).on(a,b)};a.$prop=function(g,b,c){var d=a._$(g);return 3==arguments.length?d.prop(b,c):d.prop(b)};a.$remove=function(g){return a._$(g).remove()};
a.$scrollTo=function(g,b){var c=a._$(g);return c.scrollTop(0>b?c[0].scrollHeight:b)};a.$setEnabled=function(g,b){return a._$(g).attr("disabled",b?null:"disabled")};a.$setSize=function(g,b,c){return a._$(g).width(b).height(c)};a.$setVisible=function(g,b){var c=a._$(g);return b?c.show():c.hide()};a.$submit=function(g){return a._$(g).submit()};a.$val=function(g,b){var c=a._$(g);return 1==arguments.length?c.val():c.val(b)};a._clearVars=function(){delete jQuery;delete h;delete a;delete SwingController;
delete J;delete JM;delete JS;delete JSV;delete JU;delete JV;delete java;delete javajs;delete Clazz;delete c$};var e=document,f=window,d={};d.ua=navigator.userAgent.toLowerCase();var j;a:{j=["linux","unix","mac","win"];for(var c=j.length;c--;)if(-1!=d.ua.indexOf(j[c])){j=j[c];break a}j="unknown"}d.os=j;d.browser=function(){for(var a=d.ua,b="konqueror webkit omniweb opera webtv icab msie mozilla".split(" "),c=0;c<b.length;c++)if(0<=a.indexOf(b[c]))return b[c];return"unknown"};d.browserName=d.browser();
d.browserVersion=parseFloat(d.ua.substring(d.ua.indexOf(d.browserName)+d.browserName.length+1));d.supportsXhr2=function(){return h.support.cors||h.support.iecors};d.allowDestroy="msie"!=d.browserName;d.allowHTML5="msie"!=d.browserName||0>navigator.appVersion.indexOf("MSIE 8");d.getDefaultLanguage=function(){return navigator.language||navigator.userLanguage||"en-US"};d._webGLtest=0;d.supportsWebGL=function(){if(!a.featureDetection._webGLtest){var g;a.featureDetection._webGLtest=f.WebGLRenderingContext&&
((g=e.createElement("canvas")).getContext("webgl")||g.getContext("experimental-webgl"))?1:-1}return 0<a.featureDetection._webGLtest};d.supportsLocalization=function(){for(var a=e.getElementsByTagName("meta"),b=a.length;0<=--b;)if(0<=a[b].outerHTML.toLowerCase().indexOf("utf-8"))return!0;return!1};d.supportsJava=function(){a.featureDetection._javaEnabled||(a.featureDetection._javaEnabled=a._isMsie?navigator.javaEnabled()?1:-1:navigator.javaEnabled()&&(!navigator.mimeTypes||navigator.mimeTypes["application/x-java-applet"])?
1:-1);return 0<a.featureDetection._javaEnabled};d.compliantBrowser=function(){var a=!!e.getElementById,b=d.os;if("opera"==d.browserName&&7.54>=d.browserVersion&&"mac"==b||"webkit"==d.browserName&&125.12>d.browserVersion||"msie"==d.browserName&&"mac"==b||"konqueror"==d.browserName&&3.3>=d.browserVersion)a=!1;return a};d.isFullyCompliant=function(){return d.compliantBrowser()&&d.supportsJava()};d.useIEObject="win"==d.os&&"msie"==d.browserName&&5.5<=d.browserVersion;d.useHtml4Object="mozilla"==d.browserName&&
5<=d.browserVersion||"opera"==d.browserName&&8<=d.browserVersion||"webkit"==d.browserName;d.hasFileReader=f.File&&f.FileReader;a.featureDetection=d;a._ajax=function(g){if(!g.async)return a.$ajax(g).responseText;a._ajaxQueue.push(g);1==a._ajaxQueue.length&&a._ajaxDone()};a._ajaxDone=function(){var g=a._ajaxQueue.shift();g&&a.$ajax(g)};a._grabberOptions=[["$","NCI(small molecules)"],[":","PubChem(small molecules)"],["=","RCSB(macromolecules)"]];a._getGrabberOptions=function(g){if(0==a._grabberOptions.length)return"";
var b='<input type="text" id="ID_query" onfocus="jQuery(this).select()" onkeypress="if(13==event.which){Jmol._applets[\'ID\']._search();return false}" size="32" value="" />',c='<button id="ID_submit" onclick="Jmol._applets[\'ID\']._search()">Search</button></nobr>';1==a._grabberOptions.length?(b="<nobr>"+b+'<span style="display:none">',c="</span>"+c):b+="<br /><nobr>";for(var b=b+'<select id="ID_select">',d=0;d<a._grabberOptions.length;d++)var k=a._grabberOptions[d],b=b+('<option value="'+k[0]+'" '+
(0==d?"selected":"")+">"+k[1]+"</option>");b=(b+"</select>"+c).replace(/ID/g,g._id);return"<br />"+b};a._getScriptForDatabase=function(g){return"$"==g?a.db._nciLoadScript:":"==g?a.db._pubChemLoadScript:a.db._fileLoadScript};a._setInfo=function(a,b,c){var d=[],k="";if(0==c.indexOf("ERROR"))k=c;else switch(b){case "=":b=c.split("<dimStructure.structureId>");d=["<table>"];for(c=1;c<b.length;c++)d.push('<tr><td valign=top><a href="javascript:Jmol.search('+a._id+",'="+b[c].substring(0,4)+"')\">"+b[c].substring(0,
4)+"</a></td>"),d.push("<td>"+b[c].split("Title>")[1].split("</")[0]+"</td></tr>");d.push("</table>");k=b.length-1+" matches";break;case "$":case ":":break;default:return}a._infoHeader=k;a._info=d.join("");a._showInfo(!0)};a._loadSuccess=function(g,b){b&&(a._ajaxDone(),b(g))};a._loadError=function(g){a._ajaxDone();a.say("Error connecting to server: "+a._ajaxCall);null!=g&&g()};a._isDatabaseCall=function(g){return 0<=a.db._databasePrefixes.indexOf(g.substring(0,1))};a._getDirectDatabaseCall=function(g,
b){if(b&&!a.featureDetection.supportsXhr2())return g;var c=2,d,k=a.db._DirectDatabaseCalls[g.substring(0,c)];k||(k=a.db._DirectDatabaseCalls[d=g.substring(0,--c)]);k&&(":"==d?(d=g.toLowerCase(),isNaN(parseInt(g.substring(1)))?0==d.indexOf(":smiles:")?(k+="?POST?smiles="+g.substring(8),g="smiles"):0==d.indexOf(":cid:")?g="cid/"+g.substring(5):(0==d.indexOf(":name:")?g=g.substring(5):0==d.indexOf(":cas:")&&(g=g.substring(4)),g="name/"+encodeURIComponent(g.substring(c))):g="cid/"+g.substring(1)):g=encodeURIComponent(g.substring(c)),
0<=k.indexOf("FILENCI")?(g=g.replace(/\%2F/g,"/"),g=k.replace(/\%FILENCI/,g)):g=k.replace(/\%FILE/,g));return g};a._getRawDataFromServer=function(g,b,c,d,k,l){g="?call=getRawDataFromDatabase&database="+g+(0<=b.indexOf("?POST?")?"?POST?":"")+"&query="+encodeURIComponent(b)+(k?"&encoding=base64":"")+(l?"":"&script="+encodeURIComponent(a._getScriptForDatabase(g)));return a._contactServer(g,c,d)};a._checkFileName=function(g,b,c){a._isDatabaseCall(b)&&(c&&a._setQueryTerm(g,b),b=a._getDirectDatabaseCall(b,
!0),a._isDatabaseCall(b)&&(b=a._getDirectDatabaseCall(b,!1),c&&(c[0]=!0)));return b};a._checkCache=function(g,b,c){if(g._cacheFiles&&a._fileCache&&!b.endsWith(".js")){if(g=a._fileCache[b])return System.out.println("using "+g.length+" bytes of cached data for "+b),c(g),null;c=function(g,b){c(a._fileCache[g]=b)}}return c};a._loadFileData=function(g,b,c,d){var k=[];b=a._checkFileName(g,b,k);c=a._checkCache(g,b,c);k[0]?a._getRawDataFromServer("_",b,c,d):(g={type:"GET",dataType:"text",url:b,async:a._asynchronous,
success:function(g){a._loadSuccess(g,c)},error:function(){a._loadError(d)}},a._checkAjaxPost(g),a._ajax(g))};a._getInfoFromDatabase=function(g,b,c){if("===="==b){var d=a.db._restQueryXml.replace(/QUERY/,c),d={dataType:"text",type:"POST",contentType:"application/x-www-form-urlencoded",url:a.db._restQueryUrl,data:encodeURIComponent(d)+"&req=browser",success:function(k){a._ajaxDone();a._extractInfoFromRCSB(g,b,c,k)},error:function(){a._loadError(null)},async:a._asynchronous};return a._ajax(d)}c="?call=getInfoFromDatabase&database="+
b+"&query="+encodeURIComponent(c);return a._contactServer(c,function(c){a._setInfo(g,b,c)})};a._extractInfoFromRCSB=function(g,b,c,d){var k=d.length/5;if(0!=k&&4==c.length&&1!=k){c=c.toUpperCase();var l=d.indexOf(c);0<l&&0<="123456789".indexOf(c.substring(0,1))&&(d=c+","+d.substring(0,l)+d.substring(l+5));50<k&&(d=d.substring(0,250));d=d.replace(/\n/g,",");d=a._restReportUrl.replace(/IDLIST/,d);a._loadFileData(g,d,function(c){a._setInfo(g,b,c)})}};a._checkAjaxPost=function(a){var b=a.url.indexOf("?POST?");
0<b&&(a.data=a.url.substring(b+6),a.url=a.url.substring(0,b),a.type="POST",a.contentType="application/x-www-form-urlencoded")};a._contactServer=function(g,b,c){g={dataType:"text",type:"GET",url:a._serverUrl+g,success:function(g){a._loadSuccess(g,b)},error:function(){a._loadError(c)},async:b?a._asynchronous:!1};a._checkAjaxPost(g);return a._ajax(g)};a._setQueryTerm=function(g,b){if(b&&g._hasOptions&&"http://"!=b.substring(0,7)){if(a._isDatabaseCall(b)){var c=b.substring(0,1);b=b.substring(1);b.substring(0,
1)==c&&0<="=$".indexOf(c)&&(b=b.substring(1));var d=a._getElement(g,"select");if(d&&d.options)for(var k=0;k<d.options.length;k++)d[k].value==c&&(d[k].selected=!0)}a.$val(a.$(g,"query"),b)}};a._search=function(g,b,c){1<arguments.length||(b=null);a._setQueryTerm(g,b);b||(b=a.$val(a.$(g,"query")));0==b.indexOf("!")?g._script(b.substring(1)):(b&&(b=b.replace(/\"/g,"")),g._showInfo(!1),a._searchMol(g,b,c,!0))};a._searchMol=function(g,b,c,d){var k;a._isDatabaseCall(b)?(k=b.substring(0,1),b=b.substring(1)):
k=g._hasOptions?a.$val(a.$(g,"select")):"$";"="==k&&3==b.length&&(b="="+b);var l=k+b;if(b&&!(0>l.indexOf("?")&&l==g._thisJmolModel)){g._thisJmolModel=l;var e;d&&null!=g._viewSet&&null!=(e=a.View.__findView(g._viewSet,{chemID:l}))?a.View.__setView(e,g,!1):("$"==k||":"==k?g._jmolFileType="MOL":"="==k&&(g._jmolFileType="PDB"),g._searchDatabase(b,k,c))}};a._searchDatabase=function(g,b,c,d){g._showInfo(!1);return 0<=b.indexOf("?")?(a._getInfoFromDatabase(g,c,b.split("?")[0]),!0):a.db._DirectDatabaseCalls[c]?
(g._loadFile(c+b,d),!0):!1};a._syncBinaryOK="?";a._canSyncBinary=function(g){if(self.VBArray)return a._syncBinaryOK=!1;if("?"!=a._syncBinaryOK)return a._syncBinaryOK;a._syncBinaryOK=!0;try{var b=new window.XMLHttpRequest;b.open("text",a._ajaxTestSite,!1);b.hasOwnProperty("responseType")?b.responseType="arraybuffer":b.overrideMimeType&&b.overrideMimeType("text/plain; charset=x-user-defined")}catch(c){return System.out.println("JSmolCore.js: synchronous binary file transfer is requested but not available"),
a._alertNoBinary&&!g&&alert("JSmolCore.js: synchronous binary file transfer is requested but not available"),a._syncBinaryOK=!1}return!0};a._binaryTypes=".gz .jpg .png .zip .jmol .bin .smol .spartan .mrc .pse .map .omap".split(" ");a._isBinaryUrl=function(g){for(var b=a._binaryTypes.length;0<=--b;)if(0<=g.indexOf(a._binaryTypes[b]))return!0;return!1};a._getFileData=function(b,c){var d=a._isBinaryUrl(b)?"binary":"text",e=0<=b.indexOf("pdb.gz")&&0==b.indexOf("http://www.rcsb.org/pdb/files/"),k="binary"==
d&&!a._canSyncBinary(e);k&&e&&(b=b.replace(/pdb\.gz/,"pdb"),k=!1,d="text");e=0<=b.indexOf("?POST?");0==b.indexOf("file:/")&&0!=b.indexOf("file:///")&&(b="file://"+b.substring(5));var l=0>b.indexOf("://")||0==b.indexOf(document.location.protocol)&&0<=b.indexOf(document.location.host),f=a._isDirectCall(b),j=!l&&a.$supportsIECrossDomainScripting();if(!c||k)if(j||k||!l&&!f)return a._getRawDataFromServer("_",b,c,c,k,!0);b=b.replace(/file:\/\/\/\//,"file://");var h={dataType:d,async:!!c};e?(h.type="POST",
h.url=b.split("?POST?")[0],h.data=b.split("?POST?")[1]):(h.type="GET",h.url=b);c&&(h.success=function(){c(a._xhrReturn(h.xhr))},h.error=function(){c(xhr.statusText)});h.xhr=a.$ajax(h);if(!c)return a._xhrReturn(h.xhr)};a._xhrReturn=function(a){return!a.responseText||self.Clazz&&Clazz.instanceOf(a.response,self.ArrayBuffer)?a.response||a.statusText:a.responseText};a._isDirectCall=function(b){for(var c in a.db._DirectDatabaseCalls)if(0<=c.indexOf(".")&&0<=b.indexOf(c))return!0;return!1};a._cleanFileData=
function(a){return 0<=a.indexOf("\r")&&0<=a.indexOf("\n")?a.replace(/\r\n/g,"\n"):0<=a.indexOf("\r")?a.replace(/\r/g,"\n"):a};a._getFileType=function(a){var b=a.substring(0,1);if("$"==b||":"==b)return"MOL";if("="==b)return"="==a.substring(1,2)?"LCIF":"PDB";a=a.split(".").pop().toUpperCase();return a.substring(0,Math.min(a.length,3))};a._getZ=function(b,c){return b&&b._z&&b._z[c]||a._z[c]};a._incrZ=function(b,c){return b&&b._z&&++b._z[c]||++a._z[c]};a._loadFileAsynchronously=function(b,c,d,e){if(0!=
d.indexOf("?")){d=a._checkFileName(c,d);var k=function(c){a._setData(b,d,c,e)},k=a._checkCache(c,d,k);return null==k?null:a._getFileData(d,k)}if(!a.featureDetection.hasFileReader)return b.setData("Local file reading is not enabled in your browser",null,e);c._localReader||(k='<div id="ID" style="z-index:'+a._getZ(c,"fileOpener")+';position:absolute;background:#E0E0E0;left:10px;top:10px"><div style="margin:5px 5px 5px 5px;"><input type="file" id="ID_files" /><button id="ID_loadfile">load</button><button id="ID_cancel">cancel</button></div><div>',
a.$after("#"+c._id+"_appletdiv",k.replace(/ID/g,c._id+"_localReader")),c._localReader=a.$(c,"localReader"));a.$appEvent(c,"localReader_loadfile","click");a.$appEvent(c,"localReader_loadfile","click",function(){var k=a.$(c,"localReader_files")[0].files[0],d=new FileReader;d.onloadend=function(d){d.target.readyState==FileReader.DONE&&(a.$css(a.$(c,"localReader"),{display:"none"}),a._setData(b,k.name,d.target.result,e))};d.readAsArrayBuffer(k)});a.$appEvent(c,"localReader_cancel","click");a.$appEvent(c,
"localReader_cancel","click",function(){a.$css(a.$(c,"localReader"),{display:"none"});b.setData(null,e)});a.$css(a.$(c,"localReader"),{display:"block"})};a._setData=function(b,c,d,e){d=a._strToBytes(d);0<=c.indexOf(".jdx")&&a.Cache.put("cache://"+c,d);b.setData(c,d,e)};a._toBytes=function(a){if("string"==typeof a)return a.getBytes();a=new Uint8Array(a);for(var b=Clazz.newByteArray(a.length,0),c=a.length;0<=--c;)b[c]=a[c];return b};a._doAjax=function(b,c,d){b=b.toString();if(null!=d)return a._saveFile(b,
d);c&&(b+="?POST?"+c);c=a._getFileData(b);return a._processData(c,a._isBinaryUrl(b))};a._saveFile=function(b,c,d,e){if(a._localFileSaveFunction&&a._localFileSaveFunction(b,c))return"OK";b=b.substring(b.lastIndexOf("/")+1);d||(d=0<=b.indexOf(".pdf")?"application/pdf":0<=b.indexOf(".png")?"image/png":0<=b.indexOf(".jpg")?"image/jpg":"");var k="string"==typeof c;k||(c=(JU?JU:J.util).Base64.getBase64(c).toString());e||(e=k?"":"base64");(k=a._serverUrl)&&0<=k.indexOf("your.server")&&(k="");a._useDataURI||
!k?(e||(c=btoa(c)),e=document.createElement("a"),e.href="data:"+d+";base64,"+c,e.type=d||"text/plain",e.download=b,e.target="_blank",h("body").append(e),e.click(),e.remove()):(a._formdiv||(a.$after("body",'<div id="__jsmolformdiv__" style="display:none">\t\t\t\t\t\t<form id="__jsmolform__" method="post" target="_blank" action="">\t\t\t\t\t\t<input name="call" value="saveFile"/>\t\t\t\t\t\t<input id="__jsmolmimetype__" name="mimetype" value=""/>\t\t\t\t\t\t<input id="__jsmolencoding__" name="encoding" value=""/>\t\t\t\t\t\t<input id="__jsmolfilename__" name="filename" value=""/>\t\t\t\t\t\t<textarea id="__jsmoldata__" name="data"></textarea>\t\t\t\t\t\t</form>\t\t\t\t\t\t</div>'),
a._formdiv="__jsmolform__"),a.$attr(a._formdiv,"action",k+"?"+(new Date).getMilliseconds()),a.$val("__jsmoldata__",c),a.$val("__jsmolfilename__",b),a.$val("__jsmolmimetype__",d),a.$val("__jsmolencoding__",e),a.$submit("__jsmolform__"),a.$val("__jsmoldata__",""),a.$val("__jsmolfilename__",""));return"OK"};a._processData=function(b,c){"undefined"==typeof b&&(b="",c=!1);c&&(c=a._canSyncBinary());return c?a._strToBytes(b):JU.SB.newS(b)};a._strToBytes=function(b){if(Clazz.instanceOf(b,self.ArrayBuffer))return a._toBytes(b);
for(var c=Clazz.newByteArray(b.length,0),d=b.length;0<=--d;)c[d]=b.charCodeAt(d)&255;return c};a._setConsoleDiv=function(a){self.Clazz&&Clazz.setConsoleDiv(a)};a._setJmolParams=function(b,c,d){for(var e in c)if(0<=";progressbar;progresscolor;boxbgcolor;boxfgcolor;allowjavascript;boxmessage;\t\t\t\t\t\t\t\t\t;messagecallback;pickcallback;animframecallback;appletreadycallback;atommovedcallback;\t\t\t\t\t\t\t\t\t;echocallback;evalcallback;hovercallback;language;loadstructcallback;measurecallback;\t\t\t\t\t\t\t\t\t;minimizationcallback;resizecallback;scriptcallback;statusform;statustext;statustextarea;\t\t\t\t\t\t\t\t\t;synccallback;usecommandthread;syncid;appletid;startupscript;menufile;".indexOf(";"+
e.toLowerCase()+";")&&("language"!=e||a.featureDetection.supportsLocalization()))d?b.put(e,!0===c[e]?Boolean.TRUE:!1===c[e]?Boolean.FALSE:c[e]):b[e]=c[e]};a._registerApplet=function(b,c){return window[b]=a._applets[b]=a._applets[c]=a._applets[b+"__"+a._syncId+"__"]=c};a._readyCallback=function(b,c,d,e){b=b.split("_object")[0];d=d.booleanValue?d.booleanValue():d;a._track(a._applets[b])._readyCallback(b,c,d,e)};a._getWrapper=function(b,c){var d;if(c){var e="";b._coverImage&&(d=' onclick="Jmol.coverApplet(ID, false)" title="'+
b._coverTitle+'"',e='<image id="ID_coverclickgo" src="'+b._j2sPath+'/img/play_make_live.jpg" style="width:25px;height:25px;position:absolute;bottom:10px;left:10px;z-index:'+a._getZ(b,"coverImage")+';opacity:0.5;"'+d+" />",e='<div id="ID_coverdiv" style="background-color:red;z-index:'+a._getZ(b,"coverImage")+';width:100%;height:100%;display:inline;position:absolute;top:0px;left:0px"><image id="ID_coverimage" src="'+b._coverImage+'" style="width:100%;height:100%"'+d+"/>"+e+"</div>");d='...<div id="ID_appletinfotablediv" style="width:Wpx;height:Hpx;position:relative;font-size:14px;text-align:left">IMG......<div id="ID_appletdiv" style="z-index:'+
a._getZ(b,"header")+';width:100%;height:100%;position:absolute;top:0px;left:0px;">';var k=b._height,l=b._width;if("string"!==typeof k||0>k.indexOf("%"))k+="px";if("string"!==typeof l||0>l.indexOf("%"))l+="px";d=d.replace(/IMG/,e).replace(/Hpx/g,k).replace(/Wpx/g,l)}else d='......</div>......<div id="ID_2dappletdiv" style="position:absolute;width:100%;height:100%;overflow:hidden;display:none"></div>......<div id="ID_infotablediv" style="width:100%;height:100%;position:absolute;top:0px;left:0px">.........<div id="ID_infoheaderdiv" style="height:20px;width:100%;background:yellow;display:none"><span id="ID_infoheaderspan"></span><span id="ID_infocheckboxspan" style="position:absolute;text-align:right;right:1px;"><a href="javascript:Jmol.showInfo(ID,false)">[x]</a></span></div>.........<div id="ID_infodiv" style="position:absolute;top:20px;bottom:0px;width:100%;height:100%;overflow:auto"></div>......</div>...</div>';
return d.replace(/\.\.\./g,"").replace(/[\n\r]/g,"").replace(/ID/g,b._id)};a._documentWrite=function(b){if(a._document){if(a._isXHTML&&!a._XhtmlElement){var c=document.getElementsByTagName("script");a._XhtmlElement=c.item(c.length-1);a._XhtmlAppendChild=!1}a._XhtmlElement?a._domWrite(b):a._document.write(b)}return b};a._domWrite=function(b){for(var c=[0];c[0]<b.length;){var d=a._getDomElement(b,c);if(!d)break;a._XhtmlAppendChild?a._XhtmlElement.appendChild(d):a._XhtmlElement.parentNode.insertBefore(d,
_jmol.XhtmlElement)}};a._getDomElement=function(a,b){var c=document.createElement("span");c.innerHTML=a;b[0]=a.length;return c};a._setObject=function(b,c,d){b._id=c;b.__Info={};d.z&&d.zIndexBase&&(a._z=a._getZOrders(d.zIndexBase));for(var e in d)b.__Info[e]=d[e];(b._z=d.z)||d.zIndexBase&&(b._z=b.__Info.z=a._getZOrders(d.zIndexBase));b._width=d.width;b._height=d.height;b._noscript=!b._isJava&&d.noscript;b._console=d.console;b._cacheFiles=!!d.cacheFiles;b._viewSet=null==d.viewSet||b._isJava?null:"Set"+
d.viewSet;null!=b._viewSet&&(a.View.__init(b),b._currentView=null);!a._fileCache&&b._cacheFiles&&(a._fileCache={});b._console||(b._console=b._id+"_infodiv");"none"==b._console&&(b._console=null);b._color=d.color?d.color.replace(/0x/,"#"):"#FFFFFF";b._disableInitialConsole=d.disableInitialConsole;b._noMonitor=d.disableJ2SLoadMonitor;a._j2sPath&&(d.j2sPath=a._j2sPath);b._j2sPath=d.j2sPath;b._deferApplet=d.deferApplet;b._deferUncover=d.deferUncover;b._coverImage=!b._isJava&&d.coverImage;b._isCovered=
!!b._coverImage;b._coverScript=d.coverScript;b._coverTitle=d.coverTitle;b._coverTitle||(b._coverTitle=b._deferApplet?"activate 3D model":"3D model is loading...");b._containerWidth=b._width+(b._width==parseFloat(b._width)?"px":"");b._containerHeight=b._height+(b._height==parseFloat(b._height)?"px":"");b._info="";b._infoHeader=b._jmolType+' "'+b._id+'"';b._hasOptions=d.addSelectionOptions;b._defaultModel=d.defaultModel;b._readyScript=d.script?d.script:"";b._readyFunction=d.readyFunction;b._coverImage&&
!b._deferApplet&&(b._readyScript+=";javascript "+c+"._displayCoverImage(false)");b._src=d.src};a._addDefaultInfo=function(b,c){for(var d in c)"undefined"==typeof b[d]&&(b[d]=c[d]);a._use&&(b.use=a._use);0<=b.use.indexOf("SIGNED")&&(0>b.jarFile.indexOf("Signed")&&(b.jarFile=b.jarFile.replace(/Applet/,"AppletSigned")),b.use=b.use.replace(/SIGNED/,"JAVA"),b.isSigned=!0)};a._syncedApplets=[];a._syncedCommands=[];a._syncedReady=[];a._syncReady=!1;a._isJmolJSVSync=!1;a._setReady=function(b){a._syncedReady[b]=
1;for(var c=0,d=0;d<a._syncedApplets.length;d++){if(a._syncedApplets[d]==b._id)a._syncedApplets[d]=b,a._syncedReady[d]=1;else if(!a._syncedReady[d])continue;c++}c==a._syncedApplets.length&&a._setSyncReady()};a._setDestroy=function(b){a.featureDetection.allowDestroy&&a.$windowOn("beforeunload",function(){a._destroy(b)})};a._destroy=function(b){try{b._applet&&b._applet.destroy();b._applet=null;a._unsetMouse(b._canvas);b._canvas=null;for(var c=0,d=0;d<a._syncedApplets.length;d++)a._syncedApplets[d]==
b&&(a._syncedApplets[d]=null),a._syncedApplets[d]&&c++;0<c||a._clearVars()}catch(e){}};a._setSyncReady=function(){a._syncReady=!0;for(var b="",c=0;c<a._syncedApplets.length;c++)a._syncedCommands[c]&&(b+="Jmol.script(Jmol._syncedApplets["+c+"], Jmol._syncedCommands["+c+"]);");setTimeout(b,50)};a._mySyncCallback=function(b,c){app=a._applets[b];if(app._viewSet)a.View.updateFromSync(app,c);else{if(!a._syncReady||!a._isJmolJSVSync)return 1;for(var d=0;d<a._syncedApplets.length;d++)0<=c.indexOf(a._syncedApplets[d]._syncKeyword)&&
a._syncedApplets[d]._syncScript(c);return 0}};a._getElement=function(b,a){return document.getElementById(b._id+"_"+a)||{}};a._evalJSON=function(b,a){b+="";if(!b)return[];if("{"!=b.charAt(0))return 0<=b.indexOf(" | ")&&(b=b.replace(/\ \|\ /g,"\n")),b;var c=(new Function("return "+b))();return!c?null:a&&void 0!=c[a]?c[a]:c};a._sortMessages=function(b){function a(b,c){return b[0]<c[0]?1:b[0]>c[0]?-1:0}if(!b||"object"!=typeof b)return[];for(var c=[],d=b.length-1;0<=d;d--)for(var k=0,l=b[d].length;k<l;k++)c[c.length]=
b[d][k];if(0!=c.length)return c=c.sort(a)};a._setMouseOwner=function(b,c){null==b||c?a._mouseOwner=b:a._mouseOwner==b&&(a._mouseOwner=null)};a._jsGetMouseModifiers=function(b){var a=0;switch(b.button){case 0:a=16;break;case 1:a=8;break;case 2:a=4}b.shiftKey&&(a+=1);b.altKey&&(a+=8);b.ctrlKey&&(a+=2);return a};a._jsGetXY=function(b,c){if(!b.applet._ready||a._touching&&0>c.type.indexOf("touch"))return!1;c.preventDefault();var d=a.$offset(b.id),e,k=c.originalEvent;a._mousePageX=c.pageX;a._mousePageY=
c.pageY;k.targetTouches&&k.targetTouches[0]?(e=k.targetTouches[0].pageX-d.left,d=k.targetTouches[0].pageY-d.top):k.changedTouches?(e=k.changedTouches[0].pageX-d.left,d=k.changedTouches[0].pageY-d.top):(e=c.pageX-d.left,d=c.pageY-d.top);return void 0==e?null:[Math.round(e),Math.round(d),a._jsGetMouseModifiers(c)]};a._gestureUpdate=function(b,c){c.stopPropagation();c.preventDefault();var d=c.originalEvent;switch(c.type){case "touchstart":a._touching=!0;break;case "touchend":a._touching=!1}if(!d.touches||
2!=d.touches.length)return!1;switch(c.type){case "touchstart":b._touches=[[],[]];break;case "touchmove":var e=a.$offset(b.id),k=b._touches[0],l=b._touches[1];k.push([d.touches[0].pageX-e.left,d.touches[0].pageY-e.top]);l.push([d.touches[1].pageX-e.left,d.touches[1].pageY-e.top]);d=k.length;3<d&&(k.shift(),l.shift());2<=d&&b.applet._processGesture(b._touches)}return!0};a._jsSetMouse=function(b){a.$bind(b,"mousedown touchstart",function(c){a._setMouseOwner(b,!0);c.stopPropagation();c.preventDefault();
b.isDragging=!0;if("touchstart"==c.type&&a._gestureUpdate(b,c))return!1;a._setConsoleDiv(b.applet._console);var d=a._jsGetXY(b,c);if(!d)return!1;2!=c.button&&a.Swing.hideMenus(b.applet);b.applet._processEvent(501,d);return!1});a.$bind(b,"mouseup touchend",function(c){a._setMouseOwner(null);c.stopPropagation();c.preventDefault();b.isDragging=!1;if("touchend"==c.type&&a._gestureUpdate(b,c))return!1;c=a._jsGetXY(b,c);if(!c)return!1;b.applet._processEvent(502,c);return!1});a.$bind(b,"mousemove touchmove",
function(c){c.stopPropagation();c.preventDefault();if("touchmove"==c.type&&a._gestureUpdate(b,c))return!1;c=a._jsGetXY(b,c);if(!c)return!1;b.isDragging||(c[2]=0);b.applet._processEvent(b.isDragging?506:503,c);return!1});a.$bind(b,"DOMMouseScroll mousewheel",function(c){c.stopPropagation();c.preventDefault();b.isDragging=!1;var d=c.originalEvent,d=d.detail?d.detail:("mac"==a.featureDetection.os?1:-1)*d.wheelDelta;c=a._jsGetMouseModifiers(c);b.applet._processEvent(-1,[0>d?-1:1,0,c]);return!1});a.$bind(b,
"contextmenu",function(){return!1});a.$bind(b,"mouseout",function(c){b.applet._applet&&b.applet._applet.viewer.startHoverWatcher(!1);b.isDragging=!1;c=a._jsGetXY(b,c);if(!c)return!1;b.applet._processEvent(502,c);b.applet._processEvent(505,c);return!1});a.$bind(b,"mouseenter",function(c){b.applet._applet&&b.applet._applet.viewer.startHoverWatcher(!0);if(0===c.buttons||0===c.which){b.isDragging=!1;c=a._jsGetXY(b,c);if(!c)return!1;b.applet._processEvent(504,c);b.applet._processEvent(502,c);return!1}});
b.applet._is2D&&a.$resize(function(){b.applet&&b.applet._resize()});a.$bind("body","mouseup touchend",function(){b.applet&&(b.isDragging=!1);a._setMouseOwner(null)})};a._jsUnsetMouse=function(b){b.applet=null;a.$bind(b,"mousedown touchstart mousemove touchmove mouseup touchend DOMMouseScroll mousewheel contextmenu mouseout mouseenter",null);a._setMouseOwner(null)};a.Swing={count:0,menuInitialized:0,menuCounter:0,htDialogs:{}};var b=a.Swing;SwingController=b;b.setDraggable=function(b){b=b.prototype;
b.setContainer||(b.setContainer=function(b){this.container=b;b.obj=this;this.ignoreMouse=this.isDragging=!1;var c=this;b.bind("mousedown touchstart",function(b){if(c.ignoreMouse)return c.ignoreMouse=!1,!0;a._setMouseOwner(c,!0);c.isDragging=!0;c.pageX=b.pageX;c.pageY=b.pageY;return!1});b.bind("mousemove touchmove",function(b){if(c.isDragging&&a._mouseOwner==c)return c.mouseMove(b),!1});b.bind("mouseup touchend",function(b){c.mouseUp(b);a._setMouseOwner(null)})},b.mouseUp=function(b){if(this.isDragging&&
a._mouseOwner==this)return this.pageX0+=b.pageX-this.pageX,this.pageY0+=b.pageY-this.pageY,this.isDragging=!1;a._setMouseOwner(null)},b.setPosition=function(){if(null===a._mousePageX){var b=a.$offset(this.applet._id+"_"+(this.applet._is2D?"canvas2d":"canvas"));a._mousePageX=b.left;a._mousePageY=b.top}this.pageX0=a._mousePageX;this.pageY0=a._mousePageY;this.container.css({top:a._mousePageY+"px",left:a._mousePageX+"px"})},b.mouseMove=function(b){this.isDragging&&a._mouseOwner==this&&this.container.css({top:this.pageY0+
(b.pageY-this.pageY)+"px",left:this.pageX0+(b.pageX-this.pageX)+"px"})},b.dragBind=function(b){this.container.unbind("mousemoveoutjsmol");this.container.unbind("touchmoveoutjsmol");this.container.unbind("mouseupoutjsmol");this.container.unbind("touchendoutjsmol");a._setMouseOwner(null);if(b){var c=this;this.container.bind("mousemoveoutjsmol touchmoveoutjsmol",function(b,a,g){c.mouseMove(g)});this.container.bind("mouseupoutjsmol touchendoutjsmol",function(b,a,g){c.mouseUp(g)})}})};b.JSDialog=function(){};
b.setDraggable(b.JSDialog);b.getScreenDimensions=function(b){b.width=h(window).width();b.height=h(window).height()};b.dispose=function(c){a.$remove(c.id+"_mover");delete b.htDialogs[c.id];c.container.obj.dragBind(!1)};b.register=function(a,c){a.id=c+ ++b.count;b.htDialogs[a.id]=a};b.setDialog=function(c){a._setMouseOwner(null);a.$remove(c.id);var d=c.id+"_mover",e=a._$(d),f;e[0]?(e.html(c.html),f=e[0].jd):(a.$after("body","<div id='"+d+"' style='position:absolute;left:0px;top:0px;'>"+c.html+"</div>"),
f=new b.JSDialog,e=a._$(d),c.container=e,f.applet=c.manager.vwr.applet,f.setContainer(e),f.dialog=c,f.setPosition(),f.dragBind(!0),e[0].jd=f);a.$bind("#"+c.id+" .JButton","mousedown touchstart",function(){f.ignoreMouse=!0});a.$bind("#"+c.id+" .JComboBox","mousedown touchstart",function(){f.ignoreMouse=!0});a.$bind("#"+c.id+" .JCheckBox","mousedown touchstart",function(){f.ignoreMouse=!0});a.$bind("#"+c.id+" .JTextField","mousedown touchstart",function(){f.ignoreMouse=!0});a.$bind("#"+c.id+" .JTable",
"mousedown touchstart",function(){f.ignoreMouse=!0});a.$bind("#"+c.id+" .JScrollPane","mousedown touchstart",function(){f.ignoreMouse=!0});a.$bind("#"+c.id+" .JEditorPane","mousedown touchstart",function(){f.ignoreMouse=!0})};b.setSelected=function(b){a.$prop(b.id,"checked",!!b.selected)};b.setSelectedIndex=function(b){a.$prop(b.id,"selectedIndex",b.selectedIndex)};b.setText=function(b){a.$prop(b.id,"value",b.text)};b.setVisible=function(b){a.$setVisible(b.id,b.visible)};b.setEnabled=function(b){a.$setEnabled(b.id,
b.enabled)};b.click=function(c,d){var e=b.htDialogs[c.id];if(e){var f=e.toString();if(0<=f.indexOf("JCheck"))e.selected=c.checked;else if(0<=f.indexOf("JCombo"))e.selectedIndex=c.selectedIndex;else if(null!=e.text&&(e.text=c.value,d&&13!=(d.charCode||d.keyCode)))return}f=b.htDialogs[a.$getAncestorDiv(c.id,"JDialog").id];f.manager.actionPerformed(e?e.name:f.registryKey+"/"+c.id)};b.setFront=function(b){var c=b.manager.vwr.applet;b.zIndex!=a._getZ(c,"dialog")&&(b.zIndex=a._incrZ(c,"dialog"));b.container&&
((b.container[0]||b.container).style.zIndex=b.zIndex)};b.hideMenus=function(a){if(a=a._menus)for(var c in a)a[c].visible&&b.hideMenu(a[c])};b.windowClosing=function(c){c=b.htDialogs[a.$getAncestorDiv(c.id,"JDialog").id];c.registryKey?c.manager.processWindowClosing(c.registryKey):c.dispose()};a._track=function(b){if(a._tracker){try{var c='<iframe style="display:none" width="0" height="0" frameborder="0" tabindex="-1" src="'+(a._tracker+"&applet="+b._jmolType+"&version="+a._version+"&appver="+self.___JmolVersion+
"&url="+encodeURIComponent(document.location.href))+'"></iframe>';a.$after("body",c)}catch(d){}delete a._tracker}return b};a.getProfile=function(){window["j2s.doProfile"]=!0;if(self.Clazz&&self.JSON)return Clazz._profile||(Clazz._profile={}),Clazz.getProfile()};a._getInChIKey=function(b,a){0<=a.indexOf("MOL=")&&a.split("MOL=")[1].split('"')};a._getAttr=function(b,a){var c=b.indexOf(a+"=");return 0<=c&&0<=(c=b.indexOf('"',c))?b.substring(c+1,b.indexOf('"',c+1)):null};a.User={viewUpdatedCallback:null};
a.View={count:0,applets:{},sets:{}};(function(b){b.updateView=function(c,d){if(null!=c._viewSet){d.chemID||(c._searchQuery=null);d.data||(d.data="N/A");d.type=c._viewType;if(null==(c._currentView=b.__findView(c._viewSet,d)))c._currentView=b.__createViewSet(c._viewSet,d.chemID,d.viewID||d.chemID);c._currentView[d.type].data=d.data;c._currentView[d.type].smiles=c._getSmiles();a.User.viewUpdatedCallback&&a.User.viewUpdatedCallback(c,"updateView");b.__setView(c._currentView,c,!1)}};b.updateFromSync=function(c,
d){c._updateMsg=d;var e=a._getAttr(d,"sourceID")||a._getAttr(d,"file");if(e){var k=b.__findView(c._viewSet,{viewID:e});if(null==k)return a.updateView(c,d);k!=c._currentView&&b.__setView(k,c,!0);var l=(e=a._getAttr(d,"atoms"))&&0<=d.indexOf("selectionhalos ON")?eval("["+e+"]"):[];setTimeout(function(){c._currentView==k&&b.updateAtomPick(c,l)},10);a.User.viewUpdatedCallback&&a.User.viewUpdatedCallback(c,"updateFromSync")}};b.updateAtomPick=function(b,c){var g=b._currentView;if(null!=g){for(var k in g)"info"!=
k&&g[k].applet!=b&&g[k].applet._updateAtomPick(c);a.User.viewUpdatedCallback&&a.User.viewUpdatedCallback(b,"updateAtomPick")}};b.dumpViews=function(a){var c=b.sets[a];if(c){var d="View set "+a+":\n";a=b.applets[a];for(var k in a)d+="\napplet "+a[k]._id+" currentView="+(a[k]._currentView?a[k]._currentView.info.viewID:null);for(k=c.length;0<=--k;){a=c[k];var d=d+("\n\n<b>view="+k+" viewID="+a.info.viewID+" chemID="+a.info.chemID+"</b>\n"),l,e;for(e in a)"info"!=e&&(d+="\nview="+k+" type="+e+" applet="+
((l=a[e]).applet?l.applet._id:null)+" SMILES="+l.smiles+"\n atomMap="+JSON.stringify(l.atomMap)+"\n data=\n"+l.data+"\n")}return d}};b.__init=function(a){var c=a._viewSet,d=b.applets;d[c]||(d[c]={});d[c][a._viewType]=a};b.__findView=function(a,c){var d=b.sets[a];null==d&&(d=b.sets[a]=[]);for(var k=d.length;0<=--k;){var l=d[k];if(c.viewID){if(l.info.viewID==c.viewID)return l}else{if(null!=c.chemID&&c.chemID==l.info.chemID)return l;for(var e in l)if("info"!=e&&(null!=c.data&&null!=l[e].data?c.data==
l[e].data:c.type==e))return l}}return null};b.__createViewSet=function(c,d,e){b.count++;d={info:{chemID:d,viewID:e||"model_"+b.count}};for(var k in a._applets)e=a._applets[k],e._viewSet==c&&(d[e._viewType]={applet:e,data:null});b.sets[c].push(d);return d};b.__setView=function(b,a,c){for(var g in b)if("info"!=g){var d=b[g],e=d.applet,f=c||null!=e&&"<modified>"==e._molData;if(!(null==e||e==a&&!f)){var j=null==d.data,h=null!=e._currentView;e._currentView=b;if(!h||!(b[g].data==d.data&&!j&!f))if(e._loadModelFromView(b),
j)break}}}})(a.View);a.Cache={fileCache:{}};a.Cache.get=function(b){return a.Cache.fileCache[b]};a.Cache.put=function(b,c){a.Cache.fileCache[b]=c};a.Cache.setDragDrop=function(b){a.$appEvent(b,"appletdiv","dragover",function(b){b=b.originalEvent;b.stopPropagation();b.preventDefault();b.dataTransfer.dropEffect="copy"});a.$appEvent(b,"appletdiv","drop",function(c){c=c.originalEvent;c.stopPropagation();c.preventDefault();var d=c.dataTransfer.files[0];c=new FileReader;c.onloadend=function(c){if(c.target.readyState==
FileReader.DONE){var k="cache://DROP_"+d.name;c=a._toBytes(c.target.result);b._applet.viewer.cacheFileByName("cache://DROP_*",!1);"JSV"==b._viewType||k.endsWith(".jdx")?a.Cache.put(k,c):b._applet.viewer.cachePut(k,c);b._applet.viewer.openFileAsyncSpecial(k,1)}};c.readAsArrayBuffer(d)})}})(Jmol,jQuery);Jmol._debugCode=!1;
(function(a){a._coreFiles=[];a.__execLog=[];a.__execStack=[];a.__execTimer=0;a.__coreSet=[];a.__coreMore=[];a.__execDelayMS=100;a.showExecLog=function(){return a.__execLog.join("\n")};a.__addExec=function(h){var e="JSmol load "+h[0]._id+" "+h[3];self.console&&console.log(e+"...");a.__execLog.push(e);a.__execStack.push(h)};a.__addCoreFile=function(h,e,f){if(!(0<=a.__coreSet.join("").indexOf(h))){a.__coreSet.push(h);a.__coreSet.sort();h=a.__coreSet.join("");a._coreFiles=[e+"/core/core"+("jmol"==h?"":
h)+".z.js"];if(f&&(f=f.split(" ")))for(h=0;h<f.length;h++)0>a.__coreMore.join("").indexOf(f[h])&&a.__coreMore.push(e+"/core/core"+f[h]+".z.js");for(h=0;h<a.__coreMore.length;h++)a._coreFiles.push(a.__coreMore[h])}};a.__nextExecution=function(h){delete a.__execTimer;for(var e=a.__execStack,f;0<e.length&&"done"==(f=e[0])[4];)e.shift();0!=e.length&&(h?(f.push("done"),h="JSmol exec "+f[0]._id+" "+f[3]+" "+f[2],self.console&&console.log(h+" -- OK"),a.__execLog.push(h),f[1](f[0],f[2])):setTimeout("Jmol.__nextExecution(true)",
10))};a.__loadClazz=function(h){a.__clazzLoaded?a.__nextExecution():(a.__clazzLoaded=!0,LoadClazz(),h._noMonitor&&(Clazz._LoaderProgressMonitor.showStatus=function(){}),LoadClazz=null,Clazz._Loader.globalLoaded=function(){Clazz._LoaderProgressMonitor.showStatus("Application loaded.",!0);if(!a._debugCode||!a.haveCore)a.haveCore=!0,a.__nextExecution()},Clazz._Loader.packageClasspath("java",null,!0))};a.__loadClass=function(h,e){Clazz._Loader.loadClass(e,function(){a.__nextExecution()})};a._Canvas2D=
function(h,e,f,d){this._uniqueId=(""+Math.random()).substring(3);this._id=h;this._is2D=!0;this._isJava=!1;this._jmolType="Jmol._Canvas2D ("+f+")";switch(f){case "Jmol":this._platform="J.awtjs2d.Platform";break;case "JSV":this._isLayered=this._isJSV=!0,this._platform="JSV.awtjs2d.Platform"}if(d)return this;window[h]=this;this._createCanvas(h,e);if(!a._document||this._deferApplet)return this;this._init();return this};a._jsSetPrototype=function(h){h._init=function(){this._setupJS();this._showInfo(!0);
this._disableInitialConsole&&this._showInfo(!1)};h._createCanvas=function(e,f,d){a._setObject(this,e,f);d&&(this._GLmol=d,this._GLmol.applet=this,this._GLmol.id=this._id);d=a._getWrapper(this,!0);this._deferApplet||(a._document?(a._documentWrite(d),this._getCanvas(!1),d=""):(this._deferApplet=!0,d+='<script type="text/javascript">'+e+"._cover(false)\x3c/script>"));d+=a._getWrapper(this,!1);f.addSelectionOptions&&(d+=a._getGrabberOptions(this));a._debugAlert&&!a._document&&alert(d);this._code=a._documentWrite(d)};
h._cover=function(e){if(e||!this._deferApplet)this._displayCoverImage(e);else{var f=this._coverScript?this._coverScript:"";this._coverScript="";this._deferUncover&&(f+=";refresh;javascript "+this._id+"._displayCoverImage(false)");this._script(f,!0);this._deferUncover&&"activate 3D model"==this._coverTitle&&(a._getElement(this,"coverimage").title="3D model is loading...");this._start();this._deferUncover||this._displayCoverImage(e);this._init&&this._init()}};h._displayCoverImage=function(e){this._coverImage&&
this._isCovered!=e&&(this._isCovered=e,a._getElement(this,"coverdiv").style.display=e?"block":"none")};h._start=function(){this._deferApplet&&this._getCanvas(!1);this._defaultModel&&a._search(this,this._defaultModel);this._showInfo(!1)};h._getCanvas=function(a){this._is2D?this._createCanvas2d(a):this._GLmol.create()};h._createCanvas2d=function(e){var f=a.$(this,"appletdiv");if(e)try{f[0].removeChild(this._canvas),this._canvas.frontLayer&&f[0].removeChild(this._canvas.frontLayer),this._canvas.rearLayer&&
f[0].removeChild(this._canvas.rearLayer),this._canvas.imageLayer&&f[0].removeChild(this._canvas.imageLayer),a._jsUnsetMouse(this._mouseInterface)}catch(d){}e=Math.round(f.width());var j=Math.round(f.height()),c=document.createElement("canvas");c.applet=this;this._canvas=c;c.style.width="100%";c.style.height="100%";c.width=e;c.height=j;c.id=this._id+"_canvas2d";f.append(c);a._$(c.id).css({"z-index":a._getZ(this,"main")});if(this._isLayered){var b=document.createElement("div");c.imageLayer=b;b.id=this._id+
"_imagelayer";f.append(b);a._$(b.id).css({zIndex:a._getZ(this,"image"),position:"absolute",left:"0px",top:"0px",width:"0px",height:"0px",overflow:"hidden"});this._mouseInterface=this._getLayer("front",f,e,j,!1)}else this._mouseInterface=c;a._jsSetMouse(this._mouseInterface)};h._getLayer=function(e,f,d,j,c){var b=document.createElement("canvas");this._canvas[e+"Layer"]=b;b.style.width="100%";b.style.height="100%";b.id=this._id+"_"+e+"Layer";b.width=d;b.height=j;f.append(b);b.applet=this;a._$(b.id).css({background:c?
"rgb(0,0,0,1)":"rgb(0,0,0,0.001)","z-index":a._getZ(this,e),position:"absolute",left:"0px",top:"0px",overflow:"hidden"});return b};h._setupJS=function(){window["j2s.lib"]={base:this._j2sPath+"/",alias:".",console:this._console,monitorZIndex:a._getZ(this,"monitorZIndex")};0==a.__execStack.length&&a.__addExec([this,a.__loadClazz,null,"loadClazz"]);this._isJSV?(a.__addCoreFile("jsv",this._j2sPath,this.__Info.preloadCore),a._debugCode&&(a.__addExec([this,a.__loadClass,"JSV.appletjs.JSVApplet","load JSV"]),
this._isPro&&a.__addExec([this,a.__loadClass,"JSV.appletjs.JSVAppletPro","load JSV(signed)"]))):(a.__addCoreFile("jmol",this._j2sPath,this.__Info.preloadCore),this._is2D||a.__addExec([this,a.__loadClass,"J.export.JSExporter","load JSExporter"]),a._debugCode&&a.__addExec([this,a.__loadClass,"J.appletjs.Jmol","load Jmol"]));a.__addExec([this,this.__startAppletJS,null,"start applet"]);this._isSigned=!0;this._ready=!1;this._applet=null;this._canScript=function(){return!0};this._savedOrientations=[];a.__execTimer&&
clearTimeout(a.__execTimer);a.__execTimer=setTimeout(a.__nextExecution,a.__execDelayMS)};h.__startAppletJS=function(e){var f=new java.util.Hashtable;a._setJmolParams(f,e.__Info,!0);f.put("appletReadyCallback","Jmol._readyCallback");f.put("applet",!0);f.put("name",e._id);f.put("syncId",a._syncId);e._color&&f.put("bgcolor",e._color);e._is2D?e._startupScript&&f.put("script",e._startupScript):f.put("script","set multipleBondSpacing 0.35;");a._syncedApplets.length&&f.put("synccallback","Jmol._mySyncCallback");
f.put("signedApplet","true");f.put("platform",e._platform);e._is2D&&f.put("display",e._id+"_canvas2d");f.put("documentBase",document.location.href);var d=e._j2sPath+"/";if(0>d.indexOf("://")){var j=document.location.href.split("#")[0].split("?")[0].split("/");j[j.length-1]=d;d=j.join("/")}f.put("codePath",d);a._registerApplet(e._id,e);e._applet=!e._isJSV?new J.appletjs.Jmol(f):e._isPro?new JSV.appletjs.JSVAppletPro(f):new JSV.appletjs.JSVApplet(f);e._is2D||(e._GLmol.applet=e);e._jsSetScreenDimensions();
a.__nextExecution()};h._jsSetScreenDimensions=function(){if(this._applet){var e=a._getElement(this,this._is2D?"canvas2d":"canvas");this._applet.viewer.setScreenDimension(e.width,e.height)}};h._show=function(e){a.$setVisible(a.$(this,"appletdiv"),e);e&&a._repaint(this,!0)};h._canScript=function(){return!0};h._delay=function(a,f,d){this._delayID=setTimeout(function(){a.resumeEval(f,!1)},d)};h._createDomNode=function(a,f){a=this._id+"_"+a;var d=document.getElementById(a);d&&document.body.removeChild(d);
if(f){0==f.indexOf("<?")&&(f=f.substring(f.indexOf("<",1)));if(0<=f.indexOf("/>")){for(var d=f.split("/>"),j=d.length-1;0<=--j;)for(var c=d[j],b=c.lastIndexOf("<")+1,g=b,m=c.length,h="";++g<m;)if(0<=" \t\n\r".indexOf(c.charAt(g))){h=c.substring(b,g);d[j]=c+"></"+h+">";break}f=d.join("")}d=document.createElement("_xml");d.id=a;d.innerHTML=f;d.style.display="none";document.body.appendChild(d);return d}};h.equals=function(a){return this==a};h.clone=function(){return this};h.hashCode=function(){return parseInt(this._uniqueId)};
h._processGesture=function(a){return this._applet.viewer.mouse.processTwoPointGesture(a)};h._processEvent=function(a,f){this._applet.viewer.processMouseEvent(a,f[0],f[1],f[2],System.currentTimeMillis())};h._resize=function(){var e="__resizeTimeout_"+this._id;a[e]&&clearTimeout(a[e]);var f=this;a[e]=setTimeout(function(){a._repaint(f,!0);a[e]=null},100)};return h};a._repaint=function(h,e){if(h&&h._applet){var f=a.$(h,"appletdiv"),d=Math.round(f.width()),f=Math.round(f.height());if(h._is2D&&(h._canvas.width!=
d||h._canvas.height!=f))h._getCanvas(!0),h._applet.viewer.setDisplay(h._canvas);h._applet.viewer.setScreenDimension(d,f);e?setTimeout(function(){h._applet&&h._applet.viewer.updateJS(0,0)}):h._applet.viewer.updateJS(0,0)}};a._getHiddenCanvas=function(a,e,f,d,j){e=a._id+"_"+e;(a=document.getElementById(e))&&j&&(a=null);a||(a=document.createElement("canvas"));a.width=a.style.width=f;a.height=a.style.height=d;a.id!=e&&(a.id=e);return a};a._loadImage=function(h,e,f,d,j){var c=e[1];if(null==j)return j=
new Image,j.onload=function(){a._loadImage(h,e,null,d,j)},null!=f&&(f=J.io.Base64.getBase64(f).toString(),f=c.substring(url.lastIndexOf("/")+1),0<=f.indexOf(".png")||f.indexOf(".jpg")),j.src=c,!0;f=j.width;var b=j.height,g="echo_"+e[0],m=a._getHiddenCanvas(h.vwr.applet,g,f,b,!0);m.imageWidth=f;m.imageHeight=b;m.id=g;m.image=j;a._setCanvasImage(m,f,b);d(m,c)};a._setCanvasImage=function(a,e,f){a.buf32=null;a.width=e;a.height=f;a.getContext("2d").drawImage(a.image,0,0,e,f)}})(Jmol);
(function(a,h){a._Applet=function(d,e,c){window[d]=this;this._jmolType="Jmol._Applet"+(e.isSigned?" (signed)":"");this._viewType="Jmol";this._isJava=!0;this._syncKeyword="Select:";if(c)return this;this._isSigned=e.isSigned;this._readyFunction=e.readyFunction;this._ready=!1;this._isJava=!0;this._isInfoVisible=!1;this._applet=null;this._memoryLimit=e.memoryLimit||512;this._canScript=function(){return!0};this._savedOrientations=[];this._initialize=function(b,c){var d=!1;a._jarFile&&(c=a._jarFile);if(this._jarFile){var f=
this._jarFile;0<=f.indexOf("/")?(alert("This web page URL is requesting that the applet used be "+f+". This is a possible security risk, particularly if the applet is signed, because signed applets can read and write files on your local machine or network."),"yes"==prompt("Do you want to use applet "+f+"? ","yes or no")?(b=f.substring(0,f.lastIndexOf("/")),c=f.substring(f.lastIndexOf("/")+1)):d=!0):c=f;this_isSigned=e.isSigned=0<=c.indexOf("Signed")}this._jarPath=e.jarPath=b||".";this._jarFile=e.jarFile=
"string"==typeof c?c:(c?"JmolAppletSigned":"JmolApplet")+"0.jar";d&&alert("The web page URL was ignored. Continuing using "+this._jarFile+' in directory "'+this._jarPath+'"');void 0==a.controls||a.controls._onloadResetForms()};this._create(d,e);return this};var e=a._Applet,f=a._Applet.prototype;e._get=function(d,f,c){c||(c=!1);f||(f={});a._addDefaultInfo(f,{color:"#FFFFFF",width:300,height:300,addSelectionOptions:!1,serverURL:"http://your.server.here/jsmol.php",defaultModel:"",script:null,src:null,
readyFunction:null,use:"HTML5",jarPath:"java",jarFile:"JmolApplet0.jar",isSigned:!1,j2sPath:"j2s",coverImage:null,coverTitle:"",coverCommand:"",deferApplet:!1,deferUncover:!1,disableJ2SLoadMonitor:!1,disableInitialConsole:!1,debug:!1});a._debugAlert=f.debug;a.featureDetection.allowHTML5||(f.use="JAVA");f.serverURL&&(a._serverUrl=f.serverURL);for(var b=!1,g=null,m=f.use.toUpperCase().split("#")[0].split(" "),h=0;h<m.length;h++){switch(m[h]){case "JAVA":b=!0;a.featureDetection.supportsJava()&&(g=new e(d,
f,c));break;case "WEBGL":g=e._getCanvas(d,f,c,!0);break;case "HTML5":g=e._getCanvas(d,f,c,!1);break;case "IMAGE":g=new a._Image(d,f,c)}if(null!=g)break}null==g&&(c||!b?g={_jmolType:"none"}:b&&(g=new e(d,f)));return c?g:a._registerApplet(d,g)};e._getCanvas=function(d,f,c,b){return b&&a.featureDetection.supportsWebGL()?(a._Canvas3D.prototype=a.GLmol.extendApplet(a._jsSetPrototype(new e(d,f,!0))),new a._Canvas3D(d,f,"Jmol",c)):!b?(a._Canvas2D.prototype=a._jsSetPrototype(new e(d,f,!0)),new a._Canvas2D(d,
f,"Jmol",c)):null};e._noJavaMsg="Either you do not have Java applets enabled in your web<br />browser or your browser is blocking this applet.<br />\t\t\tCheck the warning message from your browser and/or enable Java applets in<br />\t\t\tyour web browser preferences, or install the Java Runtime Environment from <a href='http://www.java.com'>www.java.com</a>";e._setCommonMethods=function(a){a._showInfo=f._showInfo;a._search=f._search;a._getName=f._getName;a._readyCallback=f._readyCallback};e._createApplet=
function(d,f,c){d._initialize(f.jarPath,f.jarFile);var b=d._jarFile,g="";a._isFile&&(b=b.replace(/0\.jar/,".jar"),g=' jnlp_href="'+b.replace(/\.jar/,".jnlp")+'"');var m=0<=d._containerWidth.indexOf("px")?d._containerWidth:"100%",p=0<=d._containerHeight.indexOf("px")?d._containerHeight:"100%",m=' style="width:'+m+";height:"+p+'" ',g="name='"+d._id+"_object' id='"+d._id+"_object' \n"+m+g+"\n";c.codebase=d._jarPath;c.codePath=c.codebase+"/";0>c.codePath.indexOf("://")&&(p=h.location.href.split("#")[0].split("?")[0].split("/"),
p[p.length-1]=c.codePath,c.codePath=p.join("/"));c.archive=b;c.mayscript="true";c.java_arguments="-Xmx"+Math.round(f.memoryLimit||d._memoryLimit)+"m";c.permissions=d._isSigned?"all-permissions":"sandbox";c.documentLocation=h.location.href;c.documentBase=h.location.href.split("#")[0].split("?")[0];c.jarPath=f.jarPath;a._syncedApplets.length&&(c.synccallback="Jmol._mySyncCallback");d._startupScript&&(c.script=d._startupScript);var p="\n",q;for(q in c)c[q]&&(p+="  <param name='"+q+"' value='"+c[q]+"' />\n");
p=a.featureDetection.useIEObject||a.featureDetection.useHtml4Object?"<object "+g+(a.featureDetection.useIEObject?" classid='clsid:8AD9C840-044E-11D1-B3E9-00805F499D93' codebase='http://java.sun.com/update/1.6.0/jinstall-6u22-windows-i586.cab'>":" type='application/x-java-applet'>")+p+"<p style='background-color:yellow;"+m.split('"')[1]+";text-align:center;vertical-align:middle;'>\n"+e._noJavaMsg+"</p></object>\n":"<applet "+g+" code='"+c.code+"' codebase='"+d._jarPath+"' archive='"+b+"' mayscript='true'>\n"+
p+"<table bgcolor='yellow'><tr><td align='center' valign='middle' "+m+">\n"+e._noJavaMsg+"</td></tr></table></applet>\n";p=a._getWrapper(d,!0)+p+a._getWrapper(d,!1)+(f.addSelectionOptions?a._getGrabberOptions(d):"");a._debugAlert&&alert(p);d._code=a._documentWrite(p)};f._create=function(d,f){a._setObject(this,d,f);var c={syncId:a._syncId,progressbar:"true",progresscolor:"blue",boxbgcolor:this._color||"black",boxfgcolor:"white",boxmessage:"Downloading JmolApplet ...",script:this._color?'background "'+
this._color+'"':"",code:"JmolApplet.class"};a._setJmolParams(c,f);var b;f.inlineModel?(b=f.inlineModel,b=b.replace(/\r|\n|\r\n/g,0<=b.indexOf("|")?"\\/n":"|").replace(/'/g,"&#39;"),a._debugAlert&&alert("inline model:\n"+b)):b="";c.loadInline=b;c.appletReadyCallback="Jmol._readyCallback";a._syncedApplets.length&&(c.synccallback="Jmol._mySyncCallback");c.java_arguments="-Xmx"+Math.round(f.memoryLimit||this._memoryLimit)+"m";this._initialize(f.jarPath,f.jarFile);e._createApplet(this,f,c)};f._readyCallback=
function(d,e,c,b){c&&(a._setDestroy(this),this._ready=!0,d=this._readyScript,this._applet=b,this._defaultModel?a._search(this,this._defaultModel,d?";"+d:""):d?this._script(d):this._src&&this._script('load "'+this._src+'"'),this._showInfo(!0),this._showInfo(!1),a.Cache.setDragDrop(this),this._readyFunction&&this._readyFunction(this),a._setReady(this),(b=this._2dapplet)&&(b._isEmbedded&&b._ready&&b.__Info.visible)&&this._show2d(!0))};f._showInfo=function(d){d&&this._2dapplet&&this._2dapplet._show(!1);
a.$html(a.$(this,"infoheaderspan"),this._infoHeader);this._info&&a.$html(a.$(this,"infodiv"),this._info);if(!this._isInfoVisible!=!d){this._isInfoVisible=d;if(this._isJava){var e=d?2:"100%";a.$setSize(a.$(this,"appletdiv"),e,e)}a.$setVisible(a.$(this,"infotablediv"),d);a.$setVisible(a.$(this,"infoheaderdiv"),d);this._show(!d)}};f._show2d=function(a){this._2dapplet._show2d(a);this._2dapplet._isEmbedded&&(this._showInfo(!1),this._show(!a))};f._getAtomCorrelation=function(a){this._loadMolData(a,"atommap = compare({1.1} {2.1} 'MAP' 'H'); zap 2.1",
!0);a=jmol._evaluate("atommap");for(var e=jmol._evaluate("{*}.count"),c=[],b=[],g=0;g<a.length;g++){var f=a[g];c[f[0]+1]=f[1]-e+1;b[f[1]-e+1]=f[0]+1}return{fromJmol:c,toJmol:b}};f._show=function(d){var e=!d?2:"100%";a.$setSize(a.$(this,"object"),e,e);this._isJava||a.$setVisible(a.$(this,"appletdiv"),d)};f._clearConsole=function(){this._console==this._id+"_infodiv"&&(this.info="");self.Clazz&&(a._setConsoleDiv(this._console),Clazz.Console.clear())};f._addScript=function(a){this._readyScript||(this.readyScript=
"");this._readyScript&&(this._readyScript+=";");this._readyScript+=a;return!0};f._script=function(d){if(!this._ready)return this._addScript(d);a._setConsoleDiv(this._console);this._applet.script(d)};f._syncScript=function(a){this._applet.syncScript(a)};f._scriptCheck=function(a){return this._ready&&this._applet.scriptCheck(a)};f._scriptWait=function(a,e){var c=this._scriptWaitAsArray(a),b="";if(!e)for(var g=c.length;0<=--g;)for(var f=0,h=c[g].length;f<h;f++)b+=c[g][f]+"\n";return b};f._scriptEcho=
function(a){a=this._scriptWaitAsArray(a);for(var e="",c=a.length;0<=--c;)for(var b=a[c].length;0<=--b;)"scriptEcho"==a[c][b][1]&&(e+=a[c][b][3]+"\n");return e.replace(/ \| /g,"\n")};f._scriptMessage=function(a){a=this._scriptWaitAsArray(a);for(var e="",c=a.length;0<=--c;)for(var b=a[c].length;0<=--b;)"scriptStatus"==a[c][b][1]&&(e+=a[c][b][3]+"\n");return e.replace(/ \| /g,"\n")};f._scriptWaitOutput=function(a){var e="";try{a&&(e+=this._applet.scriptWaitOutput(a))}catch(c){}return e};f._scriptWaitAsArray=
function(d){var e="";try{if(this._getStatus("scriptEcho,scriptMessage,scriptStatus,scriptError"),d&&(e+=this._applet.scriptWait(d),e=a._evalJSON(e,"jmolStatus"),"object"==typeof e))return e}catch(c){}return[[e]]};f._getStatus=function(d){return a._sortMessages(this._getPropertyAsArray("jmolStatus",d))};f._getPropertyAsArray=function(d,e){return a._evalJSON(this._getPropertyAsJSON(d,e),d)};f._getPropertyAsString=function(a,e){void 0==e&&(e="");return this._applet.getPropertyAsString(a,e)+""};f._getPropertyAsJSON=
function(a,e){void 0==e&&(e="");try{return this._applet.getPropertyAsJSON(a,e)+""}catch(c){return""}};f._getPropertyAsJavaObject=function(a,e){void 0==e&&(e="");return this._applet.getProperty(a,e)};f._evaluate=function(a){null!=a||(a="");return this._getPropertyAsArray("variableInfo",a)};f._evaluateDEPRECATED=function(a){a=""+this._getPropertyAsJavaObject("evaluate",a);var e=a.replace(/\-*\d+/,"");if(""==e&&!isNaN(parseInt(a)))return parseInt(a);e=a.replace(/\-*\d*\.\d*/,"");return""==e&&!isNaN(parseFloat(a))?
parseFloat(a):a};f._saveOrientation=function(a){return this._savedOrientations[a]=this._getPropertyAsArray("orientationInfo","info").moveTo};f._restoreOrientation=function(a){a=this._savedOrientations[a];return!a||""==a?a.replace(/1\.0/,"0"):this._scriptWait(a)};f._restoreOrientationDelayed=function(a,e){1>arguments.length&&(e=1);var c=this._savedOrientations[a];return!c||""==c?c.replace(/1\.0/,e):this._scriptWait(c)};f._resizeApplet=function(d){function e(b,c){var d=""+b;return 0==d.length?c?"":
a._allowedJmolSize[2]:d.indexOf("%")==d.length-1?d:1>=(b=parseFloat(b))&&0<b?100*b+"%":(isNaN(b=Math.floor(b))?a._allowedJmolSize[2]:b<a._allowedJmolSize[0]?a._allowedJmolSize[0]:b>a._allowedJmolSize[1]?a._allowedJmolSize[1]:b)+(c?c:"")}var c;"object"==typeof d&&null!=d?(c=d[0]||d.width,d=d[1]||d.height):c=d;c=[e(c,"px"),e(d,"px")];d=a._getElement(this,"appletinfotablediv");d.style.width=c[0];d.style.height=c[1];this._containerWidth=c[0];this._containerHeight=c[1];this._is2D&&a._repaint(this,!0)};
f._search=function(d,e){a._search(this,d,e)};f._searchDatabase=function(d,e,c){if(this._2dapplet&&this._2dapplet._isEmbedded&&a.$(this,"2dappletdiv:visible")[0])return this._2dapplet._searchDatabase(d,e,c);this._showInfo(!1);0<=d.indexOf("?")?a._getInfoFromDatabase(this,e,d.split("?")[0]):(c||(c=a._getScriptForDatabase(e)),d=e+d,this._currentView=null,this._searchQuery=d,this._loadFile(d,c,d))};f._loadFile=function(d,e,c){this._showInfo(!1);e||(e="");this._thisJmolModel=""+Math.random();this._fileName=
d;if(!this._scriptLoad(d,e)){var b=this;a._loadFileData(this,d,function(a){b.__loadModel(a,e,c)},function(){b.__loadModel(null)})}};f._scriptLoad=function(a,e){e||(e="");var c=this._isJava||!this._noscript;c&&this._script("zap;set echo middle center;echo Retrieving data...");if(!this._isSigned||null!=this._viewSet)return!1;c?this._script('load async "'+a+'";'+e):this._applet.viewer.openFile(a);this._checkDeferred("");return!0};f.__loadModel=function(d,e,c){null!=d&&(null!=this._viewSet&&(e||(e=""),
e+=";if ({*}.molecule.max > 1 || {*}.modelindex.max > 0){ delete molecule > 1 or modelindex > 0;x = getProperty('extractModel',{*});load inline @x};"),!e&&this._noscript?this._applet.viewer.loadInline(d,"\x00"):this._loadMolData(d,e,!1),null!=this._viewSet&&a.View.updateView(this,{chemID:c,data:d}))};f._loadMolData=function(a,e,c){e||(e="");c=c?"append":"model";this._applet.scriptWait('load DATA "'+c+'"'+a+'\nEND "'+c+'" ;'+e)};f._loadModelFromView=function(d){this._currentView=d;var e=d.Jmol;null!=
e.data?this.__loadModel(e.data,null,d.info.chemID):null!=d.info.chemID?a._searchMol(this,d.info.chemID,null,!1):(e=d.JME)&&e.applet._show2d(!1,this)};f._updateView=function(){null!=this._viewSet&&this._applet&&(chemID=""+this._getPropertyAsJavaObject("variableInfo","script('show chemical inchiKey')"),chemID=36>chemID.length()?null:chemID.substring(36).split("\n")[0],a.View.updateView(this,{chemID:chemID,data:""+this._getPropertyAsJavaObject("evaluate","extractModel","{visible}")}))};f._atomPickedCallback=
function(d,e){if(!(0>e)){var c=[e+1];a.View.updateAtomPick(this,c);this._updateAtomPick(c)}};f._updateAtomPick=function(a){this._script(0==a.length?"select none":"select on visible and (@"+a.join(",@")+")")};f._isDeferred=function(){return!this._canvas&&this._cover&&this._isCovered&&this._deferApplet};f._checkDeferred=function(a){return this._isDeferred()?(this._coverScript=a,this._cover(!1),!0):!1};f._getSmiles=function(){return this._evaluate("{visible}.find('SMILES')")};f._getMol=function(){return this._evaluate("getProperty('ExtractModel',{visible})")};
f._getMol2D=function(){return jmol._evaluate("script('select visible;show chemical sdf')")};a.jmolSmiles=function(a){return a._getSmiles()}})(Jmol,document);
(function(a){var h=a.controls={_hasResetForms:!1,_scripts:[""],_checkboxMasters:{},_checkboxItems:{},_actions:{},_buttonCount:0,_checkboxCount:0,_radioGroupCount:0,_radioCount:0,_linkCount:0,_cmdCount:0,_menuCount:0,_previousOnloadHandler:null,_control:null,_element:null,_appletCssClass:null,_appletCssText:"",_buttonCssClass:null,_buttonCssText:"",_checkboxCssClass:null,_checkboxCssText:"",_radioCssClass:null,_radioCssText:"",_linkCssClass:null,_linkCssText:"",_menuCssClass:null,_menuCssText:""};
h._addScript=function(a,f){var d=h._scripts.length;h._scripts[d]=[a,f];return d};h._getIdForControl=function(a,f){return"string"==typeof a?a:!f||!a._canScript||a._canScript(f)?a._id:null};h._radio=function(a,f,d,j,c,b,g,m){var p=h._getIdForControl(a,f);if(null==p)return null;++h._radioCount;void 0!=b&&null!=b||(b="jmolRadioGroup"+(h._radioGroupCount-1));if(!f)return"";void 0!=g&&null!=g||(g="jmolRadio"+(h._radioCount-1));void 0!=d&&null!=d||(d=f.substring(0,32));c||(c="");a="</span>";h._actions[g]=
h._addScript(p,f);f='<span id="span_'+g+'"'+(m?' title="'+m+'"':"")+"><input name='"+b+"' id='"+g+"' type='radio' onclick='Jmol.controls._click(this);return true;' onmouseover='Jmol.controls._mouseOver(this);return true;' onmouseout='Jmol.controls._mouseOut()' "+(j?"checked='true' ":"")+h._radioCssText+" />";0<=d.toLowerCase().indexOf("<td>")&&(f+=a,a="");return f+('<label for="'+g+'">'+d+"</label>"+a+c)};h._scriptExecute=function(e,f){var d=a._applets[f[0]],h=f[1];if("object"==typeof h)h[0](e,h,
d);else"function"==typeof h?h(d):a.script(d,h)};h.__checkScript=function(a,f){var d=0<=f.value.indexOf("JSCONSOLE ")||""===a._scriptCheck(f.value);f.style.color=d?"black":"red";return d};h.__getCmd=function(a,f){if(f._cmds&&f._cmds.length){var d=f._cmds[f._cmdpt=(f._cmdpt+f._cmds.length+a)%f._cmds.length];setTimeout(function(){f.value=d},10);f._cmdadd=1;f._cmddir=a}};h._commandKeyPress=function(e,f,d){e=13==e?13:window.event?window.event.keyCode:e?e.keyCode||e.which:0;var j=document.getElementById(f),
c=a._applets[d];switch(e){case 13:f=j.value;if(h.__checkScript(c,j)&&(h._scriptExecute(j,[d,f])||1))j._cmds||(j._cmds=[],j._cmddir=0,j._cmdpt=-1,j._cmdadd=0),f&&0==j._cmdadd?(++j._cmdpt,j._cmds.splice(j._cmdpt,0,f),j._cmdadd=0,j._cmddir=0):j._cmdadd=0,j.value="";return!1;case 27:return setTimeout(function(){j.value=""},20),!1;case 38:h.__getCmd(-1,j);break;case 40:h.__getCmd(1,j);break;default:j._cmdadd=0}setTimeout(function(){h.__checkScript(c,j)},20);return!0};h._click=function(a,f){h._element=
a;1==arguments.length&&(f=h._actions[a.id]);h._scriptExecute(a,h._scripts[f])};h._menuSelected=function(a){var f=a.value;if(void 0!=f)h._scriptExecute(a,h._scripts[f]);else{f=a.length;if("number"==typeof f)for(var d=0;d<f;++d)if(a[d].selected){h._click(a[d],a[d].value);return}alert("?Que? menu selected bug #8734")}};h._cbNotifyMaster=function(a){var f=!0,d=!0,j;for(j in a.chkGroup)a.chkGroup[j].checked?d=!1:f=!1;f&&(a.chkMaster.checked=!0);d&&(a.chkMaster.checked=!1);(f||d)&&h._checkboxItems[a.chkMaster.id]&&
h._cbNotifyMaster(h._checkboxItems[a.chkMaster.id])};h._cbNotifyGroup=function(a,f){for(var d in a.chkGroup){var j=a.chkGroup[d];j.checked!=f&&(j.checked=f,h._cbClick(j));h._checkboxMasters[j.id]&&h._cbNotifyGroup(h._checkboxMasters[j.id],f)}};h._cbSetCheckboxGroup=function(a,f,d){var j=a;"number"==typeof j&&(j="jmolCheckbox"+j);(a=document.getElementById(j))||alert("jmolSetCheckboxGroup: master checkbox not found: "+j);var c=h._checkboxMasters[j]={};c.chkMaster=a;c.chkGroup={};"string"==typeof f?
(f=d,j=1):j=0;for(a=j;a<f.length;a++)j=f[a],"number"==typeof j&&(j="jmolCheckbox"+j),(checkboxItem=document.getElementById(j))||alert("jmolSetCheckboxGroup: group checkbox not found: "+j),c.chkGroup[j]=checkboxItem,h._checkboxItems[j]=c};h._cbClick=function(a){h._control=a;var f=h._actions[a.id][0],d=h._actions[a.id][1];h._click(a,a.checked?f:d);h._checkboxMasters[a.id]&&h._cbNotifyGroup(h._checkboxMasters[a.id],a.checked);h._checkboxItems[a.id]&&h._cbNotifyMaster(h._checkboxItems[a.id])};h._cbOver=
function(a){var f=h._actions[a.id][0],d=h._actions[a.id][1];window.status=h._scripts[a.checked?d:f]};h._mouseOver=function(a,f){1==arguments.length&&(f=h._actions[a.id]);window.status=h._scripts[f]};h._mouseOut=function(){window.status=" ";return!0};h._onloadResetForms=function(){h._hasResetForms||(h._hasResetForms=!0,h._previousOnloadHandler=window.onload,window.onload=function(){if(0<h._buttonCount+h._checkboxCount+h._menuCount+h._radioCount+h._radioGroupCount)for(var a=document.forms,f=a.length;0<=
--f;)a[f].reset();h._previousOnloadHandler&&h._previousOnloadHandler()})};h._getButton=function(e,f,d,j,c){e=h._getIdForControl(e,f);if(null==e)return"";void 0!=j&&null!=j||(j="jmolButton"+h._buttonCount);void 0!=d&&null!=d||(d=f.substring(0,32));++h._buttonCount;h._actions[j]=h._addScript(e,f);f='<span id="span_'+j+'"'+(c?' title="'+c+'"':"")+"><input type='button' name='"+j+"' id='"+j+"' value='"+d+"' onclick='Jmol.controls._click(this)' onmouseover='Jmol.controls._mouseOver(this);return true' onmouseout='Jmol.controls._mouseOut()' "+
h._buttonCssText+" /></span>";a._debugAlert&&alert(f);return a._documentWrite(f)};h._getCheckbox=function(e,f,d,j,c,b,g){var m=h._getIdForControl(e,f);null!=m&&(m=h._getIdForControl(e,d));if(null==m)return"";void 0!=b&&null!=b||(b="jmolCheckbox"+h._checkboxCount);++h._checkboxCount;if(void 0==f||null==f||void 0==d||null==d)alert("jmolCheckbox requires two scripts");else if(void 0==j||null==j)alert("jmolCheckbox requires a label");else return h._actions[b]=[h._addScript(m,f),h._addScript(m,d)],e="</span>",
c='<span id="span_'+b+'"'+(g?' title="'+g+'"':"")+"><input type='checkbox' name='"+b+"' id='"+b+"' onclick='Jmol.controls._cbClick(this)' onmouseover='Jmol.controls._cbOver(this);return true' onmouseout='Jmol.controls._mouseOut()' "+(c?"checked='true' ":"")+h._checkboxCssText+" />",0<=j.toLowerCase().indexOf("<td>")&&(c+=e,e=""),c+='<label for="'+b+'">'+j+"</label>"+e,a._debugAlert&&alert(c),a._documentWrite(c)};h._getCommandInput=function(e,f,d,j,c){e=h._getIdForControl(e,"x");if(null==e)return"";
void 0!=j&&null!=j||(j="jmolCmd"+h._cmdCount);void 0!=f&&null!=f||(f="Execute");void 0!=d&&!isNaN(d)||(d=60);++h._cmdCount;f='<span id="span_'+j+'"'+(c?' title="'+c+'"':"")+"><input name='"+j+"' id='"+j+"' size='"+d+"' onkeydown='return Jmol.controls._commandKeyPress(event,\""+j+'","'+e+"\")' /><input  type='button' name='"+j+"Btn' id='"+j+"Btn' value = '"+f+"' onclick='Jmol.controls._commandKeyPress(13,\""+j+'","'+e+"\")' /></span>";a._debugAlert&&alert(f);return a._documentWrite(f)};h._getLink=
function(e,f,d,j,c){e=h._getIdForControl(e,f);if(null==e)return"";void 0!=j&&null!=j||(j="jmolLink"+h._linkCount);void 0!=d&&null!=d||(d=f.substring(0,32));++h._linkCount;f=h._addScript(e,f);d='<span id="span_'+j+'"'+(c?' title="'+c+'"':"")+"><a name='"+j+"' id='"+j+"' href='javascript:Jmol.controls._click(null,"+f+");' onmouseover='Jmol.controls._mouseOver(null,"+f+");return true;' onmouseout='Jmol.controls._mouseOut()' "+h._linkCssText+">"+d+"</a></span>";a._debugAlert&&alert(d);return a._documentWrite(d)};
h._getMenu=function(e,f,d,j,c){var b=h._getIdForControl(e,null);void 0!=j&&null!=j||(j="jmolMenu"+h._menuCount);++h._menuCount;b=typeof f;if(null!=b&&"object"==b&&f.length){var g=f.length;"number"!=typeof d||1==d?d=null:0>d&&(d=g);d='<span id="span_'+j+'"'+(c?' title="'+c+'"':"")+"><select name='"+j+"' id='"+j+"' onChange='Jmol.controls._menuSelected(this)'"+(d?" size='"+d+"' ":"")+h._menuCssText+">";for(j=0;j<g;++j){var m=f[j],b=typeof m,p=null,q=c=null;"object"==b&&null!=m?(p=m[0],c=m[1],q=m[2]):
p=c=m;b=h._getIdForControl(e,p);if(null==b)return"";null==c&&(c=p);"#optgroup"==p?d+="<optgroup label='"+c+"'>":"#optgroupEnd"==p?d+="</optgroup>":(b=h._addScript(b,p),d+="<option value='"+b+(q?"' selected='true'>":"'>")+c+"</option>")}d+="</select></span>";a._debugAlert&&alert(d);return a._documentWrite(d)}};h._getRadio=function(e,f,d,j,c,b,g,m){0==h._radioGroupCount&&++h._radioGroupCount;b||(b="jmolRadioGroup"+(h._radioGroupCount-1));e=h._radio(e,f,d,j,c,b,g?g:b+"_"+h._radioCount,m?m:0);if(null==
e)return"";a._debugAlert&&alert(e);return a._documentWrite(e)};h._getRadioGroup=function(e,f,d,j,c,b){var g=typeof f;if("object"!=g||null==g||!f.length)alert("invalid arrayOfRadioButtons");else{void 0!=d&&null!=d||(d="&#xa0; ");var m=f.length;++h._radioGroupCount;j||(j="jmolRadioGroup"+(h._radioGroupCount-1));for(var p="<span id='"+(c?c:j)+"'>",q=0;q<m;++q){q==m-1&&(d="");var k=f[q],g=typeof k,l=null,p="object"==g?p+(l=h._radio(e,k[0],k[1],k[2],d,j,3<k.length?k[3]:(c?c:j)+"_"+q,4<k.length?k[4]:0,
b)):p+(l=h._radio(e,k,null,null,d,j,(c?c:j)+"_"+q,b));if(null==l)return""}p+="</span>";a._debugAlert&&alert(p);return a._documentWrite(p)}}})(Jmol);
(function(a){var h=function(a){a="&"+a+"=";return decodeURI(("&"+document.location.search.substring(1)+a).split(a)[1].split("&")[0])};a._j2sPath=h("_J2S");a._jarFile=h("_JAR");a._use=h("_USE");a.getVersion=function(){return a._jmolInfo.version};a.getApplet=function(e,f,d){return a._Applet._get(e,f,d)};a.getJMEApplet=function(e,f,d,h){return a._JMEApplet._get(e,f,d,h)};a.getJSVApplet=function(e,f,d){return a._JSVApplet._get(e,f,d)};a.loadFile=function(a,f,d){a._loadFile(f,d)};a.script=function(a,f){a._checkDeferred(f)||
a._script(f)};a.scriptCheck=function(a,f){return a&&a._scriptCheck&&a._ready&&a._scriptCheck(f)};a.scriptWait=function(a,f){return a._scriptWait(f)};a.scriptEcho=function(a,f){return a._scriptEcho(f)};a.scriptMessage=function(a,f){return a._scriptMessage(f)};a.scriptWaitOutput=function(a,f){return a._scriptWait(f)};a.scriptWaitAsArray=function(a,f){return a._scriptWaitAsArray(f)};a.search=function(a,f,d){a._search(f,d)};a.evaluateVar=function(a,f){return a._evaluate(f)};a.evaluate=function(a,f){return a._evaluateDEPRECATED(f)};
a.getAppletHtml=function(e,f){if(f){var d=a._document;a._document=null;e=a.getApplet(e,f);a._document=d}return e._code};a.getPropertyAsArray=function(a,f,d){return a._getPropertyAsArray(f,d)};a.getPropertyAsJavaObject=function(a,f,d){return a._getPropertyAsJavaObject(f,d)};a.getPropertyAsJSON=function(a,f,d){return a._getPropertyAsJSON(f,d)};a.getPropertyAsString=function(a,f,d){return a._getPropertyAsString(f,d)};a.getStatus=function(a,f){return a._getStatus(f)};a.resizeApplet=function(a,f){return a._resizeApplet(f)};
a.restoreOrientation=function(a,f){return a._restoreOrientation(f)};a.restoreOrientationDelayed=function(a,f,d){return a._restoreOrientationDelayed(f,d)};a.saveOrientation=function(a,f){return a._saveOrientation(f)};a.say=function(a){alert(a)};a.clearConsole=function(a){a._clearConsole()};a.getInfo=function(a){return a._info};a.setInfo=function(a,f,d){a._info=f;2<arguments.length&&a._showInfo(d)};a.showInfo=function(a,f){a._showInfo(f)};a.show2d=function(a,f){a._show2d(f)};a.jmolBr=function(){return a._documentWrite("<br />")};
a.jmolButton=function(e,f,d,h,c){return a.controls._getButton(e,f,d,h,c)};a.jmolCheckbox=function(e,f,d,h,c,b,g){return a.controls._getCheckbox(e,f,d,h,c,b,g)};a.jmolCommandInput=function(e,f,d,h,c){return a.controls._getCommandInput(e,f,d,h,c)};a.jmolHtml=function(e){return a._documentWrite(e)};a.jmolLink=function(e,f,d,h,c){return a.controls._getLink(e,f,d,h,c)};a.jmolMenu=function(e,f,d,h,c){return a.controls._getMenu(e,f,d,h,c)};a.jmolRadio=function(e,f,d,h,c,b,g,m){return a.controls._getRadio(e,
f,d,h,c,b,g,m)};a.jmolRadioGroup=function(e,f,d,h,c,b){return a.controls._getRadioGroup(e,f,d,h,c,b)};a.setCheckboxGroup=function(e,f){a.controls._cbSetCheckboxGroup(e,f,arguments)};a.setDocument=function(e){a._document=e};a.setXHTML=function(e){a._isXHTML=!0;a._XhtmlElement=null;a._XhtmlAppendChild=!1;e&&(a._XhtmlElement=document.getElementById(e),a._XhtmlAppendChild=!0)};a.setAppletCss=function(e,f){null!=e&&(a.controls._appletCssClass=e);a.controls._appletCssText=f?f+" ":e?'class="'+e+'" ':""};
a.setButtonCss=function(e,f){null!=e&&(a.controls._buttonCssClass=e);a.controls._buttonCssText=f?f+" ":e?'class="'+e+'" ':""};a.setCheckboxCss=function(e,f){null!=e&&(a.controls._checkboxCssClass=e);a.controls._checkboxCssText=f?f+" ":e?'class="'+e+'" ':""};a.setRadioCss=function(e,f){null!=e&&(a.controls._radioCssClass=e);a.controls._radioCssText=f?f+" ":e?'class="'+e+'" ':""};a.setLinkCss=function(e,f){null!=e&&(a.controls._linkCssClass=e);a.controls._linkCssText=f?f+" ":e?'class="'+e+'" ':""};
a.setMenuCss=function(e,f){null!=e&&(a.controls._menuCssClass=e);a.controls._menuCssText=f?f+" ":e?'class="'+e+'" ':""};a.setAppletSync=function(e,f,d){a._syncedApplets=e;a._syncedCommands=f;a._syncedReady={};a._isJmolJSVSync=d};a.setGrabberOptions=function(e){a._grabberOptions=e};a.setAppletHtml=function(e,f){e._code&&(a.$html(f,e._code),e._init&&!e._deferApplet&&e._init())};a.coverApplet=function(a,f){a._cover&&a._cover(f)};a.setFileCaching=function(e,f){e?e._cacheFiles=f:a.fileCache=f?{}:null};
a.updateView=function(a,f,d){a._updateView(f,d)};a.getChemicalInfo=function(e,f,d){f||(f="name");"string"!=typeof applet_or_Identifier&&(e=e._getSmiles());return a._getNCIInfo(e,f,d)};a.saveImage=function(a){switch(a._viewType){case "Jmol":a._script('write PNGJ "'+a._id+'.png"');break;case "JSV":a._script("write PDF");break;case "JME":a._script("print")}}})(Jmol);
LoadClazz=function(){window["j2s.clazzloaded"]||(window["j2s.clazzloaded"]=!1);window["j2s.clazzloaded"]||(window["j2s.clazzloaded"]=!0,window["j2s.object.native"]=!0,Clazz=function(){},function(a){a.__debuggingBH=!1;a._globals=["j2s.clazzloaded","j2s.object.native"];a.setGlobal=function(c,b){a._globals.push(c);window[c]=b};a.getGlobals=function(){return a._globals.sort().join("\n")};a._profile=window["j2s.doProfile"]&&self.JSON?{}:null;a.getProfile=function(){var c="";if(a._profile){var c=[],b;for(b in a._profile){var g=
""+a._profile[b];c.push("        ".substring(g.length)+g+"\t"+b)}c=c.sort().reverse().join("\r\n");a._profile={}}return c};a.addProfile=function(c,b,g){c=c.__CLASS_NAME__+" "+b+" "+JSON.stringify(g);a._profile[c]||(a._profile[c]=0);a._profile[c]++};NullObject=function(){};a._supportsNativeObject=window["j2s.object.native"];a._supportsNativeObject?(a._O=function(){},a._O.__CLASS_NAME__="Object",a._O.getClass=function(){return a._O}):a._O=Object;a.Console={};a.dateToString=Date.prototype.toString;a.getSignature=
function(a,b,g,d){return d?a[b]=g:a[b]};a.addProto=function(c,b,g){a.getSignature(c,b,g,!0)};var h=a._O.prototype;a.addProto(h,"equals",function(a){return this==a});a.addProto(h,"hashCode",function(){try{return this.toString().hashCode()}catch(a){var b=":",g;for(g in this)b+=g+":";return b.hashCode()}});a.addProto(h,"getClass",function(){return a.getClass(this)});a.addProto(h,"clone",function(){return a.clone(this)});a.clone=function(a){var b=new a.constructor,g;for(g in a)b[g]=a[g];return b};a.addProto(h,
"finalize",function(){});a.addProto(h,"notify",function(){});a.addProto(h,"notifyAll",function(){});a.addProto(h,"wait",function(){});a.addProto(h,"to$tring",Object.prototype.toString);a.addProto(h,"toString",function(){return null!=this.__CLASS_NAME__?"["+this.__CLASS_NAME__+" object]":this.to$tring.apply(this,arguments)});a._extendedObjectMethods="equals hashCode getClass clone finalize notify notifyAll wait to$tring toString".split(" ");a.extendJO=function(c,b){b&&(c.__CLASS_NAME__=c.prototype.__CLASS_NAME__=
b);if(a._supportsNativeObject)for(var g=0;g<a._extendedObjectMethods.length;g++){var d=a._extendedObjectMethods[g];a.getSignature(c.prototype,d,a._O.prototype[d],!0)}};a.extractClassName=function(a){a=a.substring(1,a.length-1);return 0<=a.indexOf("Array")?"Array":0<=a.indexOf("object ")?a.substring(7):a};a.getClassName=function(c,b){if(null==c)return"NullObject";if(c instanceof a.CastedNull)return c.clazzName;switch(typeof c){case "number":return"Number";case "boolean":return"Boolean";case "string":return"String";
case "function":if(null!=c.__CLASS_NAME__)return b?c.__CLASS_NAME__:"Class";var g=c.toString(),d=g.indexOf("function");if(0>d)return"["==g.charAt(0)?a.extractClassName(g):g.replace(/[^a-zA-Z0-9]/g,"");var d=d+8,e=g.indexOf("(",d);if(0>e)return"Object";g=g.substring(d,e);if(0<=g.indexOf("Array"))return"Array";g=g.replace(/^\s+/,"").replace(/\s+$/,"");return"anonymous"==g||""==g?"Function":g;case "object":if(null!=c.__CLASS_NAME__)return c.__CLASS_NAME__;if(null==c.constructor)return"Object";if(null==
c.constructor.__CLASS_NAME__){if(c instanceof Number)return"Number";if(c instanceof Boolean)return"Boolean";if(c instanceof Array)return"Array";g=c.toString();if("["==g.charAt(0))return a.extractClassName(g)}}return a.getClassName(c.constructor,!0)};a.getClass=function(c){if(null==c)return a._O;if("function"==typeof c)return c;var b=null;if(c instanceof a.CastedNull)b=c.clazzName;else{if("string"==typeof c)return String;if("object"==typeof c)if(null!=c.__CLASS_NAME__)b=c.__CLASS_NAME__;else return null==
c.constructor?a._O:c.constructor}return null!=b?a.evalType(b,!0):c.constructor};a.extendsProperties=function(c,b){for(var g in b)"b$"!=g&&("prototype"!=g&&"superClazz"!=g&&"__CLASS_NAME__"!=g&&"implementz"!=g&&!a.checkInnerFunction(b,g))&&(c[g]=b[g])};a.checkInnerFunction=function(c,b){for(var g=0;g<a.innerFunctionNames.length;g++)if(b==a.innerFunctionNames[g]&&a._innerFunctions[b]===c[b])return!0;return!1};a.implementsProperties=function(c,b){for(var g in b)"b$"!=g&&("prototype"!=g&&"superClazz"!=
g&&"__CLASS_NAME__"!=g&&"implementz"!=g)&&!("function"==typeof b[g]&&a.checkInnerFunction(b,g))&&(c[g]=b[g],c.prototype[g]=b[g])};a.args4InheritClass=function(){};a.inheritArgs=new a.args4InheritClass;a.inheritClass=function(c,b,g){a.extendsProperties(c,b);a.isClassUnloaded(c)||(c.prototype=null!=g?g:b!==Number?new b(a.inheritArgs):new Number);c.superClazz=b;c.prototype.__CLASS_NAME__=c.__CLASS_NAME__};a.implementOf=function(c,b){if(2<=arguments.length){null==c.implementz&&(c.implementz=[]);var g=
c.implementz;if(2==arguments.length)if("function"==typeof b)g[g.length]=b,a.implementsProperties(c,b);else{if(b instanceof Array)for(var d=0;d<b.length;d++)g[g.length]=b[d],a.implementsProperties(c,b[d])}else for(d=1;d<arguments.length;d++)g[g.length]=arguments[d],a.implementsProperties(c,arguments[d])}};a.extendInterface=a.implementOf;a.equalsOrExtendsLevel=function(c,b){if(c===b)return 0;if(null!=c.implementz)for(var g=c.implementz,d=0;d<g.length;d++){var e=a.equalsOrExtendsLevel(g[d],b);if(0<=
e)return e+1}return-1};a.getInheritedLevel=function(c,b){if(c===b)return 0;var g="string"==typeof c,d="string"==typeof b;if(g&&("void"==c||"unknown"==c)||d&&("void"==b||"unknown"==b))return-1;if((g&&"NullObject"==c||NullObject===c)&&b!==Number&&b!==Boolean&&b!==NullObject)return 0;g&&(c=a.evalType(c));d&&(b=a.evalType(b));if(null==b||null==c)return-1;g=0;for(d=c;d!==b&&10>g;){if(null!=d.implementz)for(var e=d.implementz,f=0;f<e.length;f++){var k=a.equalsOrExtendsLevel(e[f],b);if(0<=k)return g+k+1}d=
d.superClazz;if(null==d)return b===Object||b===a._O?g+1.5:-1;g++}return g};a.instanceOf=function(c,b){if(null==c)return!1==b;if(null==b)return!1;if(c instanceof b)return!0;var g=a.getClassName(c);return 0<=a.getInheritedLevel(g,b)};a.superCall=function(c,b,g,d){var e=null,f=-1,k=c[g];if(null!=k)if(null!=k.claxxOwner)k.claxxOwner!==b&&(e=k);else if(null==k.stacks&&!(null!=k.lastClaxxRef&&null!=k.lastClaxxRef.prototype[g]&&null!=k.lastClaxxRef.prototype[g].stacks))e=k;else{var l=k.stacks;null==l&&(l=
k.lastClaxxRef.prototype[g].stacks);for(f=l.length-1;0<=f;f--)if(b===l[f]){0<f?(f--,e=l[f].prototype[g]):e=l[0].prototype[g]["\\unknown"];break}else if(0<a.getInheritedLevel(b,l[f])){e=l[f].prototype[g];break}}if(null!=e)return 0==f&&"construct"==g&&(f=k.stacks,null!=f&&(null==f[0].superClazz&&null!=f[0].con$truct)&&f[0].con$truct.apply(c,[])),a.tracingCalling?(f=arguments.callee.caller,f===a.superConstructor&&(f=f.arguments.callee.caller),a.pu$hCalling(new a.callingStack(f,b)),e=e.apply(c,null==
d?[]:d),a.p0pCalling(),e):e.apply(c,null==d?[]:d);if("construct"!=g)throw a.alert(["j2slib","no class found",d.typeString]),new a.MethodNotFoundException(c,b,g,a.getParamsType(d).typeString);};a.superConstructor=function(c,b,g){a.superCall(c,b,"construct",g);null!=b.con$truct&&b.con$truct.apply(c,[])};a.CastedNull=function(c){this.clazzName=null!=c?c instanceof String?c:c instanceof Function?a.getClassName(c,!0):""+c:"Object";this.toString=function(){return null};this.valueOf=function(){return null}};
a.castNullAs=function(c){return new a.CastedNull(c)};a.MethodException=function(){};a.MethodNotFoundException=function(){this.toString=function(){return"MethodNotFoundException"}};a.getParamsType=function(c){var b=c.length;switch(b){case 0:var g=["void"];g.typeString="\\void";return g;case 1:if(g=c[0],null!=g&&"number"==typeof g)return g=["Number"],g.typeString="\\Number",g}g=[];g.hasCastedNull=!1;if(null!=c)for(var d=0;d<b;d++)g[d]=a.getClassName(c[d]),c[d]instanceof a.CastedNull&&(g.hasCastedNull=
!0);g.typeString="\\"+g.join("\\");return g};a.searchAndExecuteMethod=function(c,b,g,d){var e=c[g],f=a.getParamsType(d);a._profile&&a.addProfile(b,g,f);if(e.lastParams==f.typeString&&e.lastClaxxRef===b){b=null;if(f.hasCastedNull){b=[];for(f=0;f<d.length;f++)b[f]=d[f]instanceof a.CastedNull?null:d[f]}else b=d;if(null!=e.lastMethod)return e.lastMethod.apply(c,b)}else{e.lastParams=f.typeString;e.lastClaxxRef=b;var k=e.stacks;null==k&&(k=b.prototype[g].stacks);for(var l=!1,h=k.length-1;-1<h;h--)if(l||
k[h]===b){l=a.tryToSearchAndExecute(g,c,k[h].prototype[g],f,d,e);if(!(l instanceof a.MethodException))return l;l=!0}if("construct"!=g)throw new a.MethodNotFoundException(c,b,g,f.typeString);}};a.tracingCalling=!1;a.tryToSearchAndExecute=function(c,b,g,d,f,e){var k=[],l=!0,h;for(h in g)if(92==h.charCodeAt(0)){var r=h.substring(1).split("\\");r.length==d.length&&(k[k.length]=r);l=!1}else if(l&&"funParams"==h&&null!=g.funParams){h=g.funParams;r=h.substring(1).split("\\");r.length==d.length&&(k[0]=r);
break}if(0==k.length)return new a.MethodException;h=a.searchMethod(k,d);if(null!=h){k=null;k=l?g:g["\\"+h];l=null;if(d.hasCastedNull){l=[];for(h=0;h<f.length;h++)l[h]=f[h]instanceof a.CastedNull?null:f[h]}else l=f;if(a.tracingCalling){r=arguments.callee.caller;r=r=r.arguments.callee.caller;if(h="construct"==k.exName&&0<=a.getInheritedLevel(k.exClazz,Throwable)&&!a._initializingException){a._initializingException=!0;var u=r.arguments.callee.caller.arguments.callee.caller,j=u.arguments.callee,s=j.claxxReference;
null==s&&(s=j.exClazz);null==s&&(s=j.claxxOwner);a.pu$hCalling(new a.callingStack(u,s))}if(u=r!==a.instantialize&&r!==a.superCall)j=r.arguments.callee,s=j.claxxReference,null==s&&(s=j.exClazz),null==s&&(s=j.claxxOwner),a.pu$hCalling(new a.callingStack(r,s));e.lastMethod=k;k=k.apply(b,l);u&&a.p0pCalling();h&&a.p0pCalling();return k}e.lastMethod=k;return k.apply(b,l)}return new a.MethodException};a._initializingException=!1;a.searchMethod=function(c,b){for(var g=[],d=0;d<c.length;d++){for(var f=[],
e=!0,k=0;k<c[d].length;k++)if(f[k]=a.getInheritedLevel(b[k],c[d][k]),0>f[k]){e=!1;break}e&&(f[b.length]=d,g[g.length]=f)}if(0==g.length)return null;f=g[0];for(d=1;d<g.length;d++){e=!0;for(k=0;k<b.length;k++)if(f[k]<g[d][k]){e=!1;break}e&&(f=g[d])}return c[f[b.length]].join("\\")};a.generateDelegatingMethod=function(a,b){var g=function(){var a=arguments;return SAEM(this,a.callee.claxxReference,a.callee.methodName,a)};g.methodName=b;g.claxxReference=a;return g};SAEM=a.searchAndExecuteMethod;a.expExpandParameters=
function(a,b){return"N"==b?"Number":"B"==b?"Boolean":"S"==b?"String":"O"==b?"Object":"A"==b?"Array":"Unknown"};a.formatParameters=function(c){return null==c||0==c.length?"\\void":c.replace(/~([NABSO])/g,a.expExpandParameters).replace(/\s+/g,"").replace(/^|,/g,"\\").replace(/\$/g,"org.eclipse.s")};a.overrideMethod=function(c,b,g,d){a.assureInnerClass&&a.assureInnerClass(c,g);g.exName=b;d=a.formatParameters(d);g.funParams=d;g.claxxOwner=c;return a.getSignature(c.prototype,b,g,!0)};a.defineMethod=function(c,
b,g,d){a.assureInnerClass&&a.assureInnerClass(c,g);g.exName=b;d=a.formatParameters(d);var f=c.prototype,e=a.getSignature(f,b,g,!1);if(null==e||e.claxxOwner===c&&e.funParams==d)return g.funParams=d,g.claxxOwner=c,g.exClazz=c,a.getSignature(f,b,g,!0);var k=null,l=[];null==e.stacks?(k=e,null!=e.claxxOwner&&(l[0]=k.claxxOwner)):l=e.stacks;if(null==e.stacks||e.claxxReference!==c){e=a.getSignature(f,b,a.generateDelegatingMethod(c,b,e),!0);f=[];for(b=0;b<l.length;b++)f[b]=l[b];e.stacks=f}l=e.stacks;if(0==
l.length)l[0]=c;else{f=!1;for(b=l.length-1;0<=b;b--)if(l[b]===c){f=!0;break}f||(l[l.length]=c)}null!=k&&(k.claxxOwner===c?(e[k.funParams]=k,k.claxxOwner=null,k.funParams=null):null==k.claxxOwner&&(e["\\unknown"]=k));g.exClazz=c;e[d]=g;return e};a.makeConstructor=function(c,b,g){a.defineMethod(c,"construct",b,g);null!=c.con$truct&&(c.con$truct.index=c.con$truct.stacks.length)};a.overrideConstructor=function(c,b,g){a.overrideMethod(c,"construct",b,g);null!=c.con$truct&&(c.con$truct.index=c.con$truct.stacks.length)};
a.allPackage={};a.allClasses={};a.lastPackageName=null;a.lastPackage=null;a.unloadedClasses=[];a.isClassUnloaded=function(c){c=a.getClassName(c,!0);return null!=a.unloadedClasses[c]};a.declarePackage=function(c){if(a.lastPackageName==c)return a.lastPackage;if(null!=c&&0!=c.length){for(var b=c.split(/\./),g=a.allPackage,d=0;d<b.length;d++)null==g[b[d]]&&(g[b[d]]={__PKG_NAME__:null!=g.__PKG_NAME__?g.__PKG_NAME__+"."+b[d]:b[d]},0==d&&a.setGlobal(b[d],g[b[d]])),g=g[b[d]];a.lastPackageName=c;return a.lastPackage=
g}};a.evalType=function(c,b){var g=c.lastIndexOf(".");if(-1!=g){var d=c.substring(0,g),d=a.declarePackage(d),g=c.substring(g+1);return d[g]}return b?window[c]:"number"==c?Number:"object"==c?a._O:"string"==c?String:"boolean"==c?Boolean:"function"==c?Function:"void"==c||"undefined"==c||"unknown"==c?c:"NullObject"==c?NullObject:window[c]};a.defineType=function(c,b,g,d){var e=a.unloadedClasses[c];null!=e&&(b=e);e=c.lastIndexOf(".");if(-1!=e){var f=c.substring(0,e),f=a.declarePackage(f),e=c.substring(e+
1);if(null!=f[e])return f[e];f[e]=b}else{if(null!=window[c])return window[c];a.setGlobal(c,b)}a.decorateAsType(b,c,g,d);c=a._innerFunctions;b.defineMethod=c.defineMethod;b.defineStaticMethod=c.defineStaticMethod;b.makeConstructor=c.makeConstructor;return b};a.isSafari=-1!=navigator.userAgent.indexOf("Safari");a.isSafari4Plus=!1;if(a.isSafari){var h=navigator.userAgent,e=h.indexOf("Version/");-1!=e&&(h=h.substring(e+8),h=parseFloat(h),a.isSafari4Plus=4<=h)}a.instantialize=function(c,b){if(!(null!=
b&&1==b.length&&null!=b[0]&&b[0]instanceof a.args4InheritClass)){c instanceof Number&&(c.valueOf=function(){return this});if(a.isSafari4Plus){for(var g=[],d=0;d<b.length;d++)g[d]=b[d];b=g}g=c.construct;null!=g?null==c.con$truct?g.apply(c,b):null==c.getClass().superClazz?(c.con$truct.apply(c,[]),g.apply(c,b)):null!=g.claxxOwner&&g.claxxOwner===c.getClass()||null!=g.stacks&&g.stacks[g.stacks.length-1]==c.getClass()?g.apply(c,b):(null!=g.claxxOwner&&null==g.claxxOwner.superClazz&&null!=g.claxxOwner.con$truct?
g.claxxOwner.con$truct.apply(c,[]):null!=g.stacks&&(1==g.stacks.length&&null==g.stacks[0].superClazz)&&g.stacks[0].con$truct.apply(c,[]),g.apply(c,b),c.con$truct.apply(c,[])):null!=c.con$truct&&c.con$truct.apply(c,[])}};a.innerFunctionNames="equals hashCode getName getClassLoader getResource getResourceAsStream defineMethod defineStaticMethod makeConstructor".split(" ");a._innerFunctions={equals:function(a){return this===a},hashCode:function(){return this.getName().hashCode()},toString:function(){return"class "+
this.getName()},getName:function(){return a.getClassName(this,!0)},getClassLoader:function(){var c=this.__CLASS_NAME__,b=a._Loader.getClasspathFor(c),g=b.lastIndexOf(c.replace(/\./g,"/")),b=-1!=g?b.substring(0,g):a._Loader.getClasspathFor(c,!0),c=a._Loader.requireLoaderByBase(b);c.getResourceAsStream=a._innerFunctions.getResourceAsStream;c.getResource=a._innerFunctions.getResource;return c},getResource:function(a){return this.getResourceAsStream(a).url},getResourceAsStream:function(c){var b=null;
if(null==c)return b;null!=java.io.InputStream?b=new java.io.InputStream:(b=new a._O,b.__CLASS_NAME__="java.io.InputStream",b.close=NullObject);b.read=function(){return 0};c=c.replace(/\\/g,"/");var g=null,d=this.__CLASS_NAME__;2==arguments.length&&0!=c.indexOf("/")&&(c="/"+c);if(0==c.indexOf("/"))if(2==arguments.length?(g=arguments[1],null==g&&(g=a._Loader.binaryFolders[0])):null!=a._Loader&&(g=a._Loader.getClasspathFor(d,!0)),null==g||0==g.length)b.url=c.substring(1);else{var g=g.replace(/\\/g,"/"),
e=g.length,e=g.charAt(e-1);"/"!=e&&(g+="/");b.url=g+c.substring(1)}else{if(null!=this.base)g=this.base;else if(null!=a._Loader)if(g=a._Loader.getClasspathFor(d),e=g.lastIndexOf(d.replace(/\./g,"/")),-1!=e)g=g.substring(0,e);else if(e=-1,g.indexOf(".z.js")==g.length-5&&-1!=(e=g.lastIndexOf("/")))for(var g=g.substring(0,e+1),e=d.split(/\./),f=1;f<e.length;f++){for(var k="/",l=0;l<f;l++)k+=e[l]+"/";if(k.length>g.length)break;if(g.indexOf(k)==g.length-k.length){g=g.substring(0,g.length-k.length+1);break}}else g=
a._Loader.getClasspathFor(d,!0);else e=a.binaryFolders,null!=e&&0!=e.length&&(g=e[0]);if(null==g||0==g.length)g="j2s/";g=g.replace(/\\/g,"/");e=g.length;e=g.charAt(e-1);"/"!=e&&(g+="/");null!=this.base?b.url=g+c:(e=d.lastIndexOf("."),b.url=-1==e||null!=this.base?g+c:g+d.substring(0,e).replace(/\./g,"/")+"/"+c)}return b},defineMethod:function(c,b,g){a.defineMethod(this,c,b,g)},defineStaticMethod:function(c,b,g){a.defineMethod(this,c,b,g);this[c]=this.prototype[c]},makeConstructor:function(c,b){a.makeConstructor(this,
c,b)}};a.decorateFunction=function(c,b,g){null!=a._Loader&&a._Loader.checkInteractive();var d=null;null==b?(d=g,a.setGlobal(g,c)):null!=b.__PKG_NAME__?(d=b.__PKG_NAME__+"."+g,b[g]=c,b===java.lang&&a.setGlobal(g,c)):(d=b.__CLASS_NAME__+"."+g,b[g]=c);a.extendJO(c,d);b=a.innerFunctionNames;for(g=0;g<b.length;g++)c[b[g]]=a._innerFunctions[b[g]];null!=a._Loader&&(c=a._Loader.findClass(d),null!=c&&c.status==a._Node.STATUS_KNOWN&&window.setTimeout(function(b){return function(){a._Loader.updateNode(b)}}(c),
1))};a.currentPath="";a.declareInterface=function(c,b,g){var d=function(){};a.decorateFunction(d,c,b,"Clazz.declareInterface");null!=g&&a.implementOf(d,g);return d};a.decorateAsClass=function(c,b,g,d,e,f,k){var l=null;null!=b&&(l=b.__PKG_NAME__,null==l&&(l=b.__CLASS_NAME__));l=a.unloadedClasses[(null==l?"":l+".")+g];null!=l&&(c=l);a.decorateFunction(c,b,g,k+"...Clazz.decorateAsClass");null!=f?a.inheritClass(c,d,f):null!=d&&a.inheritClass(c,d);null!=e&&a.implementOf(c,e);return c};a.declareType=function(c,
b,g,d,e){return a.decorateAsClass(function(){a.instantialize(this,arguments)},c,b,g,d,e,"Clazz.declareType")};a.declareAnonymous=function(c,b,g,d,e){return a.decorateAsClass(function(){a.prepareCallback(this,arguments);a.instantialize(this,arguments)},c,b,g,d,e,"Clazz.declareAnonymous")};a.decorateAsType=function(c,b,g,d,e,f){a.extendJO(c,b);c.equals=a._innerFunctions.equals;c.getName=a._innerFunctions.getName;if(f)for(b=0;b<a.innerFunctionNames.length;b++)f=a.innerFunctionNames[b],c[f]=a._innerFunctions[f];
null!=e?a.inheritClass(c,g,e):null!=g&&a.inheritClass(c,g);null!=d&&a.implementOf(c,d);return c};a._ex_reg=function(a,b,g){g||(g="[^\\s]+");var d=a.indexOf(b);a=a.substring(0,d)+g+a.substring(d+b.length);return RegExp("^"+a+"$")};try{null.hello()}catch(f){/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)?(h=f.message.indexOf(":"),e=f.message.indexOf(":",h+2),a._NPEMsgFragment=f.message.substr(h+1,e-h-20),a._isNPEExceptionPredicate=function(c){return-1!=c.message.indexOf(a._NPEMsgFragment)}):-1!=navigator.userAgent.toLowerCase().indexOf("webkit")?
(a._exceptionNPERegExp=a._ex_reg(f.message,"hello"),a._isNPEExceptionPredicate=function(c){return a._exceptionNPERegExp.test(c.message)}):(a._exceptionNPERegExp=a._ex_reg(f.message,"$$o$$"),a._isNPEExceptionPredicate=function(c){return a._exceptionNPERegExp.test(c.message)})}a.exceptionOf=function(c,b){return c.__CLASS_NAME__?a.instanceOf(c,b):b==Error?(0<=(""+c).indexOf("Error")&&System.out.println(a.getStackTrace()),0<=(""+c).indexOf("Error")):b==Exception||b==Throwable||b==NullPointerException&&
a._isNPEExceptionPredicate(c)};a.getStackTrace=function(a){var b="\n";a||(a=25);for(var g=arguments.callee.caller,d=0;d<a&&g;d++)b+=d+" "+(g.exName?(g.claxxOwner?g.claxxOwner.__CLASS_NAME__+".":"")+g.exName:g.toString?g.toString().substring(0,g.toString().indexOf("{")):"<native method>")+"\n",g=g.caller;return b};Number.prototype._numberToString=Number.prototype.toString;a.declarePackage("java.io");a.declarePackage("java.lang.annotation");a.declarePackage("java.lang.instrument");a.declarePackage("java.lang.management");
a.declarePackage("java.lang.reflect");a.declarePackage("java.lang.ref");java.lang.ref.reflect=java.lang.reflect;a.declarePackage("java.util");a.declareInterface(java.io,"Closeable");a.declareInterface(java.io,"DataInput");a.declareInterface(java.io,"DataOutput");a.declareInterface(java.io,"Externalizable");a.declareInterface(java.io,"Flushable");a.declareInterface(java.io,"Serializable");a.declareInterface(java.lang,"Iterable");a.declareInterface(java.lang,"CharSequence");a.declareInterface(java.lang,
"Cloneable");a.declareInterface(java.lang,"Appendable");a.declareInterface(java.lang,"Comparable");a.declareInterface(java.lang,"Runnable");a.declareInterface(java.util,"Comparator");java.lang.ClassLoader={__CLASS_NAME__:"ClassLoader"};if(null!=window.Clazz&&null==window.Clazz.unloadClass){a.MethodNotFoundException=function(c,b,g,d){c="";null!=d&&(c=d.substring(1).replace(/\\/g,","));this.message=(null!=g&&"construct"!=g?"Method":"Constructor")+" "+a.getClassName(b,!0)+"."+g+"("+c+") is not found!";
this.toString=function(){return"MethodNotFoundException:"+this.message}};a.prepareCallback=function(c,b){var g=b[0];if(null!=c&&null!=g&&g!==window){var d=[];if(null!=c.b$)for(var e in c.b$)"length"!=e&&(d[e]=c.b$[e]);c.b$=d;var f=a.getClassName(g,!0);d[f.replace(/org\.eclipse\.swt\./,"$wt.")]=g;for(f=a.getClass(g);null!=f.superClazz;)f=f.superClazz,d[a.getClassName(f,!0).replace(/org\.eclipse\.swt\./,"$wt.")]=g;g=g.b$;if(null!=g&&g instanceof Array)for(e in g)"length"!=e&&(d[e]=g[e])}for(d=0;d<b.length-
1;d++)b[d]=b[d+1];b.length--};a.innerTypeInstance=function(c,b,d){null==c&&(c=arguments.callee.caller);var e=null;if(null==d&&null==b.$finals)if(3==arguments.length)e=new c(b);else if(4==arguments.length)e=b.__CLASS_NAME__==c.__CLASS_NAME__&&arguments[3]===a.inheritArgs?b:new c(b,arguments[3]);else if(5==arguments.length)e=new c(b,arguments[3],arguments[4]);else if(6==arguments.length)e=new c(b,arguments[3],arguments[4],arguments[5]);else if(7==arguments.length)e=new c(b,arguments[3],arguments[4],
arguments[5],arguments[6]);else if(8==arguments.length)e=new c(b,arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);else if(9==arguments.length)e=new c(b,arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);else if(10==arguments.length)e=new c(b,arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);else{for(var e=new c(b,a.inheritArgs),f=[],h=3;h<arguments.length;h++)f[h-3]=arguments[h];a.instantialize(e,f)}else{e=new c(b,
a.inheritArgs);if(null!=d&&null==b.f$)e.f$=d;else if(null==d&&null!=b.f$)e.f$=b.f$;else if(null!=d&&null!=b.f$){f={};for(h in b.f$)f[h]=b.f$[h];for(h in d)f[h]=d[h];e.f$=f}f=[];for(h=3;h<arguments.length;h++)f[h-3]=arguments[h];a.instantialize(e,f)}return e};a.cloneFinals=function(){for(var a={},b=arguments.length/2,d=0;d<b;d++)a[arguments[d+d]]=arguments[d+d+1];return a};a.isClassDefined=a.isDefinedClass=function(c){if(null!=c&&0!=c.length){if(a.allClasses[c])return!0;for(var b=c.split(/\./),d=null,
e=0;e<b.length;e++)if(null==d){if(null==a.allPackage[b[0]])return!1;d=a.allPackage[b[0]]}else{if(null==d[b[e]])return!1;d=d[b[e]]}if(null!=d)return a.allClasses[c]=!0}return!1};a.defineEnumConstant=function(c,b,d,e,f){var h=null,h=null!=f?new f:new c;a.superConstructor(h,c,[b,d]);null!=e&&0!=e.length&&h.construct.apply(h,e);c[b]=h;c.prototype[b]=h;null==c["$ values"]&&(c["$ values"]=[],c.values=function(){return this["$ values"]});c["$ values"].push(h);return h};a.floatToInt=function(a){return 0>
a?Math.ceil(a):Math.floor(a)};a.floatToByte=a.floatToShort=a.floatToLong=a.floatToInt;a.doubleToByte=a.doubleToShort=a.doubleToLong=a.doubleToInt=a.floatToInt;a.floatToChar=function(a){return String.fromCharCode(0>a?Math.ceil(a):Math.floor(a))};a.doubleToChar=a.floatToChar;self.Int32Array&&self.Int32Array!=Array?(a.haveInt32=!0,Int32Array.prototype.sort||(Int32Array.prototype.sort=Array.prototype.sort)):(Int32Array=function(a){a||(a=0);var b=Array(a);b.toString=function(){return"[object Int32Array]"};
for(var d=0;d<a;d++)b[d]=0;return b},a.haveInt32=!1,Int32Array.prototype.sort=Array.prototype.sort,Int32Array.prototype.int32Fake=function(){});self.Float64Array&&self.Float64Array!=Array?(a.haveFloat64=!0,Float64Array.prototype.sort||(Float64Array.prototype.sort=Array.prototype.sort)):(a.haveFloat64=!1,Float64Array=function(a){a||(a=0);for(var b=Array(a),d=0;d<a;d++)b[d]=0;return b},Float64Array.prototype.sort=Array.prototype.sort,Float64Array.prototype.float64Fake=function(){},Float64Array.prototype.toString=
function(){return"[object Float64Array]"});a.newArray=function(){if(arguments[0]instanceof Array)var c=arguments[0],b=arguments[1];else c=arguments,b=Array;if(1>=c.length)return[];var d=c[0];"string"==typeof d&&(d=d.charCodeAt(0));var e=c.length-1,f=c[e];if(2==c.length){if(null==f)return Array(d);if(!0===b&&a.haveInt32)return new Int32Array(d);if(!1===b&&a.haveFloat64)return new Float64Array(d);if(b==Array&&null==f)return Array(d);for(var c=!0===b?new Int32Array:!1===b?new Float64Array:Array(d),h=
d;0<=--h;)c[h]=f;return c}for(var k=Array(e),h=0;h<e;h++)k[h]=c[h+1];c=Array(d);if(null==f||0<=f||2<e)for(h=0;h<d;h++)c[h]=a.newArray(k,b);return c};a.newArray32=function(c,b){var d=c[0];"string"==typeof d&&(d=d.charCodeAt(0));var e=c.length-1,f=c[e];switch(c.length){case 0:case 1:return alert("ERROR IN newArray32 -- args length < 2"),[];case 2:if(0>f)return Array(d);try{return b?new Int32Array(d):new Float64Array(d)}catch(h){alert(d+" "+arguments.callee.caller.arguments.callee.caller+h)}}for(f=Array(e);0<=
--e;)f[e]=c[e+1];for(var k=Array(d),e=0;e<d;e++)k[e]=a.newArray(f,b);return k};a.newInt32Array=function(){return a.newArray32(arguments,!0)};a.newFloat64Array=function(){return a.newArray32(arguments,!1)};a.newFloatArray=a.newDoubleArray=a.newFloat64Array;a.newIntArray=a.newLongArray=a.newShortArray=a.newByteArray=a.newInt32Array;a.newCharArray=a.newBooleanArray=a.newArray;a.arrayIs=function(a,b){return a.constructor&&a.constructor!=Number&&0<=a.constructor.toString().indexOf(b)};a.isAS=function(c){return c&&
"object"==typeof c&&a.arrayIs(c," Array")&&("string"==typeof c[0]||"undefined"==typeof c[0])};a.isASS=function(c){return c&&"object"==typeof c&&a.isAS(c[0])};a.isAP=function(c){return c&&"J.util.Point3f"==a.getClassName(c[0])};a.isAI=function(c){return c&&"object"==typeof c&&(a.haveInt32?a.arrayIs(c,"Int32Array"):c.int32Fake?!0:!1)};a.isAII=function(c){return c&&"object"==typeof c&&a.isAI(c[0])};a.isAF=function(c){return c&&"object"==typeof c&&(a.haveFloat64?a.arrayIs(c,"Float64Array"):c.float64Fake?
!0:!1)};a.isAFF=function(c){return c&&"object"==typeof c&&a.isAF(c[0])};a.isAFFF=function(c){return c&&"object"==typeof c&&a.isAFF(c[0])};a.isAFloat=function(c){return c&&"object"==typeof c&&a.arrayIs(c," Array")&&a.instanceOf(c[0],Float)};a.makeFunction=function(a){return function(b){null==b&&(b=window.event);null!=a.setEvent&&a.setEvent(b);a.run();if(1==a.returnSet)return a.returnNumber;if(2==a.returnSet)return a.returnBoolean;if(3==a.returnSet)return a.returnObject}};a.defineStatics=function(a){for(var b=
arguments.length,d=(b-1)/2;0<=--d;){var e=arguments[--b],f=arguments[--b];a[f]=a.prototype[f]=e}};a.prepareFields=function(c,b){var d=[];if(null!=c.con$truct)for(var e=c.con$truct.stacks,f=0;f<e.length;f++)d[f]=e[f];a.addProto(c.prototype,"con$truct",c.con$truct=function(){var a=arguments.callee.stacks;if(null!=a)for(var b=0;b<a.length;b++)a[b].apply(this,[])});d[d.length]=b;c.con$truct.stacks=d;c.con$truct.index=0};a.registerSerializableFields=function(a){var b=arguments,d=b.length,e=[];if(null!=
a.declared$Fields)for(var f=0;f<a.declared$Fields.length;f++)e[f]=a.declared$Fields[f];a.declared$Fields=e;if(0<d&&1==d%2){e=a.declared$Fields;for(f=1;f<=(d-1)/2;f++){for(var h={name:b[f+f-1],type:b[f+f]},k=!1,l=0;l<e.length;l++)if(e[l].name==h.name){e[l].type=h.type;k=!0;break}k||(e[e.length]=h)}}};a.getMixedCallerMethod=function(c){var b={};c=c.callee.caller;if(null==c||c!==a.tryToSearchAndExecute&&(c=c.arguments.callee.caller,null==c)||c!==a.tryToSearchAndExecute)return null;c=c.arguments.callee.caller;
if(null==c||c!==a.searchAndExecuteMethod)return null;b.claxxRef=c.arguments[1];b.fxName=c.arguments[2];b.paramTypes=a.getParamsType(c.arguments[3]);c=c.arguments.callee.caller;if(null==c)return null;c=c.arguments.callee.caller;if(null==c)return null;b.caller=c;return b};c$=null;a.cStack=[];a.pu$h=function(c){c&&a.cStack.push(c)};a.p0p=function(){return a.cStack.pop()};a.tracingCalling=!1;a._initializingException=!1;a.callingStack=function(a,b){this.caller=a;this.owner=b};a._callingStackTraces=[];
a.pu$hCalling=function(c){a._callingStackTraces[a._callingStackTraces.length]=c};a.p0pCalling=function(){var c=a._callingStackTraces.length;return 0<c?(c=a._callingStackTraces[c-1],a._callingStackTraces.length--,c):null};a.load=function(a,b,d,e){null!=e&&e();delete c$};java.lang.Object=a._O;a._O.getName=a._innerFunctions.getName;System={props:null,$props:{},arraycopy:function(a,b,d,e,f){if(a!==d)for(var h=0;h<f;h++)d[e+h]=a[b+h];else{for(var k=[],h=0;h<f;h++)k[h]=a[b+h];for(h=0;h<f;h++)d[e+h]=k[h]}},
currentTimeMillis:function(){return(new Date).getTime()},gc:function(){},getProperties:function(){return System.props},getProperty:function(a,b){if(System.props)return System.props.getProperty(a,b);var d=System.$props[a];return null!=d?d:1==arguments.length?null:null!=b?b:a},getSecurityManager:function(){return null},setProperties:function(a){System.props=a},setProperty:function(a,b){if(null==System.props)return System.$props[a]=b;System.props.setProperty(a,b)}};System.setProperty("line.separator",
0<=navigator.userAgent.indexOf("Windows")?"\r\n":"\n");System.setProperty("os.name",navigator.userAgent);System.out=new a._O;System.out.__CLASS_NAME__="java.io.PrintStream";System.out.print=function(){};System.out.printf=function(){};System.out.println=function(){};System.err=new a._O;System.err.__CLASS_NAME__="java.io.PrintStream";System.err.print=function(){};System.err.printf=function(){};System.err.println=function(){};a.popup=a.assert=a.log=a.error=window.alert;Thread=function(){};Thread.J2S_THREAD=
Thread.prototype.J2S_THREAD=new Thread;Thread.currentThread=Thread.prototype.currentThread=function(){return this.J2S_THREAD};a.intCast=function(a){var b=(a&4278190080)>>24,d=(a&16711680)>>16,e=(a&65280)>>8;a&=255;return 0!=(b&128)?-(((b&127)<<24)+(d<<16)+(e<<8)+a+1):(b<<24)+(d<<16)+(e<<8)+a};a.shortCast=function(){var a=(n&65280)>>8,b=n&255;return 0!=(a&128)?-(((a&127)<<8)+b+1):(a<<8)+b4};a.byteCast=function(a){return 0!=(a&128)?-((a&127)+1):a&255};a.charCast=function(a){return String.fromCharCode(a&
255).charAt(0)};a.floatCast=function(a){return a};a.longMasks=[];a.longReverseMasks=[];a.longBits=[];h=[1];for(e=1;53>e;e++)h[e]=h[e-1]+h[e-1];a.longBits=h;a.longMasks[52]=h[52];for(e=51;0<=e;e--)a.longMasks[e]=a.longMasks[e+1]+h[e];a.longReverseMasks[0]=h[0];for(e=1;52>e;e++)a.longReverseMasks[e]=a.longReverseMasks[e-1]+h[e];a.longLeftShift=function(c,b){if(0==b)return c;if(64<=b)return 0;if(52<b)return error("[Java2Script] Error : JavaScript does not support long shift!"),c;if(0!=(c&a.longMasks[b-
1]))return error("[Java2Script] Error : Such shift operator results in wrong calculation!"),c;var d=c&a.longMasks[20+b];return 0!=d?d*a.longBits[b]+(c&a.longReverseMasks[32-b])<<0:c<<b};a.intLeftShift=function(a,b){return a<<b&4294967295};a.longRightShift=function(c,b){return 0!=(c&a.longMasks[20])?Math.round((c&a.longMasks[20])/a.longBits[32-b])+(c&a.longReverseMasks[b])>>b:c>>b};a.intRightShift=function(a,b){return a>>b};a.long0RightShift=function(a,b){return a>>>b};a.int0RightShift=function(a,
b){return a>>>b};a.declarePackage("java.lang.reflect");a.declarePackage("java.security");a.innerFunctionNames=a.innerFunctionNames.concat("getSuperclass isAssignableFrom getMethods getMethod getDeclaredMethods getDeclaredMethod getConstructor getModifiers isArray newInstance".split(" "));a._innerFunctions.getSuperclass=function(){return this.superClazz};a._innerFunctions.isAssignableFrom=function(c){return 0<=a.getInheritedLevel(c,this)};a._innerFunctions.getConstructor=function(){return new java.lang.reflect.Constructor(this,
[],[],java.lang.reflect.Modifier.PUBLIC)};a._innerFunctions.getDeclaredMethods=a._innerFunctions.getMethods=function(){var a=[],b=this.prototype,d;for(d in b)"function"==typeof b[d]&&null==b[d].__CLASS_NAME__&&(a[a.length]=new java.lang.reflect.Method(this,d,[],java.lang.Void,[],java.lang.reflect.Modifier.PUBLIC));b=this;for(d in b)"function"==typeof b[d]&&null==b[d].__CLASS_NAME__&&(a[a.length]=new java.lang.reflect.Method(this,d,[],java.lang.Void,[],java.lang.reflect.Modifier.PUBLIC|java.lang.reflect.Modifier.STATIC));
return a};a._innerFunctions.getDeclaredMethod=a._innerFunctions.getMethod=function(a){var b=this.prototype,d;for(d in b)if(a==d&&"function"==typeof b[d]&&null==b[d].__CLASS_NAME__)return new java.lang.reflect.Method(this,d,[],java.lang.Void,[],java.lang.reflect.Modifier.PUBLIC);b=this;for(d in b)if(a==d&&"function"==typeof b[d]&&null==b[d].__CLASS_NAME__)return new java.lang.reflect.Method(this,d,[],java.lang.Void,[],java.lang.reflect.Modifier.PUBLIC|java.lang.reflect.Modifier.STATIC);return null};
a._innerFunctions.getModifiers=function(){return java.lang.reflect.Modifier.PUBLIC};a._innerFunctions.isArray=function(){return!1};a._innerFunctions.newInstance=function(){return new this};h=a.innerFunctionNames;for(e=0;e<h.length;e++)a._O[h[e]]=a._innerFunctions[h[e]],Array[h[e]]=a._innerFunctions[h[e]];Array.isArray=function(){return!0};a._4Name=function(c){if(a.isClassDefined(c))return a.evalType(c);if(null!=a._Loader)return a._Loader.setLoadingMode("xhr.sync"),a._Loader.loadClass(c),a.evalType(c);
a.alert("[Java2Script] Error: No ClassLoader!")};a.cleanDelegateMethod=function(a){null!=a&&("function"==typeof a&&null!=a.lastMethod&&null!=a.lastParams&&null!=a.lastClaxxRef)&&(a.lastMethod=null,a.lastParams=null,a.lastClaxxRef=null)};a.unloadClass=function(c){var b=a.evalType(c);if(null!=b){a.unloadedClasses[c]=b;for(var d=c.split(/\./),e=null,f=0;f<d.length-1;f++)e=null==e?a.allPackage[d[0]]:e[d[f]];if(null==e){a.allPackage[d[0]]=null;window[d[0]]=null;for(var h in window)0==h.indexOf(c+"$")&&
(a.unloadClass(h),window[h]=null)}else for(h in e[d[d.length-1]]=null,e)0==h.indexOf(d[d.length-1]+"$")&&(a.unloadClass(e.__PKG_NAME__+"."+h),e[h]=null);if(!0==a.allClasses[c])for(h in a.allClasses[c]=!1,a.allClasses)0==h.indexOf(c+"$")&&(a.allClasses[h]=!1);for(var k in b)a.cleanDelegateMethod(b[k]);for(k in b.prototype)a.cleanDelegateMethod(b.prototype[k]);null!=a._Loader&&a._Loader.unloadClassExt(c);return!0}return!1}}a._Loader=function(){};a._Node=function(){a._Loader.initNode(this)};(function(a,
b,d){b.initNode=function(a){a.parents=[];a.musts=[];a.optionals=[];a.declaration=null;a.name=null;a.path=null;a.status=0;a.random=0.13412;a.optionalsLoaded=null};d.prototype.toString=function(){return this.name||this.path||"ClazzNode"};d.STATUS_UNKNOWN=0;d.STATUS_KNOWN=1;d.STATUS_CONTENT_LOADED=2;d.STATUS_MUSTS_LOADED=3;d.STATUS_DECLARED=4;d.STATUS_OPTIONALS_LOADED=5;b.loaders=[];b.requireLoaderByBase=function(a){for(var c=0;c<b.loaders.length;c++)if(b.loaders[c].base==a)return b.loaders[c];c=new b;
c.base=a;return b.loaders[b.loaders.length]=c};b.clazzTreeRoot=new d;b.loadedScripts={};b.inLoadingThreads=0;b.maxLoadingThreads=6;b.userAgent=navigator.userAgent.toLowerCase();b.isOpera=-1!=b.userAgent.indexOf("opera");b.isIE=-1!=b.userAgent.indexOf("msie")&&!b.isOpera;b.isGecko=-1!=b.userAgent.indexOf("gecko");if(b.isOpera){b.maxLoadingThreads=1;var e=b.userAgent.indexOf("opera/");if(-1!=e){var f=9;try{f=parseFloat(b.userAgent.subString(e+6))}catch(h){}9.6<=f&&(b.maxLoadingThreads=6)}}null!=window.Clazz&&
a.isClassDefined?b.isClassDefined=a.isClassDefined:(b.definedClasses={},b.isClassDefined=function(a){return!0==b.definedClasses[a]});b.isAsynchronousLoading=!0;b.isUsingXMLHttpRequest=!1;b.loadingTimeLag=-1;b.setLoadingMode=function(a,c){null!=a&&("string"==typeof a?(a=a.toLowerCase(),0==a.length||-1!=a.indexOf("script")?(b.isUsingXMLHttpRequest=!1,b.isAsynchronousLoading=!0):(b.isUsingXMLHttpRequest=!0,b.isAsynchronousLoading=-1!=a.indexOf("async")?!0:!1),b.isAsynchronousLoading=!1):a==b.MODE_SCRIPT?
(b.isUsingXMLHttpRequest=!1,b.isAsynchronousLoading=!0):(b.isUsingXMLHttpRequest=!0,b.isAsynchronousLoading=a==b.MODE_XHR_ASYNC?!0:!1));b.loadingTimeLag=b.isAsynchronousLoading&&0<=c?c:-1};b.MODE_SCRIPT=0;b.MODE_SCRIPT_ASYNC=0;b.MODE_XHR=3;b.MODE_XHR_SYNC=3;b.MODE_XHR_ASYNC=1;b.unwrapArray=function(a){if(null==a||0==a.length)return a;for(var b=null,c=0;c<a.length;c++)if(null!=a[c]){if("$"==a[c].charAt(0))if("."==a[c].charAt(1)){if(null==b)continue;var d=b.lastIndexOf(".");-1!=d&&(b=b.substring(0,
d),a[c]=b+a[c].substring(1))}else a[c]="org.eclipse.s"+a[c].substring(1);b=a[c]}return a};b.classQueue=[];b.classpathMap={};b.packageClasspath=function(a,c,d){var e=b.classpathMap,g=!0==d&&null!=e["@"+a];d&&(null==e["@java"]&&0!=a.indexOf("java"))&&b.assurePackageClasspath("java");if(a instanceof Array){b.unwrapArray(a);for(e=0;e<a.length;e++)b.packageClasspath(a[e],c,d)}else{if("java"==a||"java.*"==a){var f="@net.sf.j2s.ajax";null==e[f]&&null!=c&&(e[f]=c);f="@net.sf.j2s";null==e[f]&&null!=c&&(e[f]=
c)}else"swt"==a?a="org.eclipse.swt":"ajax"==a?a="net.sf.j2s.ajax":"j2s"==a&&(a="net.sf.j2s");a.lastIndexOf(".*")==a.length-2&&(a=a.substring(0,a.length-2));null!=c&&(e["@"+a]=c);!0==d&&(!0!=window[a+".registered"]&&!g)&&(b.pkgRefCount++,"java"==a&&(a="core"),b.loadClass(a+".package",function(){b.pkgRefCount--;0==b.pkgRefCount&&b.runtimeLoaded()},!0))}};b.pkgRefCount=0;b.jarClasspath=function(a,c){c instanceof Array||(c=[classes]);b.unwrapArray(c);for(var d=0;d<c.length;d++)b.classpathMap["#"+c[d]]=
a;b.classpathMap["$"+a]=c};b.registerPackages=function(d,e){b.checkInteractive();for(var g=b.getClasspathFor(d+".*",!0),f=0;f<e.length;f++)null!=window.Clazz&&a.declarePackage(d+"."+e[f]),b.packageClasspath(d+"."+e[f],g)};b.multipleSites=function(a){var c=window["j2s.update.delta"];if(null!=c&&c instanceof Array&&3<=c.length)for(var d=null,e=null,g=0;g<c.length/3;g++){var f=c[g+g+g];"$"!=f&&(d=f);f=c[g+g+g+1];"$"!=f&&(e=f);var f=c[g+g+g+2],h=d+"/"+f,j=a.indexOf(h);if(-1!=j&&j==a.length-h.length){a=
a.substring(0,j)+e+"/"+f;break}}c=a.length;if(1<b.maxLoadingThreads&&(15<c&&"http://archive."==a.substring(0,15)||9<c&&"http://a."==a.substring(0,9)))if(d=a.lastIndexOf("/"),d<c-3)return e=a.charCodeAt(d+1),g=a.charCodeAt(d+2),j=3*(c-d)+5*e+7*g,a.substring(0,7)+"aeiouy".split("")[j%6]+a.substring(8);return a};b.getClasspathFor=function(a,c,d){var e=b.classpathMap["#"+a],g=null;if(null!=e){if(!c&&null==d)return b.multipleSites(e);var f=e.lastIndexOf(a.replace(/\./g,"/"));-1!=f?g=e.substring(0,f):(f=
a.lastIndexOf("."),-1!=f&&(f=e.lastIndexOf(a.substring(0,f).replace(/\./g,"/")),-1!=f&&(g=e.substring(0,f))))}else for(f=a.lastIndexOf(".");-1!=f;){e=a.substring(0,f);g=b.classpathMap["@"+e];if(null!=g)break;f=a.lastIndexOf(".",f-2)}g=b.assureBase(g);if(c)return b.multipleSites(g);if(a.lastIndexOf(".*")==a.length-2)return a=g+a.substring(0,f+1).replace(/\./g,"/"),b.multipleSites(a);null==d?d=".js":"."!=d.charAt(0)&&(d="."+d);a=g+a.replace(/\./g,"/")+d;return b.multipleSites(a)};b.assureBase=function(d){null==
d&&(d=null!=window.Clazz&&null!=a.binaryFolders&&0!=a.binaryFolders.length?a.binaryFolders[0]:null!=b.binaryFolders&&0!=b.binaryFolders.length?b.binaryFolders[0]:"j2s");d.lastIndexOf("/")!=d.length-1&&(d+="/");return d};b.excludeClassMap={};b.ignore=function(){var a=null;1==arguments.length&&arguments[0]instanceof Array&&(a=arguments[0]);if(null==a)for(var a=[],c=0;c<arguments.length;c++)a[a.length]=arguments[c];b.unwrapArray(a);for(c=0;c<a.length;c++)b.excludeClassMap["@"+a[c]]=!0};b.isClassExcluded=
function(a){return!0==b.excludeClassMap["@"+a]};b.scriptLoading=function(){};b.scriptLoaded=function(){};b.scriptInited=function(){};b.scriptCompleted=function(){};b.classUnloaded=function(){};b.classReloaded=function(){};b.globalLoaded=function(){};b.keepOnLoading=!0;b.mapPath2ClassNode={};b.xhrOnload=function(d,e){if(400<=d.status||null==d.responseText||0==d.responseText.length){a.alert("xhronload error"+d.responseText);var g=b.failedScripts;null==g[e]?(g[e]=1,b.loadedScripts[e]=!1,b.loadScript(e,
"xhrOnload 2nd try")):(a.alert("[Java2Script] ClazzLoader.xhrOnload Error in loading "+e+"!"),b.tryToLoadNext(e))}else b.evaluate(e,d.responseText)};b.evaluate=function(d,e){try{eval(e)}catch(g){var f="[Java2Script] Script error: "+g.message+" \n"+d+"\n\n"+e;alert(f);a.alert(f);throw g;}b.scriptLoaded(d);b.tryToLoadNext(d)};b.emptyOnRSC=function(){};b.failedScripts={};b.failedHandles={};b.takeAnotherTry=!0;b.generateRemovingFunction=function(a){return function(){if("interactive"!=a.readyState){try{null!=
a.parentNode&&a.parentNode.removeChild(a)}catch(b){}a=null}}};b.removeScriptNode=function(a){window["j2s.script.debugging"]||window.setTimeout(b.generateRemovingFunction(a),1)};b.generatingXHROnload=function(a,c){return function(){b.xhrOnload(a,c);c=a=null}};b.generatingXHRCallback=function(a,c){return function(){if(4==a.readyState){0<b.inLoadingThreads&&b.inLoadingThreads--;var d=b.generatingXHROnload(a,c);isActiveX?(a.onreadystatechange=b.emptyOnRSC,window.setTimeout(d,0>b.loadingTimeLag?0:b.loadingTimeLag)):
(a.onreadystatechange=null,0<=b.loadingTimeLag?window.setTimeout(d,b.loadingTimeLag):b.xhrOnload(a,c));c=a=null}}};b.loadingNextByPath=function(a){0<=b.loadingTimeLag?window.setTimeout(function(){b.tryToLoadNext(a)},b.loadingTimeLag):b.tryToLoadNext(a)};b.ieToLoadScriptAgain=function(a,c){return window.setTimeout(function(){b.takeAnotherTry&&(b.failedScripts[a]=0,b.loadedScripts[a]=!1,0<b.inLoadingThreads&&b.inLoadingThreads--,b.loadScript(a,"ietoloadscriptAgain"))},c?500:15E3)};b.w3cFailedLoadingTest=
function(a){return window.setTimeout(function(){a.onerror();a=a.timeoutHandle=null},500)};b.generatingW3CScriptOnCallback=function(d,e){return function(){e&&a.__debuggingBH&&a.alert("############ forError="+e+" path="+d+" ####"+(e?"NOT":"")+"LOADED###");b.isGecko&&null!=this.timeoutHandle&&(window.clearTimeout(this.timeoutHandle),this.timeoutHandle=null);0<b.inLoadingThreads&&b.inLoadingThreads--;this.onerror=this.onload=null;if(e){var g=b.failedScripts;if(null==g[d]&&b.takeAnotherTry){g[d]=1;e||
(b.innerLoadedScripts[this.src]=!1);b.loadedScripts[d]=!1;b.loadScript(d,"w3c script failed");b.removeScriptNode(this);return}e&&b.scriptLoaded(d)}else b.scriptLoaded(d);b.loadingNextByPath(d);b.removeScriptNode(this)}};b.generatingIEScriptOnCallback=function(d){return function(){var e=b.failedHandles,g=b.failedScripts,f=""+this.readyState,h="loading"==f&&(0==this.src.indexOf("file:")||"file:"==window.location.protocol&&0!=this.src.indexOf("http"));if("loaded"!=f&&"complete"!=f){if(null==g[d]){e[d]=
b.ieToLoadScriptAgain(d,h);return}if(1==g[d])return}null!=e[d]&&(window.clearTimeout(e[d]),e[d]=null);if((h||"loaded"==f)&&!b.innerLoadedScripts[this.src]){if(!h&&(null==g[d]||0==g[d])&&b.takeAnotherTry){0<b.inLoadingThreads&&b.inLoadingThreads--;g[d]=1;b.loadedScripts[d]=!1;b.loadScript(d,"local or loaded failed");b.removeScriptNode(this);return}a.alert("[Java2Script] generatingIEScriptOnCallback Error in loading "+d+"!")}0<b.inLoadingThreads&&b.inLoadingThreads--;b.scriptLoaded(d);this.onreadystatechange=
null;b.loadingNextByPath(d);b.removeScriptNode(this)}};a.transport=null;b.loadScript=function(d,e,g){a.currentPath=d;g=!0==g;if(b.loadedScripts[d]&&!g)b.tryToLoadNext(d);else{b.loadedScripts[d]=!0;for(var f=b.classQueue,h=0;h<f.length;h++)if(f[h]==d){for(var j=h;j<f.length-1;j++)f[h]=f[h+1];f.length--;break}System.out.println("loading... "+d+(e?" -- required by "+e:""));if(b.isUsingXMLHttpRequest)if(b.scriptLoading(d),b.isAsynchronousLoading){if(!a.transport){if(window.XMLHttpRequest)a.transport=
new XMLHttpRequest;else try{a.transport=new ActiveXObject("Msxml2.XMLHTTP")}catch(m){a.transport=new ActiveXObject("Microsoft.XMLHTTP")}if(null==a.transport){a.alert("[Java2Script] XMLHttpRequest not supported!");return}}g=a.transport;try{g.open("GET",d,b.isAsynchronousLoading)}catch(p){alert(p+" "+d)}g.onreadystatechange=b.generatingXHRCallback(g,d);b.inLoadingThreads++;try{g.send(null)}catch(q){a.alert("[Java2Script] Loading file error: "+q.message),b.xhrOnload(g,d)}}else self.Jmol?g=Jmol._getFileData(d):
(e=jQuery.ajax({type:"GET",dataType:"text",async:!1,url:d,cached:!0}),g=e.responseText,null==g&&e.state&&(g="alert('error loading file "+d+" state="+e.state()+"')")),b.evaluate(d,g);else if(e=document.createElement("SCRIPT"),e.type="text/javascript",e.src=b.isChrome&&b.reloadingClasses[d]?d+"?"+Math.floor(1E5*Math.random()):d,f=document.getElementsByTagName("HEAD")[0],g)f.appendChild(e);else{e.defer=!0;if("undefined"==typeof e.onreadystatechange||!b.isIE){if(b.isGecko&&(0==d.indexOf("file:")||"file:"==
window.location.protocol&&0!=d.indexOf("http")))e.timeoutHandle=b.w3cFailedLoadingTest(e);e.onload=b.generatingW3CScriptOnCallback(d,!1);e.onerror=b.generatingW3CScriptOnCallback(d,!0);b.isOpera&&(b.needOnloadCheck=!0)}else b.needOnloadCheck=!0,e.onreadystatechange=b.generatingIEScriptOnCallback(d);b.inLoadingThreads++;f.appendChild(e);b.scriptLoading(d)}}};b.isResourceExisted=function(a,b,c){if(null!=a&&null!=document.getElementById(a))return!0;if(null!=b){var d=b;null!=c&&0==b.indexOf(c)&&(d=b.substring(c.length));
if(b.lastIndexOf(".css")==b.length-4){var e=document.getElementsByTagName("LINK");for(b=0;b<e.length;b++){var g=e[b].href;c=g.lastIndexOf(d);if(-1!=c&&c==g.length-d.length)return!0}if(!0==window["css."+a])return!0}else if(b.lastIndexOf(".js")==b.length-4){a=document.getElementsByTagName("SCRIPT");for(b=0;b<a.length;b++)if(e=a[b].src,c=e.lastIndexOf(d),-1!=c&&c==e.length-d.length)return!0}}return!1};b.queueBe4SWT=[];b.lockQueueBe4SWT=!0;b.isLoadingEntryClass=!0;b.besidesJavaPackage=!1;b.tryToLoadNext=
function(a){if(b.lockQueueBe4SWT&&0!=b.pkgRefCount&&a.lastIndexOf("package.js")!=a.length-10&&!b.isOpera){var c=b.queueBe4SWT;c[c.length]=a}else{var e=b.mapPath2ClassNode["@"+a];if(null!=e){var f=b.classpathMap["$"+a];if(null!=f)for(a=0;a<f.length;a++){var h=f[a];if(h!=e.name)if(c=b.findClass(h),null!=c)c.status<d.STATUS_CONTENT_LOADED&&(c.status=d.STATUS_CONTENT_LOADED,b.updateNode(c));else{c=new d;c.name=h;var j=b.classpathMap["#"+h];null==j&&(alert(h),error("Java2Script implementation error! Please report this bug!"));
c.path=j;b.mappingPathNameNode(c.path,h,c);c.status=d.STATUS_CONTENT_LOADED;b.addChildClassNode(b.clazzTreeRoot,c,-1);b.updateNode(c)}}if(e instanceof Array)for(a=0;a<e.length;a++)e[a].status<d.STATUS_CONTENT_LOADED&&(e[a].status=d.STATUS_CONTENT_LOADED,b.updateNode(e[a]));else if(e.status<d.STATUS_CONTENT_LOADED){c=!1;f=document.getElementsByTagName("SCRIPT");for(a=0;a<f.length;a++)if(b.isIE){if(null!=f[a].onreadystatechange&&f[a].onreadystatechange.path==e.path&&"interactive"==f[a].readyState){c=
!0;break}}else if(null!=f[a].onload&&f[a].onload.path==e.path){c=!0;break}c||(e.status=d.STATUS_CONTENT_LOADED,b.updateNode(e))}if(b.keepOnLoading){e=!1;c=b.findNextMustClass(b.clazzTreeRoot,d.STATUS_KNOWN);if(null!=c)for(b.loadClassNode(c);b.inLoadingThreads<b.maxLoadingThreads;){a=b.findNextMustClass(b.clazzTreeRoot,d.STATUS_KNOWN);if(null==a)break;b.loadClassNode(a)}else if(f=b.classQueue,0!=f.length){c=f[0];for(a=0;a<f.length-1;a++)f[a]=f[a+1];f.length--;!b.loadedScripts[c.path]||0!=f.length||
!b.isLoadingEntryClass||null!=c.musts&&0!=c.musts.length||null!=c.optionals&&0!=c.optionals.length?(b.addChildClassNode(b.clazzTreeRoot,c,1),b.loadScript(c.path,c.requiredBy)):b.isLoadingEntryClass&&(b.isLoadingEntryClass=!1)}else if(c=b.findNextOptionalClass(d.STATUS_KNOWN),null!=c)for(b.loadClassNode(c);b.inLoadingThreads<b.maxLoadingThreads;){a=b.findNextOptionalClass(d.STATUS_KNOWN);if(null==a)break;b.loadClassNode(a)}else e=!0;if(e&&0==b.inLoadingThreads){for(;null!=(c=b.findNextMustClass(b.clazzTreeRoot,
d.STATUS_CONTENT_LOADED));)b.updateNode(c);for(a=null;null!=(c=b.findNextOptionalClass(d.STATUS_CONTENT_LOADED));)a===c&&(c.status=d.STATUS_OPTIONALS_LOADED),b.updateNode(c),a=c;for(;!(b.tracks=[],!b.checkOptionalCycle(b.clazzTreeRoot)););for(a=null;null!=(c=b.findNextMustClass(b.clazzTreeRoot,d.STATUS_DECLARED))&&a!==c;)b.updateNode(c),a=c;for(a=null;null!=(c=b.findNextOptionalClass(d.STATUS_DECLARED))&&a!==c;)b.updateNode(c),a=c;for(e=[];null!=(c=b.findNextMustClass(b.clazzTreeRoot,d.STATUS_DECLARED));)e[e.length]=
c,c.status=d.STATUS_OPTIONALS_LOADED;for(;null!=(c=b.findNextOptionalClass(d.STATUS_DECLARED));)e[e.length]=c,c.status=d.STATUS_OPTIONALS_LOADED;for(a=0;a<e.length;a++)b.destroyClassNode(e[a]);for(a=0;a<e.length;a++)c=e[a].optionalsLoaded,null!=c&&(e[a].optionalsLoaded=null,c());b.globalLoaded()}}}}};b.tracks=[];b.checkOptionalCycle=function(a){for(var c=b.tracks,e=c.length,f=-1,h=0;h<c.length;h++)if(c[h]===a&&c[h].status>=d.STATUS_DECLARED){f=h;break}c[c.length]=a;if(-1!=f){for(h=f;h<c.length;h++){c[h].status=
d.STATUS_OPTIONALS_LOADED;b.destroyClassNode(c[h]);for(a=0;a<c[h].parents.length;a++)b.updateNode(c[h].parents[a]);c[h].parents=[];a=c[h].optionalsLoaded;null!=a&&(c[h].optionalsLoaded=null,a())}c.length=0;return!0}for(h=0;h<a.musts.length;h++)if(a.musts[h].status==d.STATUS_DECLARED&&b.checkOptionalCycle(a.musts[h]))return!0;for(h=0;h<a.optionals.length;h++)if(a.optionals[h].status==d.STATUS_DECLARED&&b.checkOptionalCycle(a.optionals[h]))return!0;c.length=e;return!1};b.updateNode=function(a){if(null==
a.name||a.status>=d.STATUS_OPTIONALS_LOADED)b.destroyClassNode(a);else{var c=!1;if(null==a.musts||0==a.musts.length||null==a.declaration)c=!0;else for(var c=!0,e=a.musts.length,f=e-1;0<=f;f--){var h=a.musts[f];h.requiredBy=a;if(h.status<d.STATUS_DECLARED){if(b.isClassDefined(h.name)){var j=[];h.status=d.STATUS_OPTIONALS_LOADED;b.destroyClassNode(h);if(null!=h.declaration&&null!=h.declaration.clazzList){for(var m=h.declaration.clazzList,p=0;p<m.length;p++){var q=b.findClass(m[p]);q.status!=d.STATUS_OPTIONALS_LOADED&&
q!==h&&(q.status=h.status,q.declaration=null,b.destroyClassNode(q),null!=q.optionalsLoaded&&(j[j.length]=q))}h.declaration=null}null!=h.optionalsLoaded&&(j[j.length]=h);for(p=0;p<j.length;p++)h=j[p].optionalsLoaded,null!=h&&(j[p].optionalsLoaded=null,h())}else h.status==d.STATUS_CONTENT_LOADED&&b.updateNode(h),h.status<d.STATUS_DECLARED&&(c=!1);a.musts.length!=e&&(f=e=a.musts.length,c=!0)}}if(c){if(a.status<d.STATUS_DECLARED&&(f=a.declaration,null!=f&&(!1==f.executed?(f(),f.executed=!0):f()),a.status=
d.STATUS_DECLARED,null!=b.definedClasses&&(b.definedClasses[a.name]=!0),b.scriptInited(a.path),null!=a.declaration&&null!=a.declaration.clazzList)){m=a.declaration.clazzList;for(p=0;p<m.length;p++)q=b.findClass(m[p]),q.status!=d.STATUS_DECLARED&&q!==a&&(q.status=d.STATUS_DECLARED,null!=b.definedClasses&&(b.definedClasses[q.name]=!0),b.scriptInited(q.path))}c=d.STATUS_DECLARED;m=!1;if((null==a.optionals||0==a.optionals.length)&&(null==a.musts||0==a.musts.length)||a.status>d.STATUS_KNOWN&&null==a.declaration)m=
!0;else{m=!0;for(f=0;f<a.musts.length;f++)if(h=a.musts[f],h.status<d.STATUS_OPTIONALS_LOADED){m=!1;break}if(m)for(f=0;f<a.optionals.length;f++)if(h=a.optionals[f],h.status<d.STATUS_OPTIONALS_LOADED){m=!1;break}}if(m){c=d.STATUS_OPTIONALS_LOADED;a.status=c;b.scriptCompleted(a.path);h=a.optionalsLoaded;if(null!=h&&(a.optionalsLoaded=null,h(),!b.keepOnLoading))return!1;b.destroyClassNode(a);if(null!=a.declaration&&null!=a.declaration.clazzList){m=a.declaration.clazzList;for(p=0;p<m.length;p++)if(q=b.findClass(m[p]),
q.status!=c&&q!==a){q.status=c;q.declaration=null;b.scriptCompleted(q.path);h=q.optionalsLoaded;if(null!=h&&(q.optionalsLoaded=null,h(),!b.keepOnLoading))return!1;b.destroyClassNode(a)}}}b.updateParents(a,c)}}};b.updateParents=function(a,c){if(!(null==a.parents||0==a.parents.length)){for(var e=0;e<a.parents.length;e++){var f=a.parents[e];f.status>=c||b.updateNode(f)}c==d.STATUS_OPTIONALS_LOADED&&(a.parents=[])}};b.findNextMustClass=function(a,c){if(null!=a){if(null!=a.musts&&0!=a.musts.length)for(var e=
0;e<a.musts.length;e++){var f=a.musts[e];if(f.status==c&&(c!=d.STATUS_KNOWN||!0!=b.loadedScripts[f.path])&&(c==d.STATUS_DECLARED||!b.isClassDefined(f.name)))return f;f=b.findNextMustClass(f,c);if(null!=f)return f}if(a.status==c&&(c!=d.STATUS_KNOWN||!0!=b.loadedScripts[a.path])&&(c==d.STATUS_DECLARED||!b.isClassDefined(a.name)))return a}return null};b.usedRandoms={};b.usedRandoms["r0.13412"]=0.13412;b.findNextOptionalClass=function(a){for(var c=0;;){var c=Math.random(),d="r"+c;if(b.usedRandoms[d]!=
c){b.usedRandoms[d]=c;break}}b.clazzTreeRoot.random=c;return b.findNodeNextOptionalClass(b.clazzTreeRoot,a)};b.findNodeNextOptionalClass=function(a,c){var e=b.clazzTreeRoot.random;if(null!=a.musts&&0!=a.musts.length){var f=b.searchClassArray(a.musts,e,c);if(null!=f&&(c!=d.STATUS_KNOWN||!0!=b.loadedScripts[f.path])&&(c==d.STATUS_DECLARED||!b.isClassDefined(f.name)))return f}return null!=a.optionals&&0!=a.optionals.length&&(f=b.searchClassArray(a.optionals,e,c),null!=f&&(c!=d.STATUS_KNOWN||!0!=b.loadedScripts[f.path])&&
(c==d.STATUS_DECLARED||!b.isClassDefined(f.name)))?f:a.status==c&&(c!=d.STATUS_KNOWN||!0!=b.loadedScripts[a.path])&&(c==d.STATUS_DECLARED||!b.isClassDefined(a.name))?a:null};b.searchClassArray=function(a,c,e){for(var f=0;f<a.length;f++){var h=a[f];if(h.status==e&&(e!=d.STATUS_KNOWN||!0!=b.loadedScripts[h.path])&&(e==d.STATUS_DECLARED||!b.isClassDefined(h.name))||h.random!=c&&(h.random=c,h=b.findNodeNextOptionalClass(h,e),null!=h))return h}return null};b.innerLoadedScripts={};b.interactiveScript=null;
b.needOnloadCheck=!1;b.checkInteractive=function(){if(b.needOnloadCheck){var a=b.interactiveScript;if(!(null!=a&&"interactive"==a.readyState)){b.interactiveScript=null;for(var a=document.getElementsByTagName("SCRIPT"),c=0;c<a.length;c++)"interactive"==a[c].readyState&&null!=a[c].onreadystatechange?(b.interactiveScript=a[c],b.innerLoadedScripts[a[c].src]=!0):b.isOpera&&"loaded"==a[c].readyState&&(null!=a[c].src&&0!=a[c].src.length)&&(b.innerLoadedScripts[a[c].src]=!0)}}};b.load=function(a,c,e,f){b.checkInteractive();
if(c instanceof Array){b.unwrapArray(c);for(var h=0;h<c.length;h++)b.load(a,c[h],e,f,c)}else{"$"==c.charAt(0)&&(c="org.eclipse.s"+c.substring(1));var j=b.mapPath2ClassNode["#"+c];if(null==j){var m=b.findClass(c),j=null!=m?m:new d;j.name=c;h=b.classpathMap["#"+c];null==h&&(h="unknown");j.path=h;b.mappingPathNameNode(j.path,c,j);j.status=d.STATUS_KNOWN;b.addChildClassNode(b.clazzTreeRoot,j,-1)}if(null!=a&&0!=a.length){b.unwrapArray(a);for(h=0;h<a.length;h++)if(m=a[h],!(null==m||0==m.length)&&!b.isClassDefined(m)&&
!b.isClassExcluded(m))m=b.findClass(m),null==m&&(m=new d,m.name=a[h],m.status=d.STATUS_KNOWN),m.requiredBy=j,b.addChildClassNode(j,m,1)}5==arguments.length&&null!=f&&(f.status=j.status,f.clazzList=arguments[4]);j.declaration=f;null!=f&&(j.status=d.STATUS_CONTENT_LOADED);if(null!=e&&0!=e.length){b.unwrapArray(e);for(h=0;h<e.length;h++)if(m=e[h],!(null==m||0==m.length)&&!b.isClassDefined(m)&&!b.isClassExcluded(m))m=b.findClass(m),null==m&&(m=new d,m.name=e[h],m.status=d.STATUS_KNOWN),b.addChildClassNode(j,
m,-1)}}};null!=window.Clazz&&(a.load=b.load);b.findClass=function(a){for(var c=0;;){var c=Math.random(),d="r"+c;if(b.usedRandoms[d]!=c){b.usedRandoms[d]=c;break}}b.clazzTreeRoot.random=c;return b.findClassUnderNode(a,b.clazzTreeRoot)};b.findClassUnderNode=function(a,c){var d=b.clazzTreeRoot.random;if(c.name==a)return c;for(var e=0;e<c.musts.length;e++){var f=c.musts[e];if(f.name==a||f.random!=d&&(f.random=d,f=b.findClassUnderNode(a,f),null!=f))return f}for(e=0;e<c.optionals.length;e++)if(f=c.optionals[e],
f.name==a||f.random!=d&&(f.random=d,f=b.findClassUnderNode(a,f),null!=f))return f;return null};b.mappingPathNameNode=function(a,c,d){var e=b.mapPath2ClassNode,f="@"+a;a=e[f];if(null!=a)if(a instanceof Array){for(var f=!1,g=0;g<a.length;g++)if(a[g].name==c){f=!0;break}f||(a[a.length]=d)}else g=[],g[0]=a,g[1]=d,e[f]=g;else e[f]=d;e["#"+c]=d};b.loadClassNode=function(a){var c=a.name;if(!b.isClassDefined(c)&&!b.isClassExcluded(c)){var d=b.getClasspathFor(c);a.path=d;b.mappingPathNameNode(d,c,a);if(!b.loadedScripts[d])return b.loadScript(d,
a.requiredBy),!0}return!1};b.runtimeKeyClass="java.lang.String";b.queueBe4KeyClazz=[];b.getJ2SLibBase=function(){var a=window["j2s.lib"];if(null!=a)return null==a.base&&(a.base="http://archive.java2script.org/"),a.base+("."==a.alias?"":(a.alias?a.alias:a.version?a.version:"1.0.0")+"/");for(var a=document.getElementsByTagName("SCRIPT"),c=0;c<a.length;c++){var d=a[c].src,e=d.indexOf("j2slib.z.js");if(-1!=e)return d.substring(0,e);e=d.indexOf("j2slibcore.z.js");if(-1!=e)return d.substring(0,e);e=b.classpathMap["@java"];
if(null!=e)return e;e=d.indexOf("java/lang/ClassLoader.js");if(-1!=e)return d.substring(0,e)}return null};b.J2SLibBase=null;b.fastGetJ2SLibBase=function(){null==b.J2SLibBase&&(b.J2SLibBase=b.getJ2SLibBase());return b.J2SLibBase};b.assurePackageClasspath=function(a){var c=window[a+".registered"];!1!=c&&(!0!=c&&null==b.classpathMap["@"+a])&&(window[a+".registered"]=!1,c=b.fastGetJ2SLibBase(),null==c&&(c="j2s"),b.packageClasspath(a,c,!0))};b.loadClass=function(e,f,h,j){if("boolean"==typeof f)return a.evalType(e);
b.assurePackageClasspath("java");b.assurePackageClasspath("core");(0==e.indexOf("org.eclipse.swt")||0==e.indexOf("$wt"))&&b.assurePackageClasspath("org.eclipse.swt");0==e.indexOf("junit")&&b.assurePackageClasspath("junit");b.keepOnLoading=!0;if(!h&&(0!=b.pkgRefCount&&e.lastIndexOf(".package")!=e.length-8||!b.isClassDefined(b.runtimeKeyClass)&&0!=e.indexOf("java.")))j=b.queueBe4KeyClazz,j[j.length]=[e,f];else if(!b.isClassDefined(e)&&!b.isClassExcluded(e)){var m=b.getClasspathFor(e),p=b.loadedScripts[m];
j=b.classQueue;if(!p)for(h=j.length-1;0<=h;h--)if(j[h].path==m||j[h].name==e)p=!0;if(p){if(null!=f&&(p=b.findClass(e),null!=p))if(null==p.optionalsLoaded)p.optionalsLoaded=f;else if(f!=p.optionalsLoaded){var q=p.optionalsLoaded;p.optionalsLoaded=function(){q();f()}}}else{p=null;null!=a.unloadedClasses[e]&&(p=b.findClass(e));null==p&&(p=new d);p.name=e;p.path=m;b.mappingPathNameNode(m,e,p);p.optionalsLoaded=f;p.status=d.STATUS_KNOWN;var t=!1;for(h=j.length-1;0<=h;h--)if(j[h].status!=d.STATUS_OPTIONALS_LOADED){t=
!0;break}if(m.lastIndexOf("package.js")==m.length-10){m=!1;for(h=j.length-1;0<=h;h--){e=j[h].name;if(e.lastIndexOf("package.js")==e.length-10){j[h+1]=p;m=!0;break}j[h+1]=j[h]}m||(j[0]=p)}else t&&(j[j.length]=p);t||(e=!1,null!=f&&(e=b.isLoadingEntryClass,b.isLoadingEntryClass=!0),b.addChildClassNode(b.clazzTreeRoot,p,1),b.loadScript(p.path),null!=f&&(b.isLoadingEntryClass=e))}}else if(null!=f&&b.isClassDefined(e)&&(e=b.findClass(e),null==e||e.status>=d.STATUS_OPTIONALS_LOADED))j?window.setTimeout(f,
25):f()};b.loadJ2SApp=function(d,e,f){if(null!=d){var g=d;"$"==d.charAt(0)&&(g="org.eclipse.s"+d.substring(1));var h=-1;if(-1!=(h=g.indexOf("@")))d=g.substring(h+1),b.setPrimaryFolder(d),g=g.substring(0,h),h=g.lastIndexOf("."),-1!=h&&(h=g.substring(0,h),b.packageClasspath(h,d));if(null==e||!(e instanceof Array))e=[];if(null==f){var j=g,m=e;f=function(){a.evalType(j).main(m)}}else f=f(g,e);b.loadClass(g,f)}};b.loadJUnit=function(d,e){b.loadJ2SApp(d,e,function(d){return function(){b.loadClass("junit.textui.TestRunner",
function(){junit.textui.TestRunner.run(a.evalType(d))})}})};b.runtimeLoaded=function(){if(0==b.pkgRefCount&&b.isClassDefined(b.runtimeKeyClass)){for(var a=b.queueBe4KeyClazz,c=0;c<a.length;c++)b.loadClass(a[c][0],a[c][1]);b.queueBe4KeyClazz=[]}};b.loadZJar=function(a,c){var d=c,e=c instanceof Array;e&&(d=c[c.length-1]);b.jarClasspath(a,e?c:[c]);c==b.runtimeKeyClass?b.loadClass(d,b.runtimeLoaded,!0):b.loadClass(d,null,!0)};b._nodeMap={};b._allNodes=[];b.addChildClassNode=function(a,c,d){var e=!1,f=
null;1==d?(f=a.musts,c.requiredBy||(c.requiredBy=a),a.requires||(a.requires=[],a.requiresMap={}),a.requiresMap[c.name]||(a.requiresMap[c.name]=c,a.requires.push[c])):f=a.optionals;b._nodeMap[c.name]||(b._allNodes.push(c),b._nodeMap[c.name]=c);for(d=0;d<f.length;d++)if(f[d].name==c.name){e=!0;break}if(!e){f[f.length]=c;if(0==c.name.indexOf("org.eclipse.swt")||0==c.name.indexOf("$wt"))window["swt.lazy.loading.callback"]=b.swtLazyLoading,b.assurePackageClasspath("org.eclipse.swt");b.isLoadingEntryClass&&
(0!=c.name.indexOf("java")&&0!=c.name.indexOf("net.sf.j2s.ajax"))&&(b.besidesJavaPackage&&(b.isLoadingEntryClass=!1),b.besidesJavaPackage=!0)}e=!1;for(d=0;d<c.parents.length;d++)if(c.parents[d].name==a.name){e=!0;break}!e&&(null!=a.name&&a!=b.clazzTreeRoot&&a!=c)&&(c.parents[c.parents.length]=a)};b.swtLazyLoading=function(){b.lockQueueBe4SWT=!1;for(var a=b.queueBe4SWT,c=0;c<a.length;c++)b.tryToLoadNext(a[c]);b.queueBe4SWT=[]};b.removeFromArray=function(a,b){if(null==b||null==a)return!1;for(var c=
0,d=0;d<b.length;d++)b[d]!==a&&(c<d&&(b[c]=b[d]),c++);b.length=c;return!1};b.destroyClassNode=function(a){var c=a.parents;if(null!=c)for(var d=0;d<c.length;d++)b.removeFromArray(a,c[d].musts)||b.removeFromArray(a,c[d].optionals)};b.unloadClassExt=function(a){null!=b.definedClasses&&(b.definedClasses[a]=!1);if(null!=b.classpathMap["#"+a]){var c=b.classpathMap["#"+a];b.classpathMap["#"+a]=null;for(var e=b.classpathMap["$"+c],f=!1,h=0;h<e.length;h++)if(e[h]==a){for(f=h;f<e.length-1;f++)e[f]=e[f+1];e.length--;
f=!0;break}f&&(b.classpathMap["$"+c]=e)}c=b.findClass(a);null!=c&&(c.status=d.STATUS_KNOWN,b.loadedScripts[c.path]=!1);c=b.getClasspathFor(a);b.loadedScripts[c]=!1;b.innerLoadedScripts[c]&&(b.innerLoadedScripts[c]=!1);b.classUnloaded(a)};b.assureInnerClass=function(b,d){var e=b.__CLASS_NAME__;if(a.unloadedClasses[e]&&-1==e.indexOf("$")){var f=[],e=e+"$",g;for(g in a.unloadedClasses)null!=a.unloadedClasses[g]&&0==g.indexOf(e)&&(f[f.length]=g);if(0!=f.length&&(f=""+d,g=f.indexOf(e),-1!=g)){var h=f.indexOf('"',
g+e.length);-1!=h&&(e=f.substring(g,h),null!=a.unloadedClasses[e]&&(g=f.indexOf("{",h),-1!=g&&(g++,h=f.indexOf("("+e+",",g+3),-1!=h&&(h=f.lastIndexOf("}",h-1),-1!=h&&(f=f.substring(g,h),eval(f),a.unloadedClasses[e]=null)))))}}}})(a,a._Loader,a._Node);a._LoaderProgressMonitor=function(){};var d=a._LoaderProgressMonitor;d.fadeOutTimer=null;d.fadeAlpha=0;d.monitorEl=null;d.lastScrollTop=0;d.bindingParent=null;d.DEFAULT_OPACITY=self.Jmol&&Jmol._j2sLoadMonitorOpacity?Jmol._j2sLoadMonitorOpacity:55;d.clearChildren=
function(a){if(null!=a)for(var b=a.childNodes.length-1;0<=b;b--){var d=a.childNodes[b];if(null!=d){null!=d.childNodes&&0!=d.childNodes.length&&this.clearChildren(d);try{a.removeChild(d)}catch(e){}}}};d.setAlpha=function(a){null!=this.fadeOutTimer&&a==this.DEFAULT_OPACITY&&(window.clearTimeout(this.fadeOutTimer),this.fadeOutTimer=null);this.fadeAlpha=a;navigator.userAgent.toLowerCase();this.monitorEl.style.filter="Alpha(Opacity="+a+")";this.monitorEl.style.opacity=a/100};d.hiddingOnMouseOver=function(){this.style.display=
"none"};d.attached=!1;d.cleanup=function(){d.monitorEl=null;d.bindingParent=null;d.attached=!1};d.createHandle=function(){var a=document.createElement("DIV");a.id="clazzloader-status";a.style.cssText="position:absolute;bottom:4px;left:4px;padding:2px 8px;z-index:"+(window["j2s.lib"].monitorZIndex||1E4)+";background-color:#8e0000;color:yellow;font-family:Arial, sans-serif;font-size:10pt;white-space:nowrap;";a.onmouseover=this.hiddingOnMouseOver;this.monitorEl=a;null==this.bindingParent?document.body.appendChild(a):
this.bindingParent.appendChild(a);return a};d.fadeOut=function(){"none"!=this.monitorEl.style.display&&(this.fadeAlpha==this.DEFAULT_OPACITY?(this.fadeOutTimer=window.setTimeout(function(){d.fadeOut()},750),this.fadeAlpha-=5):0<=this.fadeAlpha-10?(this.setAlpha(this.fadeAlpha-10),this.fadeOutTimer=window.setTimeout(function(){d.fadeOut()},40)):this.monitorEl.style.display="none")};d.getFixedOffsetTop=function(){if(null!=this.bindingParent){var a=this.bindingParent;return a.scrollTop}var b=navigator.userAgent,
a=document.body,d=a.parentNode,e=d.clientHeight,a=a.scrollTop+a.offsetTop,f=d.scrollTop+d.offsetTop;return-1==b.indexOf("Opera")&&document.all?0==e?a:f:-1!=b.indexOf("Gecko")?e==d.offsetHeight&&e==d.scrollHeight?a:f:a};d.showStatus=function(a,b){null==this.monitorEl&&(this.createHandle(),this.attached||(this.attached=!0));this.clearChildren(this.monitorEl);this.monitorEl.appendChild(document.createTextNode(""+a));"none"==this.monitorEl.style.display&&(this.monitorEl.style.display="");this.setAlpha(this.DEFAULT_OPACITY);
var d=this.getFixedOffsetTop();this.lastScrollTop!=d&&(this.lastScrollTop=d,this.monitorEl.style.bottom=this.lastScrollTop+4+"px");b&&this.fadeOut()};null!=window.ClazzLoader&&(ClazzLoader.scriptLoading=function(a){d.showStatus("Loading "+a+"...")},ClazzLoader.scriptLoaded=function(a){d.showStatus(a+" loaded.",!0)},ClazzLoader.globalLoaded=function(){d.showStatus("Application loaded.",!0)},ClazzLoader.classUnloaded=function(a){d.showStatus("Class "+a+" is unloaded.",!0)},ClazzLoader.classReloaded=
function(a){d.showStatus("Class "+a+" is reloaded.",!0)},h=navigator.userAgent.toLowerCase(),-1!=h.indexOf("msie")&&-1==h.indexOf("opera")&&ClazzLoader.setLoadingMode("script",5));var j=a.Console;j.maxTotalLines=1E4;j.setMaxTotalLines=function(a){j.maxTotalLines=0>=a?999999:a};j.maxLatency=40;j.setMaxLatency=function(a){j.maxLatency=0>=a?40:a};j.pinning=!1;j.enablePinning=function(a){j.pinning=a};j.linesCount=0;j.metLineBreak=!1;j.splitNeedFixed=2!="\n".split(/\n/).length;j.splitIntoLineByR=function(a){for(var b=
[],d=0,e=-1;;)if(d=a.indexOf("\r",e+1),-1!=d){if(b[b.length]=a.substring(e+1,d),e=d,e+1==a.length){b[b.length]="";break}}else{b[b.length]=a.substring(e+1);break}return b};j.splitIntoLines=function(a){var b=[];if(null==a)return b;for(var d=0,e=-1;;){var d=a.indexOf("\n",e+1),f=null;-1!=d?(f=0<d&&"\r"==a.charAt(d-1)?a.substring(e+1,d-1):a.substring(e+1,d),e=d):f=a.substring(e+1);for(var f=j.splitIntoLineByR(f),h=0;h<f.length;h++)b[b.length]=f[h];if(-1==d)break;else if(e+1==a.length){b[b.length]="";
break}}return b};j.createConsoleWindow=function(){var a=document.createElement("DIV");a.style.cssText="font-family:monospace, Arial, sans-serif;";document.body.appendChild(a);return a};j.consoleOutput=function(a,b){var d=window["j2s.lib"];(d=d&&d.console)&&"string"==typeof d&&(d=document.getElementById(d));if(!d)return!1;if(j.linesCount>j.maxTotalLines){for(var e=0;e<j.linesCount-j.maxTotalLines;e++)null!=d&&0<d.childNodes.length&&d.removeChild(d.childNodes[0]);j.linesCount=j.maxTotalLines}var f=
!1;a="undefined"==typeof a?"":null==a?"null":""+a;0<a.length&&(e=a.charAt(a.length-1),"\n"==e?(a=1<a.length?"\r"==a.charAt(a.length-2)?a.substring(0,a.length-2):a.substring(0,a.length-1):"",f=!0):"\r"==e&&(a=a.substring(0,a.length-1),f=!0));var h=null;a=a.replace(/\t/g,j.c160);if(j.splitNeedFixed)try{h=j.splitIntoLines(a)}catch(k){window.popup(k.message)}else h=a.split(/\r\n|\r|\n/g);for(e=0;e<h.length;e++){var l=null;if(j.metLineBreak||0==j.linesCount||1>d.childNodes.length)l=document.createElement("DIV"),
d.appendChild(l),l.style.whiteSpace="nowrap",j.linesCount++;else try{l=d.childNodes[d.childNodes.length-1]}catch(v){l=document.createElement("DIV"),d.appendChild(l),l.style.whiteSpace="nowrap",j.linesCount++}var r=document.createElement("SPAN");l.appendChild(r);r.style.whiteSpace="nowrap";null!=b&&(r.style.color=b);0==h[e].length&&(h[e]=String.fromCharCode(160));r.appendChild(document.createTextNode(h[e]));j.pinning||(d.scrollTop+=100);j.metLineBreak=e!=h.length-1?!0:f}f=d.parentNode.className;!j.pinning&&
(null!=f&&-1!=f.indexOf("composite"))&&(d.parentNode.scrollTop=d.parentNode.scrollHeight);j.lastOutputTime=(new Date).getTime()};j.clear=function(){try{j.metLineBreak=!0;var a=window["j2s.lib"],b=a&&a.console;if(b&&(b=document.getElementById(b))){for(var d=b.childNodes,e=d.length-1;0<=e;e--)b.removeChild(d[e]);j.linesCount=0}}catch(f){}};a.alert=function(a){j.consoleOutput(a+"\r\n")};j.c160=String.fromCharCode(160);j.c160+=j.c160+j.c160+j.c160;System.out.print=function(a){j.consoleOutput(a)};System.out.println=
function(a){j.consoleOutput("undefined"==typeof a?"\r\n":null==a?"null\r\n":a+"\r\n")};System.err.__CLASS_NAME__="java.io.PrintStream";System.err.print=function(a){j.consoleOutput(a,"red")};System.err.println=function(a){j.consoleOutput("undefined"==typeof a?"\r\n":null==a?"null\r\n":a+"\r\n","red")};a.setConsoleDiv=function(a){window["j2s.lib"]&&(window["j2s.lib"].console=a)};a.binaryFolders=a._Loader.binaryFolders=[a._Loader.getJ2SLibBase()]}(Clazz))};
